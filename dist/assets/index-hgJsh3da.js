function m2(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var BC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function aw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var v2={exports:{}},Nh={},y2={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zc=Symbol.for("react.element"),ow=Symbol.for("react.portal"),lw=Symbol.for("react.fragment"),cw=Symbol.for("react.strict_mode"),uw=Symbol.for("react.profiler"),dw=Symbol.for("react.provider"),hw=Symbol.for("react.context"),fw=Symbol.for("react.forward_ref"),pw=Symbol.for("react.suspense"),mw=Symbol.for("react.memo"),gw=Symbol.for("react.lazy"),z0=Symbol.iterator;function vw(e){return e===null||typeof e!="object"?null:(e=z0&&e[z0]||e["@@iterator"],typeof e=="function"?e:null)}var b2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_2=Object.assign,w2={};function ml(e,t,r){this.props=e,this.context=t,this.refs=w2,this.updater=r||b2}ml.prototype.isReactComponent={};ml.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ml.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function x2(){}x2.prototype=ml.prototype;function rg(e,t,r){this.props=e,this.context=t,this.refs=w2,this.updater=r||b2}var ng=rg.prototype=new x2;ng.constructor=rg;_2(ng,ml.prototype);ng.isPureReactComponent=!0;var $0=Array.isArray,N2=Object.prototype.hasOwnProperty,sg={current:null},S2={key:!0,ref:!0,__self:!0,__source:!0};function j2(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)N2.call(t,n)&&!S2.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Zc,type:e,key:i,ref:a,props:s,_owner:sg.current}}function yw(e,t){return{$$typeof:Zc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ig(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zc}function bw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var V0=/\/+/g;function If(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bw(""+e.key):t.toString(36)}function Ad(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Zc:case ow:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+If(a,0):n,$0(s)?(r="",e!=null&&(r=e.replace(V0,"$&/")+"/"),Ad(s,t,r,"",function(d){return d})):s!=null&&(ig(s)&&(s=yw(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(V0,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",$0(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+If(i,l);a+=Ad(i,t,r,c,s)}else if(c=vw(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+If(i,l++),a+=Ad(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Hu(e,t,r){if(e==null)return e;var n=[],s=0;return Ad(e,n,"","",function(i){return t.call(r,i,s++)}),n}function _w(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cn={current:null},Ed={transition:null},ww={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:Ed,ReactCurrentOwner:sg};function C2(){throw Error("act(...) is not supported in production builds of React.")}Mt.Children={map:Hu,forEach:function(e,t,r){Hu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Hu(e,function(){t++}),t},toArray:function(e){return Hu(e,function(t){return t})||[]},only:function(e){if(!ig(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Mt.Component=ml;Mt.Fragment=lw;Mt.Profiler=uw;Mt.PureComponent=rg;Mt.StrictMode=cw;Mt.Suspense=pw;Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ww;Mt.act=C2;Mt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=_2({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=sg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N2.call(t,c)&&!S2.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Zc,type:e.type,key:s,ref:i,props:n,_owner:a}};Mt.createContext=function(e){return e={$$typeof:hw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dw,_context:e},e.Consumer=e};Mt.createElement=j2;Mt.createFactory=function(e){var t=j2.bind(null,e);return t.type=e,t};Mt.createRef=function(){return{current:null}};Mt.forwardRef=function(e){return{$$typeof:fw,render:e}};Mt.isValidElement=ig;Mt.lazy=function(e){return{$$typeof:gw,_payload:{_status:-1,_result:e},_init:_w}};Mt.memo=function(e,t){return{$$typeof:mw,type:e,compare:t===void 0?null:t}};Mt.startTransition=function(e){var t=Ed.transition;Ed.transition={};try{e()}finally{Ed.transition=t}};Mt.unstable_act=C2;Mt.useCallback=function(e,t){return Cn.current.useCallback(e,t)};Mt.useContext=function(e){return Cn.current.useContext(e)};Mt.useDebugValue=function(){};Mt.useDeferredValue=function(e){return Cn.current.useDeferredValue(e)};Mt.useEffect=function(e,t){return Cn.current.useEffect(e,t)};Mt.useId=function(){return Cn.current.useId()};Mt.useImperativeHandle=function(e,t,r){return Cn.current.useImperativeHandle(e,t,r)};Mt.useInsertionEffect=function(e,t){return Cn.current.useInsertionEffect(e,t)};Mt.useLayoutEffect=function(e,t){return Cn.current.useLayoutEffect(e,t)};Mt.useMemo=function(e,t){return Cn.current.useMemo(e,t)};Mt.useReducer=function(e,t,r){return Cn.current.useReducer(e,t,r)};Mt.useRef=function(e){return Cn.current.useRef(e)};Mt.useState=function(e){return Cn.current.useState(e)};Mt.useSyncExternalStore=function(e,t,r){return Cn.current.useSyncExternalStore(e,t,r)};Mt.useTransition=function(){return Cn.current.useTransition()};Mt.version="18.3.1";y2.exports=Mt;var H=y2.exports;const k2=g2(H),xw=m2({__proto__:null,default:k2},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw=H,Sw=Symbol.for("react.element"),jw=Symbol.for("react.fragment"),Cw=Object.prototype.hasOwnProperty,kw=Nw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Aw={key:!0,ref:!0,__self:!0,__source:!0};function A2(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Cw.call(t,n)&&!Aw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Sw,type:e,key:i,ref:a,props:s,_owner:kw.current}}Nh.Fragment=jw;Nh.jsx=A2;Nh.jsxs=A2;v2.exports=Nh;var o=v2.exports,Lp={},E2={exports:{}},Zn={},P2={exports:{}},L2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,Q){var Z=T.length;T.push(Q);e:for(;0<Z;){var Ne=Z-1>>>1,j=T[Ne];if(0<s(j,Q))T[Ne]=Q,T[Z]=j,Z=Ne;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var Q=T[0],Z=T.pop();if(Z!==Q){T[0]=Z;e:for(var Ne=0,j=T.length,B=j>>>1;Ne<B;){var G=2*(Ne+1)-1,ee=T[G],ae=G+1,ce=T[ae];if(0>s(ee,Z))ae<j&&0>s(ce,ee)?(T[Ne]=ce,T[ae]=Z,Ne=ae):(T[Ne]=ee,T[G]=Z,Ne=G);else if(ae<j&&0>s(ce,Z))T[Ne]=ce,T[ae]=Z,Ne=ae;else break e}}return Q}function s(T,Q){var Z=T.sortIndex-Q.sortIndex;return Z!==0?Z:T.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],d=[],f=1,g=null,y=3,p=!1,x=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(T){for(var Q=r(d);Q!==null;){if(Q.callback===null)n(d);else if(Q.startTime<=T)n(d),Q.sortIndex=Q.expirationTime,t(c,Q);else break;Q=r(d)}}function R(T){if(N=!1,S(T),!x)if(r(c)!==null)x=!0,$(F);else{var Q=r(d);Q!==null&&de(R,Q.startTime-T)}}function F(T,Q){x=!1,N&&(N=!1,_(U),U=-1),p=!0;var Z=y;try{for(S(Q),g=r(c);g!==null&&(!(g.expirationTime>Q)||T&&!L());){var Ne=g.callback;if(typeof Ne=="function"){g.callback=null,y=g.priorityLevel;var j=Ne(g.expirationTime<=Q);Q=e.unstable_now(),typeof j=="function"?g.callback=j:g===r(c)&&n(c),S(Q)}else n(c);g=r(c)}if(g!==null)var B=!0;else{var G=r(d);G!==null&&de(R,G.startTime-Q),B=!1}return B}finally{g=null,y=Z,p=!1}}var te=!1,z=null,U=-1,I=5,se=-1;function L(){return!(e.unstable_now()-se<I)}function M(){if(z!==null){var T=e.unstable_now();se=T;var Q=!0;try{Q=z(!0,T)}finally{Q?K():(te=!1,z=null)}}else te=!1}var K;if(typeof b=="function")K=function(){b(M)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,he=q.port2;q.port1.onmessage=M,K=function(){he.postMessage(null)}}else K=function(){C(M,0)};function $(T){z=T,te||(te=!0,K())}function de(T,Q){U=C(function(){T(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,$(F))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(y){case 1:case 2:case 3:var Q=3;break;default:Q=y}var Z=y;y=Q;try{return T()}finally{y=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,Q){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var Z=y;y=T;try{return Q()}finally{y=Z}},e.unstable_scheduleCallback=function(T,Q,Z){var Ne=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Ne+Z:Ne):Z=Ne,T){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Z+j,T={id:f++,callback:Q,priorityLevel:T,startTime:Z,expirationTime:j,sortIndex:-1},Z>Ne?(T.sortIndex=Z,t(d,T),r(c)===null&&T===r(d)&&(N?(_(U),U=-1):N=!0,de(R,Z-Ne))):(T.sortIndex=j,t(c,T),x||p||(x=!0,$(F))),T},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(T){var Q=y;return function(){var Z=y;y=Q;try{return T.apply(this,arguments)}finally{y=Z}}}})(L2);P2.exports=L2;var Ew=P2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw=H,Qn=Ew;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T2=new Set,Ac={};function Xa(e,t){al(e,t),al(e+"Capture",t)}function al(e,t){for(Ac[e]=t,e=0;e<t.length;e++)T2.add(t[e])}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tp=Object.prototype.hasOwnProperty,Lw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G0={},W0={};function Tw(e){return Tp.call(W0,e)?!0:Tp.call(G0,e)?!1:Lw.test(e)?W0[e]=!0:(G0[e]=!0,!1)}function Iw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ow(e,t,r,n){if(t===null||typeof t>"u"||Iw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kn(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ln[e]=new kn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ln[t]=new kn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ln[e]=new kn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ln[e]=new kn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ln[e]=new kn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ln[e]=new kn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ln[e]=new kn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ln[e]=new kn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ln[e]=new kn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ag=/[\-:]([a-z])/g;function og(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ag,og);ln[t]=new kn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ag,og);ln[t]=new kn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ag,og);ln[t]=new kn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ln[e]=new kn(e,1,!1,e.toLowerCase(),null,!1,!1)});ln.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ln[e]=new kn(e,1,!1,e.toLowerCase(),null,!0,!0)});function lg(e,t,r,n){var s=ln.hasOwnProperty(t)?ln[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ow(t,r,s,n)&&(r=null),n||s===null?Tw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var bi=Pw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yu=Symbol.for("react.element"),Fo=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),cg=Symbol.for("react.strict_mode"),Ip=Symbol.for("react.profiler"),I2=Symbol.for("react.provider"),O2=Symbol.for("react.context"),ug=Symbol.for("react.forward_ref"),Op=Symbol.for("react.suspense"),Rp=Symbol.for("react.suspense_list"),dg=Symbol.for("react.memo"),zi=Symbol.for("react.lazy"),R2=Symbol.for("react.offscreen"),H0=Symbol.iterator;function tc(e){return e===null||typeof e!="object"?null:(e=H0&&e[H0]||e["@@iterator"],typeof e=="function"?e:null)}var vr=Object.assign,Of;function dc(e){if(Of===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Of=t&&t[1]||""}return`
`+Of+e}var Rf=!1;function Ff(e,t){if(!e||Rf)return"";Rf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Rf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?dc(e):""}function Rw(e){switch(e.tag){case 5:return dc(e.type);case 16:return dc("Lazy");case 13:return dc("Suspense");case 19:return dc("SuspenseList");case 0:case 2:case 15:return e=Ff(e.type,!1),e;case 11:return e=Ff(e.type.render,!1),e;case 1:return e=Ff(e.type,!0),e;default:return""}}function Fp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Do:return"Fragment";case Fo:return"Portal";case Ip:return"Profiler";case cg:return"StrictMode";case Op:return"Suspense";case Rp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O2:return(e.displayName||"Context")+".Consumer";case I2:return(e._context.displayName||"Context")+".Provider";case ug:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dg:return t=e.displayName||null,t!==null?t:Fp(e.type)||"Memo";case zi:t=e._payload,e=e._init;try{return Fp(e(t))}catch{}}return null}function Fw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fp(t);case 8:return t===cg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function la(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function F2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dw(e){var t=F2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ku(e){e._valueTracker||(e._valueTracker=Dw(e))}function D2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=F2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Gd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dp(e,t){var r=t.checked;return vr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Y0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=la(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function M2(e,t){t=t.checked,t!=null&&lg(e,"checked",t,!1)}function Mp(e,t){M2(e,t);var r=la(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Up(e,t.type,r):t.hasOwnProperty("defaultValue")&&Up(e,t.type,la(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function K0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Up(e,t,r){(t!=="number"||Gd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var hc=Array.isArray;function Ko(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+la(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Bp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return vr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function J0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ue(92));if(hc(r)){if(1<r.length)throw Error(Ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:la(r)}}function U2(e,t){var r=la(t.value),n=la(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function X0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function B2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?B2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ju,q2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ju=Ju||document.createElement("div"),Ju.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ju.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ec(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var gc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mw=["Webkit","ms","Moz","O"];Object.keys(gc).forEach(function(e){Mw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gc[t]=gc[e]})});function z2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||gc.hasOwnProperty(e)&&gc[e]?(""+t).trim():t+"px"}function $2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=z2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Uw=vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zp(e,t){if(t){if(Uw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function $p(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vp=null;function hg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gp=null,Jo=null,Xo=null;function Q0(e){if(e=ru(e)){if(typeof Gp!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=Ah(t),Gp(e.stateNode,e.type,t))}}function V2(e){Jo?Xo?Xo.push(e):Xo=[e]:Jo=e}function G2(){if(Jo){var e=Jo,t=Xo;if(Xo=Jo=null,Q0(e),t)for(e=0;e<t.length;e++)Q0(t[e])}}function W2(e,t){return e(t)}function H2(){}var Df=!1;function Y2(e,t,r){if(Df)return e(t,r);Df=!0;try{return W2(e,t,r)}finally{Df=!1,(Jo!==null||Xo!==null)&&(H2(),G2())}}function Pc(e,t){var r=e.stateNode;if(r===null)return null;var n=Ah(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ue(231,t,typeof r));return r}var Wp=!1;if(mi)try{var rc={};Object.defineProperty(rc,"passive",{get:function(){Wp=!0}}),window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{Wp=!1}function Bw(e,t,r,n,s,i,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(f){this.onError(f)}}var vc=!1,Wd=null,Hd=!1,Hp=null,qw={onError:function(e){vc=!0,Wd=e}};function zw(e,t,r,n,s,i,a,l,c){vc=!1,Wd=null,Bw.apply(qw,arguments)}function $w(e,t,r,n,s,i,a,l,c){if(zw.apply(this,arguments),vc){if(vc){var d=Wd;vc=!1,Wd=null}else throw Error(Ue(198));Hd||(Hd=!0,Hp=d)}}function Qa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function K2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Z0(e){if(Qa(e)!==e)throw Error(Ue(188))}function Vw(e){var t=e.alternate;if(!t){if(t=Qa(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Z0(s),e;if(i===n)return Z0(s),t;i=i.sibling}throw Error(Ue(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(Ue(189))}}if(r.alternate!==n)throw Error(Ue(190))}if(r.tag!==3)throw Error(Ue(188));return r.stateNode.current===r?e:t}function J2(e){return e=Vw(e),e!==null?X2(e):null}function X2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=X2(e);if(t!==null)return t;e=e.sibling}return null}var Q2=Qn.unstable_scheduleCallback,e1=Qn.unstable_cancelCallback,Gw=Qn.unstable_shouldYield,Ww=Qn.unstable_requestPaint,Cr=Qn.unstable_now,Hw=Qn.unstable_getCurrentPriorityLevel,fg=Qn.unstable_ImmediatePriority,Z2=Qn.unstable_UserBlockingPriority,Yd=Qn.unstable_NormalPriority,Yw=Qn.unstable_LowPriority,ey=Qn.unstable_IdlePriority,Sh=null,Ws=null;function Kw(e){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(Sh,e,void 0,(e.current.flags&128)===128)}catch{}}var Ps=Math.clz32?Math.clz32:Qw,Jw=Math.log,Xw=Math.LN2;function Qw(e){return e>>>=0,e===0?32:31-(Jw(e)/Xw|0)|0}var Xu=64,Qu=4194304;function fc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=fc(l):(i&=a,i!==0&&(n=fc(i)))}else a=r&~s,a!==0?n=fc(a):i!==0&&(n=fc(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ps(t),s=1<<r,n|=e[r],t&=~s;return n}function Zw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ex(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ps(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=Zw(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Yp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ty(){var e=Xu;return Xu<<=1,!(Xu&4194240)&&(Xu=64),e}function Mf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function eu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ps(t),e[t]=r}function tx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ps(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function pg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ps(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Yt=0;function ry(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ny,mg,sy,iy,ay,Kp=!1,Zu=[],Qi=null,Zi=null,ea=null,Lc=new Map,Tc=new Map,Vi=[],rx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function t1(e,t){switch(e){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":Lc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(t.pointerId)}}function nc(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ru(t),t!==null&&mg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function nx(e,t,r,n,s){switch(t){case"focusin":return Qi=nc(Qi,e,t,r,n,s),!0;case"dragenter":return Zi=nc(Zi,e,t,r,n,s),!0;case"mouseover":return ea=nc(ea,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Lc.set(i,nc(Lc.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Tc.set(i,nc(Tc.get(i)||null,e,t,r,n,s)),!0}return!1}function oy(e){var t=Ua(e.target);if(t!==null){var r=Qa(t);if(r!==null){if(t=r.tag,t===13){if(t=K2(r),t!==null){e.blockedOn=t,ay(e.priority,function(){sy(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vp=n,r.target.dispatchEvent(n),Vp=null}else return t=ru(r),t!==null&&mg(t),e.blockedOn=r,!1;t.shift()}return!0}function r1(e,t,r){Pd(e)&&r.delete(t)}function sx(){Kp=!1,Qi!==null&&Pd(Qi)&&(Qi=null),Zi!==null&&Pd(Zi)&&(Zi=null),ea!==null&&Pd(ea)&&(ea=null),Lc.forEach(r1),Tc.forEach(r1)}function sc(e,t){e.blockedOn===t&&(e.blockedOn=null,Kp||(Kp=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,sx)))}function Ic(e){function t(s){return sc(s,e)}if(0<Zu.length){sc(Zu[0],e);for(var r=1;r<Zu.length;r++){var n=Zu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Qi!==null&&sc(Qi,e),Zi!==null&&sc(Zi,e),ea!==null&&sc(ea,e),Lc.forEach(t),Tc.forEach(t),r=0;r<Vi.length;r++)n=Vi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Vi.length&&(r=Vi[0],r.blockedOn===null);)oy(r),r.blockedOn===null&&Vi.shift()}var Qo=bi.ReactCurrentBatchConfig,Jd=!0;function ix(e,t,r,n){var s=Yt,i=Qo.transition;Qo.transition=null;try{Yt=1,gg(e,t,r,n)}finally{Yt=s,Qo.transition=i}}function ax(e,t,r,n){var s=Yt,i=Qo.transition;Qo.transition=null;try{Yt=4,gg(e,t,r,n)}finally{Yt=s,Qo.transition=i}}function gg(e,t,r,n){if(Jd){var s=Jp(e,t,r,n);if(s===null)Yf(e,t,n,Xd,r),t1(e,n);else if(nx(s,e,t,r,n))n.stopPropagation();else if(t1(e,n),t&4&&-1<rx.indexOf(e)){for(;s!==null;){var i=ru(s);if(i!==null&&ny(i),i=Jp(e,t,r,n),i===null&&Yf(e,t,n,Xd,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Yf(e,t,n,null,r)}}var Xd=null;function Jp(e,t,r,n){if(Xd=null,e=hg(n),e=Ua(e),e!==null)if(t=Qa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=K2(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xd=e,null}function ly(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hw()){case fg:return 1;case Z2:return 4;case Yd:case Yw:return 16;case ey:return 536870912;default:return 16}default:return 16}}var Hi=null,vg=null,Ld=null;function cy(){if(Ld)return Ld;var e,t=vg,r=t.length,n,s="value"in Hi?Hi.value:Hi.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Ld=s.slice(e,1<n?1-n:void 0)}function Td(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ed(){return!0}function n1(){return!1}function es(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ed:n1,this.isPropagationStopped=n1,this}return vr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ed)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ed)},persist:function(){},isPersistent:ed}),t}var gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yg=es(gl),tu=vr({},gl,{view:0,detail:0}),ox=es(tu),Uf,Bf,ic,jh=vr({},tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ic&&(ic&&e.type==="mousemove"?(Uf=e.screenX-ic.screenX,Bf=e.screenY-ic.screenY):Bf=Uf=0,ic=e),Uf)},movementY:function(e){return"movementY"in e?e.movementY:Bf}}),s1=es(jh),lx=vr({},jh,{dataTransfer:0}),cx=es(lx),ux=vr({},tu,{relatedTarget:0}),qf=es(ux),dx=vr({},gl,{animationName:0,elapsedTime:0,pseudoElement:0}),hx=es(dx),fx=vr({},gl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),px=es(fx),mx=vr({},gl,{data:0}),i1=es(mx),gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yx[e])?!!t[e]:!1}function bg(){return bx}var _x=vr({},tu,{key:function(e){if(e.key){var t=gx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Td(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bg,charCode:function(e){return e.type==="keypress"?Td(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Td(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wx=es(_x),xx=vr({},jh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a1=es(xx),Nx=vr({},tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bg}),Sx=es(Nx),jx=vr({},gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cx=es(jx),kx=vr({},jh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ax=es(kx),Ex=[9,13,27,32],_g=mi&&"CompositionEvent"in window,yc=null;mi&&"documentMode"in document&&(yc=document.documentMode);var Px=mi&&"TextEvent"in window&&!yc,uy=mi&&(!_g||yc&&8<yc&&11>=yc),o1=" ",l1=!1;function dy(e,t){switch(e){case"keyup":return Ex.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mo=!1;function Lx(e,t){switch(e){case"compositionend":return hy(t);case"keypress":return t.which!==32?null:(l1=!0,o1);case"textInput":return e=t.data,e===o1&&l1?null:e;default:return null}}function Tx(e,t){if(Mo)return e==="compositionend"||!_g&&dy(e,t)?(e=cy(),Ld=vg=Hi=null,Mo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uy&&t.locale!=="ko"?null:t.data;default:return null}}var Ix={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ix[e.type]:t==="textarea"}function fy(e,t,r,n){V2(n),t=Qd(t,"onChange"),0<t.length&&(r=new yg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var bc=null,Oc=null;function Ox(e){Sy(e,0)}function Ch(e){var t=qo(e);if(D2(t))return e}function Rx(e,t){if(e==="change")return t}var py=!1;if(mi){var zf;if(mi){var $f="oninput"in document;if(!$f){var u1=document.createElement("div");u1.setAttribute("oninput","return;"),$f=typeof u1.oninput=="function"}zf=$f}else zf=!1;py=zf&&(!document.documentMode||9<document.documentMode)}function d1(){bc&&(bc.detachEvent("onpropertychange",my),Oc=bc=null)}function my(e){if(e.propertyName==="value"&&Ch(Oc)){var t=[];fy(t,Oc,e,hg(e)),Y2(Ox,t)}}function Fx(e,t,r){e==="focusin"?(d1(),bc=t,Oc=r,bc.attachEvent("onpropertychange",my)):e==="focusout"&&d1()}function Dx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ch(Oc)}function Mx(e,t){if(e==="click")return Ch(t)}function Ux(e,t){if(e==="input"||e==="change")return Ch(t)}function Bx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ts=typeof Object.is=="function"?Object.is:Bx;function Rc(e,t){if(Ts(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Tp.call(t,s)||!Ts(e[s],t[s]))return!1}return!0}function h1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f1(e,t){var r=h1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=h1(r)}}function gy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vy(){for(var e=window,t=Gd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Gd(e.document)}return t}function wg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qx(e){var t=vy(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&gy(r.ownerDocument.documentElement,r)){if(n!==null&&wg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=f1(r,i);var a=f1(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zx=mi&&"documentMode"in document&&11>=document.documentMode,Uo=null,Xp=null,_c=null,Qp=!1;function p1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qp||Uo==null||Uo!==Gd(n)||(n=Uo,"selectionStart"in n&&wg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_c&&Rc(_c,n)||(_c=n,n=Qd(Xp,"onSelect"),0<n.length&&(t=new yg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Uo)))}function td(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Bo={animationend:td("Animation","AnimationEnd"),animationiteration:td("Animation","AnimationIteration"),animationstart:td("Animation","AnimationStart"),transitionend:td("Transition","TransitionEnd")},Vf={},yy={};mi&&(yy=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function kh(e){if(Vf[e])return Vf[e];if(!Bo[e])return e;var t=Bo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in yy)return Vf[e]=t[r];return e}var by=kh("animationend"),_y=kh("animationiteration"),wy=kh("animationstart"),xy=kh("transitionend"),Ny=new Map,m1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ha(e,t){Ny.set(e,t),Xa(t,[e])}for(var Gf=0;Gf<m1.length;Gf++){var Wf=m1[Gf],$x=Wf.toLowerCase(),Vx=Wf[0].toUpperCase()+Wf.slice(1);ha($x,"on"+Vx)}ha(by,"onAnimationEnd");ha(_y,"onAnimationIteration");ha(wy,"onAnimationStart");ha("dblclick","onDoubleClick");ha("focusin","onFocus");ha("focusout","onBlur");ha(xy,"onTransitionEnd");al("onMouseEnter",["mouseout","mouseover"]);al("onMouseLeave",["mouseout","mouseover"]);al("onPointerEnter",["pointerout","pointerover"]);al("onPointerLeave",["pointerout","pointerover"]);Xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gx=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc));function g1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,$w(n,t,void 0,e),e.currentTarget=null}function Sy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;g1(s,l,d),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;g1(s,l,d),i=c}}}if(Hd)throw e=Hp,Hd=!1,Hp=null,e}function lr(e,t){var r=t[nm];r===void 0&&(r=t[nm]=new Set);var n=e+"__bubble";r.has(n)||(jy(t,e,2,!1),r.add(n))}function Hf(e,t,r){var n=0;t&&(n|=4),jy(r,e,n,t)}var rd="_reactListening"+Math.random().toString(36).slice(2);function Fc(e){if(!e[rd]){e[rd]=!0,T2.forEach(function(r){r!=="selectionchange"&&(Gx.has(r)||Hf(r,!1,e),Hf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rd]||(t[rd]=!0,Hf("selectionchange",!1,t))}}function jy(e,t,r,n){switch(ly(t)){case 1:var s=ix;break;case 4:s=ax;break;default:s=gg}r=s.bind(null,t,r,e),s=void 0,!Wp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Yf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Ua(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Y2(function(){var d=i,f=hg(r),g=[];e:{var y=Ny.get(e);if(y!==void 0){var p=yg,x=e;switch(e){case"keypress":if(Td(r)===0)break e;case"keydown":case"keyup":p=wx;break;case"focusin":x="focus",p=qf;break;case"focusout":x="blur",p=qf;break;case"beforeblur":case"afterblur":p=qf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=s1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=cx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Sx;break;case by:case _y:case wy:p=hx;break;case xy:p=Cx;break;case"scroll":p=ox;break;case"wheel":p=Ax;break;case"copy":case"cut":case"paste":p=px;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=a1}var N=(t&4)!==0,C=!N&&e==="scroll",_=N?y!==null?y+"Capture":null:y;N=[];for(var b=d,S;b!==null;){S=b;var R=S.stateNode;if(S.tag===5&&R!==null&&(S=R,_!==null&&(R=Pc(b,_),R!=null&&N.push(Dc(b,R,S)))),C)break;b=b.return}0<N.length&&(y=new p(y,x,null,r,f),g.push({event:y,listeners:N}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",y&&r!==Vp&&(x=r.relatedTarget||r.fromElement)&&(Ua(x)||x[gi]))break e;if((p||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=d,x=x?Ua(x):null,x!==null&&(C=Qa(x),x!==C||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=d),p!==x)){if(N=s1,R="onMouseLeave",_="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(N=a1,R="onPointerLeave",_="onPointerEnter",b="pointer"),C=p==null?y:qo(p),S=x==null?y:qo(x),y=new N(R,b+"leave",p,r,f),y.target=C,y.relatedTarget=S,R=null,Ua(f)===d&&(N=new N(_,b+"enter",x,r,f),N.target=S,N.relatedTarget=C,R=N),C=R,p&&x)t:{for(N=p,_=x,b=0,S=N;S;S=So(S))b++;for(S=0,R=_;R;R=So(R))S++;for(;0<b-S;)N=So(N),b--;for(;0<S-b;)_=So(_),S--;for(;b--;){if(N===_||_!==null&&N===_.alternate)break t;N=So(N),_=So(_)}N=null}else N=null;p!==null&&v1(g,y,p,N,!1),x!==null&&C!==null&&v1(g,C,x,N,!0)}}e:{if(y=d?qo(d):window,p=y.nodeName&&y.nodeName.toLowerCase(),p==="select"||p==="input"&&y.type==="file")var F=Rx;else if(c1(y))if(py)F=Ux;else{F=Dx;var te=Fx}else(p=y.nodeName)&&p.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(F=Mx);if(F&&(F=F(e,d))){fy(g,F,r,f);break e}te&&te(e,y,d),e==="focusout"&&(te=y._wrapperState)&&te.controlled&&y.type==="number"&&Up(y,"number",y.value)}switch(te=d?qo(d):window,e){case"focusin":(c1(te)||te.contentEditable==="true")&&(Uo=te,Xp=d,_c=null);break;case"focusout":_c=Xp=Uo=null;break;case"mousedown":Qp=!0;break;case"contextmenu":case"mouseup":case"dragend":Qp=!1,p1(g,r,f);break;case"selectionchange":if(zx)break;case"keydown":case"keyup":p1(g,r,f)}var z;if(_g)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Mo?dy(e,r)&&(U="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(U="onCompositionStart");U&&(uy&&r.locale!=="ko"&&(Mo||U!=="onCompositionStart"?U==="onCompositionEnd"&&Mo&&(z=cy()):(Hi=f,vg="value"in Hi?Hi.value:Hi.textContent,Mo=!0)),te=Qd(d,U),0<te.length&&(U=new i1(U,e,null,r,f),g.push({event:U,listeners:te}),z?U.data=z:(z=hy(r),z!==null&&(U.data=z)))),(z=Px?Lx(e,r):Tx(e,r))&&(d=Qd(d,"onBeforeInput"),0<d.length&&(f=new i1("onBeforeInput","beforeinput",null,r,f),g.push({event:f,listeners:d}),f.data=z))}Sy(g,t)})}function Dc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Qd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pc(e,r),i!=null&&n.unshift(Dc(e,i,s)),i=Pc(e,t),i!=null&&n.push(Dc(e,i,s))),e=e.return}return n}function So(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function v1(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=Pc(r,i),c!=null&&a.unshift(Dc(r,c,l))):s||(c=Pc(r,i),c!=null&&a.push(Dc(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Wx=/\r\n?/g,Hx=/\u0000|\uFFFD/g;function y1(e){return(typeof e=="string"?e:""+e).replace(Wx,`
`).replace(Hx,"")}function nd(e,t,r){if(t=y1(t),y1(e)!==t&&r)throw Error(Ue(425))}function Zd(){}var Zp=null,em=null;function tm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rm=typeof setTimeout=="function"?setTimeout:void 0,Yx=typeof clearTimeout=="function"?clearTimeout:void 0,b1=typeof Promise=="function"?Promise:void 0,Kx=typeof queueMicrotask=="function"?queueMicrotask:typeof b1<"u"?function(e){return b1.resolve(null).then(e).catch(Jx)}:rm;function Jx(e){setTimeout(function(){throw e})}function Kf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ic(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ic(t)}function ta(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var vl=Math.random().toString(36).slice(2),Vs="__reactFiber$"+vl,Mc="__reactProps$"+vl,gi="__reactContainer$"+vl,nm="__reactEvents$"+vl,Xx="__reactListeners$"+vl,Qx="__reactHandles$"+vl;function Ua(e){var t=e[Vs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gi]||r[Vs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_1(e);e!==null;){if(r=e[Vs])return r;e=_1(e)}return t}e=r,r=e.parentNode}return null}function ru(e){return e=e[Vs]||e[gi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function Ah(e){return e[Mc]||null}var sm=[],zo=-1;function fa(e){return{current:e}}function ur(e){0>zo||(e.current=sm[zo],sm[zo]=null,zo--)}function ar(e,t){zo++,sm[zo]=e.current,e.current=t}var ca={},bn=fa(ca),Fn=fa(!1),Wa=ca;function ol(e,t){var r=e.type.contextTypes;if(!r)return ca;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Dn(e){return e=e.childContextTypes,e!=null}function eh(){ur(Fn),ur(bn)}function w1(e,t,r){if(bn.current!==ca)throw Error(Ue(168));ar(bn,t),ar(Fn,r)}function Cy(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Ue(108,Fw(e)||"Unknown",s));return vr({},r,n)}function th(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ca,Wa=bn.current,ar(bn,e),ar(Fn,Fn.current),!0}function x1(e,t,r){var n=e.stateNode;if(!n)throw Error(Ue(169));r?(e=Cy(e,t,Wa),n.__reactInternalMemoizedMergedChildContext=e,ur(Fn),ur(bn),ar(bn,e)):ur(Fn),ar(Fn,r)}var ui=null,Eh=!1,Jf=!1;function ky(e){ui===null?ui=[e]:ui.push(e)}function Zx(e){Eh=!0,ky(e)}function pa(){if(!Jf&&ui!==null){Jf=!0;var e=0,t=Yt;try{var r=ui;for(Yt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ui=null,Eh=!1}catch(s){throw ui!==null&&(ui=ui.slice(e+1)),Q2(fg,pa),s}finally{Yt=t,Jf=!1}}return null}var $o=[],Vo=0,rh=null,nh=0,cs=[],us=0,Ha=null,di=1,hi="";function La(e,t){$o[Vo++]=nh,$o[Vo++]=rh,rh=e,nh=t}function Ay(e,t,r){cs[us++]=di,cs[us++]=hi,cs[us++]=Ha,Ha=e;var n=di;e=hi;var s=32-Ps(n)-1;n&=~(1<<s),r+=1;var i=32-Ps(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,di=1<<32-Ps(t)+s|r<<s|n,hi=i+e}else di=1<<i|r<<s|n,hi=e}function xg(e){e.return!==null&&(La(e,1),Ay(e,1,0))}function Ng(e){for(;e===rh;)rh=$o[--Vo],$o[Vo]=null,nh=$o[--Vo],$o[Vo]=null;for(;e===Ha;)Ha=cs[--us],cs[us]=null,hi=cs[--us],cs[us]=null,di=cs[--us],cs[us]=null}var Xn=null,Kn=null,hr=!1,Es=null;function Ey(e,t){var r=ds(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function N1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xn=e,Kn=ta(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xn=e,Kn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ha!==null?{id:di,overflow:hi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ds(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xn=e,Kn=null,!0):!1;default:return!1}}function im(e){return(e.mode&1)!==0&&(e.flags&128)===0}function am(e){if(hr){var t=Kn;if(t){var r=t;if(!N1(e,t)){if(im(e))throw Error(Ue(418));t=ta(r.nextSibling);var n=Xn;t&&N1(e,t)?Ey(n,r):(e.flags=e.flags&-4097|2,hr=!1,Xn=e)}}else{if(im(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,hr=!1,Xn=e}}}function S1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xn=e}function sd(e){if(e!==Xn)return!1;if(!hr)return S1(e),hr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tm(e.type,e.memoizedProps)),t&&(t=Kn)){if(im(e))throw Py(),Error(Ue(418));for(;t;)Ey(e,t),t=ta(t.nextSibling)}if(S1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Kn=ta(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Kn=null}}else Kn=Xn?ta(e.stateNode.nextSibling):null;return!0}function Py(){for(var e=Kn;e;)e=ta(e.nextSibling)}function ll(){Kn=Xn=null,hr=!1}function Sg(e){Es===null?Es=[e]:Es.push(e)}var eN=bi.ReactCurrentBatchConfig;function ac(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ue(309));var n=r.stateNode}if(!n)throw Error(Ue(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ue(284));if(!r._owner)throw Error(Ue(290,e))}return e}function id(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function j1(e){var t=e._init;return t(e._payload)}function Ly(e){function t(_,b){if(e){var S=_.deletions;S===null?(_.deletions=[b],_.flags|=16):S.push(b)}}function r(_,b){if(!e)return null;for(;b!==null;)t(_,b),b=b.sibling;return null}function n(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function s(_,b){return _=ia(_,b),_.index=0,_.sibling=null,_}function i(_,b,S){return _.index=S,e?(S=_.alternate,S!==null?(S=S.index,S<b?(_.flags|=2,b):S):(_.flags|=2,b)):(_.flags|=1048576,b)}function a(_){return e&&_.alternate===null&&(_.flags|=2),_}function l(_,b,S,R){return b===null||b.tag!==6?(b=np(S,_.mode,R),b.return=_,b):(b=s(b,S),b.return=_,b)}function c(_,b,S,R){var F=S.type;return F===Do?f(_,b,S.props.children,R,S.key):b!==null&&(b.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===zi&&j1(F)===b.type)?(R=s(b,S.props),R.ref=ac(_,b,S),R.return=_,R):(R=Ud(S.type,S.key,S.props,null,_.mode,R),R.ref=ac(_,b,S),R.return=_,R)}function d(_,b,S,R){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=sp(S,_.mode,R),b.return=_,b):(b=s(b,S.children||[]),b.return=_,b)}function f(_,b,S,R,F){return b===null||b.tag!==7?(b=Va(S,_.mode,R,F),b.return=_,b):(b=s(b,S),b.return=_,b)}function g(_,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=np(""+b,_.mode,S),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yu:return S=Ud(b.type,b.key,b.props,null,_.mode,S),S.ref=ac(_,null,b),S.return=_,S;case Fo:return b=sp(b,_.mode,S),b.return=_,b;case zi:var R=b._init;return g(_,R(b._payload),S)}if(hc(b)||tc(b))return b=Va(b,_.mode,S,null),b.return=_,b;id(_,b)}return null}function y(_,b,S,R){var F=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return F!==null?null:l(_,b,""+S,R);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yu:return S.key===F?c(_,b,S,R):null;case Fo:return S.key===F?d(_,b,S,R):null;case zi:return F=S._init,y(_,b,F(S._payload),R)}if(hc(S)||tc(S))return F!==null?null:f(_,b,S,R,null);id(_,S)}return null}function p(_,b,S,R,F){if(typeof R=="string"&&R!==""||typeof R=="number")return _=_.get(S)||null,l(b,_,""+R,F);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Yu:return _=_.get(R.key===null?S:R.key)||null,c(b,_,R,F);case Fo:return _=_.get(R.key===null?S:R.key)||null,d(b,_,R,F);case zi:var te=R._init;return p(_,b,S,te(R._payload),F)}if(hc(R)||tc(R))return _=_.get(S)||null,f(b,_,R,F,null);id(b,R)}return null}function x(_,b,S,R){for(var F=null,te=null,z=b,U=b=0,I=null;z!==null&&U<S.length;U++){z.index>U?(I=z,z=null):I=z.sibling;var se=y(_,z,S[U],R);if(se===null){z===null&&(z=I);break}e&&z&&se.alternate===null&&t(_,z),b=i(se,b,U),te===null?F=se:te.sibling=se,te=se,z=I}if(U===S.length)return r(_,z),hr&&La(_,U),F;if(z===null){for(;U<S.length;U++)z=g(_,S[U],R),z!==null&&(b=i(z,b,U),te===null?F=z:te.sibling=z,te=z);return hr&&La(_,U),F}for(z=n(_,z);U<S.length;U++)I=p(z,_,U,S[U],R),I!==null&&(e&&I.alternate!==null&&z.delete(I.key===null?U:I.key),b=i(I,b,U),te===null?F=I:te.sibling=I,te=I);return e&&z.forEach(function(L){return t(_,L)}),hr&&La(_,U),F}function N(_,b,S,R){var F=tc(S);if(typeof F!="function")throw Error(Ue(150));if(S=F.call(S),S==null)throw Error(Ue(151));for(var te=F=null,z=b,U=b=0,I=null,se=S.next();z!==null&&!se.done;U++,se=S.next()){z.index>U?(I=z,z=null):I=z.sibling;var L=y(_,z,se.value,R);if(L===null){z===null&&(z=I);break}e&&z&&L.alternate===null&&t(_,z),b=i(L,b,U),te===null?F=L:te.sibling=L,te=L,z=I}if(se.done)return r(_,z),hr&&La(_,U),F;if(z===null){for(;!se.done;U++,se=S.next())se=g(_,se.value,R),se!==null&&(b=i(se,b,U),te===null?F=se:te.sibling=se,te=se);return hr&&La(_,U),F}for(z=n(_,z);!se.done;U++,se=S.next())se=p(z,_,U,se.value,R),se!==null&&(e&&se.alternate!==null&&z.delete(se.key===null?U:se.key),b=i(se,b,U),te===null?F=se:te.sibling=se,te=se);return e&&z.forEach(function(M){return t(_,M)}),hr&&La(_,U),F}function C(_,b,S,R){if(typeof S=="object"&&S!==null&&S.type===Do&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Yu:e:{for(var F=S.key,te=b;te!==null;){if(te.key===F){if(F=S.type,F===Do){if(te.tag===7){r(_,te.sibling),b=s(te,S.props.children),b.return=_,_=b;break e}}else if(te.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===zi&&j1(F)===te.type){r(_,te.sibling),b=s(te,S.props),b.ref=ac(_,te,S),b.return=_,_=b;break e}r(_,te);break}else t(_,te);te=te.sibling}S.type===Do?(b=Va(S.props.children,_.mode,R,S.key),b.return=_,_=b):(R=Ud(S.type,S.key,S.props,null,_.mode,R),R.ref=ac(_,b,S),R.return=_,_=R)}return a(_);case Fo:e:{for(te=S.key;b!==null;){if(b.key===te)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){r(_,b.sibling),b=s(b,S.children||[]),b.return=_,_=b;break e}else{r(_,b);break}else t(_,b);b=b.sibling}b=sp(S,_.mode,R),b.return=_,_=b}return a(_);case zi:return te=S._init,C(_,b,te(S._payload),R)}if(hc(S))return x(_,b,S,R);if(tc(S))return N(_,b,S,R);id(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(r(_,b.sibling),b=s(b,S),b.return=_,_=b):(r(_,b),b=np(S,_.mode,R),b.return=_,_=b),a(_)):r(_,b)}return C}var cl=Ly(!0),Ty=Ly(!1),sh=fa(null),ih=null,Go=null,jg=null;function Cg(){jg=Go=ih=null}function kg(e){var t=sh.current;ur(sh),e._currentValue=t}function om(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Zo(e,t){ih=e,jg=Go=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rn=!0),e.firstContext=null)}function fs(e){var t=e._currentValue;if(jg!==e)if(e={context:e,memoizedValue:t,next:null},Go===null){if(ih===null)throw Error(Ue(308));Go=e,ih.dependencies={lanes:0,firstContext:e}}else Go=Go.next=e;return t}var Ba=null;function Ag(e){Ba===null?Ba=[e]:Ba.push(e)}function Iy(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ag(t)):(r.next=s.next,s.next=r),t.interleaved=r,vi(e,n)}function vi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $i=!1;function Eg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ra(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,$t&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,vi(e,r)}return s=n.interleaved,s===null?(t.next=t,Ag(n)):(t.next=s.next,s.next=t),n.interleaved=t,vi(e,r)}function Id(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pg(e,r)}}function C1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ah(e,t,r,n){var s=e.updateQueue;$i=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(i!==null){var g=s.baseState;a=0,f=d=c=null,l=i;do{var y=l.lane,p=l.eventTime;if((n&y)===y){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,N=l;switch(y=t,p=r,N.tag){case 1:if(x=N.payload,typeof x=="function"){g=x.call(p,g,y);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=N.payload,y=typeof x=="function"?x.call(p,g,y):x,y==null)break e;g=vr({},g,y);break e;case 2:$i=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[l]:y.push(l))}else p={eventTime:p,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=p,c=g):f=f.next=p,a|=y;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;y=l,l=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(f===null&&(c=g),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ka|=a,e.lanes=a,e.memoizedState=g}}function k1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Ue(191,s));s.call(n)}}}var nu={},Hs=fa(nu),Uc=fa(nu),Bc=fa(nu);function qa(e){if(e===nu)throw Error(Ue(174));return e}function Pg(e,t){switch(ar(Bc,t),ar(Uc,e),ar(Hs,nu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qp(t,e)}ur(Hs),ar(Hs,t)}function ul(){ur(Hs),ur(Uc),ur(Bc)}function Ry(e){qa(Bc.current);var t=qa(Hs.current),r=qp(t,e.type);t!==r&&(ar(Uc,e),ar(Hs,r))}function Lg(e){Uc.current===e&&(ur(Hs),ur(Uc))}var mr=fa(0);function oh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xf=[];function Tg(){for(var e=0;e<Xf.length;e++)Xf[e]._workInProgressVersionPrimary=null;Xf.length=0}var Od=bi.ReactCurrentDispatcher,Qf=bi.ReactCurrentBatchConfig,Ya=0,gr=null,Gr=null,Qr=null,lh=!1,wc=!1,qc=0,tN=0;function dn(){throw Error(Ue(321))}function Ig(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ts(e[r],t[r]))return!1;return!0}function Og(e,t,r,n,s,i){if(Ya=i,gr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Od.current=e===null||e.memoizedState===null?iN:aN,e=r(n,s),wc){i=0;do{if(wc=!1,qc=0,25<=i)throw Error(Ue(301));i+=1,Qr=Gr=null,t.updateQueue=null,Od.current=oN,e=r(n,s)}while(wc)}if(Od.current=ch,t=Gr!==null&&Gr.next!==null,Ya=0,Qr=Gr=gr=null,lh=!1,t)throw Error(Ue(300));return e}function Rg(){var e=qc!==0;return qc=0,e}function $s(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?gr.memoizedState=Qr=e:Qr=Qr.next=e,Qr}function ps(){if(Gr===null){var e=gr.alternate;e=e!==null?e.memoizedState:null}else e=Gr.next;var t=Qr===null?gr.memoizedState:Qr.next;if(t!==null)Qr=t,Gr=e;else{if(e===null)throw Error(Ue(310));Gr=e,e={memoizedState:Gr.memoizedState,baseState:Gr.baseState,baseQueue:Gr.baseQueue,queue:Gr.queue,next:null},Qr===null?gr.memoizedState=Qr=e:Qr=Qr.next=e}return Qr}function zc(e,t){return typeof t=="function"?t(e):t}function Zf(e){var t=ps(),r=t.queue;if(r===null)throw Error(Ue(311));r.lastRenderedReducer=e;var n=Gr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,d=i;do{var f=d.lane;if((Ya&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var g={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=g,a=n):c=c.next=g,gr.lanes|=f,Ka|=f}d=d.next}while(d!==null&&d!==i);c===null?a=n:c.next=l,Ts(n,t.memoizedState)||(Rn=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,gr.lanes|=i,Ka|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ep(e){var t=ps(),r=t.queue;if(r===null)throw Error(Ue(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Ts(i,t.memoizedState)||(Rn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Fy(){}function Dy(e,t){var r=gr,n=ps(),s=t(),i=!Ts(n.memoizedState,s);if(i&&(n.memoizedState=s,Rn=!0),n=n.queue,Fg(By.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Qr!==null&&Qr.memoizedState.tag&1){if(r.flags|=2048,$c(9,Uy.bind(null,r,n,s,t),void 0,null),en===null)throw Error(Ue(349));Ya&30||My(r,t,s)}return s}function My(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=gr.updateQueue,t===null?(t={lastEffect:null,stores:null},gr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Uy(e,t,r,n){t.value=r,t.getSnapshot=n,qy(t)&&zy(e)}function By(e,t,r){return r(function(){qy(t)&&zy(e)})}function qy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ts(e,r)}catch{return!0}}function zy(e){var t=vi(e,1);t!==null&&Ls(t,e,1,-1)}function A1(e){var t=$s();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:e},t.queue=e,e=e.dispatch=sN.bind(null,gr,e),[t.memoizedState,e]}function $c(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=gr.updateQueue,t===null?(t={lastEffect:null,stores:null},gr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function $y(){return ps().memoizedState}function Rd(e,t,r,n){var s=$s();gr.flags|=e,s.memoizedState=$c(1|t,r,void 0,n===void 0?null:n)}function Ph(e,t,r,n){var s=ps();n=n===void 0?null:n;var i=void 0;if(Gr!==null){var a=Gr.memoizedState;if(i=a.destroy,n!==null&&Ig(n,a.deps)){s.memoizedState=$c(t,r,i,n);return}}gr.flags|=e,s.memoizedState=$c(1|t,r,i,n)}function E1(e,t){return Rd(8390656,8,e,t)}function Fg(e,t){return Ph(2048,8,e,t)}function Vy(e,t){return Ph(4,2,e,t)}function Gy(e,t){return Ph(4,4,e,t)}function Wy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hy(e,t,r){return r=r!=null?r.concat([e]):null,Ph(4,4,Wy.bind(null,t,e),r)}function Dg(){}function Yy(e,t){var r=ps();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ig(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ky(e,t){var r=ps();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ig(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Jy(e,t,r){return Ya&21?(Ts(r,t)||(r=ty(),gr.lanes|=r,Ka|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rn=!0),e.memoizedState=r)}function rN(e,t){var r=Yt;Yt=r!==0&&4>r?r:4,e(!0);var n=Qf.transition;Qf.transition={};try{e(!1),t()}finally{Yt=r,Qf.transition=n}}function Xy(){return ps().memoizedState}function nN(e,t,r){var n=sa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qy(e))Zy(t,r);else if(r=Iy(e,t,r,n),r!==null){var s=jn();Ls(r,e,n,s),e5(r,t,n)}}function sN(e,t,r){var n=sa(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qy(e))Zy(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Ts(l,a)){var c=t.interleaved;c===null?(s.next=s,Ag(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Iy(e,t,s,n),r!==null&&(s=jn(),Ls(r,e,n,s),e5(r,t,n))}}function Qy(e){var t=e.alternate;return e===gr||t!==null&&t===gr}function Zy(e,t){wc=lh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function e5(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pg(e,r)}}var ch={readContext:fs,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},iN={readContext:fs,useCallback:function(e,t){return $s().memoizedState=[e,t===void 0?null:t],e},useContext:fs,useEffect:E1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Rd(4194308,4,Wy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Rd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rd(4,2,e,t)},useMemo:function(e,t){var r=$s();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$s();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=nN.bind(null,gr,e),[n.memoizedState,e]},useRef:function(e){var t=$s();return e={current:e},t.memoizedState=e},useState:A1,useDebugValue:Dg,useDeferredValue:function(e){return $s().memoizedState=e},useTransition:function(){var e=A1(!1),t=e[0];return e=rN.bind(null,e[1]),$s().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=gr,s=$s();if(hr){if(r===void 0)throw Error(Ue(407));r=r()}else{if(r=t(),en===null)throw Error(Ue(349));Ya&30||My(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,E1(By.bind(null,n,i,e),[e]),n.flags|=2048,$c(9,Uy.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=$s(),t=en.identifierPrefix;if(hr){var r=hi,n=di;r=(n&~(1<<32-Ps(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=qc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=tN++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aN={readContext:fs,useCallback:Yy,useContext:fs,useEffect:Fg,useImperativeHandle:Hy,useInsertionEffect:Vy,useLayoutEffect:Gy,useMemo:Ky,useReducer:Zf,useRef:$y,useState:function(){return Zf(zc)},useDebugValue:Dg,useDeferredValue:function(e){var t=ps();return Jy(t,Gr.memoizedState,e)},useTransition:function(){var e=Zf(zc)[0],t=ps().memoizedState;return[e,t]},useMutableSource:Fy,useSyncExternalStore:Dy,useId:Xy,unstable_isNewReconciler:!1},oN={readContext:fs,useCallback:Yy,useContext:fs,useEffect:Fg,useImperativeHandle:Hy,useInsertionEffect:Vy,useLayoutEffect:Gy,useMemo:Ky,useReducer:ep,useRef:$y,useState:function(){return ep(zc)},useDebugValue:Dg,useDeferredValue:function(e){var t=ps();return Gr===null?t.memoizedState=e:Jy(t,Gr.memoizedState,e)},useTransition:function(){var e=ep(zc)[0],t=ps().memoizedState;return[e,t]},useMutableSource:Fy,useSyncExternalStore:Dy,useId:Xy,unstable_isNewReconciler:!1};function js(e,t){if(e&&e.defaultProps){t=vr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function lm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:vr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Lh={isMounted:function(e){return(e=e._reactInternals)?Qa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=jn(),s=sa(e),i=pi(n,s);i.payload=t,r!=null&&(i.callback=r),t=ra(e,i,s),t!==null&&(Ls(t,e,s,n),Id(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=jn(),s=sa(e),i=pi(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ra(e,i,s),t!==null&&(Ls(t,e,s,n),Id(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=jn(),n=sa(e),s=pi(r,n);s.tag=2,t!=null&&(s.callback=t),t=ra(e,s,n),t!==null&&(Ls(t,e,n,r),Id(t,e,n))}};function P1(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Rc(r,n)||!Rc(s,i):!0}function t5(e,t,r){var n=!1,s=ca,i=t.contextType;return typeof i=="object"&&i!==null?i=fs(i):(s=Dn(t)?Wa:bn.current,n=t.contextTypes,i=(n=n!=null)?ol(e,s):ca),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function L1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Lh.enqueueReplaceState(t,t.state,null)}function cm(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Eg(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=fs(i):(i=Dn(t)?Wa:bn.current,s.context=ol(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(lm(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Lh.enqueueReplaceState(s,s.state,null),ah(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function dl(e,t){try{var r="",n=t;do r+=Rw(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function tp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function um(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var lN=typeof WeakMap=="function"?WeakMap:Map;function r5(e,t,r){r=pi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){dh||(dh=!0,_m=n),um(e,t)},r}function n5(e,t,r){r=pi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){um(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){um(e,t),typeof n!="function"&&(na===null?na=new Set([this]):na.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function T1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new lN;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=xN.bind(null,e,t,r),t.then(e,e))}function I1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function O1(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=pi(-1,1),t.tag=2,ra(r,t,1))),r.lanes|=1),e)}var cN=bi.ReactCurrentOwner,Rn=!1;function Nn(e,t,r,n){t.child=e===null?Ty(t,null,r,n):cl(t,e.child,r,n)}function R1(e,t,r,n,s){r=r.render;var i=t.ref;return Zo(t,s),n=Og(e,t,r,n,i,s),r=Rg(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,yi(e,t,s)):(hr&&r&&xg(t),t.flags|=1,Nn(e,t,n,s),t.child)}function F1(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Gg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,s5(e,t,i,n,s)):(e=Ud(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Rc,r(a,n)&&e.ref===t.ref)return yi(e,t,s)}return t.flags|=1,e=ia(i,n),e.ref=t.ref,e.return=t,t.child=e}function s5(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Rc(i,n)&&e.ref===t.ref)if(Rn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Rn=!0);else return t.lanes=e.lanes,yi(e,t,s)}return dm(e,t,r,n,s)}function i5(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ar(Ho,Wn),Wn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ar(Ho,Wn),Wn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ar(Ho,Wn),Wn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ar(Ho,Wn),Wn|=n;return Nn(e,t,s,r),t.child}function a5(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function dm(e,t,r,n,s){var i=Dn(r)?Wa:bn.current;return i=ol(t,i),Zo(t,s),r=Og(e,t,r,n,i,s),n=Rg(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,yi(e,t,s)):(hr&&n&&xg(t),t.flags|=1,Nn(e,t,r,s),t.child)}function D1(e,t,r,n,s){if(Dn(r)){var i=!0;th(t)}else i=!1;if(Zo(t,s),t.stateNode===null)Fd(e,t),t5(t,r,n),cm(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=fs(d):(d=Dn(r)?Wa:bn.current,d=ol(t,d));var f=r.getDerivedStateFromProps,g=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==d)&&L1(t,a,n,d),$i=!1;var y=t.memoizedState;a.state=y,ah(t,n,a,s),c=t.memoizedState,l!==n||y!==c||Fn.current||$i?(typeof f=="function"&&(lm(t,r,f,n),c=t.memoizedState),(l=$i||P1(t,r,l,n,y,c,d))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=d,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Oy(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:js(t.type,l),a.props=d,g=t.pendingProps,y=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=fs(c):(c=Dn(r)?Wa:bn.current,c=ol(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||y!==c)&&L1(t,a,n,c),$i=!1,y=t.memoizedState,a.state=y,ah(t,n,a,s);var x=t.memoizedState;l!==g||y!==x||Fn.current||$i?(typeof p=="function"&&(lm(t,r,p,n),x=t.memoizedState),(d=$i||P1(t,r,d,n,y,x,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),a.props=n,a.state=x,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return hm(e,t,r,n,i,s)}function hm(e,t,r,n,s,i){a5(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&x1(t,r,!1),yi(e,t,i);n=t.stateNode,cN.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=cl(t,e.child,null,i),t.child=cl(t,null,l,i)):Nn(e,t,l,i),t.memoizedState=n.state,s&&x1(t,r,!0),t.child}function o5(e){var t=e.stateNode;t.pendingContext?w1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&w1(e,t.context,!1),Pg(e,t.containerInfo)}function M1(e,t,r,n,s){return ll(),Sg(s),t.flags|=256,Nn(e,t,r,n),t.child}var fm={dehydrated:null,treeContext:null,retryLane:0};function pm(e){return{baseLanes:e,cachePool:null,transitions:null}}function l5(e,t,r){var n=t.pendingProps,s=mr.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ar(mr,s&1),e===null)return am(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Oh(a,n,0,null),e=Va(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=pm(r),t.memoizedState=fm,e):Mg(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return uN(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ia(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ia(l,i):(i=Va(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?pm(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=fm,n}return i=e.child,e=i.sibling,n=ia(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Mg(e,t){return t=Oh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ad(e,t,r,n){return n!==null&&Sg(n),cl(t,e.child,null,r),e=Mg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uN(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=tp(Error(Ue(422))),ad(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Oh({mode:"visible",children:n.children},s,0,null),i=Va(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&cl(t,e.child,null,a),t.child.memoizedState=pm(a),t.memoizedState=fm,i);if(!(t.mode&1))return ad(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Ue(419)),n=tp(i,n,void 0),ad(e,t,a,n)}if(l=(a&e.childLanes)!==0,Rn||l){if(n=en,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vi(e,s),Ls(n,e,s,-1))}return Vg(),n=tp(Error(Ue(421))),ad(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=NN.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Kn=ta(s.nextSibling),Xn=t,hr=!0,Es=null,e!==null&&(cs[us++]=di,cs[us++]=hi,cs[us++]=Ha,di=e.id,hi=e.overflow,Ha=t),t=Mg(t,n.children),t.flags|=4096,t)}function U1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),om(e.return,t,r)}function rp(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function c5(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Nn(e,t,n.children,r),n=mr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&U1(e,r,t);else if(e.tag===19)U1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ar(mr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&oh(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),rp(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&oh(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}rp(t,!0,r,null,i);break;case"together":rp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ka|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,r=ia(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ia(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function dN(e,t,r){switch(t.tag){case 3:o5(t),ll();break;case 5:Ry(t);break;case 1:Dn(t.type)&&th(t);break;case 4:Pg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ar(sh,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ar(mr,mr.current&1),t.flags|=128,null):r&t.child.childLanes?l5(e,t,r):(ar(mr,mr.current&1),e=yi(e,t,r),e!==null?e.sibling:null);ar(mr,mr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return c5(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ar(mr,mr.current),n)break;return null;case 22:case 23:return t.lanes=0,i5(e,t,r)}return yi(e,t,r)}var u5,mm,d5,h5;u5=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};mm=function(){};d5=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,qa(Hs.current);var i=null;switch(r){case"input":s=Dp(e,s),n=Dp(e,n),i=[];break;case"select":s=vr({},s,{value:void 0}),n=vr({},n,{value:void 0}),i=[];break;case"textarea":s=Bp(e,s),n=Bp(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Zd)}zp(r,n);var a;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ac.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ac.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&lr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};h5=function(e,t,r,n){r!==n&&(t.flags|=4)};function oc(e,t){if(!hr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function hn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function hN(e,t,r){var n=t.pendingProps;switch(Ng(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(t),null;case 1:return Dn(t.type)&&eh(),hn(t),null;case 3:return n=t.stateNode,ul(),ur(Fn),ur(bn),Tg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Es!==null&&(Nm(Es),Es=null))),mm(e,t),hn(t),null;case 5:Lg(t);var s=qa(Bc.current);if(r=t.type,e!==null&&t.stateNode!=null)d5(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ue(166));return hn(t),null}if(e=qa(Hs.current),sd(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Vs]=t,n[Mc]=i,e=(t.mode&1)!==0,r){case"dialog":lr("cancel",n),lr("close",n);break;case"iframe":case"object":case"embed":lr("load",n);break;case"video":case"audio":for(s=0;s<pc.length;s++)lr(pc[s],n);break;case"source":lr("error",n);break;case"img":case"image":case"link":lr("error",n),lr("load",n);break;case"details":lr("toggle",n);break;case"input":Y0(n,i),lr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},lr("invalid",n);break;case"textarea":J0(n,i),lr("invalid",n)}zp(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&nd(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&nd(n.textContent,l,e),s=["children",""+l]):Ac.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&lr("scroll",n)}switch(r){case"input":Ku(n),K0(n,i,!0);break;case"textarea":Ku(n),X0(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Zd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=B2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Vs]=t,e[Mc]=n,u5(e,t,!1,!1),t.stateNode=e;e:{switch(a=$p(r,n),r){case"dialog":lr("cancel",e),lr("close",e),s=n;break;case"iframe":case"object":case"embed":lr("load",e),s=n;break;case"video":case"audio":for(s=0;s<pc.length;s++)lr(pc[s],e);s=n;break;case"source":lr("error",e),s=n;break;case"img":case"image":case"link":lr("error",e),lr("load",e),s=n;break;case"details":lr("toggle",e),s=n;break;case"input":Y0(e,n),s=Dp(e,n),lr("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=vr({},n,{value:void 0}),lr("invalid",e);break;case"textarea":J0(e,n),s=Bp(e,n),lr("invalid",e);break;default:s=n}zp(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?$2(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&q2(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ec(e,c):typeof c=="number"&&Ec(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ac.hasOwnProperty(i)?c!=null&&i==="onScroll"&&lr("scroll",e):c!=null&&lg(e,i,c,a))}switch(r){case"input":Ku(e),K0(e,n,!1);break;case"textarea":Ku(e),X0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+la(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ko(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ko(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Zd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return hn(t),null;case 6:if(e&&t.stateNode!=null)h5(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ue(166));if(r=qa(Bc.current),qa(Hs.current),sd(t)){if(n=t.stateNode,r=t.memoizedProps,n[Vs]=t,(i=n.nodeValue!==r)&&(e=Xn,e!==null))switch(e.tag){case 3:nd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nd(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vs]=t,t.stateNode=n}return hn(t),null;case 13:if(ur(mr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(hr&&Kn!==null&&t.mode&1&&!(t.flags&128))Py(),ll(),t.flags|=98560,i=!1;else if(i=sd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Ue(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ue(317));i[Vs]=t}else ll(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;hn(t),i=!1}else Es!==null&&(Nm(Es),Es=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||mr.current&1?Wr===0&&(Wr=3):Vg())),t.updateQueue!==null&&(t.flags|=4),hn(t),null);case 4:return ul(),mm(e,t),e===null&&Fc(t.stateNode.containerInfo),hn(t),null;case 10:return kg(t.type._context),hn(t),null;case 17:return Dn(t.type)&&eh(),hn(t),null;case 19:if(ur(mr),i=t.memoizedState,i===null)return hn(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)oc(i,!1);else{if(Wr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=oh(e),a!==null){for(t.flags|=128,oc(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ar(mr,mr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Cr()>hl&&(t.flags|=128,n=!0,oc(i,!1),t.lanes=4194304)}else{if(!n)if(e=oh(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),oc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!hr)return hn(t),null}else 2*Cr()-i.renderingStartTime>hl&&r!==1073741824&&(t.flags|=128,n=!0,oc(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Cr(),t.sibling=null,r=mr.current,ar(mr,n?r&1|2:r&1),t):(hn(t),null);case 22:case 23:return $g(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Wn&1073741824&&(hn(t),t.subtreeFlags&6&&(t.flags|=8192)):hn(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function fN(e,t){switch(Ng(t),t.tag){case 1:return Dn(t.type)&&eh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ul(),ur(Fn),ur(bn),Tg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Lg(t),null;case 13:if(ur(mr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ur(mr),null;case 4:return ul(),null;case 10:return kg(t.type._context),null;case 22:case 23:return $g(),null;case 24:return null;default:return null}}var od=!1,vn=!1,pN=typeof WeakSet=="function"?WeakSet:Set,at=null;function Wo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){wr(e,t,n)}else r.current=null}function gm(e,t,r){try{r()}catch(n){wr(e,t,n)}}var B1=!1;function mN(e,t){if(Zp=Jd,e=vy(),wg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,d=0,f=0,g=e,y=null;t:for(;;){for(var p;g!==r||s!==0&&g.nodeType!==3||(l=a+s),g!==i||n!==0&&g.nodeType!==3||(c=a+n),g.nodeType===3&&(a+=g.nodeValue.length),(p=g.firstChild)!==null;)y=g,g=p;for(;;){if(g===e)break t;if(y===r&&++d===s&&(l=a),y===i&&++f===n&&(c=a),(p=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(em={focusedElem:e,selectionRange:r},Jd=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){t=at;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var N=x.memoizedProps,C=x.memoizedState,_=t.stateNode,b=_.getSnapshotBeforeUpdate(t.elementType===t.type?N:js(t.type,N),C);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(R){wr(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}return x=B1,B1=!1,x}function xc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&gm(t,r,i)}s=s.next}while(s!==n)}}function Th(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function vm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function f5(e){var t=e.alternate;t!==null&&(e.alternate=null,f5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vs],delete t[Mc],delete t[nm],delete t[Xx],delete t[Qx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function p5(e){return e.tag===5||e.tag===3||e.tag===4}function q1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||p5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ym(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zd));else if(n!==4&&(e=e.child,e!==null))for(ym(e,t,r),e=e.sibling;e!==null;)ym(e,t,r),e=e.sibling}function bm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(bm(e,t,r),e=e.sibling;e!==null;)bm(e,t,r),e=e.sibling}var an=null,As=!1;function Mi(e,t,r){for(r=r.child;r!==null;)m5(e,t,r),r=r.sibling}function m5(e,t,r){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(Sh,r)}catch{}switch(r.tag){case 5:vn||Wo(r,t);case 6:var n=an,s=As;an=null,Mi(e,t,r),an=n,As=s,an!==null&&(As?(e=an,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):an.removeChild(r.stateNode));break;case 18:an!==null&&(As?(e=an,r=r.stateNode,e.nodeType===8?Kf(e.parentNode,r):e.nodeType===1&&Kf(e,r),Ic(e)):Kf(an,r.stateNode));break;case 4:n=an,s=As,an=r.stateNode.containerInfo,As=!0,Mi(e,t,r),an=n,As=s;break;case 0:case 11:case 14:case 15:if(!vn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&gm(r,t,a),s=s.next}while(s!==n)}Mi(e,t,r);break;case 1:if(!vn&&(Wo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){wr(r,t,l)}Mi(e,t,r);break;case 21:Mi(e,t,r);break;case 22:r.mode&1?(vn=(n=vn)||r.memoizedState!==null,Mi(e,t,r),vn=n):Mi(e,t,r);break;default:Mi(e,t,r)}}function z1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new pN),t.forEach(function(n){var s=SN.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function _s(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:an=l.stateNode,As=!1;break e;case 3:an=l.stateNode.containerInfo,As=!0;break e;case 4:an=l.stateNode.containerInfo,As=!0;break e}l=l.return}if(an===null)throw Error(Ue(160));m5(i,a,s),an=null,As=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){wr(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)g5(t,e),t=t.sibling}function g5(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_s(t,e),Bs(e),n&4){try{xc(3,e,e.return),Th(3,e)}catch(N){wr(e,e.return,N)}try{xc(5,e,e.return)}catch(N){wr(e,e.return,N)}}break;case 1:_s(t,e),Bs(e),n&512&&r!==null&&Wo(r,r.return);break;case 5:if(_s(t,e),Bs(e),n&512&&r!==null&&Wo(r,r.return),e.flags&32){var s=e.stateNode;try{Ec(s,"")}catch(N){wr(e,e.return,N)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&M2(s,i),$p(l,a);var d=$p(l,i);for(a=0;a<c.length;a+=2){var f=c[a],g=c[a+1];f==="style"?$2(s,g):f==="dangerouslySetInnerHTML"?q2(s,g):f==="children"?Ec(s,g):lg(s,f,g,d)}switch(l){case"input":Mp(s,i);break;case"textarea":U2(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ko(s,!!i.multiple,p,!1):y!==!!i.multiple&&(i.defaultValue!=null?Ko(s,!!i.multiple,i.defaultValue,!0):Ko(s,!!i.multiple,i.multiple?[]:"",!1))}s[Mc]=i}catch(N){wr(e,e.return,N)}}break;case 6:if(_s(t,e),Bs(e),n&4){if(e.stateNode===null)throw Error(Ue(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(N){wr(e,e.return,N)}}break;case 3:if(_s(t,e),Bs(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ic(t.containerInfo)}catch(N){wr(e,e.return,N)}break;case 4:_s(t,e),Bs(e);break;case 13:_s(t,e),Bs(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(qg=Cr())),n&4&&z1(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(vn=(d=vn)||f,_s(t,e),vn=d):_s(t,e),Bs(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(at=e,f=e.child;f!==null;){for(g=at=f;at!==null;){switch(y=at,p=y.child,y.tag){case 0:case 11:case 14:case 15:xc(4,y,y.return);break;case 1:Wo(y,y.return);var x=y.stateNode;if(typeof x.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(N){wr(n,r,N)}}break;case 5:Wo(y,y.return);break;case 22:if(y.memoizedState!==null){V1(g);continue}}p!==null?(p.return=y,at=p):V1(g)}f=f.sibling}e:for(f=null,g=e;;){if(g.tag===5){if(f===null){f=g;try{s=g.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=z2("display",a))}catch(N){wr(e,e.return,N)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(N){wr(e,e.return,N)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:_s(t,e),Bs(e),n&4&&z1(e);break;case 21:break;default:_s(t,e),Bs(e)}}function Bs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(p5(r)){var n=r;break e}r=r.return}throw Error(Ue(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ec(s,""),n.flags&=-33);var i=q1(e);bm(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=q1(e);ym(e,l,a);break;default:throw Error(Ue(161))}}catch(c){wr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gN(e,t,r){at=e,v5(e)}function v5(e,t,r){for(var n=(e.mode&1)!==0;at!==null;){var s=at,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||od;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||vn;l=od;var d=vn;if(od=a,(vn=c)&&!d)for(at=s;at!==null;)a=at,c=a.child,a.tag===22&&a.memoizedState!==null?G1(s):c!==null?(c.return=a,at=c):G1(s);for(;i!==null;)at=i,v5(i),i=i.sibling;at=s,od=l,vn=d}$1(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,at=i):$1(e)}}function $1(e){for(;at!==null;){var t=at;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vn||Th(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!vn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:js(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&k1(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}k1(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&Ic(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}vn||t.flags&512&&vm(t)}catch(y){wr(t,t.return,y)}}if(t===e){at=null;break}if(r=t.sibling,r!==null){r.return=t.return,at=r;break}at=t.return}}function V1(e){for(;at!==null;){var t=at;if(t===e){at=null;break}var r=t.sibling;if(r!==null){r.return=t.return,at=r;break}at=t.return}}function G1(e){for(;at!==null;){var t=at;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Th(4,t)}catch(c){wr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){wr(t,s,c)}}var i=t.return;try{vm(t)}catch(c){wr(t,i,c)}break;case 5:var a=t.return;try{vm(t)}catch(c){wr(t,a,c)}}}catch(c){wr(t,t.return,c)}if(t===e){at=null;break}var l=t.sibling;if(l!==null){l.return=t.return,at=l;break}at=t.return}}var vN=Math.ceil,uh=bi.ReactCurrentDispatcher,Ug=bi.ReactCurrentOwner,hs=bi.ReactCurrentBatchConfig,$t=0,en=null,Br=null,on=0,Wn=0,Ho=fa(0),Wr=0,Vc=null,Ka=0,Ih=0,Bg=0,Nc=null,On=null,qg=0,hl=1/0,li=null,dh=!1,_m=null,na=null,ld=!1,Yi=null,hh=0,Sc=0,wm=null,Dd=-1,Md=0;function jn(){return $t&6?Cr():Dd!==-1?Dd:Dd=Cr()}function sa(e){return e.mode&1?$t&2&&on!==0?on&-on:eN.transition!==null?(Md===0&&(Md=ty()),Md):(e=Yt,e!==0||(e=window.event,e=e===void 0?16:ly(e.type)),e):1}function Ls(e,t,r,n){if(50<Sc)throw Sc=0,wm=null,Error(Ue(185));eu(e,r,n),(!($t&2)||e!==en)&&(e===en&&(!($t&2)&&(Ih|=r),Wr===4&&Gi(e,on)),Mn(e,n),r===1&&$t===0&&!(t.mode&1)&&(hl=Cr()+500,Eh&&pa()))}function Mn(e,t){var r=e.callbackNode;ex(e,t);var n=Kd(e,e===en?on:0);if(n===0)r!==null&&e1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&e1(r),t===1)e.tag===0?Zx(W1.bind(null,e)):ky(W1.bind(null,e)),Kx(function(){!($t&6)&&pa()}),r=null;else{switch(ry(n)){case 1:r=fg;break;case 4:r=Z2;break;case 16:r=Yd;break;case 536870912:r=ey;break;default:r=Yd}r=j5(r,y5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function y5(e,t){if(Dd=-1,Md=0,$t&6)throw Error(Ue(327));var r=e.callbackNode;if(el()&&e.callbackNode!==r)return null;var n=Kd(e,e===en?on:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=fh(e,n);else{t=n;var s=$t;$t|=2;var i=_5();(en!==e||on!==t)&&(li=null,hl=Cr()+500,$a(e,t));do try{_N();break}catch(l){b5(e,l)}while(!0);Cg(),uh.current=i,$t=s,Br!==null?t=0:(en=null,on=0,t=Wr)}if(t!==0){if(t===2&&(s=Yp(e),s!==0&&(n=s,t=xm(e,s))),t===1)throw r=Vc,$a(e,0),Gi(e,n),Mn(e,Cr()),r;if(t===6)Gi(e,n);else{if(s=e.current.alternate,!(n&30)&&!yN(s)&&(t=fh(e,n),t===2&&(i=Yp(e),i!==0&&(n=i,t=xm(e,i))),t===1))throw r=Vc,$a(e,0),Gi(e,n),Mn(e,Cr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Ue(345));case 2:Ta(e,On,li);break;case 3:if(Gi(e,n),(n&130023424)===n&&(t=qg+500-Cr(),10<t)){if(Kd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){jn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rm(Ta.bind(null,e,On,li),t);break}Ta(e,On,li);break;case 4:if(Gi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Ps(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Cr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vN(n/1960))-n,10<n){e.timeoutHandle=rm(Ta.bind(null,e,On,li),n);break}Ta(e,On,li);break;case 5:Ta(e,On,li);break;default:throw Error(Ue(329))}}}return Mn(e,Cr()),e.callbackNode===r?y5.bind(null,e):null}function xm(e,t){var r=Nc;return e.current.memoizedState.isDehydrated&&($a(e,t).flags|=256),e=fh(e,t),e!==2&&(t=On,On=r,t!==null&&Nm(t)),e}function Nm(e){On===null?On=e:On.push.apply(On,e)}function yN(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ts(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gi(e,t){for(t&=~Bg,t&=~Ih,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ps(t),n=1<<r;e[r]=-1,t&=~n}}function W1(e){if($t&6)throw Error(Ue(327));el();var t=Kd(e,0);if(!(t&1))return Mn(e,Cr()),null;var r=fh(e,t);if(e.tag!==0&&r===2){var n=Yp(e);n!==0&&(t=n,r=xm(e,n))}if(r===1)throw r=Vc,$a(e,0),Gi(e,t),Mn(e,Cr()),r;if(r===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ta(e,On,li),Mn(e,Cr()),null}function zg(e,t){var r=$t;$t|=1;try{return e(t)}finally{$t=r,$t===0&&(hl=Cr()+500,Eh&&pa())}}function Ja(e){Yi!==null&&Yi.tag===0&&!($t&6)&&el();var t=$t;$t|=1;var r=hs.transition,n=Yt;try{if(hs.transition=null,Yt=1,e)return e()}finally{Yt=n,hs.transition=r,$t=t,!($t&6)&&pa()}}function $g(){Wn=Ho.current,ur(Ho)}function $a(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Yx(r)),Br!==null)for(r=Br.return;r!==null;){var n=r;switch(Ng(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&eh();break;case 3:ul(),ur(Fn),ur(bn),Tg();break;case 5:Lg(n);break;case 4:ul();break;case 13:ur(mr);break;case 19:ur(mr);break;case 10:kg(n.type._context);break;case 22:case 23:$g()}r=r.return}if(en=e,Br=e=ia(e.current,null),on=Wn=t,Wr=0,Vc=null,Bg=Ih=Ka=0,On=Nc=null,Ba!==null){for(t=0;t<Ba.length;t++)if(r=Ba[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Ba=null}return e}function b5(e,t){do{var r=Br;try{if(Cg(),Od.current=ch,lh){for(var n=gr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}lh=!1}if(Ya=0,Qr=Gr=gr=null,wc=!1,qc=0,Ug.current=null,r===null||r.return===null){Wr=1,Vc=t,Br=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=on,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=I1(a);if(p!==null){p.flags&=-257,O1(p,a,l,i,t),p.mode&1&&T1(i,d,t),t=p,c=d;var x=t.updateQueue;if(x===null){var N=new Set;N.add(c),t.updateQueue=N}else x.add(c);break e}else{if(!(t&1)){T1(i,d,t),Vg();break e}c=Error(Ue(426))}}else if(hr&&l.mode&1){var C=I1(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),O1(C,a,l,i,t),Sg(dl(c,l));break e}}i=c=dl(c,l),Wr!==4&&(Wr=2),Nc===null?Nc=[i]:Nc.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var _=r5(i,c,t);C1(i,_);break e;case 1:l=c;var b=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(na===null||!na.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var R=n5(i,l,t);C1(i,R);break e}}i=i.return}while(i!==null)}x5(r)}catch(F){t=F,Br===r&&r!==null&&(Br=r=r.return);continue}break}while(!0)}function _5(){var e=uh.current;return uh.current=ch,e===null?ch:e}function Vg(){(Wr===0||Wr===3||Wr===2)&&(Wr=4),en===null||!(Ka&268435455)&&!(Ih&268435455)||Gi(en,on)}function fh(e,t){var r=$t;$t|=2;var n=_5();(en!==e||on!==t)&&(li=null,$a(e,t));do try{bN();break}catch(s){b5(e,s)}while(!0);if(Cg(),$t=r,uh.current=n,Br!==null)throw Error(Ue(261));return en=null,on=0,Wr}function bN(){for(;Br!==null;)w5(Br)}function _N(){for(;Br!==null&&!Gw();)w5(Br)}function w5(e){var t=S5(e.alternate,e,Wn);e.memoizedProps=e.pendingProps,t===null?x5(e):Br=t,Ug.current=null}function x5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=fN(r,t),r!==null){r.flags&=32767,Br=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wr=6,Br=null;return}}else if(r=hN(r,t,Wn),r!==null){Br=r;return}if(t=t.sibling,t!==null){Br=t;return}Br=t=e}while(t!==null);Wr===0&&(Wr=5)}function Ta(e,t,r){var n=Yt,s=hs.transition;try{hs.transition=null,Yt=1,wN(e,t,r,n)}finally{hs.transition=s,Yt=n}return null}function wN(e,t,r,n){do el();while(Yi!==null);if($t&6)throw Error(Ue(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(tx(e,i),e===en&&(Br=en=null,on=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ld||(ld=!0,j5(Yd,function(){return el(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=hs.transition,hs.transition=null;var a=Yt;Yt=1;var l=$t;$t|=4,Ug.current=null,mN(e,r),g5(r,e),qx(em),Jd=!!Zp,em=Zp=null,e.current=r,gN(r),Ww(),$t=l,Yt=a,hs.transition=i}else e.current=r;if(ld&&(ld=!1,Yi=e,hh=s),i=e.pendingLanes,i===0&&(na=null),Kw(r.stateNode),Mn(e,Cr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(dh)throw dh=!1,e=_m,_m=null,e;return hh&1&&e.tag!==0&&el(),i=e.pendingLanes,i&1?e===wm?Sc++:(Sc=0,wm=e):Sc=0,pa(),null}function el(){if(Yi!==null){var e=ry(hh),t=hs.transition,r=Yt;try{if(hs.transition=null,Yt=16>e?16:e,Yi===null)var n=!1;else{if(e=Yi,Yi=null,hh=0,$t&6)throw Error(Ue(331));var s=$t;for($t|=4,at=e.current;at!==null;){var i=at,a=i.child;if(at.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(at=d;at!==null;){var f=at;switch(f.tag){case 0:case 11:case 15:xc(8,f,i)}var g=f.child;if(g!==null)g.return=f,at=g;else for(;at!==null;){f=at;var y=f.sibling,p=f.return;if(f5(f),f===d){at=null;break}if(y!==null){y.return=p,at=y;break}at=p}}}var x=i.alternate;if(x!==null){var N=x.child;if(N!==null){x.child=null;do{var C=N.sibling;N.sibling=null,N=C}while(N!==null)}}at=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,at=a;else e:for(;at!==null;){if(i=at,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xc(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,at=_;break e}at=i.return}}var b=e.current;for(at=b;at!==null;){a=at;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,at=S;else e:for(a=b;at!==null;){if(l=at,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Th(9,l)}}catch(F){wr(l,l.return,F)}if(l===a){at=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,at=R;break e}at=l.return}}if($t=s,pa(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(Sh,e)}catch{}n=!0}return n}finally{Yt=r,hs.transition=t}}return!1}function H1(e,t,r){t=dl(r,t),t=r5(e,t,1),e=ra(e,t,1),t=jn(),e!==null&&(eu(e,1,t),Mn(e,t))}function wr(e,t,r){if(e.tag===3)H1(e,e,r);else for(;t!==null;){if(t.tag===3){H1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(na===null||!na.has(n))){e=dl(r,e),e=n5(t,e,1),t=ra(t,e,1),e=jn(),t!==null&&(eu(t,1,e),Mn(t,e));break}}t=t.return}}function xN(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=jn(),e.pingedLanes|=e.suspendedLanes&r,en===e&&(on&r)===r&&(Wr===4||Wr===3&&(on&130023424)===on&&500>Cr()-qg?$a(e,0):Bg|=r),Mn(e,t)}function N5(e,t){t===0&&(e.mode&1?(t=Qu,Qu<<=1,!(Qu&130023424)&&(Qu=4194304)):t=1);var r=jn();e=vi(e,t),e!==null&&(eu(e,t,r),Mn(e,r))}function NN(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),N5(e,r)}function SN(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ue(314))}n!==null&&n.delete(t),N5(e,r)}var S5;S5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fn.current)Rn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Rn=!1,dN(e,t,r);Rn=!!(e.flags&131072)}else Rn=!1,hr&&t.flags&1048576&&Ay(t,nh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fd(e,t),e=t.pendingProps;var s=ol(t,bn.current);Zo(t,r),s=Og(null,t,n,e,s,r);var i=Rg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dn(n)?(i=!0,th(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Eg(t),s.updater=Lh,t.stateNode=s,s._reactInternals=t,cm(t,n,e,r),t=hm(null,t,n,!0,i,r)):(t.tag=0,hr&&i&&xg(t),Nn(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=CN(n),e=js(n,e),s){case 0:t=dm(null,t,n,e,r);break e;case 1:t=D1(null,t,n,e,r);break e;case 11:t=R1(null,t,n,e,r);break e;case 14:t=F1(null,t,n,js(n.type,e),r);break e}throw Error(Ue(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:js(n,s),dm(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:js(n,s),D1(e,t,n,s,r);case 3:e:{if(o5(t),e===null)throw Error(Ue(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Oy(e,t),ah(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=dl(Error(Ue(423)),t),t=M1(e,t,n,r,s);break e}else if(n!==s){s=dl(Error(Ue(424)),t),t=M1(e,t,n,r,s);break e}else for(Kn=ta(t.stateNode.containerInfo.firstChild),Xn=t,hr=!0,Es=null,r=Ty(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ll(),n===s){t=yi(e,t,r);break e}Nn(e,t,n,r)}t=t.child}return t;case 5:return Ry(t),e===null&&am(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,tm(n,s)?a=null:i!==null&&tm(n,i)&&(t.flags|=32),a5(e,t),Nn(e,t,a,r),t.child;case 6:return e===null&&am(t),null;case 13:return l5(e,t,r);case 4:return Pg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=cl(t,null,n,r):Nn(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:js(n,s),R1(e,t,n,s,r);case 7:return Nn(e,t,t.pendingProps,r),t.child;case 8:return Nn(e,t,t.pendingProps.children,r),t.child;case 12:return Nn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,ar(sh,n._currentValue),n._currentValue=a,i!==null)if(Ts(i.value,a)){if(i.children===s.children&&!Fn.current){t=yi(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=pi(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),om(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Ue(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),om(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Nn(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Zo(t,r),s=fs(s),n=n(s),t.flags|=1,Nn(e,t,n,r),t.child;case 14:return n=t.type,s=js(n,t.pendingProps),s=js(n.type,s),F1(e,t,n,s,r);case 15:return s5(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:js(n,s),Fd(e,t),t.tag=1,Dn(n)?(e=!0,th(t)):e=!1,Zo(t,r),t5(t,n,s),cm(t,n,s,r),hm(null,t,n,!0,e,r);case 19:return c5(e,t,r);case 22:return i5(e,t,r)}throw Error(Ue(156,t.tag))};function j5(e,t){return Q2(e,t)}function jN(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ds(e,t,r,n){return new jN(e,t,r,n)}function Gg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function CN(e){if(typeof e=="function")return Gg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ug)return 11;if(e===dg)return 14}return 2}function ia(e,t){var r=e.alternate;return r===null?(r=ds(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ud(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Gg(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Do:return Va(r.children,s,i,t);case cg:a=8,s|=8;break;case Ip:return e=ds(12,r,t,s|2),e.elementType=Ip,e.lanes=i,e;case Op:return e=ds(13,r,t,s),e.elementType=Op,e.lanes=i,e;case Rp:return e=ds(19,r,t,s),e.elementType=Rp,e.lanes=i,e;case R2:return Oh(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I2:a=10;break e;case O2:a=9;break e;case ug:a=11;break e;case dg:a=14;break e;case zi:a=16,n=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=ds(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Va(e,t,r,n){return e=ds(7,e,n,t),e.lanes=r,e}function Oh(e,t,r,n){return e=ds(22,e,n,t),e.elementType=R2,e.lanes=r,e.stateNode={isHidden:!1},e}function np(e,t,r){return e=ds(6,e,null,t),e.lanes=r,e}function sp(e,t,r){return t=ds(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kN(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mf(0),this.expirationTimes=Mf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wg(e,t,r,n,s,i,a,l,c){return e=new kN(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ds(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eg(i),e}function AN(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function C5(e){if(!e)return ca;e=e._reactInternals;e:{if(Qa(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var r=e.type;if(Dn(r))return Cy(e,r,t)}return t}function k5(e,t,r,n,s,i,a,l,c){return e=Wg(r,n,!0,e,s,i,a,l,c),e.context=C5(null),r=e.current,n=jn(),s=sa(r),i=pi(n,s),i.callback=t??null,ra(r,i,s),e.current.lanes=s,eu(e,s,n),Mn(e,n),e}function Rh(e,t,r,n){var s=t.current,i=jn(),a=sa(s);return r=C5(r),t.context===null?t.context=r:t.pendingContext=r,t=pi(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ra(s,t,a),e!==null&&(Ls(e,s,a,i),Id(e,s,a)),a}function ph(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Y1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hg(e,t){Y1(e,t),(e=e.alternate)&&Y1(e,t)}function EN(){return null}var A5=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yg(e){this._internalRoot=e}Fh.prototype.render=Yg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));Rh(e,t,null,null)};Fh.prototype.unmount=Yg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ja(function(){Rh(null,e,null,null)}),t[gi]=null}};function Fh(e){this._internalRoot=e}Fh.prototype.unstable_scheduleHydration=function(e){if(e){var t=iy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Vi.length&&t!==0&&t<Vi[r].priority;r++);Vi.splice(r,0,e),r===0&&oy(e)}};function Kg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function K1(){}function PN(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=ph(a);i.call(d)}}var a=k5(t,n,e,0,null,!1,!1,"",K1);return e._reactRootContainer=a,e[gi]=a.current,Fc(e.nodeType===8?e.parentNode:e),Ja(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=ph(c);l.call(d)}}var c=Wg(e,0,!1,null,null,!1,!1,"",K1);return e._reactRootContainer=c,e[gi]=c.current,Fc(e.nodeType===8?e.parentNode:e),Ja(function(){Rh(t,c,r,n)}),c}function Mh(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=ph(a);l.call(c)}}Rh(t,a,e,s)}else a=PN(r,t,e,s,n);return ph(a)}ny=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=fc(t.pendingLanes);r!==0&&(pg(t,r|1),Mn(t,Cr()),!($t&6)&&(hl=Cr()+500,pa()))}break;case 13:Ja(function(){var n=vi(e,1);if(n!==null){var s=jn();Ls(n,e,1,s)}}),Hg(e,1)}};mg=function(e){if(e.tag===13){var t=vi(e,134217728);if(t!==null){var r=jn();Ls(t,e,134217728,r)}Hg(e,134217728)}};sy=function(e){if(e.tag===13){var t=sa(e),r=vi(e,t);if(r!==null){var n=jn();Ls(r,e,t,n)}Hg(e,t)}};iy=function(){return Yt};ay=function(e,t){var r=Yt;try{return Yt=e,t()}finally{Yt=r}};Gp=function(e,t,r){switch(t){case"input":if(Mp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ah(n);if(!s)throw Error(Ue(90));D2(n),Mp(n,s)}}}break;case"textarea":U2(e,r);break;case"select":t=r.value,t!=null&&Ko(e,!!r.multiple,t,!1)}};W2=zg;H2=Ja;var LN={usingClientEntryPoint:!1,Events:[ru,qo,Ah,V2,G2,zg]},lc={findFiberByHostInstance:Ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TN={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=J2(e),e===null?null:e.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||EN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{Sh=cd.inject(TN),Ws=cd}catch{}}Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LN;Zn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kg(t))throw Error(Ue(200));return AN(e,t,null,r)};Zn.createRoot=function(e,t){if(!Kg(e))throw Error(Ue(299));var r=!1,n="",s=A5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Wg(e,1,!1,null,null,r,!1,n,s),e[gi]=t.current,Fc(e.nodeType===8?e.parentNode:e),new Yg(t)};Zn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=J2(t),e=e===null?null:e.stateNode,e};Zn.flushSync=function(e){return Ja(e)};Zn.hydrate=function(e,t,r){if(!Dh(t))throw Error(Ue(200));return Mh(null,e,t,!0,r)};Zn.hydrateRoot=function(e,t,r){if(!Kg(e))throw Error(Ue(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=A5;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=k5(t,null,e,1,r??null,s,!1,i,a),e[gi]=t.current,Fc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Fh(t)};Zn.render=function(e,t,r){if(!Dh(t))throw Error(Ue(200));return Mh(null,e,t,!1,r)};Zn.unmountComponentAtNode=function(e){if(!Dh(e))throw Error(Ue(40));return e._reactRootContainer?(Ja(function(){Mh(null,null,e,!1,function(){e._reactRootContainer=null,e[gi]=null})}),!0):!1};Zn.unstable_batchedUpdates=zg;Zn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Dh(r))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return Mh(e,t,r,!1,n)};Zn.version="18.3.1-next-f1338f8080-20240426";function E5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E5)}catch(e){console.error(e)}}E5(),E2.exports=Zn;var IN=E2.exports,J1=IN;Lp.createRoot=J1.createRoot,Lp.hydrateRoot=J1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gc.apply(this,arguments)}var Ki;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ki||(Ki={}));const X1="popstate";function ON(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:l}=n.location;return Sm("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:mh(s)}return FN(t,r,null,e)}function Pr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function P5(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RN(){return Math.random().toString(36).substr(2,8)}function Q1(e,t){return{usr:e.state,key:e.key,idx:t}}function Sm(e,t,r,n){return r===void 0&&(r=null),Gc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yl(t):t,{state:r,key:t&&t.key||n||RN()})}function mh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function FN(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=Ki.Pop,c=null,d=f();d==null&&(d=0,a.replaceState(Gc({},a.state,{idx:d}),""));function f(){return(a.state||{idx:null}).idx}function g(){l=Ki.Pop;let C=f(),_=C==null?null:C-d;d=C,c&&c({action:l,location:N.location,delta:_})}function y(C,_){l=Ki.Push;let b=Sm(N.location,C,_);d=f()+1;let S=Q1(b,d),R=N.createHref(b);try{a.pushState(S,"",R)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(R)}i&&c&&c({action:l,location:N.location,delta:1})}function p(C,_){l=Ki.Replace;let b=Sm(N.location,C,_);d=f();let S=Q1(b,d),R=N.createHref(b);a.replaceState(S,"",R),i&&c&&c({action:l,location:N.location,delta:0})}function x(C){let _=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof C=="string"?C:mh(C);return b=b.replace(/ $/,"%20"),Pr(_,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,_)}let N={get action(){return l},get location(){return e(s,a)},listen(C){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(X1,g),c=C,()=>{s.removeEventListener(X1,g),c=null}},createHref(C){return t(s,C)},createURL:x,encodeLocation(C){let _=x(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:p,go(C){return a.go(C)}};return N}var Z1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Z1||(Z1={}));function DN(e,t,r){return r===void 0&&(r="/"),MN(e,t,r)}function MN(e,t,r,n){let s=typeof t=="string"?yl(t):t,i=Jg(s.pathname||"/",r);if(i==null)return null;let a=L5(e);UN(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=XN(i);l=YN(a[c],d)}return l}function L5(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Pr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=aa([n,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(Pr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),L5(i.children,t,f,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:WN(d,i.index),routesMeta:f})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of T5(i.path))s(i,a,c)}),t}function T5(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=T5(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function UN(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:HN(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const BN=/^:[\w-]+$/,qN=3,zN=2,$N=1,VN=10,GN=-2,ev=e=>e==="*";function WN(e,t){let r=e.split("/"),n=r.length;return r.some(ev)&&(n+=GN),t&&(n+=zN),r.filter(s=>!ev(s)).reduce((s,i)=>s+(BN.test(i)?qN:i===""?$N:VN),n)}function HN(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function YN(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",g=KN({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),y=c.route;if(!g)return null;Object.assign(s,g.params),a.push({params:s,pathname:aa([i,g.pathname]),pathnameBase:t3(aa([i,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(i=aa([i,g.pathnameBase]))}return a}function KN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=JN(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,f,g)=>{let{paramName:y,isOptional:p}=f;if(y==="*"){let N=l[g]||"";a=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const x=l[g];return p&&!x?d[y]=void 0:d[y]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:e}}function JN(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),P5(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function XN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return P5(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function QN(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?yl(e):e;return{pathname:r?r.startsWith("/")?r:ZN(r,t):t,search:r3(n),hash:n3(s)}}function ZN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ip(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function e3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Xg(e,t){let r=e3(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Qg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=yl(e):(s=Gc({},e),Pr(!s.pathname||!s.pathname.includes("?"),ip("?","pathname","search",s)),Pr(!s.pathname||!s.pathname.includes("#"),ip("#","pathname","hash",s)),Pr(!s.search||!s.search.includes("#"),ip("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let g=t.length-1;if(!n&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}l=g>=0?t[g]:"/"}let c=QN(s,l),d=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const aa=e=>e.join("/").replace(/\/\/+/g,"/"),t3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),r3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,n3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function s3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const I5=["post","put","patch","delete"];new Set(I5);const i3=["get",...I5];new Set(i3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wc.apply(this,arguments)}const Zg=H.createContext(null),a3=H.createContext(null),ma=H.createContext(null),Uh=H.createContext(null),_i=H.createContext({outlet:null,matches:[],isDataRoute:!1}),O5=H.createContext(null);function o3(e,t){let{relative:r}=t===void 0?{}:t;bl()||Pr(!1);let{basename:n,navigator:s}=H.useContext(ma),{hash:i,pathname:a,search:l}=F5(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:aa([n,a])),s.createHref({pathname:c,search:l,hash:i})}function bl(){return H.useContext(Uh)!=null}function ga(){return bl()||Pr(!1),H.useContext(Uh).location}function R5(e){H.useContext(ma).static||H.useLayoutEffect(e)}function _l(){let{isDataRoute:e}=H.useContext(_i);return e?w3():l3()}function l3(){bl()||Pr(!1);let e=H.useContext(Zg),{basename:t,future:r,navigator:n}=H.useContext(ma),{matches:s}=H.useContext(_i),{pathname:i}=ga(),a=JSON.stringify(Xg(s,r.v7_relativeSplatPath)),l=H.useRef(!1);return R5(()=>{l.current=!0}),H.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=Qg(d,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:aa([t,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[t,n,a,i,e])}function c3(){let{matches:e}=H.useContext(_i),t=e[e.length-1];return t?t.params:{}}function F5(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=H.useContext(ma),{matches:s}=H.useContext(_i),{pathname:i}=ga(),a=JSON.stringify(Xg(s,n.v7_relativeSplatPath));return H.useMemo(()=>Qg(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function u3(e,t){return d3(e,t)}function d3(e,t,r,n){bl()||Pr(!1);let{navigator:s}=H.useContext(ma),{matches:i}=H.useContext(_i),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=ga(),f;if(t){var g;let C=typeof t=="string"?yl(t):t;c==="/"||(g=C.pathname)!=null&&g.startsWith(c)||Pr(!1),f=C}else f=d;let y=f.pathname||"/",p=y;if(c!=="/"){let C=c.replace(/^\//,"").split("/");p="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let x=DN(e,{pathname:p}),N=g3(x&&x.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:aa([c,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:aa([c,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),i,r,n);return t&&N?H.createElement(Uh.Provider,{value:{location:Wc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ki.Pop}},N):N}function h3(){let e=_3(),t=s3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),r?H.createElement("pre",{style:s},r):null,null)}const f3=H.createElement(h3,null);class p3 extends H.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?H.createElement(_i.Provider,{value:this.props.routeContext},H.createElement(O5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m3(e){let{routeContext:t,match:r,children:n}=e,s=H.useContext(Zg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),H.createElement(_i.Provider,{value:t},n)}function g3(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);f>=0||Pr(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<a.length;f++){let g=a[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=f),g.route.id){let{loaderData:y,errors:p}=r,x=g.route.loader&&y[g.route.id]===void 0&&(!p||p[g.route.id]===void 0);if(g.route.lazy||x){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,g,y)=>{let p,x=!1,N=null,C=null;r&&(p=l&&g.route.id?l[g.route.id]:void 0,N=g.route.errorElement||f3,c&&(d<0&&y===0?(x3("route-fallback"),x=!0,C=null):d===y&&(x=!0,C=g.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,y+1)),b=()=>{let S;return p?S=N:x?S=C:g.route.Component?S=H.createElement(g.route.Component,null):g.route.element?S=g.route.element:S=f,H.createElement(m3,{match:g,routeContext:{outlet:f,matches:_,isDataRoute:r!=null},children:S})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?H.createElement(p3,{location:r.location,revalidation:r.revalidation,component:N,error:p,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):b()},null)}var D5=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(D5||{}),M5=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(M5||{});function v3(e){let t=H.useContext(Zg);return t||Pr(!1),t}function y3(e){let t=H.useContext(a3);return t||Pr(!1),t}function b3(e){let t=H.useContext(_i);return t||Pr(!1),t}function U5(e){let t=b3(),r=t.matches[t.matches.length-1];return r.route.id||Pr(!1),r.route.id}function _3(){var e;let t=H.useContext(O5),r=y3(),n=U5();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function w3(){let{router:e}=v3(D5.UseNavigateStable),t=U5(M5.UseNavigateStable),r=H.useRef(!1);return R5(()=>{r.current=!0}),H.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Wc({fromRouteId:t},i)))},[e,t])}const tv={};function x3(e,t,r){tv[e]||(tv[e]=!0)}function N3(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function jm(e){let{to:t,replace:r,state:n,relative:s}=e;bl()||Pr(!1);let{future:i,static:a}=H.useContext(ma),{matches:l}=H.useContext(_i),{pathname:c}=ga(),d=_l(),f=Qg(t,Xg(l,i.v7_relativeSplatPath),c,s==="path"),g=JSON.stringify(f);return H.useEffect(()=>d(JSON.parse(g),{replace:r,state:n,relative:s}),[d,g,s,r,n]),null}function Mr(e){Pr(!1)}function S3(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ki.Pop,navigator:i,static:a=!1,future:l}=e;bl()&&Pr(!1);let c=t.replace(/^\/*/,"/"),d=H.useMemo(()=>({basename:c,navigator:i,static:a,future:Wc({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof n=="string"&&(n=yl(n));let{pathname:f="/",search:g="",hash:y="",state:p=null,key:x="default"}=n,N=H.useMemo(()=>{let C=Jg(f,c);return C==null?null:{location:{pathname:C,search:g,hash:y,state:p,key:x},navigationType:s}},[c,f,g,y,p,x,s]);return N==null?null:H.createElement(ma.Provider,{value:d},H.createElement(Uh.Provider,{children:r,value:N}))}function j3(e){let{children:t,location:r}=e;return u3(Cm(t),r)}new Promise(()=>{});function Cm(e,t){t===void 0&&(t=[]);let r=[];return H.Children.forEach(e,(n,s)=>{if(!H.isValidElement(n))return;let i=[...t,s];if(n.type===H.Fragment){r.push.apply(r,Cm(n.props.children,i));return}n.type!==Mr&&Pr(!1),!n.props.index||!n.props.children||Pr(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Cm(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},km.apply(this,arguments)}function C3(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function k3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function A3(e,t){return e.button===0&&(!t||t==="_self")&&!k3(e)}const E3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],P3="6";try{window.__reactRouterVersion=P3}catch{}const L3="startTransition",rv=xw[L3];function T3(e){let{basename:t,children:r,future:n,window:s}=e,i=H.useRef();i.current==null&&(i.current=ON({window:s,v5Compat:!0}));let a=i.current,[l,c]=H.useState({action:a.action,location:a.location}),{v7_startTransition:d}=n||{},f=H.useCallback(g=>{d&&rv?rv(()=>c(g)):c(g)},[c,d]);return H.useLayoutEffect(()=>a.listen(f),[a,f]),H.useEffect(()=>N3(n),[n]),H.createElement(S3,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const I3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",O3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ji=H.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:d,preventScrollReset:f,viewTransition:g}=t,y=C3(t,E3),{basename:p}=H.useContext(ma),x,N=!1;if(typeof d=="string"&&O3.test(d)&&(x=d,I3))try{let S=new URL(window.location.href),R=d.startsWith("//")?new URL(S.protocol+d):new URL(d),F=Jg(R.pathname,p);R.origin===S.origin&&F!=null?d=F+R.search+R.hash:N=!0}catch{}let C=o3(d,{relative:s}),_=R3(d,{replace:a,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:g});function b(S){n&&n(S),S.defaultPrevented||_(S)}return H.createElement("a",km({},y,{href:x||C,onClick:N||i?n:b,ref:r,target:c}))});var nv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(nv||(nv={}));var sv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sv||(sv={}));function R3(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=_l(),d=ga(),f=F5(e,{relative:a});return H.useCallback(g=>{if(A3(g,r)){g.preventDefault();let y=n!==void 0?n:mh(d)===mh(f);c(e,{replace:y,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,f,n,s,r,e,i,a,l])}const F3={},iv=e=>{let t;const r=new Set,n=(f,g)=>{const y=typeof f=="function"?f(t):f;if(!Object.is(y,t)){const p=t;t=g??(typeof y!="object"||y===null)?y:Object.assign({},t,y),r.forEach(x=>x(t,p))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>d,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(F3?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=t=e(n,s,c);return c},D3=e=>e?iv(e):iv;var B5={exports:{}},q5={},z5={exports:{}},$5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=H;function M3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var U3=typeof Object.is=="function"?Object.is:M3,B3=fl.useState,q3=fl.useEffect,z3=fl.useLayoutEffect,$3=fl.useDebugValue;function V3(e,t){var r=t(),n=B3({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return z3(function(){s.value=r,s.getSnapshot=t,ap(s)&&i({inst:s})},[e,r,t]),q3(function(){return ap(s)&&i({inst:s}),e(function(){ap(s)&&i({inst:s})})},[e]),$3(r),r}function ap(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!U3(e,r)}catch{return!0}}function G3(e,t){return t()}var W3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?G3:V3;$5.useSyncExternalStore=fl.useSyncExternalStore!==void 0?fl.useSyncExternalStore:W3;z5.exports=$5;var H3=z5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh=H,Y3=H3;function K3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var J3=typeof Object.is=="function"?Object.is:K3,X3=Y3.useSyncExternalStore,Q3=Bh.useRef,Z3=Bh.useEffect,eS=Bh.useMemo,tS=Bh.useDebugValue;q5.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=Q3(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=eS(function(){function c(p){if(!d){if(d=!0,f=p,p=n(p),s!==void 0&&a.hasValue){var x=a.value;if(s(x,p))return g=x}return g=p}if(x=g,J3(f,p))return x;var N=n(p);return s!==void 0&&s(x,N)?(f=p,x):(f=p,g=N)}var d=!1,f,g,y=r===void 0?null:r;return[function(){return c(t())},y===null?void 0:function(){return c(y())}]},[t,r,n,s]);var l=X3(e,i[0],i[1]);return Z3(function(){a.hasValue=!0,a.value=l},[l]),tS(l),l};B5.exports=q5;var rS=B5.exports;const nS=g2(rS),V5={},{useDebugValue:sS}=k2,{useSyncExternalStoreWithSelector:iS}=nS;let av=!1;const aS=e=>e;function oS(e,t=aS,r){(V5?"production":void 0)!=="production"&&r&&!av&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),av=!0);const n=iS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return sS(n),n}const ov=e=>{(V5?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?D3(e):e,r=(n,s)=>oS(t,n,s);return Object.assign(r,t),r},G5=e=>e?ov(e):ov,Bd="admin-auth",lS=()=>{if(typeof window>"u")return null;try{const e=localStorage.getItem(Bd);return e?JSON.parse(e):null}catch(e){return console.error("Failed to read auth storage",e),null}},e0=G5(e=>({user:lS(),setUser:t=>{if(e({user:t}),t)try{localStorage.setItem(Bd,JSON.stringify(t))}catch(r){console.error("Failed to persist auth",r)}else localStorage.removeItem(Bd)},signOut:()=>{e({user:null}),localStorage.removeItem(Bd)}}));var Am=function(e,t){return Am=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Am(e,t)};function W5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Am(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var gh=function(){return gh=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},gh.apply(this,arguments)};function wl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function H5(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function Y5(e,t){return function(r,n){t(r,n,e)}}function K5(e,t,r,n,s,i){function a(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,f=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),g,y=!1,p=r.length-1;p>=0;p--){var x={};for(var N in n)x[N]=N==="access"?{}:n[N];for(var N in n.access)x.access[N]=n.access[N];x.addInitializer=function(_){if(y)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(_||null))};var C=(0,r[p])(l==="accessor"?{get:f.get,set:f.set}:f[c],x);if(l==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(g=a(C.get))&&(f.get=g),(g=a(C.set))&&(f.set=g),(g=a(C.init))&&s.unshift(g)}else(g=a(C))&&(l==="field"?s.unshift(g):f[c]=g)}d&&Object.defineProperty(d,n.name,f),y=!0}function J5(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function X5(e){return typeof e=="symbol"?e:"".concat(e)}function Q5(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Z5(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ut(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(f){try{d(n.next(f))}catch(g){a(g)}}function c(f){try{d(n.throw(f))}catch(g){a(g)}}function d(f){f.done?i(f.value):s(f.value).then(l,c)}d((n=n.apply(e,t||[])).next())})}function eb(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(f){return c([d,f])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(f){d=[6,f],s=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var qh=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function tb(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&qh(t,e,r)}function vh(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function t0(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function rb(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(t0(arguments[t]));return e}function nb(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,s++)n[s]=i[a];return n}function sb(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function pl(e){return this instanceof pl?(this.v=e,this):new pl(e)}function ib(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(p){return function(x){return Promise.resolve(x).then(p,g)}}function l(p,x){n[p]&&(s[p]=function(N){return new Promise(function(C,_){i.push([p,N,C,_])>1||c(p,N)})},x&&(s[p]=x(s[p])))}function c(p,x){try{d(n[p](x))}catch(N){y(i[0][3],N)}}function d(p){p.value instanceof pl?Promise.resolve(p.value.v).then(f,g):y(i[0][2],p)}function f(p){c("next",p)}function g(p){c("throw",p)}function y(p,x){p(x),i.shift(),i.length&&c(i[0][0],i[0][1])}}function ab(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(a){return(r=!r)?{value:pl(e[s](a)),done:!1}:i?i(a):a}:i}}function ob(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof vh=="function"?vh(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(l,c){a=e[i](a),s(l,c,a.done,a.value)})}}function s(i,a,l,c){Promise.resolve(c).then(function(d){i({value:d,done:l})},a)}}function lb(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var cS=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Em=function(e){return Em=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Em(e)};function cb(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Em(e),n=0;n<r.length;n++)r[n]!=="default"&&qh(t,e,r[n]);return cS(t,e),t}function ub(e){return e&&e.__esModule?e:{default:e}}function db(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function hb(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function fb(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function pb(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var uS=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function mb(e){function t(i){e.error=e.hasError?new uS(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return t(a),s()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function gb(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?t?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):e}const dS={__extends:W5,__assign:gh,__rest:wl,__decorate:H5,__param:Y5,__esDecorate:K5,__runInitializers:J5,__propKey:X5,__setFunctionName:Q5,__metadata:Z5,__awaiter:ut,__generator:eb,__createBinding:qh,__exportStar:tb,__values:vh,__read:t0,__spread:rb,__spreadArrays:nb,__spreadArray:sb,__await:pl,__asyncGenerator:ib,__asyncDelegator:ab,__asyncValues:ob,__makeTemplateObject:lb,__importStar:cb,__importDefault:ub,__classPrivateFieldGet:db,__classPrivateFieldSet:hb,__classPrivateFieldIn:fb,__addDisposableResource:pb,__disposeResources:mb,__rewriteRelativeImportExtension:gb},hS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:pb,get __assign(){return gh},__asyncDelegator:ab,__asyncGenerator:ib,__asyncValues:ob,__await:pl,__awaiter:ut,__classPrivateFieldGet:db,__classPrivateFieldIn:fb,__classPrivateFieldSet:hb,__createBinding:qh,__decorate:H5,__disposeResources:mb,__esDecorate:K5,__exportStar:tb,__extends:W5,__generator:eb,__importDefault:ub,__importStar:cb,__makeTemplateObject:lb,__metadata:Z5,__param:Y5,__propKey:X5,__read:t0,__rest:wl,__rewriteRelativeImportExtension:gb,__runInitializers:J5,__setFunctionName:Q5,__spread:rb,__spreadArray:sb,__spreadArrays:nb,__values:vh,default:dS},Symbol.toStringTag,{value:"Module"})),fS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class r0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class pS extends r0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class lv extends r0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cv extends r0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Pm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Pm||(Pm={}));class mS{constructor(t,{headers:r={},customFetch:n,region:s=Pm.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=fS(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ut(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:c,body:d,signal:f,timeout:g}=n;let y={},{region:p}=n;p||(p=this.region);const x=new URL(`${this.url}/${r}`);p&&p!=="any"&&(y["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let N;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",N=d):typeof d=="string"?(y["Content-Type"]="text/plain",N=d):typeof FormData<"u"&&d instanceof FormData?N=d:(y["Content-Type"]="application/json",N=JSON.stringify(d)):N=d;let C=f;g&&(a=new AbortController,i=setTimeout(()=>a.abort(),g),f?(C=a.signal,f.addEventListener("abort",()=>a.abort())):C=a.signal);const _=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),l),body:N,signal:C}).catch(F=>{throw new pS(F)}),b=_.headers.get("x-relay-error");if(b&&b==="true")throw new lv(_);if(!_.ok)throw new cv(_);let S=((s=_.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),R;return S==="application/json"?R=yield _.json():S==="application/octet-stream"||S==="application/pdf"?R=yield _.blob():S==="text/event-stream"?R=_:S==="multipart/form-data"?R=yield _.formData():R=yield _.text(),{data:R,error:null,response:_}}catch(l){return{data:null,error:l,response:l instanceof cv||l instanceof lv?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Sn={};const xl=aw(hS);var ud={},dd={},hd={},fd={},pd={},md={},uv;function vb(){if(uv)return md;uv=1,Object.defineProperty(md,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return md.default=e,md}var dv;function yb(){if(dv)return pd;dv=1,Object.defineProperty(pd,"__esModule",{value:!0});const t=xl.__importDefault(vb());class r{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,f,g,y;let p=null,x=null,N=null,C=c.status,_=c.statusText;if(c.ok){if(this.method!=="HEAD"){const F=await c.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?x=F:x=JSON.parse(F))}const S=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),R=(g=c.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");S&&R&&R.length>1&&(N=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(p={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,N=null,C=406,_="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const S=await c.text();try{p=JSON.parse(S),Array.isArray(p)&&c.status===404&&(x=[],p=null,C=200,_="OK")}catch{c.status===404&&S===""?(C=204,_="No Content"):p={message:S}}if(p&&this.isMaybeSingle&&(!((y=p==null?void 0:p.details)===null||y===void 0)&&y.includes("0 rows"))&&(p=null,C=200,_="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:x,count:N,status:C,statusText:_}});return this.shouldThrowOnError||(l=l.catch(c=>{var d,f,g;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(g=c==null?void 0:c.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return pd.default=r,pd}var hv;function bb(){if(hv)return fd;hv=1,Object.defineProperty(fd,"__esModule",{value:!0});const t=xl.__importDefault(yb());class r extends t.default{select(s){let i=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(d,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var f;const g=[s?"analyze":null,i?"verbose":null,a?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${y}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return fd.default=r,fd}var fv;function n0(){if(fv)return hd;fv=1,Object.defineProperty(hd,"__esModule",{value:!0});const t=xl.__importDefault(bb()),r=new RegExp("[,()]");class n extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${f}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return hd.default=n,hd}var pv;function _b(){if(pv)return dd;pv=1,Object.defineProperty(dd,"__esModule",{value:!0});const t=xl.__importDefault(n0());class r{constructor(s,{headers:i={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=l}select(s,i){const{head:a=!1,count:l}=i??{},c=a?"HEAD":"GET";let d=!1;const f=(s??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(d.length>0){const f=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:l,defaultToNull:c=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((y,p)=>y.concat(Object.keys(p)),[]);if(g.length>0){const y=[...new Set(g)].map(p=>`"${p}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:i}={}){var a;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return dd.default=r,dd}var mv;function gS(){if(mv)return ud;mv=1,Object.defineProperty(ud,"__esModule",{value:!0});const e=xl,t=e.__importDefault(_b()),r=e.__importDefault(n0());class n{constructor(i,{headers:a={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(a),this.schemaName=l,this.fetch=c}from(i){const a=new URL(`${this.url}/${i}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:c=!1,count:d}={}){var f;let g;const y=new URL(`${this.url}/rpc/${i}`);let p;l||c?(g=l?"HEAD":"GET",Object.entries(a).filter(([N,C])=>C!==void 0).map(([N,C])=>[N,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([N,C])=>{y.searchParams.append(N,C)})):(g="POST",p=a);const x=new Headers(this.headers);return d&&x.set("Prefer",`count=${d}`),new r.default({method:g,url:y,headers:x,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return ud.default=n,ud}Object.defineProperty(Sn,"__esModule",{value:!0});var wb=Sn.PostgrestError=Lb=Sn.PostgrestBuilder=Eb=Sn.PostgrestTransformBuilder=kb=Sn.PostgrestFilterBuilder=jb=Sn.PostgrestQueryBuilder=Nb=Sn.PostgrestClient=void 0;const Nl=xl,xb=Nl.__importDefault(gS());var Nb=Sn.PostgrestClient=xb.default;const Sb=Nl.__importDefault(_b());var jb=Sn.PostgrestQueryBuilder=Sb.default;const Cb=Nl.__importDefault(n0());var kb=Sn.PostgrestFilterBuilder=Cb.default;const Ab=Nl.__importDefault(bb());var Eb=Sn.PostgrestTransformBuilder=Ab.default;const Pb=Nl.__importDefault(yb());var Lb=Sn.PostgrestBuilder=Pb.default;const Tb=Nl.__importDefault(vb());wb=Sn.PostgrestError=Tb.default;var Ib=Sn.default={PostgrestClient:xb.default,PostgrestQueryBuilder:Sb.default,PostgrestFilterBuilder:Cb.default,PostgrestTransformBuilder:Ab.default,PostgrestBuilder:Pb.default,PostgrestError:Tb.default};const vS=m2({__proto__:null,get PostgrestBuilder(){return Lb},get PostgrestClient(){return Nb},get PostgrestError(){return wb},get PostgrestFilterBuilder(){return kb},get PostgrestQueryBuilder(){return jb},get PostgrestTransformBuilder(){return Eb},default:Ib},[Sn]),{PostgrestClient:yS,PostgrestQueryBuilder:qC,PostgrestFilterBuilder:zC,PostgrestTransformBuilder:$C,PostgrestBuilder:VC,PostgrestError:GC}=Ib||vS;class bS{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const _S="2.81.1",wS=`realtime-js/${_S}`,Ob="1.0.0",xS="2.0.0",gv=Ob,Lm=1e4,NS=1e3,SS=100;var Ra;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ra||(Ra={}));var Vr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Vr||(Vr={}));var ls;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ls||(ls={}));var Tm;(function(e){e.websocket="websocket"})(Tm||(Tm={}));var Fa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Fa||(Fa={}));class jS{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){const{join_ref:r,ref:n,event:s,topic:i,payload:a}=t,l=this.META_LENGTH+r.length+n.length+i.length+s.length,c=new ArrayBuffer(this.HEADER_LENGTH+l);let d=new DataView(c),f=0;d.setUint8(f++,this.KINDS.push),d.setUint8(f++,r.length),d.setUint8(f++,n.length),d.setUint8(f++,i.length),d.setUint8(f++,s.length),Array.from(r,y=>d.setUint8(f++,y.charCodeAt(0))),Array.from(n,y=>d.setUint8(f++,y.charCodeAt(0))),Array.from(i,y=>d.setUint8(f++,y.charCodeAt(0))),Array.from(s,y=>d.setUint8(f++,y.charCodeAt(0)));var g=new Uint8Array(c.byteLength+a.byteLength);return g.set(new Uint8Array(c),0),g.set(new Uint8Array(a),c.byteLength),g.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const{join_ref:s,ref:i,topic:a}=t,l=t.payload.event,c=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+a.length+l.length,f=new ArrayBuffer(this.HEADER_LENGTH+d);let g=new DataView(f),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,s.length),g.setUint8(y++,i.length),g.setUint8(y++,a.length),g.setUint8(y++,l.length),g.setUint8(y++,this.BINARY_ENCODING),Array.from(s,x=>g.setUint8(y++,x.charCodeAt(0))),Array.from(i,x=>g.setUint8(y++,x.charCodeAt(0))),Array.from(a,x=>g.setUint8(y++,x.charCodeAt(0))),Array.from(l,x=>g.setUint8(y++,x.charCodeAt(0)));var p=new Uint8Array(f.byteLength+c.byteLength);return p.set(new Uint8Array(f),0),p.set(new Uint8Array(c),f.byteLength),p.buffer}_encodeJsonUserBroadcastPush(t){var r,n;const{join_ref:s,ref:i,topic:a}=t,l=t.payload.event,c=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer,g=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+a.length+l.length,y=new ArrayBuffer(this.HEADER_LENGTH+g);let p=new DataView(y),x=0;p.setUint8(x++,this.KINDS.userBroadcastPush),p.setUint8(x++,s.length),p.setUint8(x++,i.length),p.setUint8(x++,a.length),p.setUint8(x++,l.length),p.setUint8(x++,this.JSON_ENCODING),Array.from(s,C=>p.setUint8(x++,C.charCodeAt(0))),Array.from(i,C=>p.setUint8(x++,C.charCodeAt(0))),Array.from(a,C=>p.setUint8(x++,C.charCodeAt(0))),Array.from(l,C=>p.setUint8(x++,C.charCodeAt(0)));var N=new Uint8Array(y.byteLength+f.byteLength);return N.set(new Uint8Array(y),0),N.set(new Uint8Array(f),y.byteLength),N.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,l,c]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,s);case this.KINDS.reply:return this._decodeReply(t,r,s);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodePush(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const c=n.decode(t.slice(l,l+s));l=l+s;const d=n.decode(t.slice(l,l+i));l=l+i;const f=n.decode(t.slice(l,l+a));l=l+a;const g=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{join_ref:c,ref:null,topic:d,event:f,payload:g}}_decodeReply(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+this.META_LENGTH;const d=n.decode(t.slice(c,c+s));c=c+s;const f=n.decode(t.slice(c,c+i));c=c+i;const g=n.decode(t.slice(c,c+a));c=c+a;const y=n.decode(t.slice(c,c+l));c=c+l;const p=JSON.parse(n.decode(t.slice(c,t.byteLength))),x={status:y,response:p};return{join_ref:d,ref:f,topic:g,event:ls.reply,payload:x}}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+i));a=a+i;const d=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{join_ref:null,ref:null,topic:l,event:c,payload:d}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const d=n.decode(t.slice(c,c+s));c=c+s;const f=n.decode(t.slice(c,c+i));c=c+i;const g=n.decode(t.slice(c,c+a));c=c+a;const y=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,x={type:this.BROADCAST,event:f,payload:p};return a>0&&(x.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST,payload:x}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Rb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ir;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ir||(ir={}));const vv=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=CS(a,e,t,s),i),{}):{}},CS=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Fb(i,a):Im(a)},Fb=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return PS(t,r)}switch(e){case ir.bool:return kS(t);case ir.float4:case ir.float8:case ir.int2:case ir.int4:case ir.int8:case ir.numeric:case ir.oid:return AS(t);case ir.json:case ir.jsonb:return ES(t);case ir.timestamp:return LS(t);case ir.abstime:case ir.date:case ir.daterange:case ir.int4range:case ir.int8range:case ir.money:case ir.reltime:case ir.text:case ir.time:case ir.timestamptz:case ir.timetz:case ir.tsrange:case ir.tstzrange:return Im(t);default:return Im(t)}},Im=e=>e,kS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},AS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ES=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},PS=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Fb(t,l))}return e},LS=e=>typeof e=="string"?e.replace(" ","T"):e,Db=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class op{constructor(t,r,n={},s=Lm){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var yv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(yv||(yv={}));class jc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jc.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=jc.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=jc.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(d,f)=>{a[d]||(c[d]=f)}),this.map(a,(d,f)=>{const g=i[d];if(g){const y=f.map(C=>C.presence_ref),p=g.map(C=>C.presence_ref),x=f.filter(C=>p.indexOf(C.presence_ref)<0),N=g.filter(C=>y.indexOf(C.presence_ref)<0);x.length>0&&(l[d]=x),N.length>0&&(c[d]=N)}else l[d]=f}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var d;const f=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),f.length>0){const g=t[l].map(p=>p.presence_ref),y=f.filter(p=>g.indexOf(p.presence_ref)<0);t[l].unshift(...y)}n(l,f,c)}),this.map(a,(l,c)=>{let d=t[l];if(!d)return;const f=c.map(g=>g.presence_ref);d=d.filter(g=>f.indexOf(g.presence_ref)<0),t[l]=d,s(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(bv||(bv={}));var Cc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Cc||(Cc={}));var ci;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ci||(ci={}));class s0{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Vr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new op(this,ls.join,this.params,this.timeout),this.rejoinTimer=new Rb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Vr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Vr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ls.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new jc(this),this.broadcastEndpointURL=Db(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Vr.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[Cc.PRESENCE]&&this.bindings[Cc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},y={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(ci.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(ci.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){t==null||t(ci.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,C=(x=N==null?void 0:N.length)!==null&&x!==void 0?x:0,_=[];for(let b=0;b<C;b++){const S=N[b],{filter:{event:R,schema:F,table:te,filter:z}}=S,U=p&&p[b];if(U&&U.event===R&&U.schema===F&&U.table===te&&U.filter===z)_.push(Object.assign(Object.assign({},S),{id:U.id}));else{this.unsubscribe(),this.state=Vr.errored,t==null||t(ci.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(ci.SUBSCRIBED);return}}).receive("error",p=>{this.state=Vr.errored,t==null||t(ci.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ci.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Vr.joined&&t===Cc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Vr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ls.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new op(this,ls.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new op(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>SS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:f}=ls;if(n&&[l,c,d,f].indexOf(a)>=0&&n!==this._joinRef())return;let y=this._onMessage(a,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,N,C;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((C=(N=p.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===a}).map(p=>p.callback(y,n)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var x,N,C,_,b,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const R=p.id,F=(x=p.filter)===null||x===void 0?void 0:x.event;return R&&((N=r.ids)===null||N===void 0?void 0:N.includes(R))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const R=(b=(_=p==null?void 0:p.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return R==="*"||R===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof y=="object"&&"ids"in y){const x=y.data,{schema:N,table:C,commit_timestamp:_,type:b,errors:S}=x;y=Object.assign(Object.assign({},{schema:N,table:C,commit_timestamp:_,eventType:b,new:{},old:{},errors:S}),this._getPayloadRecords(x))}p.callback(y,n)})}_isClosed(){return this.state===Vr.closed}_isJoined(){return this.state===Vr.joined}_isJoining(){return this.state===Vr.joining}_isLeaving(){return this.state===Vr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&s0.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ls.close,{},t)}_onError(t){this._on(ls.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=vv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=vv(t.columns,t.old_record)),r}}const lp=()=>{},gd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},TS=[1e3,2e3,5e3,1e4],IS=1e4,OS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RS{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lm,this.transport=null,this.heartbeatIntervalMs=gd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lp,this.ref=0,this.reconnectTimer=null,this.vsn=gv,this.logger=lp,this.conn=null,this.sendBuffer=[],this.serializer=new jS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Tm.websocket}`,this.httpEndpoint=Db(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ra.connecting:return Fa.Connecting;case Ra.open:return Fa.Open;case Ra.closing:return Fa.Closing;default:return Fa.Closed}}isConnected(){return this.connectionState()===Fa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new s0(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(NS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ra.open||this.conn.readyState===Ra.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ls.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([OS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:wS};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(ls.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Rb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,c,d,f,g,y,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Lm,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:gd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:lp,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:gv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:x=>TS[x-1]||IS,this.vsn){case Ob:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:(x,N)=>N(JSON.stringify(x)),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:(x,N)=>N(JSON.parse(x));break;case xS:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class i0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class FS extends i0{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Om extends i0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const a0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),DS=()=>Response,Rm=e=>{if(Array.isArray(e))return e.map(r=>Rm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Rm(n)}),t},MS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},US=(e,t,r)=>ut(void 0,void 0,void 0,function*(){const n=yield DS();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new FS(cp(s),i,a))}).catch(s=>{t(new Om(cp(s),s))}):t(new Om(cp(e),e))}),BS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(MS(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function su(e,t,r,n,s,i){return ut(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,BS(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>US(c,l,n))})})}function Hc(e,t,r,n){return ut(this,void 0,void 0,function*(){return su(e,"GET",t,r,n)})}function Cs(e,t,r,n,s){return ut(this,void 0,void 0,function*(){return su(e,"POST",t,n,s,r)})}function Fm(e,t,r,n,s){return ut(this,void 0,void 0,function*(){return su(e,"PUT",t,n,s,r)})}function qS(e,t,r,n){return ut(this,void 0,void 0,function*(){return su(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function o0(e,t,r,n,s){return ut(this,void 0,void 0,function*(){return su(e,"DELETE",t,n,s,r)})}class zS{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ut(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pr(t))return{data:null,error:t};throw t}})}}var Mb;class $S{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Mb]="BlobDownloadBuilder",this.promise=null}asStream(){return new zS(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ut(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pr(t))return{data:null,error:t};throw t}})}}Mb=Symbol.toStringTag;const VS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_v={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class GS{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=a0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return ut(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},_v),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),g=yield(t=="PUT"?Fm:Cs)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:g.Id,fullPath:g.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return ut(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:_v.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const g=yield Fm(this.fetch,l.toString(),c,{headers:f});return{data:{path:i,fullPath:g.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(pr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ut(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Cs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new i0("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}update(t,r,n){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ut(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pr(s))return{data:null,error:s};throw s}})}copy(t,r,n){return ut(this,void 0,void 0,function*(){try{return{data:{path:(yield Cs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pr(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return ut(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Cs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pr(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return ut(this,void 0,void 0,function*(){try{const s=yield Cs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pr(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>Hc(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new $S(c,this.shouldThrowOnError)}info(t){return ut(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Hc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Rm(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}exists(t){return ut(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield qS(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n)&&n instanceof Om){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return ut(this,void 0,void 0,function*(){try{return{data:yield o0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}list(t,r,n){return ut(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},VS),r),{prefix:t||""});return{data:yield Cs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pr(s))return{data:null,error:s};throw s}})}listV2(t,r){return ut(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Cs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Ub="2.81.1",Bb={"X-Client-Info":`storage-js/${Ub}`};class WS{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bb),r),this.fetch=a0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ut(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Hc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}getBucket(t){return ut(this,void 0,void 0,function*(){try{return{data:yield Hc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}createBucket(t){return ut(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Cs(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pr(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return ut(this,void 0,void 0,function*(){try{return{data:yield Fm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ut(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ut(this,void 0,void 0,function*(){try{return{data:yield o0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class HS{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bb),r),this.fetch=a0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ut(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}listBuckets(t){return ut(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Hc(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ut(this,void 0,void 0,function*(){try{return{data:yield o0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}}const l0={"X-Client-Info":`storage-js/${Ub}`,"Content-Type":"application/json"};class qb extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Hn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class up extends qb{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class YS extends qb{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var wv;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(wv||(wv={}));const c0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),KS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JS=(e,t,r)=>ut(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";t(new up(xv(a),s,l))}).catch(()=>{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new up(l,s,a))});else{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new up(l,s,a))}}else t(new YS(xv(e),e))}),XS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(KS(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function QS(e,t,r,n,s,i){return ut(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,XS(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>JS(c,l,n))})})}function Yn(e,t,r,n,s){return ut(this,void 0,void 0,function*(){return QS(e,"POST",t,n,s,r)})}class ZS{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},l0),r),this.fetch=c0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ut(this,void 0,void 0,function*(){try{return{data:(yield Yn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hn(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ut(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}listIndexes(t){return ut(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hn(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ut(this,void 0,void 0,function*(){try{return{data:(yield Yn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}}class ej{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},l0),r),this.fetch=c0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ut(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Yn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hn(r))return{data:null,error:r};throw r}})}getVectors(t){return ut(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hn(r))return{data:null,error:r};throw r}})}listVectors(t){return ut(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Yn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hn(r))return{data:null,error:r};throw r}})}queryVectors(t){return ut(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hn(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ut(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Yn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hn(r))return{data:null,error:r};throw r}})}}class tj{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},l0),r),this.fetch=c0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ut(this,void 0,void 0,function*(){try{return{data:(yield Yn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hn(r))return{data:null,error:r};throw r}})}getBucket(t){return ut(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hn(r))return{data:null,error:r};throw r}})}listBuckets(){return ut(this,arguments,void 0,function*(t={}){try{return{data:yield Yn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ut(this,void 0,void 0,function*(){try{return{data:(yield Yn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hn(r))return{data:null,error:r};throw r}})}}class rj extends tj{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new nj(this.url,this.headers,t,this.fetch)}}class nj extends ZS{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ut(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ut(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ut(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ut(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new sj(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class sj extends ej{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ut(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ut(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ut(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ut(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ut(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ij extends WS{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new GS(this.url,this.headers,t,this.fetch)}get vectors(){return new rj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new HS(this.url+"/iceberg",this.headers,this.fetch)}}const aj="2.81.1";let mc="";typeof Deno<"u"?mc="deno":typeof document<"u"?mc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mc="react-native":mc="node";const oj={"X-Client-Info":`supabase-js-${mc}/${aj}`},lj={headers:oj},cj={schema:"public"},uj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dj={},hj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fj=()=>Headers,pj=(e,t,r)=>{const n=hj(r),s=fj();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let d=new s(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:d}))}};function mj(e){return e.endsWith("/")?e:e+"/"}function gj(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:d,realtime:f,global:g}=t,y={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},g),l),{headers:Object.assign(Object.assign({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function vj(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mj(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const zb="2.81.1",To=30*1e3,Dm=3,dp=Dm*To,yj="http://localhost:9999",bj="supabase.auth.token",_j={"X-Client-Info":`gotrue-js/${zb}`},Mm="X-Supabase-Api-Version",$b={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xj=10*60*1e3;class Yc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ht(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Nj extends Yc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Sj(e){return ht(e)&&e.name==="AuthApiError"}class Da extends Yc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class va extends Yc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ns extends va{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jj(e){return ht(e)&&e.name==="AuthSessionMissingError"}class jo extends va{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vd extends va{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class yd extends va{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Cj(e){return ht(e)&&e.name==="AuthImplicitGrantRedirectError"}class Nv extends va{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Um extends va{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function hp(e){return ht(e)&&e.name==="AuthRetryableFetchError"}class Sv extends va{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bm extends va{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jv=` 	
\r=`.split(""),kj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<jv.length;t+=1)e[jv[t].charCodeAt(0)]=-2;for(let t=0;t<yh.length;t+=1)e[yh[t].charCodeAt(0)]=t;return e})();function Cv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yh[n]),t.queuedBits-=6}}function Vb(e,t,r){const n=kj[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kv(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Pj(a,n,r)};for(let a=0;a<e.length;a+=1)Vb(e.charCodeAt(a),s,i);return t.join("")}function Aj(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ej(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Aj(n,t)}}function Pj(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function tl(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Vb(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Lj(e){const t=[];return Ej(e,r=>t.push(r)),new Uint8Array(t)}function za(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Cv(s,r,n)),Cv(null,r,n),t.join("")}function Tj(e){return Math.round(Date.now()/1e3)+e}function Ij(){return Symbol("auth-callback")}const sn=()=>typeof window<"u"&&typeof document<"u",Ea={tested:!1,writable:!1},Gb=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ea.tested)return Ea.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ea.tested=!0,Ea.writable=!0}catch{Ea.tested=!0,Ea.writable=!1}return Ea.writable};function Oj(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Wb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Rj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Io=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Pa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ui=async(e,t)=>{await e.removeItem(t)};class zh{constructor(){this.promise=new zh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}zh.promiseConstructor=Promise;function fp(e){const t=e.split(".");if(t.length!==3)throw new Bm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!wj.test(t[n]))throw new Bm("JWT not in base64url format");return{header:JSON.parse(kv(t[0])),payload:JSON.parse(kv(t[1])),signature:tl(t[2]),raw:{header:t[0],payload:t[1]}}}async function Fj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Dj(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function Mj(e){return("0"+e.toString(16)).substr(-2)}function Uj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Mj).join("")}async function Bj(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function qj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Bj(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Co(e,t,r=!1){const n=Uj();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Io(e,`${t}-code-verifier`,s);const i=await qj(n);return[i,n===i?"plain":"s256"]}const zj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $j(e){const t=e.headers.get(Mm);if(!t||!t.match(zj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Vj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Gj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Wj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ko(e){if(!Wj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Hj(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Av(e){return JSON.parse(JSON.stringify(e))}const Ia=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yj=[502,503,504];async function Ev(e){var t;if(!Rj(e))throw new Um(Ia(e),0);if(Yj.includes(e.status))throw new Um(Ia(e),e.status);let r;try{r=await e.json()}catch(i){throw new Da(Ia(i),i)}let n;const s=$j(e);if(s&&s.getTime()>=$b["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Sv(Ia(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ns}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Sv(Ia(r),e.status,r.weak_password.reasons);throw new Nj(Ia(r),e.status||500,n)}const Kj=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function kt(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Mm]||(i[Mm]=$b["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Jj(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Jj(e,t,r,n,s,i){const a=Kj(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new Um(Ia(c),0)}if(l.ok||await Ev(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Ev(c)}}function Ss(e){var t;let r=null;Zj(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Tj(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Pv(e){const t=Ss(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Wi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Xj(e){return{data:e,error:null}}function Qj(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=wl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Lv(e){return e}function Zj(e){return e.access_token&&e.refresh_token&&e.expires_in}const mp=["global","local","others"];class e4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Wb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=mp[0]){if(mp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mp.join(", ")}`);try{return await kt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await kt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wi})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=wl(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await kt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Qj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ht(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await kt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wi})}catch(r){if(ht(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const d={nextPage:null,lastPage:0,total:0},f=await kt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Lv});if(f.error)throw f.error;const g=await f.json(),y=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const N=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);d[`${C}Page`]=N}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(ht(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){ko(t);try{return await kt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wi})}catch(r){if(ht(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ko(t);try{return await kt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Wi})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ko(t);try{return await kt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wi})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ko(t.userId);try{const{data:r,error:n}=await kt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ht(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ko(t.userId),ko(t.id);try{return{data:await kt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,c;try{const d={nextPage:null,lastPage:0,total:0},f=await kt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Lv});if(f.error)throw f.error;const g=await f.json(),y=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const N=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);d[`${C}Page`]=N}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(ht(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await kt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ht(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await kt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ht(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await kt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await kt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await kt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ht(r))return{data:null,error:r};throw r}}}function Tv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ao={debug:!!(globalThis&&Gb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class t4 extends Hb{}async function r4(e,t,r){Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new t4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ao.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function n4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Yb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function s4(e){return parseInt(e,16)}function i4(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function a4(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:d,scheme:f,uri:g,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=Yb(e.address),x=f?`${f}://${n}`:n,N=e.statement?`${e.statement}
`:"",C=`${x} wants you to sign in with your Ethereum account:
${p}

${N}`;let _=`URI: ${g}
Version: ${y}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(_+=`
Expiration Time: ${s.toISOString()}`),l&&(_+=`
Not Before: ${l.toISOString()}`),c&&(_+=`
Request ID: ${c}`),d){let b=`
Resources:`;for(const S of d){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);b+=`
- ${S}`}_+=b}return`${C}
${_}`}class Ur extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class bh extends Ur{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function o4({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ur({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ur({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ur({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ur({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ur({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ur({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ur({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ur({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Kb(a)){if(i.rp.id!==a)return new Ur({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ur({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ur({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ur({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ur({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function l4({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ur({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ur({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Kb(n)){if(r.rpId!==n)return new Ur({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ur({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ur({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ur({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class c4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const u4=new c4;function d4(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=wl(e,["challenge","user","excludeCredentials"]),i=tl(t).buffer,a=Object.assign(Object.assign({},r),{id:tl(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:tl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function h4(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=wl(e,["challenge","allowCredentials"]),s=tl(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:tl(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function f4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:za(new Uint8Array(e.response.attestationObject)),clientDataJSON:za(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function p4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:za(new Uint8Array(s.authenticatorData)),clientDataJSON:za(new Uint8Array(s.clientDataJSON)),signature:za(new Uint8Array(s.signature)),userHandle:s.userHandle?za(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Kb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Iv(){var e,t;return!!(sn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function m4(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bh("Browser returned unexpected credential type",t)}:{data:null,error:new bh("Empty credential response",t)}}catch(t){return{data:null,error:o4({error:t,options:e})}}}async function g4(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bh("Browser returned unexpected credential type",t)}:{data:null,error:new bh("Empty credential response",t)}}catch(t){return{data:null,error:l4({error:t,options:e})}}}const v4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},y4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _h(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=_h(l,a):n[i]=_h(a)}else n[i]=a}return n}function b4(e,t){return _h(v4,e,t||{})}function _4(e,t){return _h(y4,e,t||{})}class w4{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const c=s??u4.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=b4(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:g}=await m4({publicKey:d,signal:c});return f?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:g}}case"request":{const d=_4(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:g}=await g4(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:c}));return f?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:g}}}}catch(a){return ht(a)?{data:null,error:a}:{data:null,error:new Da("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Yc("rpId is required for WebAuthn authentication")};try{if(!Iv())return{data:null,error:new Da("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return ht(a)?{data:null,error:a}:{data:null,error:new Da("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Yc("rpId is required for WebAuthn registration")};try{if(!Iv())return{data:null,error:new Da("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(f=>{var g;return(g=f.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(a){return ht(a)?{data:null,error:a}:{data:null,error:new Da("Unexpected error in register",a)}}}}n4();const x4={url:yj,storageKey:bj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_j,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ov(e,t,r){return await r()}const Eo={};class Kc{get jwks(){var t,r;return(r=(t=Eo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Eo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},x4),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Kc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Kc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&sn()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new e4({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Wb(i.fetch),this.lock=i.lock||Ov,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:sn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=r4:this.lock=Ov,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new w4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Gb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tv(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Tv(this.memoryStorage)),sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zb}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(sn()&&(r=Oj(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),sn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Cj(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ht(r)?this._returnResult({error:r}):this._returnResult({error:new Da("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ss}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(ht(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:f,password:g,options:y}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Co(this.storage,this.storageKey)),i=await kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:f,password:g,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:p,code_challenge_method:x},xform:Ss})}else if("phone"in t){const{phone:f,password:g,options:y}=t;i=await kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:g,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Ss})}else throw new vd("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(ht(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pv})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pv})}else throw new vd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new jo;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ht(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,c,d,f,g,y;let p,x;if("message"in t)p=t.message,x=t.signature;else{const{chain:N,wallet:C,statement:_,options:b}=t;let S;if(sn())if(typeof C=="object")S=C;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")S=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=C}const R=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),F=await S.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const te=Yb(F[0]);let z=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!z){const I=await S.request({method:"eth_chainId"});z=s4(I)}const U={domain:R.host,address:te,statement:_,uri:R.href,version:"1",chainId:z,nonce:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=b==null?void 0:b.signInWithEthereum)===null||f===void 0?void 0:f.resources};p=a4(U),x=await S.request({method:"personal_sign",params:[i4(p),te]})}try{const{data:N,error:C}=await kt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:x},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ss});if(C)throw C;if(!N||!N.session||!N.user){const _=new jo;return this._returnResult({data:{user:null,session:null},error:_})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:C})}catch(N){if(ht(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(t){var r,n,s,i,a,l,c,d,f,g,y,p;let x,N;if("message"in t)x=t.message,N=t.signature;else{const{chain:C,wallet:_,statement:b,options:S}=t;let R;if(sn())if(typeof _=="object")R=_;else{const te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))R=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=_}const F=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const te=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),b?{statement:b}:null));let z;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")z=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)z=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)x=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),N=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${F.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(s=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((g=(f=S==null?void 0:S.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||g===void 0)&&g.length?["Resources",...S.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const te=await R.signMessage(new TextEncoder().encode(x),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=te}}try{const{data:C,error:_}=await kt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:za(N)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ss});if(_)throw _;if(!C||!C.session||!C.user){const b=new jo;return this._returnResult({data:{user:null,session:null},error:b})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:_})}catch(C){if(ht(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(t){const r=await Pa(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await kt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ss});if(await Ui(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new jo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(ht(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ss}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const f=new jo;return this._returnResult({data:{user:null,session:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(ht(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Co(this.storage,this.storageKey));const{error:g}=await kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:f}=await kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new vd("You must provide either an email or phone number.")}catch(l){if(ht(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await kt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ss});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,d=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(s){if(ht(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Co(this.storage,this.storageKey));const d=await kt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Xj});return!((i=d.data)===null||i===void 0)&&i.url&&sn()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(ht(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ns;const{error:s}=await kt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ht(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await kt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await kt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new vd("You must provide either an email or phone number and a type")}catch(r){if(ht(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Pa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<dp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Pa(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=pp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=Hj(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wi}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ns}:await kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Wi})})}catch(r){if(ht(r))return jj(r)&&(await this._removeSession(),await Ui(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ns;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Co(this.storage,this.storageKey));const{data:d,error:f}=await kt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Wi});if(f)throw f;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(ht(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ns;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=fp(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ht(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ns;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ht(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!sn())throw new yd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new yd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Nv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Nv("No code detected.");const{data:b,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!a||!d)throw new yd("No session defined in URL");const f=Math.round(Date.now()/1e3),g=parseInt(l);let y=f+g;c&&(y=parseInt(c));const p=y-f;p*1e3<=To&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${g}s`);const x=y-g;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,y,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,y,f);const{data:N,error:C}=await this._getUser(i);if(C)throw C;const _={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:g,expires_at:y,refresh_token:a,token_type:d,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:t.type},error:null})}catch(n){if(ht(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Pa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(Sj(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Ui(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Ij(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Co(this.storage,this.storageKey,!0));try{return await kt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ht(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ht(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,d,f;const{data:g,error:y}=i;if(y)throw y;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await kt(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return sn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ht(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:d,nonce:f}=t,g=await kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ss}),{data:y,error:p}=g;return p?this._returnResult({data:{user:null,session:null},error:p}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new jo}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:p}))}catch(s){if(ht(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await kt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ht(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Dj(async s=>(s>0&&await Fj(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await kt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ss})),(s,i)=>{const a=200*Math.pow(2,s);return i&&hp(i)&&Date.now()+a-n<To})}catch(n){if(this._debug(r,"error",n),ht(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),sn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Pa(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Pa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Io(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:pp()}else if(s&&!s.user&&!s.user){const a=await Pa(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Ui(this.storage,this.storageKey+"-user"),await Io(this.storage,this.storageKey,s)):s.user=pp()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<dp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${dp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),hp(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ns;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new zh;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Ns;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),ht(i)){const a={data:null,error:i};return hp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Io(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Av(s);await Io(this.storage,this.storageKey,i)}else{const s=Av(r);await Io(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ui(this.storage,this.storageKey),await Ui(this.storage,this.storageKey+"-code-verifier"),await Ui(this.storage,this.storageKey+"-user"),this.userStorage&&await Ui(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),To);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/To);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${To}ms, refresh threshold is ${Dm} ticks`),s<=Dm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Hb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Co(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await kt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ht(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await kt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(ht(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?f4(t.webauthn.credential_response):p4(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await kt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(ht(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await kt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d4(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h4(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ht(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=fp(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await kt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ns})})}catch(r){if(ht(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ns});const a=await kt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&sn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(ht(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ns});const a=await kt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&sn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(ht(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+xj>s)return n;const{data:i,error:a}=await kt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return this._returnResult({data:null,error:x});n=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=fp(n);r!=null&&r.allowExpired||Vj(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const f=Gj(s.alg),g=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,g,a,Lj(`${l}.${c}`)))throw new Bm("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(ht(n))return this._returnResult({data:null,error:n});throw n}}}Kc.nextInstanceID={};const N4=Kc;class S4 extends N4{constructor(t){super(t)}}class j4{constructor(t,r,n){var s,i,a;this.supabaseUrl=t,this.supabaseKey=r;const l=vj(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:cj,realtime:dj,auth:Object.assign(Object.assign({},uj),{storageKey:c}),global:lj},f=gj(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=pj(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new yS(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new ij(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new mS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:d,throwOnError:f},g,y){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new S4({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),g),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:d,throwOnError:f,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new RS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const C4=(e,t,r)=>new j4(e,t,r);function k4(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}k4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const A4="https://wfxdvgwlfpqkadkvwbzg.supabase.co",E4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndmeGR2Z3dsZnBxa2Fka3Z3YnpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NDgxNTIsImV4cCI6MjA3ODQyNDE1Mn0.svO7O2XMoCOHDCt6zxchQOzQD05X1Y3onxqcXplA5gk",Ze=C4(A4,E4),P4=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():Math.random().toString(36).slice(2),Jc=G5(e=>({pendingRequests:0,toasts:[],startRequest:()=>e(t=>({pendingRequests:t.pendingRequests+1})),finishRequest:()=>e(t=>({pendingRequests:Math.max(0,t.pendingRequests-1)})),pushToast:t=>e(r=>{const n={id:t.id||P4(),type:t.type||"info",title:t.title||"",message:t.message||"",duration:typeof t.duration=="number"?t.duration:5e3};return{toasts:[...r.toasts,n]}}),dismissToast:t=>e(r=>({toasts:r.toasts.filter(n=>n.id!==t)})),clearToasts:()=>e({toasts:[]})})),u0=async e=>{const{startRequest:t,finishRequest:r}=Jc.getState();t();try{return await e}finally{r()}},rt=(e,t={})=>{const{pushToast:r}=Jc.getState();r({message:e,...t})},it={applications:"applications",academicYears:"academic_year",groups:"groups",courses:"courses",subCategories:"subject_category",subjects:"subjects",batches:"batches",students:"students",exams:"exams",payments:"payments",hallTickets:"hall_tickets",results:"results",feeDefinitions:"fee_structure",feeCategories:"fee_categories"},Et=async(e,t)=>{const{data:r,error:n}=await u0(e);if(n)throw console.error(t??"Supabase query failed",n),new Error(t||n.message);return r},qm=async(e,t)=>{const{data:r,error:n}=await u0(e);if(n&&n.code!=="PGRST116")throw console.error(t??"Supabase query failed",n),new Error(t||n.message);return r??null},L4={[it.academicYears]:{cols:["academic_year"],pk:"id"},[it.groups]:{cols:["group_code","group_name"],pk:"group_id"},[it.courses]:{cols:["course_code","course_name"],pk:"course_id"},[it.subCategories]:{cols:["category_name"],pk:"category_id"},[it.subjects]:{composite:["academic_year","course_name","semester_number","category_id"],pk:"subject_id"},[it.batches]:{cols:["name"],pk:"id"},[it.students]:{cols:["student_id","hall_ticket_no","aadhar_number","email"],pk:"id"},[it.feeCategories]:{cols:["name"],pk:"id"},[it.feeDefinitions]:{composite:["academic_year","group","course","semester","fee_cat"],pk:"id"}},Vn=async(e,t={},r={})=>{const n=L4[e];if(!n)return;const s=r.excludeIdCol||n.pk;if(n.composite){const i={};for(const a of n.composite)t[a]!==void 0&&t[a]!==null&&t[a]!==""&&(i[a]=t[a]);if(Object.keys(i).length===n.composite.length)try{let a=Ze.from(e).select(s);for(const c of Object.keys(i))a=a.eq(c,i[c]);if(r.excludeId&&(a=a.neq(s,r.excludeId)),await qm(a.maybeSingle(),"Duplicate check"))throw new Error("Duplicate fee definition already exists")}catch{try{const l=[...n.composite,s];if((await Et(Ze.from(e).select(l.join(",")),"Duplicate check fallback")||[]).find(f=>r.excludeId&&String(f[s])===String(r.excludeId)?!1:n.composite.every(g=>{const y=f[g],p=i[g];return String(y)===String(p)})))throw new Error("Duplicate data definition already exists")}catch(l){throw console.error("Duplicate check failed (fallback)",l),l}}return}for(const i of n.cols||[]){const a=t[i];if(!(a==null||a===""))try{let l=Ze.from(e).select(s);if(l=l.eq(i,a),r.excludeId&&(l=l.neq(s,r.excludeId)),await qm(l.maybeSingle(),"Duplicate check")){const d=i.replace(/_/g," ");throw new Error(`${d} already exists`)}}catch{try{if((await Et(Ze.from(e).select(`${i},${s}`),"Duplicate check fallback")||[]).find(f=>r.excludeId&&String(f[s])===String(r.excludeId)?!1:String(f[i])===String(a))){const f=i.replace(/_/g," ");throw new Error(`${f} already exists`)}}catch(c){throw console.error("Duplicate check failed (fallback)",c),c}}}},gp=(e={})=>{const t=e.status,r=t===0||t==="0"||t===!1,n=e.academic_year??e.name??"",s=e.category||e.year_category||"",i=s?String(s).toUpperCase():"UG";return{id:e.id,academic_year:n,name:n,active:!r,category:i}},bd=({name:e,active:t,category:r})=>({academic_year:e,status:t?1:0,category:r||null}),vp=(e={})=>({id:e.group_id??e.id,code:e.group_code,name:e.group_name,category:e.category||e.Category||"",years:e.duration_years??0,semesters:e.number_semesters??0}),_d=({code:e,name:t,years:r,semesters:n,category:s})=>{const i={group_code:e,group_name:t,duration_years:r??null,number_semesters:n??null};return s!==void 0&&(i.Category=s??null),i},yp=(e={})=>{const t=e.course_code||e.code,r=e.course_name||e.name,n=e.group_code||e.groupCode||"",s=e.group_name||e.groupName||"",i=Number(e.no_of_semesters??e.semesters??0)||0,a=e.duration_years??(i?Math.ceil(i/2):null);return{id:e.course_id??e.id,code:t,name:r,courseCode:t,courseName:r,group_code:n,groupCode:n,group_name:s,groupName:s,semesters:i,duration_years:a}},wd=({code:e,name:t,group_name:r,groupName:n,semesters:s,duration_years:i})=>({course_code:e,course_name:t,group_name:r??n??null,no_of_semesters:s??null,duration_years:i??(s?Math.ceil(s/2):null)}),zm=e=>{if(!e&&e!==0)return[];if(Array.isArray(e))return e.filter(Boolean);if(typeof e=="string"){const t=e.trim();if(!t)return[];try{const r=JSON.parse(t);if(Array.isArray(r))return r.filter(Boolean)}catch{}return t.split(/[\r\n,]+/).map(r=>r.trim()).filter(Boolean)}try{const t=JSON.parse(e);if(Array.isArray(t))return t.filter(Boolean)}catch{}return[]},bp=(e={})=>({id:e.category_id??e.id,name:e.category_name,subjects:zm(e.subjects_name)}),xd=({name:e,subjects:t})=>({category_name:e,category_count:Array.isArray(t)?t.length:0,subjects_name:JSON.stringify(Array.isArray(t)?t:[])}),_p=(e={})=>{var l;const t=e.semester_number??e.semester??"",r=e.amount??e.fee_amount,n=e.subject_code||e.subjectCode||e.subject_name||e.subjectName||"",s=zm(n),i=s.length>0?s[0]:n,a=e.subject_name||e.subjectName||i;return{id:e.subject_id??e.id,subjectId:e.subject_id??e.id??"",academicYearId:e.academic_year_id||e.academicYearId||"",academicYearName:e.academic_year_name||e.academic_year||e.academicYearName||"",groupCode:e.group_code||e.groupCode||"",courseCode:e.course_code||e.courseCode||e.course_name||"",courseName:e.course_name||e.courseName||e.course_code||"",semester:t===""||t===void 0||t===null?"":Number(t),categoryId:e.category_id??e.categoryId??"",category:e.category||e.category_name||((l=e.subject_category)==null?void 0:l.category_name)||"",subjectCode:i,subjectCodes:s,subjectName:a,subjectNames:zm(e.subjects_name||e.subject_name||e.subjectName),feeCategory:e.fee_category||e.feeCategory||e.fees_categories||"",feeAmount:r==null||r===""?"":Number(r)}},Rv=(e={})=>{const t=e.semester??e.semester_number??e.semesterNumber??null,r=t===""||t===void 0||t===null?null:Number(t),n=e.amount??e.feeAmount??e.fee_amount,s=n===""||n===void 0||n===null?null:Number(n),i=e.subject_id||e.subjectId||e.id,a={academic_year:e.academic_year||e.academicYearName||e.academicYear||null,course_name:e.course_name||e.courseName||e.courseCode||null,semester_number:r,category_id:e.category_id??e.categoryId??null,subject_code:e.subject_code||e.subjectCode||e.subject_name||e.subjectName||null,subject_name:e.subject_name||e.subjectName||e.subject_code||e.subjectCode||null,fees_categories:e.fees_categories||e.feeCategory||null,amount:s};return i&&(a.subject_id=i),a},T4=(e={})=>({id:e.id,student_id:e.student_id,admission_no:e.admission_no,ht_no:e.ht_no,academic_year:e.academic_year,group:e.group_code||e.group,course_id:e.course_code||e.course_id,full_name:e.full_name,gender:e.gender,dob:e.dob,father_name:e.father_name,mother_name:e.mother_name,nationality:e.nationality,state:e.state,aadhar_no:e.aadhar_number,postal_code:e.postal_code,address:e.address,mobile:e.mobile,email:e.email,religion:e.religion,caste:e.caste,sub_caste:e.sub_caste,photo_url:e.photo_url,cert_url:e.cert_url,status:e.status||"PENDING",created_at:e.created_at}),I4=(e={})=>({student_id:e.student_id||null,admission_no:e.admission_no||null,ht_no:e.ht_no||null,academic_year:e.academic_year||null,group_code:e.group||e.group_code||null,course_code:e.course_id||e.course_code||null,full_name:e.full_name||null,gender:e.gender||null,dob:e.dob||null,father_name:e.father_name||null,mother_name:e.mother_name||null,nationality:e.nationality||null,state:e.state||null,aadhar_number:e.aadhar_no||null,postal_code:e.postal_code||null,address:e.address||null,mobile:e.mobile||null,email:e.email||null,religion:e.religion||null,caste:e.caste||null,sub_caste:e.sub_caste||null,photo_url:e.photo_url||null,cert_url:e.cert_url||null,status:e.status||"PENDING"}),O4=(e={})=>({id:e.id??e.student_id,student_id:e.student_id,hall_ticket_no:e.hall_ticket_no||e.hallticket_no,hallticket_no:e.hall_ticket_no||e.hallticket_no,full_name:e.full_name,academic_year:e.academic_year,group:e.group_name||e.group,course_id:e.course_name||e.course_id,course_name:e.course_name,gender:e.gender,dob:e.date_of_birth||e.dob,mobile:e.phone_number||e.mobile,email:e.email,address:e.address,father_name:e.father_name,mother_name:e.mother_name,nationality:e.nationality,state:e.state,aadhar_no:e.aadhar_number||e.aadhar_no,postal_code:e.pincode||e.postal_code,religion:e.religion,caste:e.caste,sub_caste:e.sub_caste,photo_url:e.photo_url,cert_url:e.cert_url,status:e.status||"ACTIVE",created_at:e.created_at}),R4=(e={})=>({student_id:e.student_id,hall_ticket_no:e.hall_ticket_no||e.hallticket_no||null,academic_year:e.academic_year||null,group_name:e.group||e.group_name||null,course_name:e.course_id||e.course_name||null,full_name:e.full_name||null,gender:e.gender||null,date_of_birth:e.dob||e.date_of_birth||null,father_name:e.father_name||null,mother_name:e.mother_name||null,nationality:e.nationality||null,state:e.state||null,aadhar_number:e.aadhar_no||e.aadhar_number||null,address:e.address||null,pincode:e.postal_code||e.pincode||null,phone_number:e.mobile||e.phone_number||null,religion:e.religion||null,caste:e.caste||null,sub_caste:e.sub_caste||null,photo_url:e.photo_url||null,cert_url:e.cert_url||null,status:e.status||"ACTIVE"}),Fv=(e={})=>({id:e.id,name:e.name,created_at:e.created_at}),Dv=({name:e})=>({name:e}),F4=(e={})=>({id:e.id,title:e.title,date:e.date||e.exam_date,time:e.time||e.exam_time,venue:e.venue,course_id:e.course_id,created_at:e.created_at}),D4=({title:e,date:t,time:r,venue:n,course_id:s})=>({title:e,exam_date:t,exam_time:r,venue:n,course_id:s||null}),M4=(e={})=>{const t=e.group??e.group_code??e.group_name,r=e.course??e.course_code??e.course_name,n=e.semester??e.semester_number;return{id:e.id??e.fee_id,academic_year:e.academic_year,group:t,group_code:t,group_name:e.group_name??t,course_code:r,course_name:e.course_name??r,semester:n,semester_number:n,payment_type:e.payment_type??e.fee_cat,amount:e.amount}},Mv=(e={})=>({academic_year:e.academic_year,group:e.group||e.group_code,course:e.course_code||e.course,semester:e.semester??e.semester_number,fee_cat:e.payment_type??e.fee_cat,amount:e.amount}),U4=(e={})=>({id:e.id??e.result_id,student_id:e.student_id,exam_id:e.exam_id,total:e.total,grade:e.grade??e.result_status,created_at:e.created_at}),B4=(e={})=>({student_id:e.student_id,exam_id:e.exam_id,total:e.total,grade:e.grade}),q4=(e={})=>({id:e.id,name:e.name,fees:e.fees||[]}),Uv=(e={})=>({id:e.id,name:e.name,fees:e.fees||[]}),z4=[{email:"admin@vijayam.edu",role:"ADMIN"},{email:"principal@vijayam.edu",role:"PRINCIPAL"}],Ce={submitApplication:async e=>(await Et(Ze.from(it.applications).insert(I4(e)),"Unable to submit application"),{ok:!0}),login:async e=>{const t=z4.find(r=>r.email.toLowerCase()===String(e).toLowerCase());if(!t)throw new Error("Access denied");return{...t}},listApplications:async()=>(await Et(Ze.from(it.applications).select("*").order("created_at",{ascending:!1}),"Unable to load applications")).map(T4),approveApplication:async(e,t)=>{const r=R4(t);await Vn(it.students,r),await Et(Ze.from(it.students).insert(r),"Unable to create student record"),await Et(Ze.from(it.applications).update({status:"APPROVED"}).eq("id",e),"Unable to update application status")},deleteApplication:async e=>{await Et(Ze.from(it.applications).delete().eq("id",e),"Unable to delete application")},listAcademicYears:async()=>(await Et(Ze.from(it.academicYears).select("id, academic_year, status, category").order("academic_year"),"Unable to fetch academic years")).map(gp),addAcademicYear:async e=>{await Vn(it.academicYears,bd(e));const t=await Et(Ze.from(it.academicYears).insert(bd(e)).select("id, academic_year, status, category").single(),"Unable to add academic year");return gp(t)},updateAcademicYear:async(e,t)=>{await Vn(it.academicYears,bd(t),{excludeId:e});const r=await Et(Ze.from(it.academicYears).update(bd(t)).eq("id",e).select("id, academic_year, status, category").single(),"Unable to update academic year");return gp(r)},deleteAcademicYear:async e=>{await Et(Ze.from(it.academicYears).delete().eq("id",e),"Unable to delete academic year")},listGroups:async()=>(await Et(Ze.from(it.groups).select("*").order("group_code"),"Unable to fetch groups")).map(vp),addGroup:async e=>{await Vn(it.groups,_d(e));const t=await Et(Ze.from(it.groups).insert(_d(e)).select("*").single(),"Unable to add group");return vp(t)},updateGroup:async(e,t)=>{await Vn(it.groups,_d(t),{excludeId:e});const r=await Et(Ze.from(it.groups).update(_d(t)).eq("group_id",e).select("*").single(),"Unable to update group");return vp(r)},deleteGroup:async e=>{await Et(Ze.from(it.groups).delete().eq("group_id",e),"Unable to delete group")},listCourses:async()=>(await Et(Ze.from(it.courses).select("course_id, course_code, course_name, group_name, no_of_semesters, duration_years").order("course_code"),"Unable to fetch courses")).map(yp),addCourse:async e=>{await Vn(it.courses,wd(e));const t=await Et(Ze.from(it.courses).insert(wd(e)).select("course_id, course_code, course_name, group_name, no_of_semesters, duration_years").single(),"Unable to add course");return yp(t)},updateCourse:async(e,t)=>{await Vn(it.courses,wd(t),{excludeId:e});const r=await Et(Ze.from(it.courses).update(wd(t)).eq("course_id",e).select("course_id, course_code, course_name, group_name, no_of_semesters, duration_years").single(),"Unable to update course");return yp(r)},deleteCourse:async e=>{await Et(Ze.from(it.courses).delete().eq("course_id",e),"Unable to delete course")},listSubCategories:async()=>(await Et(Ze.from(it.subCategories).select("category_id, category_name, subjects_name").order("category_name"),"Unable to fetch sub-categories")).map(bp),addSubCategory:async e=>{await Vn(it.subCategories,xd({name:e,subjects:[]}));const t=await Et(Ze.from(it.subCategories).insert(xd({name:e,subjects:[]})).select("category_id, category_name, subjects_name").single(),"Unable to add sub-category");return bp(t)},updateSubCategory:async(e,{name:t,subjects:r})=>{await Vn(it.subCategories,xd({name:t,subjects:r}),{excludeId:e});const n=await Et(Ze.from(it.subCategories).update(xd({name:t,subjects:r})).eq("category_id",e).select("category_id, category_name, subjects_name").single(),"Unable to update sub-category");return bp(n)},deleteSubCategory:async e=>{e&&(await Et(Ze.from(it.subjects).delete().eq("category_id",e),"Unable to delete linked subjects for sub-category"),await Et(Ze.from(it.subCategories).delete().eq("category_id",e),"Unable to delete sub-category"))},listSubjects:async()=>(await Et(Ze.from(it.subjects).select("subject_id, academic_year, course_name, semester_number, category_id, subject_code, subject_name, fees_categories, amount").order("academic_year",{ascending:!1}).order("course_name").order("semester_number"),"Unable to fetch subjects")).map(_p),addSubjects:async(e=[])=>{if(!Array.isArray(e)||!e.length)return[];for(const s of e){const i=Rv(s),a=s.subject_id||s.subjectId||s.id||null,l=a!=null&&a!==""?Number(a):null;await Vn(it.subjects,i,{excludeId:isNaN(l)?void 0:l})}const t=e.map(s=>{const i=Rv(s);return i.subject_id!==void 0&&delete i.subject_id,i}),r=["academic_year","course_name","semester_number","category_id"].join(",");return(await Et(Ze.from(it.subjects).upsert(t,{onConflict:r}).select("subject_id, academic_year, course_name, semester_number, category_id, subject_code, subject_name, fees_categories, amount"),"Unable to save subjects")).map(_p)},deleteSubject:async e=>{e&&await Et(Ze.from(it.subjects).delete().eq("subject_id",e),"Unable to delete subject")},updateSubject:async(e,t)=>{if(!e)throw new Error("Missing subject id");const r={...t};r.subject_id!==void 0&&delete r.subject_id,r.subjectId!==void 0&&delete r.subjectId;const n=await Et(Ze.from(it.subjects).update(r).eq("subject_id",e).select("subject_id, academic_year, course_name, semester_number, category_id, subject_code, subject_name, fees_categories, amount").single(),"Unable to update subject");return _p(n)},listBatches:async()=>(await Et(Ze.from(it.batches).select("id, name, created_at").order("created_at",{ascending:!1}),"Unable to fetch batches")).map(Fv),addBatch:async e=>{await Vn(it.batches,Dv(e));const t=await Et(Ze.from(it.batches).insert(Dv(e)).select("id, name, created_at").single(),"Unable to add batch");return Fv(t)},listStudents:async()=>(await Et(Ze.from(it.students).select("id, student_id, hall_ticket_no, academic_year, group_name, course_name, full_name, gender, date_of_birth, phone_number, email, address, father_name, mother_name, nationality, state, aadhar_number, pincode, religion, caste, sub_caste, photo_url, cert_url, status, created_at").order("created_at",{ascending:!1}),"Unable to fetch students")).map(O4),deleteStudent:async e=>{e&&await Et(Ze.from(it.students).delete().eq("id",e),"Unable to delete student")},listExams:async()=>(await Et(Ze.from(it.exams).select("id, name, created_at").order("created_at",{ascending:!1}),"Unable to fetch exams")).map(F4),addExam:async e=>{await Et(Ze.from(it.exams).insert(D4(e)),"Unable to add exam")},addPayment:async e=>{await Et(Ze.from(it.payments).insert({student_id:e.student_id,amount:Number(e.amount),method:e.method,reference:e.reference||null}),"Unable to record payment")},upsertHallTicket:async({student_id:e,exam_id:t,token:r})=>{const n=await qm(Ze.from(it.hallTickets).select("id").eq("student_id",e).eq("exam_id",t).maybeSingle(),"Unable to load hall ticket");n?await Et(Ze.from(it.hallTickets).update({token:r}).eq("id",n.id),"Unable to update hall ticket"):await Et(Ze.from(it.hallTickets).insert({student_id:e,exam_id:t,token:r}),"Unable to create hall ticket")},addResult:async e=>{await Et(Ze.from(it.results).insert(B4(e)),"Unable to record result")},listResults:async()=>(await Et(Ze.from(it.results).select("id, student_id, exam_id, total, grade, created_at").order("created_at",{ascending:!1}),"Unable to fetch results")).map(U4),listFees:async()=>(await Et(Ze.from(it.feeDefinitions).select('id, academic_year, "group", course, semester, fee_cat, amount').order("academic_year",{ascending:!1}),"Unable to fetch fee definitions")).map(M4),addFee:async e=>{await Vn(it.feeDefinitions,Mv(e)),await Et(Ze.from(it.feeDefinitions).insert(Mv(e)),"Unable to add fee definition")},getFeeTypes:async()=>(await Et(Ze.from(it.feeCategories).select("id, name, fees").order("name"),"Unable to fetch fee categories")).map(q4),setFeeTypes:async e=>{const t=e.map(a=>String(a.name||"").trim().toLowerCase());if(t.findIndex((a,l)=>a&&t.indexOf(a)!==l)!==-1)throw new Error("Duplicate fee category names in payload");const n=await Et(Ze.from(it.feeCategories).select("id, name"),"Unable to load existing fee categories"),s=new Set(e.map(a=>a.id)),i=n.map(a=>a.id).filter(a=>!s.has(a));if(i.length&&await Et(Ze.from(it.feeCategories).delete().in("id",i),"Unable to remove old fee categories"),e.length){for(const a of e)await Vn(it.feeCategories,Uv(a),{excludeId:a.id});await Et(Ze.from(it.feeCategories).upsert(e.map(Uv)),"Unable to save fee categories")}}},$4=e=>e==null?!0:typeof e=="string"?e.trim().length===0:typeof e=="number"?Number.isNaN(e):Array.isArray(e)?e.length===0:e instanceof Set||e instanceof Map?e.size===0:typeof e=="object"?Object.keys(e).length===0:!1,oa=(e={},t={})=>{const r=Object.entries(e).filter(([,i])=>$4(i));if(r.length===0)return!0;const n=t.message||`Please fill the required field${r.length>1?"s":""}: ${r.map(([i])=>i).join(", ")}.`,s=t.title||"Missing information";return typeof t.notify=="function"?t.notify({title:s,message:n,missing:r}):rt(n,{type:"warning",title:s}),!1};function V4(){const e=["Male","Female","Other"],t=["General","OBC","SC","ST","Others"],r=["Hindu","Muslim","Christian","Sikh","Buddhist","Jain","Others"],n=["Tamil Nadu","Andhra Pradesh","Karnataka","Kerala","Telangana","Maharashtra","Other"],[s,i]=H.useState({student_id:"",admission_no:"",ht_no:"",academic_year:"",group:"",course_id:"",full_name:"",gender:"",dob:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_no:"",postal_code:"",address:"",mobile:"",email:"",religion:"",caste:"",sub_caste:""}),[a,l]=H.useState(null),[c,d]=H.useState(null),[f,g]=H.useState(!1),[y,p]=H.useState(""),[x,N]=H.useState([]),[C,_]=H.useState([]),[b,S]=H.useState([]),R=(I,se)=>i(L=>({...L,[I]:se}));H.useEffect(()=>{(async()=>{var I,se;try{const[L,M,K]=await Promise.all([Ce.listCourses(),((I=Ce.listGroups)==null?void 0:I.call(Ce))||[],((se=Ce.listAcademicYears)==null?void 0:se.call(Ce))||[]]);N(L||[]),_(M||[]),S((K||[]).filter(q=>(q==null?void 0:q.active)!==!1))}catch{N([]),_([]),S([])}})()},[]);const F=()=>{i({student_id:"",admission_no:"",ht_no:"",academic_year:"",group:"",course_id:"",full_name:"",gender:"",dob:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_no:"",postal_code:"",address:"",mobile:"",email:"",religion:"",caste:"",sub_caste:""}),l(null),d(null)},te=(I,se)=>new RegExp(`^\\d{${se}}$`).test(I),z=(I,se)=>L=>{const M=(L.target.value||"").replace(/\D/g,"").slice(0,se);R(I,M)},U=async I=>{I.preventDefault(),p(""),g(!0);const se={"Admission No":s.admission_no,"Academic Year":s.academic_year,"Full Name":s.full_name,Gender:s.gender,"Date of Birth":s.dob,"Mobile Number":s.mobile,"Postal Code":s.postal_code,Address:s.address,Group:s.group,Course:s.course_id};if(!oa(se,{title:"Incomplete application"})){g(!1);return}if(!te(s.mobile,10)){rt("Enter a valid 10-digit mobile number.",{type:"warning",title:"Invalid mobile"}),g(!1);return}if(!te(s.postal_code,6)){rt("Postal code must be 6 digits.",{type:"warning",title:"Invalid postal code"}),g(!1);return}if(s.aadhar_no&&!te(s.aadhar_no,12)){rt("Aadhar number must contain 12 digits.",{type:"warning",title:"Invalid Aadhar"}),g(!1);return}try{const L={};a&&(L.photo_url=URL.createObjectURL(a)),c&&(L.cert_url=URL.createObjectURL(c)),await Ce.submitApplication({...s,...L}),p("Application submitted! Admin/Principal will contact you after approval."),F()}catch(L){p(L.message||"Error submitting form")}finally{g(!1)}};return o.jsx("div",{className:"container py-5",children:o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-lg-10",children:o.jsxs("div",{className:"card card-soft p-4",children:[o.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[o.jsx("img",{src:"/logo-placeholder.png",className:"brand-logo",alt:"logo"}),o.jsxs("div",{children:[o.jsx("h3",{className:"fw-bold mb-0",children:"Vijayam College of Arts & Science"}),o.jsx("div",{className:"text-muted",children:"Chennai"})]})]}),o.jsx("h5",{className:"mt-3",children:"Apply for Admission / Exam"}),o.jsx("form",{onSubmit:U,children:o.jsxs("div",{className:"row g-3",children:[o.jsxs("div",{className:"col-12",children:[o.jsx("h6",{className:"fw-bold mb-1",children:"Student & Admission"}),o.jsx("hr",{className:"hr-soft"})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Student ID"}),o.jsx("input",{className:"form-control",value:s.student_id,onChange:I=>R("student_id",I.target.value),placeholder:"Auto/Optional"})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Admission No"}),o.jsx("input",{className:"form-control",value:s.admission_no,onChange:I=>R("admission_no",I.target.value),required:!0})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"HT No"}),o.jsx("input",{className:"form-control",value:s.ht_no,onChange:I=>R("ht_no",I.target.value)})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Academic Year"}),o.jsxs("select",{className:"form-select",value:s.academic_year,onChange:I=>R("academic_year",I.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Select"}),b.map(I=>{const se=I.name||I.academic_year;return o.jsx("option",{value:se,children:se},I.id)})]})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("h6",{className:"fw-bold mb-1",children:"Group & Course"}),o.jsx("hr",{className:"hr-soft"})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Group Code"}),o.jsxs("select",{className:"form-select",value:s.group,onChange:I=>R("group",I.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Select Group"}),C.map(I=>o.jsxs("option",{value:I.code,children:[I.code,"  ",I.name]},I.id))]})]}),o.jsxs("div",{className:"col-md-8",children:[o.jsx("label",{className:"form-label",children:"Course"}),o.jsxs("select",{className:"form-select",value:s.course_id,onChange:I=>R("course_id",I.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Select Course"}),x.filter(I=>!s.group||!I.group_code||I.group_code===s.group).map(I=>o.jsxs("option",{value:I.id,children:[I.code?`${I.code} - `:"",I.name]},I.id))]})]}),(()=>{const I=x.find(se=>se.id===s.course_id);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Course Code"}),o.jsx("input",{className:"form-control",value:(I==null?void 0:I.code)||"",readOnly:!0,placeholder:"Auto"})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Course ID"}),o.jsx("input",{className:"form-control",value:(I==null?void 0:I.id)||"",readOnly:!0,placeholder:"Auto"})]})]})})(),o.jsxs("div",{className:"col-12",children:[o.jsx("h6",{className:"fw-bold mb-1",children:"Personal Details"}),o.jsx("hr",{className:"hr-soft"})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Full Name"}),o.jsx("input",{className:"form-control",value:s.full_name,onChange:I=>R("full_name",I.target.value),required:!0})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Gender"}),o.jsxs("select",{className:"form-select",value:s.gender,onChange:I=>R("gender",I.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Select"}),e.map(I=>o.jsx("option",{value:I,children:I},I))]})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"DOB"}),o.jsx("input",{type:"date",className:"form-control",value:s.dob,onChange:I=>R("dob",I.target.value),required:!0})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Father's Name"}),o.jsx("input",{className:"form-control",value:s.father_name,onChange:I=>R("father_name",I.target.value)})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Mother's Name"}),o.jsx("input",{className:"form-control",value:s.mother_name,onChange:I=>R("mother_name",I.target.value)})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("h6",{className:"fw-bold mb-1",children:"Contact & Address"}),o.jsx("hr",{className:"hr-soft"})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Mobile"}),o.jsx("input",{className:"form-control",inputMode:"tel",maxLength:"10",pattern:"\\\\d{10}",value:s.mobile,onChange:z("mobile",10),required:!0})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",value:s.email,onChange:I=>R("email",I.target.value)})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Nationality"}),o.jsx("input",{className:"form-control",value:s.nationality,onChange:I=>R("nationality",I.target.value)})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"State"}),o.jsxs("select",{className:"form-select",value:s.state,onChange:I=>R("state",I.target.value),children:[o.jsx("option",{value:"",children:"Select"}),n.map(I=>o.jsx("option",{value:I,children:I},I))]})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Aadhar No"}),o.jsx("input",{className:"form-control",inputMode:"numeric",maxLength:"12",pattern:"\\\\d{12}",placeholder:"12 digits",value:s.aadhar_no,onChange:z("aadhar_no",12)})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Postal Code (PIN)"}),o.jsx("input",{className:"form-control",inputMode:"numeric",maxLength:"6",pattern:"\\\\d{6}",placeholder:"6 digits",value:s.postal_code,onChange:z("postal_code",6),required:!0})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Religion"}),o.jsxs("select",{className:"form-select",value:s.religion,onChange:I=>R("religion",I.target.value),children:[o.jsx("option",{value:"",children:"Select"}),r.map(I=>o.jsx("option",{value:I,children:I},I))]})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Caste"}),o.jsxs("select",{className:"form-select",value:s.caste,onChange:I=>R("caste",I.target.value),children:[o.jsx("option",{value:"",children:"Select"}),t.map(I=>o.jsx("option",{value:I,children:I},I))]})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Sub Caste"}),o.jsx("input",{className:"form-control",value:s.sub_caste,onChange:I=>R("sub_caste",I.target.value)})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("label",{className:"form-label",children:"Address"}),o.jsx("textarea",{className:"form-control",rows:"2",value:s.address,onChange:I=>R("address",I.target.value),required:!0})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Aadhar No"}),o.jsx("input",{className:"form-control",value:s.aadhar_no,onChange:I=>R("aadhar_no",I.target.value)})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Postal code"}),o.jsx("input",{className:"form-control",value:s.aadhar_no,onChange:I=>R("aadhar_no",I.target.value)})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("h6",{className:"fw-bold mb-1",children:"Uploads"}),o.jsx("hr",{className:"hr-soft"})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Upload Photo"}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",onChange:I=>{var se;return l(((se=I.target.files)==null?void 0:se[0])||null)}})]}),o.jsxs("div",{className:"col-12 d-flex justify-content-end gap-2 mt-2",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:F,children:"Clear"}),o.jsx("button",{className:"btn btn-brand",disabled:f,children:f?"Submitting...":"Submit"})]})]})}),y&&o.jsx("div",{className:"alert alert-info mt-3 mb-0",children:y})]})})})})}const Sl="/assets/images-DpM0kpDs.png",G4="/assets/EMS2-Dozuuo2K.jpg",W4="/assets/EMS-BGrnyloG.jpg",H4=[{value:"38+",label:"UG & PG programmes"},{value:"18K+",label:"Successful alumni"}];function Y4(){return o.jsx("div",{className:"home-shell",children:o.jsxs("header",{className:"home-hero home-hero--modern",children:[o.jsx("div",{className:"home-hero__bg","aria-hidden":"true",style:{"--hero-photo":`url(${W4})`}}),o.jsx("div",{className:"container",children:o.jsxs("div",{className:"home-hero__grid home-hero__grid--fixed",children:[o.jsxs("section",{className:"home-hero__primary",children:[o.jsx("div",{className:"home-hero__crest",children:o.jsx("img",{src:Sl,alt:"Vijayam crest"})}),o.jsx("h1",{className:"home-hero__title",children:"Vijayam Arts & Science College"}),o.jsx("p",{className:"home-hero__subtitle",children:"Exam Management System"}),o.jsxs("p",{className:"home-hero__tagline",children:[o.jsx("span",{className:"home-hero__tagline-text",children:"Student access to applications, results, and timetables."}),o.jsx("span",{className:"home-hero__tagline-arrow","aria-hidden":"true",children:""})]}),o.jsxs("div",{className:"home-hero__actions home-hero__actions--triple",children:[o.jsx(Ji,{to:"/application",className:"btn btn-hero-primary home-hero__action-btn home-hero__action-btn--apply",children:"Application"}),o.jsx(Ji,{to:"/public/results",className:"btn btn-hero-secondary home-hero__action-btn home-hero__action-btn--results",children:"Check Results"}),o.jsx(Ji,{to:"/public/timetable",className:"btn btn-hero-secondary home-hero__action-btn home-hero__action-btn--timetable",children:"Exam Timetable"})]})]}),o.jsxs("aside",{className:"home-hero__control home-hero__control--panel",children:[o.jsx("div",{className:"home-hero__control-badge","aria-hidden":"true",children:o.jsx("img",{src:G4,alt:"Vijayam alternate crest"})}),o.jsx("div",{className:"home-hero__control-header",children:o.jsx("p",{className:"home-hero__control-label",children:"Exam Control Centre"})}),o.jsxs("div",{className:"home-hero__microcopy",children:[o.jsx("span",{children:"Official control room for approvals & schedules"}),o.jsx("span",{children:"Coordinated support for principals, staff, and students"})]}),o.jsx("p",{className:"home-hero__control-login-label",children:"Admin login"}),o.jsx("div",{className:"home-hero__stats home-hero__stats--stacked",children:H4.map(e=>o.jsxs("div",{className:"home-hero__stat",children:[o.jsx("span",{className:"home-hero__stat-value",children:e.value}),o.jsx("span",{className:"home-hero__stat-label",children:e.label})]},e.label))}),o.jsx("div",{className:"home-hero__control-footer",children:o.jsx(Ji,{to:"/admin/login",className:"btn btn-hero-contrast home-hero__login-btn",children:"Login"})})]})]})})]})})}function K4(){const[e,t]=H.useState([]),[r,n]=H.useState([]),[s,i]=H.useState([]),[a,l]=H.useState(""),[c,d]=H.useState(""),[f,g]=H.useState(null);H.useEffect(()=>{(async()=>(t(await Ce.listStudents()),n(await Ce.listExams()),i(await Ce.listResults())))()},[]);const y=()=>{const p=s.find(x=>x.student_id===a&&x.exam_id===c);g(p||null)};return o.jsx("div",{className:"container py-5",children:o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-lg-8",children:o.jsxs("div",{className:"card card-soft p-4",children:[o.jsx("h4",{className:"mb-3",children:"Exam Results"}),o.jsxs("div",{className:"row g-2 align-items-end",children:[o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Student"}),o.jsxs("select",{className:"form-select",value:a,onChange:p=>l(p.target.value),children:[o.jsx("option",{value:"",children:"Select Student"}),e.map(p=>o.jsxs("option",{value:p.student_id,children:[p.student_id," - ",p.full_name]},p.student_id))]})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Exam"}),o.jsxs("select",{className:"form-select",value:c,onChange:p=>d(p.target.value),children:[o.jsx("option",{value:"",children:"Select Exam"}),r.map(p=>o.jsxs("option",{value:p.id,children:[p.title," (",p.date,")"]},p.id))]})]}),o.jsx("div",{className:"col-md-4 text-end",children:o.jsx("button",{className:"btn btn-brand",onClick:y,children:"View Result"})})]}),f&&o.jsx("div",{className:"mt-4",children:o.jsxs("div",{className:"card p-3 bg-ice",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Total:"})," ",f.total]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Grade:"})," ",f.grade]})]})}),f===null&&a&&c&&o.jsx("div",{className:"alert alert-warning mt-3",children:"No result found for the selected student and exam."})]})})})})}function J4(){const[e,t]=H.useState([]);return H.useEffect(()=>{(async()=>t(await Ce.listExams()))()},[]),o.jsx("div",{className:"container py-5",children:o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-lg-8",children:o.jsxs("div",{className:"card card-soft p-4",children:[o.jsx("h4",{className:"mb-3",children:"Exam Time Table"}),e.length===0?o.jsx("div",{className:"text-muted",children:"No exams published yet."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table mb-0",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Title"}),o.jsx("th",{children:"Date"}),o.jsx("th",{children:"Session"}),o.jsx("th",{children:"Notes"})]})}),o.jsx("tbody",{children:e.map(r=>o.jsxs("tr",{children:[o.jsx("td",{children:r.title}),o.jsx("td",{children:r.date}),o.jsx("td",{children:r.session||"-"}),o.jsx("td",{children:r.notes||"-"})]},r.id))})]})})]})})})})}const X4="modulepreload",Q4=function(e){return"/"+e},Bv={},$m=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Q4(c),c in Bv)return;Bv[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":X4,d||(g.as="script"),g.crossOrigin="",g.href=c,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((y,p)=>{g.addEventListener("load",y),g.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Ht(e){"@babel/helpers - typeof";return Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(e)}var yn=Uint8Array,Jn=Uint16Array,d0=Int32Array,$h=new yn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vh=new yn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Vm=new yn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Jb=function(e,t){for(var r=new Jn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new d0(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},Xb=Jb($h,2),Qb=Xb.b,Gm=Xb.r;Qb[28]=258,Gm[258]=28;var Zb=Jb(Vh,0),Z4=Zb.b,qv=Zb.r,Wm=new Jn(32768);for(var cr=0;cr<32768;++cr){var Bi=(cr&43690)>>1|(cr&21845)<<1;Bi=(Bi&52428)>>2|(Bi&13107)<<2,Bi=(Bi&61680)>>4|(Bi&3855)<<4,Wm[cr]=((Bi&65280)>>8|(Bi&255)<<8)>>1}var Ys=function(e,t,r){for(var n=e.length,s=0,i=new Jn(t);s<n;++s)e[s]&&++i[e[s]-1];var a=new Jn(t);for(s=1;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;var l;if(r){l=new Jn(1<<t);var c=15-t;for(s=0;s<n;++s)if(e[s])for(var d=s<<4|e[s],f=t-e[s],g=a[e[s]-1]++<<f,y=g|(1<<f)-1;g<=y;++g)l[Wm[g]>>c]=d}else for(l=new Jn(n),s=0;s<n;++s)e[s]&&(l[s]=Wm[a[e[s]-1]++]>>15-e[s]);return l},ua=new yn(288);for(var cr=0;cr<144;++cr)ua[cr]=8;for(var cr=144;cr<256;++cr)ua[cr]=9;for(var cr=256;cr<280;++cr)ua[cr]=7;for(var cr=280;cr<288;++cr)ua[cr]=8;var Xc=new yn(32);for(var cr=0;cr<32;++cr)Xc[cr]=5;var e6=Ys(ua,9,0),t6=Ys(ua,9,1),r6=Ys(Xc,5,0),n6=Ys(Xc,5,1),wp=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},ws=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},xp=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},h0=function(e){return(e+7)/8|0},e_=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new yn(e.subarray(t,r))},s6=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ks=function(e,t,r){var n=new Error(t||s6[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ks),!r)throw n;return n},i6=function(e,t,r,n){var s=e.length,i=0;if(!s||t.f&&!t.l)return r||new yn(0);var a=!r,l=a||t.i!=2,c=t.i;a&&(r=new yn(s*3));var d=function(J){var be=r.length;if(J>be){var xe=new yn(Math.max(be*2,J));xe.set(r),r=xe}},f=t.f||0,g=t.p||0,y=t.b||0,p=t.l,x=t.d,N=t.m,C=t.n,_=s*8;do{if(!p){f=ws(e,g,1);var b=ws(e,g+1,3);if(g+=3,b)if(b==1)p=t6,x=n6,N=9,C=5;else if(b==2){var te=ws(e,g,31)+257,z=ws(e,g+10,15)+4,U=te+ws(e,g+5,31)+1;g+=14;for(var I=new yn(U),se=new yn(19),L=0;L<z;++L)se[Vm[L]]=ws(e,g+L*3,7);g+=z*3;for(var M=wp(se),K=(1<<M)-1,q=Ys(se,M,1),L=0;L<U;){var he=q[ws(e,g,K)];g+=he&15;var S=he>>4;if(S<16)I[L++]=S;else{var $=0,de=0;for(S==16?(de=3+ws(e,g,3),g+=2,$=I[L-1]):S==17?(de=3+ws(e,g,7),g+=3):S==18&&(de=11+ws(e,g,127),g+=7);de--;)I[L++]=$}}var T=I.subarray(0,te),Q=I.subarray(te);N=wp(T),C=wp(Q),p=Ys(T,N,1),x=Ys(Q,C,1)}else ks(1);else{var S=h0(g)+4,R=e[S-4]|e[S-3]<<8,F=S+R;if(F>s){c&&ks(0);break}l&&d(y+R),r.set(e.subarray(S,F),y),t.b=y+=R,t.p=g=F*8,t.f=f;continue}if(g>_){c&&ks(0);break}}l&&d(y+131072);for(var Z=(1<<N)-1,Ne=(1<<C)-1,j=g;;j=g){var $=p[xp(e,g)&Z],B=$>>4;if(g+=$&15,g>_){c&&ks(0);break}if($||ks(2),B<256)r[y++]=B;else if(B==256){j=g,p=null;break}else{var G=B-254;if(B>264){var L=B-257,ee=$h[L];G=ws(e,g,(1<<ee)-1)+Qb[L],g+=ee}var ae=x[xp(e,g)&Ne],ce=ae>>4;ae||ks(3),g+=ae&15;var Q=Z4[ce];if(ce>3){var ee=Vh[ce];Q+=xp(e,g)&(1<<ee)-1,g+=ee}if(g>_){c&&ks(0);break}l&&d(y+131072);var ge=y+G;if(y<Q){var me=i-Q,Le=Math.min(Q,ge);for(me+y<0&&ks(3);y<Le;++y)r[y]=n[me+y]}for(;y<ge;++y)r[y]=r[y-Q]}}t.l=p,t.p=j,t.b=y,t.f=f,p&&(f=1,t.m=N,t.d=x,t.n=C)}while(!f);return y!=r.length&&a?e_(r,0,y):r.subarray(0,y)},ai=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},cc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Np=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:r_,l:0};if(s==1){var a=new yn(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(F,te){return F.f-te.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,f=1,g=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};f!=s-1;)l=r[r[d].f<r[g].f?d++:g++],c=r[d!=f&&r[d].f<r[g].f?d++:g++],r[f++]={s:-1,f:l.f+c.f,l,r:c};for(var y=i[0].s,n=1;n<s;++n)i[n].s>y&&(y=i[n].s);var p=new Jn(y+1),x=Hm(r[f-1],p,0);if(x>t){var n=0,N=0,C=x-t,_=1<<C;for(i.sort(function(te,z){return p[z.s]-p[te.s]||te.f-z.f});n<s;++n){var b=i[n].s;if(p[b]>t)N+=_-(1<<x-p[b]),p[b]=t;else break}for(N>>=C;N>0;){var S=i[n].s;p[S]<t?N-=1<<t-p[S]++-1:++n}for(;n>=0&&N;--n){var R=i[n].s;p[R]==t&&(--p[R],++N)}x=t}return{t:new yn(p),l:x}},Hm=function(e,t,r){return e.s==-1?Math.max(Hm(e.l,t,r+1),Hm(e.r,t,r+1)):t[e.s]=r},zv=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Jn(++t),n=0,s=e[0],i=1,a=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=e[l]}return{c:r.subarray(0,n),n:t}},uc=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},t_=function(e,t,r){var n=r.length,s=h0(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},$v=function(e,t,r,n,s,i,a,l,c,d,f){ai(t,f++,r),++s[256];for(var g=Np(s,15),y=g.t,p=g.l,x=Np(i,15),N=x.t,C=x.l,_=zv(y),b=_.c,S=_.n,R=zv(N),F=R.c,te=R.n,z=new Jn(19),U=0;U<b.length;++U)++z[b[U]&31];for(var U=0;U<F.length;++U)++z[F[U]&31];for(var I=Np(z,7),se=I.t,L=I.l,M=19;M>4&&!se[Vm[M-1]];--M);var K=d+5<<3,q=uc(s,ua)+uc(i,Xc)+a,he=uc(s,y)+uc(i,N)+a+14+3*M+uc(z,se)+2*z[16]+3*z[17]+7*z[18];if(c>=0&&K<=q&&K<=he)return t_(t,f,e.subarray(c,c+d));var $,de,T,Q;if(ai(t,f,1+(he<q)),f+=2,he<q){$=Ys(y,p,0),de=y,T=Ys(N,C,0),Q=N;var Z=Ys(se,L,0);ai(t,f,S-257),ai(t,f+5,te-1),ai(t,f+10,M-4),f+=14;for(var U=0;U<M;++U)ai(t,f+3*U,se[Vm[U]]);f+=3*M;for(var Ne=[b,F],j=0;j<2;++j)for(var B=Ne[j],U=0;U<B.length;++U){var G=B[U]&31;ai(t,f,Z[G]),f+=se[G],G>15&&(ai(t,f,B[U]>>5&127),f+=B[U]>>12)}}else $=e6,de=ua,T=r6,Q=Xc;for(var U=0;U<l;++U){var ee=n[U];if(ee>255){var G=ee>>18&31;cc(t,f,$[G+257]),f+=de[G+257],G>7&&(ai(t,f,ee>>23&31),f+=$h[G]);var ae=ee&31;cc(t,f,T[ae]),f+=Q[ae],ae>3&&(cc(t,f,ee>>5&8191),f+=Vh[ae])}else cc(t,f,$[ee]),f+=de[ee]}return cc(t,f,$[256]),f+de[256]},a6=new d0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),r_=new yn(0),o6=function(e,t,r,n,s,i){var a=i.z||e.length,l=new yn(n+a+5*(1+Math.ceil(a/7e3))+s),c=l.subarray(n,l.length-s),d=i.l,f=(i.r||0)&7;if(t){f&&(c[0]=i.r>>3);for(var g=a6[t-1],y=g>>13,p=g&8191,x=(1<<r)-1,N=i.p||new Jn(32768),C=i.h||new Jn(x+1),_=Math.ceil(r/3),b=2*_,S=function(ze){return(e[ze]^e[ze+1]<<_^e[ze+2]<<b)&x},R=new d0(25e3),F=new Jn(288),te=new Jn(32),z=0,U=0,I=i.i||0,se=0,L=i.w||0,M=0;I+2<a;++I){var K=S(I),q=I&32767,he=C[K];if(N[q]=he,C[K]=q,L<=I){var $=a-I;if((z>7e3||se>24576)&&($>423||!d)){f=$v(e,c,0,R,F,te,U,se,M,I-M,f),se=z=U=0,M=I;for(var de=0;de<286;++de)F[de]=0;for(var de=0;de<30;++de)te[de]=0}var T=2,Q=0,Z=p,Ne=q-he&32767;if($>2&&K==S(I-Ne))for(var j=Math.min(y,$)-1,B=Math.min(32767,I),G=Math.min(258,$);Ne<=B&&--Z&&q!=he;){if(e[I+T]==e[I+T-Ne]){for(var ee=0;ee<G&&e[I+ee]==e[I+ee-Ne];++ee);if(ee>T){if(T=ee,Q=Ne,ee>j)break;for(var ae=Math.min(Ne,ee-2),ce=0,de=0;de<ae;++de){var ge=I-Ne+de&32767,me=N[ge],Le=ge-me&32767;Le>ce&&(ce=Le,he=ge)}}}q=he,he=N[q],Ne+=q-he&32767}if(Q){R[se++]=268435456|Gm[T]<<18|qv[Q];var J=Gm[T]&31,be=qv[Q]&31;U+=$h[J]+Vh[be],++F[257+J],++te[be],L=I+T,++z}else R[se++]=e[I],++F[e[I]]}}for(I=Math.max(I,L);I<a;++I)R[se++]=e[I],++F[e[I]];f=$v(e,c,d,R,F,te,U,se,M,I-M,f),d||(i.r=f&7|c[f/8|0]<<3,f-=7,i.h=C,i.p=N,i.i=I,i.w=L)}else{for(var I=i.w||0;I<a+d;I+=65535){var xe=I+65535;xe>=a&&(c[f/8|0]=d,xe=a),f=t_(c,f+1,e.subarray(I,xe))}i.i=a}return e_(l,0,n+h0(f)+s)},n_=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,a=0;a!=i;){for(var l=Math.min(a+2655,i);a<l;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},l6=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),a=new yn(i.length+e.length);a.set(i),a.set(e,i.length),e=a,s.w=i.length}return o6(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},s_=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},c6=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=n_();s.p(t.dictionary),s_(e,2,s.d())}},u6=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ks(6,"invalid zlib data"),(e[1]>>5&1)==1&&ks(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Ym(e,t){t||(t={});var r=n_();r.p(e);var n=l6(e,t,t.dictionary?6:2,4);return c6(n,t),s_(n,n.length-4,r.d()),n}function d6(e,t){return i6(e.subarray(u6(e),-4),{i:2},t,t)}var h6=typeof TextDecoder<"u"&&new TextDecoder,f6=0;try{h6.decode(r_,{stream:!0}),f6=1}catch{}var St=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Sp(){St.console&&typeof St.console.log=="function"&&St.console.log.apply(St.console,arguments)}var er={log:Sp,warn:function(e){St.console&&(typeof St.console.warn=="function"?St.console.warn.apply(St.console,arguments):Sp.call(null,arguments))},error:function(e){St.console&&(typeof St.console.error=="function"?St.console.error.apply(St.console,arguments):Sp(e))}};function jp(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Oa(n.response,t,r)},n.onerror=function(){er.error("could not download file")},n.send()}function Vv(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Nd(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var kc,Km,Oa=St.saveAs||((typeof window>"u"?"undefined":Ht(window))!=="object"||window!==St?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=St.URL||St.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?Vv(s.href)?jp(e,t,r):Nd(s,s.target="_blank"):Nd(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Nd(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(Vv(e))jp(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Nd(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Ht(i)!=="object"&&(er.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return jp(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(St.HTMLElement)||St.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Ht(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(e)}else{var c=St.URL||St.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function i_(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(e);a&&(t=i(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Cp(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=fn(r,n,s,i,t[0],7,-680876936),i=fn(i,r,n,s,t[1],12,-389564586),s=fn(s,i,r,n,t[2],17,606105819),n=fn(n,s,i,r,t[3],22,-1044525330),r=fn(r,n,s,i,t[4],7,-176418897),i=fn(i,r,n,s,t[5],12,1200080426),s=fn(s,i,r,n,t[6],17,-1473231341),n=fn(n,s,i,r,t[7],22,-45705983),r=fn(r,n,s,i,t[8],7,1770035416),i=fn(i,r,n,s,t[9],12,-1958414417),s=fn(s,i,r,n,t[10],17,-42063),n=fn(n,s,i,r,t[11],22,-1990404162),r=fn(r,n,s,i,t[12],7,1804603682),i=fn(i,r,n,s,t[13],12,-40341101),s=fn(s,i,r,n,t[14],17,-1502002290),r=pn(r,n=fn(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=pn(i,r,n,s,t[6],9,-1069501632),s=pn(s,i,r,n,t[11],14,643717713),n=pn(n,s,i,r,t[0],20,-373897302),r=pn(r,n,s,i,t[5],5,-701558691),i=pn(i,r,n,s,t[10],9,38016083),s=pn(s,i,r,n,t[15],14,-660478335),n=pn(n,s,i,r,t[4],20,-405537848),r=pn(r,n,s,i,t[9],5,568446438),i=pn(i,r,n,s,t[14],9,-1019803690),s=pn(s,i,r,n,t[3],14,-187363961),n=pn(n,s,i,r,t[8],20,1163531501),r=pn(r,n,s,i,t[13],5,-1444681467),i=pn(i,r,n,s,t[2],9,-51403784),s=pn(s,i,r,n,t[7],14,1735328473),r=mn(r,n=pn(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=mn(i,r,n,s,t[8],11,-2022574463),s=mn(s,i,r,n,t[11],16,1839030562),n=mn(n,s,i,r,t[14],23,-35309556),r=mn(r,n,s,i,t[1],4,-1530992060),i=mn(i,r,n,s,t[4],11,1272893353),s=mn(s,i,r,n,t[7],16,-155497632),n=mn(n,s,i,r,t[10],23,-1094730640),r=mn(r,n,s,i,t[13],4,681279174),i=mn(i,r,n,s,t[0],11,-358537222),s=mn(s,i,r,n,t[3],16,-722521979),n=mn(n,s,i,r,t[6],23,76029189),r=mn(r,n,s,i,t[9],4,-640364487),i=mn(i,r,n,s,t[12],11,-421815835),s=mn(s,i,r,n,t[15],16,530742520),r=gn(r,n=mn(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=gn(i,r,n,s,t[7],10,1126891415),s=gn(s,i,r,n,t[14],15,-1416354905),n=gn(n,s,i,r,t[5],21,-57434055),r=gn(r,n,s,i,t[12],6,1700485571),i=gn(i,r,n,s,t[3],10,-1894986606),s=gn(s,i,r,n,t[10],15,-1051523),n=gn(n,s,i,r,t[1],21,-2054922799),r=gn(r,n,s,i,t[8],6,1873313359),i=gn(i,r,n,s,t[15],10,-30611744),s=gn(s,i,r,n,t[6],15,-1560198380),n=gn(n,s,i,r,t[13],21,1309151649),r=gn(r,n,s,i,t[4],6,-145523070),i=gn(i,r,n,s,t[11],10,-1120210379),s=gn(s,i,r,n,t[2],15,718787259),n=gn(n,s,i,r,t[9],21,-343485551),e[0]=Xi(r,e[0]),e[1]=Xi(n,e[1]),e[2]=Xi(s,e[2]),e[3]=Xi(i,e[3])}function Gh(e,t,r,n,s,i){return t=Xi(Xi(t,e),Xi(n,i)),Xi(t<<s|t>>>32-s,r)}function fn(e,t,r,n,s,i,a){return Gh(t&r|~t&n,e,t,s,i,a)}function pn(e,t,r,n,s,i,a){return Gh(t&n|r&~n,e,t,s,i,a)}function mn(e,t,r,n,s,i,a){return Gh(t^r^n,e,t,s,i,a)}function gn(e,t,r,n,s,i,a){return Gh(r^(t|~n),e,t,s,i,a)}function a_(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Cp(n,p6(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Cp(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,Cp(n,s),n}function p6(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}kc=St.atob.bind(St),Km=St.btoa.bind(St);var Gv="0123456789abcdef".split("");function m6(e){for(var t="",r=0;r<4;r++)t+=Gv[e>>8*r+4&15]+Gv[e>>8*r&15];return t}function g6(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Jm(e){return a_(e).map(g6).join("")}var v6=function(e){for(var t=0;t<e.length;t++)e[t]=m6(e[t]);return e.join("")}(a_("hello"))!="5d41402abc4b2a76b9719d911017c592";function Xi(e,t){if(v6){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Xm(e,t){var r,n,s,i;if(e!==r){for(var a=(s=e,i=1+(256/e.length>>0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var f=l[c];d=(d+f+a.charCodeAt(c))%256,l[c]=l[d],l[d]=f}r=e,n=l}else l=n;var g=t.length,y=0,p=0,x="";for(c=0;c<g;c++)p=(p+(f=l[y=(y+1)%256]))%256,l[y]=l[p],l[p]=f,a=l[(l[y]+l[p])%256],x+=String.fromCharCode(t.charCodeAt(c)^a);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Wv={print:4,modify:8,copy:16,"annot-forms":32};function Oo(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(Wv.perm!==void 0)throw new Error("Invalid permission: "+l);s+=Wv[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=Jm(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Xm(this.encryptionKey,this.padding)}function Ro(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[n]}return t}function Hv(e){if(Ht(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var a=t[r][i];try{a[0].apply(e,n)}catch(l){St.console&&er.error("jsPDF PubSub Error",l.message,l)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function wh(e){if(!(this instanceof wh))return new wh(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function o_(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ma(e,t,r,n,s){if(!(this instanceof Ma))return new Ma(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,o_.call(this,n,s)}function Yo(e,t,r,n,s){if(!(this instanceof Yo))return new Yo(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,o_.call(this,n,s)}function xt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],l=1,c=16,d="S",f=null;Ht(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),a=e.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,y={},p={internal:{},__private__:{}};p.__private__.PubSub=Hv;var x="1.3",N=p.__private__.getPdfVersion=function(){return x};p.__private__.setPdfVersion=function(m){x=m};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return C};var _=p.__private__.getPageFormat=function(m){return C[m]};s=s||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},S=b.COMPAT;function R(){this.saveGraphicsState(),Y(new gt(We,0,0,-We,0,Ci()*We).toString()+" cm"),this.setFontSize(this.getFontSize()/We),d="n",S=b.ADVANCED}function F(){this.restoreGraphicsState(),d="S",S=b.COMPAT}var te=p.__private__.combineFontStyleAndFontWeight=function(m,A){if(m=="bold"&&A=="normal"||m=="bold"&&A==400||m=="normal"&&A=="italic"||m=="bold"&&A=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return A&&(m=A==400||A==="normal"?m==="italic"?"italic":"normal":A!=700&&A!=="bold"||m!=="normal"?(A==700?"bold":A)+""+m:"bold"),m};p.advancedAPI=function(m){var A=S===b.COMPAT;return A&&R.call(this),typeof m!="function"||(m(this),A&&F.call(this)),this},p.compatAPI=function(m){var A=S===b.ADVANCED;return A&&F.call(this),typeof m!="function"||(m(this),A&&R.call(this)),this},p.isAdvancedAPI=function(){return S===b.ADVANCED};var z,U=function(m){if(S!==b.ADVANCED)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=p.roundToPrecision=p.__private__.roundToPrecision=function(m,A){var W=t||A;if(isNaN(m)||isNaN(W))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(W).replace(/0+$/,"")};z=p.hpf=p.__private__.hpf=typeof c=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return I(m,c)}:c==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return I(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return I(m,16)};var se=p.f2=p.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return I(m,2)},L=p.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return I(m,3)},M=p.scale=p.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return S===b.COMPAT?m*We:S===b.ADVANCED?m:void 0},K=function(m){return S===b.COMPAT?Ci()-m:S===b.ADVANCED?m:void 0},q=function(m){return M(K(m))};p.__private__.setPrecision=p.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(t=parseInt(m,10))};var he,$="00000000000000000000000000000000",de=p.__private__.getFileId=function(){return $},T=p.__private__.setFileId=function(m){return $=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(cn=new Oo(f.userPermissions,f.userPassword,f.ownerPassword,$)),$};p.setFileId=function(m){return T(m),this},p.getFileId=function(){return de()};var Q=p.__private__.convertDateToPDFDate=function(m){var A=m.getTimezoneOffset(),W=A<0?"+":"-",re=Math.floor(Math.abs(A/60)),fe=Math.abs(A%60),je=[W,G(re),"'",G(fe),"'"].join("");return["D:",m.getFullYear(),G(m.getMonth()+1),G(m.getDate()),G(m.getHours()),G(m.getMinutes()),G(m.getSeconds()),je].join("")},Z=p.__private__.convertPDFDateToDate=function(m){var A=parseInt(m.substr(2,4),10),W=parseInt(m.substr(6,2),10)-1,re=parseInt(m.substr(8,2),10),fe=parseInt(m.substr(10,2),10),je=parseInt(m.substr(12,2),10),Re=parseInt(m.substr(14,2),10);return new Date(A,W,re,fe,je,Re,0)},Ne=p.__private__.setCreationDate=function(m){var A;if(m===void 0&&(m=new Date),m instanceof Date)A=Q(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");A=m}return he=A},j=p.__private__.getCreationDate=function(m){var A=he;return m==="jsDate"&&(A=Z(he)),A};p.setCreationDate=function(m){return Ne(m),this},p.getCreationDate=function(m){return j(m)};var B,G=p.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},ee=p.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},ae=0,ce=[],ge=[],me=0,Le=[],J=[],be=!1,xe=ge,ze=function(){ae=0,me=0,ge=[],ce=[],Le=[],pt=Me(),De=Me()};p.__private__.setCustomOutputDestination=function(m){be=!0,xe=m};var _e=function(m){be||(xe=m)};p.__private__.resetCustomOutputDestination=function(){be=!1,xe=ge};var Y=p.__private__.out=function(m){return m=m.toString(),me+=m.length+1,xe.push(m),xe},dt=p.__private__.write=function(m){return Y(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},et=p.__private__.getArrayBuffer=function(m){for(var A=m.length,W=new ArrayBuffer(A),re=new Uint8Array(W);A--;)re[A]=m.charCodeAt(A);return W},Ie=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ie};var qe=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(m){return qe=S===b.ADVANCED?m/We:m,this};var Ve,$e=p.__private__.getFontSize=p.getFontSize=function(){return S===b.COMPAT?qe:qe*We},lt=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(m){return lt=m,this},p.__private__.getR2L=p.getR2L=function(){return lt};var bt,Nt=p.__private__.setZoomMode=function(m){var A=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))Ve=m;else if(isNaN(m)){if(A.indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');Ve=m}else Ve=parseInt(m,10)};p.__private__.getZoomMode=function(){return Ve};var Tt,Ft=p.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');bt=m};p.__private__.getPageMode=function(){return bt};var Bt=p.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');Tt=m};p.__private__.getLayoutMode=function(){return Tt},p.__private__.setDisplayMode=p.setDisplayMode=function(m,A,W){return Nt(m),Bt(A),Ft(W),this};var ft={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(m){if(Object.keys(ft).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ft[m]},p.__private__.getDocumentProperties=function(){return ft},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(m){for(var A in ft)ft.hasOwnProperty(A)&&m[A]&&(ft[A]=m[A]);return this},p.__private__.setDocumentProperty=function(m,A){if(Object.keys(ft).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ft[m]=A};var jt,We,dr,It,Lr,ne={},Ee={},X=[],we={},Be={},Ye={},st={},ct=null,Oe=0,He=[],Ct=new Hv(p),nt=e.hotfixes||[],Qt={},tn={},tr=[],gt=function m(A,W,re,fe,je,Re){if(!(this instanceof m))return new m(A,W,re,fe,je,Re);isNaN(A)&&(A=1),isNaN(W)&&(W=0),isNaN(re)&&(re=0),isNaN(fe)&&(fe=1),isNaN(je)&&(je=0),isNaN(Re)&&(Re=0),this._matrix=[A,W,re,fe,je,Re]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(m)},gt.prototype.multiply=function(m){var A=m.sx*this.sx+m.shy*this.shx,W=m.sx*this.shy+m.shy*this.sy,re=m.shx*this.sx+m.sy*this.shx,fe=m.shx*this.shy+m.sy*this.sy,je=m.tx*this.sx+m.ty*this.shx+this.tx,Re=m.tx*this.shy+m.ty*this.sy+this.ty;return new gt(A,W,re,fe,je,Re)},gt.prototype.decompose=function(){var m=this.sx,A=this.shy,W=this.shx,re=this.sy,fe=this.tx,je=this.ty,Re=Math.sqrt(m*m+A*A),Qe=(m/=Re)*W+(A/=Re)*re;W-=m*Qe,re-=A*Qe;var mt=Math.sqrt(W*W+re*re);return Qe/=mt,m*(re/=mt)<A*(W/=mt)&&(m=-m,A=-A,Qe=-Qe,Re=-Re),{scale:new gt(Re,0,0,mt,0,0),translate:new gt(1,0,0,1,fe,je),rotate:new gt(m,A,-A,m,0,0),skew:new gt(1,0,Qe,1,0,0)}},gt.prototype.toString=function(m){return this.join(" ")},gt.prototype.inversed=function(){var m=this.sx,A=this.shy,W=this.shx,re=this.sy,fe=this.tx,je=this.ty,Re=1/(m*re-A*W),Qe=re*Re,mt=-A*Re,Ot=-W*Re,Pt=m*Re;return new gt(Qe,mt,Ot,Pt,-Qe*fe-Ot*je,-mt*fe-Pt*je)},gt.prototype.applyToPoint=function(m){var A=m.x*this.sx+m.y*this.shx+this.tx,W=m.x*this.shy+m.y*this.sy+this.ty;return new oo(A,W)},gt.prototype.applyToRectangle=function(m){var A=this.applyToPoint(m),W=this.applyToPoint(new oo(m.x+m.w,m.y+m.h));return new Rl(A.x,A.y,W.x-A.x,W.y-A.y)},gt.prototype.clone=function(){var m=this.sx,A=this.shy,W=this.shx,re=this.sy,fe=this.tx,je=this.ty;return new gt(m,A,W,re,fe,je)},p.Matrix=gt;var Je=p.matrixMult=function(m,A){return A.multiply(m)},Tr=new gt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Tr;var Hr=function(m,A){if(!Be[m]){var W=(A instanceof Ma?"Sh":"P")+(Object.keys(we).length+1).toString(10);A.id=W,Be[m]=W,we[W]=A,Ct.publish("addPattern",A)}};p.ShadingPattern=Ma,p.TilingPattern=Yo,p.addShadingPattern=function(m,A){return U("addShadingPattern()"),Hr(m,A),this},p.beginTilingPattern=function(m){U("beginTilingPattern()"),wu(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},p.endTilingPattern=function(m,A){U("endTilingPattern()"),A.stream=J[B].join(`
`),Hr(m,A),Ct.publish("endTilingPattern",A),tr.pop().restore()};var pe=p.__private__.newObject=function(){var m=Me();return Xe(m,!0),m},Me=p.__private__.newObjectDeferred=function(){return ae++,ce[ae]=function(){return me},ae},Xe=function(m,A){return A=typeof A=="boolean"&&A,ce[m]=me,A&&Y(m+" 0 obj"),m},Fe=p.__private__.newAdditionalObject=function(){var m={objId:Me(),content:""};return Le.push(m),m},pt=Me(),De=Me(),vt=p.__private__.decodeColorString=function(m){var A=m.split(" ");if(A.length!==2||A[1]!=="g"&&A[1]!=="G")A.length===5&&(A[4]==="k"||A[4]==="K")&&(A=[(1-A[0])*(1-A[3]),(1-A[1])*(1-A[3]),(1-A[2])*(1-A[3]),"r"]);else{var W=parseFloat(A[0]);A=[W,W,W,"r"]}for(var re="#",fe=0;fe<3;fe++)re+=("0"+Math.floor(255*parseFloat(A[fe])).toString(16)).slice(-2);return re},yt=p.__private__.encodeColorString=function(m){var A;typeof m=="string"&&(m={ch1:m});var W=m.ch1,re=m.ch2,fe=m.ch3,je=m.ch4,Re=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof W=="string"&&W.charAt(0)!=="#"){var Qe=new i_(W);if(Qe.ok)W=Qe.toHex();else if(!/^\d*\.?\d*$/.test(W))throw new Error('Invalid color "'+W+'" passed to jsPDF.encodeColorString.')}if(typeof W=="string"&&/^#[0-9A-Fa-f]{3}$/.test(W)&&(W="#"+W[1]+W[1]+W[2]+W[2]+W[3]+W[3]),typeof W=="string"&&/^#[0-9A-Fa-f]{6}$/.test(W)){var mt=parseInt(W.substr(1),16);W=mt>>16&255,re=mt>>8&255,fe=255&mt}if(re===void 0||je===void 0&&W===re&&re===fe)if(typeof W=="string")A=W+" "+Re[0];else switch(m.precision){case 2:A=se(W/255)+" "+Re[0];break;case 3:default:A=L(W/255)+" "+Re[0]}else if(je===void 0||Ht(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return A=["1.","1.","1.",Re[1]].join(" ");if(typeof W=="string")A=[W,re,fe,Re[1]].join(" ");else switch(m.precision){case 2:A=[se(W/255),se(re/255),se(fe/255),Re[1]].join(" ");break;default:case 3:A=[L(W/255),L(re/255),L(fe/255),Re[1]].join(" ")}}else if(typeof W=="string")A=[W,re,fe,je,Re[2]].join(" ");else switch(m.precision){case 2:A=[se(W),se(re),se(fe),se(je),Re[2]].join(" ");break;case 3:default:A=[L(W),L(re),L(fe),L(je),Re[2]].join(" ")}return A},Dt=p.__private__.getFilters=function(){return a},wt=p.__private__.putStream=function(m){var A=(m=m||{}).data||"",W=m.filters||Dt(),re=m.alreadyAppliedFilters||[],fe=m.addLength1||!1,je=A.length,Re=m.objectId,Qe=function(un){return un};if(f!==null&&Re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Qe=cn.encryptor(Re,0));var mt={};W===!0&&(W=["FlateEncode"]);var Ot=m.additionalKeyValues||[],Pt=(mt=xt.API.processDataByFilters!==void 0?xt.API.processDataByFilters(A,W):{data:A,reverseChain:[]}).reverseChain+(Array.isArray(re)?re.join(" "):re.toString());if(mt.data.length!==0&&(Ot.push({key:"Length",value:mt.data.length}),fe===!0&&Ot.push({key:"Length1",value:je})),Pt.length!=0)if(Pt.split("/").length-1==1)Ot.push({key:"Filter",value:Pt});else{Ot.push({key:"Filter",value:"["+Pt+"]"});for(var qt=0;qt<Ot.length;qt+=1)if(Ot[qt].key==="DecodeParms"){for(var fr=[],yr=0;yr<mt.reverseChain.split("/").length-1;yr+=1)fr.push("null");fr.push(Ot[qt].value),Ot[qt].value="["+fr.join(" ")+"]"}}Y("<<");for(var Rr=0;Rr<Ot.length;Rr++)Y("/"+Ot[Rr].key+" "+Ot[Rr].value);Y(">>"),mt.data.length!==0&&(Y("stream"),Y(Qe(mt.data)),Y("endstream"))},rr=p.__private__.putPage=function(m){var A=m.number,W=m.data,re=m.objId,fe=m.contentsObjId;Xe(re,!0),Y("<</Type /Page"),Y("/Parent "+m.rootDictionaryObjId+" 0 R"),Y("/Resources "+m.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(z(m.mediaBox.bottomLeftX))+" "+parseFloat(z(m.mediaBox.bottomLeftY))+" "+z(m.mediaBox.topRightX)+" "+z(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&Y("/CropBox ["+z(m.cropBox.bottomLeftX)+" "+z(m.cropBox.bottomLeftY)+" "+z(m.cropBox.topRightX)+" "+z(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&Y("/BleedBox ["+z(m.bleedBox.bottomLeftX)+" "+z(m.bleedBox.bottomLeftY)+" "+z(m.bleedBox.topRightX)+" "+z(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&Y("/TrimBox ["+z(m.trimBox.bottomLeftX)+" "+z(m.trimBox.bottomLeftY)+" "+z(m.trimBox.topRightX)+" "+z(m.trimBox.topRightY)+"]"),m.artBox!==null&&Y("/ArtBox ["+z(m.artBox.bottomLeftX)+" "+z(m.artBox.bottomLeftY)+" "+z(m.artBox.topRightX)+" "+z(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&Y("/UserUnit "+m.userUnit),Ct.publish("putPage",{objId:re,pageContext:He[A],pageNumber:A,page:W}),Y("/Contents "+fe+" 0 R"),Y(">>"),Y("endobj");var je=W.join(`
`);return S===b.ADVANCED&&(je+=`
Q`),Xe(fe,!0),wt({data:je,filters:Dt(),objectId:fe}),Y("endobj"),re},Ir=p.__private__.putPages=function(){var m,A,W=[];for(m=1;m<=Oe;m++)He[m].objId=Me(),He[m].contentsObjId=Me();for(m=1;m<=Oe;m++)W.push(rr({number:m,data:J[m],objId:He[m].objId,contentsObjId:He[m].contentsObjId,mediaBox:He[m].mediaBox,cropBox:He[m].cropBox,bleedBox:He[m].bleedBox,trimBox:He[m].trimBox,artBox:He[m].artBox,userUnit:He[m].userUnit,rootDictionaryObjId:pt,resourceDictionaryObjId:De}));Xe(pt,!0),Y("<</Type /Pages");var re="/Kids [";for(A=0;A<Oe;A++)re+=W[A]+" 0 R ";Y(re+"]"),Y("/Count "+Oe),Y(">>"),Y("endobj"),Ct.publish("postPutPages")},qr=function(m){Ct.publish("putFont",{font:m,out:Y,newObject:pe,putStream:wt}),m.isAlreadyPutted!==!0&&(m.objectNumber=pe(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+Ro(m.postScriptName)),Y("/Subtype /Type1"),typeof m.encoding=="string"&&Y("/Encoding /"+m.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},or=function(){for(var m in ne)ne.hasOwnProperty(m)&&(g===!1||g===!0&&y.hasOwnProperty(m))&&qr(ne[m])},xr=function(m){m.objectNumber=pe();var A=[];A.push({key:"Type",value:"/XObject"}),A.push({key:"Subtype",value:"/Form"}),A.push({key:"BBox",value:"["+[z(m.x),z(m.y),z(m.x+m.width),z(m.y+m.height)].join(" ")+"]"}),A.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var W=m.pages[1].join(`
`);wt({data:W,additionalKeyValues:A,objectId:m.objectNumber}),Y("endobj")},Yr=function(){for(var m in Qt)Qt.hasOwnProperty(m)&&xr(Qt[m])},Or=function(m,A){var W,re=[],fe=1/(A-1);for(W=0;W<1;W+=fe)re.push(W);if(re.push(1),m[0].offset!=0){var je={offset:0,color:m[0].color};m.unshift(je)}if(m[m.length-1].offset!=1){var Re={offset:1,color:m[m.length-1].color};m.push(Re)}for(var Qe="",mt=0,Ot=0;Ot<re.length;Ot++){for(W=re[Ot];W>m[mt+1].offset;)mt++;var Pt=m[mt].offset,qt=(W-Pt)/(m[mt+1].offset-Pt),fr=m[mt].color,yr=m[mt+1].color;Qe+=ee(Math.round((1-qt)*fr[0]+qt*yr[0]).toString(16))+ee(Math.round((1-qt)*fr[1]+qt*yr[1]).toString(16))+ee(Math.round((1-qt)*fr[2]+qt*yr[2]).toString(16))}return Qe.trim()},wi=function(m,A){A||(A=21);var W=pe(),re=Or(m.colors,A),fe=[];fe.push({key:"FunctionType",value:"0"}),fe.push({key:"Domain",value:"[0.0 1.0]"}),fe.push({key:"Size",value:"["+A+"]"}),fe.push({key:"BitsPerSample",value:"8"}),fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wt({data:re,additionalKeyValues:fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:W}),Y("endobj"),m.objectNumber=pe(),Y("<< /ShadingType "+m.type),Y("/ColorSpace /DeviceRGB");var je="/Coords ["+z(parseFloat(m.coords[0]))+" "+z(parseFloat(m.coords[1]))+" ";m.type===2?je+=z(parseFloat(m.coords[2]))+" "+z(parseFloat(m.coords[3])):je+=z(parseFloat(m.coords[2]))+" "+z(parseFloat(m.coords[3]))+" "+z(parseFloat(m.coords[4]))+" "+z(parseFloat(m.coords[5])),Y(je+="]"),m.matrix&&Y("/Matrix ["+m.matrix.toString()+"]"),Y("/Function "+W+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},xi=function(m,A){var W=Me(),re=pe();A.push({resourcesOid:W,objectOid:re}),m.objectNumber=re;var fe=[];fe.push({key:"Type",value:"/Pattern"}),fe.push({key:"PatternType",value:"1"}),fe.push({key:"PaintType",value:"1"}),fe.push({key:"TilingType",value:"1"}),fe.push({key:"BBox",value:"["+m.boundingBox.map(z).join(" ")+"]"}),fe.push({key:"XStep",value:z(m.xStep)}),fe.push({key:"YStep",value:z(m.yStep)}),fe.push({key:"Resources",value:W+" 0 R"}),m.matrix&&fe.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),wt({data:m.stream,additionalKeyValues:fe,objectId:m.objectNumber}),Y("endobj")},zr=function(m){var A;for(A in we)we.hasOwnProperty(A)&&(we[A]instanceof Ma?wi(we[A]):we[A]instanceof Yo&&xi(we[A],m))},ya=function(m){for(var A in m.objectNumber=pe(),Y("<<"),m)switch(A){case"opacity":Y("/ca "+se(m[A]));break;case"stroke-opacity":Y("/CA "+se(m[A]))}Y(">>"),Y("endobj")},jl=function(){var m;for(m in Ye)Ye.hasOwnProperty(m)&&ya(Ye[m])},Ni=function(){for(var m in Y("/XObject <<"),Qt)Qt.hasOwnProperty(m)&&Qt[m].objectNumber>=0&&Y("/"+m+" "+Qt[m].objectNumber+" 0 R");Ct.publish("putXobjectDict"),Y(">>")},Kt=function(){cn.oid=pe(),Y("<<"),Y("/Filter /Standard"),Y("/V "+cn.v),Y("/R "+cn.r),Y("/U <"+cn.toHexString(cn.U)+">"),Y("/O <"+cn.toHexString(cn.O)+">"),Y("/P "+cn.P),Y(">>"),Y("endobj")},An=function(){for(var m in Y("/Font <<"),ne)ne.hasOwnProperty(m)&&(g===!1||g===!0&&y.hasOwnProperty(m))&&Y("/"+m+" "+ne[m].objectNumber+" 0 R");Y(">>")},Yh=function(){if(Object.keys(we).length>0){for(var m in Y("/Shading <<"),we)we.hasOwnProperty(m)&&we[m]instanceof Ma&&we[m].objectNumber>=0&&Y("/"+m+" "+we[m].objectNumber+" 0 R");Ct.publish("putShadingPatternDict"),Y(">>")}},eo=function(m){if(Object.keys(we).length>0){for(var A in Y("/Pattern <<"),we)we.hasOwnProperty(A)&&we[A]instanceof p.TilingPattern&&we[A].objectNumber>=0&&we[A].objectNumber<m&&Y("/"+A+" "+we[A].objectNumber+" 0 R");Ct.publish("putTilingPatternDict"),Y(">>")}},Kh=function(){if(Object.keys(Ye).length>0){var m;for(m in Y("/ExtGState <<"),Ye)Ye.hasOwnProperty(m)&&Ye[m].objectNumber>=0&&Y("/"+m+" "+Ye[m].objectNumber+" 0 R");Ct.publish("putGStateDict"),Y(">>")}},Nr=function(m){Xe(m.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),An(),Yh(),eo(m.objectOid),Kh(),Ni(),Y(">>"),Y("endobj")},au=function(){var m=[];or(),jl(),Yr(),zr(m),Ct.publish("putResources"),m.forEach(Nr),Nr({resourcesOid:De,objectOid:Number.MAX_SAFE_INTEGER}),Ct.publish("postPutResources")},ou=function(){Ct.publish("putAdditionalObjects");for(var m=0;m<Le.length;m++){var A=Le[m];Xe(A.objId,!0),Y(A.content),Y("endobj")}Ct.publish("postPutAdditionalObjects")},lu=function(m){Ee[m.fontName]=Ee[m.fontName]||{},Ee[m.fontName][m.fontStyle]=m.id},Cl=function(m,A,W,re,fe){var je={id:"F"+(Object.keys(ne).length+1).toString(10),postScriptName:m,fontName:A,fontStyle:W,encoding:re,isStandardFont:fe||!1,metadata:{}};return Ct.publish("addFont",{font:je,instance:this}),ne[je.id]=je,lu(je),je.id},Jh=function(m){for(var A=0,W=Ie.length;A<W;A++){var re=Cl.call(this,m[A][0],m[A][1],m[A][2],Ie[A][3],!0);g===!1&&(y[re]=!0);var fe=m[A][0].split("-");lu({id:re,fontName:fe[0],fontStyle:fe[1]||""})}Ct.publish("addFonts",{fonts:ne,dictionary:Ee})},ms=function(m){return m.foo=function(){try{return m.apply(this,arguments)}catch(re){var A=re.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var W="Error in function "+A.split(`
`)[0].split("<")[0]+": "+re.message;if(!St.console)throw new Error(W);St.console.error(W,re),St.alert&&alert(W)}},m.foo.bar=m,m.foo},to=function(m,A){var W,re,fe,je,Re,Qe,mt,Ot,Pt;if(fe=(A=A||{}).sourceEncoding||"Unicode",Re=A.outputEncoding,(A.autoencode||Re)&&ne[jt].metadata&&ne[jt].metadata[fe]&&ne[jt].metadata[fe].encoding&&(je=ne[jt].metadata[fe].encoding,!Re&&ne[jt].encoding&&(Re=ne[jt].encoding),!Re&&je.codePages&&(Re=je.codePages[0]),typeof Re=="string"&&(Re=je[Re]),Re)){for(mt=!1,Qe=[],W=0,re=m.length;W<re;W++)(Ot=Re[m.charCodeAt(W)])?Qe.push(String.fromCharCode(Ot)):Qe.push(m[W]),Qe[W].charCodeAt(0)>>8&&(mt=!0);m=Qe.join("")}for(W=m.length;mt===void 0&&W!==0;)m.charCodeAt(W-1)>>8&&(mt=!0),W--;if(!mt)return m;for(Qe=A.noBOM?[]:[254,255],W=0,re=m.length;W<re;W++){if((Pt=(Ot=m.charCodeAt(W))>>8)>>8)throw new Error("Character at position "+W+" of string '"+m+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qe.push(Pt),Qe.push(Ot-(Pt<<8))}return String.fromCharCode.apply(void 0,Qe)},En=p.__private__.pdfEscape=p.pdfEscape=function(m,A){return to(m,A).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kl=p.__private__.beginPage=function(m){J[++Oe]=[],He[Oe]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},uu(Oe),_e(J[B])},cu=function(m,A){var W,re,fe;switch(r=A||r,typeof m=="string"&&(W=_(m.toLowerCase()),Array.isArray(W)&&(re=W[0],fe=W[1])),Array.isArray(m)&&(re=m[0]*We,fe=m[1]*We),isNaN(re)&&(re=s[0],fe=s[1]),(re>14400||fe>14400)&&(er.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),re=Math.min(14400,re),fe=Math.min(14400,fe)),s=[re,fe],r.substr(0,1)){case"l":fe>re&&(s=[fe,re]);break;case"p":re>fe&&(s=[fe,re])}kl(s),gu(Ll),Y(gs),Il!==0&&Y(Il+" J"),Ol!==0&&Y(Ol+" j"),Ct.publish("addPage",{pageNumber:Oe})},Xh=function(m){m>0&&m<=Oe&&(J.splice(m,1),He.splice(m,1),Oe--,B>Oe&&(B=Oe),this.setPage(B))},uu=function(m){m>0&&m<=Oe&&(B=m)},Qh=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return J.length-1},du=function(m,A,W){var re,fe=void 0;return W=W||{},m=m!==void 0?m:ne[jt].fontName,A=A!==void 0?A:ne[jt].fontStyle,re=m.toLowerCase(),Ee[re]!==void 0&&Ee[re][A]!==void 0?fe=Ee[re][A]:Ee[m]!==void 0&&Ee[m][A]!==void 0?fe=Ee[m][A]:W.disableWarning===!1&&er.warn("Unable to look up font label for font '"+m+"', '"+A+"'. Refer to getFontList() for available fonts."),fe||W.noFallback||(fe=Ee.times[A])==null&&(fe=Ee.times.normal),fe},Zh=p.__private__.putInfo=function(){var m=pe(),A=function(re){return re};for(var W in f!==null&&(A=cn.encryptor(m,0)),Y("<<"),Y("/Producer ("+En(A("jsPDF "+xt.version))+")"),ft)ft.hasOwnProperty(W)&&ft[W]&&Y("/"+W.substr(0,1).toUpperCase()+W.substr(1)+" ("+En(A(ft[W]))+")");Y("/CreationDate ("+En(A(he))+")"),Y(">>"),Y("endobj")},Al=p.__private__.putCatalog=function(m){var A=(m=m||{}).rootDictionaryObjId||pt;switch(pe(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+A+" 0 R"),Ve||(Ve="fullwidth"),Ve){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var W=""+Ve;W.substr(W.length-1)==="%"&&(Ve=parseInt(Ve)/100),typeof Ve=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+se(Ve)+"]")}switch(Tt||(Tt="continuous"),Tt){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}bt&&Y("/PageMode /"+bt),Ct.publish("putCatalog"),Y(">>"),Y("endobj")},ef=p.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(ae+1)),Y("/Root "+ae+" 0 R"),Y("/Info "+(ae-1)+" 0 R"),f!==null&&Y("/Encrypt "+cn.oid+" 0 R"),Y("/ID [ <"+$+"> <"+$+"> ]"),Y(">>")},tf=p.__private__.putHeader=function(){Y("%PDF-"+x),Y("%")},rf=p.__private__.putXRef=function(){var m="0000000000";Y("xref"),Y("0 "+(ae+1)),Y("0000000000 65535 f ");for(var A=1;A<=ae;A++)typeof ce[A]=="function"?Y((m+ce[A]()).slice(-10)+" 00000 n "):ce[A]!==void 0?Y((m+ce[A]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},Xs=p.__private__.buildDocument=function(){ze(),_e(ge),Ct.publish("buildDocument"),tf(),Ir(),ou(),au(),f!==null&&Kt(),Zh(),Al();var m=me;return rf(),ef(),Y("startxref"),Y(""+m),Y("%%EOF"),_e(J[B]),ge.join(`
`)},ro=p.__private__.getBlob=function(m){return new Blob([et(m)],{type:"application/pdf"})},no=p.output=p.__private__.output=ms(function(m,A){switch(typeof(A=A||{})=="string"?A={filename:A}:A.filename=A.filename||"generated.pdf",m){case void 0:return Xs();case"save":p.save(A.filename);break;case"arraybuffer":return et(Xs());case"blob":return ro(Xs());case"bloburi":case"bloburl":if(St.URL!==void 0&&typeof St.URL.createObjectURL=="function")return St.URL&&St.URL.createObjectURL(ro(Xs()))||void 0;er.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var W="",re=Xs();try{W=Km(re)}catch{W=Km(unescape(encodeURIComponent(re)))}return"data:application/pdf;filename="+A.filename+";base64,"+W;case"pdfobjectnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';A.pdfObjectUrl&&(fe=A.pdfObjectUrl,je="");var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+fe+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(A)+");<\/script></body></html>",Qe=St.open();return Qe!==null&&Qe.document.write(Re),Qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(A.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+A.filename+'" width="500px" height="400px" /></body></html>',Ot=St.open();if(Ot!==null){Ot.document.write(mt);var Pt=this;Ot.document.documentElement.querySelector("#pdfViewer").onload=function(){Ot.document.title=A.filename,Ot.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pt.output("bloburl"))}}return Ot}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(St)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",A)+'"></iframe></body></html>',fr=St.open();if(fr!==null&&(fr.document.write(qt),fr.document.title=A.filename),fr||typeof safari>"u")return fr;break;case"datauri":case"dataurl":return St.document.location.href=this.output("datauristring",A);default:return null}}),hu=function(m){return Array.isArray(nt)===!0&&nt.indexOf(m)>-1};switch(n){case"pt":We=1;break;case"mm":We=72/25.4;break;case"cm":We=72/2.54;break;case"in":We=72;break;case"px":We=hu("px_scaling")==1?.75:96/72;break;case"pc":case"em":We=12;break;case"ex":We=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);We=n}var cn=null;Ne(),T();var nf=function(m){return f!==null?cn.encryptor(m,0):function(A){return A}},fu=p.__private__.getPageInfo=p.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:He[m].objId,pageNumber:m,pageContext:He[m]}},At=p.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var A in He)if(He[A].objId===m)break;return fu(A)},sf=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:He[B].objId,pageNumber:B,pageContext:He[B]}};p.addPage=function(){return cu.apply(this,arguments),this},p.setPage=function(){return uu.apply(this,arguments),_e.call(this,J[B]),this},p.insertPage=function(m){return this.addPage(),this.movePage(B,m),this},p.movePage=function(m,A){var W,re;if(m>A){W=J[m],re=He[m];for(var fe=m;fe>A;fe--)J[fe]=J[fe-1],He[fe]=He[fe-1];J[A]=W,He[A]=re,this.setPage(A)}else if(m<A){W=J[m],re=He[m];for(var je=m;je<A;je++)J[je]=J[je+1],He[je]=He[je+1];J[A]=W,He[A]=re,this.setPage(A)}return this},p.deletePage=function(){return Xh.apply(this,arguments),this},p.__private__.text=p.text=function(m,A,W,re,fe){var je,Re,Qe,mt,Ot,Pt,qt,fr,yr,Rr=(re=re||{}).scope||this;if(typeof m=="number"&&typeof A=="number"&&(typeof W=="string"||Array.isArray(W))){var un=W;W=A,A=m,m=un}if(arguments[3]instanceof gt?(U("The transform parameter of text() with a Matrix value"),yr=fe):(Qe=arguments[4],mt=arguments[5],Ht(qt=arguments[3])==="object"&&qt!==null||(typeof Qe=="string"&&(mt=Qe,Qe=null),typeof qt=="string"&&(mt=qt,qt=null),typeof qt=="number"&&(Qe=qt,qt=null),re={flags:qt,angle:Qe,align:mt})),isNaN(A)||isNaN(W)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return Rr;var Kr="",vs=!1,Bn=typeof re.lineHeightFactor=="number"?re.lineHeightFactor:_a,Ms=Rr.internal.scaleFactor;function xu(nr){return nr=nr.split("	").join(Array(re.TabLen||9).join(" ")),En(nr,qt)}function Ul(nr){for(var sr,jr=nr.concat(),$r=[],ri=jr.length;ri--;)typeof(sr=jr.shift())=="string"?$r.push(sr):Array.isArray(nr)&&(sr.length===1||sr[1]===void 0&&sr[2]===void 0)?$r.push(sr[0]):$r.push([sr[0],sr[1],sr[2]]);return $r}function Bl(nr,sr){var jr;if(typeof nr=="string")jr=sr(nr)[0];else if(Array.isArray(nr)){for(var $r,ri,Yl=nr.concat(),bo=[],ku=Yl.length;ku--;)typeof($r=Yl.shift())=="string"?bo.push(sr($r)[0]):Array.isArray($r)&&typeof $r[0]=="string"&&(ri=sr($r[0],$r[1],$r[2]),bo.push([ri[0],ri[1],ri[2]]));jr=bo}return jr}var co=!1,ql=!0;if(typeof m=="string")co=!0;else if(Array.isArray(m)){var zl=m.concat();Re=[];for(var uo,rn=zl.length;rn--;)(typeof(uo=zl.shift())!="string"||Array.isArray(uo)&&typeof uo[0]!="string")&&(ql=!1);co=ql}if(co===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var ho=qe/Rr.internal.scaleFactor,fo=ho*(Bn-1);switch(re.baseline){case"bottom":W-=fo;break;case"top":W+=ho-fo;break;case"hanging":W+=ho-2*fo;break;case"middle":W+=ho/2-fo}if((Pt=re.maxWidth||0)>0&&(typeof m=="string"?m=Rr.splitTextToSize(m,Pt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(nr,sr){return nr.concat(Rr.splitTextToSize(sr,Pt))},[]))),je={text:m,x:A,y:W,options:re,mutex:{pdfEscape:En,activeFontKey:jt,fonts:ne,activeFontSize:qe}},Ct.publish("preProcessText",je),m=je.text,Qe=(re=je.options).angle,!(yr instanceof gt)&&Qe&&typeof Qe=="number"){Qe*=Math.PI/180,re.rotationDirection===0&&(Qe=-Qe),S===b.ADVANCED&&(Qe=-Qe);var po=Math.cos(Qe),$l=Math.sin(Qe);yr=new gt(po,$l,-$l,po,0,0)}else Qe&&Qe instanceof gt&&(yr=Qe);S!==b.ADVANCED||yr||(yr=Tr),(Ot=re.charSpace||ao)!==void 0&&(Kr+=z(M(Ot))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(fr=re.horizontalScale)!==void 0&&(Kr+=z(100*fr)+` Tz
`),re.lang;var Pn=-1,mf=re.renderingMode!==void 0?re.renderingMode:re.stroke,Vl=Rr.internal.getCurrentPageInfo().pageContext;switch(mf){case 0:case!1:case"fill":Pn=0;break;case 1:case!0:case"stroke":Pn=1;break;case 2:case"fillThenStroke":Pn=2;break;case 3:case"invisible":Pn=3;break;case 4:case"fillAndAddForClipping":Pn=4;break;case 5:case"strokeAndAddPathForClipping":Pn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Pn=6;break;case 7:case"addToPathForClipping":Pn=7}var Nu=Vl.usedRenderingMode!==void 0?Vl.usedRenderingMode:-1;Pn!==-1?Kr+=Pn+` Tr
`:Nu!==-1&&(Kr+=`0 Tr
`),Pn!==-1&&(Vl.usedRenderingMode=Pn),mt=re.align||"left";var ts,mo=qe*Bn,Su=Rr.internal.pageSize.getWidth(),ju=ne[jt];Ot=re.charSpace||ao,Pt=re.maxWidth||0,qt=Object.assign({autoencode:!0,noBOM:!0},re.flags);var ki=[],Na=function(nr){return Rr.getStringUnitWidth(nr,{font:ju,charSpace:Ot,fontSize:qe,doKerning:!1})*qe/Ms};if(Object.prototype.toString.call(m)==="[object Array]"){var Ln;Re=Ul(m),mt!=="left"&&(ts=Re.map(Na));var _n,Ai=0;if(mt==="right"){A-=ts[0],m=[],rn=Re.length;for(var Zs=0;Zs<rn;Zs++)Zs===0?(_n=Ds(A),Ln=Qs(W)):(_n=M(Ai-ts[Zs]),Ln=-mo),m.push([Re[Zs],_n,Ln]),Ai=ts[Zs]}else if(mt==="center"){A-=ts[0]/2,m=[],rn=Re.length;for(var ei=0;ei<rn;ei++)ei===0?(_n=Ds(A),Ln=Qs(W)):(_n=M((Ai-ts[ei])/2),Ln=-mo),m.push([Re[ei],_n,Ln]),Ai=ts[ei]}else if(mt==="left"){m=[],rn=Re.length;for(var go=0;go<rn;go++)m.push(Re[go])}else if(mt==="justify"&&ju.encoding==="Identity-H"){m=[],rn=Re.length,Pt=Pt!==0?Pt:Su;for(var ti=0,Sr=0;Sr<rn;Sr++)if(Ln=Sr===0?Qs(W):-mo,_n=Sr===0?Ds(A):ti,Sr<rn-1){var Gl=M((Pt-ts[Sr])/(Re[Sr].split(" ").length-1)),wn=Re[Sr].split(" ");m.push([wn[0]+" ",_n,Ln]),ti=0;for(var rs=1;rs<wn.length;rs++){var vo=(Na(wn[rs-1]+" "+wn[rs])-Na(wn[rs]))*Ms+Gl;rs==wn.length-1?m.push([wn[rs],vo,0]):m.push([wn[rs]+" ",vo,0]),ti-=vo}}else m.push([Re[Sr],_n,Ln]);m.push(["",ti,0])}else{if(mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],rn=Re.length,Pt=Pt!==0?Pt:Su,Sr=0;Sr<rn;Sr++)Ln=Sr===0?Qs(W):-mo,_n=Sr===0?Ds(A):0,Sr<rn-1?ki.push(z(M((Pt-ts[Sr])/(Re[Sr].split(" ").length-1)))):ki.push(0),m.push([Re[Sr],_n,Ln])}}var Cu=typeof re.R2L=="boolean"?re.R2L:lt;Cu===!0&&(m=Bl(m,function(nr,sr,jr){return[nr.split("").reverse().join(""),sr,jr]})),je={text:m,x:A,y:W,options:re,mutex:{pdfEscape:En,activeFontKey:jt,fonts:ne,activeFontSize:qe}},Ct.publish("postProcessText",je),m=je.text,vs=je.mutex.isHex||!1;var Wl=ne[jt].encoding;Wl!=="WinAnsiEncoding"&&Wl!=="StandardEncoding"||(m=Bl(m,function(nr,sr,jr){return[xu(nr),sr,jr]})),Re=Ul(m),m=[];for(var Sa,ja,Ei,Ca=0,yo=1,ka=Array.isArray(Re[0])?yo:Ca,Pi="",Hl=function(nr,sr,jr){var $r="";return jr instanceof gt?(jr=typeof re.angle=="number"?Je(jr,new gt(1,0,0,1,nr,sr)):Je(new gt(1,0,0,1,nr,sr),jr),S===b.ADVANCED&&(jr=Je(new gt(1,0,0,-1,0,0),jr)),$r=jr.join(" ")+` Tm
`):$r=z(nr)+" "+z(sr)+` Td
`,$r},ns=0;ns<Re.length;ns++){switch(Pi="",ka){case yo:Ei=(vs?"<":"(")+Re[ns][0]+(vs?">":")"),Sa=parseFloat(Re[ns][1]),ja=parseFloat(Re[ns][2]);break;case Ca:Ei=(vs?"<":"(")+Re[ns]+(vs?">":")"),Sa=Ds(A),ja=Qs(W)}ki!==void 0&&ki[ns]!==void 0&&(Pi=ki[ns]+` Tw
`),ns===0?m.push(Pi+Hl(Sa,ja,yr)+Ei):ka===Ca?m.push(Pi+Ei):ka===yo&&m.push(Pi+Hl(Sa,ja,yr)+Ei)}m=ka===Ca?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var ss=`BT
/`;return ss+=jt+" "+qe+` Tf
`,ss+=z(qe*Bn)+` TL
`,ss+=wa+`
`,ss+=Kr,ss+=m,Y(ss+="ET"),y[jt]=!0,Rr};var af=p.__private__.clip=p.clip=function(m){return Y(m==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return af("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Y("n"),this};var Fs=p.__private__.isValidStyle=function(m){var A=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(A=!0),A};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(m){return Fs(m)&&(d=m),this};var pu=p.__private__.getStyle=p.getStyle=function(m){var A=d;switch(m){case"D":case"S":A="S";break;case"F":A="f";break;case"FD":case"DF":A="B";break;case"f":case"f*":case"B":case"B*":A=m}return A},mu=p.close=function(){return Y("h"),this};p.stroke=function(){return Y("S"),this},p.fill=function(m){return so("f",m),this},p.fillEvenOdd=function(m){return so("f*",m),this},p.fillStroke=function(m){return so("B",m),this},p.fillStrokeEvenOdd=function(m){return so("B*",m),this};var so=function(m,A){Ht(A)==="object"?lf(A,m):Y(m)},El=function(m){m===null||S===b.ADVANCED&&m===void 0||(m=pu(m),Y(m))};function of(m,A,W,re,fe){var je=new Yo(A||this.boundingBox,W||this.xStep,re||this.yStep,this.gState,fe||this.matrix);je.stream=this.stream;var Re=m+"$$"+this.cloneIndex+++"$$";return Hr(Re,je),je}var lf=function(m,A){var W=Be[m.key],re=we[W];if(re instanceof Ma)Y("q"),Y(cf(A)),re.gState&&p.setGState(re.gState),Y(m.matrix.toString()+" cm"),Y("/"+W+" sh"),Y("Q");else if(re instanceof Yo){var fe=new gt(1,0,0,-1,0,Ci());m.matrix&&(fe=fe.multiply(m.matrix||Tr),W=of.call(re,m.key,m.boundingBox,m.xStep,m.yStep,fe).id),Y("q"),Y("/Pattern cs"),Y("/"+W+" scn"),re.gState&&p.setGState(re.gState),Y(A),Y("Q")}},cf=function(m){switch(m){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Pl=p.moveTo=function(m,A){return Y(z(M(m))+" "+z(q(A))+" m"),this},ba=p.lineTo=function(m,A){return Y(z(M(m))+" "+z(q(A))+" l"),this},Si=p.curveTo=function(m,A,W,re,fe,je){return Y([z(M(m)),z(q(A)),z(M(W)),z(q(re)),z(M(fe)),z(q(je)),"c"].join(" ")),this};p.__private__.line=p.line=function(m,A,W,re,fe){if(isNaN(m)||isNaN(A)||isNaN(W)||isNaN(re)||!Fs(fe))throw new Error("Invalid arguments passed to jsPDF.line");return S===b.COMPAT?this.lines([[W-m,re-A]],m,A,[1,1],fe||"S"):this.lines([[W-m,re-A]],m,A,[1,1]).stroke()},p.__private__.lines=p.lines=function(m,A,W,re,fe,je){var Re,Qe,mt,Ot,Pt,qt,fr,yr,Rr,un,Kr,vs;if(typeof m=="number"&&(vs=W,W=A,A=m,m=vs),re=re||[1,1],je=je||!1,isNaN(A)||isNaN(W)||!Array.isArray(m)||!Array.isArray(re)||!Fs(fe)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Pl(A,W),Re=re[0],Qe=re[1],Ot=m.length,un=A,Kr=W,mt=0;mt<Ot;mt++)(Pt=m[mt]).length===2?(un=Pt[0]*Re+un,Kr=Pt[1]*Qe+Kr,ba(un,Kr)):(qt=Pt[0]*Re+un,fr=Pt[1]*Qe+Kr,yr=Pt[2]*Re+un,Rr=Pt[3]*Qe+Kr,un=Pt[4]*Re+un,Kr=Pt[5]*Qe+Kr,Si(qt,fr,yr,Rr,un,Kr));return je&&mu(),El(fe),this},p.path=function(m){for(var A=0;A<m.length;A++){var W=m[A],re=W.c;switch(W.op){case"m":Pl(re[0],re[1]);break;case"l":ba(re[0],re[1]);break;case"c":Si.apply(this,re);break;case"h":mu()}}return this},p.__private__.rect=p.rect=function(m,A,W,re,fe){if(isNaN(m)||isNaN(A)||isNaN(W)||isNaN(re)||!Fs(fe))throw new Error("Invalid arguments passed to jsPDF.rect");return S===b.COMPAT&&(re=-re),Y([z(M(m)),z(q(A)),z(M(W)),z(M(re)),"re"].join(" ")),El(fe),this},p.__private__.triangle=p.triangle=function(m,A,W,re,fe,je,Re){if(isNaN(m)||isNaN(A)||isNaN(W)||isNaN(re)||isNaN(fe)||isNaN(je)||!Fs(Re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[W-m,re-A],[fe-W,je-re],[m-fe,A-je]],m,A,[1,1],Re,!0),this},p.__private__.roundedRect=p.roundedRect=function(m,A,W,re,fe,je,Re){if(isNaN(m)||isNaN(A)||isNaN(W)||isNaN(re)||isNaN(fe)||isNaN(je)||!Fs(Re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qe=4/3*(Math.SQRT2-1);return fe=Math.min(fe,.5*W),je=Math.min(je,.5*re),this.lines([[W-2*fe,0],[fe*Qe,0,fe,je-je*Qe,fe,je],[0,re-2*je],[0,je*Qe,-fe*Qe,je,-fe,je],[2*fe-W,0],[-fe*Qe,0,-fe,-je*Qe,-fe,-je],[0,2*je-re],[0,-je*Qe,fe*Qe,-je,fe,-je]],m+fe,A,[1,1],Re,!0),this},p.__private__.ellipse=p.ellipse=function(m,A,W,re,fe){if(isNaN(m)||isNaN(A)||isNaN(W)||isNaN(re)||!Fs(fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*W,Re=4/3*(Math.SQRT2-1)*re;return Pl(m+W,A),Si(m+W,A-Re,m+je,A-re,m,A-re),Si(m-je,A-re,m-W,A-Re,m-W,A),Si(m-W,A+Re,m-je,A+re,m,A+re),Si(m+je,A+re,m+W,A+Re,m+W,A),El(fe),this},p.__private__.circle=p.circle=function(m,A,W,re){if(isNaN(m)||isNaN(A)||isNaN(W)||!Fs(re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,A,W,W,re)},p.setFont=function(m,A,W){return W&&(A=te(A,W)),jt=du(m,A,{disableWarning:!1}),this};var uf=p.__private__.getFont=p.getFont=function(){return ne[du.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var m,A,W={};for(m in Ee)if(Ee.hasOwnProperty(m))for(A in W[m]=[],Ee[m])Ee[m].hasOwnProperty(A)&&W[m].push(A);return W},p.addFont=function(m,A,W,re,fe){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?fe=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(W=te(W,re)),fe=fe||"Identity-H",Cl.call(this,m,A,W,fe)};var _a,Ll=e.lineWidth||.200025,io=p.__private__.getLineWidth=p.getLineWidth=function(){return Ll},gu=p.__private__.setLineWidth=p.setLineWidth=function(m){return Ll=m,Y(z(M(m))+" w"),this};p.__private__.setLineDash=xt.API.setLineDash=xt.API.setLineDashPattern=function(m,A){if(m=m||[],A=A||0,isNaN(A)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(W){return z(M(W))}).join(" "),A=z(M(A)),Y("["+m+"] "+A+" d"),this};var vu=p.__private__.getLineHeight=p.getLineHeight=function(){return qe*_a};p.__private__.getLineHeight=p.getLineHeight=function(){return qe*_a};var yu=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(_a=m),this},bu=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return _a};yu(e.lineHeight);var Ds=p.__private__.getHorizontalCoordinate=function(m){return M(m)},Qs=p.__private__.getVerticalCoordinate=function(m){return S===b.ADVANCED?m:He[B].mediaBox.topRightY-He[B].mediaBox.bottomLeftY-M(m)},df=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(m){return z(Ds(m))},ji=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(m){return z(Qs(m))},gs=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return vt(gs)},p.__private__.setStrokeColor=p.setDrawColor=function(m,A,W,re){return gs=yt({ch1:m,ch2:A,ch3:W,ch4:re,pdfColorType:"draw",precision:2}),Y(gs),this};var Tl=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return vt(Tl)},p.__private__.setFillColor=p.setFillColor=function(m,A,W,re){return Tl=yt({ch1:m,ch2:A,ch3:W,ch4:re,pdfColorType:"fill",precision:2}),Y(Tl),this};var wa=e.textColor||"0 g",hf=p.__private__.getTextColor=p.getTextColor=function(){return vt(wa)};p.__private__.setTextColor=p.setTextColor=function(m,A,W,re){return wa=yt({ch1:m,ch2:A,ch3:W,ch4:re,pdfColorType:"text",precision:3}),this};var ao=e.charSpace,ff=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ao||0)};p.__private__.setCharSpace=p.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ao=m,this};var Il=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(m){var A=p.CapJoinStyles[m];if(A===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Il=A,Y(A+" J"),this};var Ol=0;p.__private__.setLineJoin=p.setLineJoin=function(m){var A=p.CapJoinStyles[m];if(A===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ol=A,Y(A+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(z(M(m))+" M"),this},p.GState=wh,p.setGState=function(m){(m=typeof m=="string"?Ye[st[m]]:_u(null,m)).equals(ct)||(Y("/"+m.id+" gs"),ct=m)};var _u=function(m,A){if(!m||!st[m]){var W=!1;for(var re in Ye)if(Ye.hasOwnProperty(re)&&Ye[re].equals(A)){W=!0;break}if(W)A=Ye[re];else{var fe="GS"+(Object.keys(Ye).length+1).toString(10);Ye[fe]=A,A.id=fe}return m&&(st[m]=A.id),Ct.publish("addGState",A),A}};p.addGState=function(m,A){return _u(m,A),this},p.saveGraphicsState=function(){return Y("q"),X.push({key:jt,size:qe,color:wa}),this},p.restoreGraphicsState=function(){Y("Q");var m=X.pop();return jt=m.key,qe=m.size,wa=m.color,ct=null,this},p.setCurrentTransformationMatrix=function(m){return Y(m.toString()+" cm"),this},p.comment=function(m){return Y("#"+m),this};var oo=function(m,A){var W=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return W},set:function(je){isNaN(je)||(W=parseFloat(je))}});var re=A||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return re},set:function(je){isNaN(je)||(re=parseFloat(je))}});var fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return fe},set:function(je){fe=je.toString()}}),this},Rl=function(m,A,W,re){oo.call(this,m,A),this.type="rect";var fe=W||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return fe},set:function(Re){isNaN(Re)||(fe=parseFloat(Re))}});var je=re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(Re){isNaN(Re)||(je=parseFloat(Re))}}),this},Fl=function(){this.page=Oe,this.currentPage=B,this.pages=J.slice(0),this.pagesContext=He.slice(0),this.x=dr,this.y=It,this.matrix=Lr,this.width=xa(B),this.height=Ci(B),this.outputDestination=xe,this.id="",this.objectNumber=-1};Fl.prototype.restore=function(){Oe=this.page,B=this.currentPage,He=this.pagesContext,J=this.pages,dr=this.x,It=this.y,Lr=this.matrix,Dl(B,this.width),Ml(B,this.height),xe=this.outputDestination};var wu=function(m,A,W,re,fe){tr.push(new Fl),Oe=B=0,J=[],dr=m,It=A,Lr=fe,kl([W,re])},pf=function(m){if(tn[m])tr.pop().restore();else{var A=new Fl,W="Xo"+(Object.keys(Qt).length+1).toString(10);A.id=W,tn[m]=W,Qt[W]=A,Ct.publish("addFormObject",A),tr.pop().restore()}};for(var lo in p.beginFormObject=function(m,A,W,re,fe){return wu(m,A,W,re,fe),this},p.endFormObject=function(m){return pf(m),this},p.doFormObject=function(m,A){var W=Qt[tn[m]];return Y("q"),Y(A.toString()+" cm"),Y("/"+W.id+" Do"),Y("Q"),this},p.getFormObject=function(m){var A=Qt[tn[m]];return{x:A.x,y:A.y,width:A.width,height:A.height,matrix:A.matrix}},p.save=function(m,A){return m=m||"generated.pdf",(A=A||{}).returnPromise=A.returnPromise||!1,A.returnPromise===!1?(Oa(ro(Xs()),m),typeof Oa.unload=="function"&&St.setTimeout&&setTimeout(Oa.unload,911),this):new Promise(function(W,re){try{var fe=Oa(ro(Xs()),m);typeof Oa.unload=="function"&&St.setTimeout&&setTimeout(Oa.unload,911),W(fe)}catch(je){re(je.message)}})},xt.API)xt.API.hasOwnProperty(lo)&&(lo==="events"&&xt.API.events.length?function(m,A){var W,re,fe;for(fe=A.length-1;fe!==-1;fe--)W=A[fe][0],re=A[fe][1],m.subscribe.apply(m,[W].concat(typeof re=="function"?[re]:re))}(Ct,xt.API.events):p[lo]=xt.API[lo]);var xa=p.getPageWidth=function(m){return(He[m=m||B].mediaBox.topRightX-He[m].mediaBox.bottomLeftX)/We},Dl=p.setPageWidth=function(m,A){He[m].mediaBox.topRightX=A*We+He[m].mediaBox.bottomLeftX},Ci=p.getPageHeight=function(m){return(He[m=m||B].mediaBox.topRightY-He[m].mediaBox.bottomLeftY)/We},Ml=p.setPageHeight=function(m,A){He[m].mediaBox.topRightY=A*We+He[m].mediaBox.bottomLeftY};return p.internal={pdfEscape:En,getStyle:pu,getFont:uf,getFontSize:$e,getCharSpace:ff,getTextColor:hf,getLineHeight:vu,getLineHeightFactor:bu,getLineWidth:io,write:dt,getHorizontalCoordinate:Ds,getVerticalCoordinate:Qs,getCoordinateString:df,getVerticalCoordinateString:ji,collections:{},newObject:pe,newAdditionalObject:Fe,newObjectDeferred:Me,newObjectDeferredBegin:Xe,getFilters:Dt,putStream:wt,events:Ct,scaleFactor:We,pageSize:{getWidth:function(){return xa(B)},setWidth:function(m){Dl(B,m)},getHeight:function(){return Ci(B)},setHeight:function(m){Ml(B,m)}},encryptionOptions:f,encryption:cn,getEncryptor:nf,output:no,getNumberOfPages:Qh,pages:J,out:Y,f2:se,f3:L,getPageInfo:fu,getPageInfoByObjId:At,getCurrentPageInfo:sf,getPDFVersion:N,Point:oo,Rectangle:Rl,Matrix:gt,hasHotfix:hu},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return xa(B)},set:function(m){Dl(B,m)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ci(B)},set:function(m){Ml(B,m)},enumerable:!0,configurable:!0}),Jh.call(p,Ie),jt="F1",cu(s,r),Ct.publish("initialized"),p}Oo.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Oo.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Oo.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Oo.prototype.processOwnerPassword=function(e,t){return Xm(Jm(t).substr(0,5),e)},Oo.prototype.encryptor=function(e,t){var r=Jm(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Xm(r,n)}},wh.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Ht(e)!==Ht(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},xt.API={events:[]},xt.version="2.5.2";var _r=xt.API,f0=1,Za=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Po=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Lt=function(e){return e.toFixed(2)},qi=function(e){return e.toFixed(5)};_r.__acroform__={};var Un=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Yv=function(e){return e*f0},qs=function(e){var t=new c_,r=ot.internal.getHeight(e)||0,n=ot.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Lt(n)),Number(Lt(r))],t},y6=_r.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},b6=_r.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},_6=_r.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},kr=_r.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _6(e,t-1)},Ar=_r.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return y6(e,t-1)},Er=_r.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return b6(e,t-1)},w6=_r.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],a=e[2],l=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(s+a)||0,c.upperRight_Y=n(i)||0,[Number(Lt(c.lowerLeft_X)),Number(Lt(c.lowerLeft_Y)),Number(Lt(c.upperRight_X)),Number(Lt(c.upperRight_Y))]},x6=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Qm(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Lt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=qs(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Qm=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(L){return L.split(`
`)}):s.map(function(L){return[L]});var i=r,a=ot.internal.getHeight(e)||0;a=a<0?-a:a;var l=ot.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(L,M,K){if(L+1<s.length){var q=M+" "+s[L+1][0];return Sd(q,e,K).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var d,f,g=Sd("3",e,i).height,y=e.multiline?a-i:(a-g)/2,p=y+=2,x=0,N=0,C=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Sd(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var _="",b=0,S=0;S<s.length;S++)if(s.hasOwnProperty(S)){var R=!1;if(s[S].length!==1&&C!==s[S].length-1){if((g+2)*(b+2)+2>a)continue e;_+=s[S][C],R=!0,N=S,S--}else{_=(_+=s[S][C]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var F=parseInt(S),te=c(F,_,i),z=S>=s.length-1;if(te&&!z){_+=" ",C=0;continue}if(te||z){if(z)N=F;else if(e.multiline&&(g+2)*(b+2)+2>a)continue e}else{if(!e.multiline||(g+2)*(b+2)+2>a)continue e;N=F}}for(var U="",I=x;I<=N;I++){var se=s[I];if(e.multiline){if(I===N){U+=se[C]+" ",C=(C+1)%se.length;continue}if(I===x){U+=se[se.length-1]+" ";continue}}U+=se[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,f=Sd(U,e,i).width,e.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;case"left":default:d=2}t+=Lt(d)+" "+Lt(p)+` Td
`,t+="("+Za(U)+`) Tj
`,t+=-Lt(d)+` 0 Td
`,p=-(i+2),f=0,x=R?N:N+1,b++,_=""}break}return n.text=t,n.fontSize=i,n},Sd=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},N6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},S6=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},j6=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,s=e[r];t.internal.newObjectDeferredBegin(s.objId,!0),Ht(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[n]}},C6=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Is.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(N6)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");f0=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new u_,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&S6(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var l=n[a],c=[],d=l.Rect;if(l.Rect&&(l.Rect=w6(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ot.createDefaultAppearanceStream(l),Ht(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=x6(l);c.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var g="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var p=l.appearanceStreamContent[y];if(g+="/"+y+" ",g+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var x=p[a];typeof x=="function"&&(x=x.call(s,l)),g+="/"+a+" "+x+" ",s.internal.acroformPlugin.xForms.indexOf(x)>=0||s.internal.acroformPlugin.xForms.push(x)}}else typeof(x=p)=="function"&&(x=x.call(s,l)),g+="/"+a+" "+x,s.internal.acroformPlugin.xForms.indexOf(x)>=0||s.internal.acroformPlugin.xForms.push(x);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&j6(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},l_=_r.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(a){return a};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),Ht(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+Za(n(e[i].toString()))+")"):s+=e[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},kp=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Za(n(e))+")"},Gs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Gs.prototype.toString=function(){return this.objId+" 0 R"},Gs.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Gs.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:l_(s,this.objId,this.scope)}):s instanceof Gs?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var c_=function(){Gs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Un(c_,Gs);var u_=function(){Gs.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Za(r(e))+")"}},set:function(r){e=r}})};Un(u_,Gs);var Is=function e(){Gs.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');t=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!kr(t,3)},set:function(_){_?this.F=Ar(t,3):this.F=Er(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof xh)return;i="FieldObject"+e.FieldNum++}var _=function(b){return b};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Za(_(i))+")"},set:function(_){i=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(_){i=_}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/f0:d},set:function(_){d=_}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(_){f=_}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof xh||this instanceof Ga))return kp(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=_}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Zr?y:kp(y,this.objId,this.scope)},set:function(_){_=_.toString(),y=this instanceof Zr?_:_.substr(0,1)==="("?Po(_.substr(1,_.length-2)):Po(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zr?Po(y.substr(1,y.length-1)):y},set:function(_){_=_.toString(),y=this instanceof Zr?"/"+_:_}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Zr?p:kp(p,this.objId,this.scope)},set:function(_){_=_.toString(),p=this instanceof Zr?_:_.substr(0,1)==="("?Po(_.substr(1,_.length-2)):Po(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zr?Po(p.substr(1,p.length-1)):p},set:function(_){_=_.toString(),p=this instanceof Zr?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(_){_=!!_,N=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(_){x=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,1)},set:function(_){_?this.Ff=Ar(this.Ff,1):this.Ff=Er(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,2)},set:function(_){_?this.Ff=Ar(this.Ff,2):this.Ff=Er(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,3)},set:function(_){_?this.Ff=Ar(this.Ff,3):this.Ff=Er(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');C=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(C){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};Un(Is,Gs);var rl=function(){Is.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return l_(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,l){l||(l=1);for(var c,d=[];c=a.exec(i);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,18)},set:function(r){r?this.Ff=Ar(this.Ff,18):this.Ff=Er(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ar(this.Ff,19):this.Ff=Er(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,20)},set:function(r){r?(this.Ff=Ar(this.Ff,20),t.sort()):this.Ff=Er(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,22)},set:function(r){r?this.Ff=Ar(this.Ff,22):this.Ff=Er(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,23)},set:function(r){r?this.Ff=Ar(this.Ff,23):this.Ff=Er(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,27)},set:function(r){r?this.Ff=Ar(this.Ff,27):this.Ff=Er(this.Ff,27)}}),this.hasAppearanceStream=!1};Un(rl,Is);var nl=function(){rl.call(this),this.fontName="helvetica",this.combo=!1};Un(nl,rl);var sl=function(){nl.call(this),this.combo=!0};Un(sl,nl);var qd=function(){sl.call(this),this.edit=!0};Un(qd,sl);var Zr=function(){Is.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,15)},set:function(r){r?this.Ff=Ar(this.Ff,15):this.Ff=Er(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,16)},set:function(r){r?this.Ff=Ar(this.Ff,16):this.Ff=Er(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,17)},set:function(r){r?this.Ff=Ar(this.Ff,17):this.Ff=Er(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,26)},set:function(r){r?this.Ff=Ar(this.Ff,26):this.Ff=Er(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+Za(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Ht(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Un(Zr,Is);var zd=function(){Zr.call(this),this.pushButton=!0};Un(zd,Zr);var il=function(){Zr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Un(il,Zr);var xh=function(){var e,t;Is.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+Za(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Ht(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ot.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Un(xh,Is),il.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},il.prototype.createOption=function(e){var t=new xh;return t.Parent=this,t.optionName=e,this.Kids.push(t),k6.call(this.scope,t),t};var $d=function(){Zr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ot.CheckBox.createAppearanceStream()};Un($d,Zr);var Ga=function(){Is.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,13)},set:function(t){t?this.Ff=Ar(this.Ff,13):this.Ff=Er(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,21)},set:function(t){t?this.Ff=Ar(this.Ff,21):this.Ff=Er(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,23)},set:function(t){t?this.Ff=Ar(this.Ff,23):this.Ff=Er(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,24)},set:function(t){t?this.Ff=Ar(this.Ff,24):this.Ff=Er(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,25)},set:function(t){t?this.Ff=Ar(this.Ff,25):this.Ff=Er(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,26)},set:function(t){t?this.Ff=Ar(this.Ff,26):this.Ff=Er(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Un(Ga,Is);var Vd=function(){Ga.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,14)},set:function(e){e?this.Ff=Ar(this.Ff,14):this.Ff=Er(this.Ff,14)}}),this.password=!0};Un(Vd,Ga);var ot={CheckBox:{createAppearanceStream:function(){return{N:{On:ot.CheckBox.YesNormal},D:{On:ot.CheckBox.YesPushDown,Off:ot.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=qs(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=Qm(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Lt(ot.internal.getWidth(e))+" "+Lt(ot.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Lt(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=qs(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=ot.internal.getHeight(e),a=ot.internal.getWidth(e),l=Qm(e,e.caption);return s.push("1 g"),s.push("0 0 "+Lt(a)+" "+Lt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Lt(a-1)+" "+Lt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Lt(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=qs(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Lt(ot.internal.getWidth(e))+" "+Lt(ot.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ot.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ot.RadioButton.Circle.YesNormal,t.D[e]=ot.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=qs(e);t.scope=e.scope;var r=[],n=ot.internal.getWidth(e)<=ot.internal.getHeight(e)?ot.internal.getWidth(e)/4:ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=ot.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+qi(ot.internal.getWidth(e)/2)+" "+qi(ot.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=qs(e);t.scope=e.scope;var r=[],n=ot.internal.getWidth(e)<=ot.internal.getHeight(e)?ot.internal.getWidth(e)/4:ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ot.internal.Bezier_C).toFixed(5)),a=Number((n*ot.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qi(ot.internal.getWidth(e)/2)+" "+qi(ot.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+qi(ot.internal.getWidth(e)/2)+" "+qi(ot.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=qs(e);t.scope=e.scope;var r=[],n=ot.internal.getWidth(e)<=ot.internal.getHeight(e)?ot.internal.getWidth(e)/4:ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ot.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qi(ot.internal.getWidth(e)/2)+" "+qi(ot.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ot.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ot.RadioButton.Cross.YesNormal,t.D[e]=ot.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=qs(e);t.scope=e.scope;var r=[],n=ot.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Lt(ot.internal.getWidth(e)-2)+" "+Lt(ot.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Lt(n.x1.x)+" "+Lt(n.x1.y)+" m"),r.push(Lt(n.x2.x)+" "+Lt(n.x2.y)+" l"),r.push(Lt(n.x4.x)+" "+Lt(n.x4.y)+" m"),r.push(Lt(n.x3.x)+" "+Lt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=qs(e);t.scope=e.scope;var r=ot.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Lt(ot.internal.getWidth(e))+" "+Lt(ot.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Lt(ot.internal.getWidth(e)-2)+" "+Lt(ot.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Lt(r.x1.x)+" "+Lt(r.x1.y)+" m"),n.push(Lt(r.x2.x)+" "+Lt(r.x2.y)+" l"),n.push(Lt(r.x4.x)+" "+Lt(r.x4.y)+" m"),n.push(Lt(r.x3.x)+" "+Lt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=qs(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Lt(ot.internal.getWidth(e))+" "+Lt(ot.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};ot.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ot.internal.getWidth(e),r=ot.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},ot.internal.getWidth=function(e){var t=0;return Ht(e)==="object"&&(t=Yv(e.Rect[2])),t},ot.internal.getHeight=function(e){var t=0;return Ht(e)==="object"&&(t=Yv(e.Rect[3])),t};var k6=_r.addField=function(e){if(C6(this,e),!(e instanceof Is))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};_r.AcroFormChoiceField=rl,_r.AcroFormListBox=nl,_r.AcroFormComboBox=sl,_r.AcroFormEditBox=qd,_r.AcroFormButton=Zr,_r.AcroFormPushButton=zd,_r.AcroFormRadioButton=il,_r.AcroFormCheckBox=$d,_r.AcroFormTextField=Ga,_r.AcroFormPasswordField=Vd,_r.AcroFormAppearance=ot,_r.AcroForm={ChoiceField:rl,ListBox:nl,ComboBox:sl,EditBox:qd,Button:Zr,PushButton:zd,RadioButton:il,CheckBox:$d,TextField:Ga,PasswordField:Vd,Appearance:ot},xt.AcroForm={ChoiceField:rl,ListBox:nl,ComboBox:sl,EditBox:qd,Button:Zr,PushButton:zd,RadioButton:il,CheckBox:$d,TextField:Ga,PasswordField:Vd,Appearance:ot};xt.AcroForm;function d_(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(L,M){var K,q,he,$,de,T=t;if((M=M||t)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(te(L))for(de in r)for(he=r[de],K=0;K<he.length;K+=1){for($=!0,q=0;q<he[K].length;q+=1)if(he[K][q]!==void 0&&he[K][q]!==L[q]){$=!1;break}if($===!0){T=de;break}}else for(de in r)for(he=r[de],K=0;K<he.length;K+=1){for($=!0,q=0;q<he[K].length;q+=1)if(he[K][q]!==void 0&&he[K][q]!==L.charCodeAt(q)){$=!1;break}if($===!0){T=de;break}}return T===t&&M!==t&&(T=M),T},s=function L(M){for(var K=this.internal.write,q=this.internal.putStream,he=(0,this.internal.getFilters)();he.indexOf("FlateEncode")!==-1;)he.splice(he.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:M.width}),$.push({key:"Height",value:M.height}),M.colorSpace===C.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===C.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var de="",T=0,Q=M.transparency.length;T<Q;T++)de+=M.transparency[T]+" "+M.transparency[T]+" ";$.push({key:"Mask",value:"["+de+"]"})}M.sMask!==void 0&&$.push({key:"SMask",value:M.objectId+1+" 0 R"});var Z=M.filter!==void 0?["/"+M.filter]:void 0;if(q({data:M.data,additionalKeyValues:$,alreadyAppliedFilters:Z,objectId:M.objectId}),K("endobj"),"sMask"in M&&M.sMask!==void 0){var Ne="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,j={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:Ne,data:M.sMask};"filter"in M&&(j.filter=M.filter),L.call(this,j)}if(M.colorSpace===C.INDEXED){var B=this.internal.newObject();q({data:U(new Uint8Array(M.palette)),objectId:B}),K("endobj")}},i=function(){var L=this.internal.collections.addImage_images;for(var M in L)s.call(this,L[M])},a=function(){var L,M=this.internal.collections.addImage_images,K=this.internal.write;for(var q in M)K("/I"+(L=M[q]).index,L.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var L=this.internal.collections.addImage_images;return l.call(this),L},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(L){return typeof e["process"+L.toUpperCase()]=="function"},g=function(L){return Ht(L)==="object"&&L.nodeType===1},y=function(L,M){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var K=""+L.getAttribute("src");if(K.indexOf("data:image/")===0)return kc(unescape(K).split("base64,").pop());var q=e.loadFile(K,!0);if(q!==void 0)return q}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var he;switch(M){case"PNG":he="image/png";break;case"WEBP":he="image/webp";break;case"JPEG":case"JPG":default:he="image/jpeg"}return kc(L.toDataURL(he,1).split("base64,").pop())}},p=function(L){var M=this.internal.collections.addImage_images;if(M){for(var K in M)if(L===M[K].alias)return M[K]}},x=function(L,M,K){return L||M||(L=-96,M=-96),L<0&&(L=-1*K.width*72/L/this.internal.scaleFactor),M<0&&(M=-1*K.height*72/M/this.internal.scaleFactor),L===0&&(L=M*K.width/K.height),M===0&&(M=L*K.height/K.width),[L,M]},N=function(L,M,K,q,he,$){var de=x.call(this,K,q,he),T=this.internal.getCoordinateString,Q=this.internal.getVerticalCoordinateString,Z=c.call(this);if(K=de[0],q=de[1],Z[he.index]=he,$){$*=Math.PI/180;var Ne=Math.cos($),j=Math.sin($),B=function(ee){return ee.toFixed(4)},G=[B(Ne),B(j),B(-1*j),B(Ne),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,T(L),Q(M+q),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([T(K),"0","0",T(q),"0","0","cm"].join(" "))):this.internal.write([T(K),"0","0",T(q),T(L),Q(M+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+he.index+" Do"),this.internal.write("Q")},C=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(L){var M,K,q=0;if(typeof L=="string")for(K=L.length,M=0;M<K;M++)q=(q<<5)-q+L.charCodeAt(M),q|=0;else if(te(L))for(K=L.byteLength/2,M=0;M<K;M++)q=(q<<5)-q+L[M],q|=0;return q},S=e.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var M=!0;return L.length===0&&(M=!1),L.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(M=!1),M},R=e.__addimage__.extractImageFromDataUrl=function(L){var M=(L=L||"").split("base64,"),K=null;if(M.length===2){var q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(M[0]);Array.isArray(q)&&(K={mimeType:q[1],charset:q[2],data:M[1]})}return K},F=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(L){return F()&&L instanceof ArrayBuffer};var te=e.__addimage__.isArrayBufferView=function(L){return F()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},z=e.__addimage__.binaryStringToUint8Array=function(L){for(var M=L.length,K=new Uint8Array(M),q=0;q<M;q++)K[q]=L.charCodeAt(q);return K},U=e.__addimage__.arrayBufferToBinaryString=function(L){for(var M="",K=te(L)?L:new Uint8Array(L),q=0;q<K.length;q+=8192)M+=String.fromCharCode.apply(null,K.subarray(q,q+8192));return M};e.addImage=function(){var L,M,K,q,he,$,de,T,Q;if(typeof arguments[1]=="number"?(M=t,K=arguments[1],q=arguments[2],he=arguments[3],$=arguments[4],de=arguments[5],T=arguments[6],Q=arguments[7]):(M=arguments[1],K=arguments[2],q=arguments[3],he=arguments[4],$=arguments[5],de=arguments[6],T=arguments[7],Q=arguments[8]),Ht(L=arguments[0])==="object"&&!g(L)&&"imageData"in L){var Z=L;L=Z.imageData,M=Z.format||M||t,K=Z.x||K||0,q=Z.y||q||0,he=Z.w||Z.width||he,$=Z.h||Z.height||$,de=Z.alias||de,T=Z.compression||T,Q=Z.rotation||Z.angle||Q}var Ne=this.internal.getFilters();if(T===void 0&&Ne.indexOf("FlateEncode")!==-1&&(T="SLOW"),isNaN(K)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var j=I.call(this,L,M,de,T);return N.call(this,K,q,he,$,j,Q),this};var I=function(L,M,K,q){var he,$,de;if(typeof L=="string"&&n(L)===t){L=unescape(L);var T=se(L,!1);(T!==""||(T=e.loadFile(L,!0))!==void 0)&&(L=T)}if(g(L)&&(L=y(L,M)),M=n(L,M),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((de=K)==null||de.length===0)&&(K=function(Q){return typeof Q=="string"||te(Q)?b(Q):te(Q.data)?b(Q.data):null}(L)),(he=p.call(this,K))||(F()&&(L instanceof Uint8Array||M==="RGBA"||($=L,L=z(L))),he=this["process"+M.toUpperCase()](L,d.call(this),K,function(Q){return Q&&typeof Q=="string"&&(Q=Q.toUpperCase()),Q in e.image_compression?Q:_.NONE}(q),$)),!he)throw new Error("An unknown error occurred whilst processing the image.");return he},se=e.__addimage__.convertBase64ToBinaryString=function(L,M){var K;M=typeof M!="boolean"||M;var q,he="";if(typeof L=="string"){q=(K=R(L))!==null?K.data:L;try{he=kc(q)}catch($){if(M)throw S(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return he};e.getImageProperties=function(L){var M,K,q="";if(g(L)&&(L=y(L)),typeof L=="string"&&n(L)===t&&((q=se(L,!1))===""&&(q=e.loadFile(L)||""),L=q),K=n(L),!f(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(!F()||L instanceof Uint8Array||(L=z(L)),!(M=this["process"+K.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=K,M}})(xt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};xt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,f=!1,g=0;g<d.length&&!f;g++)switch((n=d[g]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var y=0;y<d.length;y++){n=d[y];var p=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(N.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(_(n.contents))+")",i+=" /Popup "+C.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(_(b))+") >>",N.content=i;var S=N.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(i+=" /Open true"),i+=" >>",C.content=i,this.internal.write(N.objId,"0 R",C.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var R=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(x(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var F=this.annotations._nameMap[n.options.name];n.options.pageNumber=F.page,n.options.top=F.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var te=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+te+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,a){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+s),h:d(n+i)},options:a,type:"link"})},e.textWithLink=function(r,n,s,i){var a,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(r,l).length;a=Math.ceil(d*f)}else l=c,a=d;return this.text(r,n,s,i),s+=.2*d,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,s-d,l,a,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(xt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(N){return t[N.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},l=e.__arabicParser__.isArabicEndLetter=function(N){return a(N)&&i(N)&&t[N.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(N){return a(N)&&s.indexOf(N.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return a(N)&&i(N)&&t[N.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(N){return a(N)&&i(N)&&t[N.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(N){return a(N)&&i(N)&&t[N.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(N){return a(N)&&i(N)&&t[N.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(N){var C=0,_=r,b="",S=0;for(C=0;C<N.length;C+=1)_[N.charCodeAt(C)]!==void 0?(S++,typeof(_=_[N.charCodeAt(C)])=="number"&&(b+=String.fromCharCode(_),_=r,S=0),C===N.length-1&&(_=r,b+=N.charAt(C-(S-1)),C-=S-1,S=0)):(_=r,b+=N.charAt(C-S),C-=S,S=0);return b};e.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&n[N.charCodeAt(0)]!==void 0};var y=e.__arabicParser__.getCorrectForm=function(N,C,_){return a(N)?i(N)===!1?-1:!d(N)||!a(C)&&!a(_)||!a(_)&&l(C)||l(N)&&!a(C)||l(N)&&c(C)||l(N)&&l(C)?0:f(N)&&a(C)&&!l(C)&&a(_)&&d(_)?3:l(N)||!a(_)?1:2:-1},p=function(N){var C=0,_=0,b=0,S="",R="",F="",te=(N=N||"").split("\\s+"),z=[];for(C=0;C<te.length;C+=1){for(z.push(""),_=0;_<te[C].length;_+=1)S=te[C][_],R=te[C][_-1],F=te[C][_+1],a(S)?(b=y(S,R,F),z[C]+=b!==-1?String.fromCharCode(t[S.charCodeAt(0)][b]):S):z[C]+=S;z[C]=g(z[C])}return z.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var N,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(C)){var b=0;for(_=[],b=0;b<C.length;b+=1)Array.isArray(C[b])?_.push([p(C[b][0]),C[b][1],C[b][2]]):_.push([p(C[b])]);N=_}else N=p(C);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};e.events.push(["preProcessText",x])}(xt.API),xt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(xt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(N){c=N}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(N){g=N}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(N){x=N}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){n.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),g=d.font||this.getFont(),y=d.scaleFactor||this.internal.scaleFactor,p=0,x=0,N=0,C=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var _=d.maxWidth;_>0?typeof c=="string"?c=this.splitTextToSize(c,_):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,R){return S.concat(C.splitTextToSize(R,_))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)p<(N=this.getStringUnitWidth(c[b],{font:g})*f)&&(p=N);return p!==0&&(x=c.length),{w:p/=y,h:Math.max((x*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/y,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,g=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,p&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,f,g,y){if(n.call(this),!f)throw new Error("No data for PDF table.");var p,x,N,C,_=[],b=[],S=[],R={},F={},te=[],z=[],U=(y=y||{}).autoSize||!1,I=y.printHeaders!==!1,se=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,L=y.margins||Object.assign({width:this.getPageWidth()},t),M=typeof y.padding=="number"?y.padding:3,K=y.headerBackgroundColor||"#c8c8c8",q=y.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=se,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=q,this.setFontSize(se),g==null)b=_=Object.keys(f[0]),S=_.map(function(){return"left"});else if(Array.isArray(g)&&Ht(g[0])==="object")for(_=g.map(function(Z){return Z.name}),b=g.map(function(Z){return Z.prompt||Z.name||""}),S=g.map(function(Z){return Z.align||"left"}),p=0;p<g.length;p+=1)F[g[p].name]=g[p].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(b=_=g,S=_.map(function(){return"left"}));if(U||Array.isArray(g)&&typeof g[0]=="string")for(p=0;p<_.length;p+=1){for(R[C=_[p]]=f.map(function(Z){return Z[C]}),this.setFont(void 0,"bold"),te.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=R[C],this.setFont(void 0,"normal"),N=0;N<x.length;N+=1)te.push(this.getTextDimensions(x[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[C]=Math.max.apply(null,te)+M+M,te=[]}if(I){var he={};for(p=0;p<_.length;p+=1)he[_[p]]={},he[_[p]].text=b[p],he[_[p]].align=S[p];var $=l.call(this,he,F);z=_.map(function(Z){return new i(c,d,F[Z],$,he[Z].text,void 0,he[Z].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var de=g.reduce(function(Z,Ne){return Z[Ne.name]=Ne.align,Z},{});for(p=0;p<f.length;p+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:p,data:f[p]},this);var T=l.call(this,f[p],F);for(N=0;N<_.length;N+=1){var Q=f[p][_[N]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:p,col:N,data:Q},this),a.call(this,new i(c,d,F[_[N]],T,Q,p+2,de[_[N]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var f=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(p){var x=c[p];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*g/y+f+f},this).reduce(function(p,x){return Math.max(p,x)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,y.push(f)),f.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(x)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(xt.API);var h_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},f_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Zm=d_(f_),p_=[100,200,300,400,500,600,700,800,900],A6=d_(p_);function eg(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return h_[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(i){return typeof Zm[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function Kv(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var E6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Jv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Xv(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function P6(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},E6,r.genericFontFamilies||{}),i=null,a=null,l=0;l<t.length;++l)if(s[(i=eg(t[l])).family]&&(i.family=s[i.family]),e.hasOwnProperty(i.family)){a=e[i.family];break}if(!(a=a||e[n]))throw new Error("Could not find a font-family for the rule '"+Xv(i)+"' and default family '"+n+"'.");if(a=function(c,d){if(d[c])return d[c];var f=Zm[c],g=f<=Zm.normal?-1:1,y=Kv(d,f_,f,g);if(!y)throw new Error("Could not find a matching font-stretch value for "+c);return y}(i.stretch,a),a=function(c,d){if(d[c])return d[c];for(var f=h_[c],g=0;g<f.length;++g)if(d[f[g]])return d[f[g]];throw new Error("Could not find a matching font-style for "+c)}(i.style,a),!(a=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var f=A6[c],g=Kv(d,p_,f,c<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+c);return g}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Xv(i)+"'.");return a}function Qv(e){return e.trimLeft()}function L6(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function T6(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var jd,Zv,e2,Ap=["times"];(function(e){var t,r,n,s,i,a,l,c,d,f=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new c,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new a,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new a,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new f}]);var g=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=j;Object.defineProperty(this,"pdf",{get:function(){return B}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(_e){G=!!_e}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(_e){ee=!!_e}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(_e){isNaN(_e)||(ae=_e)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(_e){isNaN(_e)||(ce=_e)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(_e){var Y;typeof _e=="number"?Y=[_e,_e,_e,_e]:((Y=new Array(4))[0]=_e[0],Y[1]=_e.length>=2?_e[1]:Y[0],Y[2]=_e.length>=3?_e[2]:Y[0],Y[3]=_e.length>=4?_e[3]:Y[1]),d.margin=Y}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(_e){ge=_e}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(_e){me=_e}});var Le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Le},set:function(_e){Le=_e}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(_e){_e instanceof f&&(d=_e)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(_e){d.path=_e}});var J=[];Object.defineProperty(this,"ctxStack",{get:function(){return J},set:function(_e){J=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var Y;Y=y(_e),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var Y=y(_e);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var be=null;function xe(_e,Y){if(be===null){var dt=function(et){var Ie=[];return Object.keys(et).forEach(function(qe){et[qe].forEach(function(Ve){var $e=null;switch(Ve){case"bold":$e={family:qe,weight:"bold"};break;case"italic":$e={family:qe,style:"italic"};break;case"bolditalic":$e={family:qe,weight:"bold",style:"italic"};break;case"":case"normal":$e={family:qe}}$e!==null&&($e.ref={name:qe,style:Ve},Ie.push($e))})}),Ie}(_e.getFontList());be=function(et){for(var Ie={},qe=0;qe<et.length;++qe){var Ve=eg(et[qe]),$e=Ve.family,lt=Ve.stretch,bt=Ve.style,Nt=Ve.weight;Ie[$e]=Ie[$e]||{},Ie[$e][lt]=Ie[$e][lt]||{},Ie[$e][lt][bt]=Ie[$e][lt][bt]||{},Ie[$e][lt][bt][Nt]=Ve}return Ie}(dt.concat(Y))}return be}var ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function(_e){be=null,ze=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var Y;if(this.ctx.font=_e,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var dt=Y[1],et=(Y[2],Y[3]),Ie=Y[4],qe=(Y[5],Y[6]),Ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(Ve==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:Ve==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var $e=function(ft){var jt,We,dr=[],It=ft.trim();if(It==="")return Ap;if(It in Jv)return[Jv[It]];for(;It!=="";){switch(We=null,jt=(It=Qv(It)).charAt(0)){case'"':case"'":We=L6(It.substring(1),jt);break;default:We=T6(It)}if(We===null||(dr.push(We[0]),(It=Qv(We[1]))!==""&&It.charAt(0)!==","))return Ap;It=It.replace(/^,/,"")}return dr}(qe);if(this.fontFaces){var lt=P6(xe(this.pdf,this.fontFaces),$e.map(function(ft){return{family:ft,stretch:"normal",weight:et,style:dt}}));this.pdf.setFont(lt.ref.name,lt.ref.style)}else{var bt="";(et==="bold"||parseInt(et,10)>=700||dt==="bold")&&(bt="bold"),dt==="italic"&&(bt+="italic"),bt.length===0&&(bt="normal");for(var Nt="",Tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ft=0;Ft<$e.length;Ft++){if(this.pdf.internal.getFont($e[Ft],bt,{noFallback:!0,disableWarning:!0})!==void 0){Nt=$e[Ft];break}if(bt==="bolditalic"&&this.pdf.internal.getFont($e[Ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=$e[Ft],bt="bold";else if(this.pdf.internal.getFont($e[Ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=$e[Ft],bt="normal";break}}if(Nt===""){for(var Bt=0;Bt<$e.length;Bt++)if(Tt[$e[Bt]]){Nt=Tt[$e[Bt]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,Ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,Ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};g.prototype.setLineDash=function(j){this.lineDash=j},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){R.call(this,"fill",!1)},g.prototype.stroke=function(){R.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(j,B){if(isNaN(j)||isNaN(B))throw er.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new a(j,B));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(j,B)},g.prototype.closePath=function(){var j=new a(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Ht(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){j=new a(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(j.x,j.y)},g.prototype.lineTo=function(j,B){if(isNaN(j)||isNaN(B))throw er.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new a(j,B));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(G.x,G.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},g.prototype.quadraticCurveTo=function(j,B,G,ee){if(isNaN(G)||isNaN(ee)||isNaN(j)||isNaN(B))throw er.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new a(G,ee)),ce=this.ctx.transform.applyToPoint(new a(j,B));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new a(ae.x,ae.y)},g.prototype.bezierCurveTo=function(j,B,G,ee,ae,ce){if(isNaN(ae)||isNaN(ce)||isNaN(j)||isNaN(B)||isNaN(G)||isNaN(ee))throw er.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new a(ae,ce)),me=this.ctx.transform.applyToPoint(new a(j,B)),Le=this.ctx.transform.applyToPoint(new a(G,ee));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:Le.x,y2:Le.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new a(ge.x,ge.y)},g.prototype.arc=function(j,B,G,ee,ae,ce){if(isNaN(j)||isNaN(B)||isNaN(G)||isNaN(ee)||isNaN(ae))throw er.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new a(j,B));j=ge.x,B=ge.y;var me=this.ctx.transform.applyToPoint(new a(0,G)),Le=this.ctx.transform.applyToPoint(new a(0,0));G=Math.sqrt(Math.pow(me.x-Le.x,2)+Math.pow(me.y-Le.y,2))}Math.abs(ae-ee)>=2*Math.PI&&(ee=0,ae=2*Math.PI),this.path.push({type:"arc",x:j,y:B,radius:G,startAngle:ee,endAngle:ae,counterclockwise:ce})},g.prototype.arcTo=function(j,B,G,ee,ae){throw new Error("arcTo not implemented.")},g.prototype.rect=function(j,B,G,ee){if(isNaN(j)||isNaN(B)||isNaN(G)||isNaN(ee))throw er.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,B),this.lineTo(j+G,B),this.lineTo(j+G,B+ee),this.lineTo(j,B+ee),this.lineTo(j,B),this.lineTo(j+G,B),this.lineTo(j,B)},g.prototype.fillRect=function(j,B,G,ee){if(isNaN(j)||isNaN(B)||isNaN(G)||isNaN(ee))throw er.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,B,G,ee),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},g.prototype.strokeRect=function(j,B,G,ee){if(isNaN(j)||isNaN(B)||isNaN(G)||isNaN(ee))throw er.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(j,B,G,ee),this.stroke())},g.prototype.clearRect=function(j,B,G,ee){if(isNaN(j)||isNaN(B)||isNaN(G)||isNaN(ee))throw er.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,B,G,ee))},g.prototype.save=function(j){j=typeof j!="boolean"||j;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},g.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(B),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(j){var B,G,ee,ae;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))B=0,G=0,ee=0,ae=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(ce!==null)B=parseInt(ce[1]),G=parseInt(ce[2]),ee=parseInt(ce[3]),ae=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)B=parseInt(ce[1]),G=parseInt(ce[2]),ee=parseInt(ce[3]),ae=parseFloat(ce[4]);else{if(ae=1,typeof j=="string"&&j.charAt(0)!=="#"){var ge=new i_(j);j=ge.ok?ge.toHex():"#000000"}j.length===4?(B=j.substring(1,2),B+=B,G=j.substring(2,3),G+=G,ee=j.substring(3,4),ee+=ee):(B=j.substring(1,3),G=j.substring(3,5),ee=j.substring(5,7)),B=parseInt(B,16),G=parseInt(G,16),ee=parseInt(ee,16)}}return{r:B,g:G,b:ee,a:ae,style:j}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(j,B,G,ee){if(isNaN(B)||isNaN(G)||typeof j!="string")throw er.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!p.call(this)){var ae=T(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;M.call(this,{text:j,x:B,y:G,scale:ce,angle:ae,align:this.textAlign,maxWidth:ee})}},g.prototype.strokeText=function(j,B,G,ee){if(isNaN(B)||isNaN(G)||typeof j!="string")throw er.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ee=isNaN(ee)?void 0:ee;var ae=T(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;M.call(this,{text:j,x:B,y:G,scale:ce,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:ee})}},g.prototype.measureText=function(j){if(typeof j!="string")throw er.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,G=this.pdf.internal.scaleFactor,ee=B.internal.getFontSize(),ae=B.getStringUnitWidth(j)*ee/B.internal.scaleFactor,ce=function(ge){var me=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this};return new ce({width:ae*=Math.round(96*G/72*1e4)/1e4})},g.prototype.scale=function(j,B){if(isNaN(j)||isNaN(B))throw er.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new c(j,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},g.prototype.rotate=function(j){if(isNaN(j))throw er.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new c(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},g.prototype.translate=function(j,B){if(isNaN(j)||isNaN(B))throw er.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new c(1,0,0,1,j,B);this.ctx.transform=this.ctx.transform.multiply(G)},g.prototype.transform=function(j,B,G,ee,ae,ce){if(isNaN(j)||isNaN(B)||isNaN(G)||isNaN(ee)||isNaN(ae)||isNaN(ce))throw er.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new c(j,B,G,ee,ae,ce);this.ctx.transform=this.ctx.transform.multiply(ge)},g.prototype.setTransform=function(j,B,G,ee,ae,ce){j=isNaN(j)?1:j,B=isNaN(B)?0:B,G=isNaN(G)?0:G,ee=isNaN(ee)?1:ee,ae=isNaN(ae)?0:ae,ce=isNaN(ce)?0:ce,this.ctx.transform=new c(j,B,G,ee,ae,ce)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(j,B,G,ee,ae,ce,ge,me,Le){var J=this.pdf.getImageProperties(j),be=1,xe=1,ze=1,_e=1;ee!==void 0&&me!==void 0&&(ze=me/ee,_e=Le/ae,be=J.width/ee*me/ee,xe=J.height/ae*Le/ae),ce===void 0&&(ce=B,ge=G,B=0,G=0),ee!==void 0&&me===void 0&&(me=ee,Le=ae),ee===void 0&&me===void 0&&(me=J.width,Le=J.height);for(var Y,dt=this.ctx.transform.decompose(),et=T(dt.rotate.shx),Ie=new c,qe=(Ie=(Ie=(Ie=Ie.multiply(dt.translate)).multiply(dt.skew)).multiply(dt.scale)).applyToRectangle(new l(ce-B*ze,ge-G*_e,ee*be,ae*xe)),Ve=C.call(this,qe),$e=[],lt=0;lt<Ve.length;lt+=1)$e.indexOf(Ve[lt])===-1&&$e.push(Ve[lt]);if(S($e),this.autoPaging)for(var bt=$e[0],Nt=$e[$e.length-1],Tt=bt;Tt<Nt+1;Tt++){this.pdf.setPage(Tt);var Ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=Tt===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=Tt===1?0:ft+(Tt-2)*jt;if(this.ctx.clip_path.length!==0){var dr=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Y,this.posX+this.margin[3],-We+Bt+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=dr}var It=JSON.parse(JSON.stringify(qe));It=b([It],this.posX+this.margin[3],-We+Bt+this.ctx.prevPageLastElemOffset)[0];var Lr=(Tt>bt||Tt<Nt)&&N.call(this);Lr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ft,jt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",It.x,It.y,It.w,It.h,null,null,et),Lr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,et)};var C=function(j,B,G){var ee=[];B=B||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":ee.push(Math.floor((j.y+ae)/G)+1);break;case"arc":ee.push(Math.floor((j.y+ae-j.radius)/G)+1),ee.push(Math.floor((j.y+ae+j.radius)/G)+1);break;case"qct":var ce=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);ee.push(Math.floor((ce.y+ae)/G)+1),ee.push(Math.floor((ce.y+ce.h+ae)/G)+1);break;case"bct":var ge=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);ee.push(Math.floor((ge.y+ae)/G)+1),ee.push(Math.floor((ge.y+ge.h+ae)/G)+1);break;case"rect":ee.push(Math.floor((j.y+ae)/G)+1),ee.push(Math.floor((j.y+j.h+ae)/G)+1)}for(var me=0;me<ee.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<ee[me];)_.call(this);return ee},_=function(){var j=this.fillStyle,B=this.strokeStyle,G=this.font,ee=this.lineCap,ae=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=B,this.font=G,this.lineCap=ee,this.lineWidth=ae,this.lineJoin=ce},b=function(j,B,G){for(var ee=0;ee<j.length;ee++)switch(j[ee].type){case"bct":j[ee].x2+=B,j[ee].y2+=G;case"qct":j[ee].x1+=B,j[ee].y1+=G;case"mt":case"lt":case"arc":default:j[ee].x+=B,j[ee].y+=G}return j},S=function(j){return j.sort(function(B,G){return B-G})},R=function(j,B){for(var G,ee,ae=this.fillStyle,ce=this.strokeStyle,ge=this.lineCap,me=this.lineWidth,Le=Math.abs(me*this.ctx.transform.scaleX),J=this.lineJoin,be=JSON.parse(JSON.stringify(this.path)),xe=JSON.parse(JSON.stringify(this.path)),ze=[],_e=0;_e<xe.length;_e++)if(xe[_e].x!==void 0)for(var Y=C.call(this,xe[_e]),dt=0;dt<Y.length;dt+=1)ze.indexOf(Y[dt])===-1&&ze.push(Y[dt]);for(var et=0;et<ze.length;et++)for(;this.pdf.internal.getNumberOfPages()<ze[et];)_.call(this);if(S(ze),this.autoPaging)for(var Ie=ze[0],qe=ze[ze.length-1],Ve=Ie;Ve<qe+1;Ve++){this.pdf.setPage(Ve),this.fillStyle=ae,this.strokeStyle=ce,this.lineCap=ge,this.lineWidth=Le,this.lineJoin=J;var $e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],lt=Ve===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tt=Ve===1?0:bt+(Ve-2)*Nt;if(this.ctx.clip_path.length!==0){var Ft=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(G,this.posX+this.margin[3],-Tt+lt+this.ctx.prevPageLastElemOffset),F.call(this,j,!0),this.path=Ft}if(ee=JSON.parse(JSON.stringify(be)),this.path=b(ee,this.posX+this.margin[3],-Tt+lt+this.ctx.prevPageLastElemOffset),B===!1||Ve===0){var Bt=(Ve>Ie||Ve<qe)&&N.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,Nt,null).clip().discardPath()),F.call(this,j,B),Bt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=Le,F.call(this,j,B),this.lineWidth=me;this.path=be},F=function(j,B){if((j!=="stroke"||B||!x.call(this))&&(j==="stroke"||B||!p.call(this))){for(var G,ee,ae=[],ce=this.path,ge=0;ge<ce.length;ge++){var me=ce[ge];switch(me.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:me,deltas:[],abs:[]});break;case"lt":var Le=ae.length;if(ce[ge-1]&&!isNaN(ce[ge-1].x)&&(G=[me.x-ce[ge-1].x,me.y-ce[ge-1].y],Le>0)){for(;Le>=0;Le--)if(ae[Le-1].close!==!0&&ae[Le-1].begin!==!0){ae[Le-1].deltas.push(G),ae[Le-1].abs.push(me);break}}break;case"bct":G=[me.x1-ce[ge-1].x,me.y1-ce[ge-1].y,me.x2-ce[ge-1].x,me.y2-ce[ge-1].y,me.x-ce[ge-1].x,me.y-ce[ge-1].y],ae[ae.length-1].deltas.push(G);break;case"qct":var J=ce[ge-1].x+2/3*(me.x1-ce[ge-1].x),be=ce[ge-1].y+2/3*(me.y1-ce[ge-1].y),xe=me.x+2/3*(me.x1-me.x),ze=me.y+2/3*(me.y1-me.y),_e=me.x,Y=me.y;G=[J-ce[ge-1].x,be-ce[ge-1].y,xe-ce[ge-1].x,ze-ce[ge-1].y,_e-ce[ge-1].x,Y-ce[ge-1].y],ae[ae.length-1].deltas.push(G);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(me)}}ee=B?null:j==="stroke"?"stroke":"fill";for(var dt=!1,et=0;et<ae.length;et++)if(ae[et].arc)for(var Ie=ae[et].abs,qe=0;qe<Ie.length;qe++){var Ve=Ie[qe];Ve.type==="arc"?U.call(this,Ve.x,Ve.y,Ve.radius,Ve.startAngle,Ve.endAngle,Ve.counterclockwise,void 0,B,!dt):K.call(this,Ve.x,Ve.y),dt=!0}else if(ae[et].close===!0)this.pdf.internal.out("h"),dt=!1;else if(ae[et].begin!==!0){var $e=ae[et].start.x,lt=ae[et].start.y;q.call(this,ae[et].deltas,$e,lt),dt=!0}ee&&I.call(this,ee),B&&se.call(this)}},te=function(j){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-G;case"top":return j+B-G;case"hanging":return j+B-2*G;case"middle":return j+B/2-G;case"ideographic":return j;case"alphabetic":default:return j}},z=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(B,G){this.colorStops.push([B,G])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(j,B,G,ee,ae,ce,ge,me,Le){for(var J=$.call(this,G,ee,ae,ce),be=0;be<J.length;be++){var xe=J[be];be===0&&(Le?L.call(this,xe.x1+j,xe.y1+B):K.call(this,xe.x1+j,xe.y1+B)),he.call(this,j,B,xe.x2,xe.y2,xe.x3,xe.y3,xe.x4,xe.y4)}me?se.call(this):I.call(this,ge)},I=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},se=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(j,B){this.pdf.internal.out(r(j)+" "+n(B)+" m")},M=function(j){var B;switch(j.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var G=this.pdf.getTextDimensions(j.text),ee=te.call(this,j.y),ae=z.call(this,ee)-G.h,ce=this.ctx.transform.applyToPoint(new a(j.x,ee)),ge=this.ctx.transform.decompose(),me=new c;me=(me=(me=me.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var Le,J,be,xe=this.ctx.transform.applyToRectangle(new l(j.x,ee,G.w,G.h)),ze=me.applyToRectangle(new l(j.x,ae,G.w,G.h)),_e=C.call(this,ze),Y=[],dt=0;dt<_e.length;dt+=1)Y.indexOf(_e[dt])===-1&&Y.push(_e[dt]);if(S(Y),this.autoPaging)for(var et=Y[0],Ie=Y[Y.length-1],qe=et;qe<Ie+1;qe++){this.pdf.setPage(qe);var Ve=qe===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[2],bt=lt-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],Tt=Nt-this.margin[3],Ft=qe===1?0:$e+(qe-2)*bt;if(this.ctx.clip_path.length!==0){var Bt=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Le,this.posX+this.margin[3],-1*Ft+Ve),F.call(this,"fill",!0),this.path=Bt}var ft=b([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-Ft+Ve+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*j.scale),be=this.lineWidth,this.lineWidth=be*j.scale);var jt=this.autoPaging!=="text";if(jt||ft.y+ft.h<=lt){if(jt||ft.y>=Ve&&ft.x<=Nt){var We=jt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Nt-ft.x)[0],dr=b([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-Ft+Ve+this.ctx.prevPageLastElemOffset)[0],It=jt&&(qe>et||qe<Ie)&&N.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,bt,null).clip().discardPath()),this.pdf.text(We,dr.x,dr.y,{angle:j.angle,align:B,renderingMode:j.renderingMode}),It&&this.pdf.restoreGraphicsState()}}else ft.y<lt&&(this.ctx.prevPageLastElemOffset+=lt-ft.y);j.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=be)}else j.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*j.scale),be=this.lineWidth,this.lineWidth=be*j.scale),this.pdf.text(j.text,ce.x+this.posX,ce.y+this.posY,{angle:j.angle,align:B,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=be)},K=function(j,B,G,ee){G=G||0,ee=ee||0,this.pdf.internal.out(r(j+G)+" "+n(B+ee)+" l")},q=function(j,B,G){return this.pdf.lines(j,B,G,null,null)},he=function(j,B,G,ee,ae,ce,ge,me){this.pdf.internal.out([t(s(G+j)),t(i(ee+B)),t(s(ae+j)),t(i(ce+B)),t(s(ge+j)),t(i(me+B)),"c"].join(" "))},$=function(j,B,G,ee){for(var ae=2*Math.PI,ce=Math.PI/2;B>G;)B-=ae;var ge=Math.abs(G-B);ge<ae&&ee&&(ge=ae-ge);for(var me=[],Le=ee?-1:1,J=B;ge>1e-5;){var be=J+Le*Math.min(ge,ce);me.push(de.call(this,j,J,be)),ge-=Math.abs(be-J),J=be}return me},de=function(j,B,G){var ee=(G-B)/2,ae=j*Math.cos(ee),ce=j*Math.sin(ee),ge=ae,me=-ce,Le=ge*ge+me*me,J=Le+ge*ae+me*ce,be=4/3*(Math.sqrt(2*Le*J)-J)/(ge*ce-me*ae),xe=ge-be*me,ze=me+be*ge,_e=xe,Y=-ze,dt=ee+B,et=Math.cos(dt),Ie=Math.sin(dt);return{x1:j*Math.cos(B),y1:j*Math.sin(B),x2:xe*et-ze*Ie,y2:xe*Ie+ze*et,x3:_e*et-Y*Ie,y3:_e*Ie+Y*et,x4:j*Math.cos(G),y4:j*Math.sin(G)}},T=function(j){return 180*j/Math.PI},Q=function(j,B,G,ee,ae,ce){var ge=j+.5*(G-j),me=B+.5*(ee-B),Le=ae+.5*(G-ae),J=ce+.5*(ee-ce),be=Math.min(j,ae,ge,Le),xe=Math.max(j,ae,ge,Le),ze=Math.min(B,ce,me,J),_e=Math.max(B,ce,me,J);return new l(be,ze,xe-be,_e-ze)},Z=function(j,B,G,ee,ae,ce,ge,me){var Le,J,be,xe,ze,_e,Y,dt,et,Ie,qe,Ve,$e,lt,bt=G-j,Nt=ee-B,Tt=ae-G,Ft=ce-ee,Bt=ge-ae,ft=me-ce;for(J=0;J<41;J++)et=(Y=(be=j+(Le=J/40)*bt)+Le*((ze=G+Le*Tt)-be))+Le*(ze+Le*(ae+Le*Bt-ze)-Y),Ie=(dt=(xe=B+Le*Nt)+Le*((_e=ee+Le*Ft)-xe))+Le*(_e+Le*(ce+Le*ft-_e)-dt),J==0?(qe=et,Ve=Ie,$e=et,lt=Ie):(qe=Math.min(qe,et),Ve=Math.min(Ve,Ie),$e=Math.max($e,et),lt=Math.max(lt,Ie));return new l(Math.round(qe),Math.round(Ve),Math.round($e-qe),Math.round(lt-Ve))},Ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,B,G=(j=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:B}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(xt.API),function(e){var t=function(i){var a,l,c,d,f,g,y,p,x,N;for(l=[],c=0,d=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;d>c;c+=4)(f=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(g=(f=((f=((f=((f=(f-(N=f%85))/85)-(x=f%85))/85)-(p=f%85))/85)-(y=f%85))/85)%85,l.push(g+33,y+33,p+33,x+33,N+33)):l.push(122);return function(C,_){for(var b=_;b>0;b--)C.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var a,l,c,d,f,g=String,y="length",p=255,x="charCodeAt",N="slice",C="replace";for(i[N](-2),i=i[N](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),c=[],d=0,f=(i+=a="uuuuu"[N](i[y]%5||5))[y];f>d;d+=5)l=52200625*(i[x](d)-33)+614125*(i[x](d+1)-33)+7225*(i[x](d+2)-33)+85*(i[x](d+3)-33)+(i[x](d+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(_,b){for(var S=b;S>0;S--)_.pop()}(c,a[y]),g.fromCharCode.apply(g,c)},n=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},s=function(i){for(var a=new Uint8Array(i.length),l=i.length;l--;)a[l]=i.charCodeAt(l);return i=(a=Ym(a)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(i,a){var l=0,c=i||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(xt.API),function(e){e.loadFile=function(t,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(c,d,f){var g=new XMLHttpRequest,y=0,p=function(x){var N=x.length,C=[],_=String.fromCharCode;for(y=0;y<N;y+=1)C.push(_(255&x.charCodeAt(y)));return C.join("")};if(g.open("GET",c,!d),g.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(g.onload=function(){g.status===200?f(p(this.responseText)):f(void 0)}),g.send(null),d&&g.status===200)return p(g.responseText)}(s,i,a)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(xt.API),function(e){function t(){return(St.html2canvas?Promise.resolve(St.html2canvas):$m(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(St.DOMPurify?Promise.resolve(St.DOMPurify):$m(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var l=Ht(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(a,l){var c=document.createElement(a);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,a,1,[a])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,l){return a.__proto__=l||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(c){return this.set({src:s("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,f){for(var g=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),y=d.firstChild;y;y=y.nextSibling)f!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||g.appendChild(c(y,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(g.width=d.width,g.height=d.height,g.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(g.value=d.value),g.addEventListener("load",function(){g.scrollTop=d.scrollTop,g.scrollLeft=d.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var y=0;y<d.length;++y){var p=d[y],x=p.src.find(function(N){return N.format==="truetype"});x&&c.addFont(x.url,p.ref.name,p.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},i.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(n(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(a,l){return this.then(function(){var c=a in i.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},i.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(a=a||xt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,l,c,d){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,l,c,d){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(d,f){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,d),g}).then(d,f).then(function(g){return c.updateProgress(1),g})})},i.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),f=c.call(d,a,l);return i.convert(f,this.__proto__)},i.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},i.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return i.convert(l,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,xt.getPageSize=function(a,l,c){if(Ht(a)==="object"){var d=a;a=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var f,g=(""+c).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var p,x=0,N=0;if(y.hasOwnProperty(g))x=y[g][1]/f,N=y[g][0]/f;else try{x=c[1],N=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",N>x&&(p=N,N=x,x=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",x>N&&(p=N,N=x,x=p)}return{width:N,height:x,unit:l,k:f,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(eg):null;var c=new i(l);return l.worker?c:c.from(a).doCallback()}}(xt.API),xt.API.addJS=function(e){return e2=e,this.internal.events.subscribe("postPutResources",function(){jd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Zv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+e2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jd!==void 0&&Zv!==void 0&&this.internal.out("/Names <</JavaScript "+jd+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],l=n.exec(a);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(i=0;i<d;i++){var g=r.internal.newObject();f.push(g);var y=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<f.length;i++)r.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var c=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(xt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,a,l){var c,d=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(g){for(var y,p=256*g.charCodeAt(4)+g.charCodeAt(5),x=g.length,N={width:0,height:0,numcomponents:1},C=4;C<x;C+=2){if(C+=p,t.indexOf(g.charCodeAt(C+1))!==-1){y=256*g.charCodeAt(C+5)+g.charCodeAt(C+6),N={width:256*g.charCodeAt(C+7)+g.charCodeAt(C+8),height:y,numcomponents:g.charCodeAt(C+9)};break}p=256*g.charCodeAt(C+2)+g.charCodeAt(C+3)}return N}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:s}}return f}}(xt.API);var Lo,Cd,t2,r2,n2,I6=function(){var e,t,r;function n(i){var a,l,c,d,f,g,y,p,x,N,C,_,b,S;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(a=this.readUInt32(),x=(function(){var R,F;for(F=[],R=0;R<4;++R)F.push(String.fromCharCode(this.data[this.pos++]));return F}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,g.delay=1e3*f/d,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,a-=4),i=(g!=null?g.data:void 0)||this.imgData,_=0;0<=a?_<a:_>a;0<=a?++_:--_)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((N=c-this.transparency.indexed.length)>0)for(b=0;0<=N?b<N:b>N;0<=N?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":y=(C=this.read(a)).indexOf(0),p=String.fromCharCode.apply(String,C.slice(0,y)),this.text[p]=String.fromCharCode.apply(String,C.slice(y+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var a,l;for(l=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),c=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function f(g,y,p,x){var N,C,_,b,S,R,F,te,z,U,I,se,L,M,K,q,he,$,de,T,Q,Z=Math.ceil((d.width-g)/p),Ne=Math.ceil((d.height-y)/x),j=d.width==Z&&d.height==Ne;for(M=a*Z,se=j?l:new Uint8Array(M*Ne),R=i.length,L=0,C=0;L<Ne&&c<R;){switch(i[c++]){case 0:for(b=he=0;he<M;b=he+=1)se[C++]=i[c++];break;case 1:for(b=$=0;$<M;b=$+=1)N=i[c++],S=b<a?0:se[C-a],se[C++]=(N+S)%256;break;case 2:for(b=de=0;de<M;b=de+=1)N=i[c++],_=(b-b%a)/a,K=L&&se[(L-1)*M+_*a+b%a],se[C++]=(K+N)%256;break;case 3:for(b=T=0;T<M;b=T+=1)N=i[c++],_=(b-b%a)/a,S=b<a?0:se[C-a],K=L&&se[(L-1)*M+_*a+b%a],se[C++]=(N+Math.floor((S+K)/2))%256;break;case 4:for(b=Q=0;Q<M;b=Q+=1)N=i[c++],_=(b-b%a)/a,S=b<a?0:se[C-a],L===0?K=q=0:(K=se[(L-1)*M+_*a+b%a],q=_&&se[(L-1)*M+(_-1)*a+b%a]),F=S+K-q,te=Math.abs(F-S),U=Math.abs(F-K),I=Math.abs(F-q),z=te<=U&&te<=I?S:U<=I?K:q,se[C++]=(N+z)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!j){var B=((y+L*x)*d.width+g)*a,G=L*M;for(b=0;b<Z;b+=1){for(var ee=0;ee<a;ee+=1)l[B++]=se[G++];B+=(p-1)*a}}L++}}return i=d6(i),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),l},n.prototype.decodePalette=function(){var i,a,l,c,d,f,g,y,p;for(l=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+l.length),c=0,i=0,a=g=0,y=l.length;g<y;a=g+=3)d[c++]=l[a],d[c++]=l[a+1],d[c++]=l[a+2],d[c++]=(p=f[i++])!=null?p:255;return d},n.prototype.copyToImageData=function(i,a){var l,c,d,f,g,y,p,x,N,C,_;if(c=this.colors,N=null,l=this.hasAlphaChannel,this.palette.length&&(N=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),c=4,l=!0),x=(d=i.data||i).length,g=N||a,f=y=0,c===1)for(;f<x;)p=N?4*a[f/4]:y,C=g[p++],d[f++]=C,d[f++]=C,d[f++]=C,d[f++]=l?g[p++]:255,y=p;else for(;f<x;)p=N?4*a[f/4]:y,d[f++]=g[p++],d[f++]=g[p++],d[f++]=g[p++],d[f++]=l?g[p++]:255,y=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(St)==="[object Window]"){try{t=St.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(i){var a;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var a,l,c,d,f,g,y,p;if(this.animation){for(p=[],l=f=0,g=(y=this.animation.frames).length;f<g;l=++f)a=y[l],c=i.createImageData(a.width,a.height),d=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,d),a.imageData=c,p.push(a.image=e(c));return p}},n.prototype.renderFrame=function(i,a){var l,c,d;return l=(c=this.animation.frames)[a],d=c[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var a,l,c,d,f,g,y=this;return l=0,g=this.animation,d=g.numFrames,c=g.frames,f=g.numPlays,(a=function(){var p,x;if(p=l++%d,x=c[p],y.renderFrame(i,p),d>1&&l/d<f)return y.animation._timeout=setTimeout(a,x.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var a,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function O6(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,a=1<<(7&s)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=a,t+=3*a);var d=!0,f=[],g=0,y=null,p=0,x=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var N=e[t++];g=e[t++]|e[t++]<<8,y=e[t++],!(1&N)&&(y=null),p=N>>2&7,t++;break;case 254:for(;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var C=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,R=e[t++],F=R>>6&1,te=1<<(7&R)+1,z=l,U=c,I=!1;R>>7&&(I=!0,z=t,U=te,t+=3*te);var se=t;for(t++;;){var L;if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}f.push({x:C,y:_,width:b,height:S,has_local_palette:I,palette_offset:z,palette_size:U,data_offset:se,data_length:t-se,transparent_index:y,interlaced:!!F,delay:g,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return x},this.frameInfo=function(M){if(M<0||M>=f.length)throw new Error("Frame index out of range.");return f[M]},this.decodeAndBlitFrameBGRA=function(M,K){var q=this.frameInfo(M),he=q.width*q.height,$=new Uint8Array(he);s2(e,q.data_offset,$,he);var de=q.palette_offset,T=q.transparent_index;T===null&&(T=256);var Q=q.width,Z=r-Q,Ne=Q,j=4*(q.y*r+q.x),B=4*((q.y+q.height)*r+q.x),G=j,ee=4*Z;q.interlaced===!0&&(ee+=4*r*7);for(var ae=8,ce=0,ge=$.length;ce<ge;++ce){var me=$[ce];if(Ne===0&&(Ne=Q,(G+=ee)>=B&&(ee=4*Z+4*r*(ae-1),G=j+(Q+Z)*(ae<<1),ae>>=1)),me===T)G+=4;else{var Le=e[de+3*me],J=e[de+3*me+1],be=e[de+3*me+2];K[G++]=be,K[G++]=J,K[G++]=Le,K[G++]=255}--Ne}},this.decodeAndBlitFrameRGBA=function(M,K){var q=this.frameInfo(M),he=q.width*q.height,$=new Uint8Array(he);s2(e,q.data_offset,$,he);var de=q.palette_offset,T=q.transparent_index;T===null&&(T=256);var Q=q.width,Z=r-Q,Ne=Q,j=4*(q.y*r+q.x),B=4*((q.y+q.height)*r+q.x),G=j,ee=4*Z;q.interlaced===!0&&(ee+=4*r*7);for(var ae=8,ce=0,ge=$.length;ce<ge;++ce){var me=$[ce];if(Ne===0&&(Ne=Q,(G+=ee)>=B&&(ee=4*Z+4*r*(ae-1),G=j+(Q+Z)*(ae<<1),ae>>=1)),me===T)G+=4;else{var Le=e[de+3*me],J=e[de+3*me+1],be=e[de+3*me+2];K[G++]=Le,K[G++]=J,K[G++]=be,K[G++]=255}--Ne}}}function s2(e,t,r,n){for(var s=e[t++],i=1<<s,a=i+1,l=a+1,c=s+1,d=(1<<c)-1,f=0,g=0,y=0,p=e[t++],x=new Int32Array(4096),N=null;;){for(;f<16&&p!==0;)g|=e[t++]<<f,f+=8,p===1?p=e[t++]:--p;if(f<c)break;var C=g&d;if(g>>=c,f-=c,C!==i){if(C===a)break;for(var _=C<l?C:N,b=0,S=_;S>i;)S=x[S]>>8,++b;var R=S;if(y+b+(_!==C?1:0)>n)return void er.log("Warning, gif stream longer than expected.");r[y++]=R;var F=y+=b;for(_!==C&&(r[y++]=R),S=_;b--;)S=x[S],r[--F]=255&S,S>>=8;N!==null&&l<4096&&(x[l++]=N<<8|R,l>=d+1&&c<12&&(++c,d=d<<1|1)),N=C}else l=a+1,d=(1<<(c=s+1))-1,N=null}return y!==n&&er.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ep(e){var t,r,n,s,i,a=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),f=new Array(64),g=new Array(65535),y=new Array(65535),p=new Array(64),x=new Array(64),N=[],C=0,_=7,b=new Array(64),S=new Array(64),R=new Array(64),F=new Array(256),te=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(j,B){for(var G=0,ee=0,ae=new Array,ce=1;ce<=16;ce++){for(var ge=1;ge<=j[ce];ge++)ae[B[ee]]=[],ae[B[ee]][0]=G,ae[B[ee]][1]=ce,ee++,G++;G*=2}return ae}function de(j){for(var B=j[0],G=j[1]-1;G>=0;)B&1<<G&&(C|=1<<_),G--,--_<0&&(C==255?(T(255),T(0)):T(C),_=7,C=0)}function T(j){N.push(j)}function Q(j){T(j>>8&255),T(255&j)}function Z(j,B,G,ee,ae){for(var ce,ge=ae[0],me=ae[240],Le=function(Ie,qe){var Ve,$e,lt,bt,Nt,Tt,Ft,Bt,ft,jt,We=0;for(ft=0;ft<8;++ft){Ve=Ie[We],$e=Ie[We+1],lt=Ie[We+2],bt=Ie[We+3],Nt=Ie[We+4],Tt=Ie[We+5],Ft=Ie[We+6];var dr=Ve+(Bt=Ie[We+7]),It=Ve-Bt,Lr=$e+Ft,ne=$e-Ft,Ee=lt+Tt,X=lt-Tt,we=bt+Nt,Be=bt-Nt,Ye=dr+we,st=dr-we,ct=Lr+Ee,Oe=Lr-Ee;Ie[We]=Ye+ct,Ie[We+4]=Ye-ct;var He=.707106781*(Oe+st);Ie[We+2]=st+He,Ie[We+6]=st-He;var Ct=.382683433*((Ye=Be+X)-(Oe=ne+It)),nt=.5411961*Ye+Ct,Qt=1.306562965*Oe+Ct,tn=.707106781*(ct=X+ne),tr=It+tn,gt=It-tn;Ie[We+5]=gt+nt,Ie[We+3]=gt-nt,Ie[We+1]=tr+Qt,Ie[We+7]=tr-Qt,We+=8}for(We=0,ft=0;ft<8;++ft){Ve=Ie[We],$e=Ie[We+8],lt=Ie[We+16],bt=Ie[We+24],Nt=Ie[We+32],Tt=Ie[We+40],Ft=Ie[We+48];var Je=Ve+(Bt=Ie[We+56]),Tr=Ve-Bt,Hr=$e+Ft,pe=$e-Ft,Me=lt+Tt,Xe=lt-Tt,Fe=bt+Nt,pt=bt-Nt,De=Je+Fe,vt=Je-Fe,yt=Hr+Me,Dt=Hr-Me;Ie[We]=De+yt,Ie[We+32]=De-yt;var wt=.707106781*(Dt+vt);Ie[We+16]=vt+wt,Ie[We+48]=vt-wt;var rr=.382683433*((De=pt+Xe)-(Dt=pe+Tr)),Ir=.5411961*De+rr,qr=1.306562965*Dt+rr,or=.707106781*(yt=Xe+pe),xr=Tr+or,Yr=Tr-or;Ie[We+40]=Yr+Ir,Ie[We+24]=Yr-Ir,Ie[We+8]=xr+qr,Ie[We+56]=xr-qr,We++}for(ft=0;ft<64;++ft)jt=Ie[ft]*qe[ft],p[ft]=jt>0?jt+.5|0:jt-.5|0;return p}(j,B),J=0;J<64;++J)x[z[J]]=Le[J];var be=x[0]-G;G=x[0],be==0?de(ee[0]):(de(ee[y[ce=32767+be]]),de(g[ce]));for(var xe=63;xe>0&&x[xe]==0;)xe--;if(xe==0)return de(ge),G;for(var ze,_e=1;_e<=xe;){for(var Y=_e;x[_e]==0&&_e<=xe;)++_e;var dt=_e-Y;if(dt>=16){ze=dt>>4;for(var et=1;et<=ze;++et)de(me);dt&=15}ce=32767+x[_e],de(ae[(dt<<4)+y[ce]]),de(g[ce]),_e++}return xe!=63&&de(ge),G}function Ne(j){j=Math.min(Math.max(j,1),100),i!=j&&(function(B){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var ae=a((G[ee]*B+50)/100);ae=Math.min(Math.max(ae,1),255),l[z[ee]]=ae}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var me=a((ce[ge]*B+50)/100);me=Math.min(Math.max(me,1),255),c[z[ge]]=me}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],J=0,be=0;be<8;be++)for(var xe=0;xe<8;xe++)d[J]=1/(l[z[J]]*Le[be]*Le[xe]*8),f[J]=1/(c[z[J]]*Le[be]*Le[xe]*8),J++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),i=j)}this.encode=function(j,B){B&&Ne(B),N=new Array,C=0,_=7,Q(65496),Q(65504),Q(16),T(74),T(70),T(73),T(70),T(0),T(1),T(1),T(0),Q(1),Q(1),T(0),T(0),function(){Q(65499),Q(132),T(0);for(var $e=0;$e<64;$e++)T(l[$e]);T(1);for(var lt=0;lt<64;lt++)T(c[lt])}(),function($e,lt){Q(65472),Q(17),T(8),Q(lt),Q($e),T(3),T(1),T(17),T(0),T(2),T(17),T(1),T(3),T(17),T(1)}(j.width,j.height),function(){Q(65476),Q(418),T(0);for(var $e=0;$e<16;$e++)T(U[$e+1]);for(var lt=0;lt<=11;lt++)T(I[lt]);T(16);for(var bt=0;bt<16;bt++)T(se[bt+1]);for(var Nt=0;Nt<=161;Nt++)T(L[Nt]);T(1);for(var Tt=0;Tt<16;Tt++)T(M[Tt+1]);for(var Ft=0;Ft<=11;Ft++)T(K[Ft]);T(17);for(var Bt=0;Bt<16;Bt++)T(q[Bt+1]);for(var ft=0;ft<=161;ft++)T(he[ft])}(),Q(65498),Q(12),T(3),T(1),T(0),T(2),T(17),T(3),T(17),T(0),T(63),T(0);var G=0,ee=0,ae=0;C=0,_=7,this.encode.displayName="_encode_";for(var ce,ge,me,Le,J,be,xe,ze,_e,Y=j.data,dt=j.width,et=j.height,Ie=4*dt,qe=0;qe<et;){for(ce=0;ce<Ie;){for(J=Ie*qe+ce,xe=-1,ze=0,_e=0;_e<64;_e++)be=J+(ze=_e>>3)*Ie+(xe=4*(7&_e)),qe+ze>=et&&(be-=Ie*(qe+1+ze-et)),ce+xe>=Ie&&(be-=ce+xe-Ie+4),ge=Y[be++],me=Y[be++],Le=Y[be++],b[_e]=(te[ge]+te[me+256>>0]+te[Le+512>>0]>>16)-128,S[_e]=(te[ge+768>>0]+te[me+1024>>0]+te[Le+1280>>0]>>16)-128,R[_e]=(te[ge+1280>>0]+te[me+1536>>0]+te[Le+1792>>0]>>16)-128;G=Z(b,d,G,t,n),ee=Z(S,f,ee,r,s),ae=Z(R,f,ae,r,s),ce+=32}qe+=8}if(_>=0){var Ve=[];Ve[1]=_+1,Ve[0]=(1<<_+1)-1,de(Ve)}return Q(65497),new Uint8Array(N)},e=e||50,function(){for(var j=String.fromCharCode,B=0;B<256;B++)F[B]=j(B)}(),t=$(U,I),r=$(M,K),n=$(se,L),s=$(q,he),function(){for(var j=1,B=2,G=1;G<=15;G++){for(var ee=j;ee<B;ee++)y[32767+ee]=G,g[32767+ee]=[],g[32767+ee][1]=G,g[32767+ee][0]=ee;for(var ae=-(B-1);ae<=-j;ae++)y[32767+ae]=G,g[32767+ae]=[],g[32767+ae][1]=G,g[32767+ae][0]=B-1+ae;j<<=1,B<<=1}}(),function(){for(var j=0;j<256;j++)te[j]=19595*j,te[j+256>>0]=38470*j,te[j+512>>0]=7471*j+32768,te[j+768>>0]=-11059*j,te[j+1024>>0]=-21709*j,te[j+1280>>0]=32768*j+8421375,te[j+1536>>0]=-27439*j,te[j+1792>>0]=-5329*j}(),Ne(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function xs(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function i2(e){function t(U){if(!U)throw Error("assert :P")}function r(U,I,se){for(var L=0;4>L;L++)if(U[I+L]!=se.charCodeAt(L))return!0;return!1}function n(U,I,se,L,M){for(var K=0;K<M;K++)U[I+K]=se[L+K]}function s(U,I,se,L){for(var M=0;M<L;M++)U[I+M]=se}function i(U){return new Int32Array(U)}function a(U,I){for(var se=[],L=0;L<U;L++)se.push(new I);return se}function l(U,I){var se=[];return function L(M,K,q){for(var he=q[K],$=0;$<he&&(M.push(q.length>K+1?[]:new I),!(q.length<K+1));$++)L(M[$],K+1,q)}(se,0,U),se}var c=function(){var U=this;function I(u,h){for(var v=1<<h-1>>>0;u&v;)v>>>=1;return v?(u&v-1)+v:u}function se(u,h,v,w,k){t(!(w%v));do u[h+(w-=v)]=k;while(0<w)}function L(u,h,v,w,k){if(t(2328>=k),512>=k)var E=i(512);else if((E=i(k))==null)return 0;return function(P,O,D,V,ie,ve){var ye,ue,Pe=O,Se=1<<D,oe=i(16),le=i(16);for(t(ie!=0),t(V!=null),t(P!=null),t(0<D),ue=0;ue<ie;++ue){if(15<V[ue])return 0;++oe[V[ue]]}if(oe[0]==ie)return 0;for(le[1]=0,ye=1;15>ye;++ye){if(oe[ye]>1<<ye)return 0;le[ye+1]=le[ye]+oe[ye]}for(ue=0;ue<ie;++ue)ye=V[ue],0<V[ue]&&(ve[le[ye]++]=ue);if(le[15]==1)return(V=new M).g=0,V.value=ve[0],se(P,Pe,1,Se,V),Se;var ke,Te=-1,Ae=Se-1,tt=0,Ge=1,_t=1,Ke=1<<D;for(ue=0,ye=1,ie=2;ye<=D;++ye,ie<<=1){if(Ge+=_t<<=1,0>(_t-=oe[ye]))return 0;for(;0<oe[ye];--oe[ye])(V=new M).g=ye,V.value=ve[ue++],se(P,Pe+tt,ie,Ke,V),tt=I(tt,ye)}for(ye=D+1,ie=2;15>=ye;++ye,ie<<=1){if(Ge+=_t<<=1,0>(_t-=oe[ye]))return 0;for(;0<oe[ye];--oe[ye]){if(V=new M,(tt&Ae)!=Te){for(Pe+=Ke,ke=1<<(Te=ye)-D;15>Te&&!(0>=(ke-=oe[Te]));)++Te,ke<<=1;Se+=Ke=1<<(ke=Te-D),P[O+(Te=tt&Ae)].g=ke+D,P[O+Te].value=Pe-O-Te}V.g=ye-D,V.value=ve[ue++],se(P,Pe+(tt>>D),ie,Ke,V),tt=I(tt,ye)}}return Ge!=2*le[15]-1?0:Se}(u,h,v,w,k,E)}function M(){this.value=this.g=0}function K(){this.value=this.g=0}function q(){this.G=a(5,M),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(rn,K)}function he(u,h,v,w){t(u!=null),t(h!=null),t(2147483648>w),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=v,u.Jd=h,u.Yc=v+w,u.Zc=4<=w?v+w-4+1:v,ce(u)}function $(u,h){for(var v=0;0<h--;)v|=me(u,128)<<h;return v}function de(u,h){var v=$(u,h);return ge(u)?-v:v}function T(u,h,v,w){var k,E=0;for(t(u!=null),t(h!=null),t(4294967288>w),u.Sb=w,u.Ra=0,u.u=0,u.h=0,4<w&&(w=4),k=0;k<w;++k)E+=h[v+k]<<8*k;u.Ra=E,u.bb=w,u.oa=h,u.pa=v}function Q(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<po-8>>>0,++u.bb,u.u-=8;G(u)&&(u.h=1,u.u=0)}function Z(u,h){if(t(0<=h),!u.h&&h<=fo){var v=B(u)&ho[h];return u.u+=h,Q(u),v}return u.h=1,u.u=0}function Ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(u){return u.Ra>>>(u.u&po-1)>>>0}function G(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>po}function ee(u,h){u.u=h,u.h=G(u)}function ae(u){u.u>=$l&&(t(u.u>=$l),Q(u))}function ce(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function ge(u){return $(u,1)}function me(u,h){var v=u.Ca;0>u.b&&ce(u);var w=u.b,k=v*h>>>8,E=(u.I>>>w>k)+0;for(E?(v-=k,u.I-=k+1<<w>>>0):v=k+1,w=v,k=0;256<=w;)k+=8,w>>=8;return w=7^k+Pn[w],u.b-=w,u.Ca=(v<<w)-1,E}function Le(u,h,v){u[h+0]=v>>24&255,u[h+1]=v>>16&255,u[h+2]=v>>8&255,u[h+3]=v>>0&255}function J(u,h){return u[h+0]<<0|u[h+1]<<8}function be(u,h){return J(u,h)|u[h+2]<<16}function xe(u,h){return J(u,h)|J(u,h+2)<<16}function ze(u,h){var v=1<<h;return t(u!=null),t(0<h),u.X=i(v),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function _e(u,h){t(u!=null),t(h!=null),t(u.Xa==h.Xa),n(h.X,0,u.X,0,1<<h.Xa)}function Y(){this.X=[],this.Xa=this.Mb=0}function dt(u,h,v,w){t(v!=null),t(w!=null);var k=v[0],E=w[0];return k==0&&(k=(u*E+h/2)/h),E==0&&(E=(h*k+u/2)/u),0>=k||0>=E?0:(v[0]=k,w[0]=E,1)}function et(u,h){return u+(1<<h)-1>>>h}function Ie(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function qe(u,h){U[h]=function(v,w,k,E,P,O,D){var V;for(V=0;V<P;++V){var ie=U[u](O[D+V-1],k,E+V);O[D+V]=Ie(v[w+V],ie)}}}function Ve(){this.ud=this.hd=this.jd=0}function $e(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function lt(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function bt(u,h){return lt(u+(u-h+.5>>1))}function Nt(u,h,v){return Math.abs(h-v)-Math.abs(u-v)}function Tt(u,h,v,w,k,E,P){for(w=E[P-1],v=0;v<k;++v)E[P+v]=w=Ie(u[h+v],w)}function Ft(u,h,v,w,k){var E;for(E=0;E<v;++E){var P=u[h+E],O=P>>8&255,D=16711935&(D=(D=16711935&P)+((O<<16)+O));w[k+E]=(4278255360&P)+D>>>0}}function Bt(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function ft(u,h,v,w,k,E){var P;for(P=0;P<w;++P){var O=h[v+P],D=O>>>8,V=O,ie=255&(ie=(ie=O>>>16)+((u.jd<<24>>24)*(D<<24>>24)>>>5));V=255&(V=(V=V+((u.hd<<24>>24)*(D<<24>>24)>>>5))+((u.ud<<24>>24)*(ie<<24>>24)>>>5)),k[E+P]=(4278255360&O)+(ie<<16)+V}}function jt(u,h,v,w,k){U[h]=function(E,P,O,D,V,ie,ve,ye,ue){for(D=ve;D<ye;++D)for(ve=0;ve<ue;++ve)V[ie++]=k(O[w(E[P++])])},U[u]=function(E,P,O,D,V,ie,ve){var ye=8>>E.b,ue=E.Ea,Pe=E.K[0],Se=E.w;if(8>ye)for(E=(1<<E.b)-1,Se=(1<<ye)-1;P<O;++P){var oe,le=0;for(oe=0;oe<ue;++oe)oe&E||(le=w(D[V++])),ie[ve++]=k(Pe[le&Se]),le>>=ye}else U["VP8LMapColor"+v](D,V,Pe,Se,ie,ve,P,O,ue)}}function We(u,h,v,w,k){for(v=h+v;h<v;){var E=u[h++];w[k++]=E>>16&255,w[k++]=E>>8&255,w[k++]=E>>0&255}}function dr(u,h,v,w,k){for(v=h+v;h<v;){var E=u[h++];w[k++]=E>>16&255,w[k++]=E>>8&255,w[k++]=E>>0&255,w[k++]=E>>24&255}}function It(u,h,v,w,k){for(v=h+v;h<v;){var E=(P=u[h++])>>16&240|P>>12&15,P=P>>0&240|P>>28&15;w[k++]=E,w[k++]=P}}function Lr(u,h,v,w,k){for(v=h+v;h<v;){var E=(P=u[h++])>>16&248|P>>13&7,P=P>>5&224|P>>3&31;w[k++]=E,w[k++]=P}}function ne(u,h,v,w,k){for(v=h+v;h<v;){var E=u[h++];w[k++]=E>>0&255,w[k++]=E>>8&255,w[k++]=E>>16&255}}function Ee(u,h,v,w,k,E){if(E==0)for(v=h+v;h<v;)Le(w,((E=u[h++])[0]>>24|E[1]>>8&65280|E[2]<<8&16711680|E[3]<<24)>>>0),k+=32;else n(w,k,u,h,v)}function X(u,h){U[h][0]=U[u+"0"],U[h][1]=U[u+"1"],U[h][2]=U[u+"2"],U[h][3]=U[u+"3"],U[h][4]=U[u+"4"],U[h][5]=U[u+"5"],U[h][6]=U[u+"6"],U[h][7]=U[u+"7"],U[h][8]=U[u+"8"],U[h][9]=U[u+"9"],U[h][10]=U[u+"10"],U[h][11]=U[u+"11"],U[h][12]=U[u+"12"],U[h][13]=U[u+"13"],U[h][14]=U[u+"0"],U[h][15]=U[u+"0"]}function we(u){return u==yf||u==bf||u==Iu||u==_f}function Be(){this.eb=[],this.size=this.A=this.fb=0}function Ye(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function st(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Be,this.f.kb=new Ye,this.sd=null}function ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Oe(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function He(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Ct(u,h){var v=u.T,w=h.ba.f.RGBA,k=w.eb,E=w.fb+u.ka*w.A,P=as[h.ba.S],O=u.y,D=u.O,V=u.f,ie=u.N,ve=u.ea,ye=u.W,ue=h.cc,Pe=h.dc,Se=h.Mc,oe=h.Nc,le=u.ka,ke=u.ka+u.T,Te=u.U,Ae=Te+1>>1;for(le==0?P(O,D,null,null,V,ie,ve,ye,V,ie,ve,ye,k,E,null,null,Te):(P(h.ec,h.fc,O,D,ue,Pe,Se,oe,V,ie,ve,ye,k,E-w.A,k,E,Te),++v);le+2<ke;le+=2)ue=V,Pe=ie,Se=ve,oe=ye,ie+=u.Rc,ye+=u.Rc,E+=2*w.A,P(O,(D+=2*u.fa)-u.fa,O,D,ue,Pe,Se,oe,V,ie,ve,ye,k,E-w.A,k,E,Te);return D+=u.fa,u.j+ke<u.o?(n(h.ec,h.fc,O,D,Te),n(h.cc,h.dc,V,ie,Ae),n(h.Mc,h.Nc,ve,ye,Ae),v--):1&ke||P(O,D,null,null,V,ie,ve,ye,V,ie,ve,ye,k,E+w.A,null,null,Te),v}function nt(u,h,v){var w=u.F,k=[u.J];if(w!=null){var E=u.U,P=h.ba.S,O=P==Tu||P==Iu;h=h.ba.f.RGBA;var D=[0],V=u.ka;D[0]=u.T,u.Kb&&(V==0?--D[0]:(--V,k[0]-=u.width),u.j+u.ka+u.T==u.o&&(D[0]=u.o-u.j-V));var ie=h.eb;V=h.fb+V*h.A,u=sr(w,k[0],u.width,E,D,ie,V+(O?0:3),h.A),t(v==D),u&&we(P)&&ss(ie,V,O,E,D,h.A)}return 0}function Qt(u){var h=u.ma,v=h.ba.S,w=11>v,k=v==Pu||v==Lu||v==Tu||v==vf||v==12||we(v);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!ql(h.Oa,u,k?11:12))return 0;if(k&&we(v)&&Re(),u.da)alert("todo:use_scaling");else{if(w){if(h.Ib=He,u.Kb){if(v=u.U+1>>1,h.memory=i(u.U+2*v),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+v,h.Ib=Ct,Re()}}else alert("todo:EmitYUV");k&&(h.Jb=nt,w&&fe())}if(w&&!S0){for(u=0;256>u;++u)q_[u]=89858*(u-128)+Ru>>Ou,V_[u]=-22014*(u-128)+Ru,$_[u]=-45773*(u-128),z_[u]=113618*(u-128)+Ru>>Ou;for(u=Jl;u<Nf;++u)h=76283*(u-16)+Ru>>Ou,G_[u-Jl]=Bn(h,255),W_[u-Jl]=Bn(h+8>>4,15);S0=1}return 1}function tn(u){var h=u.ma,v=u.U,w=u.T;return t(!(1&u.ka)),0>=v||0>=w?0:(v=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,v),h.Dc+=v,1)}function tr(u){u.ma.memory=null}function gt(u,h,v,w){return Z(u,8)!=47?0:(h[0]=Z(u,14)+1,v[0]=Z(u,14)+1,w[0]=Z(u,1),Z(u,3)!=0?0:!u.h)}function Je(u,h){if(4>u)return u+1;var v=u-2>>1;return(2+(1&u)<<v)+Z(h,v)+1}function Tr(u,h){return 120<h?h-120:1<=(v=((v=k_[h-1])>>4)*u+(8-(15&v)))?v:1;var v}function Hr(u,h,v){var w=B(v),k=u[h+=255&w].g-8;return 0<k&&(ee(v,v.u+8),w=B(v),h+=u[h].value,h+=w&(1<<k)-1),ee(v,v.u+u[h].g),u[h].value}function pe(u,h,v){return v.g+=u.g,v.value+=u.value<<h>>>0,t(8>=v.g),u.g}function Me(u,h,v){var w=u.xc;return t((h=w==0?0:u.vc[u.md*(v>>w)+(h>>w)])<u.Wb),u.Ya[h]}function Xe(u,h,v,w){var k=u.ab,E=u.c*h,P=u.C;h=P+h;var O=v,D=w;for(w=u.Ta,v=u.Ua;0<k--;){var V=u.gc[k],ie=P,ve=h,ye=O,ue=D,Pe=(D=w,O=v,V.Ea);switch(t(ie<ve),t(ve<=V.nc),V.hc){case 2:Nu(ye,ue,(ve-ie)*Pe,D,O);break;case 0:var Se=ie,oe=ve,le=D,ke=O,Te=(Ke=V).Ea;Se==0&&(mf(ye,ue,null,null,1,le,ke),Tt(ye,ue+1,0,0,Te-1,le,ke+1),ue+=Te,ke+=Te,++Se);for(var Ae=1<<Ke.b,tt=Ae-1,Ge=et(Te,Ke.b),_t=Ke.K,Ke=Ke.w+(Se>>Ke.b)*Ge;Se<oe;){var Vt=_t,Gt=Ke,zt=1;for(Vl(ye,ue,le,ke-Te,1,le,ke);zt<Te;){var Ut=(zt&~tt)+Ae;Ut>Te&&(Ut=Te),(0,ki[Vt[Gt++]>>8&15])(ye,ue+ +zt,le,ke+zt-Te,Ut-zt,le,ke+zt),zt=Ut}ue+=Te,ke+=Te,++Se&tt||(Ke+=Ge)}ve!=V.nc&&n(D,O-Pe,D,O+(ve-ie-1)*Pe,Pe);break;case 1:for(Pe=ye,oe=ue,Te=(ye=V.Ea)-(ke=ye&~(le=(ue=1<<V.b)-1)),Se=et(ye,V.b),Ae=V.K,V=V.w+(ie>>V.b)*Se;ie<ve;){for(tt=Ae,Ge=V,_t=new Ve,Ke=oe+ke,Vt=oe+ye;oe<Ke;)Bt(tt[Ge++],_t),Na(_t,Pe,oe,ue,D,O),oe+=ue,O+=ue;oe<Vt&&(Bt(tt[Ge++],_t),Na(_t,Pe,oe,Te,D,O),oe+=Te,O+=Te),++ie&le||(V+=Se)}break;case 3:if(ye==D&&ue==O&&0<V.b){for(oe=D,ye=Pe=O+(ve-ie)*Pe-(ke=(ve-ie)*et(V.Ea,V.b)),ue=D,le=O,Se=[],ke=(Te=ke)-1;0<=ke;--ke)Se[ke]=ue[le+ke];for(ke=Te-1;0<=ke;--ke)oe[ye+ke]=Se[ke];ts(V,ie,ve,D,Pe,D,O)}else ts(V,ie,ve,ye,ue,D,O)}O=w,D=v}D!=v&&n(w,v,O,D,E)}function Fe(u,h){var v=u.V,w=u.Ba+u.c*u.C,k=h-u.C;if(t(h<=u.l.o),t(16>=k),0<k){var E=u.l,P=u.Ta,O=u.Ua,D=E.width;if(Xe(u,k,v,w),k=O=[O],t((v=u.C)<(w=h)),t(E.v<E.va),w>E.o&&(w=E.o),v<E.j){var V=E.j-v;v=E.j,k[0]+=V*D}if(v>=w?v=0:(k[0]+=4*E.v,E.ka=v-E.j,E.U=E.va-E.v,E.T=w-v,v=1),v){if(O=O[0],11>(v=u.ca).S){var ie=v.f.RGBA,ve=(w=v.S,k=E.U,E=E.T,V=ie.eb,ie.A),ye=E;for(ie=ie.fb+u.Ma*ie.A;0<ye--;){var ue=P,Pe=O,Se=k,oe=V,le=ie;switch(w){case Eu:Ln(ue,Pe,Se,oe,le);break;case Pu:_n(ue,Pe,Se,oe,le);break;case yf:_n(ue,Pe,Se,oe,le),ss(oe,le,0,Se,1,0);break;case m0:ei(ue,Pe,Se,oe,le);break;case Lu:Ee(ue,Pe,Se,oe,le,1);break;case bf:Ee(ue,Pe,Se,oe,le,1),ss(oe,le,0,Se,1,0);break;case Tu:Ee(ue,Pe,Se,oe,le,0);break;case Iu:Ee(ue,Pe,Se,oe,le,0),ss(oe,le,1,Se,1,0);break;case vf:Ai(ue,Pe,Se,oe,le);break;case _f:Ai(ue,Pe,Se,oe,le),nr(oe,le,Se,1,0);break;case g0:Zs(ue,Pe,Se,oe,le);break;default:t(0)}O+=D,ie+=ve}u.Ma+=E}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=v.height)}}u.C=h,t(u.C<=u.i)}function pt(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var v=u.Ya[h].G,w=u.Ya[h].H;if(0<v[1][w[1]+0].g||0<v[2][w[2]+0].g||0<v[3][w[3]+0].g)return 0}return 1}function De(u,h,v,w,k,E){if(u.Z!=0){var P=u.qd,O=u.rd;for(t(Ti[u.Z]!=null);h<v;++h)Ti[u.Z](P,O,w,k,w,k,E),P=w,O=k,k+=E;u.qd=P,u.rd=O}}function vt(u,h){var v=u.l.ma,w=v.Z==0||v.Z==1?u.l.j:u.C;if(w=u.C<w?w:u.C,t(h<=u.l.o),h>w){var k=u.l.width,E=v.ca,P=v.tb+k*w,O=u.V,D=u.Ba+u.c*w,V=u.gc;t(u.ab==1),t(V[0].hc==3),Su(V[0],w,h,O,D,E,P),De(v,w,h,E,P,k)}u.C=u.Ma=h}function yt(u,h,v,w,k,E,P){var O=u.$/w,D=u.$%w,V=u.m,ie=u.s,ve=v+u.$,ye=ve;k=v+w*k;var ue=v+w*E,Pe=280+ie.ua,Se=u.Pb?O:16777216,oe=0<ie.ua?ie.Wa:null,le=ie.wc,ke=ve<ue?Me(ie,D,O):null;t(u.C<E),t(ue<=k);var Te=!1;e:for(;;){for(;Te||ve<ue;){var Ae=0;if(O>=Se){var tt=ve-v;t((Se=u).Pb),Se.wd=Se.m,Se.xd=tt,0<Se.s.ua&&_e(Se.s.Wa,Se.s.vb),Se=O+E_}if(D&le||(ke=Me(ie,D,O)),t(ke!=null),ke.Qb&&(h[ve]=ke.qb,Te=!0),!Te)if(ae(V),ke.jc){Ae=V,tt=h;var Ge=ve,_t=ke.pd[B(Ae)&rn-1];t(ke.jc),256>_t.g?(ee(Ae,Ae.u+_t.g),tt[Ge]=_t.value,Ae=0):(ee(Ae,Ae.u+_t.g-256),t(256<=_t.value),Ae=_t.value),Ae==0&&(Te=!0)}else Ae=Hr(ke.G[0],ke.H[0],V);if(V.h)break;if(Te||256>Ae){if(!Te)if(ke.nd)h[ve]=(ke.qb|Ae<<8)>>>0;else{if(ae(V),Te=Hr(ke.G[1],ke.H[1],V),ae(V),tt=Hr(ke.G[2],ke.H[2],V),Ge=Hr(ke.G[3],ke.H[3],V),V.h)break;h[ve]=(Ge<<24|Te<<16|Ae<<8|tt)>>>0}if(Te=!1,++ve,++D>=w&&(D=0,++O,P!=null&&O<=E&&!(O%16)&&P(u,O),oe!=null))for(;ye<ve;)Ae=h[ye++],oe.X[(506832829*Ae&4294967295)>>>oe.Mb]=Ae}else if(280>Ae){if(Ae=Je(Ae-256,V),tt=Hr(ke.G[4],ke.H[4],V),ae(V),tt=Tr(w,tt=Je(tt,V)),V.h)break;if(ve-v<tt||k-ve<Ae)break e;for(Ge=0;Ge<Ae;++Ge)h[ve+Ge]=h[ve+Ge-tt];for(ve+=Ae,D+=Ae;D>=w;)D-=w,++O,P!=null&&O<=E&&!(O%16)&&P(u,O);if(t(ve<=k),D&le&&(ke=Me(ie,D,O)),oe!=null)for(;ye<ve;)Ae=h[ye++],oe.X[(506832829*Ae&4294967295)>>>oe.Mb]=Ae}else{if(!(Ae<Pe))break e;for(Te=Ae-280,t(oe!=null);ye<ve;)Ae=h[ye++],oe.X[(506832829*Ae&4294967295)>>>oe.Mb]=Ae;Ae=ve,t(!(Te>>>(tt=oe).Xa)),h[Ae]=tt.X[Te],Te=!0}Te||t(V.h==G(V))}if(u.Pb&&V.h&&ve<k)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&_e(u.s.vb,u.s.Wa);else{if(V.h)break e;P!=null&&P(u,O>E?E:O),u.a=0,u.$=ve-v}return 1}return u.a=3,0}function Dt(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,t(u!=null)}function wt(){var u=new pf;return u==null?null:(u.a=0,u.xb=b0,X("Predictor","VP8LPredictors"),X("Predictor","VP8LPredictors_C"),X("PredictorAdd","VP8LPredictorsAdd"),X("PredictorAdd","VP8LPredictorsAdd_C"),Nu=Ft,Na=ft,Ln=We,_n=dr,Ai=It,Zs=Lr,ei=ne,U.VP8LMapColor32b=mo,U.VP8LMapColor8b=ju,u)}function rr(u,h,v,w,k){var E=1,P=[u],O=[h],D=w.m,V=w.s,ie=null,ve=0;e:for(;;){if(v)for(;E&&Z(D,1);){var ye=P,ue=O,Pe=w,Se=1,oe=Pe.m,le=Pe.gc[Pe.ab],ke=Z(oe,2);if(Pe.Oc&1<<ke)E=0;else{switch(Pe.Oc|=1<<ke,le.hc=ke,le.Ea=ye[0],le.nc=ue[0],le.K=[null],++Pe.ab,t(4>=Pe.ab),ke){case 0:case 1:le.b=Z(oe,3)+2,Se=rr(et(le.Ea,le.b),et(le.nc,le.b),0,Pe,le.K),le.K=le.K[0];break;case 3:var Te,Ae=Z(oe,8)+1,tt=16<Ae?0:4<Ae?1:2<Ae?2:3;if(ye[0]=et(le.Ea,tt),le.b=tt,Te=Se=rr(Ae,1,0,Pe,le.K)){var Ge,_t=Ae,Ke=le,Vt=1<<(8>>Ke.b),Gt=i(Vt);if(Gt==null)Te=0;else{var zt=Ke.K[0],Ut=Ke.w;for(Gt[0]=Ke.K[0][0],Ge=1;Ge<1*_t;++Ge)Gt[Ge]=Ie(zt[Ut+Ge],Gt[Ge-1]);for(;Ge<4*Vt;++Ge)Gt[Ge]=0;Ke.K[0]=null,Ke.K[0]=Gt,Te=1}}Se=Te;break;case 2:break;default:t(0)}E=Se}}if(P=P[0],O=O[0],E&&Z(D,1)&&!(E=1<=(ve=Z(D,4))&&11>=ve)){w.a=3;break e}var Zt;if(Zt=E)t:{var Jt,Rt,Fr,Tn=w,Dr=P,In=O,Wt=ve,zn=v,$n=Tn.m,Jr=Tn.s,nn=[null],xn=1,os=0,Us=A_[Wt];r:for(;;){if(zn&&Z($n,1)){var Xr=Z($n,3)+2,si=et(Dr,Xr),Aa=et(In,Xr),_o=si*Aa;if(!rr(si,Aa,0,Tn,nn))break r;for(nn=nn[0],Jr.xc=Xr,Jt=0;Jt<_o;++Jt){var Ii=nn[Jt]>>8&65535;nn[Jt]=Ii,Ii>=xn&&(xn=Ii+1)}}if($n.h)break r;for(Rt=0;5>Rt;++Rt){var br=v0[Rt];!Rt&&0<Wt&&(br+=1<<Wt),os<br&&(os=br)}var Sf=a(xn*Us,M),k0=xn,A0=a(k0,q);if(A0==null)var Du=null;else t(65536>=k0),Du=A0;var Xl=i(os);if(Du==null||Xl==null||Sf==null){Tn.a=1;break r}var Mu=Sf;for(Jt=Fr=0;Jt<xn;++Jt){var bs=Du[Jt],wo=bs.G,xo=bs.H,E0=0,Uu=1,P0=0;for(Rt=0;5>Rt;++Rt){br=v0[Rt],wo[Rt]=Mu,xo[Rt]=Fr,!Rt&&0<Wt&&(br+=1<<Wt);s:{var Bu,jf=br,qu=Tn,Ql=Xl,K_=Mu,J_=Fr,Cf=0,Oi=qu.m,X_=Z(Oi,1);if(s(Ql,0,0,jf),X_){var Q_=Z(Oi,1)+1,Z_=Z(Oi,1),L0=Z(Oi,Z_==0?1:8);Ql[L0]=1,Q_==2&&(Ql[L0=Z(Oi,8)]=1);var zu=1}else{var T0=i(19),I0=Z(Oi,4)+4;if(19<I0){qu.a=3;var $u=0;break s}for(Bu=0;Bu<I0;++Bu)T0[C_[Bu]]=Z(Oi,3);var kf=void 0,Zl=void 0,O0=qu,ew=T0,Vu=jf,R0=Ql,Af=0,Ri=O0.m,F0=8,D0=a(128,M);n:for(;L(D0,0,7,ew,19);){if(Z(Ri,1)){var tw=2+2*Z(Ri,3);if((kf=2+Z(Ri,tw))>Vu)break n}else kf=Vu;for(Zl=0;Zl<Vu&&kf--;){ae(Ri);var M0=D0[0+(127&B(Ri))];ee(Ri,Ri.u+M0.g);var No=M0.value;if(16>No)R0[Zl++]=No,No!=0&&(F0=No);else{var rw=No==16,U0=No-16,nw=S_[U0],B0=Z(Ri,N_[U0])+nw;if(Zl+B0>Vu)break n;for(var sw=rw?F0:0;0<B0--;)R0[Zl++]=sw}}Af=1;break n}Af||(O0.a=3),zu=Af}(zu=zu&&!Oi.h)&&(Cf=L(K_,J_,8,Ql,jf)),zu&&Cf!=0?$u=Cf:(qu.a=3,$u=0)}if($u==0)break r;if(Uu&&j_[Rt]==1&&(Uu=Mu[Fr].g==0),E0+=Mu[Fr].g,Fr+=$u,3>=Rt){var ec,Ef=Xl[0];for(ec=1;ec<br;++ec)Xl[ec]>Ef&&(Ef=Xl[ec]);P0+=Ef}}if(bs.nd=Uu,bs.Qb=0,Uu&&(bs.qb=(wo[3][xo[3]+0].value<<24|wo[1][xo[1]+0].value<<16|wo[2][xo[2]+0].value)>>>0,E0==0&&256>wo[0][xo[0]+0].value&&(bs.Qb=1,bs.qb+=wo[0][xo[0]+0].value<<8)),bs.jc=!bs.Qb&&6>P0,bs.jc){var Gu,ii=bs;for(Gu=0;Gu<rn;++Gu){var Fi=Gu,Di=ii.pd[Fi],Wu=ii.G[0][ii.H[0]+Fi];256<=Wu.value?(Di.g=Wu.g+256,Di.value=Wu.value):(Di.g=0,Di.value=0,Fi>>=pe(Wu,8,Di),Fi>>=pe(ii.G[1][ii.H[1]+Fi],16,Di),Fi>>=pe(ii.G[2][ii.H[2]+Fi],0,Di),pe(ii.G[3][ii.H[3]+Fi],24,Di))}}}Jr.vc=nn,Jr.Wb=xn,Jr.Ya=Du,Jr.yc=Sf,Zt=1;break t}Zt=0}if(!(E=Zt)){w.a=3;break e}if(0<ve){if(V.ua=1<<ve,!ze(V.Wa,ve)){w.a=1,E=0;break e}}else V.ua=0;var Pf=w,q0=P,iw=O,Lf=Pf.s,Tf=Lf.xc;if(Pf.c=q0,Pf.i=iw,Lf.md=et(q0,Tf),Lf.wc=Tf==0?-1:(1<<Tf)-1,v){w.xb=F_;break e}if((ie=i(P*O))==null){w.a=1,E=0;break e}E=(E=yt(w,ie,0,P,O,O,null))&&!D.h;break e}return E?(k!=null?k[0]=ie:(t(ie==null),t(v)),w.$=0,v||Dt(V)):Dt(V),E}function Ir(u,h){var v=u.c*u.i,w=v+h+16*h;return t(u.c<=h),u.V=i(w),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+v+h,1)}function qr(u,h){var v=u.C,w=h-v,k=u.V,E=u.Ba+u.c*v;for(t(h<=u.l.o);0<w;){var P=16<w?16:w,O=u.l.ma,D=u.l.width,V=D*P,ie=O.ca,ve=O.tb+D*v,ye=u.Ta,ue=u.Ua;Xe(u,P,k,E),jr(ye,ue,ie,ve,V),De(O,v,v+P,ie,ve,D),w-=P,k+=P*u.c,v+=P}t(v==h),u.C=u.Ma=h}function or(){this.ub=this.yd=this.td=this.Rb=0}function xr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Yr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Or(){this.Yb=function(){var u=[];return function h(v,w,k){for(var E=k[w],P=0;P<E&&(v.push(k.length>w+1?[]:0),!(k.length<w+1));P++)h(v[P],w+1,k)}(u,0,[3,11]),u}()}function wi(){this.jb=i(3),this.Wc=l([4,8],Or),this.Xc=l([4,17],Or)}function xi(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function zr(){this.ld=this.La=this.dd=this.tc=0}function ya(){this.Na=this.la=0}function jl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ni(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Kt(){this.uc=this.M=this.Nb=0,this.wa=Array(new zr),this.Y=0,this.ya=Array(new Ni),this.aa=0,this.l=new eo}function An(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Yh(){this.cb=this.a=0,this.sc="",this.m=new Ne,this.Od=new or,this.Kc=new xr,this.ed=new xi,this.Qa=new Yr,this.Ic=this.$c=this.Aa=0,this.D=new Kt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Ne),this.ia=0,this.pb=a(4,jl),this.Pa=new wi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new An),this.Hd=0,this.rb=Array(new ya),this.sb=0,this.wa=Array(new zr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ni),this.L=this.aa=0,this.gd=l([4,2],zr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function eo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Kh(){var u=new Yh;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Kl||(Kl=lu)),u}function Nr(u,h,v){return u.a==0&&(u.a=h,u.sc=v,u.cb=0),0}function au(u,h,v){return 3<=v&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function ou(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return Nr(u,2,"null VP8Io passed to VP8GetHeaders()");var v=h.data,w=h.w,k=h.ha;if(4>k)return Nr(u,7,"Truncated header.");var E=v[w+0]|v[w+1]<<8|v[w+2]<<16,P=u.Od;if(P.Rb=!(1&E),P.td=E>>1&7,P.yd=E>>4&1,P.ub=E>>5,3<P.td)return Nr(u,3,"Incorrect keyframe parameters.");if(!P.yd)return Nr(u,4,"Frame not displayable.");w+=3,k-=3;var O=u.Kc;if(P.Rb){if(7>k)return Nr(u,7,"cannot parse picture header");if(!au(v,w,k))return Nr(u,3,"Bad code word");O.c=16383&(v[w+4]<<8|v[w+3]),O.Td=v[w+4]>>6,O.i=16383&(v[w+6]<<8|v[w+5]),O.Ud=v[w+6]>>6,w+=7,k-=7,u.za=O.c+15>>4,u.Ub=O.i+15>>4,h.width=O.c,h.height=O.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,s((E=u.Pa).jb,0,255,E.jb.length),t((E=u.Qa)!=null),E.Cb=0,E.Bb=0,E.Fb=1,s(E.Zb,0,0,E.Zb.length),s(E.Lb,0,0,E.Lb)}if(P.ub>k)return Nr(u,7,"bad partition length");he(E=u.m,v,w,P.ub),w+=P.ub,k-=P.ub,P.Rb&&(O.Ld=ge(E),O.Kd=ge(E)),O=u.Qa;var D,V=u.Pa;if(t(E!=null),t(O!=null),O.Cb=ge(E),O.Cb){if(O.Bb=ge(E),ge(E)){for(O.Fb=ge(E),D=0;4>D;++D)O.Zb[D]=ge(E)?de(E,7):0;for(D=0;4>D;++D)O.Lb[D]=ge(E)?de(E,6):0}if(O.Bb)for(D=0;3>D;++D)V.jb[D]=ge(E)?$(E,8):255}else O.Bb=0;if(E.Ka)return Nr(u,3,"cannot parse segment header");if((O=u.ed).zd=ge(E),O.Tb=$(E,6),O.wb=$(E,3),O.Pc=ge(E),O.Pc&&ge(E)){for(V=0;4>V;++V)ge(E)&&(O.vd[V]=de(E,6));for(V=0;4>V;++V)ge(E)&&(O.od[V]=de(E,6))}if(u.L=O.Tb==0?0:O.zd?1:2,E.Ka)return Nr(u,3,"cannot parse filter header");var ie=k;if(k=D=w,w=D+ie,O=ie,u.Xb=(1<<$(u.m,2))-1,ie<3*(V=u.Xb))v=7;else{for(D+=3*V,O-=3*V,ie=0;ie<V;++ie){var ve=v[k+0]|v[k+1]<<8|v[k+2]<<16;ve>O&&(ve=O),he(u.Jc[+ie],v,D,ve),D+=ve,O-=ve,k+=3}he(u.Jc[+V],v,D,O),v=D<w?0:5}if(v!=0)return Nr(u,v,"cannot parse partitions");for(v=$(D=u.m,7),k=ge(D)?de(D,4):0,w=ge(D)?de(D,4):0,O=ge(D)?de(D,4):0,V=ge(D)?de(D,4):0,D=ge(D)?de(D,4):0,ie=u.Qa,ve=0;4>ve;++ve){if(ie.Cb){var ye=ie.Zb[ve];ie.Fb||(ye+=v)}else{if(0<ve){u.pb[ve]=u.pb[0];continue}ye=v}var ue=u.pb[ve];ue.Sc[0]=wf[Bn(ye+k,127)],ue.Sc[1]=xf[Bn(ye+0,127)],ue.Eb[0]=2*wf[Bn(ye+w,127)],ue.Eb[1]=101581*xf[Bn(ye+O,127)]>>16,8>ue.Eb[1]&&(ue.Eb[1]=8),ue.Qc[0]=wf[Bn(ye+V,117)],ue.Qc[1]=xf[Bn(ye+D,127)],ue.lc=ye+D}if(!P.Rb)return Nr(u,4,"Not a key frame.");for(ge(E),P=u.Pa,v=0;4>v;++v){for(k=0;8>k;++k)for(w=0;3>w;++w)for(O=0;11>O;++O)V=me(E,O_[v][k][w][O])?$(E,8):T_[v][k][w][O],P.Wc[v][k].Yb[w][O]=V;for(k=0;17>k;++k)P.Xc[v][k]=P.Wc[v][R_[k]]}return u.kc=ge(E),u.kc&&(u.Bd=$(E,8)),u.cb=1}function lu(u,h,v,w,k,E,P){var O=h[k].Yb[v];for(v=0;16>k;++k){if(!me(u,O[v+0]))return k;for(;!me(u,O[v+1]);)if(O=h[++k].Yb[0],v=0,k==16)return 16;var D=h[k+1].Yb;if(me(u,O[v+2])){var V=u,ie=0;if(me(V,(ye=O)[(ve=v)+3]))if(me(V,ye[ve+6])){for(O=0,ve=2*(ie=me(V,ye[ve+8]))+(ye=me(V,ye[ve+9+ie])),ie=0,ye=P_[ve];ye[O];++O)ie+=ie+me(V,ye[O]);ie+=3+(8<<ve)}else me(V,ye[ve+7])?(ie=7+2*me(V,165),ie+=me(V,145)):ie=5+me(V,159);else ie=me(V,ye[ve+4])?3+me(V,ye[ve+5]):2;O=D[2]}else ie=1,O=D[1];D=P+L_[k],0>(V=u).b&&ce(V);var ve,ye=V.b,ue=(ve=V.Ca>>1)-(V.I>>ye)>>31;--V.b,V.Ca+=ue,V.Ca|=1,V.I-=(ve+1&ue)<<ye,E[D]=((ie^ue)-ue)*w[(0<k)+0]}return 16}function Cl(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,s(u.zc,0,0,u.zc.length),u.ja=0}function Jh(u,h){if(u==null)return 0;if(h==null)return Nr(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!ou(u,h))return 0;if(t(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var v=Fu[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-v>>4,u.zb=h.j-v>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+v>>4,u.Hb=h.va+15+v>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var w=u.ed;for(v=0;4>v;++v){var k;if(u.Qa.Cb){var E=u.Qa.Lb[v];u.Qa.Fb||(E+=w.Tb)}else E=w.Tb;for(k=0;1>=k;++k){var P=u.gd[v][k],O=E;if(w.Pc&&(O+=w.vd[0],k&&(O+=w.od[0])),0<(O=0>O?0:63<O?63:O)){var D=O;0<w.wb&&(D=4<w.wb?D>>2:D>>1)>9-w.wb&&(D=9-w.wb),1>D&&(D=1),P.dd=D,P.tc=2*O+D,P.ld=40<=O?2:15<=O?1:0}else P.tc=0;P.La=k}}}v=0}else Nr(u,6,"Frame setup failed"),v=u.a;if(v=v==0){if(v){u.$c=0,0<u.Aa||(u.Ic=Y_);e:{v=u.Ic,w=4*(D=u.za);var V=32*D,ie=D+1,ve=0<u.L?D*(0<u.Aa?2:1):0,ye=(u.Aa==2?2:1)*D;if((P=w+832+(k=3*(16*v+Fu[u.L])/2*V)+(E=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=P)v=0;else{if(P>u.Vb){if(u.Vb=0,u.Ec=i(P),u.Fc=0,u.Ec==null){v=Nr(u,1,"no memory during frame initialization.");break e}u.Vb=P}P=u.Ec,O=u.Fc,u.Ac=P,u.Bc=O,O+=w,u.Gd=a(V,An),u.Hd=0,u.rb=a(ie+1,ya),u.sb=1,u.wa=ve?a(ve,zr):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=D),t(!0),u.oc=P,u.pc=O,O+=832,u.ya=a(ye,Ni),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=D),u.R=16*D,u.B=8*D,D=(V=Fu[u.L])*u.R,V=V/2*u.B,u.sa=P,u.ta=O+D,u.qa=u.sa,u.ra=u.ta+16*v*u.R+V,u.Ha=u.qa,u.Ia=u.ra+8*v*u.B+V,u.$c=0,O+=k,u.mb=E?P:null,u.nb=E?O:null,t(O+E<=u.Fc+u.Vb),Cl(u),s(u.Ac,u.Bc,0,w),v=1}}if(v){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!ku){for(v=-255;255>=v;++v)$r[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)ri[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)Yl[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)bo[255+v]=0>v?0:255<v?255:v;ku=1}go=Zh,ti=Xh,Gl=uu,wn=Qh,rs=du,Sr=cu,vo=Tl,Cu=wa,Wl=ff,Sa=Il,ja=hf,Ei=ao,Ca=Ol,yo=_u,ka=bu,Pi=Ds,Hl=Qs,ns=df,ys[0]=Fs,ys[1]=ef,ys[2]=sf,ys[3]=af,ys[4]=pu,ys[5]=so,ys[6]=mu,ys[7]=El,ys[8]=lf,ys[9]=of,Li[0]=hu,Li[1]=rf,Li[2]=Xs,Li[3]=ro,Li[4]=cn,Li[5]=nf,Li[6]=fu,ni[0]=Si,ni[1]=tf,ni[2]=cf,ni[3]=Pl,ni[4]=_a,ni[5]=uf,ni[6]=Ll,v=1}else v=0}v&&(v=function(ue,Pe){for(ue.M=0;ue.M<ue.Va;++ue.M){var Se,oe=ue.Jc[ue.M&ue.Xb],le=ue.m,ke=ue;for(Se=0;Se<ke.za;++Se){var Te=le,Ae=ke,tt=Ae.Ac,Ge=Ae.Bc+4*Se,_t=Ae.zc,Ke=Ae.ya[Ae.aa+Se];if(Ae.Qa.Bb?Ke.$b=me(Te,Ae.Pa.jb[0])?2+me(Te,Ae.Pa.jb[2]):me(Te,Ae.Pa.jb[1]):Ke.$b=0,Ae.kc&&(Ke.Ad=me(Te,Ae.Bd)),Ke.Za=!me(Te,145)+0,Ke.Za){var Vt=Ke.Ob,Gt=0;for(Ae=0;4>Ae;++Ae){var zt,Ut=_t[0+Ae];for(zt=0;4>zt;++zt){Ut=I_[tt[Ge+zt]][Ut];for(var Zt=y0[me(Te,Ut[0])];0<Zt;)Zt=y0[2*Zt+me(Te,Ut[Zt])];Ut=-Zt,tt[Ge+zt]=Ut}n(Vt,Gt,tt,Ge,4),Gt+=4,_t[0+Ae]=Ut}}else Ut=me(Te,156)?me(Te,128)?1:3:me(Te,163)?2:0,Ke.Ob[0]=Ut,s(tt,Ge,Ut,4),s(_t,0,Ut,4);Ke.Dd=me(Te,142)?me(Te,114)?me(Te,183)?1:3:2:0}if(ke.m.Ka)return Nr(ue,7,"Premature end-of-partition0 encountered.");for(;ue.ja<ue.za;++ue.ja){if(ke=oe,Te=(le=ue).rb[le.sb-1],tt=le.rb[le.sb+le.ja],Se=le.ya[le.aa+le.ja],Ge=le.kc?Se.Ad:0)Te.la=tt.la=0,Se.Za||(Te.Na=tt.Na=0),Se.Hc=0,Se.Gc=0,Se.ia=0;else{var Jt,Rt;if(Te=tt,tt=ke,Ge=le.Pa.Xc,_t=le.ya[le.aa+le.ja],Ke=le.pb[_t.$b],Ae=_t.ad,Vt=0,Gt=le.rb[le.sb-1],Ut=zt=0,s(Ae,Vt,0,384),_t.Za)var Fr=0,Tn=Ge[3];else{Zt=i(16);var Dr=Te.Na+Gt.Na;if(Dr=Kl(tt,Ge[1],Dr,Ke.Eb,0,Zt,0),Te.Na=Gt.Na=(0<Dr)+0,1<Dr)go(Zt,0,Ae,Vt);else{var In=Zt[0]+3>>3;for(Zt=0;256>Zt;Zt+=16)Ae[Vt+Zt]=In}Fr=1,Tn=Ge[0]}var Wt=15&Te.la,zn=15&Gt.la;for(Zt=0;4>Zt;++Zt){var $n=1&zn;for(In=Rt=0;4>In;++In)Wt=Wt>>1|($n=(Dr=Kl(tt,Tn,Dr=$n+(1&Wt),Ke.Sc,Fr,Ae,Vt))>Fr)<<7,Rt=Rt<<2|(3<Dr?3:1<Dr?2:Ae[Vt+0]!=0),Vt+=16;Wt>>=4,zn=zn>>1|$n<<7,zt=(zt<<8|Rt)>>>0}for(Tn=Wt,Fr=zn>>4,Jt=0;4>Jt;Jt+=2){for(Rt=0,Wt=Te.la>>4+Jt,zn=Gt.la>>4+Jt,Zt=0;2>Zt;++Zt){for($n=1&zn,In=0;2>In;++In)Dr=$n+(1&Wt),Wt=Wt>>1|($n=0<(Dr=Kl(tt,Ge[2],Dr,Ke.Qc,0,Ae,Vt)))<<3,Rt=Rt<<2|(3<Dr?3:1<Dr?2:Ae[Vt+0]!=0),Vt+=16;Wt>>=2,zn=zn>>1|$n<<5}Ut|=Rt<<4*Jt,Tn|=Wt<<4<<Jt,Fr|=(240&zn)<<Jt}Te.la=Tn,Gt.la=Fr,_t.Hc=zt,_t.Gc=Ut,_t.ia=43690&Ut?0:Ke.ia,Ge=!(zt|Ut)}if(0<le.L&&(le.wa[le.Y+le.ja]=le.gd[Se.$b][Se.Za],le.wa[le.Y+le.ja].La|=!Ge),ke.Ka)return Nr(ue,7,"Premature end-of-file encountered.")}if(Cl(ue),le=Pe,ke=1,Se=(oe=ue).D,Te=0<oe.L&&oe.M>=oe.zb&&oe.M<=oe.Va,oe.Aa==0)e:{if(Se.M=oe.M,Se.uc=Te,Bl(oe,Se),ke=1,Se=(Rt=oe.D).Nb,Te=(Ut=Fu[oe.L])*oe.R,tt=Ut/2*oe.B,Zt=16*Se*oe.R,In=8*Se*oe.B,Ge=oe.sa,_t=oe.ta-Te+Zt,Ke=oe.qa,Ae=oe.ra-tt+In,Vt=oe.Ha,Gt=oe.Ia-tt+In,zn=(Wt=Rt.M)==0,zt=Wt>=oe.Va-1,oe.Aa==2&&Bl(oe,Rt),Rt.uc)for($n=(Dr=oe).D.M,t(Dr.D.uc),Rt=Dr.yb;Rt<Dr.Hb;++Rt){Fr=Rt,Tn=$n;var Jr=(nn=(br=Dr).D).Nb;Jt=br.R;var nn=nn.wa[nn.Y+Fr],xn=br.sa,os=br.ta+16*Jr*Jt+16*Fr,Us=nn.dd,Xr=nn.tc;if(Xr!=0)if(t(3<=Xr),br.L==1)0<Fr&&Pi(xn,os,Jt,Xr+4),nn.La&&ns(xn,os,Jt,Xr),0<Tn&&ka(xn,os,Jt,Xr+4),nn.La&&Hl(xn,os,Jt,Xr);else{var si=br.B,Aa=br.qa,_o=br.ra+8*Jr*si+8*Fr,Ii=br.Ha,br=br.Ia+8*Jr*si+8*Fr;Jr=nn.ld,0<Fr&&(Cu(xn,os,Jt,Xr+4,Us,Jr),Sa(Aa,_o,Ii,br,si,Xr+4,Us,Jr)),nn.La&&(Ei(xn,os,Jt,Xr,Us,Jr),yo(Aa,_o,Ii,br,si,Xr,Us,Jr)),0<Tn&&(vo(xn,os,Jt,Xr+4,Us,Jr),Wl(Aa,_o,Ii,br,si,Xr+4,Us,Jr)),nn.La&&(ja(xn,os,Jt,Xr,Us,Jr),Ca(Aa,_o,Ii,br,si,Xr,Us,Jr))}}if(oe.ia&&alert("todo:DitherRow"),le.put!=null){if(Rt=16*Wt,Wt=16*(Wt+1),zn?(le.y=oe.sa,le.O=oe.ta+Zt,le.f=oe.qa,le.N=oe.ra+In,le.ea=oe.Ha,le.W=oe.Ia+In):(Rt-=Ut,le.y=Ge,le.O=_t,le.f=Ke,le.N=Ae,le.ea=Vt,le.W=Gt),zt||(Wt-=Ut),Wt>le.o&&(Wt=le.o),le.F=null,le.J=null,oe.Fa!=null&&0<oe.Fa.length&&Rt<Wt&&(le.J=Ml(oe,le,Rt,Wt-Rt),le.F=oe.mb,le.F==null&&le.F.length==0)){ke=Nr(oe,3,"Could not decode alpha data.");break e}Rt<le.j&&(Ut=le.j-Rt,Rt=le.j,t(!(1&Ut)),le.O+=oe.R*Ut,le.N+=oe.B*(Ut>>1),le.W+=oe.B*(Ut>>1),le.F!=null&&(le.J+=le.width*Ut)),Rt<Wt&&(le.O+=le.v,le.N+=le.v>>1,le.W+=le.v>>1,le.F!=null&&(le.J+=le.v),le.ka=Rt-le.j,le.U=le.va-le.v,le.T=Wt-Rt,ke=le.put(le))}Se+1!=oe.Ic||zt||(n(oe.sa,oe.ta-Te,Ge,_t+16*oe.R,Te),n(oe.qa,oe.ra-tt,Ke,Ae+8*oe.B,tt),n(oe.Ha,oe.Ia-tt,Vt,Gt+8*oe.B,tt))}if(!ke)return Nr(ue,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),v&=1}return v?(u.cb=0,v):0}function ms(u,h,v,w,k){k=u[h+v+32*w]+(k>>3),u[h+v+32*w]=-256&k?0>k?0:255:k}function to(u,h,v,w,k,E){ms(u,h,0,v,w+k),ms(u,h,1,v,w+E),ms(u,h,2,v,w-E),ms(u,h,3,v,w-k)}function En(u){return(20091*u>>16)+u}function kl(u,h,v,w){var k,E=0,P=i(16);for(k=0;4>k;++k){var O=u[h+0]+u[h+8],D=u[h+0]-u[h+8],V=(35468*u[h+4]>>16)-En(u[h+12]),ie=En(u[h+4])+(35468*u[h+12]>>16);P[E+0]=O+ie,P[E+1]=D+V,P[E+2]=D-V,P[E+3]=O-ie,E+=4,h++}for(k=E=0;4>k;++k)O=(u=P[E+0]+4)+P[E+8],D=u-P[E+8],V=(35468*P[E+4]>>16)-En(P[E+12]),ms(v,w,0,0,O+(ie=En(P[E+4])+(35468*P[E+12]>>16))),ms(v,w,1,0,D+V),ms(v,w,2,0,D-V),ms(v,w,3,0,O-ie),E++,w+=32}function cu(u,h,v,w){var k=u[h+0]+4,E=35468*u[h+4]>>16,P=En(u[h+4]),O=35468*u[h+1]>>16;to(v,w,0,k+P,u=En(u[h+1]),O),to(v,w,1,k+E,u,O),to(v,w,2,k-E,u,O),to(v,w,3,k-P,u,O)}function Xh(u,h,v,w,k){kl(u,h,v,w),k&&kl(u,h+16,v,w+4)}function uu(u,h,v,w){ti(u,h+0,v,w,1),ti(u,h+32,v,w+128,1)}function Qh(u,h,v,w){var k;for(u=u[h+0]+4,k=0;4>k;++k)for(h=0;4>h;++h)ms(v,w,h,k,u)}function du(u,h,v,w){u[h+0]&&wn(u,h+0,v,w),u[h+16]&&wn(u,h+16,v,w+4),u[h+32]&&wn(u,h+32,v,w+128),u[h+48]&&wn(u,h+48,v,w+128+4)}function Zh(u,h,v,w){var k,E=i(16);for(k=0;4>k;++k){var P=u[h+0+k]+u[h+12+k],O=u[h+4+k]+u[h+8+k],D=u[h+4+k]-u[h+8+k],V=u[h+0+k]-u[h+12+k];E[0+k]=P+O,E[8+k]=P-O,E[4+k]=V+D,E[12+k]=V-D}for(k=0;4>k;++k)P=(u=E[0+4*k]+3)+E[3+4*k],O=E[1+4*k]+E[2+4*k],D=E[1+4*k]-E[2+4*k],V=u-E[3+4*k],v[w+0]=P+O>>3,v[w+16]=V+D>>3,v[w+32]=P-O>>3,v[w+48]=V-D>>3,w+=64}function Al(u,h,v){var w,k=h-32,E=qn,P=255-u[k-1];for(w=0;w<v;++w){var O,D=E,V=P+u[h-1];for(O=0;O<v;++O)u[h+O]=D[V+u[k+O]];h+=32}}function ef(u,h){Al(u,h,4)}function tf(u,h){Al(u,h,8)}function rf(u,h){Al(u,h,16)}function Xs(u,h){var v;for(v=0;16>v;++v)n(u,h+32*v,u,h-32,16)}function ro(u,h){var v;for(v=16;0<v;--v)s(u,h,u[h-1],16),h+=32}function no(u,h,v){var w;for(w=0;16>w;++w)s(h,v+32*w,u,16)}function hu(u,h){var v,w=16;for(v=0;16>v;++v)w+=u[h-1+32*v]+u[h+v-32];no(w>>5,u,h)}function cn(u,h){var v,w=8;for(v=0;16>v;++v)w+=u[h-1+32*v];no(w>>4,u,h)}function nf(u,h){var v,w=8;for(v=0;16>v;++v)w+=u[h+v-32];no(w>>4,u,h)}function fu(u,h){no(128,u,h)}function At(u,h,v){return u+2*h+v+2>>2}function sf(u,h){var v,w=h-32;for(w=new Uint8Array([At(u[w-1],u[w+0],u[w+1]),At(u[w+0],u[w+1],u[w+2]),At(u[w+1],u[w+2],u[w+3]),At(u[w+2],u[w+3],u[w+4])]),v=0;4>v;++v)n(u,h+32*v,w,0,w.length)}function af(u,h){var v=u[h-1],w=u[h-1+32],k=u[h-1+64],E=u[h-1+96];Le(u,h+0,16843009*At(u[h-1-32],v,w)),Le(u,h+32,16843009*At(v,w,k)),Le(u,h+64,16843009*At(w,k,E)),Le(u,h+96,16843009*At(k,E,E))}function Fs(u,h){var v,w=4;for(v=0;4>v;++v)w+=u[h+v-32]+u[h-1+32*v];for(w>>=3,v=0;4>v;++v)s(u,h+32*v,w,4)}function pu(u,h){var v=u[h-1+0],w=u[h-1+32],k=u[h-1+64],E=u[h-1-32],P=u[h+0-32],O=u[h+1-32],D=u[h+2-32],V=u[h+3-32];u[h+0+96]=At(w,k,u[h-1+96]),u[h+1+96]=u[h+0+64]=At(v,w,k),u[h+2+96]=u[h+1+64]=u[h+0+32]=At(E,v,w),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=At(P,E,v),u[h+3+64]=u[h+2+32]=u[h+1+0]=At(O,P,E),u[h+3+32]=u[h+2+0]=At(D,O,P),u[h+3+0]=At(V,D,O)}function mu(u,h){var v=u[h+1-32],w=u[h+2-32],k=u[h+3-32],E=u[h+4-32],P=u[h+5-32],O=u[h+6-32],D=u[h+7-32];u[h+0+0]=At(u[h+0-32],v,w),u[h+1+0]=u[h+0+32]=At(v,w,k),u[h+2+0]=u[h+1+32]=u[h+0+64]=At(w,k,E),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=At(k,E,P),u[h+3+32]=u[h+2+64]=u[h+1+96]=At(E,P,O),u[h+3+64]=u[h+2+96]=At(P,O,D),u[h+3+96]=At(O,D,D)}function so(u,h){var v=u[h-1+0],w=u[h-1+32],k=u[h-1+64],E=u[h-1-32],P=u[h+0-32],O=u[h+1-32],D=u[h+2-32],V=u[h+3-32];u[h+0+0]=u[h+1+64]=E+P+1>>1,u[h+1+0]=u[h+2+64]=P+O+1>>1,u[h+2+0]=u[h+3+64]=O+D+1>>1,u[h+3+0]=D+V+1>>1,u[h+0+96]=At(k,w,v),u[h+0+64]=At(w,v,E),u[h+0+32]=u[h+1+96]=At(v,E,P),u[h+1+32]=u[h+2+96]=At(E,P,O),u[h+2+32]=u[h+3+96]=At(P,O,D),u[h+3+32]=At(O,D,V)}function El(u,h){var v=u[h+0-32],w=u[h+1-32],k=u[h+2-32],E=u[h+3-32],P=u[h+4-32],O=u[h+5-32],D=u[h+6-32],V=u[h+7-32];u[h+0+0]=v+w+1>>1,u[h+1+0]=u[h+0+64]=w+k+1>>1,u[h+2+0]=u[h+1+64]=k+E+1>>1,u[h+3+0]=u[h+2+64]=E+P+1>>1,u[h+0+32]=At(v,w,k),u[h+1+32]=u[h+0+96]=At(w,k,E),u[h+2+32]=u[h+1+96]=At(k,E,P),u[h+3+32]=u[h+2+96]=At(E,P,O),u[h+3+64]=At(P,O,D),u[h+3+96]=At(O,D,V)}function of(u,h){var v=u[h-1+0],w=u[h-1+32],k=u[h-1+64],E=u[h-1+96];u[h+0+0]=v+w+1>>1,u[h+2+0]=u[h+0+32]=w+k+1>>1,u[h+2+32]=u[h+0+64]=k+E+1>>1,u[h+1+0]=At(v,w,k),u[h+3+0]=u[h+1+32]=At(w,k,E),u[h+3+32]=u[h+1+64]=At(k,E,E),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=E}function lf(u,h){var v=u[h-1+0],w=u[h-1+32],k=u[h-1+64],E=u[h-1+96],P=u[h-1-32],O=u[h+0-32],D=u[h+1-32],V=u[h+2-32];u[h+0+0]=u[h+2+32]=v+P+1>>1,u[h+0+32]=u[h+2+64]=w+v+1>>1,u[h+0+64]=u[h+2+96]=k+w+1>>1,u[h+0+96]=E+k+1>>1,u[h+3+0]=At(O,D,V),u[h+2+0]=At(P,O,D),u[h+1+0]=u[h+3+32]=At(v,P,O),u[h+1+32]=u[h+3+64]=At(w,v,P),u[h+1+64]=u[h+3+96]=At(k,w,v),u[h+1+96]=At(E,k,w)}function cf(u,h){var v;for(v=0;8>v;++v)n(u,h+32*v,u,h-32,8)}function Pl(u,h){var v;for(v=0;8>v;++v)s(u,h,u[h-1],8),h+=32}function ba(u,h,v){var w;for(w=0;8>w;++w)s(h,v+32*w,u,8)}function Si(u,h){var v,w=8;for(v=0;8>v;++v)w+=u[h+v-32]+u[h-1+32*v];ba(w>>4,u,h)}function uf(u,h){var v,w=4;for(v=0;8>v;++v)w+=u[h+v-32];ba(w>>3,u,h)}function _a(u,h){var v,w=4;for(v=0;8>v;++v)w+=u[h-1+32*v];ba(w>>3,u,h)}function Ll(u,h){ba(128,u,h)}function io(u,h,v){var w=u[h-v],k=u[h+0],E=3*(k-w)+gf[1020+u[h-2*v]-u[h+v]],P=Au[112+(E+4>>3)];u[h-v]=qn[255+w+Au[112+(E+3>>3)]],u[h+0]=qn[255+k-P]}function gu(u,h,v,w){var k=u[h+0],E=u[h+v];return is[255+u[h-2*v]-u[h-v]]>w||is[255+E-k]>w}function vu(u,h,v,w){return 4*is[255+u[h-v]-u[h+0]]+is[255+u[h-2*v]-u[h+v]]<=w}function yu(u,h,v,w,k){var E=u[h-3*v],P=u[h-2*v],O=u[h-v],D=u[h+0],V=u[h+v],ie=u[h+2*v],ve=u[h+3*v];return 4*is[255+O-D]+is[255+P-V]>w?0:is[255+u[h-4*v]-E]<=k&&is[255+E-P]<=k&&is[255+P-O]<=k&&is[255+ve-ie]<=k&&is[255+ie-V]<=k&&is[255+V-D]<=k}function bu(u,h,v,w){var k=2*w+1;for(w=0;16>w;++w)vu(u,h+w,v,k)&&io(u,h+w,v)}function Ds(u,h,v,w){var k=2*w+1;for(w=0;16>w;++w)vu(u,h+w*v,1,k)&&io(u,h+w*v,1)}function Qs(u,h,v,w){var k;for(k=3;0<k;--k)bu(u,h+=4*v,v,w)}function df(u,h,v,w){var k;for(k=3;0<k;--k)Ds(u,h+=4,v,w)}function ji(u,h,v,w,k,E,P,O){for(E=2*E+1;0<k--;){if(yu(u,h,v,E,P))if(gu(u,h,v,O))io(u,h,v);else{var D=u,V=h,ie=v,ve=D[V-2*ie],ye=D[V-ie],ue=D[V+0],Pe=D[V+ie],Se=D[V+2*ie],oe=27*(ke=gf[1020+3*(ue-ye)+gf[1020+ve-Pe]])+63>>7,le=18*ke+63>>7,ke=9*ke+63>>7;D[V-3*ie]=qn[255+D[V-3*ie]+ke],D[V-2*ie]=qn[255+ve+le],D[V-ie]=qn[255+ye+oe],D[V+0]=qn[255+ue-oe],D[V+ie]=qn[255+Pe-le],D[V+2*ie]=qn[255+Se-ke]}h+=w}}function gs(u,h,v,w,k,E,P,O){for(E=2*E+1;0<k--;){if(yu(u,h,v,E,P))if(gu(u,h,v,O))io(u,h,v);else{var D=u,V=h,ie=v,ve=D[V-ie],ye=D[V+0],ue=D[V+ie],Pe=Au[112+((Se=3*(ye-ve))+4>>3)],Se=Au[112+(Se+3>>3)],oe=Pe+1>>1;D[V-2*ie]=qn[255+D[V-2*ie]+oe],D[V-ie]=qn[255+ve+Se],D[V+0]=qn[255+ye-Pe],D[V+ie]=qn[255+ue-oe]}h+=w}}function Tl(u,h,v,w,k,E){ji(u,h,v,1,16,w,k,E)}function wa(u,h,v,w,k,E){ji(u,h,1,v,16,w,k,E)}function hf(u,h,v,w,k,E){var P;for(P=3;0<P;--P)gs(u,h+=4*v,v,1,16,w,k,E)}function ao(u,h,v,w,k,E){var P;for(P=3;0<P;--P)gs(u,h+=4,1,v,16,w,k,E)}function ff(u,h,v,w,k,E,P,O){ji(u,h,k,1,8,E,P,O),ji(v,w,k,1,8,E,P,O)}function Il(u,h,v,w,k,E,P,O){ji(u,h,1,k,8,E,P,O),ji(v,w,1,k,8,E,P,O)}function Ol(u,h,v,w,k,E,P,O){gs(u,h+4*k,k,1,8,E,P,O),gs(v,w+4*k,k,1,8,E,P,O)}function _u(u,h,v,w,k,E,P,O){gs(u,h+4,1,k,8,E,P,O),gs(v,w+4,1,k,8,E,P,O)}function oo(){this.ba=new st,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Oe,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Rl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Fl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wu(){this.ua=0,this.Wa=new Y,this.vb=new Y,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new M}function pf(){this.xb=this.a=0,this.l=new eo,this.ca=new st,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wu,this.ab=0,this.gc=a(4,Fl),this.Oc=0}function lo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new eo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xa(u,h,v,w,k,E,P){for(u=u==null?0:u[h+0],h=0;h<P;++h)k[E+h]=u+v[w+h]&255,u=k[E+h]}function Dl(u,h,v,w,k,E,P){var O;if(u==null)xa(null,null,v,w,k,E,P);else for(O=0;O<P;++O)k[E+O]=u[h+O]+v[w+O]&255}function Ci(u,h,v,w,k,E,P){if(u==null)xa(null,null,v,w,k,E,P);else{var O,D=u[h+0],V=D,ie=D;for(O=0;O<P;++O)V=ie+(D=u[h+O])-V,ie=v[w+O]+(-256&V?0>V?0:255:V)&255,V=D,k[E+O]=ie}}function Ml(u,h,v,w){var k=h.width,E=h.o;if(t(u!=null&&h!=null),0>v||0>=w||v+w>E)return null;if(!u.Cc){if(u.ga==null){var P;if(u.ga=new lo,(P=u.ga==null)||(P=h.width*h.o,t(u.Gb.length==0),u.Gb=i(P),u.Uc=0,u.Gb==null?P=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,P=1),P=!P),!P){P=u.ga;var O=u.Fa,D=u.P,V=u.qc,ie=u.mb,ve=u.nb,ye=D+1,ue=V-1,Pe=P.l;if(t(O!=null&&ie!=null&&h!=null),Ti[0]=null,Ti[1]=xa,Ti[2]=Dl,Ti[3]=Ci,P.ca=ie,P.tb=ve,P.c=h.width,P.i=h.height,t(0<P.c&&0<P.i),1>=V)h=0;else if(P.$a=O[D+0]>>0&3,P.Z=O[D+0]>>2&3,P.Lc=O[D+0]>>4&3,D=O[D+0]>>6&3,0>P.$a||1<P.$a||4<=P.Z||1<P.Lc||D)h=0;else if(Pe.put=tn,Pe.ac=Qt,Pe.bc=tr,Pe.ma=P,Pe.width=h.width,Pe.height=h.height,Pe.Da=h.Da,Pe.v=h.v,Pe.va=h.va,Pe.j=h.j,Pe.o=h.o,P.$a)e:{t(P.$a==1),h=wt();t:for(;;){if(h==null){h=0;break e}if(t(P!=null),P.mc=h,h.c=P.c,h.i=P.i,h.l=P.l,h.l.ma=P,h.l.width=P.c,h.l.height=P.i,h.a=0,T(h.m,O,ye,ue),!rr(P.c,P.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&pt(h.s)?(P.ic=1,O=h.c*h.i,h.Ta=null,h.Ua=0,h.V=i(O),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(P.ic=0,h=Ir(h,P.c)),!h))break t;h=1;break e}P.mc=null,h=0}else h=ue>=P.c*P.i;P=!h}if(P)return null;u.ga.Lc!=1?u.Ga=0:w=E-v}t(u.ga!=null),t(v+w<=E);e:{if(h=(O=u.ga).c,E=O.l.o,O.$a==0){if(ye=u.rc,ue=u.Vc,Pe=u.Fa,D=u.P+1+v*h,V=u.mb,ie=u.nb+v*h,t(D<=u.P+u.qc),O.Z!=0)for(t(Ti[O.Z]!=null),P=0;P<w;++P)Ti[O.Z](ye,ue,Pe,D,V,ie,h),ye=V,ue=ie,ie+=h,D+=h;else for(P=0;P<w;++P)n(V,ie,Pe,D,h),ye=V,ue=ie,ie+=h,D+=h;u.rc=ye,u.Vc=ue}else{if(t(O.mc!=null),h=v+w,t((P=O.mc)!=null),t(h<=P.i),P.C>=h)h=1;else if(O.ic||fe(),O.ic){O=P.V,ye=P.Ba,ue=P.c;var Se=P.i,oe=(Pe=1,D=P.$/ue,V=P.$%ue,ie=P.m,ve=P.s,P.$),le=ue*Se,ke=ue*h,Te=ve.wc,Ae=oe<ke?Me(ve,V,D):null;t(oe<=le),t(h<=Se),t(pt(ve));t:for(;;){for(;!ie.h&&oe<ke;){if(V&Te||(Ae=Me(ve,V,D)),t(Ae!=null),ae(ie),256>(Se=Hr(Ae.G[0],Ae.H[0],ie)))O[ye+oe]=Se,++oe,++V>=ue&&(V=0,++D<=h&&!(D%16)&&vt(P,D));else{if(!(280>Se)){Pe=0;break t}Se=Je(Se-256,ie);var tt,Ge=Hr(Ae.G[4],Ae.H[4],ie);if(ae(ie),!(oe>=(Ge=Tr(ue,Ge=Je(Ge,ie)))&&le-oe>=Se)){Pe=0;break t}for(tt=0;tt<Se;++tt)O[ye+oe+tt]=O[ye+oe+tt-Ge];for(oe+=Se,V+=Se;V>=ue;)V-=ue,++D<=h&&!(D%16)&&vt(P,D);oe<ke&&V&Te&&(Ae=Me(ve,V,D))}t(ie.h==G(ie))}vt(P,D>h?h:D);break t}!Pe||ie.h&&oe<le?(Pe=0,P.a=ie.h?5:3):P.$=oe,h=Pe}else h=yt(P,P.V,P.Ba,P.c,P.i,h,qr);if(!h){w=0;break e}}v+w>=E&&(u.Cc=1),w=1}if(!w)return null;if(u.Cc&&((w=u.ga)!=null&&(w.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+v*k}function m(u,h,v,w,k,E){for(;0<k--;){var P,O=u,D=h+(v?1:0),V=u,ie=h+(v?0:3);for(P=0;P<w;++P){var ve=V[ie+4*P];ve!=255&&(ve*=32897,O[D+4*P+0]=O[D+4*P+0]*ve>>23,O[D+4*P+1]=O[D+4*P+1]*ve>>23,O[D+4*P+2]=O[D+4*P+2]*ve>>23)}h+=E}}function A(u,h,v,w,k){for(;0<w--;){var E;for(E=0;E<v;++E){var P=u[h+2*E+0],O=15&(V=u[h+2*E+1]),D=4369*O,V=(240&V|V>>4)*D>>16;u[h+2*E+0]=(240&P|P>>4)*D>>16&240|(15&P|P<<4)*D>>16>>4&15,u[h+2*E+1]=240&V|O}h+=k}}function W(u,h,v,w,k,E,P,O){var D,V,ie=255;for(V=0;V<k;++V){for(D=0;D<w;++D){var ve=u[h+D];E[P+4*D]=ve,ie&=ve}h+=v,P+=O}return ie!=255}function re(u,h,v,w,k){var E;for(E=0;E<k;++E)v[w+E]=u[h+E]>>8}function fe(){ss=m,nr=A,sr=W,jr=re}function je(u,h,v){U[u]=function(w,k,E,P,O,D,V,ie,ve,ye,ue,Pe,Se,oe,le,ke,Te){var Ae,tt=Te-1>>1,Ge=O[D+0]|V[ie+0]<<16,_t=ve[ye+0]|ue[Pe+0]<<16;t(w!=null);var Ke=3*Ge+_t+131074>>2;for(h(w[k+0],255&Ke,Ke>>16,Se,oe),E!=null&&(Ke=3*_t+Ge+131074>>2,h(E[P+0],255&Ke,Ke>>16,le,ke)),Ae=1;Ae<=tt;++Ae){var Vt=O[D+Ae]|V[ie+Ae]<<16,Gt=ve[ye+Ae]|ue[Pe+Ae]<<16,zt=Ge+Vt+_t+Gt+524296,Ut=zt+2*(Vt+_t)>>3;Ke=Ut+Ge>>1,Ge=(zt=zt+2*(Ge+Gt)>>3)+Vt>>1,h(w[k+2*Ae-1],255&Ke,Ke>>16,Se,oe+(2*Ae-1)*v),h(w[k+2*Ae-0],255&Ge,Ge>>16,Se,oe+(2*Ae-0)*v),E!=null&&(Ke=zt+_t>>1,Ge=Ut+Gt>>1,h(E[P+2*Ae-1],255&Ke,Ke>>16,le,ke+(2*Ae-1)*v),h(E[P+2*Ae+0],255&Ge,Ge>>16,le,ke+(2*Ae+0)*v)),Ge=Vt,_t=Gt}1&Te||(Ke=3*Ge+_t+131074>>2,h(w[k+Te-1],255&Ke,Ke>>16,Se,oe+(Te-1)*v),E!=null&&(Ke=3*_t+Ge+131074>>2,h(E[P+Te-1],255&Ke,Ke>>16,le,ke+(Te-1)*v)))}}function Re(){as[Eu]=D_,as[Pu]=_0,as[m0]=M_,as[Lu]=w0,as[Tu]=x0,as[vf]=N0,as[g0]=U_,as[yf]=_0,as[bf]=w0,as[Iu]=x0,as[_f]=N0}function Qe(u){return u&-16384?0>u?0:255:u>>B_}function mt(u,h){return Qe((19077*u>>8)+(26149*h>>8)-14234)}function Ot(u,h,v){return Qe((19077*u>>8)-(6419*h>>8)-(13320*v>>8)+8708)}function Pt(u,h){return Qe((19077*u>>8)+(33050*h>>8)-17685)}function qt(u,h,v,w,k){w[k+0]=mt(u,v),w[k+1]=Ot(u,h,v),w[k+2]=Pt(u,h)}function fr(u,h,v,w,k){w[k+0]=Pt(u,h),w[k+1]=Ot(u,h,v),w[k+2]=mt(u,v)}function yr(u,h,v,w,k){var E=Ot(u,h,v);h=E<<3&224|Pt(u,h)>>3,w[k+0]=248&mt(u,v)|E>>5,w[k+1]=h}function Rr(u,h,v,w,k){var E=240&Pt(u,h)|15;w[k+0]=240&mt(u,v)|Ot(u,h,v)>>4,w[k+1]=E}function un(u,h,v,w,k){w[k+0]=255,qt(u,h,v,w,k+1)}function Kr(u,h,v,w,k){fr(u,h,v,w,k),w[k+3]=255}function vs(u,h,v,w,k){qt(u,h,v,w,k),w[k+3]=255}function Bn(u,h){return 0>u?0:u>h?h:u}function Ms(u,h,v){U[u]=function(w,k,E,P,O,D,V,ie,ve){for(var ye=ie+(-2&ve)*v;ie!=ye;)h(w[k+0],E[P+0],O[D+0],V,ie),h(w[k+1],E[P+0],O[D+0],V,ie+v),k+=2,++P,++D,ie+=2*v;1&ve&&h(w[k+0],E[P+0],O[D+0],V,ie)}}function xu(u,h,v){return v==0?u==0?h==0?6:5:h==0?4:0:v}function Ul(u,h,v,w,k){switch(u>>>30){case 3:ti(h,v,w,k,0);break;case 2:Sr(h,v,w,k);break;case 1:wn(h,v,w,k)}}function Bl(u,h){var v,w,k=h.M,E=h.Nb,P=u.oc,O=u.pc+40,D=u.oc,V=u.pc+584,ie=u.oc,ve=u.pc+600;for(v=0;16>v;++v)P[O+32*v-1]=129;for(v=0;8>v;++v)D[V+32*v-1]=129,ie[ve+32*v-1]=129;for(0<k?P[O-1-32]=D[V-1-32]=ie[ve-1-32]=129:(s(P,O-32-1,127,21),s(D,V-32-1,127,9),s(ie,ve-32-1,127,9)),w=0;w<u.za;++w){var ye=h.ya[h.aa+w];if(0<w){for(v=-1;16>v;++v)n(P,O+32*v-4,P,O+32*v+12,4);for(v=-1;8>v;++v)n(D,V+32*v-4,D,V+32*v+4,4),n(ie,ve+32*v-4,ie,ve+32*v+4,4)}var ue=u.Gd,Pe=u.Hd+w,Se=ye.ad,oe=ye.Hc;if(0<k&&(n(P,O-32,ue[Pe].y,0,16),n(D,V-32,ue[Pe].f,0,8),n(ie,ve-32,ue[Pe].ea,0,8)),ye.Za){var le=P,ke=O-32+16;for(0<k&&(w>=u.za-1?s(le,ke,ue[Pe].y[15],4):n(le,ke,ue[Pe+1].y,0,4)),v=0;4>v;v++)le[ke+128+v]=le[ke+256+v]=le[ke+384+v]=le[ke+0+v];for(v=0;16>v;++v,oe<<=2)le=P,ke=O+j0[v],ys[ye.Ob[v]](le,ke),Ul(oe,Se,16*+v,le,ke)}else if(le=xu(w,k,ye.Ob[0]),Li[le](P,O),oe!=0)for(v=0;16>v;++v,oe<<=2)Ul(oe,Se,16*+v,P,O+j0[v]);for(v=ye.Gc,le=xu(w,k,ye.Dd),ni[le](D,V),ni[le](ie,ve),oe=Se,le=D,ke=V,255&(ye=v>>0)&&(170&ye?Gl(oe,256,le,ke):rs(oe,256,le,ke)),ye=ie,oe=ve,255&(v>>=8)&&(170&v?Gl(Se,320,ye,oe):rs(Se,320,ye,oe)),k<u.Ub-1&&(n(ue[Pe].y,0,P,O+480,16),n(ue[Pe].f,0,D,V+224,8),n(ue[Pe].ea,0,ie,ve+224,8)),v=8*E*u.B,ue=u.sa,Pe=u.ta+16*w+16*E*u.R,Se=u.qa,ye=u.ra+8*w+v,oe=u.Ha,le=u.Ia+8*w+v,v=0;16>v;++v)n(ue,Pe+v*u.R,P,O+32*v,16);for(v=0;8>v;++v)n(Se,ye+v*u.B,D,V+32*v,8),n(oe,le+v*u.B,ie,ve+32*v,8)}}function co(u,h,v,w,k,E,P,O,D){var V=[0],ie=[0],ve=0,ye=D!=null?D.kd:0,ue=D??new Rl;if(u==null||12>v)return 7;ue.data=u,ue.w=h,ue.ha=v,h=[h],v=[v],ue.gb=[ue.gb];e:{var Pe=h,Se=v,oe=ue.gb;if(t(u!=null),t(Se!=null),t(oe!=null),oe[0]=0,12<=Se[0]&&!r(u,Pe[0],"RIFF")){if(r(u,Pe[0]+8,"WEBP")){oe=3;break e}var le=xe(u,Pe[0]+4);if(12>le||4294967286<le){oe=3;break e}if(ye&&le>Se[0]-8){oe=7;break e}oe[0]=le,Pe[0]+=12,Se[0]-=12}oe=0}if(oe!=0)return oe;for(le=0<ue.gb[0],v=v[0];;){e:{var ke=u;Se=h,oe=v;var Te=V,Ae=ie,tt=Pe=[0];if((Ke=ve=[ve])[0]=0,8>oe[0])oe=7;else{if(!r(ke,Se[0],"VP8X")){if(xe(ke,Se[0]+4)!=10){oe=3;break e}if(18>oe[0]){oe=7;break e}var Ge=xe(ke,Se[0]+8),_t=1+be(ke,Se[0]+12);if(2147483648<=_t*(ke=1+be(ke,Se[0]+15))){oe=3;break e}tt!=null&&(tt[0]=Ge),Te!=null&&(Te[0]=_t),Ae!=null&&(Ae[0]=ke),Se[0]+=18,oe[0]-=18,Ke[0]=1}oe=0}}if(ve=ve[0],Pe=Pe[0],oe!=0)return oe;if(Se=!!(2&Pe),!le&&ve)return 3;if(E!=null&&(E[0]=!!(16&Pe)),P!=null&&(P[0]=Se),O!=null&&(O[0]=0),P=V[0],Pe=ie[0],ve&&Se&&D==null){oe=0;break}if(4>v){oe=7;break}if(le&&ve||!le&&!ve&&!r(u,h[0],"ALPH")){v=[v],ue.na=[ue.na],ue.P=[ue.P],ue.Sa=[ue.Sa];e:{Ge=u,oe=h,le=v;var Ke=ue.gb;Te=ue.na,Ae=ue.P,tt=ue.Sa,_t=22,t(Ge!=null),t(le!=null),ke=oe[0];var Vt=le[0];for(t(Te!=null),t(tt!=null),Te[0]=null,Ae[0]=null,tt[0]=0;;){if(oe[0]=ke,le[0]=Vt,8>Vt){oe=7;break e}var Gt=xe(Ge,ke+4);if(4294967286<Gt){oe=3;break e}var zt=8+Gt+1&-2;if(_t+=zt,0<Ke&&_t>Ke){oe=3;break e}if(!r(Ge,ke,"VP8 ")||!r(Ge,ke,"VP8L")){oe=0;break e}if(Vt[0]<zt){oe=7;break e}r(Ge,ke,"ALPH")||(Te[0]=Ge,Ae[0]=ke+8,tt[0]=Gt),ke+=zt,Vt-=zt}}if(v=v[0],ue.na=ue.na[0],ue.P=ue.P[0],ue.Sa=ue.Sa[0],oe!=0)break}v=[v],ue.Ja=[ue.Ja],ue.xa=[ue.xa];e:if(Ke=u,oe=h,le=v,Te=ue.gb[0],Ae=ue.Ja,tt=ue.xa,Ge=oe[0],ke=!r(Ke,Ge,"VP8 "),_t=!r(Ke,Ge,"VP8L"),t(Ke!=null),t(le!=null),t(Ae!=null),t(tt!=null),8>le[0])oe=7;else{if(ke||_t){if(Ke=xe(Ke,Ge+4),12<=Te&&Ke>Te-12){oe=3;break e}if(ye&&Ke>le[0]-8){oe=7;break e}Ae[0]=Ke,oe[0]+=8,le[0]-=8,tt[0]=_t}else tt[0]=5<=le[0]&&Ke[Ge+0]==47&&!(Ke[Ge+4]>>5),Ae[0]=le[0];oe=0}if(v=v[0],ue.Ja=ue.Ja[0],ue.xa=ue.xa[0],h=h[0],oe!=0)break;if(4294967286<ue.Ja)return 3;if(O==null||Se||(O[0]=ue.xa?2:1),P=[P],Pe=[Pe],ue.xa){if(5>v){oe=7;break}O=P,ye=Pe,Se=E,u==null||5>v?u=0:5<=v&&u[h+0]==47&&!(u[h+4]>>5)?(le=[0],Ke=[0],Te=[0],T(Ae=new j,u,h,v),gt(Ae,le,Ke,Te)?(O!=null&&(O[0]=le[0]),ye!=null&&(ye[0]=Ke[0]),Se!=null&&(Se[0]=Te[0]),u=1):u=0):u=0}else{if(10>v){oe=7;break}O=Pe,u==null||10>v||!au(u,h+3,v-3)?u=0:(ye=u[h+0]|u[h+1]<<8|u[h+2]<<16,Se=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=ue.Ja||!Se||!u?u=0:(P&&(P[0]=Se),O&&(O[0]=u),u=1))}if(!u||(P=P[0],Pe=Pe[0],ve&&(V[0]!=P||ie[0]!=Pe)))return 3;D!=null&&(D[0]=ue,D.offset=h-D.w,t(4294967286>h-D.w),t(D.offset==D.ha-v));break}return oe==0||oe==7&&ve&&D==null?(E!=null&&(E[0]|=ue.na!=null&&0<ue.na.length),w!=null&&(w[0]=P),k!=null&&(k[0]=Pe),0):oe}function ql(u,h,v){var w=h.width,k=h.height,E=0,P=0,O=w,D=k;if(h.Da=u!=null&&0<u.Da,h.Da&&(O=u.cd,D=u.bd,E=u.v,P=u.j,11>v||(E&=-2,P&=-2),0>E||0>P||0>=O||0>=D||E+O>w||P+D>k))return 0;if(h.v=E,h.j=P,h.va=E+O,h.o=P+D,h.U=O,h.T=D,h.da=u!=null&&0<u.da,h.da){if(!dt(O,D,v=[u.ib],E=[u.hb]))return 0;h.ib=v[0],h.hb=E[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*w/4&&h.hb<3*k/4,h.Kb=0),1}function zl(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function uo(u,h,v,w){if(w==null||0>=u||0>=h)return 2;if(v!=null){if(v.Da){var k=v.cd,E=v.bd,P=-2&v.v,O=-2&v.j;if(0>P||0>O||0>=k||0>=E||P+k>u||O+E>h)return 2;u=k,h=E}if(v.da){if(!dt(u,h,k=[v.ib],E=[v.hb]))return 2;u=k[0],h=E[0]}}w.width=u,w.height=h;e:{var D=w.width,V=w.height;if(u=w.S,0>=D||0>=V||!(u>=Eu&&13>u))u=2;else{if(0>=w.Rd&&w.sd==null){P=E=k=h=0;var ie=(O=D*C0[u])*V;if(11>u||(E=(V+1)/2*(h=(D+1)/2),u==12&&(P=(k=D)*V)),(V=i(ie+2*E+P))==null){u=1;break e}w.sd=V,11>u?((D=w.f.RGBA).eb=V,D.fb=0,D.A=O,D.size=ie):((D=w.f.kb).y=V,D.O=0,D.fa=O,D.Fd=ie,D.f=V,D.N=0+ie,D.Ab=h,D.Cd=E,D.ea=V,D.W=0+ie+E,D.Db=h,D.Ed=E,u==12&&(D.F=V,D.J=0+ie+2*E),D.Tc=P,D.lb=k)}if(h=1,k=w.S,E=w.width,P=w.height,k>=Eu&&13>k)if(11>k)u=w.f.RGBA,h&=(O=Math.abs(u.A))*(P-1)+E<=u.size,h&=O>=E*C0[k],h&=u.eb!=null;else{u=w.f.kb,O=(E+1)/2,ie=(P+1)/2,D=Math.abs(u.fa),V=Math.abs(u.Ab);var ve=Math.abs(u.Db),ye=Math.abs(u.lb),ue=ye*(P-1)+E;h&=D*(P-1)+E<=u.Fd,h&=V*(ie-1)+O<=u.Cd,h=(h&=ve*(ie-1)+O<=u.Ed)&D>=E&V>=O&ve>=O,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,k==12&&(h&=ye>=E,h&=ue<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||v!=null&&v.fd&&(u=zl(w)),u}var rn=64,ho=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],fo=24,po=32,$l=8,Pn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(u){return u},U.Predictor2=function(u,h,v){return h[v+0]},U.Predictor3=function(u,h,v){return h[v+1]},U.Predictor4=function(u,h,v){return h[v-1]},U.Predictor5=function(u,h,v){return $e($e(u,h[v+1]),h[v+0])},U.Predictor6=function(u,h,v){return $e(u,h[v-1])},U.Predictor7=function(u,h,v){return $e(u,h[v+0])},U.Predictor8=function(u,h,v){return $e(h[v-1],h[v+0])},U.Predictor9=function(u,h,v){return $e(h[v+0],h[v+1])},U.Predictor10=function(u,h,v){return $e($e(u,h[v-1]),$e(h[v+0],h[v+1]))},U.Predictor11=function(u,h,v){var w=h[v+0];return 0>=Nt(w>>24&255,u>>24&255,(h=h[v-1])>>24&255)+Nt(w>>16&255,u>>16&255,h>>16&255)+Nt(w>>8&255,u>>8&255,h>>8&255)+Nt(255&w,255&u,255&h)?w:u},U.Predictor12=function(u,h,v){var w=h[v+0];return(lt((u>>24&255)+(w>>24&255)-((h=h[v-1])>>24&255))<<24|lt((u>>16&255)+(w>>16&255)-(h>>16&255))<<16|lt((u>>8&255)+(w>>8&255)-(h>>8&255))<<8|lt((255&u)+(255&w)-(255&h)))>>>0},U.Predictor13=function(u,h,v){var w=h[v-1];return(bt((u=$e(u,h[v+0]))>>24&255,w>>24&255)<<24|bt(u>>16&255,w>>16&255)<<16|bt(u>>8&255,w>>8&255)<<8|bt(u>>0&255,w>>0&255))>>>0};var mf=U.PredictorAdd0;U.PredictorAdd1=Tt,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var Vl=U.PredictorAdd2;jt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),jt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Nu,ts=U.ColorIndexInverseTransform,mo=U.MapARGB,Su=U.VP8LColorIndexInverseTransformAlpha,ju=U.MapAlpha,ki=U.VP8LPredictorsAdd=[];ki.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var Na,Ln,_n,Ai,Zs,ei,go,ti,Sr,Gl,wn,rs,vo,Cu,Wl,Sa,ja,Ei,Ca,yo,ka,Pi,Hl,ns,ss,nr,sr,jr,$r=i(511),ri=i(2041),Yl=i(225),bo=i(767),ku=0,gf=ri,Au=Yl,qn=bo,is=$r,Eu=0,Pu=1,m0=2,Lu=3,Tu=4,vf=5,g0=6,yf=7,bf=8,Iu=9,_f=10,N_=[2,3,7],S_=[3,3,11],v0=[280,256,256,256,40],j_=[0,1,1,1,0],C_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],k_=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],A_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],E_=8,wf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Kl=null,P_=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],L_=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],y0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],T_=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],I_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],O_=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],R_=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Li=[],ys=[],ni=[],F_=1,b0=2,Ti=[],as=[];je("UpsampleRgbLinePair",qt,3),je("UpsampleBgrLinePair",fr,3),je("UpsampleRgbaLinePair",vs,4),je("UpsampleBgraLinePair",Kr,4),je("UpsampleArgbLinePair",un,4),je("UpsampleRgba4444LinePair",Rr,2),je("UpsampleRgb565LinePair",yr,2);var D_=U.UpsampleRgbLinePair,M_=U.UpsampleBgrLinePair,_0=U.UpsampleRgbaLinePair,w0=U.UpsampleBgraLinePair,x0=U.UpsampleArgbLinePair,N0=U.UpsampleRgba4444LinePair,U_=U.UpsampleRgb565LinePair,Ou=16,Ru=1<<Ou-1,Jl=-227,Nf=482,B_=6,S0=0,q_=i(256),z_=i(256),$_=i(256),V_=i(256),G_=i(Nf-Jl),W_=i(Nf-Jl);Ms("YuvToRgbRow",qt,3),Ms("YuvToBgrRow",fr,3),Ms("YuvToRgbaRow",vs,4),Ms("YuvToBgraRow",Kr,4),Ms("YuvToArgbRow",un,4),Ms("YuvToRgba4444Row",Rr,2),Ms("YuvToRgb565Row",yr,2);var j0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Fu=[0,2,8],H_=[8,7,6,4,4,2,2,2,1,1,1,1],Y_=1;this.WebPDecodeRGBA=function(u,h,v,w,k){var E=Pu,P=new oo,O=new st;P.ba=O,O.S=E,O.width=[O.width],O.height=[O.height];var D=O.width,V=O.height,ie=new ct;if(ie==null||u==null)var ve=2;else t(ie!=null),ve=co(u,h,v,ie.width,ie.height,ie.Pd,ie.Qd,ie.format,null);if(ve!=0?D=0:(D!=null&&(D[0]=ie.width[0]),V!=null&&(V[0]=ie.height[0]),D=1),D){O.width=O.width[0],O.height=O.height[0],w!=null&&(w[0]=O.width),k!=null&&(k[0]=O.height);e:{if(w=new eo,(k=new Rl).data=u,k.w=h,k.ha=v,k.kd=1,h=[0],t(k!=null),((u=co(k.data,k.w,k.ha,null,null,null,h,null,k))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(t(P!=null),w.data=k.data,w.w=k.w+k.offset,w.ha=k.ha-k.offset,w.put=tn,w.ac=Qt,w.bc=tr,w.ma=P,k.xa){if((u=wt())==null){P=1;break e}if(function(ye,ue){var Pe=[0],Se=[0],oe=[0];t:for(;;){if(ye==null)return 0;if(ue==null)return ye.a=2,0;if(ye.l=ue,ye.a=0,T(ye.m,ue.data,ue.w,ue.ha),!gt(ye.m,Pe,Se,oe)){ye.a=3;break t}if(ye.xb=b0,ue.width=Pe[0],ue.height=Se[0],!rr(Pe[0],Se[0],1,ye,null))break t;return 1}return t(ye.a!=0),0}(u,w)){if(w=(h=uo(w.width,w.height,P.Oa,P.ba))==0){t:{w=u;r:for(;;){if(w==null){w=0;break t}if(t(w.s.yc!=null),t(w.s.Ya!=null),t(0<w.s.Wb),t((v=w.l)!=null),t((k=v.ma)!=null),w.xb!=0){if(w.ca=k.ba,w.tb=k.tb,t(w.ca!=null),!ql(k.Oa,v,Lu)){w.a=2;break r}if(!Ir(w,v.width)||v.da)break r;if((v.da||we(w.ca.S))&&fe(),11>w.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),w.ca.f.kb.F!=null&&fe()),w.Pb&&0<w.s.ua&&w.s.vb.X==null&&!ze(w.s.vb,w.s.Wa.Xa)){w.a=1;break r}w.xb=0}if(!yt(w,w.V,w.Ba,w.c,w.i,v.o,Fe))break r;k.Dc=w.Ma,w=1;break t}t(w.a!=0),w=0}w=!w}w&&(h=u.a)}else h=u.a}else{if((u=new Kh)==null){P=1;break e}if(u.Fa=k.na,u.P=k.P,u.qc=k.Sa,ou(u,w)){if((h=uo(w.width,w.height,P.Oa,P.ba))==0){if(u.Aa=0,v=P.Oa,t((k=u)!=null),v!=null){if(0<(D=0>(D=v.Md)?0:100<D?255:255*D/100)){for(V=ie=0;4>V;++V)12>(ve=k.pb[V]).lc&&(ve.ia=D*H_[0>ve.lc?0:ve.lc]>>3),ie|=ve.ia;ie&&(alert("todo:VP8InitRandom"),k.ia=1)}k.Ga=v.Id,100<k.Ga?k.Ga=100:0>k.Ga&&(k.Ga=0)}Jh(u,w)||(h=u.a)}}else h=u.a}h==0&&P.Oa!=null&&P.Oa.fd&&(h=zl(P.ba))}P=h}E=P!=0?null:11>E?O.f.RGBA.eb:O.f.kb.y}else E=null;return E};var C0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(U,I){for(var se="",L=0;L<4;L++)se+=String.fromCharCode(U[I++]);return se}function f(U,I){return(U[I+0]<<0|U[I+1]<<8|U[I+2]<<16)>>>0}function g(U,I){return(U[I+0]<<0|U[I+1]<<8|U[I+2]<<16|U[I+3]<<24)>>>0}new c;var y=[0],p=[0],x=[],N=new c,C=e,_=function(U,I){var se={},L=0,M=!1,K=0,q=0;if(se.frames=[],!function(B,G,ee,ae){for(var ce=0;ce<ae;ce++)if(B[G+ce]!=ee.charCodeAt(ce))return!0;return!1}(U,I,"RIFF",4)){var he,$;for(g(U,I+=4),I+=8;I<U.length;){var de=d(U,I),T=g(U,I+=4);I+=4;var Q=T+(1&T);switch(de){case"VP8 ":case"VP8L":se.frames[L]===void 0&&(se.frames[L]={}),(j=se.frames[L]).src_off=M?q:I-8,j.src_size=K+T+8,L++,M&&(M=!1,K=0,q=0);break;case"VP8X":(j=se.header={}).feature_flags=U[I];var Z=I+4;j.canvas_width=1+f(U,Z),Z+=3,j.canvas_height=1+f(U,Z),Z+=3;break;case"ALPH":M=!0,K=Q+8,q=I-8;break;case"ANIM":(j=se.header).bgcolor=g(U,I),Z=I+4,j.loop_count=(he=U)[($=Z)+0]<<0|he[$+1]<<8,Z+=2;break;case"ANMF":var Ne,j;(j=se.frames[L]={}).offset_x=2*f(U,I),I+=3,j.offset_y=2*f(U,I),I+=3,j.width=1+f(U,I),I+=3,j.height=1+f(U,I),I+=3,j.duration=f(U,I),I+=3,Ne=U[I++],j.dispose=1&Ne,j.blend=Ne>>1&1}de!="ANMF"&&(I+=Q)}return se}}(C,0);_.response=C,_.rgbaoutput=!0,_.dataurl=!1;var b=_.header?_.header:null,S=_.frames?_.frames:null;if(b){b.loop_counter=b.loop_count,y=[b.canvas_height],p=[b.canvas_width];for(var R=0;R<S.length&&S[R].blend!=0;R++);}var F=S[0],te=N.WebPDecodeRGBA(C,F.src_off,F.src_size,p,y);F.rgba=te,F.imgwidth=p[0],F.imgheight=y[0];for(var z=0;z<p[0]*y[0]*4;z++)x[z]=te[z];return this.width=p,this.height=y,this.data=x,this}(function(e){var t=function(){return typeof Ym=="function"},r=function(y,p,x,N){var C=4,_=a;switch(N){case e.image_compression.FAST:C=1,_=i;break;case e.image_compression.MEDIUM:C=6,_=l;break;case e.image_compression.SLOW:C=9,_=c}y=n(y,p,x,_);var b=Ym(y,{level:C});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(y,p,x,N){for(var C,_,b,S=y.length/p,R=new Uint8Array(y.length+S),F=f(),te=0;te<S;te+=1){if(b=te*p,C=y.subarray(b,b+p),N)R.set(N(C,x,_),b+te);else{for(var z,U=F.length,I=[];z<U;z+=1)I[z]=F[z](C,x,_);var se=g(I.concat());R.set(I[se],b+te)}_=C}return R},s=function(y){var p=Array.apply([],y);return p.unshift(0),p},i=function(y,p){var x,N=[],C=y.length;N[0]=1;for(var _=0;_<C;_+=1)x=y[_-p]||0,N[_+1]=y[_]-x+256&255;return N},a=function(y,p,x){var N,C=[],_=y.length;C[0]=2;for(var b=0;b<_;b+=1)N=x&&x[b]||0,C[b+1]=y[b]-N+256&255;return C},l=function(y,p,x){var N,C,_=[],b=y.length;_[0]=3;for(var S=0;S<b;S+=1)N=y[S-p]||0,C=x&&x[S]||0,_[S+1]=y[S]+256-(N+C>>>1)&255;return _},c=function(y,p,x){var N,C,_,b,S=[],R=y.length;S[0]=4;for(var F=0;F<R;F+=1)N=y[F-p]||0,C=x&&x[F]||0,_=x&&x[F-p]||0,b=d(N,C,_),S[F+1]=y[F]-b+256&255;return S},d=function(y,p,x){if(y===p&&p===x)return y;var N=Math.abs(p-x),C=Math.abs(y-x),_=Math.abs(y+p-x-x);return N<=C&&N<=_?y:C<=_?p:x},f=function(){return[s,i,a,l,c]},g=function(y){var p=y.map(function(x){return x.reduce(function(N,C){return N+Math.abs(C)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(y,p,x,N){var C,_,b,S,R,F,te,z,U,I,se,L,M,K,q,he=this.decode.FLATE_DECODE,$="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(b=new I6(y)).imgData,_=b.bits,C=b.colorSpace,R=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){U=(z=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,se=new Uint8Array(U*b.colors),I=new Uint8Array(U);var de,T=b.pixelBitlength-b.bits;for(K=0,q=0;K<U;K++){for(M=z[K],de=0;de<T;)se[q++]=M>>>de&255,de+=b.bits;I[K]=M>>>de&255}}if(b.bits===16){U=(z=new Uint32Array(b.decodePixels().buffer)).length,se=new Uint8Array(U*(32/b.pixelBitlength)*b.colors),I=new Uint8Array(U*(32/b.pixelBitlength)),L=b.colors>1,K=0,q=0;for(var Q=0;K<U;)M=z[K++],se[q++]=M>>>0&255,L&&(se[q++]=M>>>16&255,M=z[K++],se[q++]=M>>>0&255),I[Q++]=M>>>16&255;_=8}N!==e.image_compression.NONE&&t()?(y=r(se,b.width*b.colors,b.colors,N),te=r(I,b.width,1,N)):(y=se,te=I,he=void 0)}if(b.colorType===3&&(C=this.color_spaces.INDEXED,F=b.palette,b.transparency.indexed)){var Z=b.transparency.indexed,Ne=0;for(K=0,U=Z.length;K<U;++K)Ne+=Z[K];if((Ne/=255)===U-1&&Z.indexOf(0)!==-1)S=[Z.indexOf(0)];else if(Ne!==U){for(z=b.decodePixels(),I=new Uint8Array(z.length),K=0,U=z.length;K<U;K++)I[K]=Z[z[K]];te=r(I,b.width,1)}}var j=function(B){var G;switch(B){case e.image_compression.FAST:G=11;break;case e.image_compression.MEDIUM:G=13;break;case e.image_compression.SLOW:G=14;break;default:G=12}return G}(N);return he===this.decode.FLATE_DECODE&&($="/Predictor "+j+" "),$+="/Colors "+R+" /BitsPerComponent "+_+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(te&&this.__addimage__.isArrayBuffer(te)||this.__addimage__.isArrayBufferView(te))&&(te=this.__addimage__.arrayBufferToBinaryString(te)),{alias:x,data:y,index:p,filter:he,decodeParameters:$,transparency:S,palette:F,sMask:te,predictor:j,width:b.width,height:b.height,bitsPerComponent:_,colorSpace:C}}}})(xt.API),function(e){e.processGIF89A=function(t,r,n,s){var i=new O6(t),a=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:a,height:l},f=new Ep(100).encode(d,100);return e.processJPEG.call(this,f,r,n,s)},e.processGIF87A=e.processGIF89A}(xt.API),xs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xs.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){er.log("bit decode error:"+r)}},xs.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[a+4*l]=c.blue,this.data[a+4*l+1]=c.green,this.data[a+4*l+2]=c.red,this.data[a+4*l+3]=255}r!==0&&(this.pos+=4-r)}},xs.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*s+1>=this.width)break;d=this.palette[c],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},xs.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},xs.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,f=n*this.width*4+4*s;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=d}this.pos+=e}},xs.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,c=(a>>5&r)/r*255|0,d=(a>>11)/t*255|0,f=s*this.width*4+4*i;this.data[f]=d,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},xs.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},xs.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=a}},xs.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var i=new xs(t,!1),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},d=new Ep(100).encode(c,100);return e.processJPEG.call(this,d,r,n,s)}}(xt.API),i2.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var i=new i2(t),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},d=new Ep(100).encode(c,100);return e.processJPEG.call(this,d,r,n,s)}}(xt.API),xt.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),l=0,c=0,d=0;d<s;d+=4){var f=n[d],g=n[d+1],y=n[d+2],p=n[d+3];i[l++]=f,i[l++]=g,i[l++]=y,a[c++]=p}var x=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:x,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},xt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Lo=xt.API,Cd=Lo.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:s.metadata.Unicode.kerning,f=d.fof?d.fof:1,g=t.doKerning!==!1,y=0,p=e.length,x=0,N=l[0]||c,C=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?C.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(y=g&&Ht(d[n])==="object"&&!isNaN(parseInt(d[n][x],10))?d[n][x]/f:0,C.push((l[n]||N)/c+y)),x=n;return C},t2=Lo.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Lo.processArabic&&(e=Lo.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:Cd.apply(this,arguments).reduce(function(i,a){return i+a},0)},r2=function(e,t,r,n){for(var s=[],i=0,a=e.length,l=0;i!==a&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var c=i;for(l=0;i!==a;)l+t[i]>n&&(s.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},n2=function(e,t,r){r||(r={});var n,s,i,a,l,c,d,f=[],g=[f],y=r.textIndent||0,p=0,x=0,N=e.split(" "),C=Cd.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?N[0].length+2:r.lineIndent||0){var _=Array(c).join(" "),b=[];N.map(function(R){(R=R.split(/\s*\n/)).length>1?b=b.concat(R.map(function(F,te){return(te&&F.length?`
`:"")+F})):b.push(R[0])}),N=b,c=t2.apply(this,[_,r])}for(i=0,a=N.length;i<a;i++){var S=0;if(n=N[i],c&&n[0]==`
`&&(n=n.substr(1),S=1),y+p+(x=(s=Cd.apply(this,[n,r])).reduce(function(R,F){return R+F},0))>t||S){if(x>t){for(l=r2.apply(this,[n,s,t-(y+p),t]),f.push(l.shift()),f=[l.pop()];l.length;)g.push([l.shift()]);x=s.slice(n.length-(f[0]?f[0].length:0)).reduce(function(R,F){return R+F},0)}else f=[n];g.push(f),y=x+c,p=C}else f.push(n),y+=p+x,p=C}return d=c?function(R,F){return(F?_:"")+R.join(" ")}:function(R){return R.join(" ")},g.map(d)},Lo.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var g=this.internal.getFont(f.fontName,f.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(n2.apply(this,[n[l],a,i]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},s=0;s<t.length;s++)r[t[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=t[s];var i=function(g){return"0x"+parseInt(g,10).toString(16)},a=e.__fontmetrics__.compress=function(g){var y,p,x,N,C=["{"];for(var _ in g){if(y=g[_],isNaN(parseInt(_,10))?p="'"+_+"'":(_=parseInt(_,10),p=(p=i(_).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof y=="number")y<0?(x=i(y).slice(3),N="-"):(x=i(y).slice(2),N=""),x=N+x.slice(0,-1)+n[x.slice(-1)];else{if(Ht(y)!=="object")throw new Error("Don't know what to do with value type "+Ht(y)+".");x=a(y)}C.push(p+x)}return C.push("}"),C.join("")},l=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,p,x,N,C={},_=1,b=C,S=[],R="",F="",te=g.length-1,z=1;z<te;z+=1)(N=g[z])=="'"?y?(x=y.join(""),y=void 0):y=[]:y?y.push(N):N=="{"?(S.push([b,x]),b={},x=void 0):N=="}"?((p=S.pop())[0][p[1]]=b,x=void 0,b=p[0]):N=="-"?_=-1:x===void 0?r.hasOwnProperty(N)?(R+=r[N],x=parseInt(R,16)*_,_=1,R=""):R+=N:r.hasOwnProperty(N)?(F+=r[N],b[x]=parseInt(F,16)*_,_=1,x=void 0,F=""):F+=N;return C},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var y=g.font,p=f.Unicode[y.postScriptName];p&&(y.metadata.Unicode={},y.metadata.Unicode.widths=p.widths,y.metadata.Unicode.kerning=p.kerning);var x=d.Unicode[y.postScriptName];x&&(y.metadata.Unicode.encoding=x,y.encoding=x.codePages[0])}])}(xt.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(kc(l)),a.metadata=e.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(xt),function(e){function t(){return(St.canvg?Promise.resolve(St.canvg):$m(()=>import("./index.es-Z4RcpHqE.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}xt.API.addSvgAsImage=function(r,n,s,i,a,l,c,d){if(isNaN(n)||isNaN(s))throw er.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw er.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=a;var g=f.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,f.width,f.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(x){return x.fromString(g,r,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(y)}).then(function(){p.addImage(f.toDataURL("image/jpeg",1),n,s,i,a,c,d)})}}(),xt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},xt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),c=[],d=0,f=0,g=0;function y(x,N){var C,_=!1;for(C=0;C<x.length;C+=1)x[C]===N&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(g=0;g<p;g+=1)r[l[g]].value=r[l[g]].defaultValue,r[l[g]].explicitSet=!1}if(Ht(e)==="object"){for(s in e)if(i=e[s],y(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&y(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(f=0;f<i[d].length;f+=1)typeof i[d][f]!="number"&&(n=!1);n===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,N=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?N.push("/"+x+" /"+r[x].value):N.push("/"+x+" "+r[x].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+a.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(xt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,a){for(var l,c=a.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],g=0,y=i.length;g<y;++g){if(l=a.metadata.characterToGlyph(i.charCodeAt(g)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=i.charCodeAt(g),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},n=function(i){var a,l,c,d,f,g,y;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,y=(l=Object.keys(i).sort(function(p,x){return p-x})).length;g<y;g++)a=l[g],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(d=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+d+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,d=a.newObject,f=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var g=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",x=0;x<y.length;x++)p+=String.fromCharCode(y[x]);var N=d();f({data:p,addLength1:!0,objectId:N}),c("endobj");var C=d();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:C}),c("endobj");var _=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Ro(l.fontName)),c("/FontFile2 "+N+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Ro(l.fontName)),c("/FontDescriptor "+_+" 0 R"),c("/W "+e.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+C+" 0 R"),c("/BaseFont /"+Ro(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,d=a.newObject,f=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var g=l.metadata.rawData,y="",p=0;p<g.length;p++)y+=String.fromCharCode(g[p]);var x=d();f({data:y,addLength1:!0,objectId:x}),c("endobj");var N=d();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var C=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Ro(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var _=0;_<l.metadata.hmtx.widths.length;_++)l.metadata.hmtx.widths[_]=parseInt(l.metadata.hmtx.widths[_]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+Ro(l.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,l=i.text||"",c=i.x,d=i.y,f=i.options||{},g=i.mutex||{},y=g.pdfEscape,p=g.activeFontKey,x=g.fonts,N=p,C="",_=0,b="",S=x[N].encoding;if(x[N].encoding!=="Identity-H")return{text:l,x:c,y:d,options:f,mutex:g};for(b=l,N=p,Array.isArray(l)&&(b=l[0]),_=0;_<b.length;_+=1)x[N].metadata.hasOwnProperty("cmap")&&(a=x[N].metadata.cmap.unicode.codeMap[b[_].charCodeAt(0)]),a||b[_].charCodeAt(0)<256&&x[N].metadata.hasOwnProperty("Unicode")?C+=b[_]:C+="";var R="";return parseInt(N.slice(1))<14||S==="WinAnsiEncoding"?R=y(C,N).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(R=r(C,x[N])),g.isHex=!0,{text:R,x:c,y:d,options:f,mutex:g}};t.events.push(["postProcessText",function(i){var a=i.text||"",l=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?l.push([s(Object.assign({},c,{text:a[d][0]})).text,a[d][1],a[d][2]]):l.push(s(Object.assign({},c,{text:a[d]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:a})).text}])}(xt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(xt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,a,l,c,d,f,g=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,S=0;this.__bidiEngine__={};var R=function(L){var M=L.charCodeAt(),K=M>>8,q=N[K];return q!==void 0?g[256*q+(255&M)]:K===252||K===253?"AL":_.test(K)?"L":K===8?"R":"N"},F=function(L){for(var M,K=0;K<L.length;K++){if((M=R(L.charAt(K)))==="L")return!1;if(M==="R")return!0}return!1},te=function(L,M,K,q){var he,$,de,T,Q=M[q];switch(Q){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(Q="AN");break;case"AL":b=!0,Q="R";break;case"WS":Q="N";break;case"CS":q<1||q+1>=M.length||(he=K[q-1])!=="EN"&&he!=="AN"||($=M[q+1])!=="EN"&&$!=="AN"?Q="N":b&&($="AN"),Q=$===he?$:"N";break;case"ES":Q=(he=q>0?K[q-1]:"B")==="EN"&&q+1<M.length&&M[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&K[q-1]==="EN"){Q="EN";break}if(b){Q="N";break}for(de=q+1,T=M.length;de<T&&M[de]==="ET";)de++;Q=de<T&&M[de]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(T=M.length,de=q+1;de<T&&M[de]==="NSM";)de++;if(de<T){var Z=L[q],Ne=Z>=1425&&Z<=2303||Z===64286;if(he=M[de],Ne&&(he==="R"||he==="AL")){Q="R";break}}}Q=q<1||(he=M[q-1])==="B"?"N":K[q-1];break;case"B":b=!1,s=!0,Q=S;break;case"S":i=!0,Q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":Q="N"}return Q},z=function(L,M,K){var q=L.split("");return K&&U(q,K,{hiLevel:S}),q.reverse(),M&&M.reverse(),q.join("")},U=function(L,M,K){var q,he,$,de,T,Q=-1,Z=L.length,Ne=0,j=[],B=S?p:y,G=[];for(b=!1,s=!1,i=!1,he=0;he<Z;he++)G[he]=R(L[he]);for($=0;$<Z;$++){if(T=Ne,j[$]=te(L,G,j,$),q=240&(Ne=B[T][x[j[$]]]),Ne&=15,M[$]=de=B[Ne][5],q>0)if(q===16){for(he=Q;he<$;he++)M[he]=1;Q=-1}else Q=-1;if(B[Ne][6])Q===-1&&(Q=$);else if(Q>-1){for(he=Q;he<$;he++)M[he]=de;Q=-1}G[$]==="B"&&(M[$]=0),K.hiLevel|=de}i&&function(ee,ae,ce){for(var ge=0;ge<ce;ge++)if(ee[ge]==="S"){ae[ge]=S;for(var me=ge-1;me>=0&&ee[me]==="WS";me--)ae[me]=S}}(G,M,Z)},I=function(L,M,K,q,he){if(!(he.hiLevel<L)){if(L===1&&S===1&&!s)return M.reverse(),void(K&&K.reverse());for(var $,de,T,Q,Z=M.length,Ne=0;Ne<Z;){if(q[Ne]>=L){for(T=Ne+1;T<Z&&q[T]>=L;)T++;for(Q=Ne,de=T-1;Q<de;Q++,de--)$=M[Q],M[Q]=M[de],M[de]=$,K&&($=K[Q],K[Q]=K[de],K[de]=$);Ne=T}Ne++}}},se=function(L,M,K){var q=L.split(""),he={hiLevel:S};return K||(K=[]),U(q,K,he),function($,de,T){if(T.hiLevel!==0&&f)for(var Q,Z=0;Z<$.length;Z++)de[Z]===1&&(Q=C.indexOf($[Z]))>=0&&($[Z]=C[Q+1])}(q,K,he),I(2,q,M,K,he),I(1,q,M,K,he),q.join("")};return this.__bidiEngine__.doBidiReorder=function(L,M,K){if(function(he,$){if($)for(var de=0;de<he.length;de++)$[de]=de;l===void 0&&(l=F(he)),d===void 0&&(d=F(he))}(L,M),a||!c||d)if(a&&c&&l^d)S=l?1:0,L=z(L,M,K);else if(!a&&c&&d)S=l?1:0,L=se(L,M,K),L=z(L,M);else if(!a||l||c||d){if(a&&!c&&l^d)L=z(L,M),l?(S=0,L=se(L,M,K)):(S=1,L=se(L,M,K),L=z(L,M));else if(a&&l&&!c&&d)S=1,L=se(L,M,K),L=z(L,M);else if(!a&&!c&&l^d){var q=f;l?(S=1,L=se(L,M,K),S=0,f=!1,L=se(L,M,K),f=q):(S=0,L=se(L,M,K),L=z(L,M),S=1,f=!1,L=se(L,M,K),f=q,L=z(L,M))}}else S=0,L=se(L,M,K);else S=l?1:0,L=se(L,M,K);return L},this.__bidiEngine__.setOptions=function(L){L&&(a=L.isInputVisual,c=L.isOutputVisual,l=L.isInputRtl,d=L.isOutputRtl,f=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),a=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(a=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?a.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):a.push([r.doBidiReorder(s[l])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(xt),xt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new da(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new K6(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new R6(this.contents),this.head=new D6(this),this.name=new z6(this),this.cmap=new m_(this),this.toUnicode={},this.hhea=new M6(this),this.maxp=new $6(this),this.hmtx=new V6(this),this.post=new B6(this),this.os2=new U6(this),this.loca=new Y6(this),this.glyf=new G6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,c,d;for(d=[],a=0,l=(c=this.bbox).length;a<l;a++)t=c[a],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,a,l;for(a=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Os,da=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,a,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),R6=function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,a,l,c,d,f,g,y,p,x,N;for(N in p=Object.keys(r).length,c=Math.log(2),g=16*Math.floor(Math.log(p)/c),a=Math.floor(g/c),f=16*p-g,(s=new da).writeInt(this.scalarType),s.writeShort(p),s.writeShort(g),s.writeShort(a),s.writeShort(f),i=16*p,d=s.pos+i,l=null,x=[],r)for(y=r[N],s.writeString(N),s.writeInt(e(y)),s.writeInt(d),s.writeInt(y.length),x=x.concat(y),N==="head"&&(l=d),d+=y.length;d%4;)x.push(0),d++;return s.write(x),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,a;for(r=g_.call(r);r.length%4;)r.push(0);for(i=new da(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),F6={}.hasOwnProperty,Js=function(e,t){for(var r in t)F6.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Os=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var D6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,Os),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new da).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),a2=function(){function e(t,r){var n,s,i,a,l,c,d,f,g,y,p,x,N,C,_,b,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),g=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),y=p/2,t.pos+=6,i=function(){var R,F;for(F=[],c=R=0;0<=y?R<y:R>y;c=0<=y?++R:--R)F.push(t.readUInt16());return F}(),t.pos+=2,N=function(){var R,F;for(F=[],c=R=0;0<=y?R<y:R>y;c=0<=y?++R:--R)F.push(t.readUInt16());return F}(),d=function(){var R,F;for(F=[],c=R=0;0<=y?R<y:R>y;c=0<=y?++R:--R)F.push(t.readUInt16());return F}(),f=function(){var R,F;for(F=[],c=R=0;0<=y?R<y:R>y;c=0<=y?++R:--R)F.push(t.readUInt16());return F}(),s=(this.length-t.pos+this.offset)/2,l=function(){var R,F;for(F=[],c=R=0;0<=s?R<s:R>s;c=0<=s?++R:--R)F.push(t.readUInt16());return F}(),c=_=0,S=i.length;_<S;c=++_)for(C=i[c],n=b=x=N[c];x<=C?b<=C:b>=C;n=x<=C?++b:--b)f[c]===0?a=n+d[c]:(a=l[f[c]/2+(n-x)-(y-c)]||0)!==0&&(a+=d[c]),this.codeMap[n]=65535&a}t.pos=g}return e.encode=function(t,r){var n,s,i,a,l,c,d,f,g,y,p,x,N,C,_,b,S,R,F,te,z,U,I,se,L,M,K,q,he,$,de,T,Q,Z,Ne,j,B,G,ee,ae,ce,ge,me,Le,J,be;switch(q=new da,a=Object.keys(t).sort(function(xe,ze){return xe-ze}),r){case"macroman":for(N=0,C=function(){var xe=[];for(x=0;x<256;++x)xe.push(0);return xe}(),b={0:0},i={},he=0,Q=a.length;he<Q;he++)b[me=t[s=a[he]]]==null&&(b[me]=++N),i[s]={old:t[s],new:b[t[s]]},C[s]=b[t[s]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(C),{charMap:i,subtable:q.data,maxGlyphID:N+1};case"unicode":for(M=[],g=[],S=0,b={},n={},_=d=null,$=0,Z=a.length;$<Z;$++)b[F=t[s=a[$]]]==null&&(b[F]=++S),n[s]={old:F,new:b[F]},l=b[F]-s,_!=null&&l===d||(_&&g.push(_),M.push(s),d=l),_=s;for(_&&g.push(_),g.push(65535),M.push(65535),se=2*(I=M.length),U=2*Math.pow(Math.log(I)/Math.LN2,2),y=Math.log(U/2)/Math.LN2,z=2*I-U,c=[],te=[],p=[],x=de=0,Ne=M.length;de<Ne;x=++de){if(L=M[x],f=g[x],L===65535){c.push(0),te.push(0);break}if(L-(K=n[L].new)>=32768)for(c.push(0),te.push(2*(p.length+I-x)),s=T=L;L<=f?T<=f:T>=f;s=L<=f?++T:--T)p.push(n[s].new);else c.push(K-L),te.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*I+2*p.length),q.writeUInt16(0),q.writeUInt16(se),q.writeUInt16(U),q.writeUInt16(y),q.writeUInt16(z),ce=0,j=g.length;ce<j;ce++)s=g[ce],q.writeUInt16(s);for(q.writeUInt16(0),ge=0,B=M.length;ge<B;ge++)s=M[ge],q.writeUInt16(s);for(Le=0,G=c.length;Le<G;Le++)l=c[Le],q.writeUInt16(l);for(J=0,ee=te.length;J<ee;J++)R=te[J],q.writeUInt16(R);for(be=0,ae=p.length;be<ae;be++)N=p[be],q.writeUInt16(N);return{charMap:n,subtable:q.data,maxGlyphID:S+1}}},e}(),m_=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,Os),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new a2(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=a2.encode(r,n),(i=new da).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t}(),M6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,Os),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),U6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,Os),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),B6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,Os),t.prototype.tag="post",t.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(s=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)d.push(r.readUInt32());return d}).call(this)}},t}(),q6=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},z6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,Os),t.prototype.tag="name",t.prototype.parse=function(r){var n,s,i,a,l,c,d,f,g,y,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),s=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(d={},a=g=0,y=s.length;g<y;a=++g)i=s[a],r.pos=i.offset,f=r.readString(i.length),l=new q6(f,i),d[p=i.nameID]==null&&(d[p]=[]),d[i.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),$6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,Os),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),V6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,Os),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,s,i,a,l,c,d;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,g;for(g=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)g.push(r.readInt16());return g}(),this.widths=(function(){var f,g,y,p;for(p=[],f=0,g=(y=this.metrics).length;f<g;f++)a=y[f],p.push(a.advance);return p}).call(this),s=this.widths[this.widths.length-1],d=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)d.push(this.widths.push(s));return d},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),g_=[].slice,G6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,Os),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,s,i,a,l,c,d,f,g,y;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,s=a.indexOf(r),(i=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,l=(c=new da(n.read(i))).readShort(),f=c.readShort(),y=c.readShort(),d=c.readShort(),g=c.readShort(),this.cache[r]=l===-1?new H6(c,f,y,d,g):new W6(c,l,f,y,d,g),this.cache[r]))},t.prototype.encode=function(r,n,s){var i,a,l,c,d;for(l=[],a=[],c=0,d=n.length;c<d;c++)i=r[n[c]],a.push(l.length),i&&(l=l.concat(i.encode(s)));return a.push(l.length),{table:l,offsets:a}},t}(),W6=function(){function e(t,r,n,s,i,a){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),H6=function(){function e(t,r,n,s,i){var a,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new da(g_.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Y6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,Os),t.prototype.tag="loca",t.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(r.readUInt32());return a}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,l=0;l<s.length;++l)if(s[l]=i,a<n.length&&n[a]==l){++a,s[l]=i;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(i+=d)}for(var f=new Array(4*s.length),g=0;g<s.length;++g)f[4*g+3]=255&s[g],f[4*g+2]=(65280&s[g])>>8,f[4*g+1]=(16711680&s[g])>>16,f[4*g]=(4278190080&s[g])>>24;return f},t}(),K6=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,a,l,c;for(s={},a=0,l=t.length;a<l;a++)s[i=t[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,a,l,c,d,f,g,y,p,x,N,C,_;for(s in n=m_.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),p={0:0},_=n.charMap)p[(c=_[s]).old]=c.new;for(x in y=n.maxGlyphID,a)x in p||(p[x]=y++);return f=function(b){var S,R;for(S in R={},b)R[b[S]]=S;return R}(p),g=Object.keys(f).sort(function(b,S){return b-S}),N=function(){var b,S,R;for(R=[],b=0,S=g.length;b<S;b++)l=g[b],R.push(f[l]);return R}(),i=this.font.glyf.encode(a,N,p),d=this.font.loca.encode(i.offsets,N),C={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},e}();xt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+t.convert(a));return i.push(">>"),i.join(`
`)}return""+r},t}();function J6(){const e=()=>{const t=new xt;let r=16;t.setFontSize(16),t.text("Vijayam Science and Arts Degree College",12,r),r+=8,t.setFontSize(12),t.text("Manual Application Form (Blank)",12,r),r+=10;const n=s=>{t.text(s,12,r),t.line(70,r+1,200,r+1),r+=10};["Student ID","Admission No","HT No","Academic Year","Group","Course Code","Course Name","Full Name","DOB","Gender","Father's Name","Mother's Name","Mobile","Email","Nationality","State","Aadhar No","Postal Code","Religion","Caste","Sub Caste","Address"].forEach(n),t.save("Application-Form-Blank.pdf")};return o.jsx("div",{className:"container py-5",children:o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-lg-10",children:o.jsxs("div",{className:"card card-soft p-4",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsxs("div",{className:"d-flex align-items-center gap-2",children:[o.jsx("img",{src:"/image.png",className:"brand-logo",alt:"logo"}),o.jsxs("div",{children:[o.jsx("h3",{className:"fw-bold mb-0",children:"Vijayam College of Arts & Science"}),o.jsx("div",{className:"text-muted",children:"Chennai"})]})]}),o.jsx(Ji,{to:"/",className:"btn btn-brand",children:"Back to Home"})]}),o.jsx("h5",{className:"mt-1",children:"Application Form"}),o.jsxs("div",{className:"mt-3 d-flex gap-2",children:[o.jsx("button",{className:"btn btn-brand btn-sm",onClick:e,children:"Download Blank PDF"}),o.jsx("button",{className:"btn btn-outline-brand btn-sm",onClick:()=>window.print(),children:"Print This Page"})]}),o.jsxs("div",{className:"row g-3 mt-1",children:[o.jsxs("div",{className:"col-12",children:[o.jsx("h6",{className:"fw-bold mb-1",children:"Student & Admission"}),o.jsx("hr",{className:"hr-soft"})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Student ID"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Admission No"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Academic Year"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("h6",{className:"fw-bold mb-1",children:"Group & Course"}),o.jsx("hr",{className:"hr-soft"})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Group"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Course Code"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Course Name"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("h6",{className:"fw-bold mb-1",children:"Personal Details"}),o.jsx("hr",{className:"hr-soft"})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Full Name"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Gender"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"DOB"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Father's Name"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Mother's Name"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("h6",{className:"fw-bold mb-1",children:"Contact & Address"}),o.jsx("hr",{className:"hr-soft"})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Mobile"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Email"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Nationality"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"State"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Aadhar No"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Postal Code (PIN)"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Religion"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Caste"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Sub Caste"}),o.jsx("input",{className:"form-control"})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("label",{className:"form-label",children:"Address"}),o.jsx("textarea",{className:"form-control",rows:"2"})]}),o.jsxs("div",{className:"col-12 d-flex justify-content-end gap-2 mt-2",children:[o.jsx("button",{className:"btn btn-outline-secondary",onClick:t=>{t.preventDefault(),window.print()},children:"Print"}),o.jsx("button",{className:"btn btn-brand",onClick:t=>{t.preventDefault(),e()},children:"Download PDF"})]})]})]})})})})}const X6=[{to:"/admin/applications",label:"Exam Applications",icon:"bi-inboxes"},{to:"/admin/setup/years",label:"Create Academic Years",icon:"bi-calendar3"},{to:"/admin/setup/groups",label:"Create Groups & Courses",icon:"bi-diagram-3"},{to:"/admin/setup/subjects",label:"Create Subjects",icon:"bi-journal-text"},{to:"/admin/students",label:"Students Details",icon:"bi-person-badge"},{to:"/admin/departments",label:"Fees Generation",icon:"bi-mortarboard"},{to:"/admin/payments",label:"Payments",icon:"bi-credit-card"},{to:"/admin/courses",label:"View Courses",icon:"bi-book"},{to:"/admin/hall-tickets",label:"Hall Ticket",icon:"bi-ticket-perforated"},{to:"/admin/exams",label:"Create Exam timetable",icon:"bi-journal-check"},{to:"/admin/results",label:"Result",icon:"bi-award"}];function Rs({children:e,onSignOut:t}){const{pathname:r}=ga(),n=_l(),{signOut:s}=e0(),[i,a]=H.useState(!1),l=()=>{if(typeof t=="function")t();else try{s()}catch{}n("/")};return o.jsxs("div",{className:"admin-shell d-grid",style:{gridTemplateColumns:i?"92px 1fr":"280px 1fr"},children:[o.jsxs("aside",{className:`sidebar-modern d-flex flex-column ${i?"collapsed":""}`,children:[o.jsxs("div",{className:"sidebar-header",children:[o.jsxs("div",{className:"sidebar-brand d-flex align-items-center gap-3",children:[o.jsx("img",{src:Sl,alt:"Vijayam Logo",className:"brand-logo shadow-sm",style:{width:80,height:80,objectFit:"contain"}}),o.jsxs("div",{className:"sidebar-brand-info text-uppercase",children:[o.jsx("div",{className:"heading-font fw-600",style:{letterSpacing:"0.2em",fontSize:"0.95rem"},children:"Vijayam College"}),o.jsxs("div",{className:"sidebar-brand-subtitle fw-semibold",style:{fontSize:"0.85rem",letterSpacing:"0.18em"},children:["Arts & Science",o.jsx("span",{style:{padding:"0 0.4rem"},children:""}),"Chittor"]})]})]}),o.jsx("button",{className:"btn btn-sm btn-toggle",onClick:()=>a(!i),title:i?"Expand navigation":"Collapse navigation",children:o.jsx("i",{className:`bi ${i?"bi-chevron-double-right":"bi-chevron-double-left"}`})})]}),o.jsx("div",{className:"sidebar-divider"}),o.jsx("nav",{className:"sidebar-nav flex-grow-1 d-flex flex-column gap-1",children:X6.map(c=>o.jsxs(Ji,{to:c.to,title:c.label,className:`nav-item-modern ${r===c.to?"active":""}`,children:[o.jsx("span",{className:"icon",children:o.jsx("i",{className:`bi ${c.icon}`})}),o.jsx("span",{className:"label",children:c.label})]},c.to))}),o.jsxs("div",{className:"sidebar-footer text-center small text-muted mt-auto",children:[o.jsx("div",{children:"Exam Management Studio"}),o.jsx("div",{children:"Crafted for Vijayam College"})]})]}),o.jsxs("main",{className:"admin-main p-4",children:[o.jsxs("div",{className:"brandbar rounded px-3 py-2 mb-3 d-flex align-items-center justify-content-between header-shadow",children:[o.jsx("div",{className:"brandbar-title",children:"Exam Management System"}),o.jsxs("button",{className:"btn btn-outline-secondary modern-signout",onClick:l,title:"Sign out",children:[o.jsx("i",{className:"bi bi-box-arrow-right me-2"}),"Sign out"]})]}),o.jsx("div",{className:"admin-main-scroll",children:e})]})]})}function Q6(){const e=["Male","Female","Other"],t=["General","OBC","SC","ST","Others"],r=["Hindu","Muslim","Christian","Sikh","Buddhist","Jain","Others"],n=["Tamil Nadu","Andhra Pradesh","Karnataka","Kerala","Telangana","Maharashtra","Other"],s={student_id:"",ht_no:"",academic_year:"",group:"",group_code:"",course_id:"",full_name:"",gender:"",dob:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_no:"",postal_code:"",address:"",mobile:"",Parent_no:"",email:"",religion:"",caste:"",sub_caste:""},[i,a]=H.useState({...s,course_name:""}),[l,c]=H.useState(null),[d,f]=H.useState(null),[g,y]=H.useState(!1),[p,x]=H.useState(""),[N,C]=H.useState([]),[_,b]=H.useState([]),[S,R]=H.useState([]),[F,te]=H.useState(""),[z,U]=H.useState([]),[I,se]=H.useState([]),[L,M]=H.useState([]),K=(T,Q)=>a(Z=>({...Z,[T]:Q}));H.useEffect(()=>{(async()=>{var Q,Z;try{const[Ne,j,B]=await Promise.all([Ce.listCourses(),((Q=Ce.listGroups)==null?void 0:Q.call(Ce))||[],((Z=Ce.listAcademicYears)==null?void 0:Z.call(Ce))||[]]);C(Ne||[]),M(Ne||[]),b(j||[]),se(j||[]);const G=(B||[]).filter(ee=>(ee==null?void 0:ee.active)!==!1);R(G),U(G)}catch(Ne){console.error("Failed to load masters",Ne),C([]),b([]),R([]),U([])}})()},[]),H.useEffect(()=>{if(F){const T=S.filter(j=>F==="UG"&&j.category==="UG"||F==="PG"&&j.category==="PG"),Q=_.filter(j=>F==="UG"&&(j.category==="UG"||j.Category==="UG")||F==="PG"&&(j.category==="PG"||j.Category==="PG")),Z=Q.find(j=>j.code===i.group_code||j.group_code===i.group_code),Ne=N.filter(j=>{if(!Z)return!0;const B=Z.code||Z.group_code;return j.group_code===B||j.groupCode===B||j.group_name&&(j.group_name===Z.name||j.group_name===Z.group_name)||j.groupName&&(j.groupName===Z.name||j.groupName===Z.group_name)});U(T),se(Q),M(Ne),i.academic_year&&!T.some(j=>j.academic_year===i.academic_year||j.name===i.academic_year)&&K("academic_year",""),i.group_code&&!Q.some(j=>j.code===i.group_code||j.group_code===i.group_code)&&(K("group_code",""),K("group",""),K("course_id",""),K("course_name","")),i.course_id&&!Ne.some(j=>String(j.id||j.course_id)===String(i.course_id))&&(K("course_id",""),K("course_name",""))}else U(S),se(_),M(N)},[F,S,_,N,i.academic_year,i.group_code,i.course_id]);const q=()=>{a(s),te(""),se(_),M(N),U(S),c(null),f(null),x("")},he=(T,Q)=>Z=>{const Ne=(Z.target.value||"").replace(/\D/g,"").slice(0,Q);K(T,Ne)},$=(T,Q)=>new RegExp(`^\\d{${Q}}$`).test(T),de=async T=>{T.preventDefault(),x("");const Q={Category:F,"Academic Year":i.academic_year,Group:i.group,Course:i.course_id,"Full Name":i.full_name,Gender:i.gender,"Date of Birth":i.dob,"Mobile Number":i.mobile,"Parent Mobile":i.Parent_no,"Postal Code":i.postal_code,Address:i.address};if(oa(Q,{title:"Incomplete application"})){if(!$(i.mobile,10)){rt("Enter a valid 10-digit mobile number.",{type:"warning",title:"Invalid mobile"});return}if(!$(i.postal_code,6)){rt("Postal code must be 6 digits.",{type:"warning",title:"Invalid postal code"});return}if(i.aadhar_no&&!$(i.aadhar_no,12)){rt("Aadhar number must contain 12 digits.",{type:"warning",title:"Invalid Aadhar"});return}y(!0);try{const Z=N.find(ee=>String(ee.id||ee.course_id)===String(i.course_id));if(!Z)throw new Error("Select a valid course");const Ne=Z.courseCode||Z.code;if(!Ne)throw new Error("Selected course is missing a course code reference");const j=i.course_name||Z.courseName||Z.course_name||"",B={student_id:i.student_id||`STU${Date.now().toString().slice(-6)}`,hall_ticket_no:i.ht_no||null,academic_year:i.academic_year,group_name:i.group_code||i.group,course_name:Ne,Category:F||null,full_name:i.full_name,gender:i.gender,date_of_birth:i.dob,father_name:i.father_name||null,mother_name:i.mother_name||null,nationality:i.nationality||null,state:i.state||null,aadhar_number:i.aadhar_no||null,pincode:i.postal_code,address:i.address,phone_number:i.mobile,Parent_no:i.Parent_no,email:i.email||null,religion:i.religion||null,caste:i.caste||null,sub_caste:i.sub_caste||null,photo_url:l?URL.createObjectURL(l):null,cert_url:d?URL.createObjectURL(d):null,status:"ACTIVE",created_at:new Date().toISOString()},{error:G}=await Ze.from("students").insert([B]);if(G)throw G;rt("Application submitted successfully!",{type:"success",title:"Success"}),x("Application saved successfully."),q()}catch(Z){console.error("Unable to submit application",Z),x(Z.message||"Unable to submit application right now.")}finally{y(!1)}}};return o.jsx(Rs,{children:o.jsxs("div",{className:"desktop-container",style:{overflowX:"hidden"},children:[o.jsx("section",{className:"setup-hero mb-4 text-center",children:o.jsxs("div",{className:"setup-hero-copywrap mx-auto text-center",style:{maxWidth:"640px"},children:[o.jsx("div",{className:"admin-applications__crest mx-auto","aria-hidden":"true",children:o.jsx("img",{src:Sl,alt:"Vijayam crest"})}),o.jsx("h3",{className:"setup-hero-title mb-2",children:"Vijayam Arts & Science College"}),o.jsx("p",{className:"setup-hero-copy mb-3",children:"Collect, verify, and onboard applicants with confidence."}),o.jsxs("div",{className:"setup-hero-chips d-flex flex-wrap gap-2 justify-content-center",children:[o.jsx("span",{className:"setup-hero-chip text-uppercase",children:"SMART EXAMINATION PLATFORM"}),o.jsx("span",{className:"setup-hero-chip text-uppercase",children:"ADMISSIONS CONTROL"}),o.jsx("span",{className:"setup-hero-chip text-uppercase",children:"APPLICATIONS ADMIN CONSOLE"})]})]})}),o.jsx("div",{className:"row g-4 justify-content-center mx-0",children:o.jsx("div",{className:"col-12 col-lg-11 col-xl-10",children:o.jsxs("div",{className:"card card-soft p-4 mb-4",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"mb-1",children:"Student Application"}),o.jsx("p",{className:"text-muted mb-0",children:"Programme selection, personal profile, and uploads."})]}),o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:q,children:"Reset Form"})]}),o.jsxs("form",{onSubmit:de,children:[o.jsxs("div",{className:"application-section mb-4",children:[o.jsx("h6",{className:"text-uppercase text-muted fw-bold small",children:"Programme Selection"}),o.jsxs("div",{className:"row g-3 mt-1",children:[o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Category"}),o.jsxs("select",{className:"form-select",value:F,onChange:T=>te(T.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Select"}),o.jsx("option",{value:"UG",children:"UG"}),o.jsx("option",{value:"PG",children:"PG"})]})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Academic Year"}),o.jsxs("select",{className:"form-select",value:i.academic_year,onChange:T=>K("academic_year",T.target.value),required:!0,disabled:!F,children:[o.jsx("option",{value:"",children:"Select Year"}),z.map(T=>o.jsx("option",{value:T.academic_year||T.name,children:T.academic_year||T.name},T.id))]})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Group"}),o.jsxs("select",{className:"form-select",value:i.group_code||i.group,onChange:T=>{const Q=T.target.value,Z=I.find(Ne=>Ne.code===Q||Ne.group_code===Q);K("group",(Z==null?void 0:Z.name)||(Z==null?void 0:Z.group_name)||(Z==null?void 0:Z.code)||Q),a(Ne=>({...Ne,group_code:Q}))},required:!0,disabled:!F,children:[o.jsx("option",{value:"",children:"Select"}),I.map(T=>o.jsx("option",{value:T.code||T.group_code,children:T.name||T.group_name||"Group"},T.id||T.group_id))]})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Course"}),o.jsxs("select",{className:"form-select",value:i.course_id,onChange:T=>{const Q=L.find(Z=>String(Z.id||Z.course_id)===String(T.target.value));a(Z=>({...Z,course_id:T.target.value,course_name:(Q==null?void 0:Q.courseName)||(Q==null?void 0:Q.course_name)||(Q==null?void 0:Q.name)||""}))},required:!0,disabled:!i.group_code,children:[o.jsx("option",{value:"",children:"Select"}),L.map(T=>o.jsx("option",{value:T.id||T.course_id,children:T.name||T.courseName||T.course_name},T.id||T.course_id))]})]})]})]}),o.jsxs("div",{className:"application-section mb-4",children:[o.jsx("h6",{className:"text-uppercase text-muted fw-bold small",children:"Identity & Guardians"}),o.jsxs("div",{className:"row g-3 mt-1",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Student ID"}),o.jsx("input",{className:"form-control",value:i.student_id,onChange:T=>K("student_id",T.target.value),placeholder:"Auto-generated if blank"})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Hall Ticket No"}),o.jsx("input",{className:"form-control",value:i.ht_no,onChange:T=>K("ht_no",T.target.value),placeholder:"Optional"})]}),o.jsxs("div",{className:"col-md-8",children:[o.jsx("label",{className:"form-label",children:"Full Name"}),o.jsx("input",{className:"form-control",value:i.full_name,onChange:T=>K("full_name",T.target.value),required:!0})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Gender"}),o.jsxs("select",{className:"form-select",value:i.gender,onChange:T=>K("gender",T.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Select"}),e.map(T=>o.jsx("option",{value:T,children:T},T))]})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"DOB"}),o.jsx("input",{type:"date",className:"form-control",value:i.dob,onChange:T=>K("dob",T.target.value),required:!0})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Father's Name"}),o.jsx("input",{className:"form-control",value:i.father_name,onChange:T=>K("father_name",T.target.value)})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Mother's Name"}),o.jsx("input",{className:"form-control",value:i.mother_name,onChange:T=>K("mother_name",T.target.value)})]})]})]}),o.jsxs("div",{className:"application-section mb-4",children:[o.jsx("h6",{className:"text-uppercase text-muted fw-bold small",children:"Contact & Address"}),o.jsxs("div",{className:"row g-3 mt-1",children:[o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Mobile Number"}),o.jsx("input",{type:"tel",className:"form-control",value:i.mobile,onChange:he("mobile",10),required:!0,maxLength:10,placeholder:"10-digit mobile number"})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Parent Mobile"}),o.jsx("input",{type:"tel",className:"form-control",value:i.Parent_no,onChange:he("Parent_no",10),required:!0,maxLength:10,placeholder:"Parent's 10-digit mobile"})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",value:i.email,onChange:T=>K("email",T.target.value)})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Nationality"}),o.jsx("input",{className:"form-control",value:i.nationality,onChange:T=>K("nationality",T.target.value)})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"State"}),o.jsxs("select",{className:"form-select",value:i.state,onChange:T=>K("state",T.target.value),children:[o.jsx("option",{value:"",children:"Select"}),n.map(T=>o.jsx("option",{value:T,children:T},T))]})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Postal Code"}),o.jsx("input",{className:"form-control",inputMode:"numeric",value:i.postal_code,onChange:he("postal_code",6),placeholder:"6-digit PIN",required:!0})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Aadhaar"}),o.jsx("input",{className:"form-control",inputMode:"numeric",value:i.aadhar_no,onChange:he("aadhar_no",12),placeholder:"12-digit"})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Religion"}),o.jsxs("select",{className:"form-select",value:i.religion,onChange:T=>K("religion",T.target.value),children:[o.jsx("option",{value:"",children:"Select"}),r.map(T=>o.jsx("option",{value:T,children:T},T))]})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Caste"}),o.jsxs("select",{className:"form-select",value:i.caste,onChange:T=>K("caste",T.target.value),children:[o.jsx("option",{value:"",children:"Select"}),t.map(T=>o.jsx("option",{value:T,children:T},T))]})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Sub Caste"}),o.jsx("input",{className:"form-control",value:i.sub_caste,onChange:T=>K("sub_caste",T.target.value)})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("label",{className:"form-label",children:"Permanent Address"}),o.jsx("textarea",{className:"form-control",rows:"2",value:i.address,onChange:T=>K("address",T.target.value),required:!0})]})]})]}),o.jsxs("div",{className:"application-section mb-3",children:[o.jsx("h6",{className:"text-uppercase text-muted fw-bold small",children:"Uploads"}),o.jsxs("div",{className:"row g-3 mt-1",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Photograph"}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",onChange:T=>{var Q;return c(((Q=T.target.files)==null?void 0:Q[0])||null)}})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{className:"form-label",children:"Signature"}),o.jsx("input",{type:"file",accept:"application/pdf,image/*",className:"form-control",onChange:T=>{var Q;return f(((Q=T.target.files)==null?void 0:Q[0])||null)}})]})]})]}),o.jsxs("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:q,children:"Clear"}),o.jsx("button",{className:"btn btn-brand",disabled:g,children:g?"Submitting...":"Submit Application"})]})]}),p&&o.jsx("div",{className:"alert alert-info mt-3 mb-0",children:p})]})})})]})})}function Z6(){H.useEffect(()=>{const p=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=p}},[]);const e=_l(),{setUser:t}=e0(),[r,n]=H.useState("admin@vijayam.edu"),[s,i]=H.useState("admin123"),[a,l]=H.useState("ADMIN"),[c,d]=H.useState(!1),[f,g]=H.useState(""),y=async p=>{p.preventDefault(),d(!0),g("");try{const x=await Ce.login(r);t({email:x.email,role:x.role}),e("/admin")}catch(x){g(x.message||"Unable to sign in right now")}finally{d(!1)}};return o.jsx("main",{className:"admin-login-shell",children:o.jsxs("section",{className:"admin-login-card","aria-live":"polite",children:[o.jsxs("div",{className:"admin-login-brand",children:[o.jsx("div",{className:"admin-login-logo","aria-hidden":"true",children:o.jsx("img",{src:Sl,alt:"Vijayam crest"})}),o.jsxs("div",{children:[o.jsx("p",{className:"admin-login-eyebrow",children:"Exam Control Centre"}),o.jsx("h1",{className:"admin-login-title",children:"Admin login"}),o.jsx("p",{className:"admin-login-subtitle",children:"Sign in to manage Vijayam exams."})]})]}),o.jsxs("form",{className:"admin-login-form",onSubmit:y,children:[o.jsxs("label",{className:"admin-login-field",children:[o.jsx("span",{children:"Email"}),o.jsx("input",{type:"email",className:"admin-login-input",value:r,autoComplete:"username",onChange:p=>n(p.target.value),required:!0})]}),o.jsxs("label",{className:"admin-login-field",children:[o.jsx("span",{children:"Password"}),o.jsx("input",{type:"password",className:"admin-login-input",value:s,autoComplete:"current-password",onChange:p=>i(p.target.value),required:!0})]}),o.jsxs("label",{className:"admin-login-field",children:[o.jsx("span",{children:"Login as"}),o.jsxs("select",{className:"admin-login-input admin-login-select",value:a,onChange:p=>l(p.target.value),children:[o.jsx("option",{value:"ADMIN",children:"Admin"}),o.jsx("option",{value:"PRINCIPAL",children:"Principal"})]})]}),f&&o.jsx("p",{className:"admin-login-error",children:f}),o.jsx("button",{className:"admin-login-submit",disabled:c,children:c?"Signing in...":"Sign in"})]})]})})}function eC(){const[e,t]=H.useState([]),[r,n]=H.useState(""),s=async()=>t(await Ce.listBatches());H.useEffect(()=>{s()},[]);const i=async()=>{oa({"Batch name":r})&&(await Ce.addBatch({name:r.trim()}),n(""),s())};return o.jsxs(Rs,{children:[o.jsx("h2",{className:"fw-bold mb-3",children:"Batches"}),o.jsxs("div",{className:"row g-3",children:[o.jsx("div",{className:"col-lg-4",children:o.jsxs("div",{className:"card card-soft p-3",children:[o.jsx("label",{className:"form-label",children:"Batch Name"}),o.jsx("input",{className:"form-control mb-2",value:r,required:!0,onChange:a=>n(a.target.value),placeholder:"e.g., 2025-CS-A"}),o.jsx("button",{className:"btn btn-brand",onClick:i,children:"Add Batch"})]})}),o.jsx("div",{className:"col-lg-8",children:o.jsx("div",{className:"card card-soft p-0",children:o.jsxs("table",{className:"table mb-0",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Name"}),o.jsx("th",{children:"Created"})]})}),o.jsx("tbody",{children:e.map(a=>o.jsxs("tr",{children:[o.jsx("td",{children:a.name}),o.jsx("td",{children:new Date(a.created_at).toLocaleString()})]},a.id))})]})})})]})]})}function tC(){const[e,t]=H.useState([]),r=async()=>t(await Ce.listCourses());return H.useEffect(()=>{r()},[]),o.jsxs(Rs,{children:[o.jsx("h2",{className:"fw-bold mb-3",children:"Courses"}),o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsx("div",{className:"card card-soft p-0",children:o.jsxs("table",{className:"table mb-0",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Course Code"}),o.jsx("th",{children:"Course Name"}),o.jsx("th",{children:"Duration"})]})}),o.jsx("tbody",{children:e.map(n=>o.jsxs("tr",{children:[o.jsx("td",{children:n.code}),o.jsx("td",{children:n.name}),o.jsxs("td",{children:[n.duration_years," years"]})]},n.id))})]})})})})]})}function rC(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}rC(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var p0=e=>typeof e=="number"&&!isNaN(e),Qc=e=>typeof e=="string",v_=e=>typeof e=="function",nC=e=>Qc(e)||p0(e),sC=e=>H.isValidElement(e)||Qc(e)||v_(e)||p0(e),iC=1,y_=()=>`${iC++}`,Ks=new Map,tg=[],o2=new Set,b_=()=>Ks.size>0,aC=(e,{containerId:t})=>{var r;return(r=Ks.get(t||1))==null?void 0:r.toasts.get(e)};function oC(e,t){var r;if(t)return!!((r=Ks.get(t))!=null&&r.isToastActive(e));let n=!1;return Ks.forEach(s=>{s.isToastActive(e)&&(n=!0)}),n}function lC(e){if(!b_()){tg=tg.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||nC(e))Ks.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ks.get(e.containerId);t?t.removeToast(e.id):Ks.forEach(r=>{r.removeToast(e.id)})}}var cC=(e={})=>{Ks.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function uC(e,t){sC(e)&&(b_()||tg.push({content:e,options:t}),Ks.forEach(r=>{r.buildToast(e,t)}))}function __(e,t){Ks.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function dC(e){return o2.add(e),()=>{o2.delete(e)}}function hC(e){return e&&(Qc(e.toastId)||p0(e.toastId))?e.toastId:y_()}function iu(e,t){return uC(e,t),t.toastId}function Wh(e,t){return{...t,type:t&&t.type||e,toastId:hC(t)}}function Hh(e){return(t,r)=>iu(t,Wh(e,r))}function Xt(e,t){return iu(e,Wh("default",t))}Xt.loading=(e,t)=>iu(e,Wh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function fC(e,{pending:t,error:r,success:n},s){let i;t&&(i=Qc(t)?Xt.loading(t,s):Xt.loading(t.render,{...s,...t}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,f,g)=>{if(f==null){Xt.dismiss(i);return}let y={type:d,...a,...s,data:g},p=Qc(f)?{render:f}:f;return i?Xt.update(i,{...y,...p}):Xt(p.render,{...y,...p}),g},c=v_(e)?e():e;return c.then(d=>l("success",n,d)).catch(d=>l("error",r,d)),c}Xt.promise=fC;Xt.success=Hh("success");Xt.info=Hh("info");Xt.error=Hh("error");Xt.warning=Hh("warning");Xt.warn=Xt.warning;Xt.dark=(e,t)=>iu(e,Wh("default",{theme:"dark",...t}));function pC(e){lC(e)}Xt.dismiss=pC;Xt.clearWaitingQueue=cC;Xt.isActive=oC;Xt.update=(e,t={})=>{let r=aC(e,t);if(r){let{props:n,content:s}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:y_()};i.toastId!==e&&(i.staleId=e);let a=i.render||s;delete i.render,iu(a,i)}};Xt.done=e=>{Xt.update(e,{progress:1})};Xt.onChange=dC;Xt.play=e=>__(!0,e);Xt.pause=e=>__(!1,e);function mC(){const[e,t]=H.useState([]),[r,n]=H.useState({academic_year:"",group_name:"",course_name:""}),[s,i]=H.useState([]),[a,l]=H.useState([]),[c,d]=H.useState([]),[f,g]=H.useState(!1),[y,p]=H.useState(null),[x,N]=H.useState({show:!1,student:null,selectedStatus:"CONTINUE"}),C=["UG","PG"],_=H.useMemo(()=>{const $=[...C],de=new Set($.map(T=>T==null?void 0:T.toUpperCase()));return a.forEach(T=>{const Q=T.category||T.Category;if(Q){const Z=Q.toUpperCase();de.has(Z)||(de.add(Z),$.push(Z))}}),$},[a]),[b,S]=H.useState({student_id:"",hall_ticket_no:"",academic_year:"",group_name:"",group_code:"",course_name:"",course_code:"",full_name:"",gender:"",date_of_birth:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_number:"",address:"",pincode:"",phone_number:"",email:"",religion:"",caste:"",sub_caste:"",photo_url:"",cert_url:"",status:"ACTIVE",category:""});H.useEffect(()=>{u0((async()=>{g(!0);try{const{data:de,error:T}=await Ze.from("students").select(`
            *,
            group:groups!students_group_name_fkey(group_code, group_name),
            course:courses!students_course_name_fkey(course_code, course_name),
            year:academic_year!students_academic_year_fkey(academic_year)
          `).order("full_name");if(T)throw T;const{data:Q,error:Z}=await Ze.from("academic_year").select("id, academic_year, status").order("academic_year",{ascending:!1});if(Z)throw Z;const{data:Ne,error:j}=await Ze.from("groups").select("group_id, group_code, group_name").order("group_name");if(j)throw j;const{data:B,error:G}=await Ze.from("courses").select("course_id, course_code, course_name").order("course_name");if(G)throw G;const ee=de.map(ce=>{var ge,me,Le,J,be;return{...ce,group_name:((ge=ce.group)==null?void 0:ge.group_name)||ce.group_name,group_code:(me=ce.group)==null?void 0:me.group_code,course_name:((Le=ce.course)==null?void 0:Le.course_name)||ce.course_name,course_code:(J=ce.course)==null?void 0:J.course_code,academic_year:((be=ce.year)==null?void 0:be.academic_year)||ce.academic_year}});t(ee);const ae=(Q||[]).filter(ce=>ce.status===void 0?!0:!!ce.status);i(ae),l(Ne||[]),d(B||[])}catch(de){console.error("Error loading data:",de)}finally{g(!1)}})())},[]);const R=H.useMemo(()=>e.filter($=>{const de=!r.academic_year||$.academic_year===r.academic_year,T=!r.group_name||$.group_code===r.group_name,Q=!r.course_name||$.course_code===r.course_name;return de&&T&&Q}),[e,r]),F=($,de)=>{n(T=>({...T,[$]:de}))},te=$=>{var de,T,Q,Z;p($),S({student_id:$.student_id||"",hall_ticket_no:$.hall_ticket_no||"",academic_year:$.academic_year||"",category:($.Category||$.category||"").toUpperCase(),group_name:((de=$.group)==null?void 0:de.group_name)||$.group_name||$.group||"",group_code:((T=$.group)==null?void 0:T.group_code)||$.group_code||"",course_name:((Q=$.course)==null?void 0:Q.course_name)||$.course_name||$.course||"",course_code:((Z=$.course)==null?void 0:Z.course_code)||$.course_code||"",full_name:$.full_name||"",gender:$.gender||"",date_of_birth:$.date_of_birth||"",father_name:$.father_name||"",mother_name:$.mother_name||"",nationality:$.nationality||"",state:$.state||"",aadhar_number:$.aadhar_number||"",address:$.address||"",pincode:$.pincode||"",phone_number:$.phone_number||"",email:$.email||"",religion:$.religion||"",caste:$.caste||"",sub_caste:$.sub_caste||"",photo_url:$.photo_url||"",cert_url:$.cert_url||"",status:$.status||"ACTIVE"})},z=$=>{const{name:de,value:T}=$.target;S(Q=>{if(de==="group_code"){const Z=a.find(Ne=>Ne.group_code===T);return{...Q,group_code:T,group_name:(Z==null?void 0:Z.group_name)||""}}if(de==="course_code"){const Z=c.find(Ne=>Ne.course_code===T);return{...Q,course_code:T,course_name:(Z==null?void 0:Z.course_name)||""}}return de==="category"?{...Q,category:T.toUpperCase()}:{...Q,[de]:T}})},U=async()=>{var T,Q;if(!y)return;const $={"Student ID":b.student_id,Category:b.category,"Full Name":b.full_name,"Academic Year":b.academic_year,Group:b.group_name,Course:b.course_name};if(oa($,{notify:({message:Z})=>Xt.warn(Z)}))try{g(!0);const Z={student_id:b.student_id,hall_ticket_no:b.hall_ticket_no,academic_year:b.academic_year,Category:b.category,group_name:b.group_code,course_name:b.course_code,full_name:b.full_name,gender:b.gender,date_of_birth:b.date_of_birth,father_name:b.father_name,mother_name:b.mother_name,nationality:b.nationality,state:b.state,aadhar_number:b.aadhar_number,address:b.address,pincode:b.pincode,phone_number:b.phone_number,email:b.email,religion:b.religion,caste:b.caste,sub_caste:b.sub_caste,photo_url:b.photo_url,cert_url:b.cert_url,status:b.status},{error:Ne}=await Ze.from("students").update(Z).eq("id",y.id);if(Ne)throw Ne;const j=((T=a.find(G=>G.group_code===b.group_code))==null?void 0:T.group_name)||b.group_code,B=((Q=c.find(G=>G.course_code===b.course_code))==null?void 0:Q.course_name)||b.course_code;t(G=>G.map(ee=>ee.id===y.id?{...ee,...b,...Z,group_name:j,course_name:B,group_code:b.group_code,course_code:b.course_code}:ee)),Xt.success("Student updated successfully"),p(null)}catch(Z){console.error("Error updating student:",Z),Xt.error("Failed to update student")}finally{g(!1)}},I=()=>{p(null)},[se,L]=H.useState(null),M=async $=>{if(se===$){L(null);try{await Ce.deleteStudent($),t(de=>de.filter(T=>T.id!==$)),rt("Student deleted.",{type:"info"})}catch(de){console.error("Error deleting student:",de),rt("Unable to delete student.",{type:"danger"})}return}L($),rt("Click delete again within 5 seconds to confirm removing this student.",{type:"warning"}),setTimeout(()=>{L(de=>de===$?null:de)},5e3)},K=$=>{N({show:!0,student:$,selectedStatus:$.status||"CONTINUE"})},q=()=>{N($=>({...$,show:!1}))},he=async()=>{if(x.student)try{const{error:$}=await Ze.from("students").update({status:x.selectedStatus}).eq("id",x.student.id);if($)throw $;t(e.map(de=>de.id===x.student.id?{...de,status:x.selectedStatus}:de)),Xt.success("Student status updated successfully"),q()}catch($){console.error("Error updating student status:",$),Xt.error("Failed to update student status")}};return o.jsxs(Rs,{children:[o.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:o.jsx("h2",{className:"fw-bold mb-0",children:"Student Management"})}),o.jsxs("div",{className:"card card-soft p-3 mb-4",children:[o.jsx("h5",{className:"mb-3",children:"Filter Students"}),o.jsxs("div",{className:"row g-3",children:[o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Academic Year"}),o.jsxs("select",{className:"form-select",value:r.academic_year,onChange:$=>F("academic_year",$.target.value),children:[o.jsx("option",{value:"",children:"All Years"}),s.map($=>o.jsx("option",{value:$.academic_year,children:$.academic_year},$.id))]})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Group"}),o.jsxs("select",{className:"form-select",value:r.group_name,onChange:$=>F("group_name",$.target.value),children:[o.jsx("option",{value:"",children:"All Groups"}),a.map($=>o.jsx("option",{value:$.group_code,children:$.group_name},$.group_id))]})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Course"}),o.jsxs("select",{className:"form-select",value:r.course_name,onChange:$=>F("course_name",$.target.value),children:[o.jsx("option",{value:"",children:"All Courses"}),c.map($=>o.jsx("option",{value:$.course_code,children:$.course_name},$.course_id))]})]})]})]}),o.jsx("div",{className:"card card-soft p-0",children:o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover mb-0",children:[o.jsx("thead",{className:"table-light",children:o.jsxs("tr",{children:[o.jsx("th",{children:"Student ID"}),o.jsx("th",{children:"Name"}),o.jsx("th",{children:"Hall Ticket No"}),o.jsx("th",{children:"Group"}),o.jsx("th",{children:"Course"}),o.jsx("th",{children:"Academic Year"}),o.jsx("th",{children:"Academic Status"}),o.jsx("th",{children:"Edit Details"})]})}),o.jsx("tbody",{children:f?o.jsx("tr",{children:o.jsx("td",{colSpan:"6",className:"text-center py-4",children:o.jsx("div",{className:"spinner-border text-primary",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):R.length>0?R.map($=>{var de,T;return o.jsxs("tr",{children:[o.jsx("td",{children:$.student_id}),o.jsx("td",{children:$.full_name}),o.jsx("td",{children:$.hall_ticket_no||"-"}),o.jsx("td",{children:((de=$.group)==null?void 0:de.group_name)||$.group_name}),o.jsx("td",{children:((T=$.course)==null?void 0:T.course_name)||$.course_name}),o.jsx("td",{children:$.academic_year}),o.jsx("td",{children:o.jsx("button",{className:`btn btn-sm ${$.status==="DISCONTINUE"?"btn-danger":$.status==="HOLD"?"btn-warning":"btn-success"}`,onClick:()=>K($),style:{minWidth:"100px"},children:$.status==="DISCONTINUE"?"Discontinued":$.status==="HOLD"?"On Hold":"Active"})}),o.jsxs("td",{children:[o.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>te($),children:"Edit"}),o.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>M($.id),children:"Delete"})]})]},$.id)}):o.jsx("tr",{children:o.jsx("td",{colSpan:"6",className:"text-center py-4",children:"No students found matching the selected filters."})})})]})})}),y&&o.jsx("div",{className:"modal d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header bg-light",children:[o.jsxs("h5",{className:"modal-title",children:["Edit Student: ",y.student_id," "," ",y.full_name]}),o.jsx("button",{type:"button",className:"btn-close",onClick:I})]}),o.jsxs("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:[o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("h6",{children:"Student Information"}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Student ID"}),o.jsx("input",{type:"text",className:"form-control",name:"student_id",value:b.student_id,onChange:z,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Hall Ticket No"}),o.jsx("input",{type:"text",className:"form-control",name:"hall_ticket_no",value:b.hall_ticket_no,onChange:z})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Full Name"}),o.jsx("input",{type:"text",className:"form-control",name:"full_name",value:b.full_name,onChange:z,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Date of Birth"}),o.jsx("input",{type:"date",className:"form-control",name:"date_of_birth",value:b.date_of_birth,onChange:z,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Gender"}),o.jsxs("select",{className:"form-select",name:"gender",value:b.gender,onChange:z,required:!0,children:[o.jsx("option",{value:"",children:"Select Gender"}),o.jsx("option",{value:"Male",children:"Male"}),o.jsx("option",{value:"Female",children:"Female"}),o.jsx("option",{value:"Other",children:"Other"})]})]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("h6",{children:"Academic Information"}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Category"}),o.jsxs("select",{className:"form-select",name:"category",value:b.category,onChange:z,required:!0,children:[o.jsx("option",{value:"",children:"Select Category"}),_.map($=>o.jsx("option",{value:$,children:$},$))]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Academic Year"}),o.jsxs("select",{className:"form-select",name:"academic_year",value:b.academic_year,onChange:z,required:!0,children:[o.jsx("option",{value:"",children:"Select Year"}),s.map($=>o.jsx("option",{value:$.academic_year,children:$.academic_year},$.id))]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Group"}),o.jsxs("select",{className:"form-select",name:"group_code",value:b.group_code,onChange:z,required:!0,children:[o.jsx("option",{value:"",children:"Select Group"}),a.map($=>o.jsx("option",{value:$.group_code,children:$.group_name},$.group_id))]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Course"}),o.jsxs("select",{className:"form-select",name:"course_code",value:b.course_code,onChange:z,required:!0,children:[o.jsx("option",{value:"",children:"Select Course"}),c.map($=>o.jsx("option",{value:$.course_code,children:$.course_name},$.course_id))]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Status"}),o.jsxs("select",{className:"form-select",name:"status",value:b.status,onChange:z,required:!0,children:[o.jsx("option",{value:"ACTIVE",children:"Active"}),o.jsx("option",{value:"INACTIVE",children:"Inactive"}),o.jsx("option",{value:"GRADUATED",children:"Graduated"}),o.jsx("option",{value:"DROPPED",children:"Dropped"})]})]})]})]}),o.jsxs("div",{className:"row mt-3",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("h6",{children:"Parent Information"}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Father's Name"}),o.jsx("input",{type:"text",className:"form-control",name:"father_name",value:b.father_name,onChange:z})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Mother's Name"}),o.jsx("input",{type:"text",className:"form-control",name:"mother_name",value:b.mother_name,onChange:z})]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("h6",{children:"Contact Information"}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Phone Number"}),o.jsx("input",{type:"tel",className:"form-control",name:"phone_number",value:b.phone_number,onChange:z})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",name:"email",value:b.email,onChange:z})]})]})]}),o.jsx("div",{className:"row mt-3",children:o.jsxs("div",{className:"col-12",children:[o.jsx("h6",{children:"Address & Identity"}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Address"}),o.jsx("textarea",{className:"form-control",name:"address",rows:"2",value:b.address,onChange:z})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"State"}),o.jsx("input",{type:"text",className:"form-control",name:"state",value:b.state,onChange:z})]})}),o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Pincode"}),o.jsx("input",{type:"text",className:"form-control",name:"pincode",value:b.pincode,onChange:z})]})})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Aadhar Number"}),o.jsx("input",{type:"text",className:"form-control",name:"aadhar_number",value:b.aadhar_number,onChange:z})]})}),o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Nationality"}),o.jsx("input",{type:"text",className:"form-control",name:"nationality",value:b.nationality,onChange:z})]})})]})]})}),o.jsxs("div",{className:"row mt-3",children:[o.jsx("div",{className:"col-md-4",children:o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Religion"}),o.jsx("input",{type:"text",className:"form-control",name:"religion",value:b.religion,onChange:z})]})}),o.jsx("div",{className:"col-md-4",children:o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Caste"}),o.jsx("input",{type:"text",className:"form-control",name:"caste",value:b.caste,onChange:z})]})}),o.jsx("div",{className:"col-md-4",children:o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Sub Caste"}),o.jsx("input",{type:"text",className:"form-control",name:"sub_caste",value:b.sub_caste,onChange:z})]})})]}),o.jsxs("div",{className:"row mt-3",children:[o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Photo URL"}),o.jsx("input",{type:"text",className:"form-control",name:"photo_url",value:b.photo_url,onChange:z})]})}),o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Signature URL"}),o.jsx("input",{type:"text",className:"form-control",name:"cert_url",value:b.cert_url,onChange:z})]})})]})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:I,disabled:f,children:"Cancel"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:U,disabled:f,children:f?"Updating...":"Update Student"})]})]})})}),x.show&&o.jsx("div",{className:"modal d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:"Update Student Status"}),o.jsx("button",{type:"button",className:"btn-close",onClick:q})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Select Status"}),o.jsxs("div",{className:"d-flex flex-column gap-2",children:[o.jsxs("div",{className:"form-check",children:[o.jsx("input",{className:"form-check-input",type:"radio",name:"statusOption",id:"continueOption",value:"CONTINUE",checked:x.selectedStatus==="CONTINUE",onChange:()=>N({...x,selectedStatus:"CONTINUE"})}),o.jsx("label",{className:"form-check-label",htmlFor:"continueOption",children:"Continue (Active)"})]}),o.jsxs("div",{className:"form-check",children:[o.jsx("input",{className:"form-check-input",type:"radio",name:"statusOption",id:"discontinueOption",value:"DISCONTINUE",checked:x.selectedStatus==="DISCONTINUE",onChange:()=>N({...x,selectedStatus:"DISCONTINUE"})}),o.jsx("label",{className:"form-check-label",htmlFor:"discontinueOption",children:"Discontinue"})]}),o.jsxs("div",{className:"form-check",children:[o.jsx("input",{className:"form-check-input",type:"radio",name:"statusOption",id:"holdOption",value:"HOLD",checked:x.selectedStatus==="HOLD",onChange:()=>N({...x,selectedStatus:"HOLD"})}),o.jsx("label",{className:"form-check-label",htmlFor:"holdOption",children:"Hold"})]})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:q,children:"Cancel"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:he,children:"Update Status"})]})]})})})]})}w_.jsx;function w_(){const[e,t]=H.useState([]),[r,n]=H.useState({title:"",date:"",time:"",venue:"",course_id:""}),s=async()=>t(await Ce.listExams());return H.useEffect(()=>{s()},[]),o.jsx(Rs,{children:o.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center",style:{minHeight:"70vh"},children:[o.jsx("h2",{className:"fw-bold mb-3",children:"Exam Scheduling"}),o.jsx("p",{className:"h4 text-muted",children:"This page should be updated"})]})})}const oi=e=>e==null?"":String(e).trim().toUpperCase();function gC(){var It,Lr;const[e,t]=H.useState([]),[r,n]=H.useState([]),[s,i]=H.useState([]),[a,l]=H.useState([]),[c,d]=H.useState([]),[f,g]=H.useState({category:"",year:"",group:"",group_code:"",courseCode:"",semester:"",student_id:""}),[y,p]=H.useState(""),[x,N]=H.useState(""),[C,_]=H.useState(null),[b,S]=H.useState(null),[R,F]=H.useState(!1),[te,z]=H.useState(""),[U,I]=H.useState(""),[se,L]=H.useState(""),[M,K]=H.useState(()=>new Set),[q,he]=H.useState(null),[$,de]=H.useState(!1),T=H.useMemo(()=>{var X;if(!((X=q==null?void 0:q.categories)!=null&&X.length))return null;const ne=q.categories.filter(we=>/exam/i.test(we.name||""));if(!ne.length)return null;const Ee=ne.reduce((we,Be)=>we+Be.amount,0);return{categories:ne,total:Ee}},[q]),Q=!!(f.category||f.year||f.group_code||f.courseCode||f.semester),Z=ne=>(ne||"").toString().trim().toLowerCase(),Ne=H.useMemo(()=>{const ne=new Set;e.forEach(X=>{X.category&&ne.add(X.category)}),r.forEach(X=>{X.category&&ne.add(X.category)});const Ee={UG:0,PG:1};return Array.from(ne).sort((X,we)=>{const Be=Ee[X]??99,Ye=Ee[we]??99;return Be!==Ye?Be-Ye:X.localeCompare(we)})},[e,r]),j=H.useMemo(()=>{if(!f.category)return e;const ne=oi(f.category);return e.filter(Ee=>oi(Ee.category)===ne)},[e,f.category]),B=H.useMemo(()=>{if(!f.category)return r;const ne=oi(f.category);return r.filter(Ee=>oi(Ee.category)===ne)},[r,f.category]),G=H.useMemo(()=>f.category&&B.length>0?B:r,[f.category,B,r]),ee=H.useMemo(()=>{if(!f.group_code&&!f.group)return s;const ne=new Set([f.group_code,f.group].map(Z).filter(Boolean));return s.filter(Ee=>["group_code","group_name","groupCode"].some(X=>{const we=Ee[X];return we?ne.has(Z(we)):!1}))},[s,f.group_code,f.group]),ae=H.useMemo(()=>{if(!te||U==="")return[];const ne=Z(te),Ee=U===""||U===void 0||U===null?"":String(U);return c.filter(X=>{const we=Z(X.courseCode)===ne||Z(X.courseName)===ne,Be=X.semester===""?Ee==="":String(X.semester)===Ee;return we&&Be})},[c,te,U]),ce=H.useMemo(()=>{const ne=Number(U);if(!Number.isFinite(ne)||ne<=1||ne%2===0)return[];const Ee=[];for(let X=ne-2;X>=1;X-=2)Ee.push(X);return Ee},[U]);H.useEffect(()=>{L("")},[ce]);const ge=ne=>{var X;const Ee=((X=ne.subjectNames)==null?void 0:X.filter(Boolean))||[];return Ee.length?Ee:[ne.subjectName,ne.subjectCode].filter(Boolean)},me=H.useMemo(()=>ae.flatMap(ne=>{const Ee=ge(ne),X=ne.subjectCode||ne.subject_code||ne.subject_code||"";return Ee.map((we,Be)=>({key:`${ne.id}-${we}-${Be}`,name:we,code:X||void 0}))}),[ae]),Le=H.useMemo(()=>Array.from(new Set(me.map(ne=>ne.name))),[me]);H.useEffect(()=>{K(new Set(Le))},[Le]);const J=M.size,be=Le.length,xe=be>0&&J===be,ze=ne=>{K(Ee=>{const X=new Set(Ee);return X.has(ne)?X.delete(ne):X.add(ne),X})},_e=()=>{if(xe){K(new Set);return}K(new Set(Le))},Y=()=>{if(!M.size){rt("Select at least one subject before continuing.",{type:"warning"});return}const ne=Array.from(M).join(", ");rt(`Payment requested for ${ne}.`,{type:"info"})},dt=ne=>`${Number(ne||0).toLocaleString("en-IN")}`,et=ne=>r.find(Ee=>Ee.code===ne.group_code||Ee.code===ne.group||Ee.code===ne.group_name||Ee.name===ne.group||Ee.name===ne.group_name),Ie=(ne,Ee)=>(Ee==null?void 0:Ee.name)||ne.group_name||ne.group||"Group unknown",qe=ne=>s.find(Ee=>Ee.courseCode===ne.course_code||Ee.courseCode===ne.course_name||Ee.courseCode===ne.courseCode||Ee.courseName===ne.course_name||Ee.courseName===ne.courseCode),Ve=ne=>{if(!f.category)return!0;const Ee=oi(f.category);return Ee?oi(ne.category)===Ee:!0},$e=H.useMemo(()=>a.filter(ne=>{const Ee=!f.year||ne.academic_year===f.year,X=!f.group_code||[ne.group_code,ne.group,ne.group_name].includes(f.group_code),we=!f.courseCode||[ne.course_code,ne.course_name,ne.course_id].includes(f.courseCode),Be=!f.semester||!ne.semester||String(ne.semester)===String(f.semester),Ye=Ve(ne);return Ee&&X&&we&&Be&&Ye}),[a,f.year,f.group_code,f.courseCode,f.semester,f.category]),lt=_l(),bt=ga(),Nt=H.useCallback(async()=>{var ne,Ee,X,we,Be;try{const[Ye,st,ct,Oe,He]=await Promise.all([(ne=Ce.listAcademicYears)==null?void 0:ne.call(Ce),(Ee=Ce.listGroups)==null?void 0:Ee.call(Ce),(X=Ce.listCourses)==null?void 0:X.call(Ce),(we=Ce.listStudents)==null?void 0:we.call(Ce),(Be=Ce.listSubjects)==null?void 0:Be.call(Ce)]),Ct=(Ye||[]).filter(Je=>(Je==null?void 0:Je.active)!==!1).map(Je=>{const Tr=Je.category??Je.Category;return{...Je,category:oi(Tr)}}),nt=(st||[]).map(Je=>{const Tr=Je.category??Je.Category;return{id:Je.group_id??Je.id,code:Je.group_code??Je.code,group_code:Je.group_code??Je.code,name:Je.group_name??Je.name,category:oi(Tr)}}),Qt=(ct||[]).map(Je=>({id:Je.course_id??Je.id,courseCode:Je.course_code||Je.code,courseName:Je.course_name||Je.name,group_code:Je.group_code||Je.group_name||Je.groupCode,group_name:Je.group_name||Je.groupCode})),tn=new Map(Ct.map(Je=>[Je.academic_year,Je.category])),tr=new Map;nt.forEach(Je=>{if(!Je.category)return;[Je.code,Je.name].filter(Boolean).forEach(Hr=>tr.set(Hr,Je.category))});const gt=(Oe||[]).map(Je=>{const Tr=Je.academic_year||"",pe=(tr.get(Je.group_code)??tr.get(Je.group)??tr.get(Je.group_name))||tn.get(Tr)||"";return{...Je,academic_year:Tr,group_name:Je.group_name||Je.group||Je.group_code||"",group:Je.group_name||Je.group||Je.group_code||"",group_code:Je.group_code||Je.group||Je.group_name||"",course_name:Je.course_name||Je.course_id||Je.courseCode||"",course_code:Je.course_code||Je.course_name||Je.course_id||"",semester:Je.semester??Je.semester_number??"",category:pe}});t(Ct),n(nt),i(Qt),l(gt),d(He||[])}catch(Ye){console.error("Error loading payment masters:",Ye)}},[]);H.useEffect(()=>{Nt()},[Nt]),H.useEffect(()=>{const ne=bt==null?void 0:bt.state;if(!ne)return;const{studentId:Ee,selectedFilters:X}=ne;if(X&&g(we=>({...we,...X})),Ee&&a&&a.length){const we=a.find(Be=>Be.student_id===Ee);we&&_(we)}try{lt(bt.pathname,{replace:!0})}catch{}},[bt,a,lt]),H.useEffect(()=>{(async()=>{if(!b||!te||U===""){he(null);return}const Ee=b.academic_year||b.academicYear||"",X=b.group||b.group_name||b.group_code||"",we=te,Be=U===""||U===void 0||U===null?"":String(U);if(!Ee||!X||!we||Be===""){he(null);return}de(!0);try{const{data:Ye,error:st}=await Ze.from("fee_structure").select("fee_cat, amount").eq("academic_year",Ee).eq("group",X).eq("course",we).eq("semester",Be);if(st)throw st;if(!Ye||Ye.length===0){he(null);return}const ct=new Map;let Oe=0;Ye.forEach(He=>{const Ct=He.fee_cat||"Fee",nt=Number(He.amount)||0;Oe+=nt,ct.has(Ct)?ct.get(Ct).amount+=nt:ct.set(Ct,{name:Ct,amount:nt})}),he({total:Oe,categories:Array.from(ct.values())})}catch(Ye){console.error("Failed to load fee info",Ye),rt("Unable to load fee info for this semester.",{type:"danger"}),he(null)}finally{de(!1)}})()},[b,te,U]);const Tt=ne=>{_(ne),S(ne);const Ee=f.semester||ne.semester||"",X=f.courseCode||ne.courseCode||ne.course_code||"";I(Ee),z(X),F(!0),he(null)},Ft=()=>{F(!1),S(null)},Bt=Q?$e.length:0,ft=x?$e.filter(ne=>`${ne.student_id} ${ne.full_name||ne.name||""}`.toLowerCase().includes(x.toLowerCase())):$e,jt=y?ft.slice(0,Math.min(Number(y),ft.length)):ft,We=ne=>{if(ne===""){p("");return}const Ee=Number(ne);if(Number.isNaN(Ee)||Ee<=0){p("");return}p(String(Math.floor(Ee)))},dr=ne=>{const Ee=ne.trim().split(" ");return Ee.length===1?Ee[0].slice(0,2).toUpperCase():(Ee[0][0]+Ee[Ee.length-1][0]).toUpperCase()};return o.jsxs(Rs,{children:[o.jsx("h2",{className:"fw-bold mb-3",children:"Record Payment"}),o.jsxs("div",{className:"card card-soft p-3 mb-4",children:[o.jsx("h4",{className:"fw-bold mb-3",children:"Filter Students"}),o.jsxs("div",{className:"row g-3",children:[o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label fw-bold",children:"Category"}),o.jsxs("select",{className:"form-select",value:f.category,onChange:ne=>{const Ee=oi(ne.target.value);g({...f,category:Ee,year:"",group:"",group_code:"",courseCode:"",semester:"",student_id:""})},children:[o.jsx("option",{value:"",children:"Select Category"}),Ne.map(ne=>o.jsx("option",{value:ne,children:ne},ne))]})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label fw-bold",children:"Academic Year"}),o.jsxs("select",{className:"form-select",value:f.year,onChange:ne=>g({...f,year:ne.target.value,group:"",group_code:"",courseCode:"",semester:"",student_id:""}),children:[o.jsx("option",{value:"",children:"Select Year"}),j.map(ne=>o.jsx("option",{value:ne.academic_year,children:ne.academic_year},ne.id))]})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label fw-bold",children:"Group"}),o.jsxs("select",{className:"form-select",value:f.group_code,onChange:ne=>{const Ee=ne.target.value,we=G.find(Be=>Be.code===Ee||Be.group_code===Ee)??r.find(Be=>Be.code===Ee||Be.group_code===Ee);g(Be=>({...Be,group:(we==null?void 0:we.name)||"",group_code:(we==null?void 0:we.code)||Ee,courseCode:"",semester:"",student_id:""}))},children:[o.jsx("option",{value:"",children:"Select Group"}),B.length>0?B.map(ne=>o.jsx("option",{value:ne.code,children:ne.name},ne.id)):r.map(ne=>o.jsx("option",{value:ne.code,children:ne.name},ne.id))]})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label fw-bold",children:"Course"}),o.jsxs("select",{className:"form-select",value:f.courseCode,disabled:!f.group_code,onChange:ne=>g({...f,courseCode:ne.target.value,semester:"",student_id:""}),children:[o.jsx("option",{value:"",children:"Select Course"}),ee.map(ne=>o.jsx("option",{value:ne.courseCode,children:ne.courseName},ne.id))]})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label fw-bold",children:"Semester"}),o.jsxs("select",{className:"form-select",value:f.semester,disabled:!f.courseCode,onChange:ne=>g({...f,semester:ne.target.value}),children:[o.jsx("option",{value:"",children:"Select Semester"}),[1,2,3,4,5,6].map(ne=>o.jsxs("option",{value:ne,children:["Sem ",ne]},ne))]})]})]}),o.jsxs("div",{className:"mt-4",children:[Q&&o.jsxs("div",{className:"d-flex flex-wrap justify-content-between align-items-center gap-3 mb-2",children:[o.jsxs("div",{className:"d-flex align-items-center gap-2",children:[o.jsx("span",{className:"fw-semibold",children:"Matched students"}),o.jsx("span",{className:"text-muted small",children:"Show"}),o.jsx("input",{type:"number",className:"form-control form-control-sm",min:"1",placeholder:Bt||"0",value:y,style:{width:"90px"},onChange:ne=>We(ne.target.value),"aria-label":"Rows to show"}),o.jsx("span",{className:"text-muted small",children:"entries"})]}),o.jsxs("div",{className:"d-flex align-items-center gap-2 ms-auto",children:[o.jsx("span",{className:"text-muted small",children:"Search"}),o.jsx("input",{type:"search",className:"form-control form-control-sm",placeholder:"Student ID / Name",value:x,onChange:ne=>N(ne.target.value),style:{width:"200px"},"aria-label":"Search students"})]})]}),Q?jt.length===0?o.jsx("div",{className:"text-muted small",children:"No students match the selected filters yet."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover align-middle mb-0",children:[o.jsx("thead",{className:"table-light",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",children:"Photo"}),o.jsx("th",{scope:"col",children:"Academic year"}),o.jsx("th",{scope:"col",children:"Student ID"}),o.jsx("th",{scope:"col",children:"Hall ticket"}),o.jsx("th",{scope:"col",children:"Name"}),o.jsx("th",{scope:"col",children:"Group"}),o.jsx("th",{scope:"col",children:"Course"}),o.jsx("th",{scope:"col",className:"text-end",children:"Action"})]})}),o.jsx("tbody",{children:jt.map(ne=>{const Ee=ne.full_name||ne.name||"Unnamed student",X=ne.academic_year||"Year not set",we=et(ne),Be=Ie(ne,we),Ye=qe(ne),st=(Ye==null?void 0:Ye.courseName)||ne.course_name||ne.course_code||ne.course_id||"Course unknown";we!=null&&we.name||ne.department||ne.department_name||ne.group_name||ne.group,ne.semester&&`${ne.semester}`;const ct=ne.hall_ticket_number||ne.hall_ticket||ne.hallTicketNo||ne.hall_ticket_no||"N/A",Oe=ne.photo_url||ne.photo||ne.avatar,He=dr(Ee),Ct=(C==null?void 0:C.student_id)===ne.student_id;return o.jsx(H.Fragment,{children:o.jsxs("tr",{className:Ct?"table-primary":void 0,children:[o.jsx("td",{children:Oe?o.jsx("img",{src:Oe,alt:Ee,className:"rounded-circle",style:{width:40,height:40,objectFit:"cover"}}):o.jsx("div",{className:"bg-secondary text-white rounded-circle d-inline-flex align-items-center justify-content-center",style:{width:40,height:40,fontSize:12},children:He})}),o.jsx("td",{children:X}),o.jsx("td",{className:"fw-semibold",children:ne.student_id}),o.jsx("td",{children:ct}),o.jsx("td",{children:Ee}),o.jsx("td",{children:Be}),o.jsx("td",{children:st}),o.jsx("td",{className:"text-end",children:o.jsx("button",{className:`btn btn-sm ${Ct?"btn-outline-secondary":"btn-outline-primary"}`,onClick:()=>Tt(ne),children:"Apply for Exam"})})]})},`${ne.student_id}-row`)})})]})}):o.jsx("div",{className:"text-muted small",children:"Select Category, Academic Year, Group, Course, or Semester to see matching students."})]})]}),R&&b&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"modal-backdrop show"}),o.jsx("div",{className:"modal show d-block",tabIndex:"-1",role:"dialog","aria-modal":"true",children:o.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:"Student Payment Overview"}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:Ft})]}),o.jsxs("div",{className:"modal-body",children:[o.jsx("div",{className:"card card-soft p-4",children:o.jsxs("div",{className:"row align-items-center",children:[o.jsxs("div",{className:"col-md-4 d-flex align-items-center gap-3",children:[b.photo_url||b.photo?o.jsx("img",{src:b.photo_url||b.photo,alt:b.full_name||b.name||"Student",className:"rounded-circle",style:{width:96,height:96,objectFit:"cover"}}):o.jsx("div",{className:"bg-secondary text-white rounded-circle d-inline-flex align-items-center justify-content-center",style:{width:96,height:96,fontSize:20},children:(b.full_name||b.name||"S").slice(0,2).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h5",{className:"mb-1",children:b.full_name||b.name||"Unnamed Student"}),o.jsxs("div",{className:"text-muted",children:["ID: ",b.student_id||"N/A"]}),o.jsx("div",{className:"text-muted",children:"Vijayam College Arts & Science"})]})]}),o.jsxs("div",{className:"col-md-7 d-flex flex-column justify-content-center align-items-end text-end",children:[o.jsx("h5",{className:"fw-bold",children:"About this student"}),o.jsxs("div",{className:"d-flex flex-column gap-2 mt-3",children:[o.jsx("div",{className:"fs-5",children:Ie(b,et(b))}),o.jsx("div",{className:"fs-5",children:((It=qe(b))==null?void 0:It.courseName)||b.course_name||b.course_code||b.course_id||"Course unknown"}),o.jsx("div",{className:"fs-5",children:b.academic_year||"Academic year not set"})]})]})]})}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[o.jsxs("h6",{className:"fw-semibold mb-0",children:["Subjects for"," ",U?`Sem ${U}`:"the selected semester"]}),o.jsxs("div",{className:"w-50 d-flex justify-content-end",children:[o.jsx("label",{className:"form-label mb-0 me-2 fw-semibold",children:"Supplementary Module"}),o.jsxs("select",{className:"form-select form-select-sm w-auto",value:se,onChange:ne=>L(ne.target.value),children:[o.jsx("option",{value:"",children:"Select previous odd semester"}),ce.length>0?ce.map(ne=>o.jsxs("option",{value:String(ne),children:["Sem ",ne]},ne)):o.jsx("option",{value:"",disabled:!0,children:"Supplementary unavailable for this semester"})]})]})]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[o.jsxs("div",{className:"small text-muted d-flex align-items-center gap-3",children:[o.jsxs("span",{children:[J," of ",be," subjects selected"]}),!$&&((Lr=T==null?void 0:T.categories)!=null&&Lr.length)?o.jsx("span",{className:"border rounded px-2 bg-light text-dark",children:`Regular exam fees: ${dt(T.categories[0].amount)}`}):o.jsx("span",{className:"border rounded px-2 bg-light text-dark",children:$?"Loading exam fee":"Exam fees not configured"})]}),o.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:_e,disabled:!be,children:xe?"Clear selection":"Select all"})]}),me.length===0?o.jsx("div",{className:"alert alert-warning mb-0",children:"No subjects configured for this course/semester."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"d-flex align-items-center justify-content-between px-3 py-2 border-bottom",children:[o.jsx("span",{className:"text-muted small fw-semibold",children:"Subject"}),o.jsx("span",{className:"text-muted small fw-semibold",children:"Subject code"})]}),o.jsx("ul",{className:"list-group list-group-flush",children:me.map(ne=>o.jsx("li",{className:"list-group-item",children:o.jsxs("div",{className:"form-check mb-0 w-100",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:`subject-checkbox-${ne.key}`,checked:M.has(ne.name),onChange:()=>ze(ne.name)}),o.jsxs("label",{className:"form-check-label d-flex justify-content-between gap-3 w-100",htmlFor:`subject-checkbox-${ne.key}`,children:[o.jsx("span",{children:ne.name}),ne.code?o.jsx("span",{className:"text-muted",children:ne.code}):o.jsx("span",{className:"text-muted",children:""})]})]})},ne.key))})]})]})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-primary",onClick:Y,children:"Pay"}),o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:Ft,children:"Close"})]})]})})})]})]})}function vC(){return o.jsx(Rs,{children:o.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center",style:{height:"70vh"},children:[o.jsx("h2",{className:"fw-bold mb-3",children:"Hall Ticket Generator"}),o.jsx("p",{className:"h4 text-muted",children:"This page should be updated"})]})})}function yC(){const[e,t]=H.useState([]),[r,n]=H.useState([]),[s,i]=H.useState({student_id:"",exam_id:"",total:"",grade:""}),[a,l]=H.useState(!1);return H.useEffect(()=>{(async()=>(t(await Ce.listStudents()),n(await Ce.listExams())))()},[]),o.jsx(Rs,{children:o.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center",style:{minHeight:"70vh"},children:[o.jsx("h2",{className:"fw-bold mb-3",children:"Results Management"}),o.jsx("p",{className:"h4 text-muted",children:"This page should be updated"})]})})}const l2={success:"toast-card--success",danger:"toast-card--danger",error:"toast-card--danger",warning:"toast-card--warning",info:"toast-card--info"},bC=({toast:e,onDismiss:t})=>{H.useEffect(()=>{if(!e.duration||e.duration<=0)return;const n=setTimeout(()=>t(e.id),e.duration);return()=>clearTimeout(n)},[e.id,e.duration,t]);const r=l2[e.type]||l2.info;return o.jsxs("div",{className:`toast-card ${r}`,role:"status","aria-live":"assertive",children:[o.jsxs("div",{className:"toast-card__body",children:[e.title?o.jsx("div",{className:"toast-card__title",children:e.title}):null,o.jsx("div",{className:"toast-card__message",children:e.message})]}),o.jsx("button",{type:"button",className:"toast-card__close","aria-label":"Dismiss notification",onClick:()=>t(e.id),children:""})]})},_C=()=>{const e=Jc(r=>r.toasts),t=Jc(r=>r.dismissToast);return e.length?o.jsx("div",{className:"toast-stack","aria-live":"polite","aria-atomic":"false",children:e.map(r=>o.jsx(bC,{toast:r,onDismiss:t},r.id))}):null},x_=H.memo(_C),wC=(e="")=>{if(!e)return"UG";const r=e.trim().replace(/[^0-9-]/g,"").match(/^(\d{4})-(\d{4})$/);if(!r)return"UG";const n=Number(r[1]);return Number(r[2])-n===2?"PG":"UG"};function xC({yearForm:e,setYearForm:t,academicYears:r=[],editingYearId:n,addYear:s,editYear:i,deleteYear:a,onCancelEdit:l}){const[c,d]=H.useState(""),f=(F,te)=>{if(!F||!/^(\d{4})-(\d{4})$/.test(F))return!1;const[U,I]=F.split("-").map(Number),se=te==="UG"?3:2;return I-U===se},g=F=>{const z=(F.category&&String(F.category)||F.year_category&&String(F.year_category)||"").trim();return z?z.toUpperCase():wC(F.name||F.academic_year)},y=r.reduce((F,te)=>{const z=g(te);return F[z]||(F[z]=[]),F[z].push(te),F},{UG:[],PG:[]}),p=y.UG||[],x=y.PG||[],N={UG:new Set(p.map(F=>F.name||F.academic_year||"")),PG:new Set(x.map(F=>F.name||F.academic_year||""))},C=async()=>{if(!e.category){d("Please select a category first");return}if(!f(e.name,e.category)){const F=e.category==="UG"?"3 years":"2 years";d(`Please enter a valid ${e.category} duration (${F})`);return}d(""),await s()},_=F=>{const te=g(F);i(F),t({name:F.name||F.academic_year,category:te,active:F.active}),d("")},[b,S]=H.useState(null),R=async F=>{if(b===F){S(null),await a(F),rt("Academic year deleted.",{type:"info"});return}S(F),rt("Click delete again to confirm removal.",{type:"warning"}),setTimeout(()=>{S(te=>te===F?null:te)},5e3)};return o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"setup-section mb-4",children:[o.jsx("h5",{className:"section-title",children:"Academic Years"}),o.jsxs("div",{className:"row g-2",children:[o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label fw-bold mb-1",children:"Category"}),o.jsxs("select",{className:"form-select",value:e.category||"",onChange:F=>{t({...e,category:F.target.value,name:""}),d("")},required:!0,children:[o.jsx("option",{value:"",children:"Select Category"}),o.jsx("option",{value:"UG",children:"UG"}),o.jsx("option",{value:"PG",children:"PG"})]})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label fw-bold mb-1",children:"Academic Year"}),e.category?o.jsxs("select",{className:`form-select ${c&&"is-invalid"}`,value:e.name,onChange:F=>{t(te=>({...te,name:F.target.value})),d("")},required:!0,children:[o.jsx("option",{value:"",children:"Select Academic Year"}),Array.from({length:11},(F,te)=>{var M;const z=2020+te,U=e.category==="UG"?z+3:z+2,I=`${z}-${U}`,se=(M=N[e.category])==null?void 0:M.has(I),L=n&&e.name===I;return o.jsx("option",{value:I,disabled:se&&!L,style:se&&!L?{color:"#6c757d"}:void 0,children:I},I)})]}):o.jsx("input",{className:"form-control",placeholder:"Select category first",disabled:!0}),c&&o.jsx("div",{className:"invalid-feedback d-block",children:c})]}),o.jsx("div",{className:"col-md-3 d-flex align-items-center",children:o.jsxs("div",{className:"form-check",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"activeYear",checked:e.active,onChange:F=>t({...e,active:F.target.checked})}),o.jsx("label",{className:"form-check-label ms-2",htmlFor:"activeYear",children:"Active"})]})}),o.jsxs("div",{className:"col-md-4 text-end",children:[o.jsx("button",{className:"btn btn-brand me-2",onClick:C,children:n?"Update Year":"Add Year"}),n&&o.jsx("button",{className:"btn btn-outline-secondary",onClick:l,children:"Cancel"})]})]}),(p.length>0||x.length>0)&&o.jsxs("div",{className:"row mt-4",children:[o.jsx("div",{className:"col-md-6",children:p.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("h6",{className:"fw-bold mb-3",children:"UG Years"}),o.jsx("div",{className:"setup-list",children:p.map(F=>o.jsxs("div",{className:"setup-list-item",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"setup-list-title",children:[F.name||F.academic_year,o.jsx("span",{className:"badge bg-secondary ms-2",children:g(F)})]}),o.jsxs("div",{className:"setup-list-meta",children:[g(F)," Academic Year"]})]}),o.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[o.jsx("span",{className:`status-pill ${F.active?"status-pill--active":"status-pill--inactive"}`,children:F.active?"Active":"Inactive"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>_(F),children:"Edit"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>R(F.id),children:"Delete"})]})]},F.id||F.academic_year||F.name))})]})}),o.jsx("div",{className:"col-md-6",children:y.PG&&o.jsxs(o.Fragment,{children:[o.jsx("h6",{className:"fw-bold mb-3",children:"PG Years"}),o.jsx("div",{className:"setup-list",children:x.map(F=>o.jsxs("div",{className:"setup-list-item",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"setup-list-title",children:[F.name||F.academic_year,o.jsx("span",{className:"badge bg-secondary ms-2",children:g(F)})]}),o.jsxs("div",{className:"setup-list-meta",children:[g(F)," Academic Year"]})]}),o.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[o.jsx("span",{className:`status-pill ${F.active?"status-pill--active":"status-pill--inactive"}`,children:F.active?"Active":"Inactive"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>_(F),children:"Edit"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>R(F.id),children:"Delete"})]})]},F.id||F.academic_year||F.name))})]})})]})]}),o.jsx(x_,{})]})}function NC({groupForm:e,setGroupForm:t,editingGroupId:r,setEditingGroupId:n,groups:s,saveGroup:i,editGroup:a,deleteGroup:l,courseForm:c,setCourseForm:d,editingCourseId:f,setEditingCourseId:g,courses:y,saveCourse:p,editCourse:x,deleteCourse:N}){const C={borderRadius:"18px",border:"1px solid #e2e8f0",background:"linear-gradient(180deg, #ffffff 0%, #f7f9fc 100%)",boxShadow:"0 18px 35px rgba(15,23,42,0.08)"},_={backgroundColor:"#ecf0ff",color:"#1d3ecf",fontWeight:600,borderRadius:"999px",padding:"0.35rem 0.9rem"},b={borderRadius:"999px",border:"1px solid #e2e8f0",backgroundColor:"#ffffff",fontWeight:600,color:"#0f172a"},S={borderRadius:"18px",border:"1px solid #e1e7ef",background:"linear-gradient(180deg, #ffffff 0%, #f3f6fb 100%)",boxShadow:"0 16px 32px rgba(15,23,42,0.07)"},R={backgroundColor:"#e0f2fe",color:"#0369a1",fontWeight:600,borderRadius:"999px",padding:"0.35rem 0.9rem"};H.useEffect(()=>{e&&(e.category==="UG"?t(I=>({...I,years:3,semesters:6})):e.category==="PG"&&t(I=>({...I,years:2,semesters:4})))},[e==null?void 0:e.category,t]);const F=e&&(e.category==="UG"||e.category==="PG"),[te,z]=H.useState(""),U=te?s.filter(I=>I.category===te):s;return o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"setup-section mb-4",children:[o.jsx("h5",{className:"section-title",children:"Groups"}),o.jsx("div",{className:"row",children:o.jsxs("div",{className:"col-12",children:[o.jsxs("div",{className:"row g-2",children:[o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label fw-bold mb-1",children:"Category"}),o.jsxs("select",{className:"form-select",value:e.category,onChange:I=>t({...e,category:I.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Select Category"}),o.jsx("option",{value:"UG",children:"UG"}),o.jsx("option",{value:"PG",children:"PG"})]})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label fw-bold mb-1",children:"Group Code"}),o.jsx("input",{className:"form-control",placeholder:"Group Code",required:!0,value:e.code,onChange:I=>t({...e,code:I.target.value.toUpperCase()})})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label fw-bold mb-1",children:"Group Name"}),o.jsx("input",{className:"form-control",placeholder:"Group Name",required:!0,value:e.name,onChange:I=>t({...e,name:I.target.value})})]}),o.jsxs("div",{className:"col-md-3 col-lg-2",children:[o.jsx("label",{className:"form-label fw-bold mb-1",children:"Duration (years)"}),o.jsx("input",{type:"number",className:"form-control no-spinner",placeholder:"Years",value:e.years,onChange:I=>{F||t({...e,years:I.target.value})},disabled:F,style:{"-moz-appearance":"textfield"},onWheel:I=>I.target.blur()})]}),o.jsxs("div",{className:"col-md-3 col-lg-2",children:[o.jsx("label",{className:"form-label fw-bold mb-1",children:"Number of semesters"}),o.jsx("input",{type:"number",className:"form-control no-spinner",placeholder:"No. of Semesters",value:e.semesters,onChange:I=>{F||t({...e,semesters:I.target.value})},disabled:F,style:{"-moz-appearance":"textfield"},onWheel:I=>I.target.blur()})]})]}),o.jsxs("div",{className:"mt-3",children:[o.jsx("button",{className:"btn btn-brand me-2",onClick:i,children:r?"Update Group":"Add Group"}),r&&o.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>{t({id:"",category:"",code:"",name:"",years:0,semesters:0}),n("")},children:"Cancel"})]})]})}),s.length>0&&o.jsxs("div",{className:"mt-4",children:[o.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:o.jsxs("span",{className:"text-muted text-uppercase fw-semibold small",style:{letterSpacing:"0.08em"},children:["Showing ",s.length," group",s.length===1?"":"s"]})}),o.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-3",children:s.map(I=>o.jsx("div",{className:"col",children:o.jsx("div",{className:"card border-0 h-100",style:C,children:o.jsxs("div",{className:"card-body d-flex flex-column",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-uppercase text-muted small mb-1",children:"Group Name"}),o.jsx("div",{className:"fs-5 fw-bold",children:I.name||"-"}),o.jsx("div",{className:"text-muted small",children:I.code||"-"})]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"0.35rem"},children:I.category?o.jsx("span",{style:_,children:I.category}):null})]}),o.jsxs("div",{className:"d-flex flex-wrap gap-4 mb-4 text-muted",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-uppercase small",children:"Duration"}),o.jsxs("div",{className:"fw-semibold text-dark",children:[I.years||"-"," Years"]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-uppercase small",children:"Semesters"}),o.jsx("div",{className:"fw-semibold text-dark",children:I.semesters||"-"})]})]}),o.jsxs("div",{className:"mt-auto d-flex gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:b,onClick:()=>a(I),children:"Edit"}),o.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:{...b,color:"#b91c1c",borderColor:"#fde2e1",backgroundColor:"#fff5f5"},onClick:()=>l(I.id),children:"Delete"})]})]})})},I.id))})]})]}),o.jsxs("section",{className:"setup-section mb-4",children:[o.jsx("h5",{className:"section-title",children:"Courses"}),o.jsx("div",{className:"row",children:o.jsxs("div",{className:"col-12",children:[o.jsxs("div",{className:"row g-3",children:[o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label fw-bold mb-1",children:"Category"}),o.jsxs("select",{className:"form-select",value:te,onChange:I=>{z(I.target.value),d(se=>({...se,groupCode:""}))},children:[o.jsx("option",{value:"",children:"All Categories"}),o.jsx("option",{value:"UG",children:"UG"}),o.jsx("option",{value:"PG",children:"PG"})]})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label fw-bold mb-1",children:"Group"}),o.jsxs("select",{className:"form-select",required:!0,value:c.groupCode,onChange:I=>{const se=I.target.value,L=U.find(K=>(K.groupCode||K.code||K.group_code)===se||(K.group_name||K.name)===se),M=(L==null?void 0:L.group_name)||(L==null?void 0:L.name)||(L==null?void 0:L.groupName)||"";d({...c,groupCode:se,groupName:M})},disabled:!te,children:[o.jsx("option",{value:"",children:"Select Group"}),U.map(I=>o.jsx("option",{value:I.code,children:I.name||I.code},I.id))]})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label fw-bold mb-1",children:"Course Code"}),o.jsx("input",{className:"form-control",placeholder:"Enter Course Code",required:!0,value:c.courseCode,onChange:I=>d({...c,courseCode:I.target.value.toUpperCase()})})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label fw-bold mb-1",children:"Course Name"}),o.jsx("input",{className:"form-control",placeholder:"Enter Course Name",required:!0,value:c.courseName,onChange:I=>d({...c,courseName:I.target.value})})]})]}),o.jsxs("div",{className:"mt-3",children:[o.jsx("button",{className:"btn btn-brand me-2",onClick:p,children:f?"Update Course":"Add Course"}),f&&o.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>{d({id:"",groupCode:"",courseCode:"",courseName:"",semesters:6}),g("")},children:"Cancel"})]})]})}),y.length>0&&o.jsxs("div",{className:"mt-4",children:[o.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:o.jsxs("span",{className:"text-muted text-uppercase fw-semibold small",style:{letterSpacing:"0.08em"},children:["Showing ",y.length," course",y.length===1?"":"s"]})}),o.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-3",children:y.map(I=>o.jsx("div",{className:"col",children:o.jsx("div",{className:"card border-0 h-100",style:S,children:o.jsxs("div",{className:"card-body d-flex flex-column",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-uppercase text-muted small mb-1",children:"Course Name"}),o.jsx("div",{className:"fs-5 fw-bold",children:I.courseName})]}),o.jsxs("span",{style:R,children:[I.semesters," sems"]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-muted text-uppercase small mb-1",children:"Course Code"}),o.jsx("div",{className:"fw-semibold text-dark",children:I.courseCode})]}),o.jsx("p",{className:"text-muted text-uppercase small mb-1",children:"Group"}),o.jsx("p",{className:"fw-semibold text-dark mb-4",children:I.groupName||I.groupCode||"-"}),o.jsxs("div",{className:"mt-auto d-flex gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:b,onClick:()=>x(I),children:"Edit"}),o.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:{...b,color:"#b91c1c",borderColor:"#fde2e1",backgroundColor:"#fff5f5"},onClick:()=>N(I.id),children:"Delete"})]})]})})},I.id))})]})]})]})}function SC({subjectForm:e,setSubjectForm:t,academicYears:r,groups:n,coursesForGroup:s,semForCourse:i,categories:a,setCategories:l,catItems:c,setCatItems:d,categoryName:f,setCategoryName:g,editingCategory:y,setEditingCategory:p,deleteCategory:x,saveCategory:N,pendingSubjects:C,subjects:_,editingSubjectId:b,saveSubject:S,submitPendingSubjects:R,editPendingSubject:F,deletePendingSubject:te,editSubject:z,deleteSubject:U,onCancelSubjectEdit:I}){const[se,L]=H.useState(""),M=r.reduce((J,be)=>((be==null?void 0:be.id)!==void 0&&(J[be.id]=be.name),J),{});M[e.academicYearId];const K=J=>J.academicYearName||M[J.academicYearId]||J.academicYearId||"-",q=(()=>{const J=r.filter(ze=>(ze==null?void 0:ze.active)!==!1);if(!e.academicYearId||J.some(ze=>String(ze.id)===String(e.academicYearId)))return J;const xe=r.find(ze=>String(ze.id)===String(e.academicYearId));return xe?[...J,xe]:J})(),he=r.find(J=>String(J.id)===String(e.academicYearId));H.useEffect(()=>{he!=null&&he.category&&L(he.category.toUpperCase())},[he]);const $=q.filter(J=>!J.category||J.category.toUpperCase()===se);he&&!$.some(J=>String(J.id)===String(he.id))&&$.push(he);const de=n.filter(J=>{const be=(J.category||J.Category||"").toUpperCase(),xe=!se||!be||be===se,ze=e.groupCode&&[J.groupCode,J.code,J.group_code].map(_e=>String(_e||"")).includes(String(e.groupCode));return xe||ze}),T=J=>{const be=(J==null?void 0:J.semester)??(J==null?void 0:J.semester_number)??(J==null?void 0:J.semesterNumber)??"";if(be==null||be==="")return"-";const xe=Number(be);return Number.isNaN(xe)?be:xe},Q=e.extraSubjectNames||[],Z=e.extraSubjectCodes||[],Ne=H.useMemo(()=>n.reduce((J,be)=>{const xe=be.groupCode||be.code||be.group_code||"";return xe&&(J[xe]=be.name||be.group_name||be.groupName||xe),J},{}),[n]),j=J=>Ne[J]||J||"-",B=(J=[])=>{const be=new Map;return J.forEach(xe=>{var Ie;const ze=[xe.academicYearId||xe.academicYearName||"",xe.groupCode||"",xe.courseCode||"",xe.semester===void 0||xe.semester===null?"":xe.semester].join("::"),_e=be.get(ze)||{comboKey:ze,academicYear:K(xe),groupCode:xe.groupCode,courseCode:xe.courseCode,courseName:xe.courseName,semester:T(xe),categories:[]},Y=xe.category||"Uncategorised";let dt=_e.categories.find(qe=>qe.name===Y);dt||(dt={name:Y,subjects:[],source:xe},_e.categories.push(dt));const et=(Ie=xe.subjectNames)!=null&&Ie.length?xe.subjectNames:[xe.subjectName].filter(Boolean);dt.subjects.push(...et),be.set(ze,_e)}),Array.from(be.values())},G=B(C),ee=B(_),ae=(J,be,xe)=>{t(ze=>{const _e=[...ze.extraSubjectNames||[]],Y=[...ze.extraSubjectCodes||[]];return be==="name"?_e[J]=xe:Y[J]=xe,{...ze,extraSubjectNames:_e,extraSubjectCodes:Y}})},ce=J=>{t(be=>{const xe=[...be.extraSubjectNames||[]],ze=[...be.extraSubjectCodes||[]];return xe.splice(J,1),ze.splice(J,1),{...be,extraSubjectNames:xe,extraSubjectCodes:ze}})},ge=()=>{t(J=>({...J,extraSubjectNames:[...J.extraSubjectNames||[],""],extraSubjectCodes:[...J.extraSubjectCodes||[],""]}))},me=({titleValue:J,onTitleChange:be,codeValue:xe,onCodeChange:ze,action:_e,titlePlaceholder:Y="Subject title",codePlaceholder:dt="Subject code"})=>o.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[o.jsx("input",{className:"form-control",style:{flex:"0 0 48%",minWidth:"48%"},placeholder:Y,value:J,onChange:be}),o.jsx("input",{className:"form-control",style:{flex:"0 0 50%",minWidth:"50%"},placeholder:dt,value:xe,onChange:ze}),_e]}),Le=o.jsxs(o.Fragment,{children:[Q.map((J,be)=>o.jsx("div",{className:"mt-2",children:me({titleValue:J,onTitleChange:xe=>ae(be,"name",xe.target.value),codeValue:Z[be]||"",onCodeChange:xe=>ae(be,"code",xe.target.value),action:o.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>ce(be),children:"Remove"}),titlePlaceholder:`Subject ${be+2}`})},`extra-${be}`)),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mt-3",onClick:ge,children:"Add another subject"})]});return o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"setup-section mb-4",children:[o.jsx("h5",{className:"section-title",children:"Sub-categories"}),o.jsxs("div",{className:"subcat-input-panel",children:[o.jsxs("div",{className:"flex-grow-1",children:[o.jsxs("label",{className:"form-label fw-bold mb-1",children:["Sub-category Name ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("p",{className:"text-uppercase text-muted small mb-1",children:y?"Update existing sub-category":"Add a new sub-category"}),o.jsxs("div",{className:"d-flex gap-2 flex-wrap",children:[o.jsx("input",{className:"form-control flex-grow-1",placeholder:"e.g., English",required:!0,value:f,onChange:J=>g(J.target.value),onKeyDown:J=>{J.key==="Enter"&&(J.preventDefault(),N())}}),o.jsx("button",{type:"button",className:"btn btn-brand",onClick:N,children:y?"Update":"Add"}),y&&o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{g(""),p("")},children:"Cancel"})]})]}),o.jsxs("div",{className:"subcat-input-copy text-muted",children:[o.jsx("div",{className:"fw-semibold text-dark",children:"Organise subjects into sub-categories"}),o.jsx("div",{className:"small",children:"Create descriptive buckets (e.g., Languages, Labs) to streamline subject assignment."})]})]}),a.length===0&&o.jsx("div",{className:"alert alert-info mb-0",children:"Add a sub-category to begin creating subjects."}),o.jsx("div",{className:"subcat-grid",children:a.map(J=>((c[J]||[]).length,o.jsxs("div",{className:"subcat-panel",children:[o.jsxs("div",{className:"subcat-panel-header",children:[o.jsx("div",{children:o.jsx("div",{className:"subcat-panel-title",children:J})}),o.jsxs("div",{className:"subcat-panel-actions",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>{g(J),p(J)},children:"Rename"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>x(J),children:"Delete"})]})]}),o.jsx("div",{className:"mt-3 text-muted small",children:"Subjects for this category can be added directly from the Subjects tab."})]},J)))})]}),o.jsxs("section",{className:"setup-section mb-4",children:[o.jsx("h5",{className:"section-title",children:"Subjects"}),o.jsxs("div",{className:"row g-3",children:[o.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[o.jsxs("label",{className:"form-label fw-bold mb-1",children:["Category ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-select",value:se,onChange:J=>{const be=J.target.value;L(be),t({...e,programmeCategory:be,academicYearId:"",academicYearName:"",groupCode:"",courseCode:"",semester:""})},children:[o.jsx("option",{value:"",children:"Select category"}),o.jsx("option",{value:"UG",children:"UG"}),o.jsx("option",{value:"PG",children:"PG"})]})]}),o.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[o.jsxs("label",{className:"form-label fw-bold mb-1",children:["Academic Year ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-select",required:!0,value:e.academicYearId,disabled:!se,onChange:J=>{const be=J.target.value,xe=r.find(ze=>String(ze.id)===String(be));t({...e,academicYearId:be,academicYearName:(xe==null?void 0:xe.name)||""})},children:[o.jsx("option",{value:"",children:"Select Year"}),$.map(J=>o.jsx("option",{value:J.id,children:J.name},J.id))]})]}),o.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[o.jsxs("label",{className:"form-label fw-bold mb-1",children:["Group ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-select",required:!0,value:e.groupCode,disabled:!se,onChange:J=>t({...e,groupCode:J.target.value,courseCode:"",semester:""}),children:[o.jsx("option",{value:"",children:"Select Group"}),de.map(J=>o.jsx("option",{value:J.code,children:J.name||J.code},J.id))]})]}),o.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[o.jsxs("label",{className:"form-label fw-bold mb-1",children:["Course ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-select",required:!0,disabled:!e.groupCode,value:e.courseCode,onChange:J=>{const be=J.target.value,xe=s.find(ze=>ze.courseCode===be);t({...e,courseCode:be,courseName:(xe==null?void 0:xe.courseName)||be,semester:""})},children:[o.jsx("option",{value:"",children:"Select Course"}),s.map(J=>o.jsx("option",{value:J.courseCode,children:J.courseName||J.name||J.courseCode},J.id))]})]}),o.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[o.jsxs("label",{className:"form-label fw-bold mb-1",children:["Semester ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-select",required:!0,disabled:!e.courseCode,value:e.semester,onChange:J=>t({...e,semester:J.target.value}),children:[o.jsx("option",{value:"",children:"Select Semester"}),i.map(J=>o.jsxs("option",{value:J.number,children:["Semester ",J.number]},J.id))]})]}),o.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[o.jsxs("label",{className:"form-label fw-bold mb-1",children:["Sub-category ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-select",required:!0,value:e.category,onChange:J=>t({...e,category:J.target.value,subjectSelections:[],subjectName:""}),children:[o.jsx("option",{value:"",children:"Select Sub-category"}),a.map(J=>o.jsx("option",{value:J,children:J},J))]})]}),o.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-baseline mb-1",children:[o.jsxs("label",{className:"form-label fw-bold mb-0",children:["Subject Title ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("label",{className:"form-label fw-bold mb-0",children:["Subject code ",o.jsx("span",{className:"text-danger",children:"*"})]})]}),(c[e.category]||[]).length?o.jsxs("div",{className:"subject-checkbox-group",children:[c[e.category].map(J=>{var xe;const be=`subject-${J.id}`;return o.jsxs("div",{className:"form-check",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:be,checked:(xe=e.subjectSelections)==null?void 0:xe.includes(J.name),onChange:()=>t(ze=>{const _e=new Set(ze.subjectSelections||[]);return _e.has(J.name)?_e.delete(J.name):_e.add(J.name),{...ze,subjectSelections:Array.from(_e),subjectName:""}})}),o.jsx("label",{className:"form-check-label",htmlFor:be,children:J.name})]},J.id)}),o.jsx("div",{className:"mt-2",children:me({titleValue:e.subjectName,onTitleChange:J=>t({...e,subjectName:J.target.value,subjectSelections:[]}),codeValue:e.subjectCode,onCodeChange:J=>t({...e,subjectCode:J.target.value}),titlePlaceholder:"Or type custom subject"})}),Le]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mt-2",children:me({titleValue:e.subjectName,onTitleChange:J=>t({...e,subjectName:J.target.value}),codeValue:e.subjectCode,onCodeChange:J=>t({...e,subjectCode:J.target.value})})}),Le]})]})]}),o.jsxs("div",{className:"mt-2 text-end",children:[o.jsx("button",{type:"button",className:"btn btn-accent",onClick:S,children:b?"Update Entry":"Add Entry"}),b&&o.jsx("button",{type:"button",className:"btn btn-outline-secondary ms-2",onClick:I,children:"Cancel"})]}),G.length>0&&o.jsxs("div",{className:"card card-soft p-3 mt-3",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsxs("h6",{className:"section-title mb-0",children:["Pending Subjects (",G.length,")"]}),o.jsx("button",{type:"button",className:"btn btn-brand",onClick:R,children:"Submit All"})]}),o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table mb-0",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Year"}),o.jsx("th",{children:"Group"}),o.jsx("th",{children:"Course"}),o.jsx("th",{children:"Sem"}),o.jsx("th",{children:"Details"})]})}),o.jsx("tbody",{children:G.map(J=>o.jsxs("tr",{children:[o.jsx("td",{children:J.academicYear}),o.jsx("td",{children:j(J.groupCode)}),o.jsx("td",{children:J.courseName||J.courseCode||"-"}),o.jsx("td",{children:J.semester}),o.jsx("td",{children:J.categories.map(be=>{const xe=be.subjects.filter(Boolean).join(", ")||"-";return o.jsxs("div",{className:"mb-2",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsx("span",{className:"fw-semibold",children:be.name}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>F(be.source),children:"Edit"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>te(be.source),children:"Remove"})]})]}),o.jsx("div",{className:"small text-muted",children:xe})]},`${J.comboKey}-${be.name}`)})})]},J.comboKey))})]})})]}),ee.length>0&&o.jsx("div",{className:"table-responsive mt-3",children:o.jsxs("table",{className:"table mb-0",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Year"}),o.jsx("th",{children:"Group"}),o.jsx("th",{children:"Course"}),o.jsx("th",{children:"Sem"}),o.jsx("th",{children:"Details"})]})}),o.jsx("tbody",{children:ee.map(J=>o.jsxs("tr",{children:[o.jsx("td",{children:J.academicYear}),o.jsx("td",{children:j(J.groupCode)}),o.jsx("td",{children:J.courseName||J.courseCode||"-"}),o.jsx("td",{children:J.semester}),o.jsx("td",{children:J.categories.map(be=>{const xe=be.subjects.filter(Boolean).join(", ")||"-";return o.jsxs("div",{className:"mb-2",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsx("span",{className:"fw-semibold",children:be.name}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>z(be.source),children:"Edit"}),o.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>U(be.source),children:"Delete"})]})]}),o.jsx("div",{className:"small text-muted",children:xe})]},`${J.comboKey}-${be.name}`)})})]},J.comboKey))})]})})]})]})}const c2=(e={})=>{const t=e.academicYearId||e.academicYearName||e.academic_year||"",r=e.groupCode||e.group||e.group_name||"",n=e.courseCode||e.courseName||e.course_code||e.course_name||"",s=e.semester??e.semester_number??e.semesterNumber??"";return[t,r,n,s].map(i=>i==null?"":String(i)).join("|")},fi=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),kd=(e="")=>({academicYearId:"",academicYearName:"",groupCode:"",courseCode:"",courseName:"",semester:"",category:e,categoryId:"",subjectName:"",subjectCode:"",extraSubjectNames:[],subjectSelections:[],feeCategory:"",feeAmount:"",subjectId:""}),jC=(e=[])=>(e||[]).map(t=>((t==null?void 0:t.name)||"").trim()).filter(Boolean),Pp=(e=[])=>Array.isArray(e)?e.map(t=>({id:fi(),name:t})).filter(t=>t.name):[],u2=(e=[])=>e.reduce((t,r)=>{if(!r)return t;const n=r.courseCode||r.code||r.course_code||"",s=r.courseName||r.name||r.course_name||n,i=r.groupCode||r.group_code||r.group_name||"",a={courseCode:n,courseName:s,groupCode:i};return s&&(t[s]=a),n&&(t[n]=a),t},{}),d2=(e=[])=>e.reduce((t,r)=>(r!=null&&r.name&&(r==null?void 0:r.id)!==void 0&&(t[r.name]=r.id),t),{}),CC=(e={})=>Object.entries(e).reduce((t,[r,n])=>(n!=null&&n!==""&&(t[n]=r),t),{}),h2=(e={},t={})=>{const{courseLookup:r={},categoryNameById:n={},yearNameToId:s={}}=t,i=e.semester??e.semester_number??e.semesterNo??e.semesterNumber,a=e.amount??e.feeAmount??e.fee_amount,l=e.subjectCode||e.subject_code||e.subjectName||e.subject_name||"",c=e.subjectName||e.subject_name||l,d=e.subjectNames&&Array.isArray(e.subjectNames)?e.subjectNames:e.subjectName?[e.subjectName]:[],f=e.subjectCodes&&Array.isArray(e.subjectCodes)?e.subjectCodes:e.subjectCode?[e.subjectCode]:e.subject_code?[e.subject_code]:[],g=e.courseName||e.course_name||e.courseCode||e.course_code||"",y=r[g]||{},p=e.academicYearName||e.academic_year_name||e.academic_year||"",x=e.academicYearId||e.academic_year_id||s[p]||"",N=e.category_id??e.categoryId??"",C=e.category||e.category_name||n[N]||"",_=e.subject_id||e.subjectId||e.id||"";return{id:_||e.id||fi(),subjectId:_||"",academicYearId:x,academicYearName:p,groupCode:e.groupCode||e.group_code||y.groupCode||"",courseCode:e.courseCode||e.course_code||y.courseCode||g,courseName:y.courseName||g,semester:i==null||i===""?"":Number(i),categoryId:N,category:C,subjectCode:l,subjectName:c,feeCategory:e.feeCategory||e.fee_category||e.fees_categories||"",feeAmount:a==null||a===""?"":Number(a),subjectNames:d,subjectCodes:f}},zs=(e={})=>e?e.batchId?e.batchId:[e.academicYearId||e.academicYearName||"",e.groupCode||"",e.courseCode||"",e.semester===void 0||e.semester===null?"":e.semester,e.categoryId||e.category||""].map(n=>n==null?"":String(n)).join("__")||e.subjectId||e.id||"":"",f2=(e={})=>{if(!e||e.batchId)return e;const t=zs(e);return t?{...e,batchId:t}:e},kC=[{key:"years",label:"Academic Years",tagline:"Define academic timelines and activation status."},{key:"groups",label:"Groups & Courses",tagline:"Manage programme structures and duration."},{key:"subjects",label:"Subjects",tagline:"Control curriculum details semester by semester."},{key:"students",label:"Students",tagline:"Manage student records and information."}],AC=new Set(["Academic","Exam","Library","Bus","Lab"]),p2=e=>!e||!e.length?e:e.every(r=>{var n;return AC.has(r.name)&&(((n=r.fees)==null?void 0:n.length)||0)<=1})?[]:e,EC=e=>Array.isArray(e)?e.some(r=>Array.isArray(r==null?void 0:r.fees)||Array.isArray(r==null?void 0:r.items))?p2(e.map(r=>({id:(r==null?void 0:r.id)||fi(),name:((r==null?void 0:r.name)||"").toString(),fees:((r==null?void 0:r.fees)||(r==null?void 0:r.items)||[]).map(n=>({id:(n==null?void 0:n.id)||fi(),name:((n==null?void 0:n.name)||"").toString(),amount:(n==null?void 0:n.amount)===0||n!=null&&n.amount?String(n.amount):""})).filter(n=>n.name.trim())})).filter(r=>r.name.trim()||r.fees.length)):p2(e.map(r=>{const n=((r==null?void 0:r.name)||"").toString();return n.trim()?{id:(r==null?void 0:r.id)||fi(),name:n,fees:[{id:fi(),name:`${n} Fee`,amount:(r==null?void 0:r.amount)===0||r!=null&&r.amount?String(r.amount):""}]}:null}).filter(Boolean)):[],PC=(e=[])=>(e||[]).reduce((t,r)=>{const n=r.code||r.group_code||r.groupName||"",s=r.name||r.group_name||r.groupName||"";return n&&(t[n]=s||n),t},{}),LC=(e={},t={})=>{const r=e.group_name||e.groupCode||e.group_code||"";return{...e,groupCode:r,groupName:t[r]||r}};function TC(){const{tab:e}=c3(),t=["years","groups","subjects","students"].includes(e)?e:"years",[r,n]=H.useState({name:"",category:"",active:!0}),[s,i]=H.useState([]),[a,l]=H.useState(""),c=H.useMemo(()=>d2(s),[s]),d=pe=>{if(!pe)return"";const Me=s.find(Xe=>String(Xe.id)===String(pe));return(Me==null?void 0:Me.name)||""},f=async()=>{var pe;if(oa({"Academic year name":r.name})){try{if(a){const Me=await((pe=Ce.updateAcademicYear)==null?void 0:pe.call(Ce,a,{name:r.name,category:r.category,active:r.active}));Me&&i(Xe=>Xe.map(Fe=>Fe.id===a?Me:Fe)),l("")}else{const Me=await Ce.addAcademicYear({name:r.name,category:r.category,active:r.active});Me&&i(Xe=>[...Xe,Me])}}catch(Me){console.error("Failed to save academic year",Me),rt((Me==null?void 0:Me.message)||"Failed to save academic year",{type:"danger"})}n({name:"",active:!0})}},g=pe=>{n({name:pe.name,category:pe.category||"",active:pe.active}),l(pe.id)},y=async pe=>{var Me;i(Xe=>Xe.filter(Fe=>Fe.id!==pe));try{await((Me=Ce.deleteAcademicYear)==null?void 0:Me.call(Ce,pe))}catch(Xe){console.error("Failed to delete academic year",Xe),rt((Xe==null?void 0:Xe.message)||"Failed to delete academic year",{type:"danger"})}a===pe&&(n({name:"",category:"",active:!0}),l(""))},p=()=>{n({name:"",active:!0}),l("")},[x,N]=H.useState([]),C=H.useMemo(()=>PC(x),[x]),[_,b]=H.useState({id:"",code:"",name:"",years:0,semesters:0}),[S,R]=H.useState(""),F=async()=>{var Xe;if(!oa({"Group code":_.code,"Group name":_.name}))return;const pe=_.code.toUpperCase(),Me={code:pe,name:_.name,category:_.category,years:Number(_.years)||0,semesters:Number(_.semesters)||0};if(S){try{const Fe=await((Xe=Ce.updateGroup)==null?void 0:Xe.call(Ce,S,Me));Fe&&N(pt=>pt.map(De=>De.id===S?Fe:De))}catch(Fe){console.error("Error updating group:",Fe),rt((Fe==null?void 0:Fe.message)||"Error updating group",{type:"danger"})}R("")}else{if(x.some(Fe=>Fe.code===pe)){rt("Group code already exists.",{type:"danger",title:"Duplicate code"});return}try{const Fe=await Ce.addGroup(Me);Fe&&N(pt=>[...pt,Fe])}catch(Fe){console.error("Error adding group:",Fe),rt((Fe==null?void 0:Fe.message)||"Error adding group",{type:"danger"})}}b({id:"",category:"",code:"",name:"",years:0,semesters:0})},te=pe=>{b(pe),R(pe.id)},z=async pe=>{var Me;N(Xe=>Xe.filter(Fe=>Fe.id!==pe));try{await((Me=Ce.deleteGroup)==null?void 0:Me.call(Ce,pe))}catch(Xe){console.error("Error deleting group:",Xe),rt((Xe==null?void 0:Xe.message)||"Error deleting group",{type:"danger"})}},[U,I]=H.useState([]),se=H.useMemo(()=>U.map(pe=>LC(pe,C)),[U,C]),L=H.useMemo(()=>u2(U),[U]),[M,K]=H.useState({id:"",groupCode:"",groupName:"",courseCode:"",courseName:"",semesters:6}),[q,he]=H.useState(""),[$,de]=H.useState([]);H.useEffect(()=>{const pe=U.flatMap(Me=>{const Xe=Me.courseCode||Me.code,Fe=Number(Me.semesters||0);return!Xe||!Fe?[]:Array.from({length:Fe},(pt,De)=>({id:`${Xe}-${De+1}`,courseCode:Xe,number:De+1}))});de(pe)},[U]);const T=async()=>{var Dt;const{groupCode:pe,courseCode:Me,courseName:Xe,semesters:Fe}=M;if(!oa({"Group code":pe,"Course code":Me,"Course name":Xe,"Number of semesters":Fe}))return;const pt=Me.toUpperCase(),De=x.find(wt=>(wt.groupCode||wt.code||wt.group_code)===pe)||x.find(wt=>(wt.group_name||wt.name)===M.groupName),vt=(De==null?void 0:De.group_name)||(De==null?void 0:De.name)||(De==null?void 0:De.groupName)||M.groupName||C[pe]||pe,yt={code:pt,name:Xe,group_name:vt,semesters:Number(Fe)||0};if(q){try{const wt=await((Dt=Ce.updateCourse)==null?void 0:Dt.call(Ce,q,yt));wt&&I(rr=>rr.map(Ir=>Ir.id===q?wt:Ir))}catch(wt){console.error("Error updating course:",wt),rt((wt==null?void 0:wt.message)||"Error updating course",{type:"danger"})}he("")}else{if(U.some(wt=>(wt.courseCode||wt.code)===pt))return;try{const wt=await Ce.addCourse(yt);wt&&I(rr=>[...rr,wt])}catch(wt){console.error("Error adding course:",wt),rt((wt==null?void 0:wt.message)||"Error adding course",{type:"danger"})}}K({id:"",groupCode:"",groupName:"",courseCode:"",courseName:"",semesters:6})},Q=pe=>{K({id:pe.id,groupCode:pe.groupCode||pe.group_code||pe.group_name||"",groupName:pe.groupName||pe.group_name||pe.groupName||"",courseCode:pe.courseCode||pe.code||"",courseName:pe.courseName||pe.name||"",semesters:pe.semesters??pe.number_semesters??6}),he(pe.id)},Z=async pe=>{var Xe;const Me=U.find(Fe=>Fe.id===pe);if(I(U.filter(Fe=>Fe.id!==pe)),Me){const Fe=Me.courseCode||Me.code;de($.filter(pt=>pt.courseCode!==Fe))}try{await((Xe=Ce.deleteCourse)==null?void 0:Xe.call(Ce,pe))}catch(Fe){console.error("Error deleting course:",Fe),rt((Fe==null?void 0:Fe.message)||"Error deleting course",{type:"danger"})}},[Ne,j]=H.useState([]),[B,G]=H.useState({}),ee=H.useMemo(()=>CC(B),[B]),[ae,ce]=H.useState(""),[ge,me]=H.useState(""),[Le,J]=H.useState({}),[be,xe]=H.useState([]),[ze,_e]=H.useState(""),[Y,dt]=H.useState(""),[et,Ie]=H.useState({}),[qe,Ve]=H.useState([]);H.useEffect(()=>{(async()=>{var pe,Me,Xe,Fe,pt,De,vt;try{const[yt,Dt,wt,rr,Ir,qr,or]=await Promise.all([((pe=Ce.listAcademicYears)==null?void 0:pe.call(Ce))||[],((Me=Ce.listGroups)==null?void 0:Me.call(Ce))||[],((Xe=Ce.listCourses)==null?void 0:Xe.call(Ce))||[],((Fe=Ce.getFeeTypes)==null?void 0:Fe.call(Ce))||[],((pt=Ce.listSubCategories)==null?void 0:pt.call(Ce))||[],((De=Ce.listSubjects)==null?void 0:De.call(Ce))||[],((vt=Ce.listStudents)==null?void 0:vt.call(Ce))||[]]);if(yt.length&&i(yt),Dt.length&&N(Dt),wt.length&&I(wt),rr){const Or=EC(rr);xe(Or)}const xr={};if(Ir.length){const Or=[],wi={},xi={};Ir.forEach(zr=>{Or.push(zr.name),xi[zr.name]=zr.id,wi[zr.name]=Pp(zr.subjects),zr.id&&(xr[zr.id]=zr.name)}),j(Or),J(wi),G(xi)}else j([]),J({}),G({});const Yr={courseLookup:u2(wt),categoryNameById:xr,yearNameToId:d2(yt)};qr!=null&&qr.length?It(qr.map(Or=>f2(h2(Or,Yr)))):It([]),or!=null&&or.length?Ve(or):Ve([])}catch(yt){console.error("Failed to load setup data",yt),rt((yt==null?void 0:yt.message)||"Failed to load setup data",{type:"danger"})}})()},[]);const $e=async()=>{var Me,Xe;const pe=(ae||"").trim();if(!pe){rt("Enter a sub-category name.",{type:"warning",title:"Required field"});return}if(ge){const Fe=ge,pt=B[Fe];if(!pt){rt("Unable to locate the category to update.",{type:"danger"});return}const De=jC(Le[Fe]||[]);try{const vt=await((Me=Ce.updateSubCategory)==null?void 0:Me.call(Ce,pt,{name:pe,subjects:De}));j(yt=>yt.map(Dt=>Dt===Fe?vt.name:Dt)),J(yt=>{const Dt={...yt};return Dt[vt.name]=Pp(vt.subjects||[]),Fe!==vt.name&&delete Dt[Fe],Dt}),G(yt=>{const Dt={...yt};return Fe!==vt.name&&delete Dt[Fe],Dt[vt.name]=vt.id,Dt}),ce(""),me(""),rt("Sub-category updated.",{type:"success"})}catch(vt){console.error("Failed to update sub-category",vt),rt((vt==null?void 0:vt.message)||"Unable to update sub-category.",{type:"danger"})}}else try{const Fe=await((Xe=Ce.addSubCategory)==null?void 0:Xe.call(Ce,pe));Fe&&(j(pt=>[...pt,Fe.name]),J(pt=>({...pt,[Fe.name]:Pp(Fe.subjects||[])})),G(pt=>({...pt,[Fe.name]:Fe.id})),ce(""),rt("Sub-category added.",{type:"success"}))}catch(Fe){console.error("Failed to add sub-category",Fe),rt((Fe==null?void 0:Fe.message)||"Unable to add sub-category.",{type:"danger"})}},lt=async pe=>{var Xe;if(!pe)return;const Me=B[pe];j(Fe=>Fe.filter(pt=>pt!==pe)),J(Fe=>{const pt={...Fe};return delete pt[pe],pt}),G(Fe=>{const pt={...Fe};return delete pt[pe],pt});try{Me&&await((Xe=Ce.deleteSubCategory)==null?void 0:Xe.call(Ce,Me)),rt("Sub-category deleted.",{type:"info"})}catch(Fe){console.error("Failed to delete sub-category",Fe),rt("Unable to delete sub-category.",{type:"danger"})}},[bt,Nt]=H.useState([]),[Tt,Ft]=H.useState(0),[Bt,ft]=H.useState([]),jt=H.useMemo(()=>({courseLookup:L,categoryNameById:ee,yearNameToId:c}),[L,ee,c]),We=H.useCallback(async()=>{var pe;try{const Me=await((pe=Ce.listSubjects)==null?void 0:pe.call(Ce))||[];It(Me.map(Xe=>f2(h2(Xe,jt))))}catch(Me){console.error("Failed to reload subjects",Me)}},[jt]),[dr,It]=H.useState([]),[Lr,ne]=H.useState([]),[Ee,X]=H.useState(()=>kd(""));H.useEffect(()=>{X(pe=>Ne.length?Ne.includes(pe.category)?pe:{...pe,category:Ne[0]}:pe.category?{...pe,category:""}:pe)},[Ne]);const[we,Be]=H.useState(""),[Ye,st]=H.useState(""),ct=C[Ee.groupCode]||"",Oe=U.filter(pe=>{if(!Ee.groupCode)return!1;const Me=pe.groupName||pe.group_name||C[pe.groupCode]||C[pe.group_code]||"";return Me&&Me===ct}),He=$.filter(pe=>pe.courseCode===Ee.courseCode),Ct=()=>{const{academicYearId:pe,groupCode:Me,courseCode:Xe,semester:Fe,category:pt,subjectName:De,extraSubjectNames:vt=[],extraSubjectCodes:yt=[],subjectCode:Dt,subjectSelections:wt=[],feeCategory:rr,feeAmount:Ir}=Ee,qr=Array.isArray(wt)?wt:[],or=qr.length>0,xr=[{name:De,code:Dt},...Array.isArray(vt)?vt.map((Kt,An)=>({name:Kt,code:Array.isArray(yt)&&An<yt.length?yt[An]:""})):[]].map(Kt=>({name:(Kt.name||"").trim(),code:(Kt.code||"").trim()})).filter(Kt=>Kt.name);if(!pe||!Me||!Xe||!Fe||!pt){rt("Fill in academic year, group, course, semester and sub-category before adding a subject.",{type:"warning",title:"Missing details"});return}if(or&&(!Dt||!Dt.trim())){rt("Enter a subject code for your selected subject(s).",{type:"warning",title:"Subject code required"});return}if(!or&&xr.length>0&&xr.some(Kt=>!Kt.code)){rt("Enter a subject code for every typed subject.",{type:"warning",title:"Subject code required"});return}if(!or&&xr.length===0){rt("Enter at least one subject name.",{type:"warning",title:"Subject name required"});return}const Yr=or?qr:xr.map(Kt=>Kt.name),Or=or?Array(Yr.length).fill((Dt||"").trim()):xr.map(Kt=>Kt.code),wi=d(pe),xi=B[pt]||"",zr=U.find(Kt=>Kt.courseCode===Xe||Kt.code===Xe),ya=(zr==null?void 0:zr.courseName)||Xe,jl=Ye||fi(),Ni=Yr.map((Kt,An)=>({id:we&&An===0?we:fi(),subjectId:we&&An===0?we:"",batchId:jl,academicYearId:pe,academicYearName:wi,groupCode:Me,courseCode:Xe,courseName:ya,semester:Number(Fe),category:pt,categoryId:xi,subject_code:(Or[An]||"").trim(),subjectCode:(Or[An]||"").trim(),subject_name:Kt,subjectName:Kt,feeCategory:rr,feeAmount:Ir?Number(Ir):"",course_name:ya}));we?(ne(Kt=>[...Kt.filter(An=>An.id!==we),...Ni]),Be("")):ne(Kt=>[...Kt,...Ni]),rt(`${Yr.length} subject${Yr.length===1?"":"s"} added to pending list.`,{type:"success"}),X(Kt=>({...Kt,subjectName:"",subjectCode:"",extraSubjectNames:[],extraSubjectCodes:[],subjectSelections:[],feeCategory:"",feeAmount:""}))},nt=pe=>{var qr,or,xr;const Me=zs(pe);ne(Yr=>Yr.filter(Or=>zs(Or)!==Me));const Xe=Le[pe.category]||[],Fe=L[pe.courseCode]||L[pe.courseName]||L[pe.course_name]||{},pt=pe.groupCode||pe.group_code||Fe.groupCode||Fe.group_code||"",De=pe.courseCode||pe.course_code||Fe.courseCode||Fe.course_code||pe.courseName||pe.course_name||"",vt=Fe.courseName||Fe.course_name||pe.courseName||pe.course_name||De,yt=(qr=pe.subjectNames)!=null&&qr.length?pe.subjectNames:[pe.subjectName].filter(Boolean),Dt=(or=pe.subjectCodes)!=null&&or.length?pe.subjectCodes:pe.subjectCode?[pe.subjectCode]:[],wt=Dt[0]||pe.subjectCode||"",rr=yt.length>0&&yt.every(Yr=>Xe.some(Or=>Or.name===Yr)),Ir=B[pe.category]||pe.categoryId||pe.category_id||"";X({...pe,groupCode:pt,courseCode:De,courseName:vt,categoryId:Ir,semester:pe.semester===void 0||pe.semester===null?"":pe.semester.toString(),feeCategory:pe.feeCategory||"",feeAmount:((xr=pe.feeAmount)==null?void 0:xr.toString())||"",subjectCode:wt,subjectName:rr?"":yt[0]||"",extraSubjectNames:rr?[]:yt.slice(1),extraSubjectCodes:rr?[]:yt.slice(1).map((Yr,Or)=>Dt[Or+1]||wt),subjectSelections:rr?yt:[]}),Be(pe.subjectId||pe.id||""),st(Me||"")},Qt=async()=>{var pt;if(!Lr.length)return;const pe=Lr.map(De=>({...De})),Me={};for(const De of pe){const vt=zs(De)||fi();if(!Me[vt]){const wt=De.academicYearName||d(De.academicYearId),rr=L[De.courseCode]||L[De.courseName]||{},Ir=De.categoryId||B[De.category]||null,qr=rr.courseCode||De.courseCode||De.courseName||null,or=De.subjectId||De.id||null,xr=or!=null&&or!==""?Number(or):null;Me[vt]={rep:De,academic_year:wt||null,course_name:qr,semester_number:De.semester?Number(De.semester):null,category_id:Ir,amount:De.feeAmount===""||De.feeAmount===void 0||De.feeAmount===null?null:Number(De.feeAmount),names:[],codes:[],subject_id:Number.isFinite(xr)?xr:null}}const yt=(De.subjectName||De.subjectCode||"").toString();yt&&Me[vt].names.push(yt);const Dt=(De.subjectCode||De.subject_code||"").toString();Me[vt].codes=Me[vt].codes||[],Me[vt].codes.push(Dt),!Me[vt].subject_id&&(De.subjectId||De.id)&&(Me[vt].subject_id=De.subjectId||De.id)}const Xe=Object.values(Me).map(De=>{const vt={academic_year:De.academic_year,course_name:De.course_name,semester_number:De.semester_number,category_id:De.category_id,subject_name:JSON.stringify(De.names||[]),subject_code:JSON.stringify(De.codes||[]),amount:De.amount};return De.subject_id&&(vt.subject_id=De.subject_id),{grouped:De,row:vt}}),Fe=new Set(dr.map(c2));for(const De of Xe){const vt=c2(De.grouped.rep);if(!De.grouped.subject_id&&Fe.has(vt)){rt("These subjects already exist for the selected combination.",{type:"warning",title:"Duplicate combination"});return}}try{const De=Xe.filter(yt=>Number.isFinite(yt.grouped.subject_id)),vt=Xe.filter(yt=>!Number.isFinite(yt.grouped.subject_id)).map(yt=>yt.row);De.length&&await Promise.all(De.map(yt=>{var Dt;return(Dt=Ce.updateSubject)==null?void 0:Dt.call(Ce,Number(yt.grouped.subject_id),yt.row)})),vt.length&&await((pt=Ce.addSubjects)==null?void 0:pt.call(Ce,vt)),ne([]),await We(),rt("Subjects submitted.",{type:"success"}),X(yt=>({...yt,academicYearId:"",academicYearName:"",groupCode:"",courseCode:"",courseName:"",semester:"",category:"",categoryId:"",subjectName:"",subjectCode:"",extraSubjectNames:[],extraSubjectCodes:[],subjectSelections:[]})),Be(""),st("")}catch(De){console.error("Failed to save subjects",De),rt((De==null?void 0:De.message)||"Failed to save subjects",{type:"danger"})}},tn=async pe=>{const Me=zs(pe);It(Xe=>Xe.filter(Fe=>zs(Fe)!==Me)),nt(pe)},tr=pe=>{const Me=zs(pe);ne(Xe=>Xe.filter(Fe=>zs(Fe)!==Me)),we===(pe.subjectId||pe.id)&&(X(kd(Ne[0]||"")),Be("")),Ye===Me&&(X(kd(Ne[0]||"")),st(""))},gt=async pe=>{var Fe;const Me=zs(pe),Xe=((Fe=pe.subjectIds)!=null&&Fe.length?pe.subjectIds:[pe.subjectId||pe.id]).filter(Boolean);It(pt=>pt.filter(De=>zs(De)!==Me));try{const pt=Xe.map(De=>Number(De)).filter(De=>Number.isFinite(De));pt.length&&await Promise.all(pt.map(De=>{var vt;return(vt=Ce.deleteSubject)==null?void 0:vt.call(Ce,De)})),rt("Subject entries deleted.",{type:"info"})}catch(pt){console.error("Failed to delete subject",pt),rt("Unable to delete subject.",{type:"danger"})}},Je=()=>{Be(""),st(""),X(kd(Ne[0]||""))},Tr=[{key:"years",label:"Academic Years",value:s.length||0,meta:"records",route:"/admin/setup/years"},{key:"groups",label:"Groups",value:x.length||0,meta:"active",route:"/admin/setup/groups"},{key:"courses",label:"Courses",value:U.length||0,meta:"active",route:"/admin/setup/groups"},{key:"students",label:"Students",value:qe.length||0,meta:"records",route:"/admin/students"}];return o.jsx(Rs,{children:o.jsxs("div",{className:"desktop-container",children:[o.jsx("h2",{className:"fw-bold mb-3",children:"Admin Setup"}),o.jsx("section",{className:"setup-hero mb-4",children:o.jsxs("div",{className:"setup-hero-grid",children:[o.jsxs("div",{className:"setup-hero-copywrap",children:[o.jsx("div",{className:"setup-hero-crest",children:o.jsx("img",{src:Sl,alt:"Vijayam crest"})}),o.jsx("h3",{className:"setup-hero-title mb-2",children:"Vijayam Arts & Science College"}),o.jsx("p",{className:"setup-hero-copy mb-3",children:"Manage programme structures and duration."}),o.jsx("div",{className:"setup-hero-chips d-flex flex-wrap gap-2",children:o.jsx("span",{className:"setup-hero-chip",children:"SMART EXAMINATION PLATFORM"})}),o.jsx("p",{className:"setup-hero-eyebrow text-uppercase mt-3",children:"Administration  Setup Console"})]}),o.jsx("div",{className:"setup-stat-grid",children:Tr.map(pe=>o.jsxs(Ji,{to:pe.route,className:"setup-stat-card",children:[o.jsx("div",{className:"setup-stat-label",children:pe.label}),o.jsx("div",{className:"setup-stat-value",children:pe.value}),o.jsx("div",{className:"setup-stat-meta",children:pe.meta})]},pe.key))})]})}),o.jsx("nav",{className:"setup-tab-nav d-flex flex-wrap gap-2 mb-4",children:kC.map(pe=>o.jsxs(Ji,{to:`/admin/setup/${pe.key}`,className:`setup-tab-pill ${t===pe.key?"active":""}`,children:[o.jsx("div",{className:"setup-pill-label",children:pe.label}),o.jsx("div",{className:"setup-pill-meta",children:pe.tagline})]},pe.key))}),t==="years"&&o.jsx(xC,{yearForm:r,setYearForm:n,academicYears:s,editingYearId:a,addYear:f,editYear:g,deleteYear:y,onCancelEdit:p}),t==="groups"&&o.jsx(NC,{groupForm:_,setGroupForm:b,editingGroupId:S,setEditingGroupId:R,groups:x,saveGroup:F,editGroup:te,deleteGroup:z,courseForm:M,setCourseForm:K,editingCourseId:q,setEditingCourseId:he,courses:se,saveCourse:T,editCourse:Q,deleteCourse:Z}),t==="subjects"&&o.jsx(SC,{subjectForm:Ee,setSubjectForm:X,academicYears:s,groups:x,coursesForGroup:Oe,semForCourse:He,feeCategories:be,categories:Ne,catItems:Le,categoryName:ae,setCategoryName:ce,editingCategory:ge,setEditingCategory:me,saveCategory:$e,deleteCategory:lt,pendingSubjects:Lr,subjects:dr,editingSubjectId:we,saveSubject:Ct,submitPendingSubjects:Qt,editPendingSubject:nt,deletePendingSubject:tr,editSubject:tn,deleteSubject:gt,onCancelSubjectEdit:Je})]})})}function IC(){const[e,t]=H.useState([]),[r,n]=H.useState([]),[s,i]=H.useState([]),[a,l]=H.useState([]),[c,d]=H.useState([]),[f,g]=H.useState([]),[y,p]=H.useState([]),[x,N]=H.useState({}),[C,_]=H.useState([]),[b,S]=H.useState(null),[R,F]=H.useState([]),[te,z]=H.useState(""),[U,I]=H.useState(null),[se,L]=H.useState([]),[M,K]=H.useState(null),[q,he]=H.useState({category:"",year:"",group:"",courseCode:"",semester:""}),[$,de]=H.useState([]),[T,Q]=H.useState({}),[Z,Ne]=H.useState(!1),j=H.useRef(null),[B,G]=H.useState(null),ee=X=>(X||"").trim().toLowerCase(),ae=H.useMemo(()=>{const X=new Map;r.forEach(Be=>{const Ye=(Be.category||Be.Category||"").trim();if(!Ye)return;const st=Ye.toUpperCase();X.has(st)||X.set(st,Ye)});const we={UG:0,PG:1};return Array.from(X.entries()).sort(([Be,Ye],[st,ct])=>{const Oe=we[Be]??99,He=we[st]??99;return Oe!==He?Oe-He:Ye.localeCompare(ct)}).map(([,Be])=>Be)},[r]),ce=ee(q.category),[ge,me]=H.useState([]),[Le,J]=H.useState(""),[be,xe]=H.useState(""),[ze,_e]=H.useState(""),[Y,dt]=H.useState(null);H.useEffect(()=>{(async()=>{const[we,Be,Ye]=await Promise.all([Ce.listAcademicYears(),Ce.listGroups(),Ce.listCourses()]),st=(we||[]).filter(ct=>(ct==null?void 0:ct.active)!==!1);t(st),l(st),n(Be||[]),d(Be||[]),i(Ye||[]),g(Ye||[])})()},[]),H.useEffect(()=>{const X=nt=>ee(nt.category||nt.Category),we=()=>ce?e.filter(nt=>ee(nt.category)===ce):e,Be=()=>ce?r.filter(nt=>X(nt)===ce):r,Ye=we(),st=Be(),ct=new Set(st.map(nt=>nt.group_code||nt.code||nt.groupCode).filter(Boolean).map(nt=>String(nt))),Oe=st.find(nt=>[nt.code,nt.group_code,nt.groupCode].map(Qt=>String(Qt||"")).includes(String(q.group))),Ct=Oe!==void 0?(nt=>{if(!nt)return[];const Qt=nt.code||nt.group_code||nt.groupCode,tn=[nt.name,nt.group_name,nt.groupName].filter(Boolean).map(tr=>String(tr));return s.filter(tr=>Qt?!!(tr.group_code===Qt||tr.groupCode===Qt||tr.group_name&&tn.includes(String(tr.group_name))||tr.groupName&&tn.includes(String(tr.groupName))):!1)})(Oe):ce?s.filter(nt=>ct.has(String(nt.group_code||""))||ct.has(String(nt.groupCode||""))):s;l(Ye),d(st),g(Ct),q.year&&!Ye.some(nt=>String(nt.academic_year)===String(q.year)||String(nt.name)===String(q.year))&&he(nt=>({...nt,year:""})),q.group&&!st.some(nt=>String(nt.code)===String(q.group)||String(nt.group_code)===String(q.group)||String(nt.groupCode)===String(q.group))&&he(nt=>({...nt,group:"",courseCode:""})),q.courseCode&&!Ct.some(nt=>String(nt.code)===String(q.courseCode)||String(nt.courseCode)===String(q.courseCode))&&he(nt=>({...nt,courseCode:""}))},[ce,e,r,s,q.year,q.group,q.courseCode]),H.useEffect(()=>{et()},[]),H.useEffect(()=>{const X=we=>{j.current&&!j.current.contains(we.target)&&Ne(!1)};return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[]);const et=async()=>{try{const{data:X,error:we}=await Ze.from("fee_categories").select("*").order("name",{ascending:!0});if(we)throw we;F(X||[])}catch(X){console.error("Error loading fee categories:",X),rt("Failed to load fee categories.",{type:"danger"})}},Ie=async()=>{if(!te.trim()){rt("Please enter a category name",{type:"warning"});return}try{if(U){const{error:X}=await Ze.from("fee_categories").update({name:te}).eq("id",U);if(X)throw X;rt("Category updated successfully",{type:"success"})}else{const{error:X}=await Ze.from("fee_categories").insert([{name:te}]);if(X)throw X;rt("Category added successfully",{type:"success"})}await et(),z(""),I(null)}catch(X){console.error("Error saving fee category:",X),rt("Failed to save category",{type:"danger"})}},qe=X=>{z(X.name),I(X.id)},Ve=async X=>{var we;rt("Deleting category...",{type:"info",title:"Deleting"});try{const{data:Be,error:Ye}=await Ze.from("fee_structure").select("id").ilike("fee_cat",`%${(we=R.find(ct=>ct.id===X))==null?void 0:we.name}%`).limit(1);if(Ye)throw Ye;if(Be&&Be.length>0){rt("Cannot delete: This category is in use",{type:"danger"});return}const{error:st}=await Ze.from("fee_categories").delete().eq("id",X);if(st)throw st;rt("Category deleted successfully",{type:"success"}),await et()}catch(Be){console.error("Error deleting fee category:",Be),rt("Failed to delete category",{type:"danger"})}};H.useEffect(()=>{q.courseCode&&q.semester&&$e()},[q.courseCode,q.semester]);const $e=async()=>{const X=await Ce.listSubjects({courseCode:q.courseCode,semester:Number(q.semester)});p(X||[])},lt=X=>{de(we=>we.includes(X)?(Q(Ye=>{const{[X]:st,...ct}=Ye;return ct}),we.filter(Ye=>Ye!==X)):(Q(Ye=>({...Ye,[X]:Ye[X]??""})),[...we,X]))},bt=(X,we)=>{Q(Be=>({...Be,[X]:we}))},Nt=async()=>{try{const{data:X,error:we}=await Ze.from("fee_structure").select("*").order("created_at",{ascending:!1});if(we)throw we;const Be=new Map;X.forEach(st=>{const ct=`${st.academic_year}_${st.group}_${st.course}_${st.semester}`;if(Be.has(ct)||Be.set(ct,{id:st.id,feeCategories:[],amount:0,academic_year:String(st.academic_year),group:st.group,course_code:st.course,semester:String(st.semester||""),created_at:st.created_at}),st.fee_cat){const Oe=Be.get(ct),He=Number(st.amount)||0;Oe.feeCategories.push({id:st.id,name:st.fee_cat,amount:He}),Oe.amount+=He}});const Ye=Array.from(Be.values());L(Ye)}catch(X){console.error("Error fetching category fees:",X),rt("Error loading category fees. Please try again.",{type:"danger",title:"Category fees"})}},Tt=async()=>{if($.length===0){rt("Select at least one fee category",{type:"warning"});return}if($.find(Be=>!(T[Be]??"").toString().trim().length)){rt("Enter an amount for each selected fee category",{type:"warning"});return}if($.find(Be=>Number.isNaN(parseFloat((T[Be]??"").toString().trim())))){rt("Enter valid numbers for all fee category amounts",{type:"warning"});return}if(!q.year||!q.group||!q.courseCode||!q.semester){rt("Select Academic Year, Group, Course & Semester",{type:"warning"});return}try{const Be=$.map(st=>{const ct=R.find(Oe=>Oe.id===st);return{academic_year:q.year,group:q.group,category:q.category,course:q.courseCode,semester:q.semester,fee_cat:(ct==null?void 0:ct.name)||"",amount:parseFloat((T[st]??"").toString().trim()),created_at:new Date().toISOString()}});await Ze.from("fee_structure").delete().eq("academic_year",q.year).eq("group",q.group).eq("course",q.courseCode).eq("semester",q.semester);const{error:Ye}=await Ze.from("fee_structure").insert(Be);if(Ye)throw Ye;await Nt(),de([]),Q({}),he({year:"",group:"",courseCode:"",semester:""}),p([]),rt("Fee saved successfully",{type:"success"})}catch(Be){console.error("Error:",Be),rt("Failed to save fees",{type:"danger",title:"Category fees"})}},Ft=async X=>{rt("Deleting category fee...",{type:"info",title:"Deleting"});try{const{error:we}=await Ze.from("fee_structure").delete().eq("id",X);if(we)throw we;await Nt()}catch(we){console.error("Error deleting category fee:",we),rt("Error deleting category fee. Please try again.",{type:"danger",title:"Category fees"})}},Bt=X=>B?X.filter(we=>!(B.year&&we.academic_year!==B.year||B.group&&we.group!==B.group||B.courseCode&&we.course_code!==B.courseCode||B.semester&&we.semester!==B.semester)):X;Bt(C);const ft=Bt(se),jt=R.filter(X=>$.includes(X.id)).map(X=>X.name),We=jt.length?jt.length>2?`${jt.length}categories selected`:jt.join(", "):"Select fee categories",dr=async()=>{try{const{data:X,error:we}=await Ze.from("Supplementary").select("*").order("created_at",{ascending:!1});if(we)throw we;me(X||[])}catch(X){console.error("Error fetching supplementary fees:",X),rt("Error loading supplementary fees. Please try again.",{type:"danger",title:"Supplementary fees"})}},It=async X=>{if(X.preventDefault(),!oa({"Paper 1 Fee":Le,"Paper 2 Fee":be,"3+ Papers Fee":ze},{title:"Enter fee amounts"}))return;const we=parseFloat(Le),Be=parseFloat(be),Ye=parseFloat(ze);if(isNaN(we)||isNaN(Be)||isNaN(Ye)){rt("Please enter valid numbers for all fields.",{type:"warning",title:"Supplementary fees"});return}const st={"Paper-1":we,"Paper-2":Be,"Paper-3":Ye,created_at:new Date().toISOString()};console.log("Submitting fee data:",{editingFeeId:Y,feeData:st,table:"Supplementary",supabaseConnected:!!Ze});try{if(Y){console.log("Updating existing fee with ID:",Y);const{data:ct,error:Oe}=await Ze.from("Supplementary").update(st).eq("id",Y).select();if(Oe)throw console.error("Update error details:",Oe),Oe;console.log("Update successful, updated data:",ct),me(ge.map(He=>He.id===Y?{...He,...st}:He)),dt(null)}else{console.log("Creating new fee");const{data:ct,error:Oe}=await Ze.from("Supplementary").insert([st]).select();if(Oe)throw console.error("Insert error details:",Oe),Oe;console.log("Insert successful, new data:",ct),ct&&ct.length>0?me([ct[0],...ge]):(console.log("No data returned from insert, refetching..."),await dr())}J(""),xe(""),_e("")}catch(ct){console.error("Error in handleSupplementarySubmit:",{message:ct.message,code:ct.code,details:ct.details,hint:ct.hint,error:ct});let Oe="Error saving supplementary fee";ct.code==="42P01"?Oe="The Supplementary table does not exist in the database. Please create it first.":ct.code==="42501"?Oe="Permission denied. Please check your database permissions.":ct.message&&(Oe+=`: ${ct.message}`),rt(Oe,{type:"danger",title:"Supplementary fees"})}},Lr=X=>{J(X["Paper-1"].toString()),xe(X["Paper-2"].toString()),_e(X["Paper-3"].toString()),dt(X.id)},ne=async X=>{try{const{error:we}=await Ze.from("Supplementary").delete().eq("id",X);if(we)throw we;me(ge.filter(Be=>Be.id!==X)),rt("Supplementary fee deleted.",{type:"success",title:"Supplementary fees"})}catch(we){console.error("Error deleting supplementary fee:",we),rt("Error deleting supplementary fee. Please try again.",{type:"danger",title:"Supplementary fees"})}},Ee=async X=>{try{const{data:we,error:Be}=await Ze.from(X).select("*").limit(1);return!(Be&&Be.code==="42P01")}catch(we){return console.error("Error checking table existence:",we),!1}};return H.useEffect(()=>{(async()=>{const we=await Ee("Supplementary");console.log("Supplementary table exists:",we),we?await dr():rt("The Supplementary table does not exist in your Supabase database. Please create it with columns id, Paper-1, Paper-2, Paper-3, created_at.",{type:"warning",title:"Supplementary fees"});const Be=await Ee("fee_structure");console.log("Fee structure table exists:",Be),Be?await Nt():console.log("Fee structure table does not exist. It will be created when you add your first fee.")})()},[]),o.jsxs(Rs,{children:[o.jsx("h2",{className:"fw-bold mb-4",children:"Fees Management"}),o.jsxs("div",{className:"tab-pane fade show active",id:"fee-structure",role:"tabpanel",children:[o.jsxs("div",{className:"card mb-4",children:[o.jsx("div",{className:"card-header",children:o.jsx("h5",{className:"mb-0",children:"Fee Categories"})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"row g-2 align-items-end mb-3",children:[o.jsxs("div",{className:"col-md-5 col-lg-4",children:[o.jsx("label",{className:"form-label text-muted fw-600",children:U?"Edit fee category":"Add a fee category"}),o.jsx("input",{className:"form-control",placeholder:"e.g., Tuition",value:te,onChange:X=>z(X.target.value),onKeyDown:X=>{X.key==="Enter"&&(X.preventDefault(),Ie())}})]}),o.jsx("div",{className:"col-md-3 col-lg-2",children:o.jsx("button",{type:"button",className:"btn btn-primary w-100 mt-md-4",onClick:Ie,children:U?"Update Category":"Add Category"})}),U&&o.jsx("div",{className:"col-md-3 col-lg-2",children:o.jsx("button",{type:"button",className:"btn btn-outline-secondary w-100 mt-md-4",onClick:()=>{z(""),I(null)},children:"Cancel"})})]}),o.jsxs("div",{className:"row g-3",children:[R.map(X=>o.jsx("div",{className:"col-md-6 col-lg-4",children:o.jsx("div",{className:"card h-100",children:o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsx("div",{children:o.jsx("h6",{className:"mb-0",children:X.name})}),o.jsxs("div",{className:"btn-group",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>qe(X),children:"Edit"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>Ve(X.id),children:"Delete"})]})]})})})},X.id)),R.length===0&&o.jsx("div",{className:"col-12",children:o.jsx("div",{className:"alert alert-info mb-0",children:"No fee categories found. Add one to get started."})})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h5",{className:"mb-0",children:"Fee Structure"})}),o.jsx("div",{className:"card-body"})]})]}),o.jsx("div",{className:"card card-soft p-3 mb-4",children:o.jsxs("div",{className:"row g-3",children:[o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label fw-bold",children:"Category"}),o.jsxs("select",{className:"form-select",value:q.category,onChange:X=>he({...q,category:X.target.value,year:"",group:"",courseCode:"",semester:""}),children:[o.jsx("option",{value:"",children:"Category"}),ae.map(X=>o.jsx("option",{value:X,children:X},X))]})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label fw-bold",children:"Academic Year"}),o.jsxs("select",{className:"form-select",value:q.year,onChange:X=>he({...q,year:X.target.value}),children:[o.jsx("option",{value:"",children:"Academic Year"}),a.map(X=>{const we=X.name||X.academic_year;return o.jsx("option",{value:we,children:we},X.id)})]})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label fw-bold",children:"Group"}),o.jsxs("select",{className:"form-select",value:q.group,onChange:X=>he({...q,group:X.target.value,courseCode:""}),children:[o.jsx("option",{value:"",children:"Group"}),c.map(X=>o.jsx("option",{value:X.code,children:X.name},X.id))]})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label fw-bold",children:"Course"}),o.jsxs("select",{className:"form-select",value:q.courseCode,onChange:X=>he({...q,courseCode:X.target.value,semester:""}),children:[o.jsx("option",{value:"",children:"Course"}),f.map(X=>o.jsx("option",{value:X.code,children:X.courseName||X.name||X.course_name||"Unnamed course"},X.id))]})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label fw-bold",children:"Semester"}),o.jsxs("select",{className:"form-select",value:q.semester,onChange:X=>he({...q,semester:X.target.value}),children:[o.jsx("option",{value:"",children:"Semester"}),[1,2,3,4,5,6].map(X=>o.jsxs("option",{value:X,children:["Sem ",X]},X))]})]}),o.jsxs("div",{className:"col-md-3 position-relative",ref:j,children:[o.jsx("label",{className:"form-label fw-bold",children:"Fee Categories"}),o.jsxs("button",{type:"button",className:"btn btn-outline-secondary w-100 text-start d-flex justify-content-between align-items-center",onClick:X=>{X.stopPropagation(),Ne(we=>!we)},"aria-haspopup":"true","aria-expanded":Z,children:[o.jsx("span",{className:"me-2",children:We}),o.jsx("span",{className:"text-muted",children:""})]}),Z&&o.jsx("div",{className:"bg-white border rounded mt-2 shadow-sm",style:{position:"absolute",zIndex:50,width:"100%",maxHeight:"300px",overflowY:"auto"},onClick:X=>X.stopPropagation(),children:o.jsxs("div",{className:"p-3 d-flex flex-column gap-2",children:[R.map(X=>o.jsxs("div",{className:"form-check",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:`cat-dropdown-${X.id}`,checked:$.includes(X.id),onChange:()=>lt(X.id)}),o.jsx("label",{className:"form-check-label",htmlFor:`cat-dropdown-${X.id}`,children:X.name})]},X.id)),R.length===0&&o.jsx("div",{className:"text-muted",children:"No categories available"})]})})]}),o.jsxs("div",{className:"col-md-3 d-flex flex-column",children:[o.jsx("div",{className:"flex-grow-1",children:$.length===0?o.jsx("div",{className:"border rounded p-3 text-muted text-center",children:"Select at least one fee category to set amounts."}):$.map(X=>{const we=R.find(Be=>Be.id===X);return o.jsxs("div",{className:"mb-2",children:[o.jsxs("label",{className:"form-label mb-1",children:[(we==null?void 0:we.name)||"Category"," Amount"]}),o.jsxs("div",{className:"input-group",children:[o.jsx("span",{className:"input-group-text",children:""}),o.jsx("input",{type:"number",className:"form-control",placeholder:"Amount",value:T[X]??"",onChange:Be=>bt(X,Be.target.value)})]})]},X)})}),o.jsx("div",{className:"mt-auto",children:o.jsx("button",{className:"btn btn-primary w-100",onClick:Tt,children:"Submit"})})]})]})}),ft.length>0&&o.jsxs("div",{className:"card card-soft p-4 mb-4",children:[o.jsx("h4",{className:"fw-bold mb-3",children:"Fee Category Records"}),ft.map((X,we)=>{var Ye,st,ct;X.academic_year,X.group,X.course_code,X.semester;const Be=X.feeCategories||[];return o.jsx("div",{className:"mb-4",children:o.jsxs("table",{className:"table table-bordered align-middle",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"YEAR"}),o.jsx("th",{children:"GROUP"}),o.jsx("th",{children:"COURSE"}),o.jsx("th",{children:"SEMESTER"}),o.jsx("th",{children:"FEE CATEGORIES"}),o.jsx("th",{children:"FEE AMOUNT"}),o.jsx("th",{children:"ACTIONS"})]})}),o.jsx("tbody",{children:M===X.id?o.jsx("tr",{children:o.jsx("td",{colSpan:"7",className:"p-0",children:o.jsxs("div",{className:"p-3 bg-light",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[o.jsx("h6",{className:"mb-0",children:"Edit Fee Categories"}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{className:"btn btn-sm btn-success",onClick:()=>{const Oe=se.map(He=>He.academic_year===X.academic_year&&He.group===X.group&&He.course_code===X.course_code&&He.semester===X.semester?{...He,academic_year:q.year,group:q.group,course_code:q.courseCode,semester:q.semester}:He);L(Oe),K(null)},children:"Save"}),o.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>K(null),children:"Cancel"})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label fw-bold",children:"Common Amount ()"}),o.jsx("input",{type:"number",className:"form-control",value:(X==null?void 0:X.amount)||"",onChange:Oe=>{const He=Oe.target.value;L(Ct=>Ct.map(nt=>nt.academic_year===X.academic_year&&nt.group===X.group&&nt.course_code===X.course_code&&nt.semester===X.semester?{...nt,amount:He}:nt))}})]}),o.jsxs("div",{className:"row g-3 mb-3",children:[o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Academic Year"}),o.jsxs("select",{className:"form-select form-select-sm",value:q.year,onChange:Oe=>he({...q,year:Oe.target.value}),children:[o.jsx("option",{value:"",children:"Select Year"}),e.map(Oe=>{const He=Oe.name||Oe.academic_year;return o.jsx("option",{value:He,children:He},Oe.id)})]})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Group"}),o.jsxs("select",{className:"form-select form-select-sm",value:q.group,onChange:Oe=>he({...q,group:Oe.target.value,courseCode:""}),children:[o.jsx("option",{value:"",children:"Select Group"}),r.map(Oe=>o.jsx("option",{value:Oe.code,children:Oe.code},Oe.id))]})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Course"}),o.jsxs("select",{className:"form-select form-select-sm",value:q.courseCode,onChange:Oe=>he({...q,courseCode:Oe.target.value,semester:""}),children:[o.jsx("option",{value:"",children:"Select Course"}),s.filter(Oe=>!q.group||Oe.group_code===q.group).map(Oe=>o.jsxs("option",{value:Oe.code,children:[Oe.code,"- ",Oe.name]},Oe.id))]})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Semester"}),o.jsxs("select",{className:"form-select form-select-sm",value:q.semester,onChange:Oe=>he({...q,semester:Oe.target.value}),children:[o.jsx("option",{value:"",children:"Select Semester"}),[1,2,3,4,5,6].map(Oe=>o.jsxs("option",{value:Oe,children:["Sem ",Oe]},Oe))]})]})]}),(Ye=X.feeCategories)==null?void 0:Ye.map(Oe=>o.jsxs("div",{className:"d-flex align-items-center gap-3 mb-2",children:[o.jsx("span",{className:"w-25",children:Oe.name}),o.jsxs("div",{className:"w-25",children:["",parseInt(Oe.amount).toLocaleString("en-IN")]}),o.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Ft(Oe.id),children:"Remove"})]},Oe.id))]})})}):o.jsxs("tr",{children:[o.jsx("td",{children:X.academic_year}),o.jsx("td",{children:((st=r.find(Oe=>Oe.code===X.group))==null?void 0:st.name)||X.group}),o.jsx("td",{children:((ct=s.find(Oe=>Oe.code===X.course_code))==null?void 0:ct.name)||X.course_code}),o.jsx("td",{children:X.semester}),o.jsx("td",{children:Be.map(Oe=>`${Oe.name} (${parseInt(Oe.amount||0).toLocaleString("en-IN")})`).join(", ")}),o.jsxs("td",{children:["",parseInt(Number(X.amount||0)).toLocaleString("en-IN")]}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{className:"btn btn-sm btn-warning",onClick:()=>K(X.id),children:"Edit"}),o.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>{var Oe;rt("Deleting all fee categories for this semester.",{type:"warning",title:"Delete categories"}),(Oe=X.feeCategories)==null||Oe.forEach(He=>Ft(He.id))},children:"Delete"})]})})]})})]})},we)})]}),o.jsxs("div",{className:"card card-soft p-3 mb-4",children:[o.jsx("h4",{className:"fw-bold mb-3",children:"Supplementary Fees"}),o.jsx("form",{onSubmit:It,className:"mb-4",children:o.jsxs("div",{className:"row g-3",children:[o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"1 Paper Fee ()"}),o.jsx("input",{type:"number",value:Le,onChange:X=>J(X.target.value),className:"form-control",required:!0})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"2 Papers Fee ()"}),o.jsx("input",{type:"number",value:be,onChange:X=>xe(X.target.value),className:"form-control",required:!0})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"3 and above Papers Fee ()"}),o.jsx("input",{type:"number",value:ze,onChange:X=>_e(X.target.value),className:"form-control",required:!0})]}),o.jsx("div",{className:"col-md-3 d-flex align-items-end",children:o.jsx("div",{className:"d-flex gap-2",children:o.jsx("button",{type:"submit",className:"btn btn-primary flex-grow-1",children:Y?"Update Fee":"Add Supplementary Fee"})})})]})}),ge.length>0&&o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"table table-bordered align-middle",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"1 PAPER ()"}),o.jsx("th",{children:"2 PAPERS ()"}),o.jsx("th",{children:"3+ PAPERS ()"}),o.jsx("th",{children:"ACTIONS"})]})}),o.jsx("tbody",{children:ge.map(X=>o.jsxs("tr",{children:[o.jsxs("td",{children:["",X["Paper-1"]]}),o.jsxs("td",{children:["",X["Paper-2"]]}),o.jsxs("td",{children:["",X["Paper-3"]]}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{type:"button",onClick:()=>Lr(X),className:"btn btn-sm btn-primary",children:"Edit"}),o.jsx("button",{onClick:()=>ne(X.id),className:"btn btn-sm btn-danger",children:"Delete"})]})})]},X.id))})]})})]})]})}function Gn({isAuthed:e,children:t}){return e?t:o.jsx(jm,{to:"/admin/login",replace:!0})}const OC=()=>{const e=Jc(r=>r.pendingRequests>0),t=["preloader-overlay"];return e&&t.push("preloader-overlay--visible"),o.jsx("div",{className:t.join(" "),"aria-hidden":!e,children:o.jsxs("div",{className:"preloader",role:"status","aria-live":"polite","aria-label":"Loading Vijayam Science and Arts College data",children:[o.jsxs("div",{className:"preloader__badge",children:[o.jsx("div",{className:"preloader__crest",children:o.jsx("img",{src:Sl,alt:"Vijayam Science and Arts College logo"})}),o.jsxs("div",{children:[o.jsx("div",{className:"preloader__college",children:"Vijayam Science and Arts College"}),o.jsx("div",{className:"preloader__tagline",children:"Preparing your academic space"})]})]}),o.jsxs("div",{className:"preloader__spinner",children:[o.jsx("div",{className:"preloader__ring preloader__ring--outer"}),o.jsx("div",{className:"preloader__ring preloader__ring--middle"}),o.jsx("div",{className:"preloader__ring preloader__ring--inner"}),o.jsx("div",{className:"preloader__pulse"}),o.jsxs("div",{className:"preloader__icons",children:[o.jsx("span",{className:"preloader__icon",children:""}),o.jsx("span",{className:"preloader__icon",children:""}),o.jsx("span",{className:"preloader__icon",children:""}),o.jsx("span",{className:"preloader__icon",children:""})]}),o.jsx("div",{className:"preloader__dot preloader__dot--one"}),o.jsx("div",{className:"preloader__dot preloader__dot--two"}),o.jsx("div",{className:"preloader__dot preloader__dot--three"})]}),o.jsx("div",{className:"preloader__status",children:"Syncing academic data"}),o.jsxs("div",{className:"preloader__meter",children:[o.jsx("span",{className:"preloader__segment"}),o.jsx("span",{className:"preloader__segment"}),o.jsx("span",{className:"preloader__segment"}),o.jsx("span",{className:"preloader__segment"})]})]})})},RC=H.memo(OC),FC="Vijayam College Arts & Science",DC=e=>{if(!e)return"S";const t=e.trim().split(" ");return t.length===1?t[0].slice(0,2).toUpperCase():(t[0][0]+t[t.length-1][0]).toUpperCase()};function MC(){var C,_,b;const e=ga(),t=_l(),r=((C=e.state)==null?void 0:C.student)??null,n=((_=e.state)==null?void 0:_.studentId)??(r==null?void 0:r.student_id),s=((b=e.state)==null?void 0:b.selectedFilters)??null,[i,a]=H.useState(r),[l,c]=H.useState(!1),[d,f]=H.useState([]),[g,y]=H.useState([]);H.useEffect(()=>{let S=!1;return(async()=>{var F,te,z;if(!i&&n){c(!0);try{const[U,I,se]=await Promise.all([(F=Ce.listStudents)==null?void 0:F.call(Ce),(te=Ce.listGroups)==null?void 0:te.call(Ce),(z=Ce.listCourses)==null?void 0:z.call(Ce)]);if(f(I||[]),y(se||[]),S)return;const L=(U||[]).find(M=>M.student_id===n||String(M.id)===String(n));a(L||{student_id:n})}catch(U){console.error("Failed to load student:",U),rt("Unable to load student details",{type:"error"})}finally{S||c(!1)}}})(),()=>{S=!0}},[n,i]);const p=(i==null?void 0:i.photo_url)||(i==null?void 0:i.photo)||null,x=()=>{if(!i)return"N/A";const S=i.group||i.group_name||"",R=(d||[]).find(F=>F.code===S||F.group_code===S||F.name===S||F.group_name===S);return(R==null?void 0:R.name)||S||"N/A"},N=()=>{if(!i)return"N/A";const S=i.course_name||i.courseName||i.course_id||"",R=(g||[]).find(F=>F.courseCode===S||F.course_code===S||F.courseName===S||F.course_name===S);return(R==null?void 0:R.courseName)||(R==null?void 0:R.course_name)||S||"N/A"};return o.jsxs(Rs,{children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"fw-bold mb-0",children:"Student Payment Overview"}),n&&o.jsxs("p",{className:"text-muted mb-0",children:["Quick view for ",n]})]}),o.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>{n?s?t("/admin/payments",{state:{selectedStudentId:n,selectedFilters:s}}):t("/admin/payments",{state:{selectedStudentId:n}}):t(-1)},children:"Back to payments"})]}),o.jsx("div",{className:"card card-soft p-4",children:l?o.jsx("div",{children:"Loading student details..."}):o.jsxs("div",{className:"row align-items-center justify-content-between",children:[o.jsxs("div",{className:"col-md-4 d-flex align-items-center gap-3",children:[p?o.jsx("img",{src:p,alt:(i==null?void 0:i.full_name)||"Student",className:"rounded-circle",style:{width:96,height:96,objectFit:"cover"}}):o.jsx("div",{className:"bg-secondary text-white rounded-circle d-inline-flex align-items-center justify-content-center",style:{width:96,height:96,fontSize:20},children:DC(i==null?void 0:i.full_name)}),o.jsxs("div",{children:[o.jsx("h5",{className:"mb-1",children:(i==null?void 0:i.full_name)||"Unnamed Student"}),o.jsxs("div",{className:"text-muted",children:["ID: ",(i==null?void 0:i.student_id)||n||"N/A"]}),o.jsx("div",{className:"text-muted",children:FC})]})]}),o.jsxs("div",{className:"col-md-7 d-flex flex-column justify-content-center align-items-end text-end",children:[o.jsx("h5",{className:"fw-bold",children:"About me"}),o.jsxs("div",{className:"d-flex flex-column gap-2 mt-3",children:[o.jsx("div",{className:"fs-5",children:x()}),o.jsx("div",{className:"fs-5",children:N()}),o.jsx("div",{className:"fs-5",children:(i==null?void 0:i.academic_year)||"N/A"})]})]})]})})]})}function UC(){const{user:e,signOut:t}=e0(),r=!!e;return o.jsxs(o.Fragment,{children:[o.jsxs(j3,{children:[o.jsx(Mr,{path:"/",element:o.jsx(Y4,{})}),o.jsx(Mr,{path:"/apply",element:o.jsx(V4,{})}),o.jsx(Mr,{path:"/application",element:o.jsx(J6,{})}),o.jsx(Mr,{path:"/public/results",element:o.jsx(K4,{})}),o.jsx(Mr,{path:"/public/timetable",element:o.jsx(J4,{})}),o.jsx(Mr,{path:"/admin/login",element:o.jsx(Z6,{})}),o.jsx(Mr,{path:"/admin",element:o.jsx(Gn,{isAuthed:r,children:o.jsx(jm,{to:"/admin/setup/years",replace:!0})})}),o.jsx(Mr,{path:"/admin/batches",element:o.jsx(Gn,{isAuthed:r,children:o.jsx(eC,{})})}),o.jsx(Mr,{path:"/admin/courses",element:o.jsx(Gn,{isAuthed:r,children:o.jsx(tC,{})})}),o.jsx(Mr,{path:"/admin/students",element:o.jsx(Gn,{isAuthed:r,children:o.jsx(mC,{})})}),o.jsx(Mr,{path:"/admin/exams",element:o.jsx(Gn,{isAuthed:r,children:o.jsx(w_,{})})}),o.jsx(Mr,{path:"/admin/payments",element:o.jsx(Gn,{isAuthed:r,children:o.jsx(gC,{})})}),o.jsx(Mr,{path:"/admin/hall-tickets",element:o.jsx(Gn,{isAuthed:r,children:o.jsx(vC,{})})}),o.jsx(Mr,{path:"/admin/results",element:o.jsx(Gn,{isAuthed:r,children:o.jsx(yC,{})})}),o.jsx(Mr,{path:"/admin/departments",element:o.jsx(Gn,{isAuthed:r,children:o.jsx(IC,{})})}),o.jsx(Mr,{path:"/admin/studentpayoverview",element:o.jsx(Gn,{isAuthed:r,children:o.jsx(MC,{})})}),o.jsx(Mr,{path:"/admin/setup",element:o.jsx(Gn,{isAuthed:r,children:o.jsx(jm,{to:"/admin/setup/years",replace:!0})})}),o.jsx(Mr,{path:"/admin/setup/:tab",element:o.jsx(Gn,{isAuthed:r,children:o.jsx(TC,{})})}),o.jsx(Mr,{path:"/admin/applications",element:o.jsx(Gn,{isAuthed:r,children:o.jsx(Q6,{})})})]}),o.jsx(RC,{}),o.jsx(x_,{})]})}document.body.classList.remove("theme-red");document.body.classList.add("theme-blue");Lp.createRoot(document.getElementById("root")).render(o.jsx(T3,{children:o.jsx(UC,{})}));export{Ht as _,BC as c,g2 as g};
