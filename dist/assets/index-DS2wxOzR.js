function X2(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var fA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Bb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var ev={exports:{}},fh={},tv={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qu=Symbol.for("react.element"),Ub=Symbol.for("react.portal"),zb=Symbol.for("react.fragment"),qb=Symbol.for("react.strict_mode"),$b=Symbol.for("react.profiler"),Vb=Symbol.for("react.provider"),Hb=Symbol.for("react.context"),Wb=Symbol.for("react.forward_ref"),Gb=Symbol.for("react.suspense"),Kb=Symbol.for("react.memo"),Yb=Symbol.for("react.lazy"),S1=Symbol.iterator;function Jb(t){return t===null||typeof t!="object"?null:(t=S1&&t[S1]||t["@@iterator"],typeof t=="function"?t:null)}var rv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nv=Object.assign,sv={};function ml(t,e,r){this.props=t,this.context=e,this.refs=sv,this.updater=r||rv}ml.prototype.isReactComponent={};ml.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ml.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iv(){}iv.prototype=ml.prototype;function zm(t,e,r){this.props=t,this.context=e,this.refs=sv,this.updater=r||rv}var qm=zm.prototype=new iv;qm.constructor=zm;nv(qm,ml.prototype);qm.isPureReactComponent=!0;var j1=Array.isArray,av=Object.prototype.hasOwnProperty,$m={current:null},ov={key:!0,ref:!0,__self:!0,__source:!0};function lv(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)av.call(e,n)&&!ov.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var o=Array(l),c=0;c<l;c++)o[c]=arguments[c+2];s.children=o}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Qu,type:t,key:i,ref:a,props:s,_owner:$m.current}}function Qb(t,e){return{$$typeof:Qu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qu}function Xb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var A1=/\/+/g;function bf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xb(""+t.key):e.toString(36)}function yd(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Qu:case Ub:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+bf(a,0):n,j1(s)?(r="",t!=null&&(r=t.replace(A1,"$&/")+"/"),yd(s,e,r,"",function(c){return c})):s!=null&&(Vm(s)&&(s=Qb(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(A1,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",j1(t))for(var l=0;l<t.length;l++){i=t[l];var o=n+bf(i,l);a+=yd(i,e,r,o,s)}else if(o=Jb(t),typeof o=="function")for(t=o.call(t),l=0;!(i=t.next()).done;)i=i.value,o=n+bf(i,l++),a+=yd(i,e,r,o,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function qc(t,e,r){if(t==null)return t;var n=[],s=0;return yd(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Zb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fn={current:null},wd={transition:null},e_={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:wd,ReactCurrentOwner:$m};function uv(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:qc,forEach:function(t,e,r){qc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return qc(t,function(){e++}),e},toArray:function(t){return qc(t,function(e){return e})||[]},only:function(t){if(!Vm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xt.Component=ml;xt.Fragment=zb;xt.Profiler=$b;xt.PureComponent=zm;xt.StrictMode=qb;xt.Suspense=Gb;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e_;xt.act=uv;xt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=nv({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=$m.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(o in e)av.call(e,o)&&!ov.hasOwnProperty(o)&&(n[o]=e[o]===void 0&&l!==void 0?l[o]:e[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){l=Array(o);for(var c=0;c<o;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Qu,type:t.type,key:s,ref:i,props:n,_owner:a}};xt.createContext=function(t){return t={$$typeof:Hb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Vb,_context:t},t.Consumer=t};xt.createElement=lv;xt.createFactory=function(t){var e=lv.bind(null,t);return e.type=t,e};xt.createRef=function(){return{current:null}};xt.forwardRef=function(t){return{$$typeof:Wb,render:t}};xt.isValidElement=Vm;xt.lazy=function(t){return{$$typeof:Yb,_payload:{_status:-1,_result:t},_init:Zb}};xt.memo=function(t,e){return{$$typeof:Kb,type:t,compare:e===void 0?null:e}};xt.startTransition=function(t){var e=wd.transition;wd.transition={};try{t()}finally{wd.transition=e}};xt.unstable_act=uv;xt.useCallback=function(t,e){return fn.current.useCallback(t,e)};xt.useContext=function(t){return fn.current.useContext(t)};xt.useDebugValue=function(){};xt.useDeferredValue=function(t){return fn.current.useDeferredValue(t)};xt.useEffect=function(t,e){return fn.current.useEffect(t,e)};xt.useId=function(){return fn.current.useId()};xt.useImperativeHandle=function(t,e,r){return fn.current.useImperativeHandle(t,e,r)};xt.useInsertionEffect=function(t,e){return fn.current.useInsertionEffect(t,e)};xt.useLayoutEffect=function(t,e){return fn.current.useLayoutEffect(t,e)};xt.useMemo=function(t,e){return fn.current.useMemo(t,e)};xt.useReducer=function(t,e,r){return fn.current.useReducer(t,e,r)};xt.useRef=function(t){return fn.current.useRef(t)};xt.useState=function(t){return fn.current.useState(t)};xt.useSyncExternalStore=function(t,e,r){return fn.current.useSyncExternalStore(t,e,r)};xt.useTransition=function(){return fn.current.useTransition()};xt.version="18.3.1";tv.exports=xt;var se=tv.exports;const Ss=Z2(se),t_=X2({__proto__:null,default:Ss},[se]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_=se,n_=Symbol.for("react.element"),s_=Symbol.for("react.fragment"),i_=Object.prototype.hasOwnProperty,a_=r_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o_={key:!0,ref:!0,__self:!0,__source:!0};function cv(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)i_.call(e,n)&&!o_.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:n_,type:t,key:i,ref:a,props:s,_owner:a_.current}}fh.Fragment=s_;fh.jsx=cv;fh.jsxs=cv;ev.exports=fh;var d=ev.exports,wp={},dv={exports:{}},Wn={},hv={exports:{}},fv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,re){var ae=W.length;W.push(re);e:for(;0<ae;){var Ne=ae-1>>>1,C=W[Ne];if(0<s(C,re))W[Ne]=re,W[ae]=C,ae=Ne;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var re=W[0],ae=W.pop();if(ae!==re){W[0]=ae;e:for(var Ne=0,C=W.length,z=C>>>1;Ne<z;){var $=2*(Ne+1)-1,Y=W[$],X=$+1,oe=W[X];if(0>s(Y,ae))X<C&&0>s(oe,Y)?(W[Ne]=oe,W[X]=ae,Ne=X):(W[Ne]=Y,W[$]=ae,Ne=$);else if(X<C&&0>s(oe,ae))W[Ne]=oe,W[X]=ae,Ne=X;else break e}}return re}function s(W,re){var ae=W.sortIndex-re.sortIndex;return ae!==0?ae:W.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var o=[],c=[],f=1,m=null,v=3,p=!1,b=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(W){for(var re=r(c);re!==null;){if(re.callback===null)n(c);else if(re.startTime<=W)n(c),re.sortIndex=re.expirationTime,e(o,re);else break;re=r(c)}}function I(W){if(N=!1,S(W),!b)if(r(o)!==null)b=!0,de(B);else{var re=r(c);re!==null&&me(I,re.startTime-W)}}function B(W,re){b=!1,N&&(N=!1,w(M),M=-1),p=!0;var ae=v;try{for(S(re),m=r(o);m!==null&&(!(m.expirationTime>re)||W&&!P());){var Ne=m.callback;if(typeof Ne=="function"){m.callback=null,v=m.priorityLevel;var C=Ne(m.expirationTime<=re);re=t.unstable_now(),typeof C=="function"?m.callback=C:m===r(o)&&n(o),S(re)}else n(o);m=r(o)}if(m!==null)var z=!0;else{var $=r(c);$!==null&&me(I,$.startTime-re),z=!1}return z}finally{m=null,v=ae,p=!1}}var Q=!1,T=null,M=-1,K=5,O=-1;function P(){return!(t.unstable_now()-O<K)}function R(){if(T!==null){var W=t.unstable_now();O=W;var re=!0;try{re=T(!0,W)}finally{re?G():(Q=!1,T=null)}}else Q=!1}var G;if(typeof _=="function")G=function(){_(R)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,pe=V.port2;V.port1.onmessage=R,G=function(){pe.postMessage(null)}}else G=function(){j(R,0)};function de(W){T=W,Q||(Q=!0,G())}function me(W,re){M=j(function(){W(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){b||p||(b=!0,de(B))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(o)},t.unstable_next=function(W){switch(v){case 1:case 2:case 3:var re=3;break;default:re=v}var ae=v;v=re;try{return W()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,re){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ae=v;v=W;try{return re()}finally{v=ae}},t.unstable_scheduleCallback=function(W,re,ae){var Ne=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Ne+ae:Ne):ae=Ne,W){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ae+C,W={id:f++,callback:re,priorityLevel:W,startTime:ae,expirationTime:C,sortIndex:-1},ae>Ne?(W.sortIndex=ae,e(c,W),r(o)===null&&W===r(c)&&(N?(w(M),M=-1):N=!0,me(I,ae-Ne))):(W.sortIndex=C,e(o,W),b||p||(b=!0,de(B))),W},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(W){var re=v;return function(){var ae=v;v=re;try{return W.apply(this,arguments)}finally{v=ae}}}})(fv);hv.exports=fv;var l_=hv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_=se,Hn=l_;function Ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pv=new Set,Cu={};function Qa(t,e){al(t,e),al(t+"Capture",e)}function al(t,e){for(Cu[t]=e,t=0;t<e.length;t++)pv.add(e[t])}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bp=Object.prototype.hasOwnProperty,c_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k1={},C1={};function d_(t){return bp.call(C1,t)?!0:bp.call(k1,t)?!1:c_.test(t)?C1[t]=!0:(k1[t]=!0,!1)}function h_(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function f_(t,e,r,n){if(e===null||typeof e>"u"||h_(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pn(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vr[t]=new pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vr[e]=new pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vr[t]=new pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vr[t]=new pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vr[t]=new pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vr[t]=new pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vr[t]=new pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vr[t]=new pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vr[t]=new pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hm=/[\-:]([a-z])/g;function Wm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hm,Wm);Vr[e]=new pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hm,Wm);Vr[e]=new pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hm,Wm);Vr[e]=new pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vr[t]=new pn(t,1,!1,t.toLowerCase(),null,!1,!1)});Vr.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vr[t]=new pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gm(t,e,r,n){var s=Vr.hasOwnProperty(e)?Vr[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(f_(e,r,s,n)&&(r=null),n||s===null?d_(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var xi=u_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$c=Symbol.for("react.element"),To=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),Km=Symbol.for("react.strict_mode"),_p=Symbol.for("react.profiler"),mv=Symbol.for("react.provider"),gv=Symbol.for("react.context"),Ym=Symbol.for("react.forward_ref"),xp=Symbol.for("react.suspense"),Np=Symbol.for("react.suspense_list"),Jm=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),vv=Symbol.for("react.offscreen"),E1=Symbol.iterator;function Zl(t){return t===null||typeof t!="object"?null:(t=E1&&t[E1]||t["@@iterator"],typeof t=="function"?t:null)}var sr=Object.assign,_f;function cu(t){if(_f===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);_f=e&&e[1]||""}return`
`+_f+t}var xf=!1;function Nf(t,e){if(!t||xf)return"";xf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var o=`
`+s[a].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=a&&0<=l);break}}}finally{xf=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?cu(t):""}function p_(t){switch(t.tag){case 5:return cu(t.type);case 16:return cu("Lazy");case 13:return cu("Suspense");case 19:return cu("SuspenseList");case 0:case 2:case 15:return t=Nf(t.type,!1),t;case 11:return t=Nf(t.type.render,!1),t;case 1:return t=Nf(t.type,!0),t;default:return""}}function Sp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fo:return"Fragment";case To:return"Portal";case _p:return"Profiler";case Km:return"StrictMode";case xp:return"Suspense";case Np:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gv:return(t.displayName||"Context")+".Consumer";case mv:return(t._context.displayName||"Context")+".Provider";case Ym:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jm:return e=t.displayName||null,e!==null?e:Sp(t.type)||"Memo";case Vi:e=t._payload,t=t._init;try{return Sp(t(e))}catch{}}return null}function m_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sp(e);case 8:return e===Km?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function la(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function g_(t){var e=yv(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vc(t){t._valueTracker||(t._valueTracker=g_(t))}function wv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=yv(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jp(t,e){var r=e.checked;return sr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function L1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=la(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bv(t,e){e=e.checked,e!=null&&Gm(t,"checked",e,!1)}function Ap(t,e){bv(t,e);var r=la(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kp(t,e.type,r):e.hasOwnProperty("defaultValue")&&kp(t,e.type,la(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function P1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function kp(t,e,r){(e!=="number"||Rd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var du=Array.isArray;function Ko(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+la(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Cp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return sr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function O1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ee(92));if(du(r)){if(1<r.length)throw Error(Ee(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:la(r)}}function _v(t,e){var r=la(e.value),n=la(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function I1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ep(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hc,Nv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hc=Hc||document.createElement("div"),Hc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Eu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var gu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v_=["Webkit","ms","Moz","O"];Object.keys(gu).forEach(function(t){v_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gu[e]=gu[t]})});function Sv(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||gu.hasOwnProperty(t)&&gu[t]?(""+e).trim():e+"px"}function jv(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Sv(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var y_=sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lp(t,e){if(e){if(y_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ee(62))}}function Pp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Op=null;function Qm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ip=null,Yo=null,Jo=null;function R1(t){if(t=ec(t)){if(typeof Ip!="function")throw Error(Ee(280));var e=t.stateNode;e&&(e=yh(e),Ip(t.stateNode,t.type,e))}}function Av(t){Yo?Jo?Jo.push(t):Jo=[t]:Yo=t}function kv(){if(Yo){var t=Yo,e=Jo;if(Jo=Yo=null,R1(t),e)for(t=0;t<e.length;t++)R1(e[t])}}function Cv(t,e){return t(e)}function Ev(){}var Sf=!1;function Lv(t,e,r){if(Sf)return t(e,r);Sf=!0;try{return Cv(t,e,r)}finally{Sf=!1,(Yo!==null||Jo!==null)&&(Ev(),kv())}}function Lu(t,e){var r=t.stateNode;if(r===null)return null;var n=yh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ee(231,e,typeof r));return r}var Rp=!1;if(yi)try{var eu={};Object.defineProperty(eu,"passive",{get:function(){Rp=!0}}),window.addEventListener("test",eu,eu),window.removeEventListener("test",eu,eu)}catch{Rp=!1}function w_(t,e,r,n,s,i,a,l,o){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(f){this.onError(f)}}var vu=!1,Td=null,Fd=!1,Tp=null,b_={onError:function(t){vu=!0,Td=t}};function __(t,e,r,n,s,i,a,l,o){vu=!1,Td=null,w_.apply(b_,arguments)}function x_(t,e,r,n,s,i,a,l,o){if(__.apply(this,arguments),vu){if(vu){var c=Td;vu=!1,Td=null}else throw Error(Ee(198));Fd||(Fd=!0,Tp=c)}}function Xa(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Pv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function T1(t){if(Xa(t)!==t)throw Error(Ee(188))}function N_(t){var e=t.alternate;if(!e){if(e=Xa(t),e===null)throw Error(Ee(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return T1(s),t;if(i===n)return T1(s),e;i=i.sibling}throw Error(Ee(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(Ee(189))}}if(r.alternate!==n)throw Error(Ee(190))}if(r.tag!==3)throw Error(Ee(188));return r.stateNode.current===r?t:e}function Ov(t){return t=N_(t),t!==null?Iv(t):null}function Iv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Iv(t);if(e!==null)return e;t=t.sibling}return null}var Rv=Hn.unstable_scheduleCallback,F1=Hn.unstable_cancelCallback,S_=Hn.unstable_shouldYield,j_=Hn.unstable_requestPaint,hr=Hn.unstable_now,A_=Hn.unstable_getCurrentPriorityLevel,Xm=Hn.unstable_ImmediatePriority,Tv=Hn.unstable_UserBlockingPriority,Dd=Hn.unstable_NormalPriority,k_=Hn.unstable_LowPriority,Fv=Hn.unstable_IdlePriority,ph=null,Ws=null;function C_(t){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(ph,t,void 0,(t.current.flags&128)===128)}catch{}}var Ls=Math.clz32?Math.clz32:P_,E_=Math.log,L_=Math.LN2;function P_(t){return t>>>=0,t===0?32:31-(E_(t)/L_|0)|0}var Wc=64,Gc=4194304;function hu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Md(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=hu(l):(i&=a,i!==0&&(n=hu(i)))}else a=r&~s,a!==0?n=hu(a):i!==0&&(n=hu(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ls(e),s=1<<r,n|=t[r],e&=~s;return n}function O_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I_(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Ls(i),l=1<<a,o=s[a];o===-1?(!(l&r)||l&n)&&(s[a]=O_(l,e)):o<=e&&(t.expiredLanes|=l),i&=~l}}function Fp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Dv(){var t=Wc;return Wc<<=1,!(Wc&4194240)&&(Wc=64),t}function jf(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Xu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ls(e),t[e]=r}function R_(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ls(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Zm(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ls(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Ft=0;function Mv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Bv,e0,Uv,zv,qv,Dp=!1,Kc=[],Zi=null,ea=null,ta=null,Pu=new Map,Ou=new Map,Wi=[],T_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function D1(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Pu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ou.delete(e.pointerId)}}function tu(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ec(e),e!==null&&e0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function F_(t,e,r,n,s){switch(e){case"focusin":return Zi=tu(Zi,t,e,r,n,s),!0;case"dragenter":return ea=tu(ea,t,e,r,n,s),!0;case"mouseover":return ta=tu(ta,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Pu.set(i,tu(Pu.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ou.set(i,tu(Ou.get(i)||null,t,e,r,n,s)),!0}return!1}function $v(t){var e=Ma(t.target);if(e!==null){var r=Xa(e);if(r!==null){if(e=r.tag,e===13){if(e=Pv(r),e!==null){t.blockedOn=e,qv(t.priority,function(){Uv(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Mp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Op=n,r.target.dispatchEvent(n),Op=null}else return e=ec(r),e!==null&&e0(e),t.blockedOn=r,!1;e.shift()}return!0}function M1(t,e,r){bd(t)&&r.delete(e)}function D_(){Dp=!1,Zi!==null&&bd(Zi)&&(Zi=null),ea!==null&&bd(ea)&&(ea=null),ta!==null&&bd(ta)&&(ta=null),Pu.forEach(M1),Ou.forEach(M1)}function ru(t,e){t.blockedOn===e&&(t.blockedOn=null,Dp||(Dp=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,D_)))}function Iu(t){function e(s){return ru(s,t)}if(0<Kc.length){ru(Kc[0],t);for(var r=1;r<Kc.length;r++){var n=Kc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Zi!==null&&ru(Zi,t),ea!==null&&ru(ea,t),ta!==null&&ru(ta,t),Pu.forEach(e),Ou.forEach(e),r=0;r<Wi.length;r++)n=Wi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Wi.length&&(r=Wi[0],r.blockedOn===null);)$v(r),r.blockedOn===null&&Wi.shift()}var Qo=xi.ReactCurrentBatchConfig,Bd=!0;function M_(t,e,r,n){var s=Ft,i=Qo.transition;Qo.transition=null;try{Ft=1,t0(t,e,r,n)}finally{Ft=s,Qo.transition=i}}function B_(t,e,r,n){var s=Ft,i=Qo.transition;Qo.transition=null;try{Ft=4,t0(t,e,r,n)}finally{Ft=s,Qo.transition=i}}function t0(t,e,r,n){if(Bd){var s=Mp(t,e,r,n);if(s===null)Tf(t,e,n,Ud,r),D1(t,n);else if(F_(s,t,e,r,n))n.stopPropagation();else if(D1(t,n),e&4&&-1<T_.indexOf(t)){for(;s!==null;){var i=ec(s);if(i!==null&&Bv(i),i=Mp(t,e,r,n),i===null&&Tf(t,e,n,Ud,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Tf(t,e,n,null,r)}}var Ud=null;function Mp(t,e,r,n){if(Ud=null,t=Qm(n),t=Ma(t),t!==null)if(e=Xa(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Pv(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ud=t,null}function Vv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A_()){case Xm:return 1;case Tv:return 4;case Dd:case k_:return 16;case Fv:return 536870912;default:return 16}default:return 16}}var Yi=null,r0=null,_d=null;function Hv(){if(_d)return _d;var t,e=r0,r=e.length,n,s="value"in Yi?Yi.value:Yi.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return _d=s.slice(t,1<n?1-n:void 0)}function xd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yc(){return!0}function B1(){return!1}function Gn(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yc:B1,this.isPropagationStopped=B1,this}return sr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),e}var gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n0=Gn(gl),Zu=sr({},gl,{view:0,detail:0}),U_=Gn(Zu),Af,kf,nu,mh=sr({},Zu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nu&&(nu&&t.type==="mousemove"?(Af=t.screenX-nu.screenX,kf=t.screenY-nu.screenY):kf=Af=0,nu=t),Af)},movementY:function(t){return"movementY"in t?t.movementY:kf}}),U1=Gn(mh),z_=sr({},mh,{dataTransfer:0}),q_=Gn(z_),$_=sr({},Zu,{relatedTarget:0}),Cf=Gn($_),V_=sr({},gl,{animationName:0,elapsedTime:0,pseudoElement:0}),H_=Gn(V_),W_=sr({},gl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),G_=Gn(W_),K_=sr({},gl,{data:0}),z1=Gn(K_),Y_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Q_[t])?!!e[t]:!1}function s0(){return X_}var Z_=sr({},Zu,{key:function(t){if(t.key){var e=Y_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s0,charCode:function(t){return t.type==="keypress"?xd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ex=Gn(Z_),tx=sr({},mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q1=Gn(tx),rx=sr({},Zu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s0}),nx=Gn(rx),sx=sr({},gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ix=Gn(sx),ax=sr({},mh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ox=Gn(ax),lx=[9,13,27,32],i0=yi&&"CompositionEvent"in window,yu=null;yi&&"documentMode"in document&&(yu=document.documentMode);var ux=yi&&"TextEvent"in window&&!yu,Wv=yi&&(!i0||yu&&8<yu&&11>=yu),$1=" ",V1=!1;function Gv(t,e){switch(t){case"keyup":return lx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Do=!1;function cx(t,e){switch(t){case"compositionend":return Kv(e);case"keypress":return e.which!==32?null:(V1=!0,$1);case"textInput":return t=e.data,t===$1&&V1?null:t;default:return null}}function dx(t,e){if(Do)return t==="compositionend"||!i0&&Gv(t,e)?(t=Hv(),_d=r0=Yi=null,Do=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wv&&e.locale!=="ko"?null:e.data;default:return null}}var hx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hx[t.type]:e==="textarea"}function Yv(t,e,r,n){Av(n),e=zd(e,"onChange"),0<e.length&&(r=new n0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var wu=null,Ru=null;function fx(t){a5(t,0)}function gh(t){var e=Uo(t);if(wv(e))return t}function px(t,e){if(t==="change")return e}var Jv=!1;if(yi){var Ef;if(yi){var Lf="oninput"in document;if(!Lf){var W1=document.createElement("div");W1.setAttribute("oninput","return;"),Lf=typeof W1.oninput=="function"}Ef=Lf}else Ef=!1;Jv=Ef&&(!document.documentMode||9<document.documentMode)}function G1(){wu&&(wu.detachEvent("onpropertychange",Qv),Ru=wu=null)}function Qv(t){if(t.propertyName==="value"&&gh(Ru)){var e=[];Yv(e,Ru,t,Qm(t)),Lv(fx,e)}}function mx(t,e,r){t==="focusin"?(G1(),wu=e,Ru=r,wu.attachEvent("onpropertychange",Qv)):t==="focusout"&&G1()}function gx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gh(Ru)}function vx(t,e){if(t==="click")return gh(e)}function yx(t,e){if(t==="input"||t==="change")return gh(e)}function wx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Os=typeof Object.is=="function"?Object.is:wx;function Tu(t,e){if(Os(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!bp.call(e,s)||!Os(t[s],e[s]))return!1}return!0}function K1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Y1(t,e){var r=K1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=K1(r)}}function Xv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zv(){for(var t=window,e=Rd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Rd(t.document)}return e}function a0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bx(t){var e=Zv(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Xv(r.ownerDocument.documentElement,r)){if(n!==null&&a0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Y1(r,i);var a=Y1(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _x=yi&&"documentMode"in document&&11>=document.documentMode,Mo=null,Bp=null,bu=null,Up=!1;function J1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Up||Mo==null||Mo!==Rd(n)||(n=Mo,"selectionStart"in n&&a0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bu&&Tu(bu,n)||(bu=n,n=zd(Bp,"onSelect"),0<n.length&&(e=new n0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Mo)))}function Jc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Bo={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},Pf={},e5={};yi&&(e5=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function vh(t){if(Pf[t])return Pf[t];if(!Bo[t])return t;var e=Bo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in e5)return Pf[t]=e[r];return t}var t5=vh("animationend"),r5=vh("animationiteration"),n5=vh("animationstart"),s5=vh("transitionend"),i5=new Map,Q1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ha(t,e){i5.set(t,e),Qa(e,[t])}for(var Of=0;Of<Q1.length;Of++){var If=Q1[Of],xx=If.toLowerCase(),Nx=If[0].toUpperCase()+If.slice(1);ha(xx,"on"+Nx)}ha(t5,"onAnimationEnd");ha(r5,"onAnimationIteration");ha(n5,"onAnimationStart");ha("dblclick","onDoubleClick");ha("focusin","onFocus");ha("focusout","onBlur");ha(s5,"onTransitionEnd");al("onMouseEnter",["mouseout","mouseover"]);al("onMouseLeave",["mouseout","mouseover"]);al("onPointerEnter",["pointerout","pointerover"]);al("onPointerLeave",["pointerout","pointerover"]);Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sx=new Set("cancel close invalid load scroll toggle".split(" ").concat(fu));function X1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,x_(n,e,void 0,t),t.currentTarget=null}function a5(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==i&&s.isPropagationStopped())break e;X1(s,l,c),i=o}else for(a=0;a<n.length;a++){if(l=n[a],o=l.instance,c=l.currentTarget,l=l.listener,o!==i&&s.isPropagationStopped())break e;X1(s,l,c),i=o}}}if(Fd)throw t=Tp,Fd=!1,Tp=null,t}function Wt(t,e){var r=e[Hp];r===void 0&&(r=e[Hp]=new Set);var n=t+"__bubble";r.has(n)||(o5(e,t,2,!1),r.add(n))}function Rf(t,e,r){var n=0;e&&(n|=4),o5(r,t,n,e)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function Fu(t){if(!t[Qc]){t[Qc]=!0,pv.forEach(function(r){r!=="selectionchange"&&(Sx.has(r)||Rf(r,!1,t),Rf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qc]||(e[Qc]=!0,Rf("selectionchange",!1,e))}}function o5(t,e,r,n){switch(Vv(e)){case 1:var s=M_;break;case 4:s=B_;break;default:s=t0}r=s.bind(null,e,r,t),s=void 0,!Rp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Tf(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var o=a.tag;if((o===3||o===4)&&(o=a.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Ma(l),a===null)return;if(o=a.tag,o===5||o===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Lv(function(){var c=i,f=Qm(r),m=[];e:{var v=i5.get(t);if(v!==void 0){var p=n0,b=t;switch(t){case"keypress":if(xd(r)===0)break e;case"keydown":case"keyup":p=ex;break;case"focusin":b="focus",p=Cf;break;case"focusout":b="blur",p=Cf;break;case"beforeblur":case"afterblur":p=Cf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=U1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=q_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=nx;break;case t5:case r5:case n5:p=H_;break;case s5:p=ix;break;case"scroll":p=U_;break;case"wheel":p=ox;break;case"copy":case"cut":case"paste":p=G_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=q1}var N=(e&4)!==0,j=!N&&t==="scroll",w=N?v!==null?v+"Capture":null:v;N=[];for(var _=c,S;_!==null;){S=_;var I=S.stateNode;if(S.tag===5&&I!==null&&(S=I,w!==null&&(I=Lu(_,w),I!=null&&N.push(Du(_,I,S)))),j)break;_=_.return}0<N.length&&(v=new p(v,b,null,r,f),m.push({event:v,listeners:N}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",v&&r!==Op&&(b=r.relatedTarget||r.fromElement)&&(Ma(b)||b[wi]))break e;if((p||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=c,b=b?Ma(b):null,b!==null&&(j=Xa(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=c),p!==b)){if(N=U1,I="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(N=q1,I="onPointerLeave",w="onPointerEnter",_="pointer"),j=p==null?v:Uo(p),S=b==null?v:Uo(b),v=new N(I,_+"leave",p,r,f),v.target=j,v.relatedTarget=S,I=null,Ma(f)===c&&(N=new N(w,_+"enter",b,r,f),N.target=S,N.relatedTarget=j,I=N),j=I,p&&b)t:{for(N=p,w=b,_=0,S=N;S;S=No(S))_++;for(S=0,I=w;I;I=No(I))S++;for(;0<_-S;)N=No(N),_--;for(;0<S-_;)w=No(w),S--;for(;_--;){if(N===w||w!==null&&N===w.alternate)break t;N=No(N),w=No(w)}N=null}else N=null;p!==null&&Z1(m,v,p,N,!1),b!==null&&j!==null&&Z1(m,j,b,N,!0)}}e:{if(v=c?Uo(c):window,p=v.nodeName&&v.nodeName.toLowerCase(),p==="select"||p==="input"&&v.type==="file")var B=px;else if(H1(v))if(Jv)B=yx;else{B=gx;var Q=mx}else(p=v.nodeName)&&p.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(B=vx);if(B&&(B=B(t,c))){Yv(m,B,r,f);break e}Q&&Q(t,v,c),t==="focusout"&&(Q=v._wrapperState)&&Q.controlled&&v.type==="number"&&kp(v,"number",v.value)}switch(Q=c?Uo(c):window,t){case"focusin":(H1(Q)||Q.contentEditable==="true")&&(Mo=Q,Bp=c,bu=null);break;case"focusout":bu=Bp=Mo=null;break;case"mousedown":Up=!0;break;case"contextmenu":case"mouseup":case"dragend":Up=!1,J1(m,r,f);break;case"selectionchange":if(_x)break;case"keydown":case"keyup":J1(m,r,f)}var T;if(i0)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Do?Gv(t,r)&&(M="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(Wv&&r.locale!=="ko"&&(Do||M!=="onCompositionStart"?M==="onCompositionEnd"&&Do&&(T=Hv()):(Yi=f,r0="value"in Yi?Yi.value:Yi.textContent,Do=!0)),Q=zd(c,M),0<Q.length&&(M=new z1(M,t,null,r,f),m.push({event:M,listeners:Q}),T?M.data=T:(T=Kv(r),T!==null&&(M.data=T)))),(T=ux?cx(t,r):dx(t,r))&&(c=zd(c,"onBeforeInput"),0<c.length&&(f=new z1("onBeforeInput","beforeinput",null,r,f),m.push({event:f,listeners:c}),f.data=T))}a5(m,e)})}function Du(t,e,r){return{instance:t,listener:e,currentTarget:r}}function zd(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Lu(t,r),i!=null&&n.unshift(Du(t,i,s)),i=Lu(t,e),i!=null&&n.push(Du(t,i,s))),t=t.return}return n}function No(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Z1(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var l=r,o=l.alternate,c=l.stateNode;if(o!==null&&o===n)break;l.tag===5&&c!==null&&(l=c,s?(o=Lu(r,i),o!=null&&a.unshift(Du(r,o,l))):s||(o=Lu(r,i),o!=null&&a.push(Du(r,o,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var jx=/\r\n?/g,Ax=/\u0000|\uFFFD/g;function eg(t){return(typeof t=="string"?t:""+t).replace(jx,`
`).replace(Ax,"")}function Xc(t,e,r){if(e=eg(e),eg(t)!==e&&r)throw Error(Ee(425))}function qd(){}var zp=null,qp=null;function $p(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vp=typeof setTimeout=="function"?setTimeout:void 0,kx=typeof clearTimeout=="function"?clearTimeout:void 0,tg=typeof Promise=="function"?Promise:void 0,Cx=typeof queueMicrotask=="function"?queueMicrotask:typeof tg<"u"?function(t){return tg.resolve(null).then(t).catch(Ex)}:Vp;function Ex(t){setTimeout(function(){throw t})}function Ff(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Iu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Iu(e)}function ra(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var vl=Math.random().toString(36).slice(2),Vs="__reactFiber$"+vl,Mu="__reactProps$"+vl,wi="__reactContainer$"+vl,Hp="__reactEvents$"+vl,Lx="__reactListeners$"+vl,Px="__reactHandles$"+vl;function Ma(t){var e=t[Vs];if(e)return e;for(var r=t.parentNode;r;){if(e=r[wi]||r[Vs]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=rg(t);t!==null;){if(r=t[Vs])return r;t=rg(t)}return e}t=r,r=t.parentNode}return null}function ec(t){return t=t[Vs]||t[wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ee(33))}function yh(t){return t[Mu]||null}var Wp=[],zo=-1;function fa(t){return{current:t}}function Kt(t){0>zo||(t.current=Wp[zo],Wp[zo]=null,zo--)}function Ht(t,e){zo++,Wp[zo]=t.current,t.current=e}var ua={},nn=fa(ua),Cn=fa(!1),Ha=ua;function ol(t,e){var r=t.type.contextTypes;if(!r)return ua;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function En(t){return t=t.childContextTypes,t!=null}function $d(){Kt(Cn),Kt(nn)}function ng(t,e,r){if(nn.current!==ua)throw Error(Ee(168));Ht(nn,e),Ht(Cn,r)}function l5(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Ee(108,m_(t)||"Unknown",s));return sr({},r,n)}function Vd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ua,Ha=nn.current,Ht(nn,t),Ht(Cn,Cn.current),!0}function sg(t,e,r){var n=t.stateNode;if(!n)throw Error(Ee(169));r?(t=l5(t,e,Ha),n.__reactInternalMemoizedMergedChildContext=t,Kt(Cn),Kt(nn),Ht(nn,t)):Kt(Cn),Ht(Cn,r)}var fi=null,wh=!1,Df=!1;function u5(t){fi===null?fi=[t]:fi.push(t)}function Ox(t){wh=!0,u5(t)}function pa(){if(!Df&&fi!==null){Df=!0;var t=0,e=Ft;try{var r=fi;for(Ft=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}fi=null,wh=!1}catch(s){throw fi!==null&&(fi=fi.slice(t+1)),Rv(Xm,pa),s}finally{Ft=e,Df=!1}}return null}var qo=[],$o=0,Hd=null,Wd=0,as=[],os=0,Wa=null,pi=1,mi="";function La(t,e){qo[$o++]=Wd,qo[$o++]=Hd,Hd=t,Wd=e}function c5(t,e,r){as[os++]=pi,as[os++]=mi,as[os++]=Wa,Wa=t;var n=pi;t=mi;var s=32-Ls(n)-1;n&=~(1<<s),r+=1;var i=32-Ls(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,pi=1<<32-Ls(e)+s|r<<s|n,mi=i+t}else pi=1<<i|r<<s|n,mi=t}function o0(t){t.return!==null&&(La(t,1),c5(t,1,0))}function l0(t){for(;t===Hd;)Hd=qo[--$o],qo[$o]=null,Wd=qo[--$o],qo[$o]=null;for(;t===Wa;)Wa=as[--os],as[os]=null,mi=as[--os],as[os]=null,pi=as[--os],as[os]=null}var Vn=null,qn=null,Jt=!1,Es=null;function d5(t,e){var r=ls(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ig(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vn=t,qn=ra(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vn=t,qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Wa!==null?{id:pi,overflow:mi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ls(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Vn=t,qn=null,!0):!1;default:return!1}}function Gp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kp(t){if(Jt){var e=qn;if(e){var r=e;if(!ig(t,e)){if(Gp(t))throw Error(Ee(418));e=ra(r.nextSibling);var n=Vn;e&&ig(t,e)?d5(n,r):(t.flags=t.flags&-4097|2,Jt=!1,Vn=t)}}else{if(Gp(t))throw Error(Ee(418));t.flags=t.flags&-4097|2,Jt=!1,Vn=t}}}function ag(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vn=t}function Zc(t){if(t!==Vn)return!1;if(!Jt)return ag(t),Jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$p(t.type,t.memoizedProps)),e&&(e=qn)){if(Gp(t))throw h5(),Error(Ee(418));for(;e;)d5(t,e),e=ra(e.nextSibling)}if(ag(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){qn=ra(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}qn=null}}else qn=Vn?ra(t.stateNode.nextSibling):null;return!0}function h5(){for(var t=qn;t;)t=ra(t.nextSibling)}function ll(){qn=Vn=null,Jt=!1}function u0(t){Es===null?Es=[t]:Es.push(t)}var Ix=xi.ReactCurrentBatchConfig;function su(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ee(309));var n=r.stateNode}if(!n)throw Error(Ee(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Ee(284));if(!r._owner)throw Error(Ee(290,t))}return t}function ed(t,e){throw t=Object.prototype.toString.call(e),Error(Ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function og(t){var e=t._init;return e(t._payload)}function f5(t){function e(w,_){if(t){var S=w.deletions;S===null?(w.deletions=[_],w.flags|=16):S.push(_)}}function r(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function n(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function s(w,_){return w=aa(w,_),w.index=0,w.sibling=null,w}function i(w,_,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<_?(w.flags|=2,_):S):(w.flags|=2,_)):(w.flags|=1048576,_)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,_,S,I){return _===null||_.tag!==6?(_=Vf(S,w.mode,I),_.return=w,_):(_=s(_,S),_.return=w,_)}function o(w,_,S,I){var B=S.type;return B===Fo?f(w,_,S.props.children,I,S.key):_!==null&&(_.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Vi&&og(B)===_.type)?(I=s(_,S.props),I.ref=su(w,_,S),I.return=w,I):(I=Ed(S.type,S.key,S.props,null,w.mode,I),I.ref=su(w,_,S),I.return=w,I)}function c(w,_,S,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Hf(S,w.mode,I),_.return=w,_):(_=s(_,S.children||[]),_.return=w,_)}function f(w,_,S,I,B){return _===null||_.tag!==7?(_=$a(S,w.mode,I,B),_.return=w,_):(_=s(_,S),_.return=w,_)}function m(w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Vf(""+_,w.mode,S),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $c:return S=Ed(_.type,_.key,_.props,null,w.mode,S),S.ref=su(w,null,_),S.return=w,S;case To:return _=Hf(_,w.mode,S),_.return=w,_;case Vi:var I=_._init;return m(w,I(_._payload),S)}if(du(_)||Zl(_))return _=$a(_,w.mode,S,null),_.return=w,_;ed(w,_)}return null}function v(w,_,S,I){var B=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return B!==null?null:l(w,_,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $c:return S.key===B?o(w,_,S,I):null;case To:return S.key===B?c(w,_,S,I):null;case Vi:return B=S._init,v(w,_,B(S._payload),I)}if(du(S)||Zl(S))return B!==null?null:f(w,_,S,I,null);ed(w,S)}return null}function p(w,_,S,I,B){if(typeof I=="string"&&I!==""||typeof I=="number")return w=w.get(S)||null,l(_,w,""+I,B);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case $c:return w=w.get(I.key===null?S:I.key)||null,o(_,w,I,B);case To:return w=w.get(I.key===null?S:I.key)||null,c(_,w,I,B);case Vi:var Q=I._init;return p(w,_,S,Q(I._payload),B)}if(du(I)||Zl(I))return w=w.get(S)||null,f(_,w,I,B,null);ed(_,I)}return null}function b(w,_,S,I){for(var B=null,Q=null,T=_,M=_=0,K=null;T!==null&&M<S.length;M++){T.index>M?(K=T,T=null):K=T.sibling;var O=v(w,T,S[M],I);if(O===null){T===null&&(T=K);break}t&&T&&O.alternate===null&&e(w,T),_=i(O,_,M),Q===null?B=O:Q.sibling=O,Q=O,T=K}if(M===S.length)return r(w,T),Jt&&La(w,M),B;if(T===null){for(;M<S.length;M++)T=m(w,S[M],I),T!==null&&(_=i(T,_,M),Q===null?B=T:Q.sibling=T,Q=T);return Jt&&La(w,M),B}for(T=n(w,T);M<S.length;M++)K=p(T,w,M,S[M],I),K!==null&&(t&&K.alternate!==null&&T.delete(K.key===null?M:K.key),_=i(K,_,M),Q===null?B=K:Q.sibling=K,Q=K);return t&&T.forEach(function(P){return e(w,P)}),Jt&&La(w,M),B}function N(w,_,S,I){var B=Zl(S);if(typeof B!="function")throw Error(Ee(150));if(S=B.call(S),S==null)throw Error(Ee(151));for(var Q=B=null,T=_,M=_=0,K=null,O=S.next();T!==null&&!O.done;M++,O=S.next()){T.index>M?(K=T,T=null):K=T.sibling;var P=v(w,T,O.value,I);if(P===null){T===null&&(T=K);break}t&&T&&P.alternate===null&&e(w,T),_=i(P,_,M),Q===null?B=P:Q.sibling=P,Q=P,T=K}if(O.done)return r(w,T),Jt&&La(w,M),B;if(T===null){for(;!O.done;M++,O=S.next())O=m(w,O.value,I),O!==null&&(_=i(O,_,M),Q===null?B=O:Q.sibling=O,Q=O);return Jt&&La(w,M),B}for(T=n(w,T);!O.done;M++,O=S.next())O=p(T,w,M,O.value,I),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?M:O.key),_=i(O,_,M),Q===null?B=O:Q.sibling=O,Q=O);return t&&T.forEach(function(R){return e(w,R)}),Jt&&La(w,M),B}function j(w,_,S,I){if(typeof S=="object"&&S!==null&&S.type===Fo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case $c:e:{for(var B=S.key,Q=_;Q!==null;){if(Q.key===B){if(B=S.type,B===Fo){if(Q.tag===7){r(w,Q.sibling),_=s(Q,S.props.children),_.return=w,w=_;break e}}else if(Q.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Vi&&og(B)===Q.type){r(w,Q.sibling),_=s(Q,S.props),_.ref=su(w,Q,S),_.return=w,w=_;break e}r(w,Q);break}else e(w,Q);Q=Q.sibling}S.type===Fo?(_=$a(S.props.children,w.mode,I,S.key),_.return=w,w=_):(I=Ed(S.type,S.key,S.props,null,w.mode,I),I.ref=su(w,_,S),I.return=w,w=I)}return a(w);case To:e:{for(Q=S.key;_!==null;){if(_.key===Q)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){r(w,_.sibling),_=s(_,S.children||[]),_.return=w,w=_;break e}else{r(w,_);break}else e(w,_);_=_.sibling}_=Hf(S,w.mode,I),_.return=w,w=_}return a(w);case Vi:return Q=S._init,j(w,_,Q(S._payload),I)}if(du(S))return b(w,_,S,I);if(Zl(S))return N(w,_,S,I);ed(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(r(w,_.sibling),_=s(_,S),_.return=w,w=_):(r(w,_),_=Vf(S,w.mode,I),_.return=w,w=_),a(w)):r(w,_)}return j}var ul=f5(!0),p5=f5(!1),Gd=fa(null),Kd=null,Vo=null,c0=null;function d0(){c0=Vo=Kd=null}function h0(t){var e=Gd.current;Kt(Gd),t._currentValue=e}function Yp(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Xo(t,e){Kd=t,c0=Vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kn=!0),t.firstContext=null)}function cs(t){var e=t._currentValue;if(c0!==t)if(t={context:t,memoizedValue:e,next:null},Vo===null){if(Kd===null)throw Error(Ee(308));Vo=t,Kd.dependencies={lanes:0,firstContext:t}}else Vo=Vo.next=t;return e}var Ba=null;function f0(t){Ba===null?Ba=[t]:Ba.push(t)}function m5(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,f0(e)):(r.next=s.next,s.next=r),e.interleaved=r,bi(t,n)}function bi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Hi=!1;function p0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function na(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,kt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,bi(t,r)}return s=n.interleaved,s===null?(e.next=e,f0(n)):(e.next=s.next,s.next=e),n.interleaved=e,bi(t,r)}function Nd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Zm(t,r)}}function lg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Yd(t,e,r,n){var s=t.updateQueue;Hi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var o=l,c=o.next;o.next=null,a===null?i=c:a.next=c,a=o;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=o))}if(i!==null){var m=s.baseState;a=0,f=c=o=null,l=i;do{var v=l.lane,p=l.eventTime;if((n&v)===v){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,N=l;switch(v=e,p=r,N.tag){case 1:if(b=N.payload,typeof b=="function"){m=b.call(p,m,v);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=N.payload,v=typeof b=="function"?b.call(p,m,v):b,v==null)break e;m=sr({},m,v);break e;case 2:Hi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,v=s.effects,v===null?s.effects=[l]:v.push(l))}else p={eventTime:p,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=p,o=m):f=f.next=p,a|=v;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;v=l,l=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(f===null&&(o=m),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ka|=a,t.lanes=a,t.memoizedState=m}}function ug(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Ee(191,s));s.call(n)}}}var tc={},Gs=fa(tc),Bu=fa(tc),Uu=fa(tc);function Ua(t){if(t===tc)throw Error(Ee(174));return t}function m0(t,e){switch(Ht(Uu,e),Ht(Bu,t),Ht(Gs,tc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ep(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ep(e,t)}Kt(Gs),Ht(Gs,e)}function cl(){Kt(Gs),Kt(Bu),Kt(Uu)}function v5(t){Ua(Uu.current);var e=Ua(Gs.current),r=Ep(e,t.type);e!==r&&(Ht(Bu,t),Ht(Gs,r))}function g0(t){Bu.current===t&&(Kt(Gs),Kt(Bu))}var rr=fa(0);function Jd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mf=[];function v0(){for(var t=0;t<Mf.length;t++)Mf[t]._workInProgressVersionPrimary=null;Mf.length=0}var Sd=xi.ReactCurrentDispatcher,Bf=xi.ReactCurrentBatchConfig,Ga=0,nr=null,Cr=null,Ir=null,Qd=!1,_u=!1,zu=0,Rx=0;function Yr(){throw Error(Ee(321))}function y0(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Os(t[r],e[r]))return!1;return!0}function w0(t,e,r,n,s,i){if(Ga=i,nr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sd.current=t===null||t.memoizedState===null?Mx:Bx,t=r(n,s),_u){i=0;do{if(_u=!1,zu=0,25<=i)throw Error(Ee(301));i+=1,Ir=Cr=null,e.updateQueue=null,Sd.current=Ux,t=r(n,s)}while(_u)}if(Sd.current=Xd,e=Cr!==null&&Cr.next!==null,Ga=0,Ir=Cr=nr=null,Qd=!1,e)throw Error(Ee(300));return t}function b0(){var t=zu!==0;return zu=0,t}function $s(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ir===null?nr.memoizedState=Ir=t:Ir=Ir.next=t,Ir}function ds(){if(Cr===null){var t=nr.alternate;t=t!==null?t.memoizedState:null}else t=Cr.next;var e=Ir===null?nr.memoizedState:Ir.next;if(e!==null)Ir=e,Cr=t;else{if(t===null)throw Error(Ee(310));Cr=t,t={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},Ir===null?nr.memoizedState=Ir=t:Ir=Ir.next=t}return Ir}function qu(t,e){return typeof e=="function"?e(t):e}function Uf(t){var e=ds(),r=e.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=t;var n=Cr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,o=null,c=i;do{var f=c.lane;if((Ga&f)===f)o!==null&&(o=o.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};o===null?(l=o=m,a=n):o=o.next=m,nr.lanes|=f,Ka|=f}c=c.next}while(c!==null&&c!==i);o===null?a=n:o.next=l,Os(n,e.memoizedState)||(kn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=o,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,nr.lanes|=i,Ka|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function zf(t){var e=ds(),r=e.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Os(i,e.memoizedState)||(kn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function y5(){}function w5(t,e){var r=nr,n=ds(),s=e(),i=!Os(n.memoizedState,s);if(i&&(n.memoizedState=s,kn=!0),n=n.queue,_0(x5.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Ir!==null&&Ir.memoizedState.tag&1){if(r.flags|=2048,$u(9,_5.bind(null,r,n,s,e),void 0,null),Tr===null)throw Error(Ee(349));Ga&30||b5(r,e,s)}return s}function b5(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=nr.updateQueue,e===null?(e={lastEffect:null,stores:null},nr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function _5(t,e,r,n){e.value=r,e.getSnapshot=n,N5(e)&&S5(t)}function x5(t,e,r){return r(function(){N5(e)&&S5(t)})}function N5(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Os(t,r)}catch{return!0}}function S5(t){var e=bi(t,1);e!==null&&Ps(e,t,1,-1)}function cg(t){var e=$s();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qu,lastRenderedState:t},e.queue=t,t=t.dispatch=Dx.bind(null,nr,t),[e.memoizedState,t]}function $u(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=nr.updateQueue,e===null?(e={lastEffect:null,stores:null},nr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function j5(){return ds().memoizedState}function jd(t,e,r,n){var s=$s();nr.flags|=t,s.memoizedState=$u(1|e,r,void 0,n===void 0?null:n)}function bh(t,e,r,n){var s=ds();n=n===void 0?null:n;var i=void 0;if(Cr!==null){var a=Cr.memoizedState;if(i=a.destroy,n!==null&&y0(n,a.deps)){s.memoizedState=$u(e,r,i,n);return}}nr.flags|=t,s.memoizedState=$u(1|e,r,i,n)}function dg(t,e){return jd(8390656,8,t,e)}function _0(t,e){return bh(2048,8,t,e)}function A5(t,e){return bh(4,2,t,e)}function k5(t,e){return bh(4,4,t,e)}function C5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function E5(t,e,r){return r=r!=null?r.concat([t]):null,bh(4,4,C5.bind(null,e,t),r)}function x0(){}function L5(t,e){var r=ds();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&y0(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function P5(t,e){var r=ds();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&y0(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function O5(t,e,r){return Ga&21?(Os(r,e)||(r=Dv(),nr.lanes|=r,Ka|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kn=!0),t.memoizedState=r)}function Tx(t,e){var r=Ft;Ft=r!==0&&4>r?r:4,t(!0);var n=Bf.transition;Bf.transition={};try{t(!1),e()}finally{Ft=r,Bf.transition=n}}function I5(){return ds().memoizedState}function Fx(t,e,r){var n=ia(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},R5(t))T5(e,r);else if(r=m5(t,e,r,n),r!==null){var s=hn();Ps(r,t,n,s),F5(r,e,n)}}function Dx(t,e,r){var n=ia(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(R5(t))T5(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Os(l,a)){var o=e.interleaved;o===null?(s.next=s,f0(e)):(s.next=o.next,o.next=s),e.interleaved=s;return}}catch{}finally{}r=m5(t,e,s,n),r!==null&&(s=hn(),Ps(r,t,n,s),F5(r,e,n))}}function R5(t){var e=t.alternate;return t===nr||e!==null&&e===nr}function T5(t,e){_u=Qd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function F5(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Zm(t,r)}}var Xd={readContext:cs,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useInsertionEffect:Yr,useLayoutEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useMutableSource:Yr,useSyncExternalStore:Yr,useId:Yr,unstable_isNewReconciler:!1},Mx={readContext:cs,useCallback:function(t,e){return $s().memoizedState=[t,e===void 0?null:e],t},useContext:cs,useEffect:dg,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,jd(4194308,4,C5.bind(null,e,t),r)},useLayoutEffect:function(t,e){return jd(4194308,4,t,e)},useInsertionEffect:function(t,e){return jd(4,2,t,e)},useMemo:function(t,e){var r=$s();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=$s();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Fx.bind(null,nr,t),[n.memoizedState,t]},useRef:function(t){var e=$s();return t={current:t},e.memoizedState=t},useState:cg,useDebugValue:x0,useDeferredValue:function(t){return $s().memoizedState=t},useTransition:function(){var t=cg(!1),e=t[0];return t=Tx.bind(null,t[1]),$s().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=nr,s=$s();if(Jt){if(r===void 0)throw Error(Ee(407));r=r()}else{if(r=e(),Tr===null)throw Error(Ee(349));Ga&30||b5(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,dg(x5.bind(null,n,i,t),[t]),n.flags|=2048,$u(9,_5.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=$s(),e=Tr.identifierPrefix;if(Jt){var r=mi,n=pi;r=(n&~(1<<32-Ls(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=zu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Rx++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Bx={readContext:cs,useCallback:L5,useContext:cs,useEffect:_0,useImperativeHandle:E5,useInsertionEffect:A5,useLayoutEffect:k5,useMemo:P5,useReducer:Uf,useRef:j5,useState:function(){return Uf(qu)},useDebugValue:x0,useDeferredValue:function(t){var e=ds();return O5(e,Cr.memoizedState,t)},useTransition:function(){var t=Uf(qu)[0],e=ds().memoizedState;return[t,e]},useMutableSource:y5,useSyncExternalStore:w5,useId:I5,unstable_isNewReconciler:!1},Ux={readContext:cs,useCallback:L5,useContext:cs,useEffect:_0,useImperativeHandle:E5,useInsertionEffect:A5,useLayoutEffect:k5,useMemo:P5,useReducer:zf,useRef:j5,useState:function(){return zf(qu)},useDebugValue:x0,useDeferredValue:function(t){var e=ds();return Cr===null?e.memoizedState=t:O5(e,Cr.memoizedState,t)},useTransition:function(){var t=zf(qu)[0],e=ds().memoizedState;return[t,e]},useMutableSource:y5,useSyncExternalStore:w5,useId:I5,unstable_isNewReconciler:!1};function js(t,e){if(t&&t.defaultProps){e=sr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Jp(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:sr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var _h={isMounted:function(t){return(t=t._reactInternals)?Xa(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=hn(),s=ia(t),i=vi(n,s);i.payload=e,r!=null&&(i.callback=r),e=na(t,i,s),e!==null&&(Ps(e,t,s,n),Nd(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=hn(),s=ia(t),i=vi(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=na(t,i,s),e!==null&&(Ps(e,t,s,n),Nd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=hn(),n=ia(t),s=vi(r,n);s.tag=2,e!=null&&(s.callback=e),e=na(t,s,n),e!==null&&(Ps(e,t,n,r),Nd(e,t,n))}};function hg(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!Tu(r,n)||!Tu(s,i):!0}function D5(t,e,r){var n=!1,s=ua,i=e.contextType;return typeof i=="object"&&i!==null?i=cs(i):(s=En(e)?Ha:nn.current,n=e.contextTypes,i=(n=n!=null)?ol(t,s):ua),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_h,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function fg(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&_h.enqueueReplaceState(e,e.state,null)}function Qp(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},p0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=cs(i):(i=En(e)?Ha:nn.current,s.context=ol(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Jp(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_h.enqueueReplaceState(s,s.state,null),Yd(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function dl(t,e){try{var r="",n=e;do r+=p_(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function qf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Xp(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var zx=typeof WeakMap=="function"?WeakMap:Map;function M5(t,e,r){r=vi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){eh||(eh=!0,lm=n),Xp(t,e)},r}function B5(t,e,r){r=vi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Xp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Xp(t,e),typeof n!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function pg(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new zx;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=t3.bind(null,t,e,r),e.then(t,t))}function mg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gg(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=vi(-1,1),e.tag=2,na(r,e,1))),r.lanes|=1),t)}var qx=xi.ReactCurrentOwner,kn=!1;function cn(t,e,r,n){e.child=t===null?p5(e,null,r,n):ul(e,t.child,r,n)}function vg(t,e,r,n,s){r=r.render;var i=e.ref;return Xo(e,s),n=w0(t,e,r,n,i,s),r=b0(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_i(t,e,s)):(Jt&&r&&o0(e),e.flags|=1,cn(t,e,n,s),e.child)}function yg(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!L0(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,U5(t,e,i,n,s)):(t=Ed(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Tu,r(a,n)&&t.ref===e.ref)return _i(t,e,s)}return e.flags|=1,t=aa(i,n),t.ref=e.ref,t.return=e,e.child=t}function U5(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Tu(i,n)&&t.ref===e.ref)if(kn=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(kn=!0);else return e.lanes=t.lanes,_i(t,e,s)}return Zp(t,e,r,n,s)}function z5(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(Wo,Bn),Bn|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ht(Wo,Bn),Bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ht(Wo,Bn),Bn|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Ht(Wo,Bn),Bn|=n;return cn(t,e,s,r),e.child}function q5(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Zp(t,e,r,n,s){var i=En(r)?Ha:nn.current;return i=ol(e,i),Xo(e,s),r=w0(t,e,r,n,i,s),n=b0(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_i(t,e,s)):(Jt&&n&&o0(e),e.flags|=1,cn(t,e,r,s),e.child)}function wg(t,e,r,n,s){if(En(r)){var i=!0;Vd(e)}else i=!1;if(Xo(e,s),e.stateNode===null)Ad(t,e),D5(e,r,n),Qp(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var o=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=cs(c):(c=En(r)?Ha:nn.current,c=ol(e,c));var f=r.getDerivedStateFromProps,m=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||o!==c)&&fg(e,a,n,c),Hi=!1;var v=e.memoizedState;a.state=v,Yd(e,n,a,s),o=e.memoizedState,l!==n||v!==o||Cn.current||Hi?(typeof f=="function"&&(Jp(e,r,f,n),o=e.memoizedState),(l=Hi||hg(e,r,l,n,v,o,c))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=o),a.props=n,a.state=o,a.context=c,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,g5(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:js(e.type,l),a.props=c,m=e.pendingProps,v=a.context,o=r.contextType,typeof o=="object"&&o!==null?o=cs(o):(o=En(r)?Ha:nn.current,o=ol(e,o));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||v!==o)&&fg(e,a,n,o),Hi=!1,v=e.memoizedState,a.state=v,Yd(e,n,a,s);var b=e.memoizedState;l!==m||v!==b||Cn.current||Hi?(typeof p=="function"&&(Jp(e,r,p,n),b=e.memoizedState),(c=Hi||hg(e,r,c,n,v,b,o)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,b,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,b,o)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),a.props=n,a.state=b,a.context=o,n=c):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),n=!1)}return em(t,e,r,n,i,s)}function em(t,e,r,n,s,i){q5(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&sg(e,r,!1),_i(t,e,i);n=e.stateNode,qx.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=ul(e,t.child,null,i),e.child=ul(e,null,l,i)):cn(t,e,l,i),e.memoizedState=n.state,s&&sg(e,r,!0),e.child}function $5(t){var e=t.stateNode;e.pendingContext?ng(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ng(t,e.context,!1),m0(t,e.containerInfo)}function bg(t,e,r,n,s){return ll(),u0(s),e.flags|=256,cn(t,e,r,n),e.child}var tm={dehydrated:null,treeContext:null,retryLane:0};function rm(t){return{baseLanes:t,cachePool:null,transitions:null}}function V5(t,e,r){var n=e.pendingProps,s=rr.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ht(rr,s&1),t===null)return Kp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Sh(a,n,0,null),t=$a(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=rm(r),e.memoizedState=tm,t):N0(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return $x(t,e,a,n,l,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,l=s.sibling;var o={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=o,e.deletions=null):(n=aa(s,o),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=aa(l,i):(i=$a(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?rm(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=tm,n}return i=t.child,t=i.sibling,n=aa(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function N0(t,e){return e=Sh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function td(t,e,r,n){return n!==null&&u0(n),ul(e,t.child,null,r),t=N0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $x(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=qf(Error(Ee(422))),td(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Sh({mode:"visible",children:n.children},s,0,null),i=$a(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&ul(e,t.child,null,a),e.child.memoizedState=rm(a),e.memoizedState=tm,i);if(!(e.mode&1))return td(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Ee(419)),n=qf(i,n,void 0),td(t,e,a,n)}if(l=(a&t.childLanes)!==0,kn||l){if(n=Tr,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bi(t,s),Ps(n,t,s,-1))}return E0(),n=qf(Error(Ee(421))),td(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=r3.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,qn=ra(s.nextSibling),Vn=e,Jt=!0,Es=null,t!==null&&(as[os++]=pi,as[os++]=mi,as[os++]=Wa,pi=t.id,mi=t.overflow,Wa=e),e=N0(e,n.children),e.flags|=4096,e)}function _g(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Yp(t.return,e,r)}function $f(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function H5(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(cn(t,e,n.children,r),n=rr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_g(t,r,e);else if(t.tag===19)_g(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ht(rr,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Jd(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),$f(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Jd(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}$f(e,!0,r,null,i);break;case"together":$f(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ad(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _i(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ka|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ee(153));if(e.child!==null){for(t=e.child,r=aa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=aa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Vx(t,e,r){switch(e.tag){case 3:$5(e),ll();break;case 5:v5(e);break;case 1:En(e.type)&&Vd(e);break;case 4:m0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Ht(Gd,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ht(rr,rr.current&1),e.flags|=128,null):r&e.child.childLanes?V5(t,e,r):(Ht(rr,rr.current&1),t=_i(t,e,r),t!==null?t.sibling:null);Ht(rr,rr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return H5(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ht(rr,rr.current),n)break;return null;case 22:case 23:return e.lanes=0,z5(t,e,r)}return _i(t,e,r)}var W5,nm,G5,K5;W5=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nm=function(){};G5=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Ua(Gs.current);var i=null;switch(r){case"input":s=jp(t,s),n=jp(t,n),i=[];break;case"select":s=sr({},s,{value:void 0}),n=sr({},n,{value:void 0}),i=[];break;case"textarea":s=Cp(t,s),n=Cp(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=qd)}Lp(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var o=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&o!==l&&(o!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in o)o.hasOwnProperty(a)&&l[a]!==o[a]&&(r||(r={}),r[a]=o[a])}else r||(i||(i=[]),i.push(c,r)),r=o;else c==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,l=l?l.__html:void 0,o!=null&&l!==o&&(i=i||[]).push(c,o)):c==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(c,""+o):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cu.hasOwnProperty(c)?(o!=null&&c==="onScroll"&&Wt("scroll",t),i||l===o||(i=[])):(i=i||[]).push(c,o))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};K5=function(t,e,r,n){r!==n&&(e.flags|=4)};function iu(t,e){if(!Jt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Jr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Hx(t,e,r){var n=e.pendingProps;switch(l0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(e),null;case 1:return En(e.type)&&$d(),Jr(e),null;case 3:return n=e.stateNode,cl(),Kt(Cn),Kt(nn),v0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Zc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Es!==null&&(dm(Es),Es=null))),nm(t,e),Jr(e),null;case 5:g0(e);var s=Ua(Uu.current);if(r=e.type,t!==null&&e.stateNode!=null)G5(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ee(166));return Jr(e),null}if(t=Ua(Gs.current),Zc(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Vs]=e,n[Mu]=i,t=(e.mode&1)!==0,r){case"dialog":Wt("cancel",n),Wt("close",n);break;case"iframe":case"object":case"embed":Wt("load",n);break;case"video":case"audio":for(s=0;s<fu.length;s++)Wt(fu[s],n);break;case"source":Wt("error",n);break;case"img":case"image":case"link":Wt("error",n),Wt("load",n);break;case"details":Wt("toggle",n);break;case"input":L1(n,i),Wt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Wt("invalid",n);break;case"textarea":O1(n,i),Wt("invalid",n)}Lp(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Xc(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Xc(n.textContent,l,t),s=["children",""+l]):Cu.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Wt("scroll",n)}switch(r){case"input":Vc(n),P1(n,i,!0);break;case"textarea":Vc(n),I1(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=qd)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xv(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Vs]=e,t[Mu]=n,W5(t,e,!1,!1),e.stateNode=t;e:{switch(a=Pp(r,n),r){case"dialog":Wt("cancel",t),Wt("close",t),s=n;break;case"iframe":case"object":case"embed":Wt("load",t),s=n;break;case"video":case"audio":for(s=0;s<fu.length;s++)Wt(fu[s],t);s=n;break;case"source":Wt("error",t),s=n;break;case"img":case"image":case"link":Wt("error",t),Wt("load",t),s=n;break;case"details":Wt("toggle",t),s=n;break;case"input":L1(t,n),s=jp(t,n),Wt("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=sr({},n,{value:void 0}),Wt("invalid",t);break;case"textarea":O1(t,n),s=Cp(t,n),Wt("invalid",t);break;default:s=n}Lp(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="style"?jv(t,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Nv(t,o)):i==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&Eu(t,o):typeof o=="number"&&Eu(t,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cu.hasOwnProperty(i)?o!=null&&i==="onScroll"&&Wt("scroll",t):o!=null&&Gm(t,i,o,a))}switch(r){case"input":Vc(t),P1(t,n,!1);break;case"textarea":Vc(t),I1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+la(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Ko(t,!!n.multiple,i,!1):n.defaultValue!=null&&Ko(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=qd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jr(e),null;case 6:if(t&&e.stateNode!=null)K5(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ee(166));if(r=Ua(Uu.current),Ua(Gs.current),Zc(e)){if(n=e.stateNode,r=e.memoizedProps,n[Vs]=e,(i=n.nodeValue!==r)&&(t=Vn,t!==null))switch(t.tag){case 3:Xc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xc(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vs]=e,e.stateNode=n}return Jr(e),null;case 13:if(Kt(rr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Jt&&qn!==null&&e.mode&1&&!(e.flags&128))h5(),ll(),e.flags|=98560,i=!1;else if(i=Zc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Ee(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ee(317));i[Vs]=e}else ll(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jr(e),i=!1}else Es!==null&&(dm(Es),Es=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||rr.current&1?Er===0&&(Er=3):E0())),e.updateQueue!==null&&(e.flags|=4),Jr(e),null);case 4:return cl(),nm(t,e),t===null&&Fu(e.stateNode.containerInfo),Jr(e),null;case 10:return h0(e.type._context),Jr(e),null;case 17:return En(e.type)&&$d(),Jr(e),null;case 19:if(Kt(rr),i=e.memoizedState,i===null)return Jr(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)iu(i,!1);else{if(Er!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Jd(t),a!==null){for(e.flags|=128,iu(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ht(rr,rr.current&1|2),e.child}t=t.sibling}i.tail!==null&&hr()>hl&&(e.flags|=128,n=!0,iu(i,!1),e.lanes=4194304)}else{if(!n)if(t=Jd(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),iu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Jt)return Jr(e),null}else 2*hr()-i.renderingStartTime>hl&&r!==1073741824&&(e.flags|=128,n=!0,iu(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=hr(),e.sibling=null,r=rr.current,Ht(rr,n?r&1|2:r&1),e):(Jr(e),null);case 22:case 23:return C0(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Bn&1073741824&&(Jr(e),e.subtreeFlags&6&&(e.flags|=8192)):Jr(e),null;case 24:return null;case 25:return null}throw Error(Ee(156,e.tag))}function Wx(t,e){switch(l0(e),e.tag){case 1:return En(e.type)&&$d(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cl(),Kt(Cn),Kt(nn),v0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return g0(e),null;case 13:if(Kt(rr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ee(340));ll()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Kt(rr),null;case 4:return cl(),null;case 10:return h0(e.type._context),null;case 22:case 23:return C0(),null;case 24:return null;default:return null}}var rd=!1,tn=!1,Gx=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Ho(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ur(t,e,n)}else r.current=null}function sm(t,e,r){try{r()}catch(n){ur(t,e,n)}}var xg=!1;function Kx(t,e){if(zp=Bd,t=Zv(),a0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,o=-1,c=0,f=0,m=t,v=null;t:for(;;){for(var p;m!==r||s!==0&&m.nodeType!==3||(l=a+s),m!==i||n!==0&&m.nodeType!==3||(o=a+n),m.nodeType===3&&(a+=m.nodeValue.length),(p=m.firstChild)!==null;)v=m,m=p;for(;;){if(m===t)break t;if(v===r&&++c===s&&(l=a),v===i&&++f===n&&(o=a),(p=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=p}r=l===-1||o===-1?null:{start:l,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(qp={focusedElem:t,selectionRange:r},Bd=!1,Ve=e;Ve!==null;)if(e=Ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ve=t;else for(;Ve!==null;){e=Ve;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var N=b.memoizedProps,j=b.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?N:js(e.type,N),j);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(I){ur(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,Ve=t;break}Ve=e.return}return b=xg,xg=!1,b}function xu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&sm(e,r,i)}s=s.next}while(s!==n)}}function xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function im(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Y5(t){var e=t.alternate;e!==null&&(t.alternate=null,Y5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vs],delete e[Mu],delete e[Hp],delete e[Lx],delete e[Px])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function J5(t){return t.tag===5||t.tag===3||t.tag===4}function Ng(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||J5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function am(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=qd));else if(n!==4&&(t=t.child,t!==null))for(am(t,e,r),t=t.sibling;t!==null;)am(t,e,r),t=t.sibling}function om(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(om(t,e,r),t=t.sibling;t!==null;)om(t,e,r),t=t.sibling}var qr=null,Cs=!1;function Ui(t,e,r){for(r=r.child;r!==null;)Q5(t,e,r),r=r.sibling}function Q5(t,e,r){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(ph,r)}catch{}switch(r.tag){case 5:tn||Ho(r,e);case 6:var n=qr,s=Cs;qr=null,Ui(t,e,r),qr=n,Cs=s,qr!==null&&(Cs?(t=qr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):qr.removeChild(r.stateNode));break;case 18:qr!==null&&(Cs?(t=qr,r=r.stateNode,t.nodeType===8?Ff(t.parentNode,r):t.nodeType===1&&Ff(t,r),Iu(t)):Ff(qr,r.stateNode));break;case 4:n=qr,s=Cs,qr=r.stateNode.containerInfo,Cs=!0,Ui(t,e,r),qr=n,Cs=s;break;case 0:case 11:case 14:case 15:if(!tn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&sm(r,e,a),s=s.next}while(s!==n)}Ui(t,e,r);break;case 1:if(!tn&&(Ho(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ur(r,e,l)}Ui(t,e,r);break;case 21:Ui(t,e,r);break;case 22:r.mode&1?(tn=(n=tn)||r.memoizedState!==null,Ui(t,e,r),tn=n):Ui(t,e,r);break;default:Ui(t,e,r)}}function Sg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Gx),e.forEach(function(n){var s=n3.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ws(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:qr=l.stateNode,Cs=!1;break e;case 3:qr=l.stateNode.containerInfo,Cs=!0;break e;case 4:qr=l.stateNode.containerInfo,Cs=!0;break e}l=l.return}if(qr===null)throw Error(Ee(160));Q5(i,a,s),qr=null,Cs=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(c){ur(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)X5(e,t),e=e.sibling}function X5(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ws(e,t),zs(t),n&4){try{xu(3,t,t.return),xh(3,t)}catch(N){ur(t,t.return,N)}try{xu(5,t,t.return)}catch(N){ur(t,t.return,N)}}break;case 1:ws(e,t),zs(t),n&512&&r!==null&&Ho(r,r.return);break;case 5:if(ws(e,t),zs(t),n&512&&r!==null&&Ho(r,r.return),t.flags&32){var s=t.stateNode;try{Eu(s,"")}catch(N){ur(t,t.return,N)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,l=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&bv(s,i),Pp(l,a);var c=Pp(l,i);for(a=0;a<o.length;a+=2){var f=o[a],m=o[a+1];f==="style"?jv(s,m):f==="dangerouslySetInnerHTML"?Nv(s,m):f==="children"?Eu(s,m):Gm(s,f,m,c)}switch(l){case"input":Ap(s,i);break;case"textarea":_v(s,i);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ko(s,!!i.multiple,p,!1):v!==!!i.multiple&&(i.defaultValue!=null?Ko(s,!!i.multiple,i.defaultValue,!0):Ko(s,!!i.multiple,i.multiple?[]:"",!1))}s[Mu]=i}catch(N){ur(t,t.return,N)}}break;case 6:if(ws(e,t),zs(t),n&4){if(t.stateNode===null)throw Error(Ee(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(N){ur(t,t.return,N)}}break;case 3:if(ws(e,t),zs(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Iu(e.containerInfo)}catch(N){ur(t,t.return,N)}break;case 4:ws(e,t),zs(t);break;case 13:ws(e,t),zs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(A0=hr())),n&4&&Sg(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(tn=(c=tn)||f,ws(e,t),tn=c):ws(e,t),zs(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(Ve=t,f=t.child;f!==null;){for(m=Ve=f;Ve!==null;){switch(v=Ve,p=v.child,v.tag){case 0:case 11:case 14:case 15:xu(4,v,v.return);break;case 1:Ho(v,v.return);var b=v.stateNode;if(typeof b.componentWillUnmount=="function"){n=v,r=v.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(N){ur(n,r,N)}}break;case 5:Ho(v,v.return);break;case 22:if(v.memoizedState!==null){Ag(m);continue}}p!==null?(p.return=v,Ve=p):Ag(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,o=m.memoizedProps.style,a=o!=null&&o.hasOwnProperty("display")?o.display:null,l.style.display=Sv("display",a))}catch(N){ur(t,t.return,N)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(N){ur(t,t.return,N)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ws(e,t),zs(t),n&4&&Sg(t);break;case 21:break;default:ws(e,t),zs(t)}}function zs(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(J5(r)){var n=r;break e}r=r.return}throw Error(Ee(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Eu(s,""),n.flags&=-33);var i=Ng(t);om(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Ng(t);am(t,l,a);break;default:throw Error(Ee(161))}}catch(o){ur(t,t.return,o)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yx(t,e,r){Ve=t,Z5(t)}function Z5(t,e,r){for(var n=(t.mode&1)!==0;Ve!==null;){var s=Ve,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||rd;if(!a){var l=s.alternate,o=l!==null&&l.memoizedState!==null||tn;l=rd;var c=tn;if(rd=a,(tn=o)&&!c)for(Ve=s;Ve!==null;)a=Ve,o=a.child,a.tag===22&&a.memoizedState!==null?kg(s):o!==null?(o.return=a,Ve=o):kg(s);for(;i!==null;)Ve=i,Z5(i),i=i.sibling;Ve=s,rd=l,tn=c}jg(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ve=i):jg(t)}}function jg(t){for(;Ve!==null;){var e=Ve;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||xh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!tn)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:js(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ug(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}ug(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var o=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Iu(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}tn||e.flags&512&&im(e)}catch(v){ur(e,e.return,v)}}if(e===t){Ve=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ve=r;break}Ve=e.return}}function Ag(t){for(;Ve!==null;){var e=Ve;if(e===t){Ve=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ve=r;break}Ve=e.return}}function kg(t){for(;Ve!==null;){var e=Ve;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{xh(4,e)}catch(o){ur(e,r,o)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(o){ur(e,s,o)}}var i=e.return;try{im(e)}catch(o){ur(e,i,o)}break;case 5:var a=e.return;try{im(e)}catch(o){ur(e,a,o)}}}catch(o){ur(e,e.return,o)}if(e===t){Ve=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ve=l;break}Ve=e.return}}var Jx=Math.ceil,Zd=xi.ReactCurrentDispatcher,S0=xi.ReactCurrentOwner,us=xi.ReactCurrentBatchConfig,kt=0,Tr=null,xr=null,$r=0,Bn=0,Wo=fa(0),Er=0,Vu=null,Ka=0,Nh=0,j0=0,Nu=null,An=null,A0=0,hl=1/0,di=null,eh=!1,lm=null,sa=null,nd=!1,Ji=null,th=0,Su=0,um=null,kd=-1,Cd=0;function hn(){return kt&6?hr():kd!==-1?kd:kd=hr()}function ia(t){return t.mode&1?kt&2&&$r!==0?$r&-$r:Ix.transition!==null?(Cd===0&&(Cd=Dv()),Cd):(t=Ft,t!==0||(t=window.event,t=t===void 0?16:Vv(t.type)),t):1}function Ps(t,e,r,n){if(50<Su)throw Su=0,um=null,Error(Ee(185));Xu(t,r,n),(!(kt&2)||t!==Tr)&&(t===Tr&&(!(kt&2)&&(Nh|=r),Er===4&&Gi(t,$r)),Ln(t,n),r===1&&kt===0&&!(e.mode&1)&&(hl=hr()+500,wh&&pa()))}function Ln(t,e){var r=t.callbackNode;I_(t,e);var n=Md(t,t===Tr?$r:0);if(n===0)r!==null&&F1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&F1(r),e===1)t.tag===0?Ox(Cg.bind(null,t)):u5(Cg.bind(null,t)),Cx(function(){!(kt&6)&&pa()}),r=null;else{switch(Mv(n)){case 1:r=Xm;break;case 4:r=Tv;break;case 16:r=Dd;break;case 536870912:r=Fv;break;default:r=Dd}r=oy(r,ey.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ey(t,e){if(kd=-1,Cd=0,kt&6)throw Error(Ee(327));var r=t.callbackNode;if(Zo()&&t.callbackNode!==r)return null;var n=Md(t,t===Tr?$r:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=rh(t,n);else{e=n;var s=kt;kt|=2;var i=ry();(Tr!==t||$r!==e)&&(di=null,hl=hr()+500,qa(t,e));do try{Zx();break}catch(l){ty(t,l)}while(!0);d0(),Zd.current=i,kt=s,xr!==null?e=0:(Tr=null,$r=0,e=Er)}if(e!==0){if(e===2&&(s=Fp(t),s!==0&&(n=s,e=cm(t,s))),e===1)throw r=Vu,qa(t,0),Gi(t,n),Ln(t,hr()),r;if(e===6)Gi(t,n);else{if(s=t.current.alternate,!(n&30)&&!Qx(s)&&(e=rh(t,n),e===2&&(i=Fp(t),i!==0&&(n=i,e=cm(t,i))),e===1))throw r=Vu,qa(t,0),Gi(t,n),Ln(t,hr()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Ee(345));case 2:Pa(t,An,di);break;case 3:if(Gi(t,n),(n&130023424)===n&&(e=A0+500-hr(),10<e)){if(Md(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){hn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Vp(Pa.bind(null,t,An,di),e);break}Pa(t,An,di);break;case 4:if(Gi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Ls(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=hr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Jx(n/1960))-n,10<n){t.timeoutHandle=Vp(Pa.bind(null,t,An,di),n);break}Pa(t,An,di);break;case 5:Pa(t,An,di);break;default:throw Error(Ee(329))}}}return Ln(t,hr()),t.callbackNode===r?ey.bind(null,t):null}function cm(t,e){var r=Nu;return t.current.memoizedState.isDehydrated&&(qa(t,e).flags|=256),t=rh(t,e),t!==2&&(e=An,An=r,e!==null&&dm(e)),t}function dm(t){An===null?An=t:An.push.apply(An,t)}function Qx(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Os(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gi(t,e){for(e&=~j0,e&=~Nh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ls(e),n=1<<r;t[r]=-1,e&=~n}}function Cg(t){if(kt&6)throw Error(Ee(327));Zo();var e=Md(t,0);if(!(e&1))return Ln(t,hr()),null;var r=rh(t,e);if(t.tag!==0&&r===2){var n=Fp(t);n!==0&&(e=n,r=cm(t,n))}if(r===1)throw r=Vu,qa(t,0),Gi(t,e),Ln(t,hr()),r;if(r===6)throw Error(Ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pa(t,An,di),Ln(t,hr()),null}function k0(t,e){var r=kt;kt|=1;try{return t(e)}finally{kt=r,kt===0&&(hl=hr()+500,wh&&pa())}}function Ya(t){Ji!==null&&Ji.tag===0&&!(kt&6)&&Zo();var e=kt;kt|=1;var r=us.transition,n=Ft;try{if(us.transition=null,Ft=1,t)return t()}finally{Ft=n,us.transition=r,kt=e,!(kt&6)&&pa()}}function C0(){Bn=Wo.current,Kt(Wo)}function qa(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,kx(r)),xr!==null)for(r=xr.return;r!==null;){var n=r;switch(l0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$d();break;case 3:cl(),Kt(Cn),Kt(nn),v0();break;case 5:g0(n);break;case 4:cl();break;case 13:Kt(rr);break;case 19:Kt(rr);break;case 10:h0(n.type._context);break;case 22:case 23:C0()}r=r.return}if(Tr=t,xr=t=aa(t.current,null),$r=Bn=e,Er=0,Vu=null,j0=Nh=Ka=0,An=Nu=null,Ba!==null){for(e=0;e<Ba.length;e++)if(r=Ba[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Ba=null}return t}function ty(t,e){do{var r=xr;try{if(d0(),Sd.current=Xd,Qd){for(var n=nr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Qd=!1}if(Ga=0,Ir=Cr=nr=null,_u=!1,zu=0,S0.current=null,r===null||r.return===null){Er=1,Vu=e,xr=null;break}e:{var i=t,a=r.return,l=r,o=e;if(e=$r,l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=o,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mg(a);if(p!==null){p.flags&=-257,gg(p,a,l,i,e),p.mode&1&&pg(i,c,e),e=p,o=c;var b=e.updateQueue;if(b===null){var N=new Set;N.add(o),e.updateQueue=N}else b.add(o);break e}else{if(!(e&1)){pg(i,c,e),E0();break e}o=Error(Ee(426))}}else if(Jt&&l.mode&1){var j=mg(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),gg(j,a,l,i,e),u0(dl(o,l));break e}}i=o=dl(o,l),Er!==4&&(Er=2),Nu===null?Nu=[i]:Nu.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=M5(i,o,e);lg(i,w);break e;case 1:l=o;var _=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(sa===null||!sa.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=B5(i,l,e);lg(i,I);break e}}i=i.return}while(i!==null)}sy(r)}catch(B){e=B,xr===r&&r!==null&&(xr=r=r.return);continue}break}while(!0)}function ry(){var t=Zd.current;return Zd.current=Xd,t===null?Xd:t}function E0(){(Er===0||Er===3||Er===2)&&(Er=4),Tr===null||!(Ka&268435455)&&!(Nh&268435455)||Gi(Tr,$r)}function rh(t,e){var r=kt;kt|=2;var n=ry();(Tr!==t||$r!==e)&&(di=null,qa(t,e));do try{Xx();break}catch(s){ty(t,s)}while(!0);if(d0(),kt=r,Zd.current=n,xr!==null)throw Error(Ee(261));return Tr=null,$r=0,Er}function Xx(){for(;xr!==null;)ny(xr)}function Zx(){for(;xr!==null&&!S_();)ny(xr)}function ny(t){var e=ay(t.alternate,t,Bn);t.memoizedProps=t.pendingProps,e===null?sy(t):xr=e,S0.current=null}function sy(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Wx(r,e),r!==null){r.flags&=32767,xr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Er=6,xr=null;return}}else if(r=Hx(r,e,Bn),r!==null){xr=r;return}if(e=e.sibling,e!==null){xr=e;return}xr=e=t}while(e!==null);Er===0&&(Er=5)}function Pa(t,e,r){var n=Ft,s=us.transition;try{us.transition=null,Ft=1,e3(t,e,r,n)}finally{us.transition=s,Ft=n}return null}function e3(t,e,r,n){do Zo();while(Ji!==null);if(kt&6)throw Error(Ee(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ee(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(R_(t,i),t===Tr&&(xr=Tr=null,$r=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nd||(nd=!0,oy(Dd,function(){return Zo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=us.transition,us.transition=null;var a=Ft;Ft=1;var l=kt;kt|=4,S0.current=null,Kx(t,r),X5(r,t),bx(qp),Bd=!!zp,qp=zp=null,t.current=r,Yx(r),j_(),kt=l,Ft=a,us.transition=i}else t.current=r;if(nd&&(nd=!1,Ji=t,th=s),i=t.pendingLanes,i===0&&(sa=null),C_(r.stateNode),Ln(t,hr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(eh)throw eh=!1,t=lm,lm=null,t;return th&1&&t.tag!==0&&Zo(),i=t.pendingLanes,i&1?t===um?Su++:(Su=0,um=t):Su=0,pa(),null}function Zo(){if(Ji!==null){var t=Mv(th),e=us.transition,r=Ft;try{if(us.transition=null,Ft=16>t?16:t,Ji===null)var n=!1;else{if(t=Ji,Ji=null,th=0,kt&6)throw Error(Ee(331));var s=kt;for(kt|=4,Ve=t.current;Ve!==null;){var i=Ve,a=i.child;if(Ve.flags&16){var l=i.deletions;if(l!==null){for(var o=0;o<l.length;o++){var c=l[o];for(Ve=c;Ve!==null;){var f=Ve;switch(f.tag){case 0:case 11:case 15:xu(8,f,i)}var m=f.child;if(m!==null)m.return=f,Ve=m;else for(;Ve!==null;){f=Ve;var v=f.sibling,p=f.return;if(Y5(f),f===c){Ve=null;break}if(v!==null){v.return=p,Ve=v;break}Ve=p}}}var b=i.alternate;if(b!==null){var N=b.child;if(N!==null){b.child=null;do{var j=N.sibling;N.sibling=null,N=j}while(N!==null)}}Ve=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Ve=a;else e:for(;Ve!==null;){if(i=Ve,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xu(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Ve=w;break e}Ve=i.return}}var _=t.current;for(Ve=_;Ve!==null;){a=Ve;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,Ve=S;else e:for(a=_;Ve!==null;){if(l=Ve,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xh(9,l)}}catch(B){ur(l,l.return,B)}if(l===a){Ve=null;break e}var I=l.sibling;if(I!==null){I.return=l.return,Ve=I;break e}Ve=l.return}}if(kt=s,pa(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(ph,t)}catch{}n=!0}return n}finally{Ft=r,us.transition=e}}return!1}function Eg(t,e,r){e=dl(r,e),e=M5(t,e,1),t=na(t,e,1),e=hn(),t!==null&&(Xu(t,1,e),Ln(t,e))}function ur(t,e,r){if(t.tag===3)Eg(t,t,r);else for(;e!==null;){if(e.tag===3){Eg(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(sa===null||!sa.has(n))){t=dl(r,t),t=B5(e,t,1),e=na(e,t,1),t=hn(),e!==null&&(Xu(e,1,t),Ln(e,t));break}}e=e.return}}function t3(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&r,Tr===t&&($r&r)===r&&(Er===4||Er===3&&($r&130023424)===$r&&500>hr()-A0?qa(t,0):j0|=r),Ln(t,e)}function iy(t,e){e===0&&(t.mode&1?(e=Gc,Gc<<=1,!(Gc&130023424)&&(Gc=4194304)):e=1);var r=hn();t=bi(t,e),t!==null&&(Xu(t,e,r),Ln(t,r))}function r3(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),iy(t,r)}function n3(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ee(314))}n!==null&&n.delete(e),iy(t,r)}var ay;ay=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cn.current)kn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return kn=!1,Vx(t,e,r);kn=!!(t.flags&131072)}else kn=!1,Jt&&e.flags&1048576&&c5(e,Wd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ad(t,e),t=e.pendingProps;var s=ol(e,nn.current);Xo(e,r),s=w0(null,e,n,t,s,r);var i=b0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(n)?(i=!0,Vd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,p0(e),s.updater=_h,e.stateNode=s,s._reactInternals=e,Qp(e,n,t,r),e=em(null,e,n,!0,i,r)):(e.tag=0,Jt&&i&&o0(e),cn(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ad(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=i3(n),t=js(n,t),s){case 0:e=Zp(null,e,n,t,r);break e;case 1:e=wg(null,e,n,t,r);break e;case 11:e=vg(null,e,n,t,r);break e;case 14:e=yg(null,e,n,js(n.type,t),r);break e}throw Error(Ee(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:js(n,s),Zp(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:js(n,s),wg(t,e,n,s,r);case 3:e:{if($5(e),t===null)throw Error(Ee(387));n=e.pendingProps,i=e.memoizedState,s=i.element,g5(t,e),Yd(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=dl(Error(Ee(423)),e),e=bg(t,e,n,r,s);break e}else if(n!==s){s=dl(Error(Ee(424)),e),e=bg(t,e,n,r,s);break e}else for(qn=ra(e.stateNode.containerInfo.firstChild),Vn=e,Jt=!0,Es=null,r=p5(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ll(),n===s){e=_i(t,e,r);break e}cn(t,e,n,r)}e=e.child}return e;case 5:return v5(e),t===null&&Kp(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,$p(n,s)?a=null:i!==null&&$p(n,i)&&(e.flags|=32),q5(t,e),cn(t,e,a,r),e.child;case 6:return t===null&&Kp(e),null;case 13:return V5(t,e,r);case 4:return m0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ul(e,null,n,r):cn(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:js(n,s),vg(t,e,n,s,r);case 7:return cn(t,e,e.pendingProps,r),e.child;case 8:return cn(t,e,e.pendingProps.children,r),e.child;case 12:return cn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ht(Gd,n._currentValue),n._currentValue=a,i!==null)if(Os(i.value,a)){if(i.children===s.children&&!Cn.current){e=_i(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var o=l.firstContext;o!==null;){if(o.context===n){if(i.tag===1){o=vi(-1,r&-r),o.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?o.next=o:(o.next=f.next,f.next=o),c.pending=o}}i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Yp(i.return,r,e),l.lanes|=r;break}o=o.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Ee(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Yp(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}cn(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Xo(e,r),s=cs(s),n=n(s),e.flags|=1,cn(t,e,n,r),e.child;case 14:return n=e.type,s=js(n,e.pendingProps),s=js(n.type,s),yg(t,e,n,s,r);case 15:return U5(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:js(n,s),Ad(t,e),e.tag=1,En(n)?(t=!0,Vd(e)):t=!1,Xo(e,r),D5(e,n,s),Qp(e,n,s,r),em(null,e,n,!0,t,r);case 19:return H5(t,e,r);case 22:return z5(t,e,r)}throw Error(Ee(156,e.tag))};function oy(t,e){return Rv(t,e)}function s3(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ls(t,e,r,n){return new s3(t,e,r,n)}function L0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function i3(t){if(typeof t=="function")return L0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ym)return 11;if(t===Jm)return 14}return 2}function aa(t,e){var r=t.alternate;return r===null?(r=ls(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ed(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")L0(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Fo:return $a(r.children,s,i,e);case Km:a=8,s|=8;break;case _p:return t=ls(12,r,e,s|2),t.elementType=_p,t.lanes=i,t;case xp:return t=ls(13,r,e,s),t.elementType=xp,t.lanes=i,t;case Np:return t=ls(19,r,e,s),t.elementType=Np,t.lanes=i,t;case vv:return Sh(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mv:a=10;break e;case gv:a=9;break e;case Ym:a=11;break e;case Jm:a=14;break e;case Vi:a=16,n=null;break e}throw Error(Ee(130,t==null?t:typeof t,""))}return e=ls(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function $a(t,e,r,n){return t=ls(7,t,n,e),t.lanes=r,t}function Sh(t,e,r,n){return t=ls(22,t,n,e),t.elementType=vv,t.lanes=r,t.stateNode={isHidden:!1},t}function Vf(t,e,r){return t=ls(6,t,null,e),t.lanes=r,t}function Hf(t,e,r){return e=ls(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function a3(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jf(0),this.expirationTimes=jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function P0(t,e,r,n,s,i,a,l,o){return t=new a3(t,e,r,l,o),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ls(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},p0(i),t}function o3(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:To,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function ly(t){if(!t)return ua;t=t._reactInternals;e:{if(Xa(t)!==t||t.tag!==1)throw Error(Ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ee(171))}if(t.tag===1){var r=t.type;if(En(r))return l5(t,r,e)}return e}function uy(t,e,r,n,s,i,a,l,o){return t=P0(r,n,!0,t,s,i,a,l,o),t.context=ly(null),r=t.current,n=hn(),s=ia(r),i=vi(n,s),i.callback=e??null,na(r,i,s),t.current.lanes=s,Xu(t,s,n),Ln(t,n),t}function jh(t,e,r,n){var s=e.current,i=hn(),a=ia(s);return r=ly(r),e.context===null?e.context=r:e.pendingContext=r,e=vi(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=na(s,e,a),t!==null&&(Ps(t,s,a,i),Nd(t,s,a)),a}function nh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function O0(t,e){Lg(t,e),(t=t.alternate)&&Lg(t,e)}function l3(){return null}var cy=typeof reportError=="function"?reportError:function(t){console.error(t)};function I0(t){this._internalRoot=t}Ah.prototype.render=I0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ee(409));jh(t,e,null,null)};Ah.prototype.unmount=I0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ya(function(){jh(null,t,null,null)}),e[wi]=null}};function Ah(t){this._internalRoot=t}Ah.prototype.unstable_scheduleHydration=function(t){if(t){var e=zv();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Wi.length&&e!==0&&e<Wi[r].priority;r++);Wi.splice(r,0,t),r===0&&$v(t)}};function R0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pg(){}function u3(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=nh(a);i.call(c)}}var a=uy(e,n,t,0,null,!1,!1,"",Pg);return t._reactRootContainer=a,t[wi]=a.current,Fu(t.nodeType===8?t.parentNode:t),Ya(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=nh(o);l.call(c)}}var o=P0(t,0,!1,null,null,!1,!1,"",Pg);return t._reactRootContainer=o,t[wi]=o.current,Fu(t.nodeType===8?t.parentNode:t),Ya(function(){jh(e,o,r,n)}),o}function Ch(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var o=nh(a);l.call(o)}}jh(e,a,t,s)}else a=u3(r,e,t,s,n);return nh(a)}Bv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=hu(e.pendingLanes);r!==0&&(Zm(e,r|1),Ln(e,hr()),!(kt&6)&&(hl=hr()+500,pa()))}break;case 13:Ya(function(){var n=bi(t,1);if(n!==null){var s=hn();Ps(n,t,1,s)}}),O0(t,1)}};e0=function(t){if(t.tag===13){var e=bi(t,134217728);if(e!==null){var r=hn();Ps(e,t,134217728,r)}O0(t,134217728)}};Uv=function(t){if(t.tag===13){var e=ia(t),r=bi(t,e);if(r!==null){var n=hn();Ps(r,t,e,n)}O0(t,e)}};zv=function(){return Ft};qv=function(t,e){var r=Ft;try{return Ft=t,e()}finally{Ft=r}};Ip=function(t,e,r){switch(e){case"input":if(Ap(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=yh(n);if(!s)throw Error(Ee(90));wv(n),Ap(n,s)}}}break;case"textarea":_v(t,r);break;case"select":e=r.value,e!=null&&Ko(t,!!r.multiple,e,!1)}};Cv=k0;Ev=Ya;var c3={usingClientEntryPoint:!1,Events:[ec,Uo,yh,Av,kv,k0]},au={findFiberByHostInstance:Ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d3={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ov(t),t===null?null:t.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||l3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{ph=sd.inject(d3),Ws=sd}catch{}}Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c3;Wn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R0(e))throw Error(Ee(200));return o3(t,e,null,r)};Wn.createRoot=function(t,e){if(!R0(t))throw Error(Ee(299));var r=!1,n="",s=cy;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=P0(t,1,!1,null,null,r,!1,n,s),t[wi]=e.current,Fu(t.nodeType===8?t.parentNode:t),new I0(e)};Wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ee(188)):(t=Object.keys(t).join(","),Error(Ee(268,t)));return t=Ov(e),t=t===null?null:t.stateNode,t};Wn.flushSync=function(t){return Ya(t)};Wn.hydrate=function(t,e,r){if(!kh(e))throw Error(Ee(200));return Ch(null,t,e,!0,r)};Wn.hydrateRoot=function(t,e,r){if(!R0(t))throw Error(Ee(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=cy;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=uy(e,null,t,1,r??null,s,!1,i,a),t[wi]=e.current,Fu(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Ah(e)};Wn.render=function(t,e,r){if(!kh(e))throw Error(Ee(200));return Ch(null,t,e,!1,r)};Wn.unmountComponentAtNode=function(t){if(!kh(t))throw Error(Ee(40));return t._reactRootContainer?(Ya(function(){Ch(null,null,t,!1,function(){t._reactRootContainer=null,t[wi]=null})}),!0):!1};Wn.unstable_batchedUpdates=k0;Wn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!kh(r))throw Error(Ee(200));if(t==null||t._reactInternals===void 0)throw Error(Ee(38));return Ch(t,e,r,!1,n)};Wn.version="18.3.1-next-f1338f8080-20240426";function dy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dy)}catch(t){console.error(t)}}dy(),dv.exports=Wn;var h3=dv.exports,Og=h3;wp.createRoot=Og.createRoot,wp.hydrateRoot=Og.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hu.apply(this,arguments)}var Qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qi||(Qi={}));const Ig="popstate";function f3(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:l}=n.location;return hm("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:sh(s)}return m3(e,r,null,t)}function gr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p3(){return Math.random().toString(36).substr(2,8)}function Rg(t,e){return{usr:t.state,key:t.key,idx:e}}function hm(t,e,r,n){return r===void 0&&(r=null),Hu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yl(e):e,{state:r,key:e&&e.key||n||p3()})}function sh(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function yl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function m3(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=Qi.Pop,o=null,c=f();c==null&&(c=0,a.replaceState(Hu({},a.state,{idx:c}),""));function f(){return(a.state||{idx:null}).idx}function m(){l=Qi.Pop;let j=f(),w=j==null?null:j-c;c=j,o&&o({action:l,location:N.location,delta:w})}function v(j,w){l=Qi.Push;let _=hm(N.location,j,w);c=f()+1;let S=Rg(_,c),I=N.createHref(_);try{a.pushState(S,"",I)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(I)}i&&o&&o({action:l,location:N.location,delta:1})}function p(j,w){l=Qi.Replace;let _=hm(N.location,j,w);c=f();let S=Rg(_,c),I=N.createHref(_);a.replaceState(S,"",I),i&&o&&o({action:l,location:N.location,delta:0})}function b(j){let w=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof j=="string"?j:sh(j);return _=_.replace(/ $/,"%20"),gr(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let N={get action(){return l},get location(){return t(s,a)},listen(j){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(Ig,m),o=j,()=>{s.removeEventListener(Ig,m),o=null}},createHref(j){return e(s,j)},createURL:b,encodeLocation(j){let w=b(j);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:p,go(j){return a.go(j)}};return N}var Tg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Tg||(Tg={}));function g3(t,e,r){return r===void 0&&(r="/"),v3(t,e,r)}function v3(t,e,r,n){let s=typeof e=="string"?yl(e):e,i=T0(s.pathname||"/",r);if(i==null)return null;let a=fy(t);y3(a);let l=null;for(let o=0;l==null&&o<a.length;++o){let c=L3(i);l=k3(a[o],c)}return l}function fy(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let o={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};o.relativePath.startsWith("/")&&(gr(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(n.length));let c=oa([n,o.relativePath]),f=r.concat(o);i.children&&i.children.length>0&&(gr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),fy(i.children,e,f,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:j3(c,i.index),routesMeta:f})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let o of py(i.path))s(i,a,o)}),e}function py(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=py(n.join("/")),l=[];return l.push(...a.map(o=>o===""?i:[i,o].join("/"))),s&&l.push(...a),l.map(o=>t.startsWith("/")&&o===""?"/":o)}function y3(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:A3(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const w3=/^:[\w-]+$/,b3=3,_3=2,x3=1,N3=10,S3=-2,Fg=t=>t==="*";function j3(t,e){let r=t.split("/"),n=r.length;return r.some(Fg)&&(n+=S3),e&&(n+=_3),r.filter(s=>!Fg(s)).reduce((s,i)=>s+(w3.test(i)?b3:i===""?x3:N3),n)}function A3(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function k3(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let l=0;l<n.length;++l){let o=n[l],c=l===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",m=C3({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},f),v=o.route;if(!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:oa([i,m.pathname]),pathnameBase:R3(oa([i,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(i=oa([i,m.pathnameBase]))}return a}function C3(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=E3(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,f,m)=>{let{paramName:v,isOptional:p}=f;if(v==="*"){let N=l[m]||"";a=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const b=l[m];return p&&!b?c[v]=void 0:c[v]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function E3(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),hy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,o)=>(n.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function L3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function T0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function P3(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?yl(t):t;return{pathname:r?r.startsWith("/")?r:O3(r,e):e,search:T3(n),hash:F3(s)}}function O3(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Wf(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I3(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function F0(t,e){let r=I3(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function D0(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=yl(t):(s=Hu({},t),gr(!s.pathname||!s.pathname.includes("?"),Wf("?","pathname","search",s)),gr(!s.pathname||!s.pathname.includes("#"),Wf("#","pathname","hash",s)),gr(!s.search||!s.search.includes("#"),Wf("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let m=e.length-1;if(!n&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),m-=1;s.pathname=v.join("/")}l=m>=0?e[m]:"/"}let o=P3(s,l),c=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(c||f)&&(o.pathname+="/"),o}const oa=t=>t.join("/").replace(/\/\/+/g,"/"),R3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),T3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function D3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const my=["post","put","patch","delete"];new Set(my);const M3=["get",...my];new Set(M3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wu.apply(this,arguments)}const M0=se.createContext(null),B3=se.createContext(null),ma=se.createContext(null),Eh=se.createContext(null),Ni=se.createContext({outlet:null,matches:[],isDataRoute:!1}),gy=se.createContext(null);function U3(t,e){let{relative:r}=e===void 0?{}:e;wl()||gr(!1);let{basename:n,navigator:s}=se.useContext(ma),{hash:i,pathname:a,search:l}=yy(t,{relative:r}),o=a;return n!=="/"&&(o=a==="/"?n:oa([n,a])),s.createHref({pathname:o,search:l,hash:i})}function wl(){return se.useContext(Eh)!=null}function bl(){return wl()||gr(!1),se.useContext(Eh).location}function vy(t){se.useContext(ma).static||se.useLayoutEffect(t)}function rc(){let{isDataRoute:t}=se.useContext(Ni);return t?e4():z3()}function z3(){wl()||gr(!1);let t=se.useContext(M0),{basename:e,future:r,navigator:n}=se.useContext(ma),{matches:s}=se.useContext(Ni),{pathname:i}=bl(),a=JSON.stringify(F0(s,r.v7_relativeSplatPath)),l=se.useRef(!1);return vy(()=>{l.current=!0}),se.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let m=D0(c,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:oa([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,a,i,t])}function q3(){let{matches:t}=se.useContext(Ni),e=t[t.length-1];return e?e.params:{}}function yy(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=se.useContext(ma),{matches:s}=se.useContext(Ni),{pathname:i}=bl(),a=JSON.stringify(F0(s,n.v7_relativeSplatPath));return se.useMemo(()=>D0(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function $3(t,e){return V3(t,e)}function V3(t,e,r,n){wl()||gr(!1);let{navigator:s}=se.useContext(ma),{matches:i}=se.useContext(Ni),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let o=a?a.pathnameBase:"/";a&&a.route;let c=bl(),f;if(e){var m;let j=typeof e=="string"?yl(e):e;o==="/"||(m=j.pathname)!=null&&m.startsWith(o)||gr(!1),f=j}else f=c;let v=f.pathname||"/",p=v;if(o!=="/"){let j=o.replace(/^\//,"").split("/");p="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=g3(t,{pathname:p}),N=Y3(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:oa([o,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?o:oa([o,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,r,n);return e&&N?se.createElement(Eh.Provider,{value:{location:Wu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Qi.Pop}},N):N}function H3(){let t=Z3(),e=D3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),r?se.createElement("pre",{style:s},r):null,null)}const W3=se.createElement(H3,null);class G3 extends se.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?se.createElement(Ni.Provider,{value:this.props.routeContext},se.createElement(gy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function K3(t){let{routeContext:e,match:r,children:n}=t,s=se.useContext(M0);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),se.createElement(Ni.Provider,{value:e},n)}function Y3(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||gr(!1),a=a.slice(0,Math.min(a.length,f+1))}let o=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=f),m.route.id){let{loaderData:v,errors:p}=r,b=m.route.loader&&v[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||b){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,m,v)=>{let p,b=!1,N=null,j=null;r&&(p=l&&m.route.id?l[m.route.id]:void 0,N=m.route.errorElement||W3,o&&(c<0&&v===0?(t4("route-fallback"),b=!0,j=null):c===v&&(b=!0,j=m.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,v+1)),_=()=>{let S;return p?S=N:b?S=j:m.route.Component?S=se.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=f,se.createElement(K3,{match:m,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:S})};return r&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?se.createElement(G3,{location:r.location,revalidation:r.revalidation,component:N,error:p,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var wy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(wy||{}),by=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(by||{});function J3(t){let e=se.useContext(M0);return e||gr(!1),e}function Q3(t){let e=se.useContext(B3);return e||gr(!1),e}function X3(t){let e=se.useContext(Ni);return e||gr(!1),e}function _y(t){let e=X3(),r=e.matches[e.matches.length-1];return r.route.id||gr(!1),r.route.id}function Z3(){var t;let e=se.useContext(gy),r=Q3(),n=_y();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function e4(){let{router:t}=J3(wy.UseNavigateStable),e=_y(by.UseNavigateStable),r=se.useRef(!1);return vy(()=>{r.current=!0}),se.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Wu({fromRouteId:e},i)))},[t,e])}const Dg={};function t4(t,e,r){Dg[t]||(Dg[t]=!0)}function r4(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function fm(t){let{to:e,replace:r,state:n,relative:s}=t;wl()||gr(!1);let{future:i,static:a}=se.useContext(ma),{matches:l}=se.useContext(Ni),{pathname:o}=bl(),c=rc(),f=D0(e,F0(l,i.v7_relativeSplatPath),o,s==="path"),m=JSON.stringify(f);return se.useEffect(()=>c(JSON.parse(m),{replace:r,state:n,relative:s}),[c,m,s,r,n]),null}function Ar(t){gr(!1)}function n4(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Qi.Pop,navigator:i,static:a=!1,future:l}=t;wl()&&gr(!1);let o=e.replace(/^\/*/,"/"),c=se.useMemo(()=>({basename:o,navigator:i,static:a,future:Wu({v7_relativeSplatPath:!1},l)}),[o,l,i,a]);typeof n=="string"&&(n=yl(n));let{pathname:f="/",search:m="",hash:v="",state:p=null,key:b="default"}=n,N=se.useMemo(()=>{let j=T0(f,o);return j==null?null:{location:{pathname:j,search:m,hash:v,state:p,key:b},navigationType:s}},[o,f,m,v,p,b,s]);return N==null?null:se.createElement(ma.Provider,{value:c},se.createElement(Eh.Provider,{children:r,value:N}))}function s4(t){let{children:e,location:r}=t;return $3(pm(e),r)}new Promise(()=>{});function pm(t,e){e===void 0&&(e=[]);let r=[];return se.Children.forEach(t,(n,s)=>{if(!se.isValidElement(n))return;let i=[...e,s];if(n.type===se.Fragment){r.push.apply(r,pm(n.props.children,i));return}n.type!==Ar&&gr(!1),!n.props.index||!n.props.children||gr(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=pm(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mm.apply(this,arguments)}function i4(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function a4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function o4(t,e){return t.button===0&&(!e||e==="_self")&&!a4(t)}const l4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u4="6";try{window.__reactRouterVersion=u4}catch{}const c4="startTransition",Mg=t_[c4];function d4(t){let{basename:e,children:r,future:n,window:s}=t,i=se.useRef();i.current==null&&(i.current=f3({window:s,v5Compat:!0}));let a=i.current,[l,o]=se.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},f=se.useCallback(m=>{c&&Mg?Mg(()=>o(m)):o(m)},[o,c]);return se.useLayoutEffect(()=>a.listen(f),[a,f]),se.useEffect(()=>r4(n),[n]),se.createElement(n4,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const h4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,el=se.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:o,to:c,preventScrollReset:f,viewTransition:m}=e,v=i4(e,l4),{basename:p}=se.useContext(ma),b,N=!1;if(typeof c=="string"&&f4.test(c)&&(b=c,h4))try{let S=new URL(window.location.href),I=c.startsWith("//")?new URL(S.protocol+c):new URL(c),B=T0(I.pathname,p);I.origin===S.origin&&B!=null?c=B+I.search+I.hash:N=!0}catch{}let j=U3(c,{relative:s}),w=p4(c,{replace:a,state:l,target:o,preventScrollReset:f,relative:s,viewTransition:m});function _(S){n&&n(S),S.defaultPrevented||w(S)}return se.createElement("a",mm({},v,{href:b||j,onClick:N||i?n:_,ref:r,target:o}))});var Bg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Bg||(Bg={}));var Ug;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ug||(Ug={}));function p4(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,o=rc(),c=bl(),f=yy(t,{relative:a});return se.useCallback(m=>{if(o4(m,r)){m.preventDefault();let v=n!==void 0?n:sh(c)===sh(f);o(t,{replace:v,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[c,o,f,n,s,r,t,i,a,l])}const m4={},zg=t=>{let e;const r=new Set,n=(f,m)=>{const v=typeof f=="function"?f(e):f;if(!Object.is(v,e)){const p=e;e=m??(typeof v!="object"||v===null)?v:Object.assign({},e,v),r.forEach(b=>b(e,p))}},s=()=>e,o={setState:n,getState:s,getInitialState:()=>c,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(m4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=e=t(n,s,o);return o},g4=t=>t?zg(t):zg;var xy={exports:{}},Ny={},Sy={exports:{}},jy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=se;function v4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var y4=typeof Object.is=="function"?Object.is:v4,w4=fl.useState,b4=fl.useEffect,_4=fl.useLayoutEffect,x4=fl.useDebugValue;function N4(t,e){var r=e(),n=w4({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return _4(function(){s.value=r,s.getSnapshot=e,Gf(s)&&i({inst:s})},[t,r,e]),b4(function(){return Gf(s)&&i({inst:s}),t(function(){Gf(s)&&i({inst:s})})},[t]),x4(r),r}function Gf(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!y4(t,r)}catch{return!0}}function S4(t,e){return e()}var j4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?S4:N4;jy.useSyncExternalStore=fl.useSyncExternalStore!==void 0?fl.useSyncExternalStore:j4;Sy.exports=jy;var A4=Sy.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh=se,k4=A4;function C4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var E4=typeof Object.is=="function"?Object.is:C4,L4=k4.useSyncExternalStore,P4=Lh.useRef,O4=Lh.useEffect,I4=Lh.useMemo,R4=Lh.useDebugValue;Ny.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var i=P4(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=I4(function(){function o(p){if(!c){if(c=!0,f=p,p=n(p),s!==void 0&&a.hasValue){var b=a.value;if(s(b,p))return m=b}return m=p}if(b=m,E4(f,p))return b;var N=n(p);return s!==void 0&&s(b,N)?(f=p,b):(f=p,m=N)}var c=!1,f,m,v=r===void 0?null:r;return[function(){return o(e())},v===null?void 0:function(){return o(v())}]},[e,r,n,s]);var l=L4(t,i[0],i[1]);return O4(function(){a.hasValue=!0,a.value=l},[l]),R4(l),l};xy.exports=Ny;var T4=xy.exports;const F4=Z2(T4),Ay={},{useDebugValue:D4}=Ss,{useSyncExternalStoreWithSelector:M4}=F4;let qg=!1;const B4=t=>t;function U4(t,e=B4,r){(Ay?"production":void 0)!=="production"&&r&&!qg&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),qg=!0);const n=M4(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return D4(n),n}const $g=t=>{(Ay?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?g4(t):t,r=(n,s)=>U4(e,n,s);return Object.assign(r,e),r},z4=t=>t?$g(t):$g,Ph=z4(t=>({user:null,setUser:e=>t({user:e}),signOut:()=>t({user:null})}));var gm=function(t,e){return gm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},gm(t,e)};function ky(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ih=function(){return ih=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ih.apply(this,arguments)};function _l(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Cy(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(i=(s<3?a(i):s>3?a(e,r,i):a(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Ey(t,e){return function(r,n){e(r,n,t)}}function Ly(t,e,r,n,s,i){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var l=n.kind,o=l==="getter"?"get":l==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,f=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),m,v=!1,p=r.length-1;p>=0;p--){var b={};for(var N in n)b[N]=N==="access"?{}:n[N];for(var N in n.access)b.access[N]=n.access[N];b.addInitializer=function(w){if(v)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(w||null))};var j=(0,r[p])(l==="accessor"?{get:f.get,set:f.set}:f[o],b);if(l==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(m=a(j.get))&&(f.get=m),(m=a(j.set))&&(f.set=m),(m=a(j.init))&&s.unshift(m)}else(m=a(j))&&(l==="field"?s.unshift(m):f[o]=m)}c&&Object.defineProperty(c,n.name,f),v=!0}function Py(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function Oy(t){return typeof t=="symbol"?t:"".concat(t)}function Iy(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Ry(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ge(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(f){try{c(n.next(f))}catch(m){a(m)}}function o(f){try{c(n.throw(f))}catch(m){a(m)}}function c(f){f.done?i(f.value):s(f.value).then(l,o)}c((n=n.apply(t,e||[])).next())})}function Ty(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(f){return o([c,f])}}function o(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(f){c=[6,f],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Oh=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Fy(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Oh(e,t,r)}function ah(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function B0(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Dy(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(B0(arguments[e]));return t}function My(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],a=0,l=i.length;a<l;a++,s++)n[s]=i[a];return n}function By(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function pl(t){return this instanceof pl?(this.v=t,this):new pl(t)}function Uy(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(p){return function(b){return Promise.resolve(b).then(p,m)}}function l(p,b){n[p]&&(s[p]=function(N){return new Promise(function(j,w){i.push([p,N,j,w])>1||o(p,N)})},b&&(s[p]=b(s[p])))}function o(p,b){try{c(n[p](b))}catch(N){v(i[0][3],N)}}function c(p){p.value instanceof pl?Promise.resolve(p.value.v).then(f,m):v(i[0][2],p)}function f(p){o("next",p)}function m(p){o("throw",p)}function v(p,b){p(b),i.shift(),i.length&&o(i[0][0],i[0][1])}}function zy(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(a){return(r=!r)?{value:pl(t[s](a)),done:!1}:i?i(a):a}:i}}function qy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ah=="function"?ah(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(l,o){a=t[i](a),s(l,o,a.done,a.value)})}}function s(i,a,l,o){Promise.resolve(o).then(function(c){i({value:c,done:l})},a)}}function $y(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var q4=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},vm=function(t){return vm=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},vm(t)};function Vy(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=vm(t),n=0;n<r.length;n++)r[n]!=="default"&&Oh(e,t,r[n]);return q4(e,t),e}function Hy(t){return t&&t.__esModule?t:{default:t}}function Wy(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Gy(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function Ky(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Yy(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var $4=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Jy(t){function e(i){t.error=t.hasError?new $4(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return e(a),s()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function Qy(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?e?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):t}const V4={__extends:ky,__assign:ih,__rest:_l,__decorate:Cy,__param:Ey,__esDecorate:Ly,__runInitializers:Py,__propKey:Oy,__setFunctionName:Iy,__metadata:Ry,__awaiter:Ge,__generator:Ty,__createBinding:Oh,__exportStar:Fy,__values:ah,__read:B0,__spread:Dy,__spreadArrays:My,__spreadArray:By,__await:pl,__asyncGenerator:Uy,__asyncDelegator:zy,__asyncValues:qy,__makeTemplateObject:$y,__importStar:Vy,__importDefault:Hy,__classPrivateFieldGet:Wy,__classPrivateFieldSet:Gy,__classPrivateFieldIn:Ky,__addDisposableResource:Yy,__disposeResources:Jy,__rewriteRelativeImportExtension:Qy},H4=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Yy,get __assign(){return ih},__asyncDelegator:zy,__asyncGenerator:Uy,__asyncValues:qy,__await:pl,__awaiter:Ge,__classPrivateFieldGet:Wy,__classPrivateFieldIn:Ky,__classPrivateFieldSet:Gy,__createBinding:Oh,__decorate:Cy,__disposeResources:Jy,__esDecorate:Ly,__exportStar:Fy,__extends:ky,__generator:Ty,__importDefault:Hy,__importStar:Vy,__makeTemplateObject:$y,__metadata:Ry,__param:Ey,__propKey:Oy,__read:B0,__rest:_l,__rewriteRelativeImportExtension:Qy,__runInitializers:Py,__setFunctionName:Iy,__spread:Dy,__spreadArray:By,__spreadArrays:My,__values:ah,default:V4},Symbol.toStringTag,{value:"Module"})),W4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class U0 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class G4 extends U0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Vg extends U0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Hg extends U0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ym;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ym||(ym={}));class K4{constructor(e,{headers:r={},customFetch:n,region:s=ym.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=W4(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ge(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:o,body:c,signal:f,timeout:m}=n;let v={},{region:p}=n;p||(p=this.region);const b=new URL(`${this.url}/${r}`);p&&p!=="any"&&(v["x-region"]=p,b.searchParams.set("forceFunctionRegion",p));let N;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",N=c):typeof c=="string"?(v["Content-Type"]="text/plain",N=c):typeof FormData<"u"&&c instanceof FormData?N=c:(v["Content-Type"]="application/json",N=JSON.stringify(c)):N=c;let j=f;m&&(a=new AbortController,i=setTimeout(()=>a.abort(),m),f?(j=a.signal,f.addEventListener("abort",()=>a.abort())):j=a.signal);const w=yield this.fetch(b.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),l),body:N,signal:j}).catch(B=>{throw new G4(B)}),_=w.headers.get("x-relay-error");if(_&&_==="true")throw new Vg(w);if(!w.ok)throw new Hg(w);let S=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),I;return S==="application/json"?I=yield w.json():S==="application/octet-stream"||S==="application/pdf"?I=yield w.blob():S==="text/event-stream"?I=w:S==="multipart/form-data"?I=yield w.formData():I=yield w.text(),{data:I,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof Hg||l instanceof Vg?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var dn={};const xl=Bb(H4);var id={},ad={},od={},ld={},ud={},cd={},Wg;function Xy(){if(Wg)return cd;Wg=1,Object.defineProperty(cd,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return cd.default=t,cd}var Gg;function Zy(){if(Gg)return ud;Gg=1,Object.defineProperty(ud,"__esModule",{value:!0});const e=xl.__importDefault(Xy());class r{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var c,f,m,v;let p=null,b=null,N=null,j=o.status,w=o.statusText;if(o.ok){if(this.method!=="HEAD"){const B=await o.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?b=B:b=JSON.parse(B))}const S=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),I=(m=o.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");S&&I&&I.length>1&&(N=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(p={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,N=null,j=406,w="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const S=await o.text();try{p=JSON.parse(S),Array.isArray(p)&&o.status===404&&(b=[],p=null,j=200,w="OK")}catch{o.status===404&&S===""?(j=204,w="No Content"):p={message:S}}if(p&&this.isMaybeSingle&&(!((v=p==null?void 0:p.details)===null||v===void 0)&&v.includes("0 rows"))&&(p=null,j=200,w="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:b,count:N,status:j,statusText:w}});return this.shouldThrowOnError||(l=l.catch(o=>{var c,f,m;return{error:{message:`${(c=o==null?void 0:o.name)!==null&&c!==void 0?c:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(f=o==null?void 0:o.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=o==null?void 0:o.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return ud.default=r,ud}var Kg;function ew(){if(Kg)return ld;Kg=1,Object.defineProperty(ld,"__esModule",{value:!0});const e=xl.__importDefault(Zy());class r extends e.default{select(s){let i=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:l,referencedTable:o=l}={}){const c=o?`${o}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:l=a}={}){const o=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:l=!1,wal:o=!1,format:c="text"}={}){var f;const m=[s?"analyze":null,i?"verbose":null,a?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),v=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${v}"; options=${m};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return ld.default=r,ld}var Yg;function z0(){if(Yg)return od;Yg=1,Object.defineProperty(od,"__esModule",{value:!0});const e=xl.__importDefault(ew()),r=new RegExp("[,()]");class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(o=>typeof o=="string"&&r.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${c}fts${f}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return od.default=n,od}var Jg;function tw(){if(Jg)return ad;Jg=1,Object.defineProperty(ad,"__esModule",{value:!0});const e=xl.__importDefault(z0());class r{constructor(s,{headers:i={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=l}select(s,i){const{head:a=!1,count:l}=i??{},o=a?"HEAD":"GET";let c=!1;const f=(s??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var l;const o="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(c.length>0){const f=[...new Set(c)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:l,defaultToNull:o=!0}={}){var c;const f="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((v,p)=>v.concat(Object.keys(p)),[]);if(m.length>0){const v=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var a;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return ad.default=r,ad}var Qg;function Y4(){if(Qg)return id;Qg=1,Object.defineProperty(id,"__esModule",{value:!0});const t=xl,e=t.__importDefault(tw()),r=t.__importDefault(z0());class n{constructor(i,{headers:a={},schema:l,fetch:o}={}){this.url=i,this.headers=new Headers(a),this.schemaName=l,this.fetch=o}from(i){const a=new URL(`${this.url}/${i}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:o=!1,count:c}={}){var f;let m;const v=new URL(`${this.url}/rpc/${i}`);let p;l||o?(m=l?"HEAD":"GET",Object.entries(a).filter(([N,j])=>j!==void 0).map(([N,j])=>[N,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([N,j])=>{v.searchParams.append(N,j)})):(m="POST",p=a);const b=new Headers(this.headers);return c&&b.set("Prefer",`count=${c}`),new r.default({method:m,url:v,headers:b,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return id.default=n,id}Object.defineProperty(dn,"__esModule",{value:!0});var rw=dn.PostgrestError=hw=dn.PostgrestBuilder=cw=dn.PostgrestTransformBuilder=lw=dn.PostgrestFilterBuilder=aw=dn.PostgrestQueryBuilder=sw=dn.PostgrestClient=void 0;const Nl=xl,nw=Nl.__importDefault(Y4());var sw=dn.PostgrestClient=nw.default;const iw=Nl.__importDefault(tw());var aw=dn.PostgrestQueryBuilder=iw.default;const ow=Nl.__importDefault(z0());var lw=dn.PostgrestFilterBuilder=ow.default;const uw=Nl.__importDefault(ew());var cw=dn.PostgrestTransformBuilder=uw.default;const dw=Nl.__importDefault(Zy());var hw=dn.PostgrestBuilder=dw.default;const fw=Nl.__importDefault(Xy());rw=dn.PostgrestError=fw.default;var pw=dn.default={PostgrestClient:nw.default,PostgrestQueryBuilder:iw.default,PostgrestFilterBuilder:ow.default,PostgrestTransformBuilder:uw.default,PostgrestBuilder:dw.default,PostgrestError:fw.default};const J4=X2({__proto__:null,get PostgrestBuilder(){return hw},get PostgrestClient(){return sw},get PostgrestError(){return rw},get PostgrestFilterBuilder(){return lw},get PostgrestQueryBuilder(){return aw},get PostgrestTransformBuilder(){return cw},default:pw},[dn]),{PostgrestClient:Q4,PostgrestQueryBuilder:pA,PostgrestFilterBuilder:mA,PostgrestTransformBuilder:gA,PostgrestBuilder:vA,PostgrestError:yA}=pw||J4;class X4{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Z4="2.81.1",eN=`realtime-js/${Z4}`,mw="1.0.0",tN="2.0.0",Xg=mw,wm=1e4,rN=1e3,nN=100;var Ra;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ra||(Ra={}));var kr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(kr||(kr={}));var is;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(is||(is={}));var bm;(function(t){t.websocket="websocket"})(bm||(bm={}));var Ta;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ta||(Ta={}));class sN{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){const{join_ref:r,ref:n,event:s,topic:i,payload:a}=e,l=this.META_LENGTH+r.length+n.length+i.length+s.length,o=new ArrayBuffer(this.HEADER_LENGTH+l);let c=new DataView(o),f=0;c.setUint8(f++,this.KINDS.push),c.setUint8(f++,r.length),c.setUint8(f++,n.length),c.setUint8(f++,i.length),c.setUint8(f++,s.length),Array.from(r,v=>c.setUint8(f++,v.charCodeAt(0))),Array.from(n,v=>c.setUint8(f++,v.charCodeAt(0))),Array.from(i,v=>c.setUint8(f++,v.charCodeAt(0))),Array.from(s,v=>c.setUint8(f++,v.charCodeAt(0)));var m=new Uint8Array(o.byteLength+a.byteLength);return m.set(new Uint8Array(o),0),m.set(new Uint8Array(a),o.byteLength),m.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const{join_ref:s,ref:i,topic:a}=e,l=e.payload.event,o=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),c=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+a.length+l.length,f=new ArrayBuffer(this.HEADER_LENGTH+c);let m=new DataView(f),v=0;m.setUint8(v++,this.KINDS.userBroadcastPush),m.setUint8(v++,s.length),m.setUint8(v++,i.length),m.setUint8(v++,a.length),m.setUint8(v++,l.length),m.setUint8(v++,this.BINARY_ENCODING),Array.from(s,b=>m.setUint8(v++,b.charCodeAt(0))),Array.from(i,b=>m.setUint8(v++,b.charCodeAt(0))),Array.from(a,b=>m.setUint8(v++,b.charCodeAt(0))),Array.from(l,b=>m.setUint8(v++,b.charCodeAt(0)));var p=new Uint8Array(f.byteLength+o.byteLength);return p.set(new Uint8Array(f),0),p.set(new Uint8Array(o),f.byteLength),p.buffer}_encodeJsonUserBroadcastPush(e){var r,n;const{join_ref:s,ref:i,topic:a}=e,l=e.payload.event,o=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer,m=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+a.length+l.length,v=new ArrayBuffer(this.HEADER_LENGTH+m);let p=new DataView(v),b=0;p.setUint8(b++,this.KINDS.userBroadcastPush),p.setUint8(b++,s.length),p.setUint8(b++,i.length),p.setUint8(b++,a.length),p.setUint8(b++,l.length),p.setUint8(b++,this.JSON_ENCODING),Array.from(s,j=>p.setUint8(b++,j.charCodeAt(0))),Array.from(i,j=>p.setUint8(b++,j.charCodeAt(0))),Array.from(a,j=>p.setUint8(b++,j.charCodeAt(0))),Array.from(l,j=>p.setUint8(b++,j.charCodeAt(0)));var N=new Uint8Array(v.byteLength+f.byteLength);return N.set(new Uint8Array(v),0),N.set(new Uint8Array(f),v.byteLength),N.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,a,l,o]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:o})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,s);case this.KINDS.reply:return this._decodeReply(e,r,s);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodePush(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const o=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const f=n.decode(e.slice(l,l+a));l=l+a;const m=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{join_ref:o,ref:null,topic:c,event:f,payload:m}}_decodeReply(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let o=this.HEADER_LENGTH+this.META_LENGTH;const c=n.decode(e.slice(o,o+s));o=o+s;const f=n.decode(e.slice(o,o+i));o=o+i;const m=n.decode(e.slice(o,o+a));o=o+a;const v=n.decode(e.slice(o,o+l));o=o+l;const p=JSON.parse(n.decode(e.slice(o,e.byteLength))),b={status:v,response:p};return{join_ref:c,ref:f,topic:m,event:is.reply,payload:b}}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(e.slice(a,a+s));a=a+s;const o=n.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{join_ref:null,ref:null,topic:l,event:o,payload:c}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let o=this.HEADER_LENGTH+4;const c=n.decode(e.slice(o,o+s));o=o+s;const f=n.decode(e.slice(o,o+i));o=o+i;const m=n.decode(e.slice(o,o+a));o=o+a;const v=e.slice(o,e.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,b={type:this.BROADCAST,event:f,payload:p};return a>0&&(b.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:b}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class gw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Vt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Vt||(Vt={}));const Zg=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=iN(a,t,e,s),i),{}):{}},iN=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?vw(i,a):_m(a)},vw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return uN(e,r)}switch(t){case Vt.bool:return aN(e);case Vt.float4:case Vt.float8:case Vt.int2:case Vt.int4:case Vt.int8:case Vt.numeric:case Vt.oid:return oN(e);case Vt.json:case Vt.jsonb:return lN(e);case Vt.timestamp:return cN(e);case Vt.abstime:case Vt.date:case Vt.daterange:case Vt.int4range:case Vt.int8range:case Vt.money:case Vt.reltime:case Vt.text:case Vt.time:case Vt.timestamptz:case Vt.timetz:case Vt.tsrange:case Vt.tstzrange:return _m(e);default:return _m(e)}},_m=t=>t,aN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},oN=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},lN=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},uN=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>vw(e,l))}return t},cN=t=>typeof t=="string"?t.replace(" ","T"):t,yw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Kf{constructor(e,r,n={},s=wm){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var e2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(e2||(e2={}));class ju{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ju.syncState(this.state,s,i,a),this.pendingDiffs.forEach(o=>{this.state=ju.syncDiff(this.state,o,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ju.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),l={},o={};return this.map(i,(c,f)=>{a[c]||(o[c]=f)}),this.map(a,(c,f)=>{const m=i[c];if(m){const v=f.map(j=>j.presence_ref),p=m.map(j=>j.presence_ref),b=f.filter(j=>p.indexOf(j.presence_ref)<0),N=m.filter(j=>v.indexOf(j.presence_ref)<0);b.length>0&&(l[c]=b),N.length>0&&(o[c]=N)}else l[c]=f}),this.syncDiff(i,{joins:l,leaves:o},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,o)=>{var c;const f=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(o),f.length>0){const m=e[l].map(p=>p.presence_ref),v=f.filter(p=>m.indexOf(p.presence_ref)<0);e[l].unshift(...v)}n(l,f,o)}),this.map(a,(l,o)=>{let c=e[l];if(!c)return;const f=o.map(m=>m.presence_ref);c=c.filter(m=>f.indexOf(m.presence_ref)<0),e[l]=c,s(l,c,o),c.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var t2;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(t2||(t2={}));var Au;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Au||(Au={}));var hi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(hi||(hi={}));class q0{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=kr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Kf(this,is.join,this.params,this.timeout),this.rejoinTimer=new gw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=kr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(is.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new ju(this),this.broadcastEndpointURL=yw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==kr.closed){const{config:{broadcast:a,presence:l,private:o}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[Au.PRESENCE]&&this.bindings[Au.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},v={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:c,private:o};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(hi.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(hi.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket.setAuth(),p===void 0){e==null||e(hi.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,j=(b=N==null?void 0:N.length)!==null&&b!==void 0?b:0,w=[];for(let _=0;_<j;_++){const S=N[_],{filter:{event:I,schema:B,table:Q,filter:T}}=S,M=p&&p[_];if(M&&M.event===I&&M.schema===B&&M.table===Q&&M.filter===T)w.push(Object.assign(Object.assign({},S),{id:M.id}));else{this.unsubscribe(),this.state=kr.errored,e==null||e(hi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(hi.SUBSCRIBED);return}}).receive("error",p=>{this.state=kr.errored,e==null||e(hi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(hi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===kr.joined&&e===Au.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const c=await l.json();o=c.error||c.message||o}catch{}return Promise.reject(new Error(o))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,o;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((o=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=kr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(is.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Kf(this,is.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Kf(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>nN){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:o,leave:c,join:f}=is;if(n&&[l,o,c,f].indexOf(a)>=0&&n!==this._joinRef())return;let v=this._onMessage(a,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var b,N,j;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((j=(N=p.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===a}).map(p=>p.callback(v,n)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var b,N,j,w,_,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const I=p.id,B=(b=p.filter)===null||b===void 0?void 0:b.event;return I&&((N=r.ids)===null||N===void 0?void 0:N.includes(I))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const I=(_=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return I==="*"||I===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:N,table:j,commit_timestamp:w,type:_,errors:S}=b;v=Object.assign(Object.assign({},{schema:N,table:j,commit_timestamp:w,eventType:_,new:{},old:{},errors:S}),this._getPayloadRecords(b))}p.callback(v,n)})}_isClosed(){return this.state===kr.closed}_isJoined(){return this.state===kr.joined}_isJoining(){return this.state===kr.joining}_isLeaving(){return this.state===kr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&q0.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(is.close,{},e)}_onError(e){this._on(is.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Zg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Zg(e.columns,e.old_record)),r}}const Yf=()=>{},dd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dN=[1e3,2e3,5e3,1e4],hN=1e4,fN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pN{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wm,this.transport=null,this.heartbeatIntervalMs=dd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yf,this.ref=0,this.reconnectTimer=null,this.vsn=Xg,this.logger=Yf,this.conn=null,this.sendBuffer=[],this.serializer=new sN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${bm.websocket}`,this.httpEndpoint=yw(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=X4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ra.connecting:return Ta.Connecting;case Ra.open:return Ta.Open;case Ra.closing:return Ta.Closing;default:return Ta.Closed}}isConnected(){return this.connectionState()===Ta.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new q0(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(rN,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},dd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",o=i.status||"";this.log("receive",`${o} ${n} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ra.open||this.conn.readyState===Ra.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(is.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([fN],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:eN};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(is.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new gw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},dd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,l,o,c,f,m,v,p;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:wm,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:dd.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Yf,this.vsn=(o=e==null?void 0:e.vsn)!==null&&o!==void 0?o:Xg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:b=>dN[b-1]||hN,this.vsn){case mw:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:(b,N)=>N(JSON.stringify(b)),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:(b,N)=>N(JSON.parse(b));break;case tN:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class $0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function tr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class mN extends $0{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xm extends $0{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const V0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gN=()=>Response,Nm=t=>{if(Array.isArray(t))return t.map(r=>Nm(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Nm(n)}),e},vN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Jf=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},yN=(t,e,r)=>Ge(void 0,void 0,void 0,function*(){const n=yield gN();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new mN(Jf(s),i,a))}).catch(s=>{e(new xm(Jf(s),s))}):e(new xm(Jf(t),t))}),wN=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(vN(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function nc(t,e,r,n,s,i){return Ge(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,wN(e,n,s,i)).then(o=>{if(!o.ok)throw o;return n!=null&&n.noResolveJson?o:o.json()}).then(o=>a(o)).catch(o=>yN(o,l,n))})})}function Gu(t,e,r,n){return Ge(this,void 0,void 0,function*(){return nc(t,"GET",e,r,n)})}function As(t,e,r,n,s){return Ge(this,void 0,void 0,function*(){return nc(t,"POST",e,n,s,r)})}function Sm(t,e,r,n,s){return Ge(this,void 0,void 0,function*(){return nc(t,"PUT",e,n,s,r)})}function bN(t,e,r,n){return Ge(this,void 0,void 0,function*(){return nc(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function H0(t,e,r,n,s){return Ge(this,void 0,void 0,function*(){return nc(t,"DELETE",e,n,s,r)})}class _N{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Ge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tr(e))return{data:null,error:e};throw e}})}}var ww;class xN{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[ww]="BlobDownloadBuilder",this.promise=null}asStream(){return new _N(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ge(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tr(e))return{data:null,error:e};throw e}})}}ww=Symbol.toStringTag;const NN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},r2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class SN{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=V0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return Ge(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},r2),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const o=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),o&&i.append("metadata",this.encodeMetadata(o)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),o&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(o))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(r),f=this._getFinalPath(c),m=yield(e=="PUT"?Sm:As)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tr(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Ge(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let o;const c=Object.assign({upsert:r2.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",c.cacheControl)):(o=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType);const m=yield Sm(this.fetch,l.toString(),o,{headers:f});return{data:{path:i,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tr(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,r){return Ge(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield As(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new $0("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tr(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ge(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tr(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Ge(this,void 0,void 0,function*(){try{return{data:{path:(yield As(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tr(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Ge(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield As(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tr(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Ge(this,void 0,void 0,function*(){try{const s=yield As(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tr(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(e),o=()=>Gu(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new xN(o,this.shouldThrowOnError)}info(e){return Ge(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Gu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Nm(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tr(n))return{data:null,error:n};throw n}})}exists(e){return Ge(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield bN(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tr(n)&&n instanceof xm){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});o!==""&&s.push(o);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield H0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tr(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ge(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},NN),r),{prefix:e||""});return{data:yield As(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tr(s))return{data:null,error:s};throw s}})}listV2(e,r){return Ge(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield As(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tr(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const bw="2.81.1",_w={"X-Client-Info":`storage-js/${bw}`};class jN{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_w),r),this.fetch=V0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ge(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Gu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tr(r))return{data:null,error:r};throw r}})}getBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield Gu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tr(r))return{data:null,error:r};throw r}})}createBucket(e){return Ge(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield As(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tr(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return Ge(this,void 0,void 0,function*(){try{return{data:yield Sm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield H0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class AN{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_w),r),this.fetch=V0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tr(r))return{data:null,error:r};throw r}})}listBuckets(e){return Ge(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Gu(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield H0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tr(r))return{data:null,error:r};throw r}})}}const W0={"X-Client-Info":`storage-js/${bw}`,"Content-Type":"application/json"};class xw extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Un(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Qf extends xw{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kN extends xw{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var n2;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(n2||(n2={}));const G0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),CN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},s2=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),EN=(t,e,r)=>Ge(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new Qf(s2(a),s,l))}).catch(()=>{const a=s+"",l=i.statusText||`HTTP ${s} error`;e(new Qf(l,s,a))});else{const a=s+"",l=i.statusText||`HTTP ${s} error`;e(new Qf(l,s,a))}}else e(new kN(s2(t),t))}),LN=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(CN(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function PN(t,e,r,n,s,i){return Ge(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,LN(e,n,s,i)).then(o=>{if(!o.ok)throw o;if(n!=null&&n.noResolveJson)return o;const c=o.headers.get("content-type");return!c||!c.includes("application/json")?{}:o.json()}).then(o=>a(o)).catch(o=>EN(o,l,n))})})}function zn(t,e,r,n,s){return Ge(this,void 0,void 0,function*(){return PN(t,"POST",e,n,s,r)})}class ON{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},W0),r),this.fetch=G0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ge(this,void 0,void 0,function*(){try{return{data:(yield zn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Ge(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Un(n))return{data:null,error:n};throw n}})}listIndexes(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Ge(this,void 0,void 0,function*(){try{return{data:(yield zn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Un(n))return{data:null,error:n};throw n}})}}class IN{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},W0),r),this.fetch=G0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ge(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield zn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}getVectors(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}listVectors(e){return Ge(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield zn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}queryVectors(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Ge(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield zn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}}class RN{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},W0),r),this.fetch=G0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:(yield zn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}getBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}listBuckets(){return Ge(this,arguments,void 0,function*(e={}){try{return{data:yield zn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:(yield zn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Un(r))return{data:null,error:r};throw r}})}}class TN extends RN{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new FN(this.url,this.headers,e,this.fetch)}}class FN extends ON{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ge(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ge(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ge(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ge(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new DN(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class DN extends IN{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ge(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ge(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ge(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ge(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ge(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class MN extends jN{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new SN(this.url,this.headers,e,this.fetch)}get vectors(){return new TN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new AN(this.url+"/iceberg",this.headers,this.fetch)}}const BN="2.81.1";let pu="";typeof Deno<"u"?pu="deno":typeof document<"u"?pu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pu="react-native":pu="node";const UN={"X-Client-Info":`supabase-js-${pu}/${BN}`},zN={headers:UN},qN={schema:"public"},$N={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VN={},HN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),WN=()=>Headers,GN=(t,e,r)=>{const n=HN(r),s=WN();return async(i,a)=>{var l;const o=(l=await e())!==null&&l!==void 0?l:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${o}`),n(i,Object.assign(Object.assign({},a),{headers:c}))}};function KN(t){return t.endsWith("/")?t:t+"/"}function YN(t,e){var r,n;const{db:s,auth:i,realtime:a,global:l}=t,{db:o,auth:c,realtime:f,global:m}=e,v={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function JN(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(KN(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Nw="2.81.1",Po=30*1e3,jm=3,Xf=jm*Po,QN="http://localhost:9999",XN="supabase.auth.token",ZN={"X-Client-Info":`gotrue-js/${Nw}`},Am="X-Supabase-Api-Version",Sw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tS=10*60*1e3;class Ku extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Je(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rS extends Ku{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function nS(t){return Je(t)&&t.name==="AuthApiError"}class Fa extends Ku{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ga extends Ku{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class xs extends ga{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sS(t){return Je(t)&&t.name==="AuthSessionMissingError"}class So extends ga{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hd extends ga{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class fd extends ga{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iS(t){return Je(t)&&t.name==="AuthImplicitGrantRedirectError"}class i2 extends ga{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class km extends ga{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Zf(t){return Je(t)&&t.name==="AuthRetryableFetchError"}class a2 extends ga{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Cm extends ga{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const oh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),o2=` 	
\r=`.split(""),aS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<o2.length;e+=1)t[o2[e].charCodeAt(0)]=-2;for(let e=0;e<oh.length;e+=1)t[oh[e].charCodeAt(0)]=e;return t})();function l2(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(oh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(oh[n]),e.queuedBits-=6}}function jw(t,e,r){const n=aS[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function u2(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{uS(a,n,r)};for(let a=0;a<t.length;a+=1)jw(t.charCodeAt(a),s,i);return e.join("")}function oS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function lS(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}oS(n,e)}}function uS(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function tl(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)jw(t.charCodeAt(s),r,n);return new Uint8Array(e)}function cS(t){const e=[];return lS(t,r=>e.push(r)),new Uint8Array(e)}function za(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>l2(s,r,n)),l2(null,r,n),e.join("")}function dS(t){return Math.round(Date.now()/1e3)+t}function hS(){return Symbol("auth-callback")}const zr=()=>typeof window<"u"&&typeof document<"u",Ca={tested:!1,writable:!1},Aw=()=>{if(!zr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ca.tested)return Ca.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ca.tested=!0,Ca.writable=!0}catch{Ca.tested=!0,Ca.writable=!1}return Ca.writable};function fS(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const kw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),pS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Oo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ea=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},zi=async(t,e)=>{await t.removeItem(e)};class Ih{constructor(){this.promise=new Ih.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ih.promiseConstructor=Promise;function ep(t){const e=t.split(".");if(e.length!==3)throw new Cm("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!eS.test(e[n]))throw new Cm("JWT not in base64url format");return{header:JSON.parse(u2(e[0])),payload:JSON.parse(u2(e[1])),signature:tl(e[2]),raw:{header:e[0],payload:e[1]}}}async function mS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gS(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function vS(t){return("0"+t.toString(16)).substr(-2)}function yS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,vS).join("")}async function wS(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function bS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await wS(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jo(t,e,r=!1){const n=yS();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Oo(t,`${e}-code-verifier`,s);const i=await bS(n);return[i,n===i?"plain":"s256"]}const _S=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xS(t){const e=t.headers.get(Am);if(!e||!e.match(_S))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function NS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function SS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ao(t){if(!jS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function AS(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function c2(t){return JSON.parse(JSON.stringify(t))}const Oa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kS=[502,503,504];async function d2(t){var e;if(!pS(t))throw new km(Oa(t),0);if(kS.includes(t.status))throw new km(Oa(t),t.status);let r;try{r=await t.json()}catch(i){throw new Fa(Oa(i),i)}let n;const s=xS(t);if(s&&s.getTime()>=Sw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new a2(Oa(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new xs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new a2(Oa(r),t.status,r.weak_password.reasons);throw new rS(Oa(r),t.status||500,n)}const CS=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function st(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Am]||(i[Am]=Sw["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",o=await ES(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(o):{data:Object.assign({},o),error:null}}async function ES(t,e,r,n,s,i){const a=CS(e,n,s,i);let l;try{l=await t(r,Object.assign({},a))}catch(o){throw console.error(o),new km(Oa(o),0)}if(l.ok||await d2(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(o){await d2(o)}}function Ns(t){var e;let r=null;OS(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=dS(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function h2(t){const e=Ns(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ki(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function LS(t){return{data:t,error:null}}function PS(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=_l(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},o=Object.assign({},a);return{data:{properties:l,user:o},error:null}}function f2(t){return t}function OS(t){return t.access_token&&t.refresh_token&&t.expires_in}const rp=["global","local","others"];class IS{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=kw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=rp[0]){if(rp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rp.join(", ")}`);try{return await st(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await st(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ki})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=_l(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await st(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:PS,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Je(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await st(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ki})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,l,o;try{const c={nextPage:null,lastPage:0,total:0},f=await st(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:f2});if(f.error)throw f.error;const m=await f.json(),v=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return p.length>0&&(p.forEach(b=>{const N=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);c[`${j}Page`]=N}),c.total=parseInt(v)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(Je(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Ao(e);try{return await st(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ki})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ao(e);try{return await st(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ki})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Ao(e);try{return await st(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ki})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ao(e.userId);try{const{data:r,error:n}=await st(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ao(e.userId),Ao(e.id);try{return{data:await st(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,l,o;try{const c={nextPage:null,lastPage:0,total:0},f=await st(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:f2});if(f.error)throw f.error;const m=await f.json(),v=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return p.length>0&&(p.forEach(b=>{const N=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);c[`${j}Page`]=N}),c.total=parseInt(v)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(Je(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await st(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await st(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await st(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await st(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await st(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Je(r))return{data:null,error:r};throw r}}}function p2(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ko={debug:!!(globalThis&&Aw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class RS extends Cw{}async function TS(t,e,r){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ko.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new RS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ko.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function FS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ew(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function DS(t){return parseInt(t,16)}function MS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function BS(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:o,resources:c,scheme:f,uri:m,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Ew(t.address),b=f?`${f}://${n}`:n,N=t.statement?`${t.statement}
`:"",j=`${b} wants you to sign in with your Ethereum account:
${p}

${N}`;let w=`URI: ${m}
Version: ${v}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),o&&(w+=`
Request ID: ${o}`),c){let _=`
Resources:`;for(const S of c){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);_+=`
- ${S}`}w+=_}return`${j}
${w}`}class _r extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class lh extends _r{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function US({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _r({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new _r({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new _r({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new _r({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new _r({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new _r({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new _r({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new _r({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Lw(a)){if(i.rp.id!==a)return new _r({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new _r({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new _r({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function zS({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _r({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new _r({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Lw(n)){if(r.rpId!==n)return new _r({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new _r({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class qS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const $S=new qS;function VS(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=_l(t,["challenge","user","excludeCredentials"]),i=tl(e).buffer,a=Object.assign(Object.assign({},r),{id:tl(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const c=n[o];l.excludeCredentials[o]=Object.assign(Object.assign({},c),{id:tl(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function HS(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=_l(t,["challenge","allowCredentials"]),s=tl(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:tl(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function WS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:za(new Uint8Array(t.response.attestationObject)),clientDataJSON:za(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function GS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:za(new Uint8Array(s.authenticatorData)),clientDataJSON:za(new Uint8Array(s.clientDataJSON)),signature:za(new Uint8Array(s.signature)),userHandle:s.userHandle?za(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Lw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function m2(){var t,e;return!!(zr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function KS(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new lh("Browser returned unexpected credential type",e)}:{data:null,error:new lh("Empty credential response",e)}}catch(e){return{data:null,error:US({error:e,options:t})}}}async function YS(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new lh("Browser returned unexpected credential type",e)}:{data:null,error:new lh("Empty credential response",e)}}catch(e){return{data:null,error:zS({error:e,options:t})}}}const JS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},QS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function uh(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const l=n[i];e(l)?n[i]=uh(l,a):n[i]=uh(a)}else n[i]=a}return n}function XS(t,e){return uh(JS,t,e||{})}function ZS(t,e){return uh(QS,t,e||{})}class ej{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:l};const o=s??$S.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=XS(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:m}=await KS({publicKey:c,signal:o});return f?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}case"request":{const c=ZS(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:m}=await YS(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:o}));return f?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}}}catch(a){return Je(a)?{data:null,error:a}:{data:null,error:new Fa("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ku("rpId is required for WebAuthn authentication")};try{if(!m2())return{data:null,error:new Fa("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:o}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:o.type,rpId:r,rpOrigins:n,credential_response:o.credential_response}})}catch(a){return Je(a)?{data:null,error:a}:{data:null,error:new Fa("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ku("rpId is required for WebAuthn registration")};try{if(!m2())return{data:null,error:new Fa("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(f=>{var m;return(m=f.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:o,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return o?this._verify({factorId:a.id,challengeId:o.challengeId,webauthn:{rpId:r,rpOrigins:n,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:c}}catch(a){return Je(a)?{data:null,error:a}:{data:null,error:new Fa("Unexpected error in register",a)}}}}FS();const tj={url:QN,storageKey:XN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ZN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function g2(t,e,r){return await r()}const Co={};class Yu{get jwks(){var e,r;return(r=(e=Co[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Co[this.storageKey]=Object.assign(Object.assign({},Co[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Co[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Co[this.storageKey]=Object.assign(Object.assign({},Co[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},tj),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Yu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Yu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&zr()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new IS({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=kw(i.fetch),this.lock=i.lock||g2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:zr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=TS:this.lock=g2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ej(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Aw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=p2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=p2(this.memoryStorage)),zr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Nw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(zr()&&(r=fS(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),zr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),iS(i)){const o=(e=i.details)===null||e===void 0?void 0:e.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Je(r)?this._returnResult({error:r}):this._returnResult({error:new Fa("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ns}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const o=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:c,session:o},error:null})}catch(i){if(Je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:f,password:m,options:v}=e;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await jo(this.storage,this.storageKey)),i=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:f,password:m,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:p,code_challenge_method:b},xform:Ns})}else if("phone"in e){const{phone:f,password:m,options:v}=e;i=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Ns})}else throw new hd("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const o=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:c,session:o},error:null})}catch(i){if(Je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:l}=e;r=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:h2})}else if("phone"in e){const{phone:i,password:a,options:l}=e;r=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:h2})}else throw new hd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new So;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,l,o,c,f,m,v;let p,b;if("message"in e)p=e.message,b=e.signature;else{const{chain:N,wallet:j,statement:w,options:_}=e;let S;if(zr())if(typeof j=="object")S=j;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")S=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=j}const I=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href),B=await S.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=Ew(B[0]);let T=(n=_==null?void 0:_.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const K=await S.request({method:"eth_chainId"});T=DS(K)}const M={domain:I.host,address:Q,statement:w,uri:I.href,version:"1",chainId:T,nonce:(s=_==null?void 0:_.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=_==null?void 0:_.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=_==null?void 0:_.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=_==null?void 0:_.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(c=_==null?void 0:_.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(f=_==null?void 0:_.signInWithEthereum)===null||f===void 0?void 0:f.resources};p=BS(M),b=await S.request({method:"personal_sign",params:[MS(p),Q]})}try{const{data:N,error:j}=await st(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:b},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ns});if(j)throw j;if(!N||!N.session||!N.user){const w=new So;return this._returnResult({data:{user:null,session:null},error:w})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:j})}catch(N){if(Je(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(e){var r,n,s,i,a,l,o,c,f,m,v,p;let b,N;if("message"in e)b=e.message,N=e.signature;else{const{chain:j,wallet:w,statement:_,options:S}=e;let I;if(zr())if(typeof w=="object")I=w;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))I=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=w}const B=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in I&&I.signIn){const Q=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),_?{statement:_}:null));let T;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")T=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)T=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)b=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),N=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${B.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(s=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((m=(f=S==null?void 0:S.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...S.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const Q=await I.signMessage(new TextEncoder().encode(b),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=Q}}try{const{data:j,error:w}=await st(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:za(N)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ns});if(w)throw w;if(!j||!j.session||!j.user){const _=new So;return this._returnResult({data:{user:null,session:null},error:_})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:w})}catch(j){if(Je(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(e){const r=await Ea(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await st(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ns});if(await zi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new So;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Je(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,l=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ns}),{data:o,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o||!o.session||!o.user){const f=new So;return this._returnResult({data:{user:null,session:null},error:f})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:c})}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:l,options:o}=e;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await jo(this.storage,this.storageKey));const{error:m}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(n=o==null?void 0:o.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:l,options:o}=e,{data:c,error:f}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=o==null?void 0:o.data)!==null&&s!==void 0?s:{},create_user:(i=o==null?void 0:o.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(a=o==null?void 0:o.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f})}throw new hd("You must provide either an email or phone number.")}catch(l){if(Je(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await st(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ns});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,c=a.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:c,session:o},error:null})}catch(s){if(Je(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,a;try{let l=null,o=null;this.flowType==="pkce"&&([l,o]=await jo(this.storage,this.storageKey));const c=await st(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:o}),headers:this.headers,xform:LS});return!((i=c.data)===null||i===void 0)&&i.url&&zr()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(l){if(Je(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new xs;const{error:s}=await st(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Je(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await st(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:l}=await st(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new hd("You must provide either an email or phone number and a type")}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Xf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Ea(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=tp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=AS(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ki}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xs}:await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ki})})}catch(r){if(Je(r))return sS(r)&&(await this._removeSession(),await zi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new xs;const a=s.session;let l=null,o=null;this.flowType==="pkce"&&e.email!=null&&([l,o]=await jo(this.storage,this.storageKey));const{data:c,error:f}=await st(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:o}),jwt:a.access_token,xform:Ki});if(f)throw f;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(Je(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xs;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=ep(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:o}=await this._callRefreshToken(e.refresh_token);if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:o}=await this._getUser(e.access_token);if(o)throw o;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Je(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:l}=r;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new xs;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!zr())throw new fd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new fd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new i2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new i2("No code detected.");const{data:_,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:o,token_type:c}=e;if(!i||!l||!a||!c)throw new fd("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(l);let v=f+m;o&&(v=parseInt(o));const p=v-f;p*1e3<=Po&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const b=v-m;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,f);const{data:N,error:j}=await this._getUser(i);if(j)throw j;const w={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:m,expires_at:v,refresh_token:a,token_type:c,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(n){if(Je(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ea(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(nS(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await zi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=hS(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await jo(this.storage,this.storageKey,!0));try{return await st(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Je(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,o,c,f;const{data:m,error:v}=i;if(v)throw v;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await st(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(c=m.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return zr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Je(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:o,access_token:c,nonce:f}=e,m=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:o,access_token:c,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ns}),{data:v,error:p}=m;return p?this._returnResult({data:{user:null,session:null},error:p}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new So}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:p}))}catch(s){if(Je(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await st(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gS(async s=>(s>0&&await mS(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await st(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ns})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Zf(i)&&Date.now()+a-n<Po})}catch(n){if(this._debug(r,"error",n),Je(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),zr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Ea(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Ea(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Oo(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:tp()}else if(s&&!s.user&&!s.user){const a=await Ea(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await zi(this.storage,this.storageKey+"-user"),await Oo(this.storage,this.storageKey,s)):s.user=tp()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Xf;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Xf}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Zf(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new xs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ih;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new xs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Je(i)){const a={data:null,error:i};return Zf(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(o){i.push(o)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Oo(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=c2(s);await Oo(this.storage,this.storageKey,i)}else{const s=c2(r);await Oo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await zi(this.storage,this.storageKey),await zi(this.storage,this.storageKey+"-code-verifier"),await zi(this.storage,this.storageKey+"-user"),this.userStorage&&await zi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&zr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Po);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Po);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Po}ms, refresh threshold is ${jm} ticks`),s<=jm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Cw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await jo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await st(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:o,error:c}=await st(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&o.type==="totp"&&(!((s=o==null?void 0:o.totp)===null||s===void 0)&&s.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?WS(e.webauthn.credential_response):GS(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:o}=await st(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:o}))})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await st(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:VS(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:HS(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ep(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await st(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new xs})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new xs});const a=await st(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&zr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new xs});const a=await st(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&zr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+tS>s)return n;const{data:i,error:a}=await st(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return this._returnResult({data:null,error:b});n=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:o}}=ep(n);r!=null&&r.allowExpired||NS(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const f=SS(s.alg),m=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,a,cS(`${l}.${o}`)))throw new Cm("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}}Yu.nextInstanceID={};const rj=Yu;class nj extends rj{constructor(e){super(e)}}class sj{constructor(e,r,n){var s,i,a;this.supabaseUrl=e,this.supabaseKey=r;const l=JN(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:qN,realtime:VN,auth:Object.assign(Object.assign({},$N),{storageKey:o}),global:zN},f=YN(n??{},c);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=GN(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new Q4(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new MN(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new K4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:l,lock:o,debug:c,throwOnError:f},m,v){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nj({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),m),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:o,debug:c,throwOnError:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new pN(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ij=(t,e,r)=>new sj(t,e,r);function aj(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}aj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const oj="https://wfxdvgwlfpqkadkvwbzg.supabase.co",lj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndmeGR2Z3dsZnBxa2Fka3Z3YnpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NDgxNTIsImV4cCI6MjA3ODQyNDE1Mn0.svO7O2XMoCOHDCt6zxchQOzQD05X1Y3onxqcXplA5gk",yt=ij(oj,lj),wt={applications:"applications",academicYears:"academic_year",groups:"groups",courses:"courses",subCategories:"subject_category",subjects:"subjects",batches:"batches",students:"students",exams:"exams",payments:"payments",hallTickets:"hall_tickets",results:"results",feeDefinitions:"fee_definitions",feeCategories:"fee_categories"},bt=async(t,e)=>{const{data:r,error:n}=await t;if(n)throw console.error(e??"Supabase query failed",n),new Error(e||n.message);return r},uj=async(t,e)=>{const{data:r,error:n}=await t;if(n&&n.code!=="PGRST116")throw console.error(e,n),new Error(e);return r??null},np=(t={})=>({id:t.id,name:t.academic_year,active:t.status===void 0?!0:!!t.status}),v2=({name:t,active:e})=>({academic_year:t,status:e?1:0}),sp=(t={})=>({id:t.group_id??t.id,code:t.group_code,name:t.group_name,years:t.duration_years??0,semesters:t.number_semesters??0}),y2=({code:t,name:e,years:r,semesters:n})=>({group_code:t,group_name:e,duration_years:r??null,number_semesters:n??null}),ip=(t={})=>{const e=t.course_code||t.code,r=t.course_name||t.name,n=t.group_name||t.group_code||t.groupCode||"",s=Number(t.no_of_semesters??t.semesters??0)||0,i=t.duration_years??(s?Math.ceil(s/2):null);return{id:t.course_id??t.id,code:e,name:r,courseCode:e,courseName:r,group_code:n,groupCode:n,semesters:s,duration_years:i}},w2=({code:t,name:e,group_code:r,groupCode:n,semesters:s,duration_years:i})=>({course_code:t,course_name:e,group_name:r||n||null,no_of_semesters:s??null,duration_years:i??(s?Math.ceil(s/2):null)}),cj=t=>{if(!t&&t!==0)return[];if(Array.isArray(t))return t.filter(Boolean);if(typeof t=="string"){const e=t.trim();if(!e)return[];try{const r=JSON.parse(e);if(Array.isArray(r))return r.filter(Boolean)}catch{}return e.split(/[\r\n,]+/).map(r=>r.trim()).filter(Boolean)}try{const e=JSON.parse(t);if(Array.isArray(e))return e.filter(Boolean)}catch{}return[]},ap=(t={})=>({id:t.category_id??t.id,name:t.category_name,subjects:cj(t.subjects_name)}),b2=({name:t,subjects:e})=>({category_name:t,category_count:Array.isArray(e)?e.length:0,subjects_name:JSON.stringify(Array.isArray(e)?e:[])}),_2=(t={})=>{var i;const e=t.semester_number??t.semester??"",r=t.amount??t.fee_amount,n=t.subject_code||t.subjectName||t.subject_name||"",s=t.subject_name||t.subjectName||n;return{id:t.subject_id??t.id,subjectId:t.subject_id??t.id??"",academicYearId:t.academic_year_id||t.academicYearId||"",academicYearName:t.academic_year_name||t.academic_year||t.academicYearName||"",groupCode:t.group_code||t.groupCode||"",courseCode:t.course_code||t.courseCode||t.course_name||"",courseName:t.course_name||t.courseName||t.course_code||"",semester:e===""||e===void 0||e===null?"":Number(e),categoryId:t.category_id??t.categoryId??"",category:t.category||t.category_name||((i=t.subject_category)==null?void 0:i.category_name)||"",subjectCode:n,subjectName:s,feeCategory:t.fee_category||t.feeCategory||t.fees_category||"",feeAmount:r==null||r===""?"":Number(r)}},dj=(t={})=>{const e=t.semester??t.semester_number??t.semesterNumber??null,r=e===""||e===void 0||e===null?null:Number(e),n=t.amount??t.feeAmount??t.fee_amount,s=n===""||n===void 0||n===null?null:Number(n),i=t.subject_id||t.subjectId||t.id,a={academic_year:t.academic_year||t.academicYearName||t.academicYear||null,course_name:t.course_name||t.courseName||t.courseCode||null,semester_number:r,category_id:t.category_id??t.categoryId??null,subject_code:t.subject_code||t.subjectCode||t.subject_name||t.subjectName||null,subject_name:t.subject_name||t.subjectName||t.subject_code||t.subjectCode||null,fees_category:t.fees_category||t.feeCategory||null,amount:s};return i&&(a.subject_id=i),a},hj=(t={})=>({id:t.id,student_id:t.student_id,admission_no:t.admission_no,ht_no:t.ht_no,academic_year:t.academic_year,group:t.group_code||t.group,course_id:t.course_code||t.course_id,full_name:t.full_name,gender:t.gender,dob:t.dob,father_name:t.father_name,mother_name:t.mother_name,nationality:t.nationality,state:t.state,aadhar_no:t.aadhar_number,postal_code:t.postal_code,address:t.address,mobile:t.mobile,email:t.email,religion:t.religion,caste:t.caste,sub_caste:t.sub_caste,photo_url:t.photo_url,cert_url:t.cert_url,status:t.status||"PENDING",created_at:t.created_at}),fj=(t={})=>({student_id:t.student_id||null,admission_no:t.admission_no||null,ht_no:t.ht_no||null,academic_year:t.academic_year||null,group_code:t.group||t.group_code||null,course_code:t.course_id||t.course_code||null,full_name:t.full_name||null,gender:t.gender||null,dob:t.dob||null,father_name:t.father_name||null,mother_name:t.mother_name||null,nationality:t.nationality||null,state:t.state||null,aadhar_number:t.aadhar_no||null,postal_code:t.postal_code||null,address:t.address||null,mobile:t.mobile||null,email:t.email||null,religion:t.religion||null,caste:t.caste||null,sub_caste:t.sub_caste||null,photo_url:t.photo_url||null,cert_url:t.cert_url||null,status:t.status||"PENDING"}),pj=(t={})=>({id:t.id??t.student_id,student_id:t.student_id,hall_ticket_no:t.hall_ticket_no||t.hallticket_no,hallticket_no:t.hall_ticket_no||t.hallticket_no,full_name:t.full_name,academic_year:t.academic_year,group:t.group_name||t.group,course_id:t.course_name||t.course_id,course_name:t.course_name,gender:t.gender,dob:t.date_of_birth||t.dob,mobile:t.phone_number||t.mobile,email:t.email,address:t.address,father_name:t.father_name,mother_name:t.mother_name,nationality:t.nationality,state:t.state,aadhar_no:t.aadhar_number||t.aadhar_no,postal_code:t.pincode||t.postal_code,religion:t.religion,caste:t.caste,sub_caste:t.sub_caste,photo_url:t.photo_url,cert_url:t.cert_url,status:t.status||"ACTIVE",created_at:t.created_at}),mj=(t={})=>({student_id:t.student_id,hall_ticket_no:t.hall_ticket_no||t.hallticket_no||null,academic_year:t.academic_year||null,group_name:t.group||t.group_name||null,course_name:t.course_id||t.course_name||null,full_name:t.full_name||null,gender:t.gender||null,date_of_birth:t.dob||t.date_of_birth||null,father_name:t.father_name||null,mother_name:t.mother_name||null,nationality:t.nationality||null,state:t.state||null,aadhar_number:t.aadhar_no||t.aadhar_number||null,address:t.address||null,pincode:t.postal_code||t.pincode||null,phone_number:t.mobile||t.phone_number||null,religion:t.religion||null,caste:t.caste||null,sub_caste:t.sub_caste||null,photo_url:t.photo_url||null,cert_url:t.cert_url||null,status:t.status||"ACTIVE"}),x2=(t={})=>({id:t.id,name:t.name,created_at:t.created_at}),gj=({name:t})=>({name:t}),vj=(t={})=>({id:t.id,title:t.title,date:t.date||t.exam_date,time:t.time||t.exam_time,venue:t.venue,course_id:t.course_id,created_at:t.created_at}),yj=({title:t,date:e,time:r,venue:n,course_id:s})=>({title:t,exam_date:e,exam_time:r,venue:n,course_id:s||null}),wj=(t={})=>({id:t.id??t.fee_id,academic_year:t.academic_year,group:t.group_code||t.group,group_code:t.group_code,course_code:t.course_code,semester:t.semester_number??t.semester,payment_type:t.payment_type,amount:t.amount}),bj=(t={})=>({academic_year:t.academic_year,group_code:t.group||t.group_code,course_code:t.course_code,semester_number:t.semester,payment_type:t.payment_type,amount:t.amount}),_j=(t={})=>({id:t.id??t.result_id,student_id:t.student_id,exam_id:t.exam_id,total:t.total,grade:t.grade??t.result_status,created_at:t.created_at}),xj=(t={})=>({student_id:t.student_id,exam_id:t.exam_id,total:t.total,grade:t.grade}),Nj=(t={})=>({id:t.id,name:t.name,fees:t.fees||[]}),Sj=(t={})=>({id:t.id,name:t.name,fees:t.fees||[]}),jj=[{email:"admin@vijayam.edu",role:"ADMIN"},{email:"principal@vijayam.edu",role:"PRINCIPAL"}],Ae={submitApplication:async t=>(await bt(yt.from(wt.applications).insert(fj(t)),"Unable to submit application"),{ok:!0}),login:async t=>{const e=jj.find(r=>r.email.toLowerCase()===String(t).toLowerCase());if(!e)throw new Error("Access denied");return{...e}},listApplications:async()=>(await bt(yt.from(wt.applications).select("*").order("created_at",{ascending:!1}),"Unable to load applications")).map(hj),approveApplication:async(t,e)=>{const r=mj(e);await bt(yt.from(wt.students).insert(r),"Unable to create student record"),await bt(yt.from(wt.applications).update({status:"APPROVED"}).eq("id",t),"Unable to update application status")},deleteApplication:async t=>{await bt(yt.from(wt.applications).delete().eq("id",t),"Unable to delete application")},listAcademicYears:async()=>(await bt(yt.from(wt.academicYears).select("id, academic_year, status").order("academic_year"),"Unable to fetch academic years")).map(np),addAcademicYear:async t=>{const e=await bt(yt.from(wt.academicYears).insert(v2(t)).select("id, academic_year, status").single(),"Unable to add academic year");return np(e)},updateAcademicYear:async(t,e)=>{const r=await bt(yt.from(wt.academicYears).update(v2(e)).eq("id",t).select("id, academic_year, status").single(),"Unable to update academic year");return np(r)},deleteAcademicYear:async t=>{await bt(yt.from(wt.academicYears).delete().eq("id",t),"Unable to delete academic year")},listGroups:async()=>(await bt(yt.from(wt.groups).select("group_id, group_code, group_name, duration_years, number_semesters").order("group_code"),"Unable to fetch groups")).map(sp),addGroup:async t=>{const e=await bt(yt.from(wt.groups).insert(y2(t)).select("group_id, group_code, group_name, duration_years, number_semesters").single(),"Unable to add group");return sp(e)},updateGroup:async(t,e)=>{const r=await bt(yt.from(wt.groups).update(y2(e)).eq("group_id",t).select("group_id, group_code, group_name, duration_years, number_semesters").single(),"Unable to update group");return sp(r)},deleteGroup:async t=>{await bt(yt.from(wt.groups).delete().eq("group_id",t),"Unable to delete group")},listCourses:async()=>(await bt(yt.from(wt.courses).select("course_id, course_code, course_name, group_name, no_of_semesters, duration_years").order("course_code"),"Unable to fetch courses")).map(ip),addCourse:async t=>{const e=await bt(yt.from(wt.courses).insert(w2(t)).select("course_id, course_code, course_name, group_name, no_of_semesters, duration_years").single(),"Unable to add course");return ip(e)},updateCourse:async(t,e)=>{const r=await bt(yt.from(wt.courses).update(w2(e)).eq("course_id",t).select("course_id, course_code, course_name, group_name, no_of_semesters, duration_years").single(),"Unable to update course");return ip(r)},deleteCourse:async t=>{await bt(yt.from(wt.courses).delete().eq("course_id",t),"Unable to delete course")},listSubCategories:async()=>(await bt(yt.from(wt.subCategories).select("category_id, category_name, subjects_name").order("category_name"),"Unable to fetch sub-categories")).map(ap),addSubCategory:async t=>{const e=await bt(yt.from(wt.subCategories).insert(b2({name:t,subjects:[]})).select("category_id, category_name, subjects_name").single(),"Unable to add sub-category");return ap(e)},updateSubCategory:async(t,{name:e,subjects:r})=>{const n=await bt(yt.from(wt.subCategories).update(b2({name:e,subjects:r})).eq("category_id",t).select("category_id, category_name, subjects_name").single(),"Unable to update sub-category");return ap(n)},deleteSubCategory:async t=>{await bt(yt.from(wt.subCategories).delete().eq("category_id",t),"Unable to delete sub-category")},listSubjects:async()=>(await bt(yt.from(wt.subjects).select("subject_id, academic_year, course_name, semester_number, category_id, subject_code, subject_name, fees_category, amount, subject_category:subject_category(category_name)").order("academic_year",{ascending:!1}).order("course_name").order("semester_number"),"Unable to fetch subjects")).map(_2),addSubjects:async(t=[])=>!Array.isArray(t)||!t.length?[]:(await bt(yt.from(wt.subjects).upsert(t.map(dj),{onConflict:"subject_id"}).select("subject_id, academic_year, course_name, semester_number, category_id, subject_code, subject_name, fees_category, amount, subject_category:subject_category(category_name)"),"Unable to save subjects")).map(_2),deleteSubject:async t=>{t&&await bt(yt.from(wt.subjects).delete().eq("subject_id",t),"Unable to delete subject")},listBatches:async()=>(await bt(yt.from(wt.batches).select("id, name, created_at").order("created_at",{ascending:!1}),"Unable to fetch batches")).map(x2),addBatch:async t=>{const e=await bt(yt.from(wt.batches).insert(gj(t)).select("id, name, created_at").single(),"Unable to add batch");return x2(e)},listStudents:async()=>(await bt(yt.from(wt.students).select("id, student_id, hall_ticket_no, hallticket_no, academic_year, group_name, course_name, full_name, gender, date_of_birth, phone_number, email, address, father_name, mother_name, nationality, state, aadhar_number, pincode, religion, caste, sub_caste, photo_url, cert_url, status, created_at").order("created_at",{ascending:!1}),"Unable to fetch students")).map(pj),listExams:async()=>(await bt(yt.from(wt.exams).select("id, title, exam_date, exam_time, venue, course_id, created_at").order("exam_date",{ascending:!1}),"Unable to fetch exams")).map(vj),addExam:async t=>{await bt(yt.from(wt.exams).insert(yj(t)),"Unable to add exam")},addPayment:async t=>{await bt(yt.from(wt.payments).insert({student_id:t.student_id,amount:Number(t.amount),method:t.method,reference:t.reference||null}),"Unable to record payment")},upsertHallTicket:async({student_id:t,exam_id:e,token:r})=>{const n=await uj(yt.from(wt.hallTickets).select("id").eq("student_id",t).eq("exam_id",e).maybeSingle(),"Unable to load hall ticket");n?await bt(yt.from(wt.hallTickets).update({token:r}).eq("id",n.id),"Unable to update hall ticket"):await bt(yt.from(wt.hallTickets).insert({student_id:t,exam_id:e,token:r}),"Unable to create hall ticket")},addResult:async t=>{await bt(yt.from(wt.results).insert(xj(t)),"Unable to record result")},listResults:async()=>(await bt(yt.from(wt.results).select("id, student_id, exam_id, total, grade, created_at").order("created_at",{ascending:!1}),"Unable to fetch results")).map(_j),listFees:async()=>(await bt(yt.from(wt.feeDefinitions).select("id, academic_year, group_code, course_code, semester_number, payment_type, amount").order("academic_year",{ascending:!1}),"Unable to fetch fee definitions")).map(wj),addFee:async t=>{await bt(yt.from(wt.feeDefinitions).insert(bj(t)),"Unable to add fee definition")},getFeeTypes:async()=>(await bt(yt.from(wt.feeCategories).select("id, name, fees").order("name"),"Unable to fetch fee categories")).map(Nj),setFeeTypes:async t=>{const e=await bt(yt.from(wt.feeCategories).select("id"),"Unable to load existing fee categories"),r=new Set(t.map(s=>s.id)),n=e.map(s=>s.id).filter(s=>!r.has(s));n.length&&await bt(yt.from(wt.feeCategories).delete().in("id",n),"Unable to remove old fee categories"),t.length&&await bt(yt.from(wt.feeCategories).upsert(t.map(Sj)),"Unable to save fee categories")}};function Aj(){const t=["Male","Female","Other"],e=["General","OBC","SC","ST","Others"],r=["Hindu","Muslim","Christian","Sikh","Buddhist","Jain","Others"],n=["Tamil Nadu","Andhra Pradesh","Karnataka","Kerala","Telangana","Maharashtra","Other"],[s,i]=se.useState({student_id:"",admission_no:"",ht_no:"",academic_year:"",group:"",course_id:"",full_name:"",gender:"",dob:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_no:"",postal_code:"",address:"",mobile:"",email:"",religion:"",caste:"",sub_caste:""}),[a,l]=se.useState(null),[o,c]=se.useState(null),[f,m]=se.useState(!1),[v,p]=se.useState(""),[b,N]=se.useState([]),[j,w]=se.useState([]),[_,S]=se.useState([]),I=(O,P)=>i(R=>({...R,[O]:P}));se.useEffect(()=>{(async()=>{var O,P;try{const[R,G,V]=await Promise.all([Ae.listCourses(),((O=Ae.listGroups)==null?void 0:O.call(Ae))||[],((P=Ae.listAcademicYears)==null?void 0:P.call(Ae))||[]]);N(R||[]),w(G||[]),S(V||[])}catch{N([]),w([]),S([])}})()},[]);const B=()=>{i({student_id:"",admission_no:"",ht_no:"",academic_year:"",group:"",course_id:"",full_name:"",gender:"",dob:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_no:"",postal_code:"",address:"",mobile:"",email:"",religion:"",caste:"",sub_caste:""}),l(null),c(null)},Q=(O,P)=>new RegExp(`^\\d{${P}}$`).test(O),T=se.useMemo(()=>!!(s.admission_no&&s.academic_year&&s.full_name&&s.gender&&s.dob&&s.mobile&&Q(s.mobile,10)&&s.postal_code&&Q(s.postal_code,6)&&(!s.aadhar_no||Q(s.aadhar_no,12))&&s.address&&s.group&&s.course_id),[s]),M=(O,P)=>R=>{const G=(R.target.value||"").replace(/\D/g,"").slice(0,P);I(O,G)},K=async O=>{O.preventDefault(),p(""),m(!0);try{const P={};a&&(P.photo_url=URL.createObjectURL(a)),o&&(P.cert_url=URL.createObjectURL(o)),await Ae.submitApplication({...s,...P}),p("Application submitted! Admin/Principal will contact you after approval."),B()}catch(P){p(P.message||"Error submitting form")}finally{m(!1)}};return d.jsx("div",{className:"container py-5",children:d.jsx("div",{className:"row justify-content-center",children:d.jsx("div",{className:"col-lg-10",children:d.jsxs("div",{className:"card card-soft p-4",children:[d.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[d.jsx("img",{src:"/logo-placeholder.png",className:"brand-logo",alt:"logo"}),d.jsxs("div",{children:[d.jsx("h3",{className:"fw-bold mb-0",children:"Vijayam College of Arts & Science"}),d.jsx("div",{className:"text-muted",children:"Chennai"})]})]}),d.jsx("h5",{className:"mt-3",children:"Apply for Admission / Exam"}),d.jsx("form",{onSubmit:K,children:d.jsxs("div",{className:"row g-3",children:[d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Student & Admission"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Student ID"}),d.jsx("input",{className:"form-control",value:s.student_id,onChange:O=>I("student_id",O.target.value),placeholder:"Auto/Optional"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Admission No"}),d.jsx("input",{className:"form-control",value:s.admission_no,onChange:O=>I("admission_no",O.target.value),required:!0})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"HT No"}),d.jsx("input",{className:"form-control",value:s.ht_no,onChange:O=>I("ht_no",O.target.value)})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Academic Year"}),d.jsxs("select",{className:"form-select",value:s.academic_year,onChange:O=>I("academic_year",O.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select"}),_.map(O=>d.jsxs("option",{value:O.name,children:[O.name,O.active?" (Active)":""]},O.id))]})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Group & Course"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Group Code"}),d.jsxs("select",{className:"form-select",value:s.group,onChange:O=>I("group",O.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select Group"}),j.map(O=>d.jsxs("option",{value:O.code,children:[O.code,"  ",O.name]},O.id))]})]}),d.jsxs("div",{className:"col-md-8",children:[d.jsx("label",{className:"form-label",children:"Course"}),d.jsxs("select",{className:"form-select",value:s.course_id,onChange:O=>I("course_id",O.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select Course"}),b.filter(O=>!s.group||!O.group_code||O.group_code===s.group).map(O=>d.jsxs("option",{value:O.id,children:[O.code?`${O.code} - `:"",O.name]},O.id))]})]}),(()=>{const O=b.find(P=>P.id===s.course_id);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Course Code"}),d.jsx("input",{className:"form-control",value:(O==null?void 0:O.code)||"",readOnly:!0,placeholder:"Auto"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Course ID"}),d.jsx("input",{className:"form-control",value:(O==null?void 0:O.id)||"",readOnly:!0,placeholder:"Auto"})]})]})})(),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Personal Details"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Full Name"}),d.jsx("input",{className:"form-control",value:s.full_name,onChange:O=>I("full_name",O.target.value),required:!0})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Gender"}),d.jsxs("select",{className:"form-select",value:s.gender,onChange:O=>I("gender",O.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select"}),t.map(O=>d.jsx("option",{value:O,children:O},O))]})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"DOB"}),d.jsx("input",{type:"date",className:"form-control",value:s.dob,onChange:O=>I("dob",O.target.value),required:!0})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Father's Name"}),d.jsx("input",{className:"form-control",value:s.father_name,onChange:O=>I("father_name",O.target.value)})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Mother's Name"}),d.jsx("input",{className:"form-control",value:s.mother_name,onChange:O=>I("mother_name",O.target.value)})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Contact & Address"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Mobile"}),d.jsx("input",{className:"form-control",inputMode:"tel",maxLength:"10",pattern:"\\\\d{10}",value:s.mobile,onChange:M("mobile",10),required:!0})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Email"}),d.jsx("input",{type:"email",className:"form-control",value:s.email,onChange:O=>I("email",O.target.value)})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Nationality"}),d.jsx("input",{className:"form-control",value:s.nationality,onChange:O=>I("nationality",O.target.value)})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"State"}),d.jsxs("select",{className:"form-select",value:s.state,onChange:O=>I("state",O.target.value),children:[d.jsx("option",{value:"",children:"Select"}),n.map(O=>d.jsx("option",{value:O,children:O},O))]})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Aadhar No"}),d.jsx("input",{className:"form-control",inputMode:"numeric",maxLength:"12",pattern:"\\\\d{12}",placeholder:"12 digits",value:s.aadhar_no,onChange:M("aadhar_no",12)})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Postal Code (PIN)"}),d.jsx("input",{className:"form-control",inputMode:"numeric",maxLength:"6",pattern:"\\\\d{6}",placeholder:"6 digits",value:s.postal_code,onChange:M("postal_code",6),required:!0})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Religion"}),d.jsxs("select",{className:"form-select",value:s.religion,onChange:O=>I("religion",O.target.value),children:[d.jsx("option",{value:"",children:"Select"}),r.map(O=>d.jsx("option",{value:O,children:O},O))]})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Caste"}),d.jsxs("select",{className:"form-select",value:s.caste,onChange:O=>I("caste",O.target.value),children:[d.jsx("option",{value:"",children:"Select"}),e.map(O=>d.jsx("option",{value:O,children:O},O))]})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Sub Caste"}),d.jsx("input",{className:"form-control",value:s.sub_caste,onChange:O=>I("sub_caste",O.target.value)})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("label",{className:"form-label",children:"Address"}),d.jsx("textarea",{className:"form-control",rows:"2",value:s.address,onChange:O=>I("address",O.target.value),required:!0})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Aadhar No"}),d.jsx("input",{className:"form-control",value:s.aadhar_no,onChange:O=>I("aadhar_no",O.target.value)})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Postal code"}),d.jsx("input",{className:"form-control",value:s.aadhar_no,onChange:O=>I("aadhar_no",O.target.value)})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Uploads"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Upload Photo"}),d.jsx("input",{type:"file",accept:"image/*",className:"form-control",onChange:O=>{var P;return l(((P=O.target.files)==null?void 0:P[0])||null)}})]}),d.jsxs("div",{className:"col-12 d-flex justify-content-end gap-2 mt-2",children:[d.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:B,children:"Clear"}),d.jsx("button",{className:"btn btn-brand",disabled:f||!T,children:f?"Submitting...":"Submit"})]})]})}),v&&d.jsx("div",{className:"alert alert-info mt-3 mb-0",children:v})]})})})})}const Pw="/assets/images-DpM0kpDs.png";function kj(){const t=rc(),{setUser:e}=Ph(),[r,n]=se.useState("admin@vijayam.edu"),[s,i]=se.useState(""),[a,l]=se.useState("ADMIN"),[o,c]=se.useState(!1),[f,m]=se.useState(""),v=async p=>{p.preventDefault(),c(!0),m("");try{const b=await Ae.login(r);e({email:b.email,role:b.role}),t("/admin/setup/years")}catch(b){m(b.message||"Login failed")}finally{c(!1)}};return d.jsxs("div",{children:[d.jsx("header",{className:"bg-white py-3 border-bottom",children:d.jsxs("div",{className:"container d-flex align-items-center gap-3",children:[d.jsx("img",{src:Pw,alt:"Vijayam Logo",className:"brand-logo"}),d.jsxs("div",{children:[d.jsx("div",{className:"fs-3 fw-bold text-brand",children:"VIJAYAM Science and Arts Degree College"}),d.jsx("div",{className:"text-muted small",children:"Affiliated to S.V. University, Tirupati & Recognized by Govt of A.P. | Accredited by NAAC with A+ Grade"}),d.jsx("div",{className:"fw-bold text-primary",children:"AUTONOMOUS"})]})]})}),d.jsx("section",{className:"container py-4",children:d.jsx("div",{className:"hero-frame p-2",children:d.jsxs("div",{className:"hero-canvas rounded-4 position-relative overflow-hidden",children:[d.jsx("div",{className:"hero-blob-1"}),d.jsx("div",{className:"hero-blob-2"}),d.jsxs("div",{className:"hero-inner p-3 p-md-4 p-lg-5",children:[d.jsxs("div",{className:"glass-card p-4 p-md-5 h-100",children:[d.jsx("div",{className:"heading-font fs-2 fw-700 mb-2",children:"Unlock Your Academic Journey"}),d.jsx("div",{className:"text-muted",children:"Apply, track results, and view exam schedules  all in one simple portal for students."}),d.jsxs("div",{className:"mt-3 d-grid gap-3",style:{maxWidth:"520px"},children:[d.jsx(el,{to:"/application",className:"home-cta brand w-100",children:"Application Form"}),d.jsx(el,{to:"/public/results",className:"home-cta brand w-100",children:"Exam Result"}),d.jsx(el,{to:"/public/timetable",className:"home-cta brand w-100",children:"Exam Time Table"})]})]}),d.jsxs("div",{className:"card card-soft p-4 h-100",children:[d.jsx("div",{className:"fw-600 mb-2",children:"Admin / Principal Login"}),d.jsxs("form",{onSubmit:v,children:[d.jsxs("div",{className:"mb-2",children:[d.jsx("label",{className:"form-label small",children:"Email"}),d.jsx("input",{className:"form-control",value:r,onChange:p=>n(p.target.value),required:!0})]}),d.jsxs("div",{className:"mb-2",children:[d.jsx("label",{className:"form-label small",children:"Password"}),d.jsx("input",{type:"password",className:"form-control",value:s,onChange:p=>i(p.target.value),required:!0})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{className:"form-label small",children:"Login as"}),d.jsxs("select",{className:"form-select",value:a,onChange:p=>l(p.target.value),children:[d.jsx("option",{value:"ADMIN",children:"Admin"}),d.jsx("option",{value:"PRINCIPAL",children:"Principal"})]})]}),f&&d.jsx("div",{className:"alert alert-danger py-2",children:f}),d.jsx("button",{className:"btn btn-brand w-100",disabled:o,children:o?"Signing in...":"Sign In"})]})]})]})]})})})]})}function Cj(){const[t,e]=se.useState([]),[r,n]=se.useState([]),[s,i]=se.useState([]),[a,l]=se.useState(""),[o,c]=se.useState(""),[f,m]=se.useState(null);se.useEffect(()=>{(async()=>(e(await Ae.listStudents()),n(await Ae.listExams()),i(await Ae.listResults())))()},[]);const v=()=>{const p=s.find(b=>b.student_id===a&&b.exam_id===o);m(p||null)};return d.jsx("div",{className:"container py-5",children:d.jsx("div",{className:"row justify-content-center",children:d.jsx("div",{className:"col-lg-8",children:d.jsxs("div",{className:"card card-soft p-4",children:[d.jsx("h4",{className:"mb-3",children:"Exam Results"}),d.jsxs("div",{className:"row g-2 align-items-end",children:[d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Student"}),d.jsxs("select",{className:"form-select",value:a,onChange:p=>l(p.target.value),children:[d.jsx("option",{value:"",children:"Select Student"}),t.map(p=>d.jsxs("option",{value:p.student_id,children:[p.student_id," - ",p.full_name]},p.student_id))]})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Exam"}),d.jsxs("select",{className:"form-select",value:o,onChange:p=>c(p.target.value),children:[d.jsx("option",{value:"",children:"Select Exam"}),r.map(p=>d.jsxs("option",{value:p.id,children:[p.title," (",p.date,")"]},p.id))]})]}),d.jsx("div",{className:"col-md-4 text-end",children:d.jsx("button",{className:"btn btn-brand",onClick:v,children:"View Result"})})]}),f&&d.jsx("div",{className:"mt-4",children:d.jsxs("div",{className:"card p-3 bg-ice",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"Total:"})," ",f.total]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Grade:"})," ",f.grade]})]})}),f===null&&a&&o&&d.jsx("div",{className:"alert alert-warning mt-3",children:"No result found for the selected student and exam."})]})})})})}function Ej(){const[t,e]=se.useState([]);return se.useEffect(()=>{(async()=>e(await Ae.listExams()))()},[]),d.jsx("div",{className:"container py-5",children:d.jsx("div",{className:"row justify-content-center",children:d.jsx("div",{className:"col-lg-8",children:d.jsxs("div",{className:"card card-soft p-4",children:[d.jsx("h4",{className:"mb-3",children:"Exam Time Table"}),t.length===0?d.jsx("div",{className:"text-muted",children:"No exams published yet."}):d.jsx("div",{className:"table-responsive",children:d.jsxs("table",{className:"table mb-0",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Title"}),d.jsx("th",{children:"Date"}),d.jsx("th",{children:"Session"}),d.jsx("th",{children:"Notes"})]})}),d.jsx("tbody",{children:t.map(r=>d.jsxs("tr",{children:[d.jsx("td",{children:r.title}),d.jsx("td",{children:r.date}),d.jsx("td",{children:r.session||"-"}),d.jsx("td",{children:r.notes||"-"})]},r.id))})]})})]})})})})}const Lj="modulepreload",Pj=function(t){return"/"+t},N2={},Em=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(o=>{if(o=Pj(o),o in N2)return;N2[o]=!0;const c=o.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":Lj,c||(m.as="script"),m.crossOrigin="",m.href=o,l&&m.setAttribute("nonce",l),document.head.appendChild(m),c)return new Promise((v,p)=>{m.addEventListener("load",v),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};function Tt(t){"@babel/helpers - typeof";return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(t)}var rn=Uint8Array,$n=Uint16Array,K0=Int32Array,Rh=new rn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Th=new rn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Lm=new rn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ow=function(t,e){for(var r=new $n(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new K0(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},Iw=Ow(Rh,2),Rw=Iw.b,Pm=Iw.r;Rw[28]=258,Pm[258]=28;var Tw=Ow(Th,0),Oj=Tw.b,S2=Tw.r,Om=new $n(32768);for(var Gt=0;Gt<32768;++Gt){var qi=(Gt&43690)>>1|(Gt&21845)<<1;qi=(qi&52428)>>2|(qi&13107)<<2,qi=(qi&61680)>>4|(qi&3855)<<4,Om[Gt]=((qi&65280)>>8|(qi&255)<<8)>>1}var Ks=function(t,e,r){for(var n=t.length,s=0,i=new $n(e);s<n;++s)t[s]&&++i[t[s]-1];var a=new $n(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var l;if(r){l=new $n(1<<e);var o=15-e;for(s=0;s<n;++s)if(t[s])for(var c=s<<4|t[s],f=e-t[s],m=a[t[s]-1]++<<f,v=m|(1<<f)-1;m<=v;++m)l[Om[m]>>o]=c}else for(l=new $n(n),s=0;s<n;++s)t[s]&&(l[s]=Om[a[t[s]-1]++]>>15-t[s]);return l},ca=new rn(288);for(var Gt=0;Gt<144;++Gt)ca[Gt]=8;for(var Gt=144;Gt<256;++Gt)ca[Gt]=9;for(var Gt=256;Gt<280;++Gt)ca[Gt]=7;for(var Gt=280;Gt<288;++Gt)ca[Gt]=8;var Ju=new rn(32);for(var Gt=0;Gt<32;++Gt)Ju[Gt]=5;var Ij=Ks(ca,9,0),Rj=Ks(ca,9,1),Tj=Ks(Ju,5,0),Fj=Ks(Ju,5,1),op=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},bs=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},lp=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},Y0=function(t){return(t+7)/8|0},Fw=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new rn(t.subarray(e,r))},Dj=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ks=function(t,e,r){var n=new Error(e||Dj[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,ks),!r)throw n;return n},Mj=function(t,e,r,n){var s=t.length,i=0;if(!s||e.f&&!e.l)return r||new rn(0);var a=!r,l=a||e.i!=2,o=e.i;a&&(r=new rn(s*3));var c=function(ke){var Fe=r.length;if(ke>Fe){var Ie=new rn(Math.max(Fe*2,ke));Ie.set(r),r=Ie}},f=e.f||0,m=e.p||0,v=e.b||0,p=e.l,b=e.d,N=e.m,j=e.n,w=s*8;do{if(!p){f=bs(t,m,1);var _=bs(t,m+1,3);if(m+=3,_)if(_==1)p=Rj,b=Fj,N=9,j=5;else if(_==2){var Q=bs(t,m,31)+257,T=bs(t,m+10,15)+4,M=Q+bs(t,m+5,31)+1;m+=14;for(var K=new rn(M),O=new rn(19),P=0;P<T;++P)O[Lm[P]]=bs(t,m+P*3,7);m+=T*3;for(var R=op(O),G=(1<<R)-1,V=Ks(O,R,1),P=0;P<M;){var pe=V[bs(t,m,G)];m+=pe&15;var S=pe>>4;if(S<16)K[P++]=S;else{var de=0,me=0;for(S==16?(me=3+bs(t,m,3),m+=2,de=K[P-1]):S==17?(me=3+bs(t,m,7),m+=3):S==18&&(me=11+bs(t,m,127),m+=7);me--;)K[P++]=de}}var W=K.subarray(0,Q),re=K.subarray(Q);N=op(W),j=op(re),p=Ks(W,N,1),b=Ks(re,j,1)}else ks(1);else{var S=Y0(m)+4,I=t[S-4]|t[S-3]<<8,B=S+I;if(B>s){o&&ks(0);break}l&&c(v+I),r.set(t.subarray(S,B),v),e.b=v+=I,e.p=m=B*8,e.f=f;continue}if(m>w){o&&ks(0);break}}l&&c(v+131072);for(var ae=(1<<N)-1,Ne=(1<<j)-1,C=m;;C=m){var de=p[lp(t,m)&ae],z=de>>4;if(m+=de&15,m>w){o&&ks(0);break}if(de||ks(2),z<256)r[v++]=z;else if(z==256){C=m,p=null;break}else{var $=z-254;if(z>264){var P=z-257,Y=Rh[P];$=bs(t,m,(1<<Y)-1)+Rw[P],m+=Y}var X=b[lp(t,m)&Ne],oe=X>>4;X||ks(3),m+=X&15;var re=Oj[oe];if(oe>3){var Y=Th[oe];re+=lp(t,m)&(1<<Y)-1,m+=Y}if(m>w){o&&ks(0);break}l&&c(v+131072);var fe=v+$;if(v<re){var he=i-re,Le=Math.min(re,fe);for(he+v<0&&ks(3);v<Le;++v)r[v]=n[he+v]}for(;v<fe;++v)r[v]=r[v-re]}}e.l=p,e.p=C,e.b=v,e.f=f,p&&(f=1,e.m=N,e.d=b,e.n=j)}while(!f);return v!=r.length&&a?Fw(r,0,v):r.subarray(0,v)},ci=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},ou=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},up=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:Mw,l:0};if(s==1){var a=new rn(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(B,Q){return B.f-Q.f}),r.push({s:-1,f:25001});var l=r[0],o=r[1],c=0,f=1,m=2;for(r[0]={s:-1,f:l.f+o.f,l,r:o};f!=s-1;)l=r[r[c].f<r[m].f?c++:m++],o=r[c!=f&&r[c].f<r[m].f?c++:m++],r[f++]={s:-1,f:l.f+o.f,l,r:o};for(var v=i[0].s,n=1;n<s;++n)i[n].s>v&&(v=i[n].s);var p=new $n(v+1),b=Im(r[f-1],p,0);if(b>e){var n=0,N=0,j=b-e,w=1<<j;for(i.sort(function(Q,T){return p[T.s]-p[Q.s]||Q.f-T.f});n<s;++n){var _=i[n].s;if(p[_]>e)N+=w-(1<<b-p[_]),p[_]=e;else break}for(N>>=j;N>0;){var S=i[n].s;p[S]<e?N-=1<<e-p[S]++-1:++n}for(;n>=0&&N;--n){var I=i[n].s;p[I]==e&&(--p[I],++N)}b=e}return{t:new rn(p),l:b}},Im=function(t,e,r){return t.s==-1?Math.max(Im(t.l,e,r+1),Im(t.r,e,r+1)):e[t.s]=r},j2=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new $n(++e),n=0,s=t[0],i=1,a=function(o){r[n++]=o},l=1;l<=e;++l)if(t[l]==s&&l!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=t[l]}return{c:r.subarray(0,n),n:e}},lu=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Dw=function(t,e,r){var n=r.length,s=Y0(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},A2=function(t,e,r,n,s,i,a,l,o,c,f){ci(e,f++,r),++s[256];for(var m=up(s,15),v=m.t,p=m.l,b=up(i,15),N=b.t,j=b.l,w=j2(v),_=w.c,S=w.n,I=j2(N),B=I.c,Q=I.n,T=new $n(19),M=0;M<_.length;++M)++T[_[M]&31];for(var M=0;M<B.length;++M)++T[B[M]&31];for(var K=up(T,7),O=K.t,P=K.l,R=19;R>4&&!O[Lm[R-1]];--R);var G=c+5<<3,V=lu(s,ca)+lu(i,Ju)+a,pe=lu(s,v)+lu(i,N)+a+14+3*R+lu(T,O)+2*T[16]+3*T[17]+7*T[18];if(o>=0&&G<=V&&G<=pe)return Dw(e,f,t.subarray(o,o+c));var de,me,W,re;if(ci(e,f,1+(pe<V)),f+=2,pe<V){de=Ks(v,p,0),me=v,W=Ks(N,j,0),re=N;var ae=Ks(O,P,0);ci(e,f,S-257),ci(e,f+5,Q-1),ci(e,f+10,R-4),f+=14;for(var M=0;M<R;++M)ci(e,f+3*M,O[Lm[M]]);f+=3*R;for(var Ne=[_,B],C=0;C<2;++C)for(var z=Ne[C],M=0;M<z.length;++M){var $=z[M]&31;ci(e,f,ae[$]),f+=O[$],$>15&&(ci(e,f,z[M]>>5&127),f+=z[M]>>12)}}else de=Ij,me=ca,W=Tj,re=Ju;for(var M=0;M<l;++M){var Y=n[M];if(Y>255){var $=Y>>18&31;ou(e,f,de[$+257]),f+=me[$+257],$>7&&(ci(e,f,Y>>23&31),f+=Rh[$]);var X=Y&31;ou(e,f,W[X]),f+=re[X],X>3&&(ou(e,f,Y>>5&8191),f+=Th[X])}else ou(e,f,de[Y]),f+=me[Y]}return ou(e,f,de[256]),f+me[256]},Bj=new K0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Mw=new rn(0),Uj=function(t,e,r,n,s,i){var a=i.z||t.length,l=new rn(n+a+5*(1+Math.ceil(a/7e3))+s),o=l.subarray(n,l.length-s),c=i.l,f=(i.r||0)&7;if(e){f&&(o[0]=i.r>>3);for(var m=Bj[e-1],v=m>>13,p=m&8191,b=(1<<r)-1,N=i.p||new $n(32768),j=i.h||new $n(b+1),w=Math.ceil(r/3),_=2*w,S=function(Xe){return(t[Xe]^t[Xe+1]<<w^t[Xe+2]<<_)&b},I=new K0(25e3),B=new $n(288),Q=new $n(32),T=0,M=0,K=i.i||0,O=0,P=i.w||0,R=0;K+2<a;++K){var G=S(K),V=K&32767,pe=j[G];if(N[V]=pe,j[G]=V,P<=K){var de=a-K;if((T>7e3||O>24576)&&(de>423||!c)){f=A2(t,o,0,I,B,Q,M,O,R,K-R,f),O=T=M=0,R=K;for(var me=0;me<286;++me)B[me]=0;for(var me=0;me<30;++me)Q[me]=0}var W=2,re=0,ae=p,Ne=V-pe&32767;if(de>2&&G==S(K-Ne))for(var C=Math.min(v,de)-1,z=Math.min(32767,K),$=Math.min(258,de);Ne<=z&&--ae&&V!=pe;){if(t[K+W]==t[K+W-Ne]){for(var Y=0;Y<$&&t[K+Y]==t[K+Y-Ne];++Y);if(Y>W){if(W=Y,re=Ne,Y>C)break;for(var X=Math.min(Ne,Y-2),oe=0,me=0;me<X;++me){var fe=K-Ne+me&32767,he=N[fe],Le=fe-he&32767;Le>oe&&(oe=Le,pe=fe)}}}V=pe,pe=N[V],Ne+=V-pe&32767}if(re){I[O++]=268435456|Pm[W]<<18|S2[re];var ke=Pm[W]&31,Fe=S2[re]&31;M+=Rh[ke]+Th[Fe],++B[257+ke],++Q[Fe],P=K+W,++T}else I[O++]=t[K],++B[t[K]]}}for(K=Math.max(K,P);K<a;++K)I[O++]=t[K],++B[t[K]];f=A2(t,o,c,I,B,Q,M,O,R,K-R,f),c||(i.r=f&7|o[f/8|0]<<3,f-=7,i.h=j,i.p=N,i.i=K,i.w=P)}else{for(var K=i.w||0;K<a+c;K+=65535){var Ie=K+65535;Ie>=a&&(o[f/8|0]=c,Ie=a),f=Dw(o,f+1,t.subarray(K,Ie))}i.i=a}return Fw(l,0,n+Y0(f)+s)},Bw=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,a=0;a!=i;){for(var l=Math.min(a+2655,i);a<l;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},zj=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new rn(i.length+t.length);a.set(i),a.set(t,i.length),t=a,s.w=i.length}return Uj(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},Uw=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},qj=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=Bw();s.p(e.dictionary),Uw(t,2,s.d())}},$j=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&ks(6,"invalid zlib data"),(t[1]>>5&1)==1&&ks(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Rm(t,e){e||(e={});var r=Bw();r.p(t);var n=zj(t,e,e.dictionary?6:2,4);return qj(n,e),Uw(n,n.length-4,r.d()),n}function Vj(t,e){return Mj(t.subarray($j(t),-4),{i:2},e,e)}var Hj=typeof TextDecoder<"u"&&new TextDecoder,Wj=0;try{Hj.decode(Mw,{stream:!0}),Wj=1}catch{}var nt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function cp(){nt.console&&typeof nt.console.log=="function"&&nt.console.log.apply(nt.console,arguments)}var Bt={log:cp,warn:function(t){nt.console&&(typeof nt.console.warn=="function"?nt.console.warn.apply(nt.console,arguments):cp.call(null,arguments))},error:function(t){nt.console&&(typeof nt.console.error=="function"?nt.console.error.apply(nt.console,arguments):cp(t))}};function dp(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Ia(n.response,e,r)},n.onerror=function(){Bt.error("could not download file")},n.send()}function k2(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function pd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var ku,Tm,Ia=nt.saveAs||((typeof window>"u"?"undefined":Tt(window))!=="object"||window!==nt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=nt.URL||nt.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?k2(s.href)?dp(t,e,r):pd(s,s.target="_blank"):pd(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){pd(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(k2(t))dp(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){pd(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Tt(i)!=="object"&&(Bt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return dp(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(nt.HTMLElement)||nt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Tt(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(t)}else{var o=nt.URL||nt.webkitURL,c=o.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){o.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function zw(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(t);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),o=this.g.toString(16),c=this.b.toString(16);return l.length==1&&(l="0"+l),o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),"#"+l+o+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function hp(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=Qr(r,n,s,i,e[0],7,-680876936),i=Qr(i,r,n,s,e[1],12,-389564586),s=Qr(s,i,r,n,e[2],17,606105819),n=Qr(n,s,i,r,e[3],22,-1044525330),r=Qr(r,n,s,i,e[4],7,-176418897),i=Qr(i,r,n,s,e[5],12,1200080426),s=Qr(s,i,r,n,e[6],17,-1473231341),n=Qr(n,s,i,r,e[7],22,-45705983),r=Qr(r,n,s,i,e[8],7,1770035416),i=Qr(i,r,n,s,e[9],12,-1958414417),s=Qr(s,i,r,n,e[10],17,-42063),n=Qr(n,s,i,r,e[11],22,-1990404162),r=Qr(r,n,s,i,e[12],7,1804603682),i=Qr(i,r,n,s,e[13],12,-40341101),s=Qr(s,i,r,n,e[14],17,-1502002290),r=Xr(r,n=Qr(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=Xr(i,r,n,s,e[6],9,-1069501632),s=Xr(s,i,r,n,e[11],14,643717713),n=Xr(n,s,i,r,e[0],20,-373897302),r=Xr(r,n,s,i,e[5],5,-701558691),i=Xr(i,r,n,s,e[10],9,38016083),s=Xr(s,i,r,n,e[15],14,-660478335),n=Xr(n,s,i,r,e[4],20,-405537848),r=Xr(r,n,s,i,e[9],5,568446438),i=Xr(i,r,n,s,e[14],9,-1019803690),s=Xr(s,i,r,n,e[3],14,-187363961),n=Xr(n,s,i,r,e[8],20,1163531501),r=Xr(r,n,s,i,e[13],5,-1444681467),i=Xr(i,r,n,s,e[2],9,-51403784),s=Xr(s,i,r,n,e[7],14,1735328473),r=Zr(r,n=Xr(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=Zr(i,r,n,s,e[8],11,-2022574463),s=Zr(s,i,r,n,e[11],16,1839030562),n=Zr(n,s,i,r,e[14],23,-35309556),r=Zr(r,n,s,i,e[1],4,-1530992060),i=Zr(i,r,n,s,e[4],11,1272893353),s=Zr(s,i,r,n,e[7],16,-155497632),n=Zr(n,s,i,r,e[10],23,-1094730640),r=Zr(r,n,s,i,e[13],4,681279174),i=Zr(i,r,n,s,e[0],11,-358537222),s=Zr(s,i,r,n,e[3],16,-722521979),n=Zr(n,s,i,r,e[6],23,76029189),r=Zr(r,n,s,i,e[9],4,-640364487),i=Zr(i,r,n,s,e[12],11,-421815835),s=Zr(s,i,r,n,e[15],16,530742520),r=en(r,n=Zr(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=en(i,r,n,s,e[7],10,1126891415),s=en(s,i,r,n,e[14],15,-1416354905),n=en(n,s,i,r,e[5],21,-57434055),r=en(r,n,s,i,e[12],6,1700485571),i=en(i,r,n,s,e[3],10,-1894986606),s=en(s,i,r,n,e[10],15,-1051523),n=en(n,s,i,r,e[1],21,-2054922799),r=en(r,n,s,i,e[8],6,1873313359),i=en(i,r,n,s,e[15],10,-30611744),s=en(s,i,r,n,e[6],15,-1560198380),n=en(n,s,i,r,e[13],21,1309151649),r=en(r,n,s,i,e[4],6,-145523070),i=en(i,r,n,s,e[11],10,-1120210379),s=en(s,i,r,n,e[2],15,718787259),n=en(n,s,i,r,e[9],21,-343485551),t[0]=Xi(r,t[0]),t[1]=Xi(n,t[1]),t[2]=Xi(s,t[2]),t[3]=Xi(i,t[3])}function Fh(t,e,r,n,s,i){return e=Xi(Xi(e,t),Xi(n,i)),Xi(e<<s|e>>>32-s,r)}function Qr(t,e,r,n,s,i,a){return Fh(e&r|~e&n,t,e,s,i,a)}function Xr(t,e,r,n,s,i,a){return Fh(e&n|r&~n,t,e,s,i,a)}function Zr(t,e,r,n,s,i,a){return Fh(e^r^n,t,e,s,i,a)}function en(t,e,r,n,s,i,a){return Fh(r^(e|~n),t,e,s,i,a)}function qw(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)hp(n,Gj(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(hp(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,hp(n,s),n}function Gj(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}ku=nt.atob.bind(nt),Tm=nt.btoa.bind(nt);var C2="0123456789abcdef".split("");function Kj(t){for(var e="",r=0;r<4;r++)e+=C2[t>>8*r+4&15]+C2[t>>8*r&15];return e}function Yj(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Fm(t){return qw(t).map(Yj).join("")}var Jj=function(t){for(var e=0;e<t.length;e++)t[e]=Kj(t[e]);return t.join("")}(qw("hello"))!="5d41402abc4b2a76b9719d911017c592";function Xi(t,e){if(Jj){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Dm(t,e){var r,n,s,i;if(t!==r){for(var a=(s=t,i=1+(256/t.length>>0),new Array(i+1).join(s)),l=[],o=0;o<256;o++)l[o]=o;var c=0;for(o=0;o<256;o++){var f=l[o];c=(c+f+a.charCodeAt(o))%256,l[o]=l[c],l[c]=f}r=t,n=l}else l=n;var m=e.length,v=0,p=0,b="";for(o=0;o<m;o++)p=(p+(f=l[v=(v+1)%256]))%256,l[v]=l[p],l[p]=f,a=l[(l[v]+l[p])%256],b+=String.fromCharCode(e.charCodeAt(o)^a);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var E2={print:4,modify:8,copy:16,"annot-forms":32};function Io(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(l){if(E2.perm!==void 0)throw new Error("Invalid permission: "+l);s+=E2[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=Fm(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Dm(this.encryptionKey,this.padding)}function Ro(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[n]}return e}function L2(t){if(Tt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var a=e[r][i];try{a[0].apply(t,n)}catch(l){nt.console&&Bt.error("jsPDF PubSub Error",l.message,l)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ch(t){if(!(this instanceof ch))return new ch(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function $w(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Da(t,e,r,n,s){if(!(this instanceof Da))return new Da(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,$w.call(this,n,s)}function Go(t,e,r,n,s){if(!(this instanceof Go))return new Go(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,$w.call(this,n,s)}function rt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],l=1,o=16,c="S",f=null;Tt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(o=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,v={},p={internal:{},__private__:{}};p.__private__.PubSub=L2;var b="1.3",N=p.__private__.getPdfVersion=function(){return b};p.__private__.setPdfVersion=function(g){b=g};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return j};var w=p.__private__.getPageFormat=function(g){return j[g]};s=s||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},S=_.COMPAT;function I(){this.saveGraphicsState(),H(new Ye(Me,0,0,-Me,0,Ci()*Me).toString()+" cm"),this.setFontSize(this.getFontSize()/Me),c="n",S=_.ADVANCED}function B(){this.restoreGraphicsState(),c="S",S=_.COMPAT}var Q=p.__private__.combineFontStyleAndFontWeight=function(g,k){if(g=="bold"&&k=="normal"||g=="bold"&&k==400||g=="normal"&&k=="italic"||g=="bold"&&k=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return k&&(g=k==400||k==="normal"?g==="italic"?"italic":"normal":k!=700&&k!=="bold"||g!=="normal"?(k==700?"bold":k)+""+g:"bold"),g};p.advancedAPI=function(g){var k=S===_.COMPAT;return k&&I.call(this),typeof g!="function"||(g(this),k&&B.call(this)),this},p.compatAPI=function(g){var k=S===_.ADVANCED;return k&&B.call(this),typeof g!="function"||(g(this),k&&I.call(this)),this},p.isAdvancedAPI=function(){return S===_.ADVANCED};var T,M=function(g){if(S!==_.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=p.roundToPrecision=p.__private__.roundToPrecision=function(g,k){var q=e||k;if(isNaN(g)||isNaN(q))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(q).replace(/0+$/,"")};T=p.hpf=p.__private__.hpf=typeof o=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return K(g,o)}:o==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return K(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return K(g,16)};var O=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return K(g,2)},P=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return K(g,3)},R=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return S===_.COMPAT?g*Me:S===_.ADVANCED?g:void 0},G=function(g){return S===_.COMPAT?Ci()-g:S===_.ADVANCED?g:void 0},V=function(g){return R(G(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var pe,de="00000000000000000000000000000000",me=p.__private__.getFileId=function(){return de},W=p.__private__.setFileId=function(g){return de=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Gr=new Io(f.userPermissions,f.userPassword,f.ownerPassword,de)),de};p.setFileId=function(g){return W(g),this},p.getFileId=function(){return me()};var re=p.__private__.convertDateToPDFDate=function(g){var k=g.getTimezoneOffset(),q=k<0?"+":"-",J=Math.floor(Math.abs(k/60)),ie=Math.abs(k%60),ye=[q,$(J),"'",$(ie),"'"].join("");return["D:",g.getFullYear(),$(g.getMonth()+1),$(g.getDate()),$(g.getHours()),$(g.getMinutes()),$(g.getSeconds()),ye].join("")},ae=p.__private__.convertPDFDateToDate=function(g){var k=parseInt(g.substr(2,4),10),q=parseInt(g.substr(6,2),10)-1,J=parseInt(g.substr(8,2),10),ie=parseInt(g.substr(10,2),10),ye=parseInt(g.substr(12,2),10),je=parseInt(g.substr(14,2),10);return new Date(k,q,J,ie,ye,je,0)},Ne=p.__private__.setCreationDate=function(g){var k;if(g===void 0&&(g=new Date),g instanceof Date)k=re(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");k=g}return pe=k},C=p.__private__.getCreationDate=function(g){var k=pe;return g==="jsDate"&&(k=ae(pe)),k};p.setCreationDate=function(g){return Ne(g),this},p.getCreationDate=function(g){return C(g)};var z,$=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},Y=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},X=0,oe=[],fe=[],he=0,Le=[],ke=[],Fe=!1,Ie=fe,Xe=function(){X=0,he=0,fe=[],oe=[],Le=[],hs=ir(),vn=ir()};p.__private__.setCustomOutputDestination=function(g){Fe=!0,Ie=g};var ve=function(g){Fe||(Ie=g)};p.__private__.resetCustomOutputDestination=function(){Fe=!1,Ie=fe};var H=p.__private__.out=function(g){return g=g.toString(),he+=g.length+1,Ie.push(g),Ie},it=p.__private__.write=function(g){return H(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},We=p.__private__.getArrayBuffer=function(g){for(var k=g.length,q=new ArrayBuffer(k),J=new Uint8Array(q);k--;)J[k]=g.charCodeAt(k);return q},Ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ce};var Re=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return Re=S===_.ADVANCED?g/Me:g,this};var ze,De=p.__private__.getFontSize=p.getFontSize=function(){return S===_.COMPAT?Re:Re*Me},Ke=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return Ke=g,this},p.__private__.getR2L=p.getR2L=function(){return Ke};var at,ft=p.__private__.setZoomMode=function(g){var k=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))ze=g;else if(isNaN(g)){if(k.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');ze=g}else ze=parseInt(g,10)};p.__private__.getZoomMode=function(){return ze};var ot,_t=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');at=g};p.__private__.getPageMode=function(){return at};var Et=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');ot=g};p.__private__.getLayoutMode=function(){return ot},p.__private__.setDisplayMode=p.setDisplayMode=function(g,k,q){return ft(g),Et(k),_t(q),this};var et={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(et).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return et[g]},p.__private__.getDocumentProperties=function(){return et},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var k in et)et.hasOwnProperty(k)&&g[k]&&(et[k]=g[k]);return this},p.__private__.setDocumentProperty=function(g,k){if(Object.keys(et).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return et[g]=k};var pt,Me,Fr,St,mn,Ot={},Ut={},Kn=[],Ct={},Js={},Qt={},Yn={},Ts=null,Xt=0,lt=[],Lt=new L2(p),Qs=t.hotfixes||[],vr={},Dr={},gn=[],Ye=function g(k,q,J,ie,ye,je){if(!(this instanceof g))return new g(k,q,J,ie,ye,je);isNaN(k)&&(k=1),isNaN(q)&&(q=0),isNaN(J)&&(J=0),isNaN(ie)&&(ie=1),isNaN(ye)&&(ye=0),isNaN(je)&&(je=0),this._matrix=[k,q,J,ie,ye,je]};Object.defineProperty(Ye.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Ye.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Ye.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Ye.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Ye.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Ye.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Ye.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Ye.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Ye.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Ye.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Ye.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Ye.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Ye.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ye.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ye.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ye.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ye.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(g)},Ye.prototype.multiply=function(g){var k=g.sx*this.sx+g.shy*this.shx,q=g.sx*this.shy+g.shy*this.sy,J=g.shx*this.sx+g.sy*this.shx,ie=g.shx*this.shy+g.sy*this.sy,ye=g.tx*this.sx+g.ty*this.shx+this.tx,je=g.tx*this.shy+g.ty*this.sy+this.ty;return new Ye(k,q,J,ie,ye,je)},Ye.prototype.decompose=function(){var g=this.sx,k=this.shy,q=this.shx,J=this.sy,ie=this.tx,ye=this.ty,je=Math.sqrt(g*g+k*k),qe=(g/=je)*q+(k/=je)*J;q-=g*qe,J-=k*qe;var Qe=Math.sqrt(q*q+J*J);return qe/=Qe,g*(J/=Qe)<k*(q/=Qe)&&(g=-g,k=-k,qe=-qe,je=-je),{scale:new Ye(je,0,0,Qe,0,0),translate:new Ye(1,0,0,1,ie,ye),rotate:new Ye(g,k,-k,g,0,0),skew:new Ye(1,0,qe,1,0,0)}},Ye.prototype.toString=function(g){return this.join(" ")},Ye.prototype.inversed=function(){var g=this.sx,k=this.shy,q=this.shx,J=this.sy,ie=this.tx,ye=this.ty,je=1/(g*J-k*q),qe=J*je,Qe=-k*je,mt=-q*je,dt=g*je;return new Ye(qe,Qe,mt,dt,-qe*ie-mt*ye,-Qe*ie-dt*ye)},Ye.prototype.applyToPoint=function(g){var k=g.x*this.sx+g.y*this.shx+this.tx,q=g.x*this.shy+g.y*this.sy+this.ty;return new ao(k,q)},Ye.prototype.applyToRectangle=function(g){var k=this.applyToPoint(g),q=this.applyToPoint(new ao(g.x+g.w,g.y+g.h));return new Il(k.x,k.y,q.x-k.x,q.y-k.y)},Ye.prototype.clone=function(){var g=this.sx,k=this.shy,q=this.shx,J=this.sy,ie=this.tx,ye=this.ty;return new Ye(g,k,q,J,ie,ye)},p.Matrix=Ye;var Nr=p.matrixMult=function(g,k){return k.multiply(g)},Sr=new Ye(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Sr;var Zt=function(g,k){if(!Js[g]){var q=(k instanceof Da?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);k.id=q,Js[g]=q,Ct[q]=k,Lt.publish("addPattern",k)}};p.ShadingPattern=Da,p.TilingPattern=Go,p.addShadingPattern=function(g,k){return M("addShadingPattern()"),Zt(g,k),this},p.beginTilingPattern=function(g){M("beginTilingPattern()"),gc(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,k){M("endTilingPattern()"),k.stream=ke[z].join(`
`),Zt(g,k),Lt.publish("endTilingPattern",k),gn.pop().restore()};var Yt=p.__private__.newObject=function(){var g=ir();return sn(g,!0),g},ir=p.__private__.newObjectDeferred=function(){return X++,oe[X]=function(){return he},X},sn=function(g,k){return k=typeof k=="boolean"&&k,oe[g]=he,k&&H(g+" 0 obj"),g},ji=p.__private__.newAdditionalObject=function(){var g={objId:ir(),content:""};return Le.push(g),g},hs=ir(),vn=ir(),On=p.__private__.decodeColorString=function(g){var k=g.split(" ");if(k.length!==2||k[1]!=="g"&&k[1]!=="G")k.length===5&&(k[4]==="k"||k[4]==="K")&&(k=[(1-k[0])*(1-k[3]),(1-k[1])*(1-k[3]),(1-k[2])*(1-k[3]),"r"]);else{var q=parseFloat(k[0]);k=[q,q,q,"r"]}for(var J="#",ie=0;ie<3;ie++)J+=("0"+Math.floor(255*parseFloat(k[ie])).toString(16)).slice(-2);return J},In=p.__private__.encodeColorString=function(g){var k;typeof g=="string"&&(g={ch1:g});var q=g.ch1,J=g.ch2,ie=g.ch3,ye=g.ch4,je=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof q=="string"&&q.charAt(0)!=="#"){var qe=new zw(q);if(qe.ok)q=qe.toHex();else if(!/^\d*\.?\d*$/.test(q))throw new Error('Invalid color "'+q+'" passed to jsPDF.encodeColorString.')}if(typeof q=="string"&&/^#[0-9A-Fa-f]{3}$/.test(q)&&(q="#"+q[1]+q[1]+q[2]+q[2]+q[3]+q[3]),typeof q=="string"&&/^#[0-9A-Fa-f]{6}$/.test(q)){var Qe=parseInt(q.substr(1),16);q=Qe>>16&255,J=Qe>>8&255,ie=255&Qe}if(J===void 0||ye===void 0&&q===J&&J===ie)if(typeof q=="string")k=q+" "+je[0];else switch(g.precision){case 2:k=O(q/255)+" "+je[0];break;case 3:default:k=P(q/255)+" "+je[0]}else if(ye===void 0||Tt(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return k=["1.","1.","1.",je[1]].join(" ");if(typeof q=="string")k=[q,J,ie,je[1]].join(" ");else switch(g.precision){case 2:k=[O(q/255),O(J/255),O(ie/255),je[1]].join(" ");break;default:case 3:k=[P(q/255),P(J/255),P(ie/255),je[1]].join(" ")}}else if(typeof q=="string")k=[q,J,ie,ye,je[2]].join(" ");else switch(g.precision){case 2:k=[O(q),O(J),O(ie),O(ye),je[2]].join(" ");break;case 3:default:k=[P(q),P(J),P(ie),P(ye),je[2]].join(" ")}return k},Jn=p.__private__.getFilters=function(){return a},yn=p.__private__.putStream=function(g){var k=(g=g||{}).data||"",q=g.filters||Jn(),J=g.alreadyAppliedFilters||[],ie=g.addLength1||!1,ye=k.length,je=g.objectId,qe=function(Kr){return Kr};if(f!==null&&je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(qe=Gr.encryptor(je,0));var Qe={};q===!0&&(q=["FlateEncode"]);var mt=g.additionalKeyValues||[],dt=(Qe=rt.API.processDataByFilters!==void 0?rt.API.processDataByFilters(k,q):{data:k,reverseChain:[]}).reverseChain+(Array.isArray(J)?J.join(" "):J.toString());if(Qe.data.length!==0&&(mt.push({key:"Length",value:Qe.data.length}),ie===!0&&mt.push({key:"Length1",value:ye})),dt.length!=0)if(dt.split("/").length-1==1)mt.push({key:"Filter",value:dt});else{mt.push({key:"Filter",value:"["+dt+"]"});for(var jt=0;jt<mt.length;jt+=1)if(mt[jt].key==="DecodeParms"){for(var er=[],ar=0;ar<Qe.reverseChain.split("/").length-1;ar+=1)er.push("null");er.push(mt[jt].value),mt[jt].value="["+er.join(" ")+"]"}}H("<<");for(var yr=0;yr<mt.length;yr++)H("/"+mt[yr].key+" "+mt[yr].value);H(">>"),Qe.data.length!==0&&(H("stream"),H(qe(Qe.data)),H("endstream"))},Rn=p.__private__.putPage=function(g){var k=g.number,q=g.data,J=g.objId,ie=g.contentsObjId;sn(J,!0),H("<</Type /Page"),H("/Parent "+g.rootDictionaryObjId+" 0 R"),H("/Resources "+g.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(T(g.mediaBox.bottomLeftX))+" "+parseFloat(T(g.mediaBox.bottomLeftY))+" "+T(g.mediaBox.topRightX)+" "+T(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&H("/CropBox ["+T(g.cropBox.bottomLeftX)+" "+T(g.cropBox.bottomLeftY)+" "+T(g.cropBox.topRightX)+" "+T(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&H("/BleedBox ["+T(g.bleedBox.bottomLeftX)+" "+T(g.bleedBox.bottomLeftY)+" "+T(g.bleedBox.topRightX)+" "+T(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&H("/TrimBox ["+T(g.trimBox.bottomLeftX)+" "+T(g.trimBox.bottomLeftY)+" "+T(g.trimBox.topRightX)+" "+T(g.trimBox.topRightY)+"]"),g.artBox!==null&&H("/ArtBox ["+T(g.artBox.bottomLeftX)+" "+T(g.artBox.bottomLeftY)+" "+T(g.artBox.topRightX)+" "+T(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&H("/UserUnit "+g.userUnit),Lt.publish("putPage",{objId:J,pageContext:lt[k],pageNumber:k,page:q}),H("/Contents "+ie+" 0 R"),H(">>"),H("endobj");var ye=q.join(`
`);return S===_.ADVANCED&&(ye+=`
Q`),sn(ie,!0),yn({data:ye,filters:Jn(),objectId:ie}),H("endobj"),J},Xs=p.__private__.putPages=function(){var g,k,q=[];for(g=1;g<=Xt;g++)lt[g].objId=ir(),lt[g].contentsObjId=ir();for(g=1;g<=Xt;g++)q.push(Rn({number:g,data:ke[g],objId:lt[g].objId,contentsObjId:lt[g].contentsObjId,mediaBox:lt[g].mediaBox,cropBox:lt[g].cropBox,bleedBox:lt[g].bleedBox,trimBox:lt[g].trimBox,artBox:lt[g].artBox,userUnit:lt[g].userUnit,rootDictionaryObjId:hs,resourceDictionaryObjId:vn}));sn(hs,!0),H("<</Type /Pages");var J="/Kids [";for(k=0;k<Xt;k++)J+=q[k]+" 0 R ";H(J+"]"),H("/Count "+Xt),H(">>"),H("endobj"),Lt.publish("postPutPages")},le=function(g){Lt.publish("putFont",{font:g,out:H,newObject:Yt,putStream:yn}),g.isAlreadyPutted!==!0&&(g.objectNumber=Yt(),H("<<"),H("/Type /Font"),H("/BaseFont /"+Ro(g.postScriptName)),H("/Subtype /Type1"),typeof g.encoding=="string"&&H("/Encoding /"+g.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},Oe=function(){for(var g in Ot)Ot.hasOwnProperty(g)&&(m===!1||m===!0&&v.hasOwnProperty(g))&&le(Ot[g])},xe=function(g){g.objectNumber=Yt();var k=[];k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Form"}),k.push({key:"BBox",value:"["+[T(g.x),T(g.y),T(g.x+g.width),T(g.y+g.height)].join(" ")+"]"}),k.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var q=g.pages[1].join(`
`);yn({data:q,additionalKeyValues:k,objectId:g.objectNumber}),H("endobj")},Pe=function(){for(var g in vr)vr.hasOwnProperty(g)&&xe(vr[g])},Be=function(g,k){var q,J=[],ie=1/(k-1);for(q=0;q<1;q+=ie)J.push(q);if(J.push(1),g[0].offset!=0){var ye={offset:0,color:g[0].color};g.unshift(ye)}if(g[g.length-1].offset!=1){var je={offset:1,color:g[g.length-1].color};g.push(je)}for(var qe="",Qe=0,mt=0;mt<J.length;mt++){for(q=J[mt];q>g[Qe+1].offset;)Qe++;var dt=g[Qe].offset,jt=(q-dt)/(g[Qe+1].offset-dt),er=g[Qe].color,ar=g[Qe+1].color;qe+=Y(Math.round((1-jt)*er[0]+jt*ar[0]).toString(16))+Y(Math.round((1-jt)*er[1]+jt*ar[1]).toString(16))+Y(Math.round((1-jt)*er[2]+jt*ar[2]).toString(16))}return qe.trim()},vt=function(g,k){k||(k=21);var q=Yt(),J=Be(g.colors,k),ie=[];ie.push({key:"FunctionType",value:"0"}),ie.push({key:"Domain",value:"[0.0 1.0]"}),ie.push({key:"Size",value:"["+k+"]"}),ie.push({key:"BitsPerSample",value:"8"}),ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),yn({data:J,additionalKeyValues:ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:q}),H("endobj"),g.objectNumber=Yt(),H("<< /ShadingType "+g.type),H("/ColorSpace /DeviceRGB");var ye="/Coords ["+T(parseFloat(g.coords[0]))+" "+T(parseFloat(g.coords[1]))+" ";g.type===2?ye+=T(parseFloat(g.coords[2]))+" "+T(parseFloat(g.coords[3])):ye+=T(parseFloat(g.coords[2]))+" "+T(parseFloat(g.coords[3]))+" "+T(parseFloat(g.coords[4]))+" "+T(parseFloat(g.coords[5])),H(ye+="]"),g.matrix&&H("/Matrix ["+g.matrix.toString()+"]"),H("/Function "+q+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},ut=function(g,k){var q=ir(),J=Yt();k.push({resourcesOid:q,objectOid:J}),g.objectNumber=J;var ie=[];ie.push({key:"Type",value:"/Pattern"}),ie.push({key:"PatternType",value:"1"}),ie.push({key:"PaintType",value:"1"}),ie.push({key:"TilingType",value:"1"}),ie.push({key:"BBox",value:"["+g.boundingBox.map(T).join(" ")+"]"}),ie.push({key:"XStep",value:T(g.xStep)}),ie.push({key:"YStep",value:T(g.yStep)}),ie.push({key:"Resources",value:q+" 0 R"}),g.matrix&&ie.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),yn({data:g.stream,additionalKeyValues:ie,objectId:g.objectNumber}),H("endobj")},Ze=function(g){var k;for(k in Ct)Ct.hasOwnProperty(k)&&(Ct[k]instanceof Da?vt(Ct[k]):Ct[k]instanceof Go&&ut(Ct[k],g))},Mr=function(g){for(var k in g.objectNumber=Yt(),H("<<"),g)switch(k){case"opacity":H("/ca "+O(g[k]));break;case"stroke-opacity":H("/CA "+O(g[k]))}H(">>"),H("endobj")},wn=function(){var g;for(g in Qt)Qt.hasOwnProperty(g)&&Mr(Qt[g])},bn=function(){for(var g in H("/XObject <<"),vr)vr.hasOwnProperty(g)&&vr[g].objectNumber>=0&&H("/"+g+" "+vr[g].objectNumber+" 0 R");Lt.publish("putXobjectDict"),H(">>")},fs=function(){Gr.oid=Yt(),H("<<"),H("/Filter /Standard"),H("/V "+Gr.v),H("/R "+Gr.r),H("/U <"+Gr.toHexString(Gr.U)+">"),H("/O <"+Gr.toHexString(Gr.O)+">"),H("/P "+Gr.P),H(">>"),H("endobj")},Zs=function(){for(var g in H("/Font <<"),Ot)Ot.hasOwnProperty(g)&&(m===!1||m===!0&&v.hasOwnProperty(g))&&H("/"+g+" "+Ot[g].objectNumber+" 0 R");H(">>")},va=function(){if(Object.keys(Ct).length>0){for(var g in H("/Shading <<"),Ct)Ct.hasOwnProperty(g)&&Ct[g]instanceof Da&&Ct[g].objectNumber>=0&&H("/"+g+" "+Ct[g].objectNumber+" 0 R");Lt.publish("putShadingPatternDict"),H(">>")}},an=function(g){if(Object.keys(Ct).length>0){for(var k in H("/Pattern <<"),Ct)Ct.hasOwnProperty(k)&&Ct[k]instanceof p.TilingPattern&&Ct[k].objectNumber>=0&&Ct[k].objectNumber<g&&H("/"+k+" "+Ct[k].objectNumber+" 0 R");Lt.publish("putTilingPatternDict"),H(">>")}},Fs=function(){if(Object.keys(Qt).length>0){var g;for(g in H("/ExtGState <<"),Qt)Qt.hasOwnProperty(g)&&Qt[g].objectNumber>=0&&H("/"+g+" "+Qt[g].objectNumber+" 0 R");Lt.publish("putGStateDict"),H(">>")}},zt=function(g){sn(g.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Zs(),va(),an(g.objectOid),Fs(),bn(),H(">>"),H("endobj")},Hr=function(){var g=[];Oe(),wn(),Pe(),Ze(g),Lt.publish("putResources"),g.forEach(zt),zt({resourcesOid:vn,objectOid:Number.MAX_SAFE_INTEGER}),Lt.publish("postPutResources")},Wr=function(){Lt.publish("putAdditionalObjects");for(var g=0;g<Le.length;g++){var k=Le[g];sn(k.objId,!0),H(k.content),H("endobj")}Lt.publish("postPutAdditionalObjects")},ei=function(g){Ut[g.fontName]=Ut[g.fontName]||{},Ut[g.fontName][g.fontStyle]=g.id},Sl=function(g,k,q,J,ie){var ye={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:g,fontName:k,fontStyle:q,encoding:J,isStandardFont:ie||!1,metadata:{}};return Lt.publish("addFont",{font:ye,instance:this}),Ot[ye.id]=ye,ei(ye),ye.id},Dh=function(g){for(var k=0,q=Ce.length;k<q;k++){var J=Sl.call(this,g[k][0],g[k][1],g[k][2],Ce[k][3],!0);m===!1&&(v[J]=!0);var ie=g[k][0].split("-");ei({id:J,fontName:ie[0],fontStyle:ie[1]||""})}Lt.publish("addFonts",{fonts:Ot,dictionary:Ut})},ps=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(J){var k=J.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var q="Error in function "+k.split(`
`)[0].split("<")[0]+": "+J.message;if(!nt.console)throw new Error(q);nt.console.error(q,J),nt.alert&&alert(q)}},g.foo.bar=g,g.foo},eo=function(g,k){var q,J,ie,ye,je,qe,Qe,mt,dt;if(ie=(k=k||{}).sourceEncoding||"Unicode",je=k.outputEncoding,(k.autoencode||je)&&Ot[pt].metadata&&Ot[pt].metadata[ie]&&Ot[pt].metadata[ie].encoding&&(ye=Ot[pt].metadata[ie].encoding,!je&&Ot[pt].encoding&&(je=Ot[pt].encoding),!je&&ye.codePages&&(je=ye.codePages[0]),typeof je=="string"&&(je=ye[je]),je)){for(Qe=!1,qe=[],q=0,J=g.length;q<J;q++)(mt=je[g.charCodeAt(q)])?qe.push(String.fromCharCode(mt)):qe.push(g[q]),qe[q].charCodeAt(0)>>8&&(Qe=!0);g=qe.join("")}for(q=g.length;Qe===void 0&&q!==0;)g.charCodeAt(q-1)>>8&&(Qe=!0),q--;if(!Qe)return g;for(qe=k.noBOM?[]:[254,255],q=0,J=g.length;q<J;q++){if((dt=(mt=g.charCodeAt(q))>>8)>>8)throw new Error("Character at position "+q+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qe.push(dt),qe.push(mt-(dt<<8))}return String.fromCharCode.apply(void 0,qe)},_n=p.__private__.pdfEscape=p.pdfEscape=function(g,k){return eo(g,k).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jl=p.__private__.beginPage=function(g){ke[++Xt]=[],lt[Xt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},ic(Xt),ve(ke[z])},sc=function(g,k){var q,J,ie;switch(r=k||r,typeof g=="string"&&(q=w(g.toLowerCase()),Array.isArray(q)&&(J=q[0],ie=q[1])),Array.isArray(g)&&(J=g[0]*Me,ie=g[1]*Me),isNaN(J)&&(J=s[0],ie=s[1]),(J>14400||ie>14400)&&(Bt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),J=Math.min(14400,J),ie=Math.min(14400,ie)),s=[J,ie],r.substr(0,1)){case"l":ie>J&&(s=[ie,J]);break;case"p":J>ie&&(s=[ie,J])}jl(s),dc(El),H(ms),Pl!==0&&H(Pl+" J"),Ol!==0&&H(Ol+" j"),Lt.publish("addPage",{pageNumber:Xt})},Mh=function(g){g>0&&g<=Xt&&(ke.splice(g,1),lt.splice(g,1),Xt--,z>Xt&&(z=Xt),this.setPage(z))},ic=function(g){g>0&&g<=Xt&&(z=g)},Bh=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ke.length-1},ac=function(g,k,q){var J,ie=void 0;return q=q||{},g=g!==void 0?g:Ot[pt].fontName,k=k!==void 0?k:Ot[pt].fontStyle,J=g.toLowerCase(),Ut[J]!==void 0&&Ut[J][k]!==void 0?ie=Ut[J][k]:Ut[g]!==void 0&&Ut[g][k]!==void 0?ie=Ut[g][k]:q.disableWarning===!1&&Bt.warn("Unable to look up font label for font '"+g+"', '"+k+"'. Refer to getFontList() for available fonts."),ie||q.noFallback||(ie=Ut.times[k])==null&&(ie=Ut.times.normal),ie},Uh=p.__private__.putInfo=function(){var g=Yt(),k=function(J){return J};for(var q in f!==null&&(k=Gr.encryptor(g,0)),H("<<"),H("/Producer ("+_n(k("jsPDF "+rt.version))+")"),et)et.hasOwnProperty(q)&&et[q]&&H("/"+q.substr(0,1).toUpperCase()+q.substr(1)+" ("+_n(k(et[q]))+")");H("/CreationDate ("+_n(k(pe))+")"),H(">>"),H("endobj")},Al=p.__private__.putCatalog=function(g){var k=(g=g||{}).rootDictionaryObjId||hs;switch(Yt(),H("<<"),H("/Type /Catalog"),H("/Pages "+k+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var q=""+ze;q.substr(q.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&H("/OpenAction [3 0 R /XYZ null null "+O(ze)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}at&&H("/PageMode /"+at),Lt.publish("putCatalog"),H(">>"),H("endobj")},zh=p.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(X+1)),H("/Root "+X+" 0 R"),H("/Info "+(X-1)+" 0 R"),f!==null&&H("/Encrypt "+Gr.oid+" 0 R"),H("/ID [ <"+de+"> <"+de+"> ]"),H(">>")},qh=p.__private__.putHeader=function(){H("%PDF-"+b),H("%")},$h=p.__private__.putXRef=function(){var g="0000000000";H("xref"),H("0 "+(X+1)),H("0000000000 65535 f ");for(var k=1;k<=X;k++)typeof oe[k]=="function"?H((g+oe[k]()).slice(-10)+" 00000 n "):oe[k]!==void 0?H((g+oe[k]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},ti=p.__private__.buildDocument=function(){Xe(),ve(fe),Lt.publish("buildDocument"),qh(),Xs(),Wr(),Hr(),f!==null&&fs(),Uh(),Al();var g=he;return $h(),zh(),H("startxref"),H(""+g),H("%%EOF"),ve(ke[z]),fe.join(`
`)},to=p.__private__.getBlob=function(g){return new Blob([We(g)],{type:"application/pdf"})},ro=p.output=p.__private__.output=ps(function(g,k){switch(typeof(k=k||{})=="string"?k={filename:k}:k.filename=k.filename||"generated.pdf",g){case void 0:return ti();case"save":p.save(k.filename);break;case"arraybuffer":return We(ti());case"blob":return to(ti());case"bloburi":case"bloburl":if(nt.URL!==void 0&&typeof nt.URL.createObjectURL=="function")return nt.URL&&nt.URL.createObjectURL(to(ti()))||void 0;Bt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var q="",J=ti();try{q=Tm(J)}catch{q=Tm(unescape(encodeURIComponent(J)))}return"data:application/pdf;filename="+k.filename+";base64,"+q;case"pdfobjectnewwindow":if(Object.prototype.toString.call(nt)==="[object Window]"){var ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';k.pdfObjectUrl&&(ie=k.pdfObjectUrl,ye="");var je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ie+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(k)+");<\/script></body></html>",qe=nt.open();return qe!==null&&qe.document.write(je),qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(nt)==="[object Window]"){var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(k.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+k.filename+'" width="500px" height="400px" /></body></html>',mt=nt.open();if(mt!==null){mt.document.write(Qe);var dt=this;mt.document.documentElement.querySelector("#pdfViewer").onload=function(){mt.document.title=k.filename,mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(dt.output("bloburl"))}}return mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(nt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",k)+'"></iframe></body></html>',er=nt.open();if(er!==null&&(er.document.write(jt),er.document.title=k.filename),er||typeof safari>"u")return er;break;case"datauri":case"dataurl":return nt.document.location.href=this.output("datauristring",k);default:return null}}),oc=function(g){return Array.isArray(Qs)===!0&&Qs.indexOf(g)>-1};switch(n){case"pt":Me=1;break;case"mm":Me=72/25.4;break;case"cm":Me=72/2.54;break;case"in":Me=72;break;case"px":Me=oc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Me=12;break;case"ex":Me=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Me=n}var Gr=null;Ne(),W();var Vh=function(g){return f!==null?Gr.encryptor(g,0):function(k){return k}},lc=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[g].objId,pageNumber:g,pageContext:lt[g]}},ct=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var k in lt)if(lt[k].objId===g)break;return lc(k)},Hh=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:lt[z].objId,pageNumber:z,pageContext:lt[z]}};p.addPage=function(){return sc.apply(this,arguments),this},p.setPage=function(){return ic.apply(this,arguments),ve.call(this,ke[z]),this},p.insertPage=function(g){return this.addPage(),this.movePage(z,g),this},p.movePage=function(g,k){var q,J;if(g>k){q=ke[g],J=lt[g];for(var ie=g;ie>k;ie--)ke[ie]=ke[ie-1],lt[ie]=lt[ie-1];ke[k]=q,lt[k]=J,this.setPage(k)}else if(g<k){q=ke[g],J=lt[g];for(var ye=g;ye<k;ye++)ke[ye]=ke[ye+1],lt[ye]=lt[ye+1];ke[k]=q,lt[k]=J,this.setPage(k)}return this},p.deletePage=function(){return Mh.apply(this,arguments),this},p.__private__.text=p.text=function(g,k,q,J,ie){var ye,je,qe,Qe,mt,dt,jt,er,ar,yr=(J=J||{}).scope||this;if(typeof g=="number"&&typeof k=="number"&&(typeof q=="string"||Array.isArray(q))){var Kr=q;q=k,k=g,g=Kr}if(arguments[3]instanceof Ye?(M("The transform parameter of text() with a Matrix value"),ar=ie):(qe=arguments[4],Qe=arguments[5],Tt(jt=arguments[3])==="object"&&jt!==null||(typeof qe=="string"&&(Qe=qe,qe=null),typeof jt=="string"&&(Qe=jt,jt=null),typeof jt=="number"&&(qe=jt,jt=null),J={flags:jt,angle:qe,align:Qe})),isNaN(k)||isNaN(q)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return yr;var Lr="",gs=!1,Tn=typeof J.lineHeightFactor=="number"?J.lineHeightFactor:wa,Bs=yr.internal.scaleFactor;function vc(qt){return qt=qt.split("	").join(Array(J.TabLen||9).join(" ")),_n(qt,jt)}function Dl(qt){for(var $t,dr=qt.concat(),jr=[],ai=dr.length;ai--;)typeof($t=dr.shift())=="string"?jr.push($t):Array.isArray(qt)&&($t.length===1||$t[1]===void 0&&$t[2]===void 0)?jr.push($t[0]):jr.push([$t[0],$t[1],$t[2]]);return jr}function Ml(qt,$t){var dr;if(typeof qt=="string")dr=$t(qt)[0];else if(Array.isArray(qt)){for(var jr,ai,Wl=qt.concat(),yo=[],xc=Wl.length;xc--;)typeof(jr=Wl.shift())=="string"?yo.push($t(jr)[0]):Array.isArray(jr)&&typeof jr[0]=="string"&&(ai=$t(jr[0],jr[1],jr[2]),yo.push([ai[0],ai[1],ai[2]]));dr=yo}return dr}var lo=!1,Bl=!0;if(typeof g=="string")lo=!0;else if(Array.isArray(g)){var Ul=g.concat();je=[];for(var uo,Br=Ul.length;Br--;)(typeof(uo=Ul.shift())!="string"||Array.isArray(uo)&&typeof uo[0]!="string")&&(Bl=!1);lo=Bl}if(lo===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var co=Re/yr.internal.scaleFactor,ho=co*(Tn-1);switch(J.baseline){case"bottom":q-=ho;break;case"top":q+=co-ho;break;case"hanging":q+=co-2*ho;break;case"middle":q+=co/2-ho}if((dt=J.maxWidth||0)>0&&(typeof g=="string"?g=yr.splitTextToSize(g,dt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(qt,$t){return qt.concat(yr.splitTextToSize($t,dt))},[]))),ye={text:g,x:k,y:q,options:J,mutex:{pdfEscape:_n,activeFontKey:pt,fonts:Ot,activeFontSize:Re}},Lt.publish("preProcessText",ye),g=ye.text,qe=(J=ye.options).angle,!(ar instanceof Ye)&&qe&&typeof qe=="number"){qe*=Math.PI/180,J.rotationDirection===0&&(qe=-qe),S===_.ADVANCED&&(qe=-qe);var fo=Math.cos(qe),zl=Math.sin(qe);ar=new Ye(fo,zl,-zl,fo,0,0)}else qe&&qe instanceof Ye&&(ar=qe);S!==_.ADVANCED||ar||(ar=Sr),(mt=J.charSpace||io)!==void 0&&(Lr+=T(R(mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(er=J.horizontalScale)!==void 0&&(Lr+=T(100*er)+` Tz
`),J.lang;var xn=-1,tf=J.renderingMode!==void 0?J.renderingMode:J.stroke,ql=yr.internal.getCurrentPageInfo().pageContext;switch(tf){case 0:case!1:case"fill":xn=0;break;case 1:case!0:case"stroke":xn=1;break;case 2:case"fillThenStroke":xn=2;break;case 3:case"invisible":xn=3;break;case 4:case"fillAndAddForClipping":xn=4;break;case 5:case"strokeAndAddPathForClipping":xn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":xn=6;break;case 7:case"addToPathForClipping":xn=7}var yc=ql.usedRenderingMode!==void 0?ql.usedRenderingMode:-1;xn!==-1?Lr+=xn+` Tr
`:yc!==-1&&(Lr+=`0 Tr
`),xn!==-1&&(ql.usedRenderingMode=xn),Qe=J.align||"left";var Qn,po=Re*Tn,wc=yr.internal.pageSize.getWidth(),bc=Ot[pt];mt=J.charSpace||io,dt=J.maxWidth||0,jt=Object.assign({autoencode:!0,noBOM:!0},J.flags);var Ei=[],xa=function(qt){return yr.getStringUnitWidth(qt,{font:bc,charSpace:mt,fontSize:Re,doKerning:!1})*Re/Bs};if(Object.prototype.toString.call(g)==="[object Array]"){var Nn;je=Dl(g),Qe!=="left"&&(Qn=je.map(xa));var on,Li=0;if(Qe==="right"){k-=Qn[0],g=[],Br=je.length;for(var ni=0;ni<Br;ni++)ni===0?(on=Ms(k),Nn=ri(q)):(on=R(Li-Qn[ni]),Nn=-po),g.push([je[ni],on,Nn]),Li=Qn[ni]}else if(Qe==="center"){k-=Qn[0]/2,g=[],Br=je.length;for(var si=0;si<Br;si++)si===0?(on=Ms(k),Nn=ri(q)):(on=R((Li-Qn[si])/2),Nn=-po),g.push([je[si],on,Nn]),Li=Qn[si]}else if(Qe==="left"){g=[],Br=je.length;for(var mo=0;mo<Br;mo++)g.push(je[mo])}else if(Qe==="justify"&&bc.encoding==="Identity-H"){g=[],Br=je.length,dt=dt!==0?dt:wc;for(var ii=0,cr=0;cr<Br;cr++)if(Nn=cr===0?ri(q):-po,on=cr===0?Ms(k):ii,cr<Br-1){var $l=R((dt-Qn[cr])/(je[cr].split(" ").length-1)),ln=je[cr].split(" ");g.push([ln[0]+" ",on,Nn]),ii=0;for(var Xn=1;Xn<ln.length;Xn++){var go=(xa(ln[Xn-1]+" "+ln[Xn])-xa(ln[Xn]))*Bs+$l;Xn==ln.length-1?g.push([ln[Xn],go,0]):g.push([ln[Xn]+" ",go,0]),ii-=go}}else g.push([je[cr],on,Nn]);g.push(["",ii,0])}else{if(Qe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],Br=je.length,dt=dt!==0?dt:wc,cr=0;cr<Br;cr++)Nn=cr===0?ri(q):-po,on=cr===0?Ms(k):0,cr<Br-1?Ei.push(T(R((dt-Qn[cr])/(je[cr].split(" ").length-1)))):Ei.push(0),g.push([je[cr],on,Nn])}}var _c=typeof J.R2L=="boolean"?J.R2L:Ke;_c===!0&&(g=Ml(g,function(qt,$t,dr){return[qt.split("").reverse().join(""),$t,dr]})),ye={text:g,x:k,y:q,options:J,mutex:{pdfEscape:_n,activeFontKey:pt,fonts:Ot,activeFontSize:Re}},Lt.publish("postProcessText",ye),g=ye.text,gs=ye.mutex.isHex||!1;var Vl=Ot[pt].encoding;Vl!=="WinAnsiEncoding"&&Vl!=="StandardEncoding"||(g=Ml(g,function(qt,$t,dr){return[vc(qt),$t,dr]})),je=Dl(g),g=[];for(var Na,Sa,Pi,ja=0,vo=1,Aa=Array.isArray(je[0])?vo:ja,Oi="",Hl=function(qt,$t,dr){var jr="";return dr instanceof Ye?(dr=typeof J.angle=="number"?Nr(dr,new Ye(1,0,0,1,qt,$t)):Nr(new Ye(1,0,0,1,qt,$t),dr),S===_.ADVANCED&&(dr=Nr(new Ye(1,0,0,-1,0,0),dr)),jr=dr.join(" ")+` Tm
`):jr=T(qt)+" "+T($t)+` Td
`,jr},Zn=0;Zn<je.length;Zn++){switch(Oi="",Aa){case vo:Pi=(gs?"<":"(")+je[Zn][0]+(gs?">":")"),Na=parseFloat(je[Zn][1]),Sa=parseFloat(je[Zn][2]);break;case ja:Pi=(gs?"<":"(")+je[Zn]+(gs?">":")"),Na=Ms(k),Sa=ri(q)}Ei!==void 0&&Ei[Zn]!==void 0&&(Oi=Ei[Zn]+` Tw
`),Zn===0?g.push(Oi+Hl(Na,Sa,ar)+Pi):Aa===ja?g.push(Oi+Pi):Aa===vo&&g.push(Oi+Hl(Na,Sa,ar)+Pi)}g=Aa===ja?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var es=`BT
/`;return es+=pt+" "+Re+` Tf
`,es+=T(Re*Tn)+` TL
`,es+=ba+`
`,es+=Lr,es+=g,H(es+="ET"),v[pt]=!0,yr};var Wh=p.__private__.clip=p.clip=function(g){return H(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Wh("evenodd")},p.__private__.discardPath=p.discardPath=function(){return H("n"),this};var Ds=p.__private__.isValidStyle=function(g){var k=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(k=!0),k};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return Ds(g)&&(c=g),this};var uc=p.__private__.getStyle=p.getStyle=function(g){var k=c;switch(g){case"D":case"S":k="S";break;case"F":k="f";break;case"FD":case"DF":k="B";break;case"f":case"f*":case"B":case"B*":k=g}return k},cc=p.close=function(){return H("h"),this};p.stroke=function(){return H("S"),this},p.fill=function(g){return no("f",g),this},p.fillEvenOdd=function(g){return no("f*",g),this},p.fillStroke=function(g){return no("B",g),this},p.fillStrokeEvenOdd=function(g){return no("B*",g),this};var no=function(g,k){Tt(k)==="object"?Kh(k,g):H(g)},kl=function(g){g===null||S===_.ADVANCED&&g===void 0||(g=uc(g),H(g))};function Gh(g,k,q,J,ie){var ye=new Go(k||this.boundingBox,q||this.xStep,J||this.yStep,this.gState,ie||this.matrix);ye.stream=this.stream;var je=g+"$$"+this.cloneIndex+++"$$";return Zt(je,ye),ye}var Kh=function(g,k){var q=Js[g.key],J=Ct[q];if(J instanceof Da)H("q"),H(Yh(k)),J.gState&&p.setGState(J.gState),H(g.matrix.toString()+" cm"),H("/"+q+" sh"),H("Q");else if(J instanceof Go){var ie=new Ye(1,0,0,-1,0,Ci());g.matrix&&(ie=ie.multiply(g.matrix||Sr),q=Gh.call(J,g.key,g.boundingBox,g.xStep,g.yStep,ie).id),H("q"),H("/Pattern cs"),H("/"+q+" scn"),J.gState&&p.setGState(J.gState),H(k),H("Q")}},Yh=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Cl=p.moveTo=function(g,k){return H(T(R(g))+" "+T(V(k))+" m"),this},ya=p.lineTo=function(g,k){return H(T(R(g))+" "+T(V(k))+" l"),this},Ai=p.curveTo=function(g,k,q,J,ie,ye){return H([T(R(g)),T(V(k)),T(R(q)),T(V(J)),T(R(ie)),T(V(ye)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,k,q,J,ie){if(isNaN(g)||isNaN(k)||isNaN(q)||isNaN(J)||!Ds(ie))throw new Error("Invalid arguments passed to jsPDF.line");return S===_.COMPAT?this.lines([[q-g,J-k]],g,k,[1,1],ie||"S"):this.lines([[q-g,J-k]],g,k,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,k,q,J,ie,ye){var je,qe,Qe,mt,dt,jt,er,ar,yr,Kr,Lr,gs;if(typeof g=="number"&&(gs=q,q=k,k=g,g=gs),J=J||[1,1],ye=ye||!1,isNaN(k)||isNaN(q)||!Array.isArray(g)||!Array.isArray(J)||!Ds(ie)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cl(k,q),je=J[0],qe=J[1],mt=g.length,Kr=k,Lr=q,Qe=0;Qe<mt;Qe++)(dt=g[Qe]).length===2?(Kr=dt[0]*je+Kr,Lr=dt[1]*qe+Lr,ya(Kr,Lr)):(jt=dt[0]*je+Kr,er=dt[1]*qe+Lr,ar=dt[2]*je+Kr,yr=dt[3]*qe+Lr,Kr=dt[4]*je+Kr,Lr=dt[5]*qe+Lr,Ai(jt,er,ar,yr,Kr,Lr));return ye&&cc(),kl(ie),this},p.path=function(g){for(var k=0;k<g.length;k++){var q=g[k],J=q.c;switch(q.op){case"m":Cl(J[0],J[1]);break;case"l":ya(J[0],J[1]);break;case"c":Ai.apply(this,J);break;case"h":cc()}}return this},p.__private__.rect=p.rect=function(g,k,q,J,ie){if(isNaN(g)||isNaN(k)||isNaN(q)||isNaN(J)||!Ds(ie))throw new Error("Invalid arguments passed to jsPDF.rect");return S===_.COMPAT&&(J=-J),H([T(R(g)),T(V(k)),T(R(q)),T(R(J)),"re"].join(" ")),kl(ie),this},p.__private__.triangle=p.triangle=function(g,k,q,J,ie,ye,je){if(isNaN(g)||isNaN(k)||isNaN(q)||isNaN(J)||isNaN(ie)||isNaN(ye)||!Ds(je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[q-g,J-k],[ie-q,ye-J],[g-ie,k-ye]],g,k,[1,1],je,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,k,q,J,ie,ye,je){if(isNaN(g)||isNaN(k)||isNaN(q)||isNaN(J)||isNaN(ie)||isNaN(ye)||!Ds(je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qe=4/3*(Math.SQRT2-1);return ie=Math.min(ie,.5*q),ye=Math.min(ye,.5*J),this.lines([[q-2*ie,0],[ie*qe,0,ie,ye-ye*qe,ie,ye],[0,J-2*ye],[0,ye*qe,-ie*qe,ye,-ie,ye],[2*ie-q,0],[-ie*qe,0,-ie,-ye*qe,-ie,-ye],[0,2*ye-J],[0,-ye*qe,ie*qe,-ye,ie,-ye]],g+ie,k,[1,1],je,!0),this},p.__private__.ellipse=p.ellipse=function(g,k,q,J,ie){if(isNaN(g)||isNaN(k)||isNaN(q)||isNaN(J)||!Ds(ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*q,je=4/3*(Math.SQRT2-1)*J;return Cl(g+q,k),Ai(g+q,k-je,g+ye,k-J,g,k-J),Ai(g-ye,k-J,g-q,k-je,g-q,k),Ai(g-q,k+je,g-ye,k+J,g,k+J),Ai(g+ye,k+J,g+q,k+je,g+q,k),kl(ie),this},p.__private__.circle=p.circle=function(g,k,q,J){if(isNaN(g)||isNaN(k)||isNaN(q)||!Ds(J))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,k,q,q,J)},p.setFont=function(g,k,q){return q&&(k=Q(k,q)),pt=ac(g,k,{disableWarning:!1}),this};var Jh=p.__private__.getFont=p.getFont=function(){return Ot[ac.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,k,q={};for(g in Ut)if(Ut.hasOwnProperty(g))for(k in q[g]=[],Ut[g])Ut[g].hasOwnProperty(k)&&q[g].push(k);return q},p.addFont=function(g,k,q,J,ie){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?ie=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&(q=Q(q,J)),ie=ie||"Identity-H",Sl.call(this,g,k,q,ie)};var wa,El=t.lineWidth||.200025,so=p.__private__.getLineWidth=p.getLineWidth=function(){return El},dc=p.__private__.setLineWidth=p.setLineWidth=function(g){return El=g,H(T(R(g))+" w"),this};p.__private__.setLineDash=rt.API.setLineDash=rt.API.setLineDashPattern=function(g,k){if(g=g||[],k=k||0,isNaN(k)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(q){return T(R(q))}).join(" "),k=T(R(k)),H("["+g+"] "+k+" d"),this};var hc=p.__private__.getLineHeight=p.getLineHeight=function(){return Re*wa};p.__private__.getLineHeight=p.getLineHeight=function(){return Re*wa};var fc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(wa=g),this},pc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return wa};fc(t.lineHeight);var Ms=p.__private__.getHorizontalCoordinate=function(g){return R(g)},ri=p.__private__.getVerticalCoordinate=function(g){return S===_.ADVANCED?g:lt[z].mediaBox.topRightY-lt[z].mediaBox.bottomLeftY-R(g)},Qh=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return T(Ms(g))},ki=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return T(ri(g))},ms=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return On(ms)},p.__private__.setStrokeColor=p.setDrawColor=function(g,k,q,J){return ms=In({ch1:g,ch2:k,ch3:q,ch4:J,pdfColorType:"draw",precision:2}),H(ms),this};var Ll=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return On(Ll)},p.__private__.setFillColor=p.setFillColor=function(g,k,q,J){return Ll=In({ch1:g,ch2:k,ch3:q,ch4:J,pdfColorType:"fill",precision:2}),H(Ll),this};var ba=t.textColor||"0 g",Xh=p.__private__.getTextColor=p.getTextColor=function(){return On(ba)};p.__private__.setTextColor=p.setTextColor=function(g,k,q,J){return ba=In({ch1:g,ch2:k,ch3:q,ch4:J,pdfColorType:"text",precision:3}),this};var io=t.charSpace,Zh=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(io||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return io=g,this};var Pl=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var k=p.CapJoinStyles[g];if(k===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pl=k,H(k+" J"),this};var Ol=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var k=p.CapJoinStyles[g];if(k===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ol=k,H(k+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(T(R(g))+" M"),this},p.GState=ch,p.setGState=function(g){(g=typeof g=="string"?Qt[Yn[g]]:mc(null,g)).equals(Ts)||(H("/"+g.id+" gs"),Ts=g)};var mc=function(g,k){if(!g||!Yn[g]){var q=!1;for(var J in Qt)if(Qt.hasOwnProperty(J)&&Qt[J].equals(k)){q=!0;break}if(q)k=Qt[J];else{var ie="GS"+(Object.keys(Qt).length+1).toString(10);Qt[ie]=k,k.id=ie}return g&&(Yn[g]=k.id),Lt.publish("addGState",k),k}};p.addGState=function(g,k){return mc(g,k),this},p.saveGraphicsState=function(){return H("q"),Kn.push({key:pt,size:Re,color:ba}),this},p.restoreGraphicsState=function(){H("Q");var g=Kn.pop();return pt=g.key,Re=g.size,ba=g.color,Ts=null,this},p.setCurrentTransformationMatrix=function(g){return H(g.toString()+" cm"),this},p.comment=function(g){return H("#"+g),this};var ao=function(g,k){var q=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return q},set:function(ye){isNaN(ye)||(q=parseFloat(ye))}});var J=k||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return J},set:function(ye){isNaN(ye)||(J=parseFloat(ye))}});var ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ie},set:function(ye){ie=ye.toString()}}),this},Il=function(g,k,q,J){ao.call(this,g,k),this.type="rect";var ie=q||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ie},set:function(je){isNaN(je)||(ie=parseFloat(je))}});var ye=J||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(je){isNaN(je)||(ye=parseFloat(je))}}),this},Rl=function(){this.page=Xt,this.currentPage=z,this.pages=ke.slice(0),this.pagesContext=lt.slice(0),this.x=Fr,this.y=St,this.matrix=mn,this.width=_a(z),this.height=Ci(z),this.outputDestination=Ie,this.id="",this.objectNumber=-1};Rl.prototype.restore=function(){Xt=this.page,z=this.currentPage,lt=this.pagesContext,ke=this.pages,Fr=this.x,St=this.y,mn=this.matrix,Tl(z,this.width),Fl(z,this.height),Ie=this.outputDestination};var gc=function(g,k,q,J,ie){gn.push(new Rl),Xt=z=0,ke=[],Fr=g,St=k,mn=ie,jl([q,J])},ef=function(g){if(Dr[g])gn.pop().restore();else{var k=new Rl,q="Xo"+(Object.keys(vr).length+1).toString(10);k.id=q,Dr[g]=q,vr[q]=k,Lt.publish("addFormObject",k),gn.pop().restore()}};for(var oo in p.beginFormObject=function(g,k,q,J,ie){return gc(g,k,q,J,ie),this},p.endFormObject=function(g){return ef(g),this},p.doFormObject=function(g,k){var q=vr[Dr[g]];return H("q"),H(k.toString()+" cm"),H("/"+q.id+" Do"),H("Q"),this},p.getFormObject=function(g){var k=vr[Dr[g]];return{x:k.x,y:k.y,width:k.width,height:k.height,matrix:k.matrix}},p.save=function(g,k){return g=g||"generated.pdf",(k=k||{}).returnPromise=k.returnPromise||!1,k.returnPromise===!1?(Ia(to(ti()),g),typeof Ia.unload=="function"&&nt.setTimeout&&setTimeout(Ia.unload,911),this):new Promise(function(q,J){try{var ie=Ia(to(ti()),g);typeof Ia.unload=="function"&&nt.setTimeout&&setTimeout(Ia.unload,911),q(ie)}catch(ye){J(ye.message)}})},rt.API)rt.API.hasOwnProperty(oo)&&(oo==="events"&&rt.API.events.length?function(g,k){var q,J,ie;for(ie=k.length-1;ie!==-1;ie--)q=k[ie][0],J=k[ie][1],g.subscribe.apply(g,[q].concat(typeof J=="function"?[J]:J))}(Lt,rt.API.events):p[oo]=rt.API[oo]);var _a=p.getPageWidth=function(g){return(lt[g=g||z].mediaBox.topRightX-lt[g].mediaBox.bottomLeftX)/Me},Tl=p.setPageWidth=function(g,k){lt[g].mediaBox.topRightX=k*Me+lt[g].mediaBox.bottomLeftX},Ci=p.getPageHeight=function(g){return(lt[g=g||z].mediaBox.topRightY-lt[g].mediaBox.bottomLeftY)/Me},Fl=p.setPageHeight=function(g,k){lt[g].mediaBox.topRightY=k*Me+lt[g].mediaBox.bottomLeftY};return p.internal={pdfEscape:_n,getStyle:uc,getFont:Jh,getFontSize:De,getCharSpace:Zh,getTextColor:Xh,getLineHeight:hc,getLineHeightFactor:pc,getLineWidth:so,write:it,getHorizontalCoordinate:Ms,getVerticalCoordinate:ri,getCoordinateString:Qh,getVerticalCoordinateString:ki,collections:{},newObject:Yt,newAdditionalObject:ji,newObjectDeferred:ir,newObjectDeferredBegin:sn,getFilters:Jn,putStream:yn,events:Lt,scaleFactor:Me,pageSize:{getWidth:function(){return _a(z)},setWidth:function(g){Tl(z,g)},getHeight:function(){return Ci(z)},setHeight:function(g){Fl(z,g)}},encryptionOptions:f,encryption:Gr,getEncryptor:Vh,output:ro,getNumberOfPages:Bh,pages:ke,out:H,f2:O,f3:P,getPageInfo:lc,getPageInfoByObjId:ct,getCurrentPageInfo:Hh,getPDFVersion:N,Point:ao,Rectangle:Il,Matrix:Ye,hasHotfix:oc},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return _a(z)},set:function(g){Tl(z,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ci(z)},set:function(g){Fl(z,g)},enumerable:!0,configurable:!0}),Dh.call(p,Ce),pt="F1",sc(s,r),Lt.publish("initialized"),p}Io.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Io.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Io.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Io.prototype.processOwnerPassword=function(t,e){return Dm(Fm(e).substr(0,5),t)},Io.prototype.encryptor=function(t,e){var r=Fm(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Dm(r,n)}},ch.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Tt(t)!==Tt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},rt.API={events:[]},rt.version="2.5.2";var lr=rt.API,J0=1,Za=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Eo=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ht=function(t){return t.toFixed(2)},$i=function(t){return t.toFixed(5)};lr.__acroform__={};var Pn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},P2=function(t){return t*J0},qs=function(t){var e=new Hw,r=He.internal.getHeight(t)||0,n=He.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ht(n)),Number(ht(r))],e},Qj=lr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Xj=lr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Zj=lr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},fr=lr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Zj(t,e-1)},pr=lr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Qj(t,e-1)},mr=lr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Xj(t,e-1)},e6=lr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],a=t[2],l=t[3],o={};return o.lowerLeft_X=r(s)||0,o.lowerLeft_Y=n(i+l)||0,o.upperRight_X=r(s+a)||0,o.upperRight_Y=n(i)||0,[Number(ht(o.lowerLeft_X)),Number(ht(o.lowerLeft_Y)),Number(ht(o.upperRight_X)),Number(ht(o.upperRight_Y))]},t6=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Mm(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+ht(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=qs(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},Mm=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(P){return P.split(`
`)}):s.map(function(P){return[P]});var i=r,a=He.internal.getHeight(t)||0;a=a<0?-a:a;var l=He.internal.getWidth(t)||0;l=l<0?-l:l;var o=function(P,R,G){if(P+1<s.length){var V=R+" "+s[P+1][0];return md(V,t,G).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var c,f,m=md("3",t,i).height,v=t.multiline?a-i:(a-m)/2,p=v+=2,b=0,N=0,j=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+md(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var w="",_=0,S=0;S<s.length;S++)if(s.hasOwnProperty(S)){var I=!1;if(s[S].length!==1&&j!==s[S].length-1){if((m+2)*(_+2)+2>a)continue e;w+=s[S][j],I=!0,N=S,S--}else{w=(w+=s[S][j]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var B=parseInt(S),Q=o(B,w,i),T=S>=s.length-1;if(Q&&!T){w+=" ",j=0;continue}if(Q||T){if(T)N=B;else if(t.multiline&&(m+2)*(_+2)+2>a)continue e}else{if(!t.multiline||(m+2)*(_+2)+2>a)continue e;N=B}}for(var M="",K=b;K<=N;K++){var O=s[K];if(t.multiline){if(K===N){M+=O[j]+" ",j=(j+1)%O.length;continue}if(K===b){M+=O[O.length-1]+" ";continue}}M+=O[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,f=md(M,t,i).width,t.textAlign){case"right":c=l-f-2;break;case"center":c=(l-f)/2;break;case"left":default:c=2}e+=ht(c)+" "+ht(p)+` Td
`,e+="("+Za(M)+`) Tj
`,e+=-ht(c)+` 0 Td
`,p=-(i+2),f=0,b=I?N:N+1,_++,w=""}break}return n.text=e,n.fontSize=i,n},md=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},r6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},n6=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},s6=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,s=t[r];e.internal.newObjectDeferredBegin(s.objId,!0),Tt(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[n]}},i6=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Is.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(r6)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");J0=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Ww,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&n6(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var l=n[a],o=[],c=l.Rect;if(l.Rect&&(l.Rect=e6(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=He.createDefaultAppearanceStream(l),Tt(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(o=l.getKeyValueListForStream()),l.Rect=c,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=t6(l);o.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var m="";for(var v in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(v)){var p=l.appearanceStreamContent[v];if(m+="/"+v+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var b=p[a];typeof b=="function"&&(b=b.call(s,l)),m+="/"+a+" "+b+" ",s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b)}}else typeof(b=p)=="function"&&(b=b.call(s,l)),m+="/"+a+" "+b,s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b);m+=">>"}o.push({key:"AP",value:`<<
`+m+">>"})}s.internal.putStream({additionalKeyValues:o,objectId:l.objId}),s.internal.out("endobj")}i&&s6(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Vw=lr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),Tt(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+Za(n(t[i].toString()))+")"):s+=t[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},fp=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Za(n(t))+")"},Hs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Hs.prototype.toString=function(){return this.objId+" 0 R"},Hs.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Hs.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:Vw(s,this.objId,this.scope)}):s instanceof Hs?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var Hw=function(){Hs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Pn(Hw,Hs);var Ww=function(){Hs.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Za(r(t))+")"}},set:function(r){t=r}})};Pn(Ww,Hs);var Is=function t(){Hs.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fr(e,3)},set:function(w){w?this.F=pr(e,3):this.F=mr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof dh)return;i="FieldObject"+t.FieldNum++}var w=function(_){return _};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Za(w(i))+")"},set:function(w){i=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(w){i=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var o=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/J0:c},set:function(w){c=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof dh||this instanceof Va))return fp(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=w}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Rr?v:fp(v,this.objId,this.scope)},set:function(w){w=w.toString(),v=this instanceof Rr?w:w.substr(0,1)==="("?Eo(w.substr(1,w.length-2)):Eo(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rr?Eo(v.substr(1,v.length-1)):v},set:function(w){w=w.toString(),v=this instanceof Rr?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Rr?p:fp(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof Rr?w:w.substr(0,1)==="("?Eo(w.substr(1,w.length-2)):Eo(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rr?Eo(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Rr?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(w){w=!!w,N=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(w){b=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,1)},set:function(w){w?this.Ff=pr(this.Ff,1):this.Ff=mr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,2)},set:function(w){w?this.Ff=pr(this.Ff,2):this.Ff=mr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,3)},set:function(w){w?this.Ff=pr(this.Ff,3):this.Ff=mr(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');j=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(j){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};Pn(Is,Hs);var rl=function(){Is.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Vw(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,l){l||(l=1);for(var o,c=[];o=a.exec(i);)c.push(o[l]);return c}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,18)},set:function(r){r?this.Ff=pr(this.Ff,18):this.Ff=mr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=pr(this.Ff,19):this.Ff=mr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,20)},set:function(r){r?(this.Ff=pr(this.Ff,20),e.sort()):this.Ff=mr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,22)},set:function(r){r?this.Ff=pr(this.Ff,22):this.Ff=mr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,23)},set:function(r){r?this.Ff=pr(this.Ff,23):this.Ff=mr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,27)},set:function(r){r?this.Ff=pr(this.Ff,27):this.Ff=mr(this.Ff,27)}}),this.hasAppearanceStream=!1};Pn(rl,Is);var nl=function(){rl.call(this),this.fontName="helvetica",this.combo=!1};Pn(nl,rl);var sl=function(){nl.call(this),this.combo=!0};Pn(sl,nl);var Ld=function(){sl.call(this),this.edit=!0};Pn(Ld,sl);var Rr=function(){Is.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,15)},set:function(r){r?this.Ff=pr(this.Ff,15):this.Ff=mr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,16)},set:function(r){r?this.Ff=pr(this.Ff,16):this.Ff=mr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,17)},set:function(r){r?this.Ff=pr(this.Ff,17):this.Ff=mr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,26)},set:function(r){r?this.Ff=pr(this.Ff,26):this.Ff=mr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+Za(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Tt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Pn(Rr,Is);var Pd=function(){Rr.call(this),this.pushButton=!0};Pn(Pd,Rr);var il=function(){Rr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Pn(il,Rr);var dh=function(){var t,e;Is.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+Za(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Tt(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=He.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Pn(dh,Is),il.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},il.prototype.createOption=function(t){var e=new dh;return e.Parent=this,e.optionName=t,this.Kids.push(e),a6.call(this.scope,e),e};var Od=function(){Rr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=He.CheckBox.createAppearanceStream()};Pn(Od,Rr);var Va=function(){Is.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,13)},set:function(e){e?this.Ff=pr(this.Ff,13):this.Ff=mr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,21)},set:function(e){e?this.Ff=pr(this.Ff,21):this.Ff=mr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,23)},set:function(e){e?this.Ff=pr(this.Ff,23):this.Ff=mr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,24)},set:function(e){e?this.Ff=pr(this.Ff,24):this.Ff=mr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,25)},set:function(e){e?this.Ff=pr(this.Ff,25):this.Ff=mr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,26)},set:function(e){e?this.Ff=pr(this.Ff,26):this.Ff=mr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Pn(Va,Is);var Id=function(){Va.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,14)},set:function(t){t?this.Ff=pr(this.Ff,14):this.Ff=mr(this.Ff,14)}}),this.password=!0};Pn(Id,Va);var He={CheckBox:{createAppearanceStream:function(){return{N:{On:He.CheckBox.YesNormal},D:{On:He.CheckBox.YesPushDown,Off:He.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=qs(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=Mm(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ht(He.internal.getWidth(t))+" "+ht(He.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ht(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=qs(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=He.internal.getHeight(t),a=He.internal.getWidth(t),l=Mm(t,t.caption);return s.push("1 g"),s.push("0 0 "+ht(a)+" "+ht(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+ht(a-1)+" "+ht(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+ht(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=qs(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ht(He.internal.getWidth(t))+" "+ht(He.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:He.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=He.RadioButton.Circle.YesNormal,e.D[t]=He.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=qs(t);e.scope=t.scope;var r=[],n=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=He.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+$i(He.internal.getWidth(t)/2)+" "+$i(He.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=qs(t);e.scope=t.scope;var r=[],n=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*He.internal.Bezier_C).toFixed(5)),a=Number((n*He.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$i(He.internal.getWidth(t)/2)+" "+$i(He.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+$i(He.internal.getWidth(t)/2)+" "+$i(He.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=qs(t);e.scope=t.scope;var r=[],n=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*He.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$i(He.internal.getWidth(t)/2)+" "+$i(He.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:He.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=He.RadioButton.Cross.YesNormal,e.D[t]=He.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=qs(t);e.scope=t.scope;var r=[],n=He.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ht(He.internal.getWidth(t)-2)+" "+ht(He.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ht(n.x1.x)+" "+ht(n.x1.y)+" m"),r.push(ht(n.x2.x)+" "+ht(n.x2.y)+" l"),r.push(ht(n.x4.x)+" "+ht(n.x4.y)+" m"),r.push(ht(n.x3.x)+" "+ht(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=qs(t);e.scope=t.scope;var r=He.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ht(He.internal.getWidth(t))+" "+ht(He.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ht(He.internal.getWidth(t)-2)+" "+ht(He.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ht(r.x1.x)+" "+ht(r.x1.y)+" m"),n.push(ht(r.x2.x)+" "+ht(r.x2.y)+" l"),n.push(ht(r.x4.x)+" "+ht(r.x4.y)+" m"),n.push(ht(r.x3.x)+" "+ht(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=qs(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ht(He.internal.getWidth(t))+" "+ht(He.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};He.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=He.internal.getWidth(t),r=He.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},He.internal.getWidth=function(t){var e=0;return Tt(t)==="object"&&(e=P2(t.Rect[2])),e},He.internal.getHeight=function(t){var e=0;return Tt(t)==="object"&&(e=P2(t.Rect[3])),e};var a6=lr.addField=function(t){if(i6(this,t),!(t instanceof Is))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};lr.AcroFormChoiceField=rl,lr.AcroFormListBox=nl,lr.AcroFormComboBox=sl,lr.AcroFormEditBox=Ld,lr.AcroFormButton=Rr,lr.AcroFormPushButton=Pd,lr.AcroFormRadioButton=il,lr.AcroFormCheckBox=Od,lr.AcroFormTextField=Va,lr.AcroFormPasswordField=Id,lr.AcroFormAppearance=He,lr.AcroForm={ChoiceField:rl,ListBox:nl,ComboBox:sl,EditBox:Ld,Button:Rr,PushButton:Pd,RadioButton:il,CheckBox:Od,TextField:Va,PasswordField:Id,Appearance:He},rt.AcroForm={ChoiceField:rl,ListBox:nl,ComboBox:sl,EditBox:Ld,Button:Rr,PushButton:Pd,RadioButton:il,CheckBox:Od,TextField:Va,PasswordField:Id,Appearance:He};rt.AcroForm;function Gw(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(P,R){var G,V,pe,de,me,W=e;if((R=R||e)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(Q(P))for(me in r)for(pe=r[me],G=0;G<pe.length;G+=1){for(de=!0,V=0;V<pe[G].length;V+=1)if(pe[G][V]!==void 0&&pe[G][V]!==P[V]){de=!1;break}if(de===!0){W=me;break}}else for(me in r)for(pe=r[me],G=0;G<pe.length;G+=1){for(de=!0,V=0;V<pe[G].length;V+=1)if(pe[G][V]!==void 0&&pe[G][V]!==P.charCodeAt(V)){de=!1;break}if(de===!0){W=me;break}}return W===e&&R!==e&&(W=R),W},s=function P(R){for(var G=this.internal.write,V=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:R.width}),de.push({key:"Height",value:R.height}),R.colorSpace===j.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===j.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var me="",W=0,re=R.transparency.length;W<re;W++)me+=R.transparency[W]+" "+R.transparency[W]+" ";de.push({key:"Mask",value:"["+me+"]"})}R.sMask!==void 0&&de.push({key:"SMask",value:R.objectId+1+" 0 R"});var ae=R.filter!==void 0?["/"+R.filter]:void 0;if(V({data:R.data,additionalKeyValues:de,alreadyAppliedFilters:ae,objectId:R.objectId}),G("endobj"),"sMask"in R&&R.sMask!==void 0){var Ne="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,C={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:Ne,data:R.sMask};"filter"in R&&(C.filter=R.filter),P.call(this,C)}if(R.colorSpace===j.INDEXED){var z=this.internal.newObject();V({data:M(new Uint8Array(R.palette)),objectId:z}),G("endobj")}},i=function(){var P=this.internal.collections.addImage_images;for(var R in P)s.call(this,P[R])},a=function(){var P,R=this.internal.collections.addImage_images,G=this.internal.write;for(var V in R)G("/I"+(P=R[V]).index,P.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},o=function(){var P=this.internal.collections.addImage_images;return l.call(this),P},c=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(P){return typeof t["process"+P.toUpperCase()]=="function"},m=function(P){return Tt(P)==="object"&&P.nodeType===1},v=function(P,R){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var G=""+P.getAttribute("src");if(G.indexOf("data:image/")===0)return ku(unescape(G).split("base64,").pop());var V=t.loadFile(G,!0);if(V!==void 0)return V}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var pe;switch(R){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;case"JPEG":case"JPG":default:pe="image/jpeg"}return ku(P.toDataURL(pe,1).split("base64,").pop())}},p=function(P){var R=this.internal.collections.addImage_images;if(R){for(var G in R)if(P===R[G].alias)return R[G]}},b=function(P,R,G){return P||R||(P=-96,R=-96),P<0&&(P=-1*G.width*72/P/this.internal.scaleFactor),R<0&&(R=-1*G.height*72/R/this.internal.scaleFactor),P===0&&(P=R*G.width/G.height),R===0&&(R=P*G.height/G.width),[P,R]},N=function(P,R,G,V,pe,de){var me=b.call(this,G,V,pe),W=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,ae=o.call(this);if(G=me[0],V=me[1],ae[pe.index]=pe,de){de*=Math.PI/180;var Ne=Math.cos(de),C=Math.sin(de),z=function(Y){return Y.toFixed(4)},$=[z(Ne),z(C),z(-1*C),z(Ne),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,W(P),re(R+V),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([W(G),"0","0",W(V),"0","0","cm"].join(" "))):this.internal.write([W(G),"0","0",W(V),W(P),re(R+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},j=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(P){var R,G,V=0;if(typeof P=="string")for(G=P.length,R=0;R<G;R++)V=(V<<5)-V+P.charCodeAt(R),V|=0;else if(Q(P))for(G=P.byteLength/2,R=0;R<G;R++)V=(V<<5)-V+P[R],V|=0;return V},S=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var R=!0;return P.length===0&&(R=!1),P.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(R=!1),R},I=t.__addimage__.extractImageFromDataUrl=function(P){var R=(P=P||"").split("base64,"),G=null;if(R.length===2){var V=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(V)&&(G={mimeType:V[1],charset:V[2],data:R[1]})}return G},B=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(P){return B()&&P instanceof ArrayBuffer};var Q=t.__addimage__.isArrayBufferView=function(P){return B()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},T=t.__addimage__.binaryStringToUint8Array=function(P){for(var R=P.length,G=new Uint8Array(R),V=0;V<R;V++)G[V]=P.charCodeAt(V);return G},M=t.__addimage__.arrayBufferToBinaryString=function(P){for(var R="",G=Q(P)?P:new Uint8Array(P),V=0;V<G.length;V+=8192)R+=String.fromCharCode.apply(null,G.subarray(V,V+8192));return R};t.addImage=function(){var P,R,G,V,pe,de,me,W,re;if(typeof arguments[1]=="number"?(R=e,G=arguments[1],V=arguments[2],pe=arguments[3],de=arguments[4],me=arguments[5],W=arguments[6],re=arguments[7]):(R=arguments[1],G=arguments[2],V=arguments[3],pe=arguments[4],de=arguments[5],me=arguments[6],W=arguments[7],re=arguments[8]),Tt(P=arguments[0])==="object"&&!m(P)&&"imageData"in P){var ae=P;P=ae.imageData,R=ae.format||R||e,G=ae.x||G||0,V=ae.y||V||0,pe=ae.w||ae.width||pe,de=ae.h||ae.height||de,me=ae.alias||me,W=ae.compression||W,re=ae.rotation||ae.angle||re}var Ne=this.internal.getFilters();if(W===void 0&&Ne.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(G)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var C=K.call(this,P,R,me,W);return N.call(this,G,V,pe,de,C,re),this};var K=function(P,R,G,V){var pe,de,me;if(typeof P=="string"&&n(P)===e){P=unescape(P);var W=O(P,!1);(W!==""||(W=t.loadFile(P,!0))!==void 0)&&(P=W)}if(m(P)&&(P=v(P,R)),R=n(P,R),!f(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((me=G)==null||me.length===0)&&(G=function(re){return typeof re=="string"||Q(re)?_(re):Q(re.data)?_(re.data):null}(P)),(pe=p.call(this,G))||(B()&&(P instanceof Uint8Array||R==="RGBA"||(de=P,P=T(P))),pe=this["process"+R.toUpperCase()](P,c.call(this),G,function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in t.image_compression?re:w.NONE}(V),de)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},O=t.__addimage__.convertBase64ToBinaryString=function(P,R){var G;R=typeof R!="boolean"||R;var V,pe="";if(typeof P=="string"){V=(G=I(P))!==null?G.data:P;try{pe=ku(V)}catch(de){if(R)throw S(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return pe};t.getImageProperties=function(P){var R,G,V="";if(m(P)&&(P=v(P)),typeof P=="string"&&n(P)===e&&((V=O(P,!1))===""&&(V=t.loadFile(P)||""),P=V),G=n(P),!f(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(!B()||P instanceof Uint8Array||(P=T(P)),!(R=this["process"+G.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=G,R}})(rt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};rt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,f=!1,m=0;m<c.length&&!f;m++)switch((n=c[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var v=0;v<c.length;v++){n=c[v];var p=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(N.objId),_=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(w(n.contents))+")",i+=" /Popup "+j.objId+" 0 R",i+=" /P "+o.objId+" 0 R",i+=" /T ("+p(w(_))+") >>",N.content=i;var S=N.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(i+=" /Open true"),i+=" >>",j.content=i,this.internal.write(N.objId,"0 R",j.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var I=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(b(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var B=this.annotations._nameMap[n.options.name];n.options.pageNumber=B.page,n.options.top=B.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var Q=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+Q+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,a){var l=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:o(r),y:c(n),w:o(r+s),h:c(n+i)},options:a,type:"link"})},t.textWithLink=function(r,n,s,i){var a,l,o=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(r,l).length;a=Math.ceil(c*f)}else l=o,a=c;return this.text(r,n,s,i),s+=.2*c,i.align==="center"&&(n-=o/2),i.align==="right"&&(n-=o),this.link(n,s-c,l,a,i),o},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(rt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},l=t.__arabicParser__.isArabicEndLetter=function(N){return a(N)&&i(N)&&e[N.charCodeAt(0)].length<=2},o=t.__arabicParser__.isArabicAlfLetter=function(N){return a(N)&&s.indexOf(N.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return a(N)&&i(N)&&e[N.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(N){return a(N)&&i(N)&&e[N.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(N){return a(N)&&i(N)&&e[N.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(N){return a(N)&&i(N)&&e[N.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(N){var j=0,w=r,_="",S=0;for(j=0;j<N.length;j+=1)w[N.charCodeAt(j)]!==void 0?(S++,typeof(w=w[N.charCodeAt(j)])=="number"&&(_+=String.fromCharCode(w),w=r,S=0),j===N.length-1&&(w=r,_+=N.charAt(j-(S-1)),j-=S-1,S=0)):(w=r,_+=N.charAt(j-S),j-=S,S=0);return _};t.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&n[N.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(N,j,w){return a(N)?i(N)===!1?-1:!c(N)||!a(j)&&!a(w)||!a(w)&&l(j)||l(N)&&!a(j)||l(N)&&o(j)||l(N)&&l(j)?0:f(N)&&a(j)&&!l(j)&&a(w)&&c(w)?3:l(N)||!a(w)?1:2:-1},p=function(N){var j=0,w=0,_=0,S="",I="",B="",Q=(N=N||"").split("\\s+"),T=[];for(j=0;j<Q.length;j+=1){for(T.push(""),w=0;w<Q[j].length;w+=1)S=Q[j][w],I=Q[j][w-1],B=Q[j][w+1],a(S)?(_=v(S,I,B),T[j]+=_!==-1?String.fromCharCode(e[S.charCodeAt(0)][_]):S):T[j]+=S;T[j]=m(T[j])}return T.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var N,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(j)){var _=0;for(w=[],_=0;_<j.length;_+=1)Array.isArray(j[_])?w.push([p(j[_][0]),j[_][1],j[_][2]]):w.push([p(j[_])]);N=w}else N=p(j);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};t.events.push(["preProcessText",b])}(rt.API),rt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(rt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var o=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return o},set:function(N){o=N}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(N){c=N}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(N){v=N}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(N){b=N}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(o){return n.call(this),this.internal.__cell__.headerFunction=typeof o=="function"?o:void 0,this},t.getTextDimensions=function(o,c){n.call(this);var f=(c=c||{}).fontSize||this.getFontSize(),m=c.font||this.getFont(),v=c.scaleFactor||this.internal.scaleFactor,p=0,b=0,N=0,j=this;if(!Array.isArray(o)&&typeof o!="string"){if(typeof o!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");o=String(o)}var w=c.maxWidth;w>0?typeof o=="string"?o=this.splitTextToSize(o,w):Object.prototype.toString.call(o)==="[object Array]"&&(o=o.reduce(function(S,I){return S.concat(j.splitTextToSize(I,w))},[])):o=Array.isArray(o)?o:[o];for(var _=0;_<o.length;_++)p<(N=this.getStringUnitWidth(o[_],{font:m})*f)&&(p=N);return p!==0&&(b=o.length),{w:p/=v,h:Math.max((b*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var o=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(o.left,o.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var o;o=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===o.lineNumber?(o.x=(c.x||0)+(c.width||0),o.y=c.y||0):c.y+c.height+o.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),o.y=m.top,p&&v&&(this.printHeaderRow(o.lineNumber,!0),o.y+=v[0].height)):o.y=c.y+c.height||o.y),o.text[0]!==void 0&&(this.rect(o.x,o.y,o.width,o.height,r===!0?"FD":void 0),o.align==="right"?this.text(o.text,o.x+o.width-f,o.y+f,{align:"right",baseline:"top"}):o.align==="center"?this.text(o.text,o.x+o.width/2,o.y+f,{align:"center",baseline:"top",maxWidth:o.width-f-f}):this.text(o.text,o.x+f,o.y+f,{align:"left",baseline:"top",maxWidth:o.width-f-f})),this.internal.__cell__.lastCell=o,this};t.table=function(o,c,f,m,v){if(n.call(this),!f)throw new Error("No data for PDF table.");var p,b,N,j,w=[],_=[],S=[],I={},B={},Q=[],T=[],M=(v=v||{}).autoSize||!1,K=v.printHeaders!==!1,O=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,P=v.margins||Object.assign({width:this.getPageWidth()},e),R=typeof v.padding=="number"?v.padding:3,G=v.headerBackgroundColor||"#c8c8c8",V=v.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=V,this.setFontSize(O),m==null)_=w=Object.keys(f[0]),S=w.map(function(){return"left"});else if(Array.isArray(m)&&Tt(m[0])==="object")for(w=m.map(function(ae){return ae.name}),_=m.map(function(ae){return ae.prompt||ae.name||""}),S=m.map(function(ae){return ae.align||"left"}),p=0;p<m.length;p+=1)B[m[p].name]=m[p].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(_=w=m,S=w.map(function(){return"left"}));if(M||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<w.length;p+=1){for(I[j=w[p]]=f.map(function(ae){return ae[j]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(_[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=I[j],this.setFont(void 0,"normal"),N=0;N<b.length;N+=1)Q.push(this.getTextDimensions(b[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[j]=Math.max.apply(null,Q)+R+R,Q=[]}if(K){var pe={};for(p=0;p<w.length;p+=1)pe[w[p]]={},pe[w[p]].text=_[p],pe[w[p]].align=S[p];var de=l.call(this,pe,B);T=w.map(function(ae){return new i(o,c,B[ae],de,pe[ae].text,void 0,pe[ae].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var me=m.reduce(function(ae,Ne){return ae[Ne.name]=Ne.align,ae},{});for(p=0;p<f.length;p+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:p,data:f[p]},this);var W=l.call(this,f[p],B);for(N=0;N<w.length;N+=1){var re=f[p][w[N]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:p,col:N,data:re},this),a.call(this,new i(o,c,B[w[N]],W,re,p+2,me[w[N]]))}}return this.internal.__cell__.table_x=o,this.internal.__cell__.table_y=c,this};var l=function(o,c){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(o).map(function(p){var b=o[p];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/v+f+f},this).reduce(function(p,b){return Math.max(p,b)},0)};t.setTableHeaderRow=function(o){n.call(this),this.internal.__cell__.tableHeaderRow=o},t.printHeaderRow=function(o,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(f.y=this.internal.__cell__.margins.top||0,v.push(f)),f.lineNumber=o;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(b)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(rt.API);var Kw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Yw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Bm=Gw(Yw),Jw=[100,200,300,400,500,600,700,800,900],o6=Gw(Jw);function Um(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return Kw[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(i){return typeof Bm[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function O2(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var l6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},I2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function R2(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function u6(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},l6,r.genericFontFamilies||{}),i=null,a=null,l=0;l<e.length;++l)if(s[(i=Um(e[l])).family]&&(i.family=s[i.family]),t.hasOwnProperty(i.family)){a=t[i.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+R2(i)+"' and default family '"+n+"'.");if(a=function(o,c){if(c[o])return c[o];var f=Bm[o],m=f<=Bm.normal?-1:1,v=O2(c,Yw,f,m);if(!v)throw new Error("Could not find a matching font-stretch value for "+o);return v}(i.stretch,a),a=function(o,c){if(c[o])return c[o];for(var f=Kw[o],m=0;m<f.length;++m)if(c[f[m]])return c[f[m]];throw new Error("Could not find a matching font-style for "+o)}(i.style,a),!(a=function(o,c){if(c[o])return c[o];if(o===400&&c[500])return c[500];if(o===500&&c[400])return c[400];var f=o6[o],m=O2(c,Jw,f,o<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+o);return m}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+R2(i)+"'.");return a}function T2(t){return t.trimLeft()}function c6(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function d6(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var gd,F2,D2,pp=["times"];(function(t){var e,r,n,s,i,a,l,o,c,f=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new o,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new a,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new a,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,o=this.internal.Matrix,c=new f}]);var m=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=C;Object.defineProperty(this,"pdf",{get:function(){return z}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(ve){$=!!ve}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(ve){Y=!!ve}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(ve){isNaN(ve)||(X=ve)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(ve){isNaN(ve)||(oe=ve)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ve){var H;typeof ve=="number"?H=[ve,ve,ve,ve]:((H=new Array(4))[0]=ve[0],H[1]=ve.length>=2?ve[1]:H[0],H[2]=ve.length>=3?ve[2]:H[0],H[3]=ve.length>=4?ve[3]:H[1]),c.margin=H}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(ve){fe=ve}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(ve){he=ve}});var Le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Le},set:function(ve){Le=ve}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ve){ve instanceof f&&(c=ve)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ve){c.path=ve}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(ve){ke=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var H;H=v(ve),this.ctx.fillStyle=H.style,this.ctx.isFillTransparent=H.a===0,this.ctx.fillOpacity=H.a,this.pdf.setFillColor(H.r,H.g,H.b,{a:H.a}),this.pdf.setTextColor(H.r,H.g,H.b,{a:H.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var H=v(ve);this.ctx.strokeStyle=H.style,this.ctx.isStrokeTransparent=H.a===0,this.ctx.strokeOpacity=H.a,H.a===0?this.pdf.setDrawColor(255,255,255):(H.a,this.pdf.setDrawColor(H.r,H.g,H.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Fe=null;function Ie(ve,H){if(Fe===null){var it=function(We){var Ce=[];return Object.keys(We).forEach(function(Re){We[Re].forEach(function(ze){var De=null;switch(ze){case"bold":De={family:Re,weight:"bold"};break;case"italic":De={family:Re,style:"italic"};break;case"bolditalic":De={family:Re,weight:"bold",style:"italic"};break;case"":case"normal":De={family:Re}}De!==null&&(De.ref={name:Re,style:ze},Ce.push(De))})}),Ce}(ve.getFontList());Fe=function(We){for(var Ce={},Re=0;Re<We.length;++Re){var ze=Um(We[Re]),De=ze.family,Ke=ze.stretch,at=ze.style,ft=ze.weight;Ce[De]=Ce[De]||{},Ce[De][Ke]=Ce[De][Ke]||{},Ce[De][Ke][at]=Ce[De][Ke][at]||{},Ce[De][Ke][at][ft]=ze}return Ce}(it.concat(H))}return Fe}var Xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Xe},set:function(ve){Fe=null,Xe=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var H;if(this.ctx.font=ve,(H=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var it=H[1],We=(H[2],H[3]),Ce=H[4],Re=(H[5],H[6]),ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ce)[2];Ce=Math.floor(ze==="px"?parseFloat(Ce)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(Ce)*this.pdf.getFontSize():parseFloat(Ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ce);var De=function(et){var pt,Me,Fr=[],St=et.trim();if(St==="")return pp;if(St in I2)return[I2[St]];for(;St!=="";){switch(Me=null,pt=(St=T2(St)).charAt(0)){case'"':case"'":Me=c6(St.substring(1),pt);break;default:Me=d6(St)}if(Me===null||(Fr.push(Me[0]),(St=T2(Me[1]))!==""&&St.charAt(0)!==","))return pp;St=St.replace(/^,/,"")}return Fr}(Re);if(this.fontFaces){var Ke=u6(Ie(this.pdf,this.fontFaces),De.map(function(et){return{family:et,stretch:"normal",weight:We,style:it}}));this.pdf.setFont(Ke.ref.name,Ke.ref.style)}else{var at="";(We==="bold"||parseInt(We,10)>=700||it==="bold")&&(at="bold"),it==="italic"&&(at+="italic"),at.length===0&&(at="normal");for(var ft="",ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_t=0;_t<De.length;_t++){if(this.pdf.internal.getFont(De[_t],at,{noFallback:!0,disableWarning:!0})!==void 0){ft=De[_t];break}if(at==="bolditalic"&&this.pdf.internal.getFont(De[_t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ft=De[_t],at="bold";else if(this.pdf.internal.getFont(De[_t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ft=De[_t],at="normal";break}}if(ft===""){for(var Et=0;Et<De.length;Et++)if(ot[De[Et]]){ft=ot[De[Et]];break}}ft=ft===""?"Times":ft,this.pdf.setFont(ft,at)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,Ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,Ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};m.prototype.setLineDash=function(C){this.lineDash=C},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){I.call(this,"fill",!1)},m.prototype.stroke=function(){I.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(C,z){if(isNaN(C)||isNaN(z))throw Bt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new a(C,z));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new a(C,z)},m.prototype.closePath=function(){var C=new a(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Tt(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){C=new a(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(C.x,C.y)},m.prototype.lineTo=function(C,z){if(isNaN(C)||isNaN(z))throw Bt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new a(C,z));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new a($.x,$.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},m.prototype.quadraticCurveTo=function(C,z,$,Y){if(isNaN($)||isNaN(Y)||isNaN(C)||isNaN(z))throw Bt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new a($,Y)),oe=this.ctx.transform.applyToPoint(new a(C,z));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:X.x,y:X.y}),this.ctx.lastPoint=new a(X.x,X.y)},m.prototype.bezierCurveTo=function(C,z,$,Y,X,oe){if(isNaN(X)||isNaN(oe)||isNaN(C)||isNaN(z)||isNaN($)||isNaN(Y))throw Bt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new a(X,oe)),he=this.ctx.transform.applyToPoint(new a(C,z)),Le=this.ctx.transform.applyToPoint(new a($,Y));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:Le.x,y2:Le.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new a(fe.x,fe.y)},m.prototype.arc=function(C,z,$,Y,X,oe){if(isNaN(C)||isNaN(z)||isNaN($)||isNaN(Y)||isNaN(X))throw Bt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new a(C,z));C=fe.x,z=fe.y;var he=this.ctx.transform.applyToPoint(new a(0,$)),Le=this.ctx.transform.applyToPoint(new a(0,0));$=Math.sqrt(Math.pow(he.x-Le.x,2)+Math.pow(he.y-Le.y,2))}Math.abs(X-Y)>=2*Math.PI&&(Y=0,X=2*Math.PI),this.path.push({type:"arc",x:C,y:z,radius:$,startAngle:Y,endAngle:X,counterclockwise:oe})},m.prototype.arcTo=function(C,z,$,Y,X){throw new Error("arcTo not implemented.")},m.prototype.rect=function(C,z,$,Y){if(isNaN(C)||isNaN(z)||isNaN($)||isNaN(Y))throw Bt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,z),this.lineTo(C+$,z),this.lineTo(C+$,z+Y),this.lineTo(C,z+Y),this.lineTo(C,z),this.lineTo(C+$,z),this.lineTo(C,z)},m.prototype.fillRect=function(C,z,$,Y){if(isNaN(C)||isNaN(z)||isNaN($)||isNaN(Y))throw Bt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,z,$,Y),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},m.prototype.strokeRect=function(C,z,$,Y){if(isNaN(C)||isNaN(z)||isNaN($)||isNaN(Y))throw Bt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(C,z,$,Y),this.stroke())},m.prototype.clearRect=function(C,z,$,Y){if(isNaN(C)||isNaN(z)||isNaN($)||isNaN(Y))throw Bt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,z,$,Y))},m.prototype.save=function(C){C=typeof C!="boolean"||C;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},m.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(z),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(C){var z,$,Y,X;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))z=0,$=0,Y=0,X=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(oe!==null)z=parseInt(oe[1]),$=parseInt(oe[2]),Y=parseInt(oe[3]),X=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)z=parseInt(oe[1]),$=parseInt(oe[2]),Y=parseInt(oe[3]),X=parseFloat(oe[4]);else{if(X=1,typeof C=="string"&&C.charAt(0)!=="#"){var fe=new zw(C);C=fe.ok?fe.toHex():"#000000"}C.length===4?(z=C.substring(1,2),z+=z,$=C.substring(2,3),$+=$,Y=C.substring(3,4),Y+=Y):(z=C.substring(1,3),$=C.substring(3,5),Y=C.substring(5,7)),z=parseInt(z,16),$=parseInt($,16),Y=parseInt(Y,16)}}return{r:z,g:$,b:Y,a:X,style:C}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(C,z,$,Y){if(isNaN(z)||isNaN($)||typeof C!="string")throw Bt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!p.call(this)){var X=W(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;R.call(this,{text:C,x:z,y:$,scale:oe,angle:X,align:this.textAlign,maxWidth:Y})}},m.prototype.strokeText=function(C,z,$,Y){if(isNaN(z)||isNaN($)||typeof C!="string")throw Bt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){Y=isNaN(Y)?void 0:Y;var X=W(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;R.call(this,{text:C,x:z,y:$,scale:oe,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:Y})}},m.prototype.measureText=function(C){if(typeof C!="string")throw Bt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,$=this.pdf.internal.scaleFactor,Y=z.internal.getFontSize(),X=z.getStringUnitWidth(C)*Y/z.internal.scaleFactor,oe=function(fe){var he=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this};return new oe({width:X*=Math.round(96*$/72*1e4)/1e4})},m.prototype.scale=function(C,z){if(isNaN(C)||isNaN(z))throw Bt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new o(C,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply($)},m.prototype.rotate=function(C){if(isNaN(C))throw Bt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new o(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},m.prototype.translate=function(C,z){if(isNaN(C)||isNaN(z))throw Bt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new o(1,0,0,1,C,z);this.ctx.transform=this.ctx.transform.multiply($)},m.prototype.transform=function(C,z,$,Y,X,oe){if(isNaN(C)||isNaN(z)||isNaN($)||isNaN(Y)||isNaN(X)||isNaN(oe))throw Bt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new o(C,z,$,Y,X,oe);this.ctx.transform=this.ctx.transform.multiply(fe)},m.prototype.setTransform=function(C,z,$,Y,X,oe){C=isNaN(C)?1:C,z=isNaN(z)?0:z,$=isNaN($)?0:$,Y=isNaN(Y)?1:Y,X=isNaN(X)?0:X,oe=isNaN(oe)?0:oe,this.ctx.transform=new o(C,z,$,Y,X,oe)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(C,z,$,Y,X,oe,fe,he,Le){var ke=this.pdf.getImageProperties(C),Fe=1,Ie=1,Xe=1,ve=1;Y!==void 0&&he!==void 0&&(Xe=he/Y,ve=Le/X,Fe=ke.width/Y*he/Y,Ie=ke.height/X*Le/X),oe===void 0&&(oe=z,fe=$,z=0,$=0),Y!==void 0&&he===void 0&&(he=Y,Le=X),Y===void 0&&he===void 0&&(he=ke.width,Le=ke.height);for(var H,it=this.ctx.transform.decompose(),We=W(it.rotate.shx),Ce=new o,Re=(Ce=(Ce=(Ce=Ce.multiply(it.translate)).multiply(it.skew)).multiply(it.scale)).applyToRectangle(new l(oe-z*Xe,fe-$*ve,Y*Fe,X*Ie)),ze=j.call(this,Re),De=[],Ke=0;Ke<ze.length;Ke+=1)De.indexOf(ze[Ke])===-1&&De.push(ze[Ke]);if(S(De),this.autoPaging)for(var at=De[0],ft=De[De.length-1],ot=at;ot<ft+1;ot++){this.pdf.setPage(ot);var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=ot===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=ot===1?0:et+(ot-2)*pt;if(this.ctx.clip_path.length!==0){var Fr=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(H,this.posX+this.margin[3],-Me+Et+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=Fr}var St=JSON.parse(JSON.stringify(Re));St=_([St],this.posX+this.margin[3],-Me+Et+this.ctx.prevPageLastElemOffset)[0];var mn=(ot>at||ot<ft)&&N.call(this);mn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,pt,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",St.x,St.y,St.w,St.h,null,null,We),mn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,We)};var j=function(C,z,$){var Y=[];z=z||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":Y.push(Math.floor((C.y+X)/$)+1);break;case"arc":Y.push(Math.floor((C.y+X-C.radius)/$)+1),Y.push(Math.floor((C.y+X+C.radius)/$)+1);break;case"qct":var oe=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);Y.push(Math.floor((oe.y+X)/$)+1),Y.push(Math.floor((oe.y+oe.h+X)/$)+1);break;case"bct":var fe=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);Y.push(Math.floor((fe.y+X)/$)+1),Y.push(Math.floor((fe.y+fe.h+X)/$)+1);break;case"rect":Y.push(Math.floor((C.y+X)/$)+1),Y.push(Math.floor((C.y+C.h+X)/$)+1)}for(var he=0;he<Y.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<Y[he];)w.call(this);return Y},w=function(){var C=this.fillStyle,z=this.strokeStyle,$=this.font,Y=this.lineCap,X=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=z,this.font=$,this.lineCap=Y,this.lineWidth=X,this.lineJoin=oe},_=function(C,z,$){for(var Y=0;Y<C.length;Y++)switch(C[Y].type){case"bct":C[Y].x2+=z,C[Y].y2+=$;case"qct":C[Y].x1+=z,C[Y].y1+=$;case"mt":case"lt":case"arc":default:C[Y].x+=z,C[Y].y+=$}return C},S=function(C){return C.sort(function(z,$){return z-$})},I=function(C,z){for(var $,Y,X=this.fillStyle,oe=this.strokeStyle,fe=this.lineCap,he=this.lineWidth,Le=Math.abs(he*this.ctx.transform.scaleX),ke=this.lineJoin,Fe=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),Xe=[],ve=0;ve<Ie.length;ve++)if(Ie[ve].x!==void 0)for(var H=j.call(this,Ie[ve]),it=0;it<H.length;it+=1)Xe.indexOf(H[it])===-1&&Xe.push(H[it]);for(var We=0;We<Xe.length;We++)for(;this.pdf.internal.getNumberOfPages()<Xe[We];)w.call(this);if(S(Xe),this.autoPaging)for(var Ce=Xe[0],Re=Xe[Xe.length-1],ze=Ce;ze<Re+1;ze++){this.pdf.setPage(ze),this.fillStyle=X,this.strokeStyle=oe,this.lineCap=fe,this.lineWidth=Le,this.lineJoin=ke;var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=ze===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=ze===1?0:at+(ze-2)*ft;if(this.ctx.clip_path.length!==0){var _t=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_($,this.posX+this.margin[3],-ot+Ke+this.ctx.prevPageLastElemOffset),B.call(this,C,!0),this.path=_t}if(Y=JSON.parse(JSON.stringify(Fe)),this.path=_(Y,this.posX+this.margin[3],-ot+Ke+this.ctx.prevPageLastElemOffset),z===!1||ze===0){var Et=(ze>Ce||ze<Re)&&N.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,ft,null).clip().discardPath()),B.call(this,C,z),Et&&this.pdf.restoreGraphicsState()}this.lineWidth=he}else this.lineWidth=Le,B.call(this,C,z),this.lineWidth=he;this.path=Fe},B=function(C,z){if((C!=="stroke"||z||!b.call(this))&&(C==="stroke"||z||!p.call(this))){for(var $,Y,X=[],oe=this.path,fe=0;fe<oe.length;fe++){var he=oe[fe];switch(he.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:he,deltas:[],abs:[]});break;case"lt":var Le=X.length;if(oe[fe-1]&&!isNaN(oe[fe-1].x)&&($=[he.x-oe[fe-1].x,he.y-oe[fe-1].y],Le>0)){for(;Le>=0;Le--)if(X[Le-1].close!==!0&&X[Le-1].begin!==!0){X[Le-1].deltas.push($),X[Le-1].abs.push(he);break}}break;case"bct":$=[he.x1-oe[fe-1].x,he.y1-oe[fe-1].y,he.x2-oe[fe-1].x,he.y2-oe[fe-1].y,he.x-oe[fe-1].x,he.y-oe[fe-1].y],X[X.length-1].deltas.push($);break;case"qct":var ke=oe[fe-1].x+2/3*(he.x1-oe[fe-1].x),Fe=oe[fe-1].y+2/3*(he.y1-oe[fe-1].y),Ie=he.x+2/3*(he.x1-he.x),Xe=he.y+2/3*(he.y1-he.y),ve=he.x,H=he.y;$=[ke-oe[fe-1].x,Fe-oe[fe-1].y,Ie-oe[fe-1].x,Xe-oe[fe-1].y,ve-oe[fe-1].x,H-oe[fe-1].y],X[X.length-1].deltas.push($);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(he)}}Y=z?null:C==="stroke"?"stroke":"fill";for(var it=!1,We=0;We<X.length;We++)if(X[We].arc)for(var Ce=X[We].abs,Re=0;Re<Ce.length;Re++){var ze=Ce[Re];ze.type==="arc"?M.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,z,!it):G.call(this,ze.x,ze.y),it=!0}else if(X[We].close===!0)this.pdf.internal.out("h"),it=!1;else if(X[We].begin!==!0){var De=X[We].start.x,Ke=X[We].start.y;V.call(this,X[We].deltas,De,Ke),it=!0}Y&&K.call(this,Y),z&&O.call(this)}},Q=function(C){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-$;case"top":return C+z-$;case"hanging":return C+z-2*$;case"middle":return C+z/2-$;case"ideographic":return C;case"alphabetic":default:return C}},T=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(z,$){this.colorStops.push([z,$])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(C,z,$,Y,X,oe,fe,he,Le){for(var ke=de.call(this,$,Y,X,oe),Fe=0;Fe<ke.length;Fe++){var Ie=ke[Fe];Fe===0&&(Le?P.call(this,Ie.x1+C,Ie.y1+z):G.call(this,Ie.x1+C,Ie.y1+z)),pe.call(this,C,z,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}he?O.call(this):K.call(this,fe)},K=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(C,z){this.pdf.internal.out(r(C)+" "+n(z)+" m")},R=function(C){var z;switch(C.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var $=this.pdf.getTextDimensions(C.text),Y=Q.call(this,C.y),X=T.call(this,Y)-$.h,oe=this.ctx.transform.applyToPoint(new a(C.x,Y)),fe=this.ctx.transform.decompose(),he=new o;he=(he=(he=he.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var Le,ke,Fe,Ie=this.ctx.transform.applyToRectangle(new l(C.x,Y,$.w,$.h)),Xe=he.applyToRectangle(new l(C.x,X,$.w,$.h)),ve=j.call(this,Xe),H=[],it=0;it<ve.length;it+=1)H.indexOf(ve[it])===-1&&H.push(ve[it]);if(S(H),this.autoPaging)for(var We=H[0],Ce=H[H.length-1],Re=We;Re<Ce+1;Re++){this.pdf.setPage(Re);var ze=Re===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[2],at=Ke-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],ot=ft-this.margin[3],_t=Re===1?0:De+(Re-2)*at;if(this.ctx.clip_path.length!==0){var Et=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Le,this.posX+this.margin[3],-1*_t+ze),B.call(this,"fill",!0),this.path=Et}var et=_([JSON.parse(JSON.stringify(Xe))],this.posX+this.margin[3],-_t+ze+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*C.scale),Fe=this.lineWidth,this.lineWidth=Fe*C.scale);var pt=this.autoPaging!=="text";if(pt||et.y+et.h<=Ke){if(pt||et.y>=ze&&et.x<=ft){var Me=pt?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||ft-et.x)[0],Fr=_([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-_t+ze+this.ctx.prevPageLastElemOffset)[0],St=pt&&(Re>We||Re<Ce)&&N.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,at,null).clip().discardPath()),this.pdf.text(Me,Fr.x,Fr.y,{angle:C.angle,align:z,renderingMode:C.renderingMode}),St&&this.pdf.restoreGraphicsState()}}else et.y<Ke&&(this.ctx.prevPageLastElemOffset+=Ke-et.y);C.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Fe)}else C.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*C.scale),Fe=this.lineWidth,this.lineWidth=Fe*C.scale),this.pdf.text(C.text,oe.x+this.posX,oe.y+this.posY,{angle:C.angle,align:z,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Fe)},G=function(C,z,$,Y){$=$||0,Y=Y||0,this.pdf.internal.out(r(C+$)+" "+n(z+Y)+" l")},V=function(C,z,$){return this.pdf.lines(C,z,$,null,null)},pe=function(C,z,$,Y,X,oe,fe,he){this.pdf.internal.out([e(s($+C)),e(i(Y+z)),e(s(X+C)),e(i(oe+z)),e(s(fe+C)),e(i(he+z)),"c"].join(" "))},de=function(C,z,$,Y){for(var X=2*Math.PI,oe=Math.PI/2;z>$;)z-=X;var fe=Math.abs($-z);fe<X&&Y&&(fe=X-fe);for(var he=[],Le=Y?-1:1,ke=z;fe>1e-5;){var Fe=ke+Le*Math.min(fe,oe);he.push(me.call(this,C,ke,Fe)),fe-=Math.abs(Fe-ke),ke=Fe}return he},me=function(C,z,$){var Y=($-z)/2,X=C*Math.cos(Y),oe=C*Math.sin(Y),fe=X,he=-oe,Le=fe*fe+he*he,ke=Le+fe*X+he*oe,Fe=4/3*(Math.sqrt(2*Le*ke)-ke)/(fe*oe-he*X),Ie=fe-Fe*he,Xe=he+Fe*fe,ve=Ie,H=-Xe,it=Y+z,We=Math.cos(it),Ce=Math.sin(it);return{x1:C*Math.cos(z),y1:C*Math.sin(z),x2:Ie*We-Xe*Ce,y2:Ie*Ce+Xe*We,x3:ve*We-H*Ce,y3:ve*Ce+H*We,x4:C*Math.cos($),y4:C*Math.sin($)}},W=function(C){return 180*C/Math.PI},re=function(C,z,$,Y,X,oe){var fe=C+.5*($-C),he=z+.5*(Y-z),Le=X+.5*($-X),ke=oe+.5*(Y-oe),Fe=Math.min(C,X,fe,Le),Ie=Math.max(C,X,fe,Le),Xe=Math.min(z,oe,he,ke),ve=Math.max(z,oe,he,ke);return new l(Fe,Xe,Ie-Fe,ve-Xe)},ae=function(C,z,$,Y,X,oe,fe,he){var Le,ke,Fe,Ie,Xe,ve,H,it,We,Ce,Re,ze,De,Ke,at=$-C,ft=Y-z,ot=X-$,_t=oe-Y,Et=fe-X,et=he-oe;for(ke=0;ke<41;ke++)We=(H=(Fe=C+(Le=ke/40)*at)+Le*((Xe=$+Le*ot)-Fe))+Le*(Xe+Le*(X+Le*Et-Xe)-H),Ce=(it=(Ie=z+Le*ft)+Le*((ve=Y+Le*_t)-Ie))+Le*(ve+Le*(oe+Le*et-ve)-it),ke==0?(Re=We,ze=Ce,De=We,Ke=Ce):(Re=Math.min(Re,We),ze=Math.min(ze,Ce),De=Math.max(De,We),Ke=Math.max(Ke,Ce));return new l(Math.round(Re),Math.round(ze),Math.round(De-Re),Math.round(Ke-ze))},Ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,z,$=(C=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:z}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(rt.API),function(t){var e=function(i){var a,l,o,c,f,m,v,p,b,N;for(l=[],o=0,c=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;c>o;o+=4)(f=(i.charCodeAt(o)<<24)+(i.charCodeAt(o+1)<<16)+(i.charCodeAt(o+2)<<8)+i.charCodeAt(o+3))!==0?(m=(f=((f=((f=((f=(f-(N=f%85))/85)-(b=f%85))/85)-(p=f%85))/85)-(v=f%85))/85)%85,l.push(m+33,v+33,p+33,b+33,N+33)):l.push(122);return function(j,w){for(var _=w;_>0;_--)j.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var a,l,o,c,f,m=String,v="length",p=255,b="charCodeAt",N="slice",j="replace";for(i[N](-2),i=i[N](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),o=[],c=0,f=(i+=a="uuuuu"[N](i[v]%5||5))[v];f>c;c+=5)l=52200625*(i[b](c)-33)+614125*(i[b](c+1)-33)+7225*(i[b](c+2)-33)+85*(i[b](c+3)-33)+(i[b](c+4)-33),o.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(w,_){for(var S=_;S>0;S--)w.pop()}(o,a[v]),m.fromCharCode.apply(m,o)},n=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var l="",o=0;o<i.length;o+=2)l+=String.fromCharCode("0x"+(i[o]+i[o+1]));return l},s=function(i){for(var a=new Uint8Array(i.length),l=i.length;l--;)a[l]=i.charCodeAt(l);return i=(a=Rm(a)).reduce(function(o,c){return o+String.fromCharCode(c)},"")};t.processDataByFilters=function(i,a){var l=0,o=i||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":o=r(o),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=e(o),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=n(o),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=o.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=s(o),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:o,reverseChain:c.reverse().join(" ")}}}(rt.API),function(t){t.loadFile=function(e,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(o,c,f){var m=new XMLHttpRequest,v=0,p=function(b){var N=b.length,j=[],w=String.fromCharCode;for(v=0;v<N;v+=1)j.push(w(255&b.charCodeAt(v)));return j.join("")};if(m.open("GET",o,!c),m.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(m.onload=function(){m.status===200?f(p(this.responseText)):f(void 0)}),m.send(null),c&&m.status===200)return p(m.responseText)}(s,i,a)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(rt.API),function(t){function e(){return(nt.html2canvas?Promise.resolve(nt.html2canvas):Em(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(nt.DOMPurify?Promise.resolve(nt.DOMPurify):Em(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var l=Tt(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(a,l){var o=document.createElement(a);for(var c in l.className&&(o.className=l.className),l.innerHTML&&l.dompurify&&(o.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)o.style[c]=l.style[c];return o},i=function a(l){var o=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),o);return c=(c=c.setProgress(1,a,1,[a])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,l){return a.__proto__=l||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(o){switch(n(o)){case"string":return"string";case"element":return o.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(o){return this.set({src:s("div",{innerHTML:a,dompurify:o})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function o(c,f){for(var m=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),v=c.firstChild;v;v=v.nextSibling)f!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||m.appendChild(o(v,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(m.width=c.width,m.height=c.height,m.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(m.value=c.value),m.addEventListener("load",function(){m.scrollTop=c.scrollTop,m.scrollLeft=c.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var o=Object.assign({},this.opt.html2canvas);return delete o.onrendered,l(this.prop.container,o)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var o=this.opt.jsPDF,c=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,o.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,o.context2d.posX=this.opt.x,o.context2d.posY=this.opt.y,o.context2d.margin=this.opt.margin,o.context2d.fontFaces=c,c)for(var v=0;v<c.length;++v){var p=c[v],b=p.src.find(function(N){return N.format==="truetype"});b&&o.addFont(b.url,p.ref.name,p.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,o.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,l,o){return(o=o||"pdf").toLowerCase()==="img"||o.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},i.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(n(a)!=="object")return this;var l=Object.keys(a||{}).map(function(o){if(o in i.template.prop)return function(){this.prop[o]=a[o]};switch(o){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[o]=a[o]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(a,l){return this.then(function(){var o=a in i.template.prop?this.prop[a]:this.opt[a];return l?l(o):o})},i.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function l(o,c){return Math.floor(o*c/72*96)}return this.then(function(){(a=a||rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,l,o,c){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),o!=null&&(this.progress.n=o),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,l,o,c){return this.setProgress(a?this.progress.val+a:null,l||null,o?this.progress.n+o:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(a,l){var o=this;return this.thenCore(a,l,function(c,f){return o.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(m){return o.updateProgress(null,c),m}).then(c,f).then(function(m){return o.updateProgress(1),m})})},i.prototype.thenCore=function(a,l,o){o=o||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),f=o.call(c,a,l);return i.convert(f,this.__proto__)},i.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},i.prototype.thenList=function(a){var l=this;return a.forEach(function(o){l=l.thenCore(o)}),l},i.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return i.convert(l,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,rt.getPageSize=function(a,l,o){if(Tt(a)==="object"){var c=a;a=c.orientation,l=c.unit||l,o=c.format||o}l=l||"mm",o=o||"a4",a=(""+(a||"P")).toLowerCase();var f,m=(""+o).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var p,b=0,N=0;if(v.hasOwnProperty(m))b=v[m][1]/f,N=v[m][0]/f;else try{b=o[1],N=o[0]}catch{throw new Error("Invalid format: "+o)}if(a==="p"||a==="portrait")a="p",N>b&&(p=N,N=b,b=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",b>N&&(p=N,N=b,b=p)}return{width:N,height:b,unit:l,k:f,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Um):null;var o=new i(l);return l.worker?o:o.from(a).doCallback()}}(rt.API),rt.API.addJS=function(t){return D2=t,this.internal.events.subscribe("postPutResources",function(){gd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(gd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),F2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+D2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){gd!==void 0&&F2!==void 0&&this.internal.out("/Names <</JavaScript "+gd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],l=n.exec(a);if(l!=null){var o=l[1];r.internal.newObjectDeferredBegin(o,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,f=[];for(i=0;i<c;i++){var m=r.internal.newObject();f.push(m);var v=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<f.length;i++)r.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var o=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(rt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,a,l){var o,c=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(o=function(m){for(var v,p=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,N={width:0,height:0,numcomponents:1},j=4;j<b;j+=2){if(j+=p,e.indexOf(m.charCodeAt(j+1))!==-1){v=256*m.charCodeAt(j+5)+m.charCodeAt(j+6),N={width:256*m.charCodeAt(j+7)+m.charCodeAt(j+8),height:v,numcomponents:m.charCodeAt(j+9)};break}p=256*m.charCodeAt(j+2)+m.charCodeAt(j+3)}return N}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:o.width,height:o.height,colorSpace:l,bitsPerComponent:8,filter:c,index:n,alias:s}}return f}}(rt.API);var Lo,vd,M2,B2,U2,h6=function(){var t,e,r;function n(i){var a,l,o,c,f,m,v,p,b,N,j,w,_,S;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(a=this.readUInt32(),b=(function(){var I,B;for(B=[],I=0;I<4;++I)B.push(String.fromCharCode(this.data[this.pos++]));return B}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),c=this.readUInt16()||100,m.delay=1e3*f/c,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,a-=4),i=(m!=null?m.data:void 0)||this.imgData,w=0;0<=a?w<a:w>a;0<=a?++w:--w)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(o=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>o)throw new Error("More transparent colors than palette size");if((N=o-this.transparency.indexed.length)>0)for(_=0;0<=N?_<N:_>N;0<=N?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":v=(j=this.read(a)).indexOf(0),p=String.fromCharCode.apply(String,j.slice(0,v)),this.text[p]=String.fromCharCode.apply(String,j.slice(v+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var a,l;for(l=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),o=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function f(m,v,p,b){var N,j,w,_,S,I,B,Q,T,M,K,O,P,R,G,V,pe,de,me,W,re,ae=Math.ceil((c.width-m)/p),Ne=Math.ceil((c.height-v)/b),C=c.width==ae&&c.height==Ne;for(R=a*ae,O=C?l:new Uint8Array(R*Ne),I=i.length,P=0,j=0;P<Ne&&o<I;){switch(i[o++]){case 0:for(_=pe=0;pe<R;_=pe+=1)O[j++]=i[o++];break;case 1:for(_=de=0;de<R;_=de+=1)N=i[o++],S=_<a?0:O[j-a],O[j++]=(N+S)%256;break;case 2:for(_=me=0;me<R;_=me+=1)N=i[o++],w=(_-_%a)/a,G=P&&O[(P-1)*R+w*a+_%a],O[j++]=(G+N)%256;break;case 3:for(_=W=0;W<R;_=W+=1)N=i[o++],w=(_-_%a)/a,S=_<a?0:O[j-a],G=P&&O[(P-1)*R+w*a+_%a],O[j++]=(N+Math.floor((S+G)/2))%256;break;case 4:for(_=re=0;re<R;_=re+=1)N=i[o++],w=(_-_%a)/a,S=_<a?0:O[j-a],P===0?G=V=0:(G=O[(P-1)*R+w*a+_%a],V=w&&O[(P-1)*R+(w-1)*a+_%a]),B=S+G-V,Q=Math.abs(B-S),M=Math.abs(B-G),K=Math.abs(B-V),T=Q<=M&&Q<=K?S:M<=K?G:V,O[j++]=(N+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[o-1])}if(!C){var z=((v+P*b)*c.width+m)*a,$=P*R;for(_=0;_<ae;_+=1){for(var Y=0;Y<a;Y+=1)l[z++]=O[$++];z+=(p-1)*a}}P++}}return i=Vj(i),c.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),l},n.prototype.decodePalette=function(){var i,a,l,o,c,f,m,v,p;for(l=this.palette,f=this.transparency.indexed||[],c=new Uint8Array((f.length||0)+l.length),o=0,i=0,a=m=0,v=l.length;m<v;a=m+=3)c[o++]=l[a],c[o++]=l[a+1],c[o++]=l[a+2],c[o++]=(p=f[i++])!=null?p:255;return c},n.prototype.copyToImageData=function(i,a){var l,o,c,f,m,v,p,b,N,j,w;if(o=this.colors,N=null,l=this.hasAlphaChannel,this.palette.length&&(N=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),o=4,l=!0),b=(c=i.data||i).length,m=N||a,f=v=0,o===1)for(;f<b;)p=N?4*a[f/4]:v,j=m[p++],c[f++]=j,c[f++]=j,c[f++]=j,c[f++]=l?m[p++]:255,v=p;else for(;f<b;)p=N?4*a[f/4]:v,c[f++]=m[p++],c[f++]=m[p++],c[f++]=m[p++],c[f++]=l?m[p++]:255,v=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(nt)==="[object Window]"){try{e=nt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(i){var a;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var a,l,o,c,f,m,v,p;if(this.animation){for(p=[],l=f=0,m=(v=this.animation.frames).length;f<m;l=++f)a=v[l],o=i.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(o,c),a.imageData=o,p.push(a.image=t(o));return p}},n.prototype.renderFrame=function(i,a){var l,o,c;return l=(o=this.animation.frames)[a],c=o[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var a,l,o,c,f,m,v=this;return l=0,m=this.animation,c=m.numFrames,o=m.frames,f=m.numPlays,(a=function(){var p,b;if(p=l++%c,b=o[p],v.renderFrame(i,p),c>1&&l/c<f)return v.animation._timeout=setTimeout(a,b.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var a,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function f6(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,a=1<<(7&s)+1;t[e++],t[e++];var l=null,o=null;i&&(l=e,o=a,e+=3*a);var c=!0,f=[],m=0,v=null,p=0,b=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=t[e++];m=t[e++]|t[e++]<<8,v=t[e++],!(1&N)&&(v=null),p=N>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var j=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,I=t[e++],B=I>>6&1,Q=1<<(7&I)+1,T=l,M=o,K=!1;I>>7&&(K=!0,T=e,M=Q,e+=3*Q);var O=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}f.push({x:j,y:w,width:_,height:S,has_local_palette:K,palette_offset:T,palette_size:M,data_offset:O,data_length:e-O,transparent_index:v,interlaced:!!B,delay:m,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return b},this.frameInfo=function(R){if(R<0||R>=f.length)throw new Error("Frame index out of range.");return f[R]},this.decodeAndBlitFrameBGRA=function(R,G){var V=this.frameInfo(R),pe=V.width*V.height,de=new Uint8Array(pe);z2(t,V.data_offset,de,pe);var me=V.palette_offset,W=V.transparent_index;W===null&&(W=256);var re=V.width,ae=r-re,Ne=re,C=4*(V.y*r+V.x),z=4*((V.y+V.height)*r+V.x),$=C,Y=4*ae;V.interlaced===!0&&(Y+=4*r*7);for(var X=8,oe=0,fe=de.length;oe<fe;++oe){var he=de[oe];if(Ne===0&&(Ne=re,($+=Y)>=z&&(Y=4*ae+4*r*(X-1),$=C+(re+ae)*(X<<1),X>>=1)),he===W)$+=4;else{var Le=t[me+3*he],ke=t[me+3*he+1],Fe=t[me+3*he+2];G[$++]=Fe,G[$++]=ke,G[$++]=Le,G[$++]=255}--Ne}},this.decodeAndBlitFrameRGBA=function(R,G){var V=this.frameInfo(R),pe=V.width*V.height,de=new Uint8Array(pe);z2(t,V.data_offset,de,pe);var me=V.palette_offset,W=V.transparent_index;W===null&&(W=256);var re=V.width,ae=r-re,Ne=re,C=4*(V.y*r+V.x),z=4*((V.y+V.height)*r+V.x),$=C,Y=4*ae;V.interlaced===!0&&(Y+=4*r*7);for(var X=8,oe=0,fe=de.length;oe<fe;++oe){var he=de[oe];if(Ne===0&&(Ne=re,($+=Y)>=z&&(Y=4*ae+4*r*(X-1),$=C+(re+ae)*(X<<1),X>>=1)),he===W)$+=4;else{var Le=t[me+3*he],ke=t[me+3*he+1],Fe=t[me+3*he+2];G[$++]=Le,G[$++]=ke,G[$++]=Fe,G[$++]=255}--Ne}}}function z2(t,e,r,n){for(var s=t[e++],i=1<<s,a=i+1,l=a+1,o=s+1,c=(1<<o)-1,f=0,m=0,v=0,p=t[e++],b=new Int32Array(4096),N=null;;){for(;f<16&&p!==0;)m|=t[e++]<<f,f+=8,p===1?p=t[e++]:--p;if(f<o)break;var j=m&c;if(m>>=o,f-=o,j!==i){if(j===a)break;for(var w=j<l?j:N,_=0,S=w;S>i;)S=b[S]>>8,++_;var I=S;if(v+_+(w!==j?1:0)>n)return void Bt.log("Warning, gif stream longer than expected.");r[v++]=I;var B=v+=_;for(w!==j&&(r[v++]=I),S=w;_--;)S=b[S],r[--B]=255&S,S>>=8;N!==null&&l<4096&&(b[l++]=N<<8|I,l>=c+1&&o<12&&(++o,c=c<<1|1)),N=j}else l=a+1,c=(1<<(o=s+1))-1,N=null}return v!==n&&Bt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function mp(t){var e,r,n,s,i,a=Math.floor,l=new Array(64),o=new Array(64),c=new Array(64),f=new Array(64),m=new Array(65535),v=new Array(65535),p=new Array(64),b=new Array(64),N=[],j=0,w=7,_=new Array(64),S=new Array(64),I=new Array(64),B=new Array(256),Q=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(C,z){for(var $=0,Y=0,X=new Array,oe=1;oe<=16;oe++){for(var fe=1;fe<=C[oe];fe++)X[z[Y]]=[],X[z[Y]][0]=$,X[z[Y]][1]=oe,Y++,$++;$*=2}return X}function me(C){for(var z=C[0],$=C[1]-1;$>=0;)z&1<<$&&(j|=1<<w),$--,--w<0&&(j==255?(W(255),W(0)):W(j),w=7,j=0)}function W(C){N.push(C)}function re(C){W(C>>8&255),W(255&C)}function ae(C,z,$,Y,X){for(var oe,fe=X[0],he=X[240],Le=function(Ce,Re){var ze,De,Ke,at,ft,ot,_t,Et,et,pt,Me=0;for(et=0;et<8;++et){ze=Ce[Me],De=Ce[Me+1],Ke=Ce[Me+2],at=Ce[Me+3],ft=Ce[Me+4],ot=Ce[Me+5],_t=Ce[Me+6];var Fr=ze+(Et=Ce[Me+7]),St=ze-Et,mn=De+_t,Ot=De-_t,Ut=Ke+ot,Kn=Ke-ot,Ct=at+ft,Js=at-ft,Qt=Fr+Ct,Yn=Fr-Ct,Ts=mn+Ut,Xt=mn-Ut;Ce[Me]=Qt+Ts,Ce[Me+4]=Qt-Ts;var lt=.707106781*(Xt+Yn);Ce[Me+2]=Yn+lt,Ce[Me+6]=Yn-lt;var Lt=.382683433*((Qt=Js+Kn)-(Xt=Ot+St)),Qs=.5411961*Qt+Lt,vr=1.306562965*Xt+Lt,Dr=.707106781*(Ts=Kn+Ot),gn=St+Dr,Ye=St-Dr;Ce[Me+5]=Ye+Qs,Ce[Me+3]=Ye-Qs,Ce[Me+1]=gn+vr,Ce[Me+7]=gn-vr,Me+=8}for(Me=0,et=0;et<8;++et){ze=Ce[Me],De=Ce[Me+8],Ke=Ce[Me+16],at=Ce[Me+24],ft=Ce[Me+32],ot=Ce[Me+40],_t=Ce[Me+48];var Nr=ze+(Et=Ce[Me+56]),Sr=ze-Et,Zt=De+_t,Yt=De-_t,ir=Ke+ot,sn=Ke-ot,ji=at+ft,hs=at-ft,vn=Nr+ji,On=Nr-ji,In=Zt+ir,Jn=Zt-ir;Ce[Me]=vn+In,Ce[Me+32]=vn-In;var yn=.707106781*(Jn+On);Ce[Me+16]=On+yn,Ce[Me+48]=On-yn;var Rn=.382683433*((vn=hs+sn)-(Jn=Yt+Sr)),Xs=.5411961*vn+Rn,le=1.306562965*Jn+Rn,Oe=.707106781*(In=sn+Yt),xe=Sr+Oe,Pe=Sr-Oe;Ce[Me+40]=Pe+Xs,Ce[Me+24]=Pe-Xs,Ce[Me+8]=xe+le,Ce[Me+56]=xe-le,Me++}for(et=0;et<64;++et)pt=Ce[et]*Re[et],p[et]=pt>0?pt+.5|0:pt-.5|0;return p}(C,z),ke=0;ke<64;++ke)b[T[ke]]=Le[ke];var Fe=b[0]-$;$=b[0],Fe==0?me(Y[0]):(me(Y[v[oe=32767+Fe]]),me(m[oe]));for(var Ie=63;Ie>0&&b[Ie]==0;)Ie--;if(Ie==0)return me(fe),$;for(var Xe,ve=1;ve<=Ie;){for(var H=ve;b[ve]==0&&ve<=Ie;)++ve;var it=ve-H;if(it>=16){Xe=it>>4;for(var We=1;We<=Xe;++We)me(he);it&=15}oe=32767+b[ve],me(X[(it<<4)+v[oe]]),me(m[oe]),ve++}return Ie!=63&&me(fe),$}function Ne(C){C=Math.min(Math.max(C,1),100),i!=C&&(function(z){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var X=a(($[Y]*z+50)/100);X=Math.min(Math.max(X,1),255),l[T[Y]]=X}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var he=a((oe[fe]*z+50)/100);he=Math.min(Math.max(he,1),255),o[T[fe]]=he}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Fe=0;Fe<8;Fe++)for(var Ie=0;Ie<8;Ie++)c[ke]=1/(l[T[ke]]*Le[Fe]*Le[Ie]*8),f[ke]=1/(o[T[ke]]*Le[Fe]*Le[Ie]*8),ke++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),i=C)}this.encode=function(C,z){z&&Ne(z),N=new Array,j=0,w=7,re(65496),re(65504),re(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),re(1),re(1),W(0),W(0),function(){re(65499),re(132),W(0);for(var De=0;De<64;De++)W(l[De]);W(1);for(var Ke=0;Ke<64;Ke++)W(o[Ke])}(),function(De,Ke){re(65472),re(17),W(8),re(Ke),re(De),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(C.width,C.height),function(){re(65476),re(418),W(0);for(var De=0;De<16;De++)W(M[De+1]);for(var Ke=0;Ke<=11;Ke++)W(K[Ke]);W(16);for(var at=0;at<16;at++)W(O[at+1]);for(var ft=0;ft<=161;ft++)W(P[ft]);W(1);for(var ot=0;ot<16;ot++)W(R[ot+1]);for(var _t=0;_t<=11;_t++)W(G[_t]);W(17);for(var Et=0;Et<16;Et++)W(V[Et+1]);for(var et=0;et<=161;et++)W(pe[et])}(),re(65498),re(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var $=0,Y=0,X=0;j=0,w=7,this.encode.displayName="_encode_";for(var oe,fe,he,Le,ke,Fe,Ie,Xe,ve,H=C.data,it=C.width,We=C.height,Ce=4*it,Re=0;Re<We;){for(oe=0;oe<Ce;){for(ke=Ce*Re+oe,Ie=-1,Xe=0,ve=0;ve<64;ve++)Fe=ke+(Xe=ve>>3)*Ce+(Ie=4*(7&ve)),Re+Xe>=We&&(Fe-=Ce*(Re+1+Xe-We)),oe+Ie>=Ce&&(Fe-=oe+Ie-Ce+4),fe=H[Fe++],he=H[Fe++],Le=H[Fe++],_[ve]=(Q[fe]+Q[he+256>>0]+Q[Le+512>>0]>>16)-128,S[ve]=(Q[fe+768>>0]+Q[he+1024>>0]+Q[Le+1280>>0]>>16)-128,I[ve]=(Q[fe+1280>>0]+Q[he+1536>>0]+Q[Le+1792>>0]>>16)-128;$=ae(_,c,$,e,n),Y=ae(S,f,Y,r,s),X=ae(I,f,X,r,s),oe+=32}Re+=8}if(w>=0){var ze=[];ze[1]=w+1,ze[0]=(1<<w+1)-1,me(ze)}return re(65497),new Uint8Array(N)},t=t||50,function(){for(var C=String.fromCharCode,z=0;z<256;z++)B[z]=C(z)}(),e=de(M,K),r=de(R,G),n=de(O,P),s=de(V,pe),function(){for(var C=1,z=2,$=1;$<=15;$++){for(var Y=C;Y<z;Y++)v[32767+Y]=$,m[32767+Y]=[],m[32767+Y][1]=$,m[32767+Y][0]=Y;for(var X=-(z-1);X<=-C;X++)v[32767+X]=$,m[32767+X]=[],m[32767+X][1]=$,m[32767+X][0]=z-1+X;C<<=1,z<<=1}}(),function(){for(var C=0;C<256;C++)Q[C]=19595*C,Q[C+256>>0]=38470*C,Q[C+512>>0]=7471*C+32768,Q[C+768>>0]=-11059*C,Q[C+1024>>0]=-21709*C,Q[C+1280>>0]=32768*C+8421375,Q[C+1536>>0]=-27439*C,Q[C+1792>>0]=-5329*C}(),Ne(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function _s(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function q2(t){function e(M){if(!M)throw Error("assert :P")}function r(M,K,O){for(var P=0;4>P;P++)if(M[K+P]!=O.charCodeAt(P))return!0;return!1}function n(M,K,O,P,R){for(var G=0;G<R;G++)M[K+G]=O[P+G]}function s(M,K,O,P){for(var R=0;R<P;R++)M[K+R]=O}function i(M){return new Int32Array(M)}function a(M,K){for(var O=[],P=0;P<M;P++)O.push(new K);return O}function l(M,K){var O=[];return function P(R,G,V){for(var pe=V[G],de=0;de<pe&&(R.push(V.length>G+1?[]:new K),!(V.length<G+1));de++)P(R[de],G+1,V)}(O,0,M),O}var o=function(){var M=this;function K(u,h){for(var y=1<<h-1>>>0;u&y;)y>>>=1;return y?(u&y-1)+y:u}function O(u,h,y,x,A){e(!(x%y));do u[h+(x-=y)]=A;while(0<x)}function P(u,h,y,x,A){if(e(2328>=A),512>=A)var E=i(512);else if((E=i(A))==null)return 0;return function(L,F,D,U,Z,ue){var ce,ne,_e=F,ge=1<<D,ee=i(16),te=i(16);for(e(Z!=0),e(U!=null),e(L!=null),e(0<D),ne=0;ne<Z;++ne){if(15<U[ne])return 0;++ee[U[ne]]}if(ee[0]==Z)return 0;for(te[1]=0,ce=1;15>ce;++ce){if(ee[ce]>1<<ce)return 0;te[ce+1]=te[ce]+ee[ce]}for(ne=0;ne<Z;++ne)ce=U[ne],0<U[ne]&&(ue[te[ce]++]=ne);if(te[15]==1)return(U=new R).g=0,U.value=ue[0],O(L,_e,1,ge,U),ge;var we,Se=-1,be=ge-1,$e=0,Te=1,tt=1,Ue=1<<D;for(ne=0,ce=1,Z=2;ce<=D;++ce,Z<<=1){if(Te+=tt<<=1,0>(tt-=ee[ce]))return 0;for(;0<ee[ce];--ee[ce])(U=new R).g=ce,U.value=ue[ne++],O(L,_e+$e,Z,Ue,U),$e=K($e,ce)}for(ce=D+1,Z=2;15>=ce;++ce,Z<<=1){if(Te+=tt<<=1,0>(tt-=ee[ce]))return 0;for(;0<ee[ce];--ee[ce]){if(U=new R,($e&be)!=Se){for(_e+=Ue,we=1<<(Se=ce)-D;15>Se&&!(0>=(we-=ee[Se]));)++Se,we<<=1;ge+=Ue=1<<(we=Se-D),L[F+(Se=$e&be)].g=we+D,L[F+Se].value=_e-F-Se}U.g=ce-D,U.value=ue[ne++],O(L,_e+($e>>D),Z,Ue,U),$e=K($e,ce)}}return Te!=2*te[15]-1?0:ge}(u,h,y,x,A,E)}function R(){this.value=this.g=0}function G(){this.value=this.g=0}function V(){this.G=a(5,R),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Br,G)}function pe(u,h,y,x){e(u!=null),e(h!=null),e(2147483648>x),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=y,u.Jd=h,u.Yc=y+x,u.Zc=4<=x?y+x-4+1:y,oe(u)}function de(u,h){for(var y=0;0<h--;)y|=he(u,128)<<h;return y}function me(u,h){var y=de(u,h);return fe(u)?-y:y}function W(u,h,y,x){var A,E=0;for(e(u!=null),e(h!=null),e(4294967288>x),u.Sb=x,u.Ra=0,u.u=0,u.h=0,4<x&&(x=4),A=0;A<x;++A)E+=h[y+A]<<8*A;u.Ra=E,u.bb=x,u.oa=h,u.pa=y}function re(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<fo-8>>>0,++u.bb,u.u-=8;$(u)&&(u.h=1,u.u=0)}function ae(u,h){if(e(0<=h),!u.h&&h<=ho){var y=z(u)&co[h];return u.u+=h,re(u),y}return u.h=1,u.u=0}function Ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(u){return u.Ra>>>(u.u&fo-1)>>>0}function $(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>fo}function Y(u,h){u.u=h,u.h=$(u)}function X(u){u.u>=zl&&(e(u.u>=zl),re(u))}function oe(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function fe(u){return de(u,1)}function he(u,h){var y=u.Ca;0>u.b&&oe(u);var x=u.b,A=y*h>>>8,E=(u.I>>>x>A)+0;for(E?(y-=A,u.I-=A+1<<x>>>0):y=A+1,x=y,A=0;256<=x;)A+=8,x>>=8;return x=7^A+xn[x],u.b-=x,u.Ca=(y<<x)-1,E}function Le(u,h,y){u[h+0]=y>>24&255,u[h+1]=y>>16&255,u[h+2]=y>>8&255,u[h+3]=y>>0&255}function ke(u,h){return u[h+0]<<0|u[h+1]<<8}function Fe(u,h){return ke(u,h)|u[h+2]<<16}function Ie(u,h){return ke(u,h)|ke(u,h+2)<<16}function Xe(u,h){var y=1<<h;return e(u!=null),e(0<h),u.X=i(y),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function ve(u,h){e(u!=null),e(h!=null),e(u.Xa==h.Xa),n(h.X,0,u.X,0,1<<h.Xa)}function H(){this.X=[],this.Xa=this.Mb=0}function it(u,h,y,x){e(y!=null),e(x!=null);var A=y[0],E=x[0];return A==0&&(A=(u*E+h/2)/h),E==0&&(E=(h*A+u/2)/u),0>=A||0>=E?0:(y[0]=A,x[0]=E,1)}function We(u,h){return u+(1<<h)-1>>>h}function Ce(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function Re(u,h){M[h]=function(y,x,A,E,L,F,D){var U;for(U=0;U<L;++U){var Z=M[u](F[D+U-1],A,E+U);F[D+U]=Ce(y[x+U],Z)}}}function ze(){this.ud=this.hd=this.jd=0}function De(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function Ke(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function at(u,h){return Ke(u+(u-h+.5>>1))}function ft(u,h,y){return Math.abs(h-y)-Math.abs(u-y)}function ot(u,h,y,x,A,E,L){for(x=E[L-1],y=0;y<A;++y)E[L+y]=x=Ce(u[h+y],x)}function _t(u,h,y,x,A){var E;for(E=0;E<y;++E){var L=u[h+E],F=L>>8&255,D=16711935&(D=(D=16711935&L)+((F<<16)+F));x[A+E]=(4278255360&L)+D>>>0}}function Et(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function et(u,h,y,x,A,E){var L;for(L=0;L<x;++L){var F=h[y+L],D=F>>>8,U=F,Z=255&(Z=(Z=F>>>16)+((u.jd<<24>>24)*(D<<24>>24)>>>5));U=255&(U=(U=U+((u.hd<<24>>24)*(D<<24>>24)>>>5))+((u.ud<<24>>24)*(Z<<24>>24)>>>5)),A[E+L]=(4278255360&F)+(Z<<16)+U}}function pt(u,h,y,x,A){M[h]=function(E,L,F,D,U,Z,ue,ce,ne){for(D=ue;D<ce;++D)for(ue=0;ue<ne;++ue)U[Z++]=A(F[x(E[L++])])},M[u]=function(E,L,F,D,U,Z,ue){var ce=8>>E.b,ne=E.Ea,_e=E.K[0],ge=E.w;if(8>ce)for(E=(1<<E.b)-1,ge=(1<<ce)-1;L<F;++L){var ee,te=0;for(ee=0;ee<ne;++ee)ee&E||(te=x(D[U++])),Z[ue++]=A(_e[te&ge]),te>>=ce}else M["VP8LMapColor"+y](D,U,_e,ge,Z,ue,L,F,ne)}}function Me(u,h,y,x,A){for(y=h+y;h<y;){var E=u[h++];x[A++]=E>>16&255,x[A++]=E>>8&255,x[A++]=E>>0&255}}function Fr(u,h,y,x,A){for(y=h+y;h<y;){var E=u[h++];x[A++]=E>>16&255,x[A++]=E>>8&255,x[A++]=E>>0&255,x[A++]=E>>24&255}}function St(u,h,y,x,A){for(y=h+y;h<y;){var E=(L=u[h++])>>16&240|L>>12&15,L=L>>0&240|L>>28&15;x[A++]=E,x[A++]=L}}function mn(u,h,y,x,A){for(y=h+y;h<y;){var E=(L=u[h++])>>16&248|L>>13&7,L=L>>5&224|L>>3&31;x[A++]=E,x[A++]=L}}function Ot(u,h,y,x,A){for(y=h+y;h<y;){var E=u[h++];x[A++]=E>>0&255,x[A++]=E>>8&255,x[A++]=E>>16&255}}function Ut(u,h,y,x,A,E){if(E==0)for(y=h+y;h<y;)Le(x,((E=u[h++])[0]>>24|E[1]>>8&65280|E[2]<<8&16711680|E[3]<<24)>>>0),A+=32;else n(x,A,u,h,y)}function Kn(u,h){M[h][0]=M[u+"0"],M[h][1]=M[u+"1"],M[h][2]=M[u+"2"],M[h][3]=M[u+"3"],M[h][4]=M[u+"4"],M[h][5]=M[u+"5"],M[h][6]=M[u+"6"],M[h][7]=M[u+"7"],M[h][8]=M[u+"8"],M[h][9]=M[u+"9"],M[h][10]=M[u+"10"],M[h][11]=M[u+"11"],M[h][12]=M[u+"12"],M[h][13]=M[u+"13"],M[h][14]=M[u+"0"],M[h][15]=M[u+"0"]}function Ct(u){return u==sf||u==af||u==Cc||u==of}function Js(){this.eb=[],this.size=this.A=this.fb=0}function Qt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Js,this.f.kb=new Qt,this.sd=null}function Ts(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function lt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Lt(u,h){var y=u.T,x=h.ba.f.RGBA,A=x.eb,E=x.fb+u.ka*x.A,L=rs[h.ba.S],F=u.y,D=u.O,U=u.f,Z=u.N,ue=u.ea,ce=u.W,ne=h.cc,_e=h.dc,ge=h.Mc,ee=h.Nc,te=u.ka,we=u.ka+u.T,Se=u.U,be=Se+1>>1;for(te==0?L(F,D,null,null,U,Z,ue,ce,U,Z,ue,ce,A,E,null,null,Se):(L(h.ec,h.fc,F,D,ne,_e,ge,ee,U,Z,ue,ce,A,E-x.A,A,E,Se),++y);te+2<we;te+=2)ne=U,_e=Z,ge=ue,ee=ce,Z+=u.Rc,ce+=u.Rc,E+=2*x.A,L(F,(D+=2*u.fa)-u.fa,F,D,ne,_e,ge,ee,U,Z,ue,ce,A,E-x.A,A,E,Se);return D+=u.fa,u.j+we<u.o?(n(h.ec,h.fc,F,D,Se),n(h.cc,h.dc,U,Z,be),n(h.Mc,h.Nc,ue,ce,be),y--):1&we||L(F,D,null,null,U,Z,ue,ce,U,Z,ue,ce,A,E+x.A,null,null,Se),y}function Qs(u,h,y){var x=u.F,A=[u.J];if(x!=null){var E=u.U,L=h.ba.S,F=L==kc||L==Cc;h=h.ba.f.RGBA;var D=[0],U=u.ka;D[0]=u.T,u.Kb&&(U==0?--D[0]:(--U,A[0]-=u.width),u.j+u.ka+u.T==u.o&&(D[0]=u.o-u.j-U));var Z=h.eb;U=h.fb+U*h.A,u=$t(x,A[0],u.width,E,D,Z,U+(F?0:3),h.A),e(y==D),u&&Ct(L)&&es(Z,U,F,E,D,h.A)}return 0}function vr(u){var h=u.ma,y=h.ba.S,x=11>y,A=y==jc||y==Ac||y==kc||y==nf||y==12||Ct(y);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!Bl(h.Oa,u,A?11:12))return 0;if(A&&Ct(y)&&je(),u.da)alert("todo:use_scaling");else{if(x){if(h.Ib=lt,u.Kb){if(y=u.U+1>>1,h.memory=i(u.U+2*y),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+y,h.Ib=Lt,je()}}else alert("todo:EmitYUV");A&&(h.Jb=Qs,x&&ie())}if(x&&!a1){for(u=0;256>u;++u)bb[u]=89858*(u-128)+Lc>>Ec,Nb[u]=-22014*(u-128)+Lc,xb[u]=-45773*(u-128),_b[u]=113618*(u-128)+Lc>>Ec;for(u=Kl;u<cf;++u)h=76283*(u-16)+Lc>>Ec,Sb[u-Kl]=Tn(h,255),jb[u-Kl]=Tn(h+8>>4,15);a1=1}return 1}function Dr(u){var h=u.ma,y=u.U,x=u.T;return e(!(1&u.ka)),0>=y||0>=x?0:(y=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,y),h.Dc+=y,1)}function gn(u){u.ma.memory=null}function Ye(u,h,y,x){return ae(u,8)!=47?0:(h[0]=ae(u,14)+1,y[0]=ae(u,14)+1,x[0]=ae(u,1),ae(u,3)!=0?0:!u.h)}function Nr(u,h){if(4>u)return u+1;var y=u-2>>1;return(2+(1&u)<<y)+ae(h,y)+1}function Sr(u,h){return 120<h?h-120:1<=(y=((y=ab[h-1])>>4)*u+(8-(15&y)))?y:1;var y}function Zt(u,h,y){var x=z(y),A=u[h+=255&x].g-8;return 0<A&&(Y(y,y.u+8),x=z(y),h+=u[h].value,h+=x&(1<<A)-1),Y(y,y.u+u[h].g),u[h].value}function Yt(u,h,y){return y.g+=u.g,y.value+=u.value<<h>>>0,e(8>=y.g),u.g}function ir(u,h,y){var x=u.xc;return e((h=x==0?0:u.vc[u.md*(y>>x)+(h>>x)])<u.Wb),u.Ya[h]}function sn(u,h,y,x){var A=u.ab,E=u.c*h,L=u.C;h=L+h;var F=y,D=x;for(x=u.Ta,y=u.Ua;0<A--;){var U=u.gc[A],Z=L,ue=h,ce=F,ne=D,_e=(D=x,F=y,U.Ea);switch(e(Z<ue),e(ue<=U.nc),U.hc){case 2:yc(ce,ne,(ue-Z)*_e,D,F);break;case 0:var ge=Z,ee=ue,te=D,we=F,Se=(Ue=U).Ea;ge==0&&(tf(ce,ne,null,null,1,te,we),ot(ce,ne+1,0,0,Se-1,te,we+1),ne+=Se,we+=Se,++ge);for(var be=1<<Ue.b,$e=be-1,Te=We(Se,Ue.b),tt=Ue.K,Ue=Ue.w+(ge>>Ue.b)*Te;ge<ee;){var Pt=tt,It=Ue,At=1;for(ql(ce,ne,te,we-Se,1,te,we);At<Se;){var Nt=(At&~$e)+be;Nt>Se&&(Nt=Se),(0,Ei[Pt[It++]>>8&15])(ce,ne+ +At,te,we+At-Se,Nt-At,te,we+At),At=Nt}ne+=Se,we+=Se,++ge&$e||(Ue+=Te)}ue!=U.nc&&n(D,F-_e,D,F+(ue-Z-1)*_e,_e);break;case 1:for(_e=ce,ee=ne,Se=(ce=U.Ea)-(we=ce&~(te=(ne=1<<U.b)-1)),ge=We(ce,U.b),be=U.K,U=U.w+(Z>>U.b)*ge;Z<ue;){for($e=be,Te=U,tt=new ze,Ue=ee+we,Pt=ee+ce;ee<Ue;)Et($e[Te++],tt),xa(tt,_e,ee,ne,D,F),ee+=ne,F+=ne;ee<Pt&&(Et($e[Te++],tt),xa(tt,_e,ee,Se,D,F),ee+=Se,F+=Se),++Z&te||(U+=ge)}break;case 3:if(ce==D&&ne==F&&0<U.b){for(ee=D,ce=_e=F+(ue-Z)*_e-(we=(ue-Z)*We(U.Ea,U.b)),ne=D,te=F,ge=[],we=(Se=we)-1;0<=we;--we)ge[we]=ne[te+we];for(we=Se-1;0<=we;--we)ee[ce+we]=ge[we];Qn(U,Z,ue,D,_e,D,F)}else Qn(U,Z,ue,ce,ne,D,F)}F=x,D=y}D!=y&&n(x,y,F,D,E)}function ji(u,h){var y=u.V,x=u.Ba+u.c*u.C,A=h-u.C;if(e(h<=u.l.o),e(16>=A),0<A){var E=u.l,L=u.Ta,F=u.Ua,D=E.width;if(sn(u,A,y,x),A=F=[F],e((y=u.C)<(x=h)),e(E.v<E.va),x>E.o&&(x=E.o),y<E.j){var U=E.j-y;y=E.j,A[0]+=U*D}if(y>=x?y=0:(A[0]+=4*E.v,E.ka=y-E.j,E.U=E.va-E.v,E.T=x-y,y=1),y){if(F=F[0],11>(y=u.ca).S){var Z=y.f.RGBA,ue=(x=y.S,A=E.U,E=E.T,U=Z.eb,Z.A),ce=E;for(Z=Z.fb+u.Ma*Z.A;0<ce--;){var ne=L,_e=F,ge=A,ee=U,te=Z;switch(x){case Sc:Nn(ne,_e,ge,ee,te);break;case jc:on(ne,_e,ge,ee,te);break;case sf:on(ne,_e,ge,ee,te),es(ee,te,0,ge,1,0);break;case Q0:si(ne,_e,ge,ee,te);break;case Ac:Ut(ne,_e,ge,ee,te,1);break;case af:Ut(ne,_e,ge,ee,te,1),es(ee,te,0,ge,1,0);break;case kc:Ut(ne,_e,ge,ee,te,0);break;case Cc:Ut(ne,_e,ge,ee,te,0),es(ee,te,1,ge,1,0);break;case nf:Li(ne,_e,ge,ee,te);break;case of:Li(ne,_e,ge,ee,te),qt(ee,te,ge,1,0);break;case X0:ni(ne,_e,ge,ee,te);break;default:e(0)}F+=D,Z+=ue}u.Ma+=E}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=y.height)}}u.C=h,e(u.C<=u.i)}function hs(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var y=u.Ya[h].G,x=u.Ya[h].H;if(0<y[1][x[1]+0].g||0<y[2][x[2]+0].g||0<y[3][x[3]+0].g)return 0}return 1}function vn(u,h,y,x,A,E){if(u.Z!=0){var L=u.qd,F=u.rd;for(e(Ri[u.Z]!=null);h<y;++h)Ri[u.Z](L,F,x,A,x,A,E),L=x,F=A,A+=E;u.qd=L,u.rd=F}}function On(u,h){var y=u.l.ma,x=y.Z==0||y.Z==1?u.l.j:u.C;if(x=u.C<x?x:u.C,e(h<=u.l.o),h>x){var A=u.l.width,E=y.ca,L=y.tb+A*x,F=u.V,D=u.Ba+u.c*x,U=u.gc;e(u.ab==1),e(U[0].hc==3),wc(U[0],x,h,F,D,E,L),vn(y,x,h,E,L,A)}u.C=u.Ma=h}function In(u,h,y,x,A,E,L){var F=u.$/x,D=u.$%x,U=u.m,Z=u.s,ue=y+u.$,ce=ue;A=y+x*A;var ne=y+x*E,_e=280+Z.ua,ge=u.Pb?F:16777216,ee=0<Z.ua?Z.Wa:null,te=Z.wc,we=ue<ne?ir(Z,D,F):null;e(u.C<E),e(ne<=A);var Se=!1;e:for(;;){for(;Se||ue<ne;){var be=0;if(F>=ge){var $e=ue-y;e((ge=u).Pb),ge.wd=ge.m,ge.xd=$e,0<ge.s.ua&&ve(ge.s.Wa,ge.s.vb),ge=F+lb}if(D&te||(we=ir(Z,D,F)),e(we!=null),we.Qb&&(h[ue]=we.qb,Se=!0),!Se)if(X(U),we.jc){be=U,$e=h;var Te=ue,tt=we.pd[z(be)&Br-1];e(we.jc),256>tt.g?(Y(be,be.u+tt.g),$e[Te]=tt.value,be=0):(Y(be,be.u+tt.g-256),e(256<=tt.value),be=tt.value),be==0&&(Se=!0)}else be=Zt(we.G[0],we.H[0],U);if(U.h)break;if(Se||256>be){if(!Se)if(we.nd)h[ue]=(we.qb|be<<8)>>>0;else{if(X(U),Se=Zt(we.G[1],we.H[1],U),X(U),$e=Zt(we.G[2],we.H[2],U),Te=Zt(we.G[3],we.H[3],U),U.h)break;h[ue]=(Te<<24|Se<<16|be<<8|$e)>>>0}if(Se=!1,++ue,++D>=x&&(D=0,++F,L!=null&&F<=E&&!(F%16)&&L(u,F),ee!=null))for(;ce<ue;)be=h[ce++],ee.X[(506832829*be&4294967295)>>>ee.Mb]=be}else if(280>be){if(be=Nr(be-256,U),$e=Zt(we.G[4],we.H[4],U),X(U),$e=Sr(x,$e=Nr($e,U)),U.h)break;if(ue-y<$e||A-ue<be)break e;for(Te=0;Te<be;++Te)h[ue+Te]=h[ue+Te-$e];for(ue+=be,D+=be;D>=x;)D-=x,++F,L!=null&&F<=E&&!(F%16)&&L(u,F);if(e(ue<=A),D&te&&(we=ir(Z,D,F)),ee!=null)for(;ce<ue;)be=h[ce++],ee.X[(506832829*be&4294967295)>>>ee.Mb]=be}else{if(!(be<_e))break e;for(Se=be-280,e(ee!=null);ce<ue;)be=h[ce++],ee.X[(506832829*be&4294967295)>>>ee.Mb]=be;be=ue,e(!(Se>>>($e=ee).Xa)),h[be]=$e.X[Se],Se=!0}Se||e(U.h==$(U))}if(u.Pb&&U.h&&ue<A)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ve(u.s.vb,u.s.Wa);else{if(U.h)break e;L!=null&&L(u,F>E?E:F),u.a=0,u.$=ue-y}return 1}return u.a=3,0}function Jn(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,e(u!=null)}function yn(){var u=new ef;return u==null?null:(u.a=0,u.xb=t1,Kn("Predictor","VP8LPredictors"),Kn("Predictor","VP8LPredictors_C"),Kn("PredictorAdd","VP8LPredictorsAdd"),Kn("PredictorAdd","VP8LPredictorsAdd_C"),yc=_t,xa=et,Nn=Me,on=Fr,Li=St,ni=mn,si=Ot,M.VP8LMapColor32b=po,M.VP8LMapColor8b=bc,u)}function Rn(u,h,y,x,A){var E=1,L=[u],F=[h],D=x.m,U=x.s,Z=null,ue=0;e:for(;;){if(y)for(;E&&ae(D,1);){var ce=L,ne=F,_e=x,ge=1,ee=_e.m,te=_e.gc[_e.ab],we=ae(ee,2);if(_e.Oc&1<<we)E=0;else{switch(_e.Oc|=1<<we,te.hc=we,te.Ea=ce[0],te.nc=ne[0],te.K=[null],++_e.ab,e(4>=_e.ab),we){case 0:case 1:te.b=ae(ee,3)+2,ge=Rn(We(te.Ea,te.b),We(te.nc,te.b),0,_e,te.K),te.K=te.K[0];break;case 3:var Se,be=ae(ee,8)+1,$e=16<be?0:4<be?1:2<be?2:3;if(ce[0]=We(te.Ea,$e),te.b=$e,Se=ge=Rn(be,1,0,_e,te.K)){var Te,tt=be,Ue=te,Pt=1<<(8>>Ue.b),It=i(Pt);if(It==null)Se=0;else{var At=Ue.K[0],Nt=Ue.w;for(It[0]=Ue.K[0][0],Te=1;Te<1*tt;++Te)It[Te]=Ce(At[Nt+Te],It[Te-1]);for(;Te<4*Pt;++Te)It[Te]=0;Ue.K[0]=null,Ue.K[0]=It,Se=1}}ge=Se;break;case 2:break;default:e(0)}E=ge}}if(L=L[0],F=F[0],E&&ae(D,1)&&!(E=1<=(ue=ae(D,4))&&11>=ue)){x.a=3;break e}var Mt;if(Mt=E)t:{var Dt,gt,wr,Sn=x,br=L,jn=F,Rt=ue,Dn=y,Mn=Sn.m,Pr=Sn.s,Ur=[null],un=1,ns=0,Us=ob[Rt];r:for(;;){if(Dn&&ae(Mn,1)){var Or=ae(Mn,3)+2,li=We(br,Or),ka=We(jn,Or),wo=li*ka;if(!Rn(li,ka,0,Sn,Ur))break r;for(Ur=Ur[0],Pr.xc=Or,Dt=0;Dt<wo;++Dt){var Ti=Ur[Dt]>>8&65535;Ur[Dt]=Ti,Ti>=un&&(un=Ti+1)}}if(Mn.h)break r;for(gt=0;5>gt;++gt){var or=Z0[gt];!gt&&0<Rt&&(or+=1<<Rt),ns<or&&(ns=or)}var df=a(un*Us,R),u1=un,c1=a(u1,V);if(c1==null)var Oc=null;else e(65536>=u1),Oc=c1;var Yl=i(ns);if(Oc==null||Yl==null||df==null){Sn.a=1;break r}var Ic=df;for(Dt=wr=0;Dt<un;++Dt){var ys=Oc[Dt],bo=ys.G,_o=ys.H,d1=0,Rc=1,h1=0;for(gt=0;5>gt;++gt){or=Z0[gt],bo[gt]=Ic,_o[gt]=wr,!gt&&0<Rt&&(or+=1<<Rt);s:{var Tc,hf=or,Fc=Sn,Jl=Yl,Cb=Ic,Eb=wr,ff=0,Fi=Fc.m,Lb=ae(Fi,1);if(s(Jl,0,0,hf),Lb){var Pb=ae(Fi,1)+1,Ob=ae(Fi,1),f1=ae(Fi,Ob==0?1:8);Jl[f1]=1,Pb==2&&(Jl[f1=ae(Fi,8)]=1);var Dc=1}else{var p1=i(19),m1=ae(Fi,4)+4;if(19<m1){Fc.a=3;var Mc=0;break s}for(Tc=0;Tc<m1;++Tc)p1[ib[Tc]]=ae(Fi,3);var pf=void 0,Ql=void 0,g1=Fc,Ib=p1,Bc=hf,v1=Jl,mf=0,Di=g1.m,y1=8,w1=a(128,R);n:for(;P(w1,0,7,Ib,19);){if(ae(Di,1)){var Rb=2+2*ae(Di,3);if((pf=2+ae(Di,Rb))>Bc)break n}else pf=Bc;for(Ql=0;Ql<Bc&&pf--;){X(Di);var b1=w1[0+(127&z(Di))];Y(Di,Di.u+b1.g);var xo=b1.value;if(16>xo)v1[Ql++]=xo,xo!=0&&(y1=xo);else{var Tb=xo==16,_1=xo-16,Fb=nb[_1],x1=ae(Di,rb[_1])+Fb;if(Ql+x1>Bc)break n;for(var Db=Tb?y1:0;0<x1--;)v1[Ql++]=Db}}mf=1;break n}mf||(g1.a=3),Dc=mf}(Dc=Dc&&!Fi.h)&&(ff=P(Cb,Eb,8,Jl,hf)),Dc&&ff!=0?Mc=ff:(Fc.a=3,Mc=0)}if(Mc==0)break r;if(Rc&&sb[gt]==1&&(Rc=Ic[wr].g==0),d1+=Ic[wr].g,wr+=Mc,3>=gt){var Xl,gf=Yl[0];for(Xl=1;Xl<or;++Xl)Yl[Xl]>gf&&(gf=Yl[Xl]);h1+=gf}}if(ys.nd=Rc,ys.Qb=0,Rc&&(ys.qb=(bo[3][_o[3]+0].value<<24|bo[1][_o[1]+0].value<<16|bo[2][_o[2]+0].value)>>>0,d1==0&&256>bo[0][_o[0]+0].value&&(ys.Qb=1,ys.qb+=bo[0][_o[0]+0].value<<8)),ys.jc=!ys.Qb&&6>h1,ys.jc){var Uc,ui=ys;for(Uc=0;Uc<Br;++Uc){var Mi=Uc,Bi=ui.pd[Mi],zc=ui.G[0][ui.H[0]+Mi];256<=zc.value?(Bi.g=zc.g+256,Bi.value=zc.value):(Bi.g=0,Bi.value=0,Mi>>=Yt(zc,8,Bi),Mi>>=Yt(ui.G[1][ui.H[1]+Mi],16,Bi),Mi>>=Yt(ui.G[2][ui.H[2]+Mi],0,Bi),Yt(ui.G[3][ui.H[3]+Mi],24,Bi))}}}Pr.vc=Ur,Pr.Wb=un,Pr.Ya=Oc,Pr.yc=df,Mt=1;break t}Mt=0}if(!(E=Mt)){x.a=3;break e}if(0<ue){if(U.ua=1<<ue,!Xe(U.Wa,ue)){x.a=1,E=0;break e}}else U.ua=0;var vf=x,N1=L,Mb=F,yf=vf.s,wf=yf.xc;if(vf.c=N1,vf.i=Mb,yf.md=We(N1,wf),yf.wc=wf==0?-1:(1<<wf)-1,y){x.xb=mb;break e}if((Z=i(L*F))==null){x.a=1,E=0;break e}E=(E=In(x,Z,0,L,F,F,null))&&!D.h;break e}return E?(A!=null?A[0]=Z:(e(Z==null),e(y)),x.$=0,y||Jn(U)):Jn(U),E}function Xs(u,h){var y=u.c*u.i,x=y+h+16*h;return e(u.c<=h),u.V=i(x),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+y+h,1)}function le(u,h){var y=u.C,x=h-y,A=u.V,E=u.Ba+u.c*y;for(e(h<=u.l.o);0<x;){var L=16<x?16:x,F=u.l.ma,D=u.l.width,U=D*L,Z=F.ca,ue=F.tb+D*y,ce=u.Ta,ne=u.Ua;sn(u,L,A,E),dr(ce,ne,Z,ue,U),vn(F,y,y+L,Z,ue,D),x-=L,A+=L*u.c,y+=L}e(y==h),u.C=u.Ma=h}function Oe(){this.ub=this.yd=this.td=this.Rb=0}function xe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Pe(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Be(){this.Yb=function(){var u=[];return function h(y,x,A){for(var E=A[x],L=0;L<E&&(y.push(A.length>x+1?[]:0),!(A.length<x+1));L++)h(y[L],x+1,A)}(u,0,[3,11]),u}()}function vt(){this.jb=i(3),this.Wc=l([4,8],Be),this.Xc=l([4,17],Be)}function ut(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ze(){this.ld=this.La=this.dd=this.tc=0}function Mr(){this.Na=this.la=0}function wn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function bn(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function fs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ze),this.Y=0,this.ya=Array(new bn),this.aa=0,this.l=new an}function Zs(){this.y=i(16),this.f=i(8),this.ea=i(8)}function va(){this.cb=this.a=0,this.sc="",this.m=new Ne,this.Od=new Oe,this.Kc=new xe,this.ed=new ut,this.Qa=new Pe,this.Ic=this.$c=this.Aa=0,this.D=new fs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Ne),this.ia=0,this.pb=a(4,wn),this.Pa=new vt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Zs),this.Hd=0,this.rb=Array(new Mr),this.sb=0,this.wa=Array(new Ze),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new bn),this.L=this.aa=0,this.gd=l([4,2],Ze),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function an(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Fs(){var u=new va;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Gl||(Gl=ei)),u}function zt(u,h,y){return u.a==0&&(u.a=h,u.sc=y,u.cb=0),0}function Hr(u,h,y){return 3<=y&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function Wr(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return zt(u,2,"null VP8Io passed to VP8GetHeaders()");var y=h.data,x=h.w,A=h.ha;if(4>A)return zt(u,7,"Truncated header.");var E=y[x+0]|y[x+1]<<8|y[x+2]<<16,L=u.Od;if(L.Rb=!(1&E),L.td=E>>1&7,L.yd=E>>4&1,L.ub=E>>5,3<L.td)return zt(u,3,"Incorrect keyframe parameters.");if(!L.yd)return zt(u,4,"Frame not displayable.");x+=3,A-=3;var F=u.Kc;if(L.Rb){if(7>A)return zt(u,7,"cannot parse picture header");if(!Hr(y,x,A))return zt(u,3,"Bad code word");F.c=16383&(y[x+4]<<8|y[x+3]),F.Td=y[x+4]>>6,F.i=16383&(y[x+6]<<8|y[x+5]),F.Ud=y[x+6]>>6,x+=7,A-=7,u.za=F.c+15>>4,u.Ub=F.i+15>>4,h.width=F.c,h.height=F.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,s((E=u.Pa).jb,0,255,E.jb.length),e((E=u.Qa)!=null),E.Cb=0,E.Bb=0,E.Fb=1,s(E.Zb,0,0,E.Zb.length),s(E.Lb,0,0,E.Lb)}if(L.ub>A)return zt(u,7,"bad partition length");pe(E=u.m,y,x,L.ub),x+=L.ub,A-=L.ub,L.Rb&&(F.Ld=fe(E),F.Kd=fe(E)),F=u.Qa;var D,U=u.Pa;if(e(E!=null),e(F!=null),F.Cb=fe(E),F.Cb){if(F.Bb=fe(E),fe(E)){for(F.Fb=fe(E),D=0;4>D;++D)F.Zb[D]=fe(E)?me(E,7):0;for(D=0;4>D;++D)F.Lb[D]=fe(E)?me(E,6):0}if(F.Bb)for(D=0;3>D;++D)U.jb[D]=fe(E)?de(E,8):255}else F.Bb=0;if(E.Ka)return zt(u,3,"cannot parse segment header");if((F=u.ed).zd=fe(E),F.Tb=de(E,6),F.wb=de(E,3),F.Pc=fe(E),F.Pc&&fe(E)){for(U=0;4>U;++U)fe(E)&&(F.vd[U]=me(E,6));for(U=0;4>U;++U)fe(E)&&(F.od[U]=me(E,6))}if(u.L=F.Tb==0?0:F.zd?1:2,E.Ka)return zt(u,3,"cannot parse filter header");var Z=A;if(A=D=x,x=D+Z,F=Z,u.Xb=(1<<de(u.m,2))-1,Z<3*(U=u.Xb))y=7;else{for(D+=3*U,F-=3*U,Z=0;Z<U;++Z){var ue=y[A+0]|y[A+1]<<8|y[A+2]<<16;ue>F&&(ue=F),pe(u.Jc[+Z],y,D,ue),D+=ue,F-=ue,A+=3}pe(u.Jc[+U],y,D,F),y=D<x?0:5}if(y!=0)return zt(u,y,"cannot parse partitions");for(y=de(D=u.m,7),A=fe(D)?me(D,4):0,x=fe(D)?me(D,4):0,F=fe(D)?me(D,4):0,U=fe(D)?me(D,4):0,D=fe(D)?me(D,4):0,Z=u.Qa,ue=0;4>ue;++ue){if(Z.Cb){var ce=Z.Zb[ue];Z.Fb||(ce+=y)}else{if(0<ue){u.pb[ue]=u.pb[0];continue}ce=y}var ne=u.pb[ue];ne.Sc[0]=lf[Tn(ce+A,127)],ne.Sc[1]=uf[Tn(ce+0,127)],ne.Eb[0]=2*lf[Tn(ce+x,127)],ne.Eb[1]=101581*uf[Tn(ce+F,127)]>>16,8>ne.Eb[1]&&(ne.Eb[1]=8),ne.Qc[0]=lf[Tn(ce+U,117)],ne.Qc[1]=uf[Tn(ce+D,127)],ne.lc=ce+D}if(!L.Rb)return zt(u,4,"Not a key frame.");for(fe(E),L=u.Pa,y=0;4>y;++y){for(A=0;8>A;++A)for(x=0;3>x;++x)for(F=0;11>F;++F)U=he(E,fb[y][A][x][F])?de(E,8):db[y][A][x][F],L.Wc[y][A].Yb[x][F]=U;for(A=0;17>A;++A)L.Xc[y][A]=L.Wc[y][pb[A]]}return u.kc=fe(E),u.kc&&(u.Bd=de(E,8)),u.cb=1}function ei(u,h,y,x,A,E,L){var F=h[A].Yb[y];for(y=0;16>A;++A){if(!he(u,F[y+0]))return A;for(;!he(u,F[y+1]);)if(F=h[++A].Yb[0],y=0,A==16)return 16;var D=h[A+1].Yb;if(he(u,F[y+2])){var U=u,Z=0;if(he(U,(ce=F)[(ue=y)+3]))if(he(U,ce[ue+6])){for(F=0,ue=2*(Z=he(U,ce[ue+8]))+(ce=he(U,ce[ue+9+Z])),Z=0,ce=ub[ue];ce[F];++F)Z+=Z+he(U,ce[F]);Z+=3+(8<<ue)}else he(U,ce[ue+7])?(Z=7+2*he(U,165),Z+=he(U,145)):Z=5+he(U,159);else Z=he(U,ce[ue+4])?3+he(U,ce[ue+5]):2;F=D[2]}else Z=1,F=D[1];D=L+cb[A],0>(U=u).b&&oe(U);var ue,ce=U.b,ne=(ue=U.Ca>>1)-(U.I>>ce)>>31;--U.b,U.Ca+=ne,U.Ca|=1,U.I-=(ue+1&ne)<<ce,E[D]=((Z^ne)-ne)*x[(0<A)+0]}return 16}function Sl(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,s(u.zc,0,0,u.zc.length),u.ja=0}function Dh(u,h){if(u==null)return 0;if(h==null)return zt(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!Wr(u,h))return 0;if(e(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var y=Pc[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-y>>4,u.zb=h.j-y>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+y>>4,u.Hb=h.va+15+y>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var x=u.ed;for(y=0;4>y;++y){var A;if(u.Qa.Cb){var E=u.Qa.Lb[y];u.Qa.Fb||(E+=x.Tb)}else E=x.Tb;for(A=0;1>=A;++A){var L=u.gd[y][A],F=E;if(x.Pc&&(F+=x.vd[0],A&&(F+=x.od[0])),0<(F=0>F?0:63<F?63:F)){var D=F;0<x.wb&&(D=4<x.wb?D>>2:D>>1)>9-x.wb&&(D=9-x.wb),1>D&&(D=1),L.dd=D,L.tc=2*F+D,L.ld=40<=F?2:15<=F?1:0}else L.tc=0;L.La=A}}}y=0}else zt(u,6,"Frame setup failed"),y=u.a;if(y=y==0){if(y){u.$c=0,0<u.Aa||(u.Ic=kb);e:{y=u.Ic,x=4*(D=u.za);var U=32*D,Z=D+1,ue=0<u.L?D*(0<u.Aa?2:1):0,ce=(u.Aa==2?2:1)*D;if((L=x+832+(A=3*(16*y+Pc[u.L])/2*U)+(E=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=L)y=0;else{if(L>u.Vb){if(u.Vb=0,u.Ec=i(L),u.Fc=0,u.Ec==null){y=zt(u,1,"no memory during frame initialization.");break e}u.Vb=L}L=u.Ec,F=u.Fc,u.Ac=L,u.Bc=F,F+=x,u.Gd=a(U,Zs),u.Hd=0,u.rb=a(Z+1,Mr),u.sb=1,u.wa=ue?a(ue,Ze):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=D),e(!0),u.oc=L,u.pc=F,F+=832,u.ya=a(ce,bn),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=D),u.R=16*D,u.B=8*D,D=(U=Pc[u.L])*u.R,U=U/2*u.B,u.sa=L,u.ta=F+D,u.qa=u.sa,u.ra=u.ta+16*y*u.R+U,u.Ha=u.qa,u.Ia=u.ra+8*y*u.B+U,u.$c=0,F+=A,u.mb=E?L:null,u.nb=E?F:null,e(F+E<=u.Fc+u.Vb),Sl(u),s(u.Ac,u.Bc,0,x),y=1}}if(y){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!xc){for(y=-255;255>=y;++y)jr[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)ai[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)Wl[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)yo[255+y]=0>y?0:255<y?255:y;xc=1}mo=Uh,ii=Mh,$l=ic,ln=Bh,Xn=ac,cr=sc,go=Ll,_c=ba,Vl=Zh,Na=Pl,Sa=Xh,Pi=io,ja=Ol,vo=mc,Aa=pc,Oi=Ms,Hl=ri,Zn=Qh,vs[0]=Ds,vs[1]=zh,vs[2]=Hh,vs[3]=Wh,vs[4]=uc,vs[5]=no,vs[6]=cc,vs[7]=kl,vs[8]=Kh,vs[9]=Gh,Ii[0]=oc,Ii[1]=$h,Ii[2]=ti,Ii[3]=to,Ii[4]=Gr,Ii[5]=Vh,Ii[6]=lc,oi[0]=Ai,oi[1]=qh,oi[2]=Yh,oi[3]=Cl,oi[4]=wa,oi[5]=Jh,oi[6]=El,y=1}else y=0}y&&(y=function(ne,_e){for(ne.M=0;ne.M<ne.Va;++ne.M){var ge,ee=ne.Jc[ne.M&ne.Xb],te=ne.m,we=ne;for(ge=0;ge<we.za;++ge){var Se=te,be=we,$e=be.Ac,Te=be.Bc+4*ge,tt=be.zc,Ue=be.ya[be.aa+ge];if(be.Qa.Bb?Ue.$b=he(Se,be.Pa.jb[0])?2+he(Se,be.Pa.jb[2]):he(Se,be.Pa.jb[1]):Ue.$b=0,be.kc&&(Ue.Ad=he(Se,be.Bd)),Ue.Za=!he(Se,145)+0,Ue.Za){var Pt=Ue.Ob,It=0;for(be=0;4>be;++be){var At,Nt=tt[0+be];for(At=0;4>At;++At){Nt=hb[$e[Te+At]][Nt];for(var Mt=e1[he(Se,Nt[0])];0<Mt;)Mt=e1[2*Mt+he(Se,Nt[Mt])];Nt=-Mt,$e[Te+At]=Nt}n(Pt,It,$e,Te,4),It+=4,tt[0+be]=Nt}}else Nt=he(Se,156)?he(Se,128)?1:3:he(Se,163)?2:0,Ue.Ob[0]=Nt,s($e,Te,Nt,4),s(tt,0,Nt,4);Ue.Dd=he(Se,142)?he(Se,114)?he(Se,183)?1:3:2:0}if(we.m.Ka)return zt(ne,7,"Premature end-of-partition0 encountered.");for(;ne.ja<ne.za;++ne.ja){if(we=ee,Se=(te=ne).rb[te.sb-1],$e=te.rb[te.sb+te.ja],ge=te.ya[te.aa+te.ja],Te=te.kc?ge.Ad:0)Se.la=$e.la=0,ge.Za||(Se.Na=$e.Na=0),ge.Hc=0,ge.Gc=0,ge.ia=0;else{var Dt,gt;if(Se=$e,$e=we,Te=te.Pa.Xc,tt=te.ya[te.aa+te.ja],Ue=te.pb[tt.$b],be=tt.ad,Pt=0,It=te.rb[te.sb-1],Nt=At=0,s(be,Pt,0,384),tt.Za)var wr=0,Sn=Te[3];else{Mt=i(16);var br=Se.Na+It.Na;if(br=Gl($e,Te[1],br,Ue.Eb,0,Mt,0),Se.Na=It.Na=(0<br)+0,1<br)mo(Mt,0,be,Pt);else{var jn=Mt[0]+3>>3;for(Mt=0;256>Mt;Mt+=16)be[Pt+Mt]=jn}wr=1,Sn=Te[0]}var Rt=15&Se.la,Dn=15&It.la;for(Mt=0;4>Mt;++Mt){var Mn=1&Dn;for(jn=gt=0;4>jn;++jn)Rt=Rt>>1|(Mn=(br=Gl($e,Sn,br=Mn+(1&Rt),Ue.Sc,wr,be,Pt))>wr)<<7,gt=gt<<2|(3<br?3:1<br?2:be[Pt+0]!=0),Pt+=16;Rt>>=4,Dn=Dn>>1|Mn<<7,At=(At<<8|gt)>>>0}for(Sn=Rt,wr=Dn>>4,Dt=0;4>Dt;Dt+=2){for(gt=0,Rt=Se.la>>4+Dt,Dn=It.la>>4+Dt,Mt=0;2>Mt;++Mt){for(Mn=1&Dn,jn=0;2>jn;++jn)br=Mn+(1&Rt),Rt=Rt>>1|(Mn=0<(br=Gl($e,Te[2],br,Ue.Qc,0,be,Pt)))<<3,gt=gt<<2|(3<br?3:1<br?2:be[Pt+0]!=0),Pt+=16;Rt>>=2,Dn=Dn>>1|Mn<<5}Nt|=gt<<4*Dt,Sn|=Rt<<4<<Dt,wr|=(240&Dn)<<Dt}Se.la=Sn,It.la=wr,tt.Hc=At,tt.Gc=Nt,tt.ia=43690&Nt?0:Ue.ia,Te=!(At|Nt)}if(0<te.L&&(te.wa[te.Y+te.ja]=te.gd[ge.$b][ge.Za],te.wa[te.Y+te.ja].La|=!Te),we.Ka)return zt(ne,7,"Premature end-of-file encountered.")}if(Sl(ne),te=_e,we=1,ge=(ee=ne).D,Se=0<ee.L&&ee.M>=ee.zb&&ee.M<=ee.Va,ee.Aa==0)e:{if(ge.M=ee.M,ge.uc=Se,Ml(ee,ge),we=1,ge=(gt=ee.D).Nb,Se=(Nt=Pc[ee.L])*ee.R,$e=Nt/2*ee.B,Mt=16*ge*ee.R,jn=8*ge*ee.B,Te=ee.sa,tt=ee.ta-Se+Mt,Ue=ee.qa,be=ee.ra-$e+jn,Pt=ee.Ha,It=ee.Ia-$e+jn,Dn=(Rt=gt.M)==0,At=Rt>=ee.Va-1,ee.Aa==2&&Ml(ee,gt),gt.uc)for(Mn=(br=ee).D.M,e(br.D.uc),gt=br.yb;gt<br.Hb;++gt){wr=gt,Sn=Mn;var Pr=(Ur=(or=br).D).Nb;Dt=or.R;var Ur=Ur.wa[Ur.Y+wr],un=or.sa,ns=or.ta+16*Pr*Dt+16*wr,Us=Ur.dd,Or=Ur.tc;if(Or!=0)if(e(3<=Or),or.L==1)0<wr&&Oi(un,ns,Dt,Or+4),Ur.La&&Zn(un,ns,Dt,Or),0<Sn&&Aa(un,ns,Dt,Or+4),Ur.La&&Hl(un,ns,Dt,Or);else{var li=or.B,ka=or.qa,wo=or.ra+8*Pr*li+8*wr,Ti=or.Ha,or=or.Ia+8*Pr*li+8*wr;Pr=Ur.ld,0<wr&&(_c(un,ns,Dt,Or+4,Us,Pr),Na(ka,wo,Ti,or,li,Or+4,Us,Pr)),Ur.La&&(Pi(un,ns,Dt,Or,Us,Pr),vo(ka,wo,Ti,or,li,Or,Us,Pr)),0<Sn&&(go(un,ns,Dt,Or+4,Us,Pr),Vl(ka,wo,Ti,or,li,Or+4,Us,Pr)),Ur.La&&(Sa(un,ns,Dt,Or,Us,Pr),ja(ka,wo,Ti,or,li,Or,Us,Pr))}}if(ee.ia&&alert("todo:DitherRow"),te.put!=null){if(gt=16*Rt,Rt=16*(Rt+1),Dn?(te.y=ee.sa,te.O=ee.ta+Mt,te.f=ee.qa,te.N=ee.ra+jn,te.ea=ee.Ha,te.W=ee.Ia+jn):(gt-=Nt,te.y=Te,te.O=tt,te.f=Ue,te.N=be,te.ea=Pt,te.W=It),At||(Rt-=Nt),Rt>te.o&&(Rt=te.o),te.F=null,te.J=null,ee.Fa!=null&&0<ee.Fa.length&&gt<Rt&&(te.J=Fl(ee,te,gt,Rt-gt),te.F=ee.mb,te.F==null&&te.F.length==0)){we=zt(ee,3,"Could not decode alpha data.");break e}gt<te.j&&(Nt=te.j-gt,gt=te.j,e(!(1&Nt)),te.O+=ee.R*Nt,te.N+=ee.B*(Nt>>1),te.W+=ee.B*(Nt>>1),te.F!=null&&(te.J+=te.width*Nt)),gt<Rt&&(te.O+=te.v,te.N+=te.v>>1,te.W+=te.v>>1,te.F!=null&&(te.J+=te.v),te.ka=gt-te.j,te.U=te.va-te.v,te.T=Rt-gt,we=te.put(te))}ge+1!=ee.Ic||At||(n(ee.sa,ee.ta-Se,Te,tt+16*ee.R,Se),n(ee.qa,ee.ra-$e,Ue,be+8*ee.B,$e),n(ee.Ha,ee.Ia-$e,Pt,It+8*ee.B,$e))}if(!we)return zt(ne,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),y&=1}return y?(u.cb=0,y):0}function ps(u,h,y,x,A){A=u[h+y+32*x]+(A>>3),u[h+y+32*x]=-256&A?0>A?0:255:A}function eo(u,h,y,x,A,E){ps(u,h,0,y,x+A),ps(u,h,1,y,x+E),ps(u,h,2,y,x-E),ps(u,h,3,y,x-A)}function _n(u){return(20091*u>>16)+u}function jl(u,h,y,x){var A,E=0,L=i(16);for(A=0;4>A;++A){var F=u[h+0]+u[h+8],D=u[h+0]-u[h+8],U=(35468*u[h+4]>>16)-_n(u[h+12]),Z=_n(u[h+4])+(35468*u[h+12]>>16);L[E+0]=F+Z,L[E+1]=D+U,L[E+2]=D-U,L[E+3]=F-Z,E+=4,h++}for(A=E=0;4>A;++A)F=(u=L[E+0]+4)+L[E+8],D=u-L[E+8],U=(35468*L[E+4]>>16)-_n(L[E+12]),ps(y,x,0,0,F+(Z=_n(L[E+4])+(35468*L[E+12]>>16))),ps(y,x,1,0,D+U),ps(y,x,2,0,D-U),ps(y,x,3,0,F-Z),E++,x+=32}function sc(u,h,y,x){var A=u[h+0]+4,E=35468*u[h+4]>>16,L=_n(u[h+4]),F=35468*u[h+1]>>16;eo(y,x,0,A+L,u=_n(u[h+1]),F),eo(y,x,1,A+E,u,F),eo(y,x,2,A-E,u,F),eo(y,x,3,A-L,u,F)}function Mh(u,h,y,x,A){jl(u,h,y,x),A&&jl(u,h+16,y,x+4)}function ic(u,h,y,x){ii(u,h+0,y,x,1),ii(u,h+32,y,x+128,1)}function Bh(u,h,y,x){var A;for(u=u[h+0]+4,A=0;4>A;++A)for(h=0;4>h;++h)ps(y,x,h,A,u)}function ac(u,h,y,x){u[h+0]&&ln(u,h+0,y,x),u[h+16]&&ln(u,h+16,y,x+4),u[h+32]&&ln(u,h+32,y,x+128),u[h+48]&&ln(u,h+48,y,x+128+4)}function Uh(u,h,y,x){var A,E=i(16);for(A=0;4>A;++A){var L=u[h+0+A]+u[h+12+A],F=u[h+4+A]+u[h+8+A],D=u[h+4+A]-u[h+8+A],U=u[h+0+A]-u[h+12+A];E[0+A]=L+F,E[8+A]=L-F,E[4+A]=U+D,E[12+A]=U-D}for(A=0;4>A;++A)L=(u=E[0+4*A]+3)+E[3+4*A],F=E[1+4*A]+E[2+4*A],D=E[1+4*A]-E[2+4*A],U=u-E[3+4*A],y[x+0]=L+F>>3,y[x+16]=U+D>>3,y[x+32]=L-F>>3,y[x+48]=U-D>>3,x+=64}function Al(u,h,y){var x,A=h-32,E=Fn,L=255-u[A-1];for(x=0;x<y;++x){var F,D=E,U=L+u[h-1];for(F=0;F<y;++F)u[h+F]=D[U+u[A+F]];h+=32}}function zh(u,h){Al(u,h,4)}function qh(u,h){Al(u,h,8)}function $h(u,h){Al(u,h,16)}function ti(u,h){var y;for(y=0;16>y;++y)n(u,h+32*y,u,h-32,16)}function to(u,h){var y;for(y=16;0<y;--y)s(u,h,u[h-1],16),h+=32}function ro(u,h,y){var x;for(x=0;16>x;++x)s(h,y+32*x,u,16)}function oc(u,h){var y,x=16;for(y=0;16>y;++y)x+=u[h-1+32*y]+u[h+y-32];ro(x>>5,u,h)}function Gr(u,h){var y,x=8;for(y=0;16>y;++y)x+=u[h-1+32*y];ro(x>>4,u,h)}function Vh(u,h){var y,x=8;for(y=0;16>y;++y)x+=u[h+y-32];ro(x>>4,u,h)}function lc(u,h){ro(128,u,h)}function ct(u,h,y){return u+2*h+y+2>>2}function Hh(u,h){var y,x=h-32;for(x=new Uint8Array([ct(u[x-1],u[x+0],u[x+1]),ct(u[x+0],u[x+1],u[x+2]),ct(u[x+1],u[x+2],u[x+3]),ct(u[x+2],u[x+3],u[x+4])]),y=0;4>y;++y)n(u,h+32*y,x,0,x.length)}function Wh(u,h){var y=u[h-1],x=u[h-1+32],A=u[h-1+64],E=u[h-1+96];Le(u,h+0,16843009*ct(u[h-1-32],y,x)),Le(u,h+32,16843009*ct(y,x,A)),Le(u,h+64,16843009*ct(x,A,E)),Le(u,h+96,16843009*ct(A,E,E))}function Ds(u,h){var y,x=4;for(y=0;4>y;++y)x+=u[h+y-32]+u[h-1+32*y];for(x>>=3,y=0;4>y;++y)s(u,h+32*y,x,4)}function uc(u,h){var y=u[h-1+0],x=u[h-1+32],A=u[h-1+64],E=u[h-1-32],L=u[h+0-32],F=u[h+1-32],D=u[h+2-32],U=u[h+3-32];u[h+0+96]=ct(x,A,u[h-1+96]),u[h+1+96]=u[h+0+64]=ct(y,x,A),u[h+2+96]=u[h+1+64]=u[h+0+32]=ct(E,y,x),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=ct(L,E,y),u[h+3+64]=u[h+2+32]=u[h+1+0]=ct(F,L,E),u[h+3+32]=u[h+2+0]=ct(D,F,L),u[h+3+0]=ct(U,D,F)}function cc(u,h){var y=u[h+1-32],x=u[h+2-32],A=u[h+3-32],E=u[h+4-32],L=u[h+5-32],F=u[h+6-32],D=u[h+7-32];u[h+0+0]=ct(u[h+0-32],y,x),u[h+1+0]=u[h+0+32]=ct(y,x,A),u[h+2+0]=u[h+1+32]=u[h+0+64]=ct(x,A,E),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=ct(A,E,L),u[h+3+32]=u[h+2+64]=u[h+1+96]=ct(E,L,F),u[h+3+64]=u[h+2+96]=ct(L,F,D),u[h+3+96]=ct(F,D,D)}function no(u,h){var y=u[h-1+0],x=u[h-1+32],A=u[h-1+64],E=u[h-1-32],L=u[h+0-32],F=u[h+1-32],D=u[h+2-32],U=u[h+3-32];u[h+0+0]=u[h+1+64]=E+L+1>>1,u[h+1+0]=u[h+2+64]=L+F+1>>1,u[h+2+0]=u[h+3+64]=F+D+1>>1,u[h+3+0]=D+U+1>>1,u[h+0+96]=ct(A,x,y),u[h+0+64]=ct(x,y,E),u[h+0+32]=u[h+1+96]=ct(y,E,L),u[h+1+32]=u[h+2+96]=ct(E,L,F),u[h+2+32]=u[h+3+96]=ct(L,F,D),u[h+3+32]=ct(F,D,U)}function kl(u,h){var y=u[h+0-32],x=u[h+1-32],A=u[h+2-32],E=u[h+3-32],L=u[h+4-32],F=u[h+5-32],D=u[h+6-32],U=u[h+7-32];u[h+0+0]=y+x+1>>1,u[h+1+0]=u[h+0+64]=x+A+1>>1,u[h+2+0]=u[h+1+64]=A+E+1>>1,u[h+3+0]=u[h+2+64]=E+L+1>>1,u[h+0+32]=ct(y,x,A),u[h+1+32]=u[h+0+96]=ct(x,A,E),u[h+2+32]=u[h+1+96]=ct(A,E,L),u[h+3+32]=u[h+2+96]=ct(E,L,F),u[h+3+64]=ct(L,F,D),u[h+3+96]=ct(F,D,U)}function Gh(u,h){var y=u[h-1+0],x=u[h-1+32],A=u[h-1+64],E=u[h-1+96];u[h+0+0]=y+x+1>>1,u[h+2+0]=u[h+0+32]=x+A+1>>1,u[h+2+32]=u[h+0+64]=A+E+1>>1,u[h+1+0]=ct(y,x,A),u[h+3+0]=u[h+1+32]=ct(x,A,E),u[h+3+32]=u[h+1+64]=ct(A,E,E),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=E}function Kh(u,h){var y=u[h-1+0],x=u[h-1+32],A=u[h-1+64],E=u[h-1+96],L=u[h-1-32],F=u[h+0-32],D=u[h+1-32],U=u[h+2-32];u[h+0+0]=u[h+2+32]=y+L+1>>1,u[h+0+32]=u[h+2+64]=x+y+1>>1,u[h+0+64]=u[h+2+96]=A+x+1>>1,u[h+0+96]=E+A+1>>1,u[h+3+0]=ct(F,D,U),u[h+2+0]=ct(L,F,D),u[h+1+0]=u[h+3+32]=ct(y,L,F),u[h+1+32]=u[h+3+64]=ct(x,y,L),u[h+1+64]=u[h+3+96]=ct(A,x,y),u[h+1+96]=ct(E,A,x)}function Yh(u,h){var y;for(y=0;8>y;++y)n(u,h+32*y,u,h-32,8)}function Cl(u,h){var y;for(y=0;8>y;++y)s(u,h,u[h-1],8),h+=32}function ya(u,h,y){var x;for(x=0;8>x;++x)s(h,y+32*x,u,8)}function Ai(u,h){var y,x=8;for(y=0;8>y;++y)x+=u[h+y-32]+u[h-1+32*y];ya(x>>4,u,h)}function Jh(u,h){var y,x=4;for(y=0;8>y;++y)x+=u[h+y-32];ya(x>>3,u,h)}function wa(u,h){var y,x=4;for(y=0;8>y;++y)x+=u[h-1+32*y];ya(x>>3,u,h)}function El(u,h){ya(128,u,h)}function so(u,h,y){var x=u[h-y],A=u[h+0],E=3*(A-x)+rf[1020+u[h-2*y]-u[h+y]],L=Nc[112+(E+4>>3)];u[h-y]=Fn[255+x+Nc[112+(E+3>>3)]],u[h+0]=Fn[255+A-L]}function dc(u,h,y,x){var A=u[h+0],E=u[h+y];return ts[255+u[h-2*y]-u[h-y]]>x||ts[255+E-A]>x}function hc(u,h,y,x){return 4*ts[255+u[h-y]-u[h+0]]+ts[255+u[h-2*y]-u[h+y]]<=x}function fc(u,h,y,x,A){var E=u[h-3*y],L=u[h-2*y],F=u[h-y],D=u[h+0],U=u[h+y],Z=u[h+2*y],ue=u[h+3*y];return 4*ts[255+F-D]+ts[255+L-U]>x?0:ts[255+u[h-4*y]-E]<=A&&ts[255+E-L]<=A&&ts[255+L-F]<=A&&ts[255+ue-Z]<=A&&ts[255+Z-U]<=A&&ts[255+U-D]<=A}function pc(u,h,y,x){var A=2*x+1;for(x=0;16>x;++x)hc(u,h+x,y,A)&&so(u,h+x,y)}function Ms(u,h,y,x){var A=2*x+1;for(x=0;16>x;++x)hc(u,h+x*y,1,A)&&so(u,h+x*y,1)}function ri(u,h,y,x){var A;for(A=3;0<A;--A)pc(u,h+=4*y,y,x)}function Qh(u,h,y,x){var A;for(A=3;0<A;--A)Ms(u,h+=4,y,x)}function ki(u,h,y,x,A,E,L,F){for(E=2*E+1;0<A--;){if(fc(u,h,y,E,L))if(dc(u,h,y,F))so(u,h,y);else{var D=u,U=h,Z=y,ue=D[U-2*Z],ce=D[U-Z],ne=D[U+0],_e=D[U+Z],ge=D[U+2*Z],ee=27*(we=rf[1020+3*(ne-ce)+rf[1020+ue-_e]])+63>>7,te=18*we+63>>7,we=9*we+63>>7;D[U-3*Z]=Fn[255+D[U-3*Z]+we],D[U-2*Z]=Fn[255+ue+te],D[U-Z]=Fn[255+ce+ee],D[U+0]=Fn[255+ne-ee],D[U+Z]=Fn[255+_e-te],D[U+2*Z]=Fn[255+ge-we]}h+=x}}function ms(u,h,y,x,A,E,L,F){for(E=2*E+1;0<A--;){if(fc(u,h,y,E,L))if(dc(u,h,y,F))so(u,h,y);else{var D=u,U=h,Z=y,ue=D[U-Z],ce=D[U+0],ne=D[U+Z],_e=Nc[112+((ge=3*(ce-ue))+4>>3)],ge=Nc[112+(ge+3>>3)],ee=_e+1>>1;D[U-2*Z]=Fn[255+D[U-2*Z]+ee],D[U-Z]=Fn[255+ue+ge],D[U+0]=Fn[255+ce-_e],D[U+Z]=Fn[255+ne-ee]}h+=x}}function Ll(u,h,y,x,A,E){ki(u,h,y,1,16,x,A,E)}function ba(u,h,y,x,A,E){ki(u,h,1,y,16,x,A,E)}function Xh(u,h,y,x,A,E){var L;for(L=3;0<L;--L)ms(u,h+=4*y,y,1,16,x,A,E)}function io(u,h,y,x,A,E){var L;for(L=3;0<L;--L)ms(u,h+=4,1,y,16,x,A,E)}function Zh(u,h,y,x,A,E,L,F){ki(u,h,A,1,8,E,L,F),ki(y,x,A,1,8,E,L,F)}function Pl(u,h,y,x,A,E,L,F){ki(u,h,1,A,8,E,L,F),ki(y,x,1,A,8,E,L,F)}function Ol(u,h,y,x,A,E,L,F){ms(u,h+4*A,A,1,8,E,L,F),ms(y,x+4*A,A,1,8,E,L,F)}function mc(u,h,y,x,A,E,L,F){ms(u,h+4,1,A,8,E,L,F),ms(y,x+4,1,A,8,E,L,F)}function ao(){this.ba=new Yn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Il(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function gc(){this.ua=0,this.Wa=new H,this.vb=new H,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new R}function ef(){this.xb=this.a=0,this.l=new an,this.ca=new Yn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new gc,this.ab=0,this.gc=a(4,Rl),this.Oc=0}function oo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new an,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _a(u,h,y,x,A,E,L){for(u=u==null?0:u[h+0],h=0;h<L;++h)A[E+h]=u+y[x+h]&255,u=A[E+h]}function Tl(u,h,y,x,A,E,L){var F;if(u==null)_a(null,null,y,x,A,E,L);else for(F=0;F<L;++F)A[E+F]=u[h+F]+y[x+F]&255}function Ci(u,h,y,x,A,E,L){if(u==null)_a(null,null,y,x,A,E,L);else{var F,D=u[h+0],U=D,Z=D;for(F=0;F<L;++F)U=Z+(D=u[h+F])-U,Z=y[x+F]+(-256&U?0>U?0:255:U)&255,U=D,A[E+F]=Z}}function Fl(u,h,y,x){var A=h.width,E=h.o;if(e(u!=null&&h!=null),0>y||0>=x||y+x>E)return null;if(!u.Cc){if(u.ga==null){var L;if(u.ga=new oo,(L=u.ga==null)||(L=h.width*h.o,e(u.Gb.length==0),u.Gb=i(L),u.Uc=0,u.Gb==null?L=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,L=1),L=!L),!L){L=u.ga;var F=u.Fa,D=u.P,U=u.qc,Z=u.mb,ue=u.nb,ce=D+1,ne=U-1,_e=L.l;if(e(F!=null&&Z!=null&&h!=null),Ri[0]=null,Ri[1]=_a,Ri[2]=Tl,Ri[3]=Ci,L.ca=Z,L.tb=ue,L.c=h.width,L.i=h.height,e(0<L.c&&0<L.i),1>=U)h=0;else if(L.$a=F[D+0]>>0&3,L.Z=F[D+0]>>2&3,L.Lc=F[D+0]>>4&3,D=F[D+0]>>6&3,0>L.$a||1<L.$a||4<=L.Z||1<L.Lc||D)h=0;else if(_e.put=Dr,_e.ac=vr,_e.bc=gn,_e.ma=L,_e.width=h.width,_e.height=h.height,_e.Da=h.Da,_e.v=h.v,_e.va=h.va,_e.j=h.j,_e.o=h.o,L.$a)e:{e(L.$a==1),h=yn();t:for(;;){if(h==null){h=0;break e}if(e(L!=null),L.mc=h,h.c=L.c,h.i=L.i,h.l=L.l,h.l.ma=L,h.l.width=L.c,h.l.height=L.i,h.a=0,W(h.m,F,ce,ne),!Rn(L.c,L.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&hs(h.s)?(L.ic=1,F=h.c*h.i,h.Ta=null,h.Ua=0,h.V=i(F),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(L.ic=0,h=Xs(h,L.c)),!h))break t;h=1;break e}L.mc=null,h=0}else h=ne>=L.c*L.i;L=!h}if(L)return null;u.ga.Lc!=1?u.Ga=0:x=E-y}e(u.ga!=null),e(y+x<=E);e:{if(h=(F=u.ga).c,E=F.l.o,F.$a==0){if(ce=u.rc,ne=u.Vc,_e=u.Fa,D=u.P+1+y*h,U=u.mb,Z=u.nb+y*h,e(D<=u.P+u.qc),F.Z!=0)for(e(Ri[F.Z]!=null),L=0;L<x;++L)Ri[F.Z](ce,ne,_e,D,U,Z,h),ce=U,ne=Z,Z+=h,D+=h;else for(L=0;L<x;++L)n(U,Z,_e,D,h),ce=U,ne=Z,Z+=h,D+=h;u.rc=ce,u.Vc=ne}else{if(e(F.mc!=null),h=y+x,e((L=F.mc)!=null),e(h<=L.i),L.C>=h)h=1;else if(F.ic||ie(),F.ic){F=L.V,ce=L.Ba,ne=L.c;var ge=L.i,ee=(_e=1,D=L.$/ne,U=L.$%ne,Z=L.m,ue=L.s,L.$),te=ne*ge,we=ne*h,Se=ue.wc,be=ee<we?ir(ue,U,D):null;e(ee<=te),e(h<=ge),e(hs(ue));t:for(;;){for(;!Z.h&&ee<we;){if(U&Se||(be=ir(ue,U,D)),e(be!=null),X(Z),256>(ge=Zt(be.G[0],be.H[0],Z)))F[ce+ee]=ge,++ee,++U>=ne&&(U=0,++D<=h&&!(D%16)&&On(L,D));else{if(!(280>ge)){_e=0;break t}ge=Nr(ge-256,Z);var $e,Te=Zt(be.G[4],be.H[4],Z);if(X(Z),!(ee>=(Te=Sr(ne,Te=Nr(Te,Z)))&&te-ee>=ge)){_e=0;break t}for($e=0;$e<ge;++$e)F[ce+ee+$e]=F[ce+ee+$e-Te];for(ee+=ge,U+=ge;U>=ne;)U-=ne,++D<=h&&!(D%16)&&On(L,D);ee<we&&U&Se&&(be=ir(ue,U,D))}e(Z.h==$(Z))}On(L,D>h?h:D);break t}!_e||Z.h&&ee<te?(_e=0,L.a=Z.h?5:3):L.$=ee,h=_e}else h=In(L,L.V,L.Ba,L.c,L.i,h,le);if(!h){x=0;break e}}y+x>=E&&(u.Cc=1),x=1}if(!x)return null;if(u.Cc&&((x=u.ga)!=null&&(x.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+y*A}function g(u,h,y,x,A,E){for(;0<A--;){var L,F=u,D=h+(y?1:0),U=u,Z=h+(y?0:3);for(L=0;L<x;++L){var ue=U[Z+4*L];ue!=255&&(ue*=32897,F[D+4*L+0]=F[D+4*L+0]*ue>>23,F[D+4*L+1]=F[D+4*L+1]*ue>>23,F[D+4*L+2]=F[D+4*L+2]*ue>>23)}h+=E}}function k(u,h,y,x,A){for(;0<x--;){var E;for(E=0;E<y;++E){var L=u[h+2*E+0],F=15&(U=u[h+2*E+1]),D=4369*F,U=(240&U|U>>4)*D>>16;u[h+2*E+0]=(240&L|L>>4)*D>>16&240|(15&L|L<<4)*D>>16>>4&15,u[h+2*E+1]=240&U|F}h+=A}}function q(u,h,y,x,A,E,L,F){var D,U,Z=255;for(U=0;U<A;++U){for(D=0;D<x;++D){var ue=u[h+D];E[L+4*D]=ue,Z&=ue}h+=y,L+=F}return Z!=255}function J(u,h,y,x,A){var E;for(E=0;E<A;++E)y[x+E]=u[h+E]>>8}function ie(){es=g,qt=k,$t=q,dr=J}function ye(u,h,y){M[u]=function(x,A,E,L,F,D,U,Z,ue,ce,ne,_e,ge,ee,te,we,Se){var be,$e=Se-1>>1,Te=F[D+0]|U[Z+0]<<16,tt=ue[ce+0]|ne[_e+0]<<16;e(x!=null);var Ue=3*Te+tt+131074>>2;for(h(x[A+0],255&Ue,Ue>>16,ge,ee),E!=null&&(Ue=3*tt+Te+131074>>2,h(E[L+0],255&Ue,Ue>>16,te,we)),be=1;be<=$e;++be){var Pt=F[D+be]|U[Z+be]<<16,It=ue[ce+be]|ne[_e+be]<<16,At=Te+Pt+tt+It+524296,Nt=At+2*(Pt+tt)>>3;Ue=Nt+Te>>1,Te=(At=At+2*(Te+It)>>3)+Pt>>1,h(x[A+2*be-1],255&Ue,Ue>>16,ge,ee+(2*be-1)*y),h(x[A+2*be-0],255&Te,Te>>16,ge,ee+(2*be-0)*y),E!=null&&(Ue=At+tt>>1,Te=Nt+It>>1,h(E[L+2*be-1],255&Ue,Ue>>16,te,we+(2*be-1)*y),h(E[L+2*be+0],255&Te,Te>>16,te,we+(2*be+0)*y)),Te=Pt,tt=It}1&Se||(Ue=3*Te+tt+131074>>2,h(x[A+Se-1],255&Ue,Ue>>16,ge,ee+(Se-1)*y),E!=null&&(Ue=3*tt+Te+131074>>2,h(E[L+Se-1],255&Ue,Ue>>16,te,we+(Se-1)*y)))}}function je(){rs[Sc]=gb,rs[jc]=r1,rs[Q0]=vb,rs[Ac]=n1,rs[kc]=s1,rs[nf]=i1,rs[X0]=yb,rs[sf]=r1,rs[af]=n1,rs[Cc]=s1,rs[of]=i1}function qe(u){return u&-16384?0>u?0:255:u>>wb}function Qe(u,h){return qe((19077*u>>8)+(26149*h>>8)-14234)}function mt(u,h,y){return qe((19077*u>>8)-(6419*h>>8)-(13320*y>>8)+8708)}function dt(u,h){return qe((19077*u>>8)+(33050*h>>8)-17685)}function jt(u,h,y,x,A){x[A+0]=Qe(u,y),x[A+1]=mt(u,h,y),x[A+2]=dt(u,h)}function er(u,h,y,x,A){x[A+0]=dt(u,h),x[A+1]=mt(u,h,y),x[A+2]=Qe(u,y)}function ar(u,h,y,x,A){var E=mt(u,h,y);h=E<<3&224|dt(u,h)>>3,x[A+0]=248&Qe(u,y)|E>>5,x[A+1]=h}function yr(u,h,y,x,A){var E=240&dt(u,h)|15;x[A+0]=240&Qe(u,y)|mt(u,h,y)>>4,x[A+1]=E}function Kr(u,h,y,x,A){x[A+0]=255,jt(u,h,y,x,A+1)}function Lr(u,h,y,x,A){er(u,h,y,x,A),x[A+3]=255}function gs(u,h,y,x,A){jt(u,h,y,x,A),x[A+3]=255}function Tn(u,h){return 0>u?0:u>h?h:u}function Bs(u,h,y){M[u]=function(x,A,E,L,F,D,U,Z,ue){for(var ce=Z+(-2&ue)*y;Z!=ce;)h(x[A+0],E[L+0],F[D+0],U,Z),h(x[A+1],E[L+0],F[D+0],U,Z+y),A+=2,++L,++D,Z+=2*y;1&ue&&h(x[A+0],E[L+0],F[D+0],U,Z)}}function vc(u,h,y){return y==0?u==0?h==0?6:5:h==0?4:0:y}function Dl(u,h,y,x,A){switch(u>>>30){case 3:ii(h,y,x,A,0);break;case 2:cr(h,y,x,A);break;case 1:ln(h,y,x,A)}}function Ml(u,h){var y,x,A=h.M,E=h.Nb,L=u.oc,F=u.pc+40,D=u.oc,U=u.pc+584,Z=u.oc,ue=u.pc+600;for(y=0;16>y;++y)L[F+32*y-1]=129;for(y=0;8>y;++y)D[U+32*y-1]=129,Z[ue+32*y-1]=129;for(0<A?L[F-1-32]=D[U-1-32]=Z[ue-1-32]=129:(s(L,F-32-1,127,21),s(D,U-32-1,127,9),s(Z,ue-32-1,127,9)),x=0;x<u.za;++x){var ce=h.ya[h.aa+x];if(0<x){for(y=-1;16>y;++y)n(L,F+32*y-4,L,F+32*y+12,4);for(y=-1;8>y;++y)n(D,U+32*y-4,D,U+32*y+4,4),n(Z,ue+32*y-4,Z,ue+32*y+4,4)}var ne=u.Gd,_e=u.Hd+x,ge=ce.ad,ee=ce.Hc;if(0<A&&(n(L,F-32,ne[_e].y,0,16),n(D,U-32,ne[_e].f,0,8),n(Z,ue-32,ne[_e].ea,0,8)),ce.Za){var te=L,we=F-32+16;for(0<A&&(x>=u.za-1?s(te,we,ne[_e].y[15],4):n(te,we,ne[_e+1].y,0,4)),y=0;4>y;y++)te[we+128+y]=te[we+256+y]=te[we+384+y]=te[we+0+y];for(y=0;16>y;++y,ee<<=2)te=L,we=F+o1[y],vs[ce.Ob[y]](te,we),Dl(ee,ge,16*+y,te,we)}else if(te=vc(x,A,ce.Ob[0]),Ii[te](L,F),ee!=0)for(y=0;16>y;++y,ee<<=2)Dl(ee,ge,16*+y,L,F+o1[y]);for(y=ce.Gc,te=vc(x,A,ce.Dd),oi[te](D,U),oi[te](Z,ue),ee=ge,te=D,we=U,255&(ce=y>>0)&&(170&ce?$l(ee,256,te,we):Xn(ee,256,te,we)),ce=Z,ee=ue,255&(y>>=8)&&(170&y?$l(ge,320,ce,ee):Xn(ge,320,ce,ee)),A<u.Ub-1&&(n(ne[_e].y,0,L,F+480,16),n(ne[_e].f,0,D,U+224,8),n(ne[_e].ea,0,Z,ue+224,8)),y=8*E*u.B,ne=u.sa,_e=u.ta+16*x+16*E*u.R,ge=u.qa,ce=u.ra+8*x+y,ee=u.Ha,te=u.Ia+8*x+y,y=0;16>y;++y)n(ne,_e+y*u.R,L,F+32*y,16);for(y=0;8>y;++y)n(ge,ce+y*u.B,D,U+32*y,8),n(ee,te+y*u.B,Z,ue+32*y,8)}}function lo(u,h,y,x,A,E,L,F,D){var U=[0],Z=[0],ue=0,ce=D!=null?D.kd:0,ne=D??new Il;if(u==null||12>y)return 7;ne.data=u,ne.w=h,ne.ha=y,h=[h],y=[y],ne.gb=[ne.gb];e:{var _e=h,ge=y,ee=ne.gb;if(e(u!=null),e(ge!=null),e(ee!=null),ee[0]=0,12<=ge[0]&&!r(u,_e[0],"RIFF")){if(r(u,_e[0]+8,"WEBP")){ee=3;break e}var te=Ie(u,_e[0]+4);if(12>te||4294967286<te){ee=3;break e}if(ce&&te>ge[0]-8){ee=7;break e}ee[0]=te,_e[0]+=12,ge[0]-=12}ee=0}if(ee!=0)return ee;for(te=0<ne.gb[0],y=y[0];;){e:{var we=u;ge=h,ee=y;var Se=U,be=Z,$e=_e=[0];if((Ue=ue=[ue])[0]=0,8>ee[0])ee=7;else{if(!r(we,ge[0],"VP8X")){if(Ie(we,ge[0]+4)!=10){ee=3;break e}if(18>ee[0]){ee=7;break e}var Te=Ie(we,ge[0]+8),tt=1+Fe(we,ge[0]+12);if(2147483648<=tt*(we=1+Fe(we,ge[0]+15))){ee=3;break e}$e!=null&&($e[0]=Te),Se!=null&&(Se[0]=tt),be!=null&&(be[0]=we),ge[0]+=18,ee[0]-=18,Ue[0]=1}ee=0}}if(ue=ue[0],_e=_e[0],ee!=0)return ee;if(ge=!!(2&_e),!te&&ue)return 3;if(E!=null&&(E[0]=!!(16&_e)),L!=null&&(L[0]=ge),F!=null&&(F[0]=0),L=U[0],_e=Z[0],ue&&ge&&D==null){ee=0;break}if(4>y){ee=7;break}if(te&&ue||!te&&!ue&&!r(u,h[0],"ALPH")){y=[y],ne.na=[ne.na],ne.P=[ne.P],ne.Sa=[ne.Sa];e:{Te=u,ee=h,te=y;var Ue=ne.gb;Se=ne.na,be=ne.P,$e=ne.Sa,tt=22,e(Te!=null),e(te!=null),we=ee[0];var Pt=te[0];for(e(Se!=null),e($e!=null),Se[0]=null,be[0]=null,$e[0]=0;;){if(ee[0]=we,te[0]=Pt,8>Pt){ee=7;break e}var It=Ie(Te,we+4);if(4294967286<It){ee=3;break e}var At=8+It+1&-2;if(tt+=At,0<Ue&&tt>Ue){ee=3;break e}if(!r(Te,we,"VP8 ")||!r(Te,we,"VP8L")){ee=0;break e}if(Pt[0]<At){ee=7;break e}r(Te,we,"ALPH")||(Se[0]=Te,be[0]=we+8,$e[0]=It),we+=At,Pt-=At}}if(y=y[0],ne.na=ne.na[0],ne.P=ne.P[0],ne.Sa=ne.Sa[0],ee!=0)break}y=[y],ne.Ja=[ne.Ja],ne.xa=[ne.xa];e:if(Ue=u,ee=h,te=y,Se=ne.gb[0],be=ne.Ja,$e=ne.xa,Te=ee[0],we=!r(Ue,Te,"VP8 "),tt=!r(Ue,Te,"VP8L"),e(Ue!=null),e(te!=null),e(be!=null),e($e!=null),8>te[0])ee=7;else{if(we||tt){if(Ue=Ie(Ue,Te+4),12<=Se&&Ue>Se-12){ee=3;break e}if(ce&&Ue>te[0]-8){ee=7;break e}be[0]=Ue,ee[0]+=8,te[0]-=8,$e[0]=tt}else $e[0]=5<=te[0]&&Ue[Te+0]==47&&!(Ue[Te+4]>>5),be[0]=te[0];ee=0}if(y=y[0],ne.Ja=ne.Ja[0],ne.xa=ne.xa[0],h=h[0],ee!=0)break;if(4294967286<ne.Ja)return 3;if(F==null||ge||(F[0]=ne.xa?2:1),L=[L],_e=[_e],ne.xa){if(5>y){ee=7;break}F=L,ce=_e,ge=E,u==null||5>y?u=0:5<=y&&u[h+0]==47&&!(u[h+4]>>5)?(te=[0],Ue=[0],Se=[0],W(be=new C,u,h,y),Ye(be,te,Ue,Se)?(F!=null&&(F[0]=te[0]),ce!=null&&(ce[0]=Ue[0]),ge!=null&&(ge[0]=Se[0]),u=1):u=0):u=0}else{if(10>y){ee=7;break}F=_e,u==null||10>y||!Hr(u,h+3,y-3)?u=0:(ce=u[h+0]|u[h+1]<<8|u[h+2]<<16,ge=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&ce||3<(ce>>1&7)||!(ce>>4&1)||ce>>5>=ne.Ja||!ge||!u?u=0:(L&&(L[0]=ge),F&&(F[0]=u),u=1))}if(!u||(L=L[0],_e=_e[0],ue&&(U[0]!=L||Z[0]!=_e)))return 3;D!=null&&(D[0]=ne,D.offset=h-D.w,e(4294967286>h-D.w),e(D.offset==D.ha-y));break}return ee==0||ee==7&&ue&&D==null?(E!=null&&(E[0]|=ne.na!=null&&0<ne.na.length),x!=null&&(x[0]=L),A!=null&&(A[0]=_e),0):ee}function Bl(u,h,y){var x=h.width,A=h.height,E=0,L=0,F=x,D=A;if(h.Da=u!=null&&0<u.Da,h.Da&&(F=u.cd,D=u.bd,E=u.v,L=u.j,11>y||(E&=-2,L&=-2),0>E||0>L||0>=F||0>=D||E+F>x||L+D>A))return 0;if(h.v=E,h.j=L,h.va=E+F,h.o=L+D,h.U=F,h.T=D,h.da=u!=null&&0<u.da,h.da){if(!it(F,D,y=[u.ib],E=[u.hb]))return 0;h.ib=y[0],h.hb=E[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*x/4&&h.hb<3*A/4,h.Kb=0),1}function Ul(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function uo(u,h,y,x){if(x==null||0>=u||0>=h)return 2;if(y!=null){if(y.Da){var A=y.cd,E=y.bd,L=-2&y.v,F=-2&y.j;if(0>L||0>F||0>=A||0>=E||L+A>u||F+E>h)return 2;u=A,h=E}if(y.da){if(!it(u,h,A=[y.ib],E=[y.hb]))return 2;u=A[0],h=E[0]}}x.width=u,x.height=h;e:{var D=x.width,U=x.height;if(u=x.S,0>=D||0>=U||!(u>=Sc&&13>u))u=2;else{if(0>=x.Rd&&x.sd==null){L=E=A=h=0;var Z=(F=D*l1[u])*U;if(11>u||(E=(U+1)/2*(h=(D+1)/2),u==12&&(L=(A=D)*U)),(U=i(Z+2*E+L))==null){u=1;break e}x.sd=U,11>u?((D=x.f.RGBA).eb=U,D.fb=0,D.A=F,D.size=Z):((D=x.f.kb).y=U,D.O=0,D.fa=F,D.Fd=Z,D.f=U,D.N=0+Z,D.Ab=h,D.Cd=E,D.ea=U,D.W=0+Z+E,D.Db=h,D.Ed=E,u==12&&(D.F=U,D.J=0+Z+2*E),D.Tc=L,D.lb=A)}if(h=1,A=x.S,E=x.width,L=x.height,A>=Sc&&13>A)if(11>A)u=x.f.RGBA,h&=(F=Math.abs(u.A))*(L-1)+E<=u.size,h&=F>=E*l1[A],h&=u.eb!=null;else{u=x.f.kb,F=(E+1)/2,Z=(L+1)/2,D=Math.abs(u.fa),U=Math.abs(u.Ab);var ue=Math.abs(u.Db),ce=Math.abs(u.lb),ne=ce*(L-1)+E;h&=D*(L-1)+E<=u.Fd,h&=U*(Z-1)+F<=u.Cd,h=(h&=ue*(Z-1)+F<=u.Ed)&D>=E&U>=F&ue>=F,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,A==12&&(h&=ce>=E,h&=ne<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||y!=null&&y.fd&&(u=Ul(x)),u}var Br=64,co=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ho=24,fo=32,zl=8,xn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(u){return u},M.Predictor2=function(u,h,y){return h[y+0]},M.Predictor3=function(u,h,y){return h[y+1]},M.Predictor4=function(u,h,y){return h[y-1]},M.Predictor5=function(u,h,y){return De(De(u,h[y+1]),h[y+0])},M.Predictor6=function(u,h,y){return De(u,h[y-1])},M.Predictor7=function(u,h,y){return De(u,h[y+0])},M.Predictor8=function(u,h,y){return De(h[y-1],h[y+0])},M.Predictor9=function(u,h,y){return De(h[y+0],h[y+1])},M.Predictor10=function(u,h,y){return De(De(u,h[y-1]),De(h[y+0],h[y+1]))},M.Predictor11=function(u,h,y){var x=h[y+0];return 0>=ft(x>>24&255,u>>24&255,(h=h[y-1])>>24&255)+ft(x>>16&255,u>>16&255,h>>16&255)+ft(x>>8&255,u>>8&255,h>>8&255)+ft(255&x,255&u,255&h)?x:u},M.Predictor12=function(u,h,y){var x=h[y+0];return(Ke((u>>24&255)+(x>>24&255)-((h=h[y-1])>>24&255))<<24|Ke((u>>16&255)+(x>>16&255)-(h>>16&255))<<16|Ke((u>>8&255)+(x>>8&255)-(h>>8&255))<<8|Ke((255&u)+(255&x)-(255&h)))>>>0},M.Predictor13=function(u,h,y){var x=h[y-1];return(at((u=De(u,h[y+0]))>>24&255,x>>24&255)<<24|at(u>>16&255,x>>16&255)<<16|at(u>>8&255,x>>8&255)<<8|at(u>>0&255,x>>0&255))>>>0};var tf=M.PredictorAdd0;M.PredictorAdd1=ot,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var ql=M.PredictorAdd2;pt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var yc,Qn=M.ColorIndexInverseTransform,po=M.MapARGB,wc=M.VP8LColorIndexInverseTransformAlpha,bc=M.MapAlpha,Ei=M.VP8LPredictorsAdd=[];Ei.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var xa,Nn,on,Li,ni,si,mo,ii,cr,$l,ln,Xn,go,_c,Vl,Na,Sa,Pi,ja,vo,Aa,Oi,Hl,Zn,es,qt,$t,dr,jr=i(511),ai=i(2041),Wl=i(225),yo=i(767),xc=0,rf=ai,Nc=Wl,Fn=yo,ts=jr,Sc=0,jc=1,Q0=2,Ac=3,kc=4,nf=5,X0=6,sf=7,af=8,Cc=9,of=10,rb=[2,3,7],nb=[3,3,11],Z0=[280,256,256,256,40],sb=[0,1,1,1,0],ib=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ab=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ob=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],lb=8,lf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],uf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Gl=null,ub=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],cb=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],e1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],db=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fb=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ii=[],vs=[],oi=[],mb=1,t1=2,Ri=[],rs=[];ye("UpsampleRgbLinePair",jt,3),ye("UpsampleBgrLinePair",er,3),ye("UpsampleRgbaLinePair",gs,4),ye("UpsampleBgraLinePair",Lr,4),ye("UpsampleArgbLinePair",Kr,4),ye("UpsampleRgba4444LinePair",yr,2),ye("UpsampleRgb565LinePair",ar,2);var gb=M.UpsampleRgbLinePair,vb=M.UpsampleBgrLinePair,r1=M.UpsampleRgbaLinePair,n1=M.UpsampleBgraLinePair,s1=M.UpsampleArgbLinePair,i1=M.UpsampleRgba4444LinePair,yb=M.UpsampleRgb565LinePair,Ec=16,Lc=1<<Ec-1,Kl=-227,cf=482,wb=6,a1=0,bb=i(256),_b=i(256),xb=i(256),Nb=i(256),Sb=i(cf-Kl),jb=i(cf-Kl);Bs("YuvToRgbRow",jt,3),Bs("YuvToBgrRow",er,3),Bs("YuvToRgbaRow",gs,4),Bs("YuvToBgraRow",Lr,4),Bs("YuvToArgbRow",Kr,4),Bs("YuvToRgba4444Row",yr,2),Bs("YuvToRgb565Row",ar,2);var o1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Pc=[0,2,8],Ab=[8,7,6,4,4,2,2,2,1,1,1,1],kb=1;this.WebPDecodeRGBA=function(u,h,y,x,A){var E=jc,L=new ao,F=new Yn;L.ba=F,F.S=E,F.width=[F.width],F.height=[F.height];var D=F.width,U=F.height,Z=new Ts;if(Z==null||u==null)var ue=2;else e(Z!=null),ue=lo(u,h,y,Z.width,Z.height,Z.Pd,Z.Qd,Z.format,null);if(ue!=0?D=0:(D!=null&&(D[0]=Z.width[0]),U!=null&&(U[0]=Z.height[0]),D=1),D){F.width=F.width[0],F.height=F.height[0],x!=null&&(x[0]=F.width),A!=null&&(A[0]=F.height);e:{if(x=new an,(A=new Il).data=u,A.w=h,A.ha=y,A.kd=1,h=[0],e(A!=null),((u=lo(A.data,A.w,A.ha,null,null,null,h,null,A))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(e(L!=null),x.data=A.data,x.w=A.w+A.offset,x.ha=A.ha-A.offset,x.put=Dr,x.ac=vr,x.bc=gn,x.ma=L,A.xa){if((u=yn())==null){L=1;break e}if(function(ce,ne){var _e=[0],ge=[0],ee=[0];t:for(;;){if(ce==null)return 0;if(ne==null)return ce.a=2,0;if(ce.l=ne,ce.a=0,W(ce.m,ne.data,ne.w,ne.ha),!Ye(ce.m,_e,ge,ee)){ce.a=3;break t}if(ce.xb=t1,ne.width=_e[0],ne.height=ge[0],!Rn(_e[0],ge[0],1,ce,null))break t;return 1}return e(ce.a!=0),0}(u,x)){if(x=(h=uo(x.width,x.height,L.Oa,L.ba))==0){t:{x=u;r:for(;;){if(x==null){x=0;break t}if(e(x.s.yc!=null),e(x.s.Ya!=null),e(0<x.s.Wb),e((y=x.l)!=null),e((A=y.ma)!=null),x.xb!=0){if(x.ca=A.ba,x.tb=A.tb,e(x.ca!=null),!Bl(A.Oa,y,Ac)){x.a=2;break r}if(!Xs(x,y.width)||y.da)break r;if((y.da||Ct(x.ca.S))&&ie(),11>x.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),x.ca.f.kb.F!=null&&ie()),x.Pb&&0<x.s.ua&&x.s.vb.X==null&&!Xe(x.s.vb,x.s.Wa.Xa)){x.a=1;break r}x.xb=0}if(!In(x,x.V,x.Ba,x.c,x.i,y.o,ji))break r;A.Dc=x.Ma,x=1;break t}e(x.a!=0),x=0}x=!x}x&&(h=u.a)}else h=u.a}else{if((u=new Fs)==null){L=1;break e}if(u.Fa=A.na,u.P=A.P,u.qc=A.Sa,Wr(u,x)){if((h=uo(x.width,x.height,L.Oa,L.ba))==0){if(u.Aa=0,y=L.Oa,e((A=u)!=null),y!=null){if(0<(D=0>(D=y.Md)?0:100<D?255:255*D/100)){for(U=Z=0;4>U;++U)12>(ue=A.pb[U]).lc&&(ue.ia=D*Ab[0>ue.lc?0:ue.lc]>>3),Z|=ue.ia;Z&&(alert("todo:VP8InitRandom"),A.ia=1)}A.Ga=y.Id,100<A.Ga?A.Ga=100:0>A.Ga&&(A.Ga=0)}Dh(u,x)||(h=u.a)}}else h=u.a}h==0&&L.Oa!=null&&L.Oa.fd&&(h=Ul(L.ba))}L=h}E=L!=0?null:11>E?F.f.RGBA.eb:F.f.kb.y}else E=null;return E};var l1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(M,K){for(var O="",P=0;P<4;P++)O+=String.fromCharCode(M[K++]);return O}function f(M,K){return(M[K+0]<<0|M[K+1]<<8|M[K+2]<<16)>>>0}function m(M,K){return(M[K+0]<<0|M[K+1]<<8|M[K+2]<<16|M[K+3]<<24)>>>0}new o;var v=[0],p=[0],b=[],N=new o,j=t,w=function(M,K){var O={},P=0,R=!1,G=0,V=0;if(O.frames=[],!function(z,$,Y,X){for(var oe=0;oe<X;oe++)if(z[$+oe]!=Y.charCodeAt(oe))return!0;return!1}(M,K,"RIFF",4)){var pe,de;for(m(M,K+=4),K+=8;K<M.length;){var me=c(M,K),W=m(M,K+=4);K+=4;var re=W+(1&W);switch(me){case"VP8 ":case"VP8L":O.frames[P]===void 0&&(O.frames[P]={}),(C=O.frames[P]).src_off=R?V:K-8,C.src_size=G+W+8,P++,R&&(R=!1,G=0,V=0);break;case"VP8X":(C=O.header={}).feature_flags=M[K];var ae=K+4;C.canvas_width=1+f(M,ae),ae+=3,C.canvas_height=1+f(M,ae),ae+=3;break;case"ALPH":R=!0,G=re+8,V=K-8;break;case"ANIM":(C=O.header).bgcolor=m(M,K),ae=K+4,C.loop_count=(pe=M)[(de=ae)+0]<<0|pe[de+1]<<8,ae+=2;break;case"ANMF":var Ne,C;(C=O.frames[P]={}).offset_x=2*f(M,K),K+=3,C.offset_y=2*f(M,K),K+=3,C.width=1+f(M,K),K+=3,C.height=1+f(M,K),K+=3,C.duration=f(M,K),K+=3,Ne=M[K++],C.dispose=1&Ne,C.blend=Ne>>1&1}me!="ANMF"&&(K+=re)}return O}}(j,0);w.response=j,w.rgbaoutput=!0,w.dataurl=!1;var _=w.header?w.header:null,S=w.frames?w.frames:null;if(_){_.loop_counter=_.loop_count,v=[_.canvas_height],p=[_.canvas_width];for(var I=0;I<S.length&&S[I].blend!=0;I++);}var B=S[0],Q=N.WebPDecodeRGBA(j,B.src_off,B.src_size,p,v);B.rgba=Q,B.imgwidth=p[0],B.imgheight=v[0];for(var T=0;T<p[0]*v[0]*4;T++)b[T]=Q[T];return this.width=p,this.height=v,this.data=b,this}(function(t){var e=function(){return typeof Rm=="function"},r=function(v,p,b,N){var j=4,w=a;switch(N){case t.image_compression.FAST:j=1,w=i;break;case t.image_compression.MEDIUM:j=6,w=l;break;case t.image_compression.SLOW:j=9,w=o}v=n(v,p,b,w);var _=Rm(v,{level:j});return t.__addimage__.arrayBufferToBinaryString(_)},n=function(v,p,b,N){for(var j,w,_,S=v.length/p,I=new Uint8Array(v.length+S),B=f(),Q=0;Q<S;Q+=1){if(_=Q*p,j=v.subarray(_,_+p),N)I.set(N(j,b,w),_+Q);else{for(var T,M=B.length,K=[];T<M;T+=1)K[T]=B[T](j,b,w);var O=m(K.concat());I.set(K[O],_+Q)}w=j}return I},s=function(v){var p=Array.apply([],v);return p.unshift(0),p},i=function(v,p){var b,N=[],j=v.length;N[0]=1;for(var w=0;w<j;w+=1)b=v[w-p]||0,N[w+1]=v[w]-b+256&255;return N},a=function(v,p,b){var N,j=[],w=v.length;j[0]=2;for(var _=0;_<w;_+=1)N=b&&b[_]||0,j[_+1]=v[_]-N+256&255;return j},l=function(v,p,b){var N,j,w=[],_=v.length;w[0]=3;for(var S=0;S<_;S+=1)N=v[S-p]||0,j=b&&b[S]||0,w[S+1]=v[S]+256-(N+j>>>1)&255;return w},o=function(v,p,b){var N,j,w,_,S=[],I=v.length;S[0]=4;for(var B=0;B<I;B+=1)N=v[B-p]||0,j=b&&b[B]||0,w=b&&b[B-p]||0,_=c(N,j,w),S[B+1]=v[B]-_+256&255;return S},c=function(v,p,b){if(v===p&&p===b)return v;var N=Math.abs(p-b),j=Math.abs(v-b),w=Math.abs(v+p-b-b);return N<=j&&N<=w?v:j<=w?p:b},f=function(){return[s,i,a,l,o]},m=function(v){var p=v.map(function(b){return b.reduce(function(N,j){return N+Math.abs(j)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(v,p,b,N){var j,w,_,S,I,B,Q,T,M,K,O,P,R,G,V,pe=this.decode.FLATE_DECODE,de="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(_=new h6(v)).imgData,w=_.bits,j=_.colorSpace,I=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){M=(T=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,O=new Uint8Array(M*_.colors),K=new Uint8Array(M);var me,W=_.pixelBitlength-_.bits;for(G=0,V=0;G<M;G++){for(R=T[G],me=0;me<W;)O[V++]=R>>>me&255,me+=_.bits;K[G]=R>>>me&255}}if(_.bits===16){M=(T=new Uint32Array(_.decodePixels().buffer)).length,O=new Uint8Array(M*(32/_.pixelBitlength)*_.colors),K=new Uint8Array(M*(32/_.pixelBitlength)),P=_.colors>1,G=0,V=0;for(var re=0;G<M;)R=T[G++],O[V++]=R>>>0&255,P&&(O[V++]=R>>>16&255,R=T[G++],O[V++]=R>>>0&255),K[re++]=R>>>16&255;w=8}N!==t.image_compression.NONE&&e()?(v=r(O,_.width*_.colors,_.colors,N),Q=r(K,_.width,1,N)):(v=O,Q=K,pe=void 0)}if(_.colorType===3&&(j=this.color_spaces.INDEXED,B=_.palette,_.transparency.indexed)){var ae=_.transparency.indexed,Ne=0;for(G=0,M=ae.length;G<M;++G)Ne+=ae[G];if((Ne/=255)===M-1&&ae.indexOf(0)!==-1)S=[ae.indexOf(0)];else if(Ne!==M){for(T=_.decodePixels(),K=new Uint8Array(T.length),G=0,M=T.length;G<M;G++)K[G]=ae[T[G]];Q=r(K,_.width,1)}}var C=function(z){var $;switch(z){case t.image_compression.FAST:$=11;break;case t.image_compression.MEDIUM:$=13;break;case t.image_compression.SLOW:$=14;break;default:$=12}return $}(N);return pe===this.decode.FLATE_DECODE&&(de="/Predictor "+C+" "),de+="/Colors "+I+" /BitsPerComponent "+w+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(Q&&this.__addimage__.isArrayBuffer(Q)||this.__addimage__.isArrayBufferView(Q))&&(Q=this.__addimage__.arrayBufferToBinaryString(Q)),{alias:b,data:v,index:p,filter:pe,decodeParameters:de,transparency:S,palette:B,sMask:Q,predictor:C,width:_.width,height:_.height,bitsPerComponent:w,colorSpace:j}}}})(rt.API),function(t){t.processGIF89A=function(e,r,n,s){var i=new f6(e),a=i.width,l=i.height,o=[];i.decodeAndBlitFrameRGBA(0,o);var c={data:o,width:a,height:l},f=new mp(100).encode(c,100);return t.processJPEG.call(this,f,r,n,s)},t.processGIF87A=t.processGIF89A}(rt.API),_s.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_s.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Bt.log("bit decode error:"+r)}},_s.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var o=this.palette[i>>7-l&1];this.data[a+4*l]=o.blue,this.data[a+4*l+1]=o.green,this.data[a+4*l+2]=o.red,this.data[a+4*l+3]=255}r!==0&&(this.pos+=4-r)}},_s.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,l=i>>4,o=15&i,c=this.palette[l];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*s+1>=this.width)break;c=this.palette[o],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},_s.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},_s.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,o=(i>>10&e)/e*255|0,c=i>>15?255:0,f=n*this.width*4+4*s;this.data[f]=o,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=c}this.pos+=t}},_s.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,o=(a>>5&r)/r*255|0,c=(a>>11)/e*255|0,f=s*this.width*4+4*i;this.data[f]=c,this.data[f+1]=o,this.data[f+2]=l,this.data[f+3]=255}this.pos+=t}},_s.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},_s.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=a}},_s.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,s){var i=new _s(e,!1),a=i.width,l=i.height,o={data:i.getData(),width:a,height:l},c=new mp(100).encode(o,100);return t.processJPEG.call(this,c,r,n,s)}}(rt.API),q2.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,s){var i=new q2(e),a=i.width,l=i.height,o={data:i.getData(),width:a,height:l},c=new mp(100).encode(o,100);return t.processJPEG.call(this,c,r,n,s)}}(rt.API),rt.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),l=0,o=0,c=0;c<s;c+=4){var f=n[c],m=n[c+1],v=n[c+2],p=n[c+3];i[l++]=f,i[l++]=m,i[l++]=v,a[o++]=p}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:b,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},rt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Lo=rt.API,vd=Lo.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:s.metadata.Unicode.widths,o=l.fof?l.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,f=c.fof?c.fof:1,m=e.doKerning!==!1,v=0,p=t.length,b=0,N=l[0]||o,j=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?j.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(v=m&&Tt(c[n])==="object"&&!isNaN(parseInt(c[n][b],10))?c[n][b]/f:0,j.push((l[n]||N)/o+v)),b=n;return j},M2=Lo.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Lo.processArabic&&(t=Lo.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:vd.apply(this,arguments).reduce(function(i,a){return i+a},0)},B2=function(t,e,r,n){for(var s=[],i=0,a=t.length,l=0;i!==a&&l+e[i]<r;)l+=e[i],i++;s.push(t.slice(0,i));var o=i;for(l=0;i!==a;)l+e[i]>n&&(s.push(t.slice(o,i)),l=0,o=i),l+=e[i],i++;return o!==i&&s.push(t.slice(o,i)),s},U2=function(t,e,r){r||(r={});var n,s,i,a,l,o,c,f=[],m=[f],v=r.textIndent||0,p=0,b=0,N=t.split(" "),j=vd.apply(this,[" ",r])[0];if(o=r.lineIndent===-1?N[0].length+2:r.lineIndent||0){var w=Array(o).join(" "),_=[];N.map(function(I){(I=I.split(/\s*\n/)).length>1?_=_.concat(I.map(function(B,Q){return(Q&&B.length?`
`:"")+B})):_.push(I[0])}),N=_,o=M2.apply(this,[w,r])}for(i=0,a=N.length;i<a;i++){var S=0;if(n=N[i],o&&n[0]==`
`&&(n=n.substr(1),S=1),v+p+(b=(s=vd.apply(this,[n,r])).reduce(function(I,B){return I+B},0))>e||S){if(b>e){for(l=B2.apply(this,[n,s,e-(v+p),e]),f.push(l.shift()),f=[l.pop()];l.length;)m.push([l.shift()]);b=s.slice(n.length-(f[0]?f[0].length:0)).reduce(function(I,B){return I+B},0)}else f=[n];m.push(f),v=b+o,p=j}else f.push(n),v+=p+b,p=j}return c=o?function(I,B){return(B?w:"")+I.join(" ")}:function(I){return I.join(" ")},m.map(c)},Lo.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,o,c=[];for(l=0,o=n.length;l<o;l++)c=c.concat(U2.apply(this,[n[l],a,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},s=0;s<e.length;s++)r[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var i=function(m){return"0x"+parseInt(m,10).toString(16)},a=t.__fontmetrics__.compress=function(m){var v,p,b,N,j=["{"];for(var w in m){if(v=m[w],isNaN(parseInt(w,10))?p="'"+w+"'":(w=parseInt(w,10),p=(p=i(w).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof v=="number")v<0?(b=i(v).slice(3),N="-"):(b=i(v).slice(2),N=""),b=N+b.slice(0,-1)+n[b.slice(-1)];else{if(Tt(v)!=="object")throw new Error("Don't know what to do with value type "+Tt(v)+".");b=a(v)}j.push(p+b)}return j.push("}"),j.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,p,b,N,j={},w=1,_=j,S=[],I="",B="",Q=m.length-1,T=1;T<Q;T+=1)(N=m[T])=="'"?v?(b=v.join(""),v=void 0):v=[]:v?v.push(N):N=="{"?(S.push([_,b]),_={},b=void 0):N=="}"?((p=S.pop())[0][p[1]]=_,b=void 0,_=p[0]):N=="-"?w=-1:b===void 0?r.hasOwnProperty(N)?(I+=r[N],b=parseInt(I,16)*w,w=1,I=""):I+=N:r.hasOwnProperty(N)?(B+=r[N],_[b]=parseInt(B,16)*w,w=1,b=void 0,B=""):B+=N;return j},o={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:o,"Courier-Bold":o,"Courier-BoldOblique":o,"Courier-Oblique":o,Helvetica:o,"Helvetica-Bold":o,"Helvetica-BoldOblique":o,"Helvetica-Oblique":o,"Times-Roman":o,"Times-Bold":o,"Times-BoldItalic":o,"Times-Italic":o}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var v=m.font,p=f.Unicode[v.postScriptName];p&&(v.metadata.Unicode={},v.metadata.Unicode.widths=p.widths,v.metadata.Unicode.kerning=p.kerning);var b=c.Unicode[v.postScriptName];b&&(v.metadata.Unicode.encoding=b,v.encoding=b.codePages[0])}])}(rt.API),function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(ku(l)),a.metadata=t.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(rt),function(t){function e(){return(nt.canvg?Promise.resolve(nt.canvg):Em(()=>import("./index.es-BoQTuXQR.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}rt.API.addSvgAsImage=function(r,n,s,i,a,l,o,c){if(isNaN(n)||isNaN(s))throw Bt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Bt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=a;var m=f.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,f.width,f.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(b){return b.fromString(m,r,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(v)}).then(function(){p.addImage(f.toDataURL("image/jpeg",1),n,s,i,a,o,c)})}}(),rt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},rt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),o=[],c=0,f=0,m=0;function v(b,N){var j,w=!1;for(j=0;j<b.length;j+=1)b[j]===N&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=l.length;for(m=0;m<p;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(Tt(t)==="object"){for(s in t)if(i=t[s],v(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&v(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")o.push(String(i[c]-1));else if(i[c].length>1){for(f=0;f<i[c].length;f+=1)typeof i[c][f]!="number"&&(n=!1);n===!0&&o.push([i[c][0]-1,i[c][1]-1].join(" "))}r[s].value="["+o.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,N=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?N.push("/"+b+" /"+r[b].value):N.push("/"+b+" "+r[b].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+a.length+l.length+s.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+l+o),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(rt.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,a){for(var l,o=a.metadata.Unicode.widths,c=["","0","00","000","0000"],f=[""],m=0,v=i.length;m<v;++m){if(l=a.metadata.characterToGlyph(i.charCodeAt(m)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=i.charCodeAt(m),o.indexOf(l)==-1&&(o.push(l),o.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(c[4-l.length],l)}return f.join("")},n=function(i){var a,l,o,c,f,m,v;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,o=[],m=0,v=(l=Object.keys(i).sort(function(p,b){return p-b})).length;m<v;m++)a=l[m],o.length>=100&&(f+=`
`+o.length+` beginbfchar
`+o.join(`
`)+`
endbfchar`,o=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(c=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),o.push("<"+a+"><"+c+">"));return o.length&&(f+=`
`+o.length+` beginbfchar
`+o.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var l=a.font,o=a.out,c=a.newObject,f=a.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,v=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",b=0;b<v.length;b++)p+=String.fromCharCode(v[b]);var N=c();f({data:p,addLength1:!0,objectId:N}),o("endobj");var j=c();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:j}),o("endobj");var w=c();o("<<"),o("/Type /FontDescriptor"),o("/FontName /"+Ro(l.fontName)),o("/FontFile2 "+N+" 0 R"),o("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),o("/Flags "+l.metadata.flags),o("/StemV "+l.metadata.stemV),o("/ItalicAngle "+l.metadata.italicAngle),o("/Ascent "+l.metadata.ascender),o("/Descent "+l.metadata.decender),o("/CapHeight "+l.metadata.capHeight),o(">>"),o("endobj");var _=c();o("<<"),o("/Type /Font"),o("/BaseFont /"+Ro(l.fontName)),o("/FontDescriptor "+w+" 0 R"),o("/W "+t.API.PDFObject.convert(m)),o("/CIDToGIDMap /Identity"),o("/DW 1000"),o("/Subtype /CIDFontType2"),o("/CIDSystemInfo"),o("<<"),o("/Supplement 0"),o("/Registry (Adobe)"),o("/Ordering ("+l.encoding+")"),o(">>"),o(">>"),o("endobj"),l.objectNumber=c(),o("<<"),o("/Type /Font"),o("/Subtype /Type0"),o("/ToUnicode "+j+" 0 R"),o("/BaseFont /"+Ro(l.fontName)),o("/Encoding /"+l.encoding),o("/DescendantFonts ["+_+" 0 R]"),o(">>"),o("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var l=a.font,o=a.out,c=a.newObject,f=a.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,v="",p=0;p<m.length;p++)v+=String.fromCharCode(m[p]);var b=c();f({data:v,addLength1:!0,objectId:b}),o("endobj");var N=c();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:N}),o("endobj");var j=c();o("<<"),o("/Descent "+l.metadata.decender),o("/CapHeight "+l.metadata.capHeight),o("/StemV "+l.metadata.stemV),o("/Type /FontDescriptor"),o("/FontFile2 "+b+" 0 R"),o("/Flags 96"),o("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),o("/FontName /"+Ro(l.fontName)),o("/ItalicAngle "+l.metadata.italicAngle),o("/Ascent "+l.metadata.ascender),o(">>"),o("endobj"),l.objectNumber=c();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));o("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+Ro(l.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),o("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,l=i.text||"",o=i.x,c=i.y,f=i.options||{},m=i.mutex||{},v=m.pdfEscape,p=m.activeFontKey,b=m.fonts,N=p,j="",w=0,_="",S=b[N].encoding;if(b[N].encoding!=="Identity-H")return{text:l,x:o,y:c,options:f,mutex:m};for(_=l,N=p,Array.isArray(l)&&(_=l[0]),w=0;w<_.length;w+=1)b[N].metadata.hasOwnProperty("cmap")&&(a=b[N].metadata.cmap.unicode.codeMap[_[w].charCodeAt(0)]),a||_[w].charCodeAt(0)<256&&b[N].metadata.hasOwnProperty("Unicode")?j+=_[w]:j+="";var I="";return parseInt(N.slice(1))<14||S==="WinAnsiEncoding"?I=v(j,N).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(I=r(j,b[N])),m.isHex=!0,{text:I,x:o,y:c,options:f,mutex:m}};e.events.push(["postProcessText",function(i){var a=i.text||"",l=[],o={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?l.push([s(Object.assign({},o,{text:a[c][0]})).text,a[c][1],a[c][2]]):l.push(s(Object.assign({},o,{text:a[c]})).text);i.text=l}else i.text=s(Object.assign({},o,{text:a})).text}])}(rt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(rt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,a,l,o,c,f,m=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,S=0;this.__bidiEngine__={};var I=function(P){var R=P.charCodeAt(),G=R>>8,V=N[G];return V!==void 0?m[256*V+(255&R)]:G===252||G===253?"AL":w.test(G)?"L":G===8?"R":"N"},B=function(P){for(var R,G=0;G<P.length;G++){if((R=I(P.charAt(G)))==="L")return!1;if(R==="R")return!0}return!1},Q=function(P,R,G,V){var pe,de,me,W,re=R[V];switch(re){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(re="AN");break;case"AL":_=!0,re="R";break;case"WS":re="N";break;case"CS":V<1||V+1>=R.length||(pe=G[V-1])!=="EN"&&pe!=="AN"||(de=R[V+1])!=="EN"&&de!=="AN"?re="N":_&&(de="AN"),re=de===pe?de:"N";break;case"ES":re=(pe=V>0?G[V-1]:"B")==="EN"&&V+1<R.length&&R[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&G[V-1]==="EN"){re="EN";break}if(_){re="N";break}for(me=V+1,W=R.length;me<W&&R[me]==="ET";)me++;re=me<W&&R[me]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(W=R.length,me=V+1;me<W&&R[me]==="NSM";)me++;if(me<W){var ae=P[V],Ne=ae>=1425&&ae<=2303||ae===64286;if(pe=R[me],Ne&&(pe==="R"||pe==="AL")){re="R";break}}}re=V<1||(pe=R[V-1])==="B"?"N":G[V-1];break;case"B":_=!1,s=!0,re=S;break;case"S":i=!0,re="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":re="N"}return re},T=function(P,R,G){var V=P.split("");return G&&M(V,G,{hiLevel:S}),V.reverse(),R&&R.reverse(),V.join("")},M=function(P,R,G){var V,pe,de,me,W,re=-1,ae=P.length,Ne=0,C=[],z=S?p:v,$=[];for(_=!1,s=!1,i=!1,pe=0;pe<ae;pe++)$[pe]=I(P[pe]);for(de=0;de<ae;de++){if(W=Ne,C[de]=Q(P,$,C,de),V=240&(Ne=z[W][b[C[de]]]),Ne&=15,R[de]=me=z[Ne][5],V>0)if(V===16){for(pe=re;pe<de;pe++)R[pe]=1;re=-1}else re=-1;if(z[Ne][6])re===-1&&(re=de);else if(re>-1){for(pe=re;pe<de;pe++)R[pe]=me;re=-1}$[de]==="B"&&(R[de]=0),G.hiLevel|=me}i&&function(Y,X,oe){for(var fe=0;fe<oe;fe++)if(Y[fe]==="S"){X[fe]=S;for(var he=fe-1;he>=0&&Y[he]==="WS";he--)X[he]=S}}($,R,ae)},K=function(P,R,G,V,pe){if(!(pe.hiLevel<P)){if(P===1&&S===1&&!s)return R.reverse(),void(G&&G.reverse());for(var de,me,W,re,ae=R.length,Ne=0;Ne<ae;){if(V[Ne]>=P){for(W=Ne+1;W<ae&&V[W]>=P;)W++;for(re=Ne,me=W-1;re<me;re++,me--)de=R[re],R[re]=R[me],R[me]=de,G&&(de=G[re],G[re]=G[me],G[me]=de);Ne=W}Ne++}}},O=function(P,R,G){var V=P.split(""),pe={hiLevel:S};return G||(G=[]),M(V,G,pe),function(de,me,W){if(W.hiLevel!==0&&f)for(var re,ae=0;ae<de.length;ae++)me[ae]===1&&(re=j.indexOf(de[ae]))>=0&&(de[ae]=j[re+1])}(V,G,pe),K(2,V,R,G,pe),K(1,V,R,G,pe),V.join("")};return this.__bidiEngine__.doBidiReorder=function(P,R,G){if(function(pe,de){if(de)for(var me=0;me<pe.length;me++)de[me]=me;l===void 0&&(l=B(pe)),c===void 0&&(c=B(pe))}(P,R),a||!o||c)if(a&&o&&l^c)S=l?1:0,P=T(P,R,G);else if(!a&&o&&c)S=l?1:0,P=O(P,R,G),P=T(P,R);else if(!a||l||o||c){if(a&&!o&&l^c)P=T(P,R),l?(S=0,P=O(P,R,G)):(S=1,P=O(P,R,G),P=T(P,R));else if(a&&l&&!o&&c)S=1,P=O(P,R,G),P=T(P,R);else if(!a&&!o&&l^c){var V=f;l?(S=1,P=O(P,R,G),S=0,f=!1,P=O(P,R,G),f=V):(S=0,P=O(P,R,G),P=T(P,R),S=1,f=!1,P=O(P,R,G),f=V,P=T(P,R))}}else S=0,P=O(P,R,G);else S=l?1:0,P=O(P,R,G);return P},this.__bidiEngine__.setOptions=function(P){P&&(a=P.isInputVisual,o=P.isOutputVisual,l=P.isInputRtl,c=P.isOutputRtl,f=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),a=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(a=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?a.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):a.push([r.doBidiReorder(s[l])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(rt),rt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new da(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new C6(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new p6(this.contents),this.head=new g6(this),this.name=new _6(this),this.cmap=new Qw(this),this.toUnicode={},this.hhea=new v6(this),this.maxp=new x6(this),this.hmtx=new N6(this),this.post=new w6(this),this.os2=new y6(this),this.loca=new k6(this),this.glyf=new S6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,o,c;for(c=[],a=0,l=(o=this.bbox).length;a<l;a++)e=o[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,a,l;for(a=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Rs,da=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,a,l,o;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^l)+(255^o)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*l+o},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),p6=function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,a,l,o,c,f,m,v,p,b,N;for(N in p=Object.keys(r).length,o=Math.log(2),m=16*Math.floor(Math.log(p)/o),a=Math.floor(m/o),f=16*p-m,(s=new da).writeInt(this.scalarType),s.writeShort(p),s.writeShort(m),s.writeShort(a),s.writeShort(f),i=16*p,c=s.pos+i,l=null,b=[],r)for(v=r[N],s.writeString(N),s.writeInt(t(v)),s.writeInt(c),s.writeInt(v.length),b=b.concat(v),N==="head"&&(l=c),c+=v.length;c%4;)b.push(0),c++;return s.write(b),n=2981146554-t(s.data),s.pos=l+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,a;for(r=Xw.call(r);r.length%4;)r.push(0);for(i=new da(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),m6={}.hasOwnProperty,Ys=function(t,e){for(var r in e)m6.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Rs=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var g6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ys(e,Rs),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new da).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),$2=function(){function t(e,r){var n,s,i,a,l,o,c,f,m,v,p,b,N,j,w,_,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(p=e.readUInt16(),v=p/2,e.pos+=6,i=function(){var I,B;for(B=[],o=I=0;0<=v?I<v:I>v;o=0<=v?++I:--I)B.push(e.readUInt16());return B}(),e.pos+=2,N=function(){var I,B;for(B=[],o=I=0;0<=v?I<v:I>v;o=0<=v?++I:--I)B.push(e.readUInt16());return B}(),c=function(){var I,B;for(B=[],o=I=0;0<=v?I<v:I>v;o=0<=v?++I:--I)B.push(e.readUInt16());return B}(),f=function(){var I,B;for(B=[],o=I=0;0<=v?I<v:I>v;o=0<=v?++I:--I)B.push(e.readUInt16());return B}(),s=(this.length-e.pos+this.offset)/2,l=function(){var I,B;for(B=[],o=I=0;0<=s?I<s:I>s;o=0<=s?++I:--I)B.push(e.readUInt16());return B}(),o=w=0,S=i.length;w<S;o=++w)for(j=i[o],n=_=b=N[o];b<=j?_<=j:_>=j;n=b<=j?++_:--_)f[o]===0?a=n+c[o]:(a=l[f[o]/2+(n-b)-(v-o)]||0)!==0&&(a+=c[o]),this.codeMap[n]=65535&a}e.pos=m}return t.encode=function(e,r){var n,s,i,a,l,o,c,f,m,v,p,b,N,j,w,_,S,I,B,Q,T,M,K,O,P,R,G,V,pe,de,me,W,re,ae,Ne,C,z,$,Y,X,oe,fe,he,Le,ke,Fe;switch(V=new da,a=Object.keys(e).sort(function(Ie,Xe){return Ie-Xe}),r){case"macroman":for(N=0,j=function(){var Ie=[];for(b=0;b<256;++b)Ie.push(0);return Ie}(),_={0:0},i={},pe=0,re=a.length;pe<re;pe++)_[he=e[s=a[pe]]]==null&&(_[he]=++N),i[s]={old:e[s],new:_[e[s]]},j[s]=_[e[s]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(j),{charMap:i,subtable:V.data,maxGlyphID:N+1};case"unicode":for(R=[],m=[],S=0,_={},n={},w=c=null,de=0,ae=a.length;de<ae;de++)_[B=e[s=a[de]]]==null&&(_[B]=++S),n[s]={old:B,new:_[B]},l=_[B]-s,w!=null&&l===c||(w&&m.push(w),R.push(s),c=l),w=s;for(w&&m.push(w),m.push(65535),R.push(65535),O=2*(K=R.length),M=2*Math.pow(Math.log(K)/Math.LN2,2),v=Math.log(M/2)/Math.LN2,T=2*K-M,o=[],Q=[],p=[],b=me=0,Ne=R.length;me<Ne;b=++me){if(P=R[b],f=m[b],P===65535){o.push(0),Q.push(0);break}if(P-(G=n[P].new)>=32768)for(o.push(0),Q.push(2*(p.length+K-b)),s=W=P;P<=f?W<=f:W>=f;s=P<=f?++W:--W)p.push(n[s].new);else o.push(G-P),Q.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*K+2*p.length),V.writeUInt16(0),V.writeUInt16(O),V.writeUInt16(M),V.writeUInt16(v),V.writeUInt16(T),oe=0,C=m.length;oe<C;oe++)s=m[oe],V.writeUInt16(s);for(V.writeUInt16(0),fe=0,z=R.length;fe<z;fe++)s=R[fe],V.writeUInt16(s);for(Le=0,$=o.length;Le<$;Le++)l=o[Le],V.writeUInt16(l);for(ke=0,Y=Q.length;ke<Y;ke++)I=Q[ke],V.writeUInt16(I);for(Fe=0,X=p.length;Fe<X;Fe++)N=p[Fe],V.writeUInt16(N);return{charMap:n,subtable:V.data,maxGlyphID:S+1}}},t}(),Qw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ys(e,Rs),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new $2(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=$2.encode(r,n),(i=new da).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),v6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ys(e,Rs),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),y6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ys(e,Rs),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),w6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ys(e,Rs),e.prototype.tag="post",e.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(s=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var l,o,c;for(c=[],a=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;a=0<=o?++l:--l)c.push(r.readUInt32());return c}).call(this)}},e}(),b6=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},_6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ys(e,Rs),e.prototype.tag="name",e.prototype.parse=function(r){var n,s,i,a,l,o,c,f,m,v,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),o=r.readShort(),s=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+o+r.readShort()});for(c={},a=m=0,v=s.length;m<v;a=++m)i=s[a],r.pos=i.offset,f=r.readString(i.length),l=new b6(f,i),c[p=i.nameID]==null&&(c[p]=[]),c[i.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),x6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ys(e,Rs),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),N6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ys(e,Rs),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,s,i,a,l,o,c;for(r.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,m;for(m=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)m.push(r.readInt16());return m}(),this.widths=(function(){var f,m,v,p;for(p=[],f=0,m=(v=this.metrics).length;f<m;f++)a=v[f],p.push(a.advance);return p}).call(this),s=this.widths[this.widths.length-1],c=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),Xw=[].slice,S6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ys(e,Rs),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,s,i,a,l,o,c,f,m,v;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,s=a.indexOf(r),(i=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,l=(o=new da(n.read(i))).readShort(),f=o.readShort(),v=o.readShort(),c=o.readShort(),m=o.readShort(),this.cache[r]=l===-1?new A6(o,f,v,c,m):new j6(o,l,f,v,c,m),this.cache[r]))},e.prototype.encode=function(r,n,s){var i,a,l,o,c;for(l=[],a=[],o=0,c=n.length;o<c;o++)i=r[n[o]],a.push(l.length),i&&(l=l.concat(i.encode(s)));return a.push(l.length),{table:l,offsets:a}},e}(),j6=function(){function t(e,r,n,s,i,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),A6=function(){function t(e,r,n,s,i){var a,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new da(Xw.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),k6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ys(e,Rs),e.prototype.tag="loca",e.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,l=0;l<s.length;++l)if(s[l]=i,a<n.length&&n[a]==l){++a,s[l]=i;var o=this.offsets[l],c=this.offsets[l+1]-o;c>0&&(i+=c)}for(var f=new Array(4*s.length),m=0;m<s.length;++m)f[4*m+3]=255&s[m],f[4*m+2]=(65280&s[m])>>8,f[4*m+1]=(16711680&s[m])>>16,f[4*m]=(4278190080&s[m])>>24;return f},e}(),C6=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,a,l,o;for(s={},a=0,l=e.length;a<l;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in o=this.glyphsFor(r))n=o[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,a,l,o,c,f,m,v,p,b,N,j,w;for(s in n=Qw.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},w=n.charMap)p[(o=w[s]).old]=o.new;for(b in v=n.maxGlyphID,a)b in p||(p[b]=v++);return f=function(_){var S,I;for(S in I={},_)I[_[S]]=S;return I}(p),m=Object.keys(f).sort(function(_,S){return _-S}),N=function(){var _,S,I;for(I=[],_=0,S=m.length;_<S;_++)l=m[_],I.push(f[l]);return I}(),i=this.font.glyf.encode(a,N,p),c=this.font.loca.encode(i.offsets,N),j={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},t}();rt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var l,o,c;for(c=[],l=0,o=r.length;l<o;l++)n=r[l],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+r},e}();function E6(){const t=()=>{const e=new rt;let r=16;e.setFontSize(16),e.text("Vijayam Science and Arts Degree College",12,r),r+=8,e.setFontSize(12),e.text("Manual Application Form (Blank)",12,r),r+=10;const n=s=>{e.text(s,12,r),e.line(70,r+1,200,r+1),r+=10};["Student ID","Admission No","HT No","Academic Year","Group","Course Code","Course Name","Full Name","DOB","Gender","Father's Name","Mother's Name","Mobile","Email","Nationality","State","Aadhar No","Postal Code","Religion","Caste","Sub Caste","Address"].forEach(n),e.save("Application-Form-Blank.pdf")};return d.jsx("div",{className:"container py-5",children:d.jsx("div",{className:"row justify-content-center",children:d.jsx("div",{className:"col-lg-10",children:d.jsxs("div",{className:"card card-soft p-4",children:[d.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[d.jsxs("div",{className:"d-flex align-items-center gap-2",children:[d.jsx("img",{src:"/image.png",className:"brand-logo",alt:"logo"}),d.jsxs("div",{children:[d.jsx("h3",{className:"fw-bold mb-0",children:"Vijayam College of Arts & Science"}),d.jsx("div",{className:"text-muted",children:"Chennai"})]})]}),d.jsx(el,{to:"/",className:"btn btn-brand",children:"Back to Home"})]}),d.jsx("h5",{className:"mt-1",children:"Application Form"}),d.jsxs("div",{className:"mt-3 d-flex gap-2",children:[d.jsx("button",{className:"btn btn-brand btn-sm",onClick:t,children:"Download Blank PDF"}),d.jsx("button",{className:"btn btn-outline-brand btn-sm",onClick:()=>window.print(),children:"Print This Page"})]}),d.jsxs("div",{className:"row g-3 mt-1",children:[d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Student & Admission"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Student ID"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Admission No"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Academic Year"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Group & Course"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Group"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Course Code"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Course Name"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Personal Details"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Full Name"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Gender"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"DOB"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Father's Name"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Mother's Name"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Contact & Address"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Mobile"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Email"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Nationality"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"State"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Aadhar No"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Postal Code (PIN)"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Religion"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Caste"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Sub Caste"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("label",{className:"form-label",children:"Address"}),d.jsx("textarea",{className:"form-control",rows:"2"})]}),d.jsxs("div",{className:"col-12 d-flex justify-content-end gap-2 mt-2",children:[d.jsx("button",{className:"btn btn-outline-secondary",onClick:e=>{e.preventDefault(),window.print()},children:"Print"}),d.jsx("button",{className:"btn btn-brand",onClick:e=>{e.preventDefault(),t()},children:"Download PDF"})]})]})]})})})})}function L6(){const t=["Male","Female","Other"],e=["General","OBC","SC","ST","Others"],r=["Hindu","Muslim","Christian","Sikh","Buddhist","Jain","Others"],n=["Tamil Nadu","Andhra Pradesh","Karnataka","Kerala","Telangana","Maharashtra","Other"],[s,i]=se.useState({student_id:"",admission_no:"",ht_no:"",academic_year:"",group:"",course_id:"",full_name:"",gender:"",dob:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_no:"",postal_code:"",address:"",mobile:"",email:"",religion:"",caste:"",sub_caste:""}),[a,l]=se.useState(null),[o,c]=se.useState(null),[f,m]=se.useState(!1),[v,p]=se.useState(""),[b,N]=se.useState([]),[j,w]=se.useState([]),[_,S]=se.useState([]),I=(O,P)=>i(R=>({...R,[O]:P}));se.useEffect(()=>{(async()=>{var O,P;try{const[R,G,V]=await Promise.all([Ae.listCourses(),((O=Ae.listGroups)==null?void 0:O.call(Ae))||[],((P=Ae.listAcademicYears)==null?void 0:P.call(Ae))||[]]);N(R||[]),w(G||[]),S(V||[])}catch{N([]),w([]),S([])}})()},[]);const B=()=>{i({student_id:"",admission_no:"",ht_no:"",academic_year:"",group:"",course_id:"",full_name:"",gender:"",dob:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_no:"",postal_code:"",address:"",mobile:"",email:"",religion:"",caste:"",sub_caste:""}),l(null),c(null)},Q=(O,P)=>new RegExp(`^\\d{${P}}$`).test(O),T=se.useMemo(()=>!!(s.admission_no&&s.academic_year&&s.full_name&&s.gender&&s.dob&&s.mobile&&Q(s.mobile,10)&&s.postal_code&&Q(s.postal_code,6)&&(!s.aadhar_no||Q(s.aadhar_no,12))&&s.address&&s.group&&s.course_id),[s]),M=(O,P)=>R=>{const G=(R.target.value||"").replace(/\D/g,"").slice(0,P);I(O,G)},K=async O=>{O.preventDefault(),p(""),m(!0);try{const P={};a&&(P.photo_url=URL.createObjectURL(a)),o&&(P.cert_url=URL.createObjectURL(o)),await Ae.submitApplication({...s,...P}),p("Application submitted! Admin/Principal will contact you after approval."),B()}catch(P){p(P.message||"Error submitting form")}finally{m(!1)}};return d.jsx("div",{className:"container py-5",children:d.jsx("div",{className:"row justify-content-center",children:d.jsx("div",{className:"col-lg-10",children:d.jsxs("div",{className:"card card-soft p-4",children:[d.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[d.jsx("img",{src:"/logo-placeholder.png",className:"brand-logo",alt:"logo"}),d.jsxs("div",{children:[d.jsx("h3",{className:"fw-bold mb-0",children:"Vijayam College of Arts & Science"}),d.jsx("div",{className:"text-muted",children:"Chennai"})]})]}),d.jsx("h5",{className:"mt-3",children:"Apply for Admission / Exam"}),d.jsx("form",{onSubmit:K,children:d.jsxs("div",{className:"row g-3",children:[d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Student & Admission"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Student ID"}),d.jsx("input",{className:"form-control",value:s.student_id,onChange:O=>I("student_id",O.target.value),placeholder:"Auto/Optional"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Admission No"}),d.jsx("input",{className:"form-control",value:s.admission_no,onChange:O=>I("admission_no",O.target.value),required:!0})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"HT No"}),d.jsx("input",{className:"form-control",value:s.ht_no,onChange:O=>I("ht_no",O.target.value)})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Academic Year"}),d.jsxs("select",{className:"form-select",value:s.academic_year,onChange:O=>I("academic_year",O.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select"}),_.map(O=>d.jsxs("option",{value:O.name,children:[O.name,O.active?" (Active)":""]},O.id))]})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Group & Course"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Group Code"}),d.jsxs("select",{className:"form-select",value:s.group,onChange:O=>I("group",O.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select Group"}),j.map(O=>d.jsxs("option",{value:O.code,children:[O.code,"  ",O.name]},O.id))]})]}),d.jsxs("div",{className:"col-md-8",children:[d.jsx("label",{className:"form-label",children:"Course"}),d.jsxs("select",{className:"form-select",value:s.course_id,onChange:O=>I("course_id",O.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select Course"}),b.filter(O=>!s.group||!O.group_code||O.group_code===s.group).map(O=>d.jsxs("option",{value:O.id,children:[O.code?`${O.code} - `:"",O.name]},O.id))]})]}),(()=>{const O=b.find(P=>P.id===s.course_id);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Course Code"}),d.jsx("input",{className:"form-control",value:(O==null?void 0:O.code)||"",readOnly:!0,placeholder:"Auto"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Course ID"}),d.jsx("input",{className:"form-control",value:(O==null?void 0:O.id)||"",readOnly:!0,placeholder:"Auto"})]})]})})(),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Personal Details"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Full Name"}),d.jsx("input",{className:"form-control",value:s.full_name,onChange:O=>I("full_name",O.target.value),required:!0})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Gender"}),d.jsxs("select",{className:"form-select",value:s.gender,onChange:O=>I("gender",O.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select"}),t.map(O=>d.jsx("option",{value:O,children:O},O))]})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"DOB"}),d.jsx("input",{type:"date",className:"form-control",value:s.dob,onChange:O=>I("dob",O.target.value),required:!0})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Father's Name"}),d.jsx("input",{className:"form-control",value:s.father_name,onChange:O=>I("father_name",O.target.value)})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Mother's Name"}),d.jsx("input",{className:"form-control",value:s.mother_name,onChange:O=>I("mother_name",O.target.value)})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Contact & Address"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Mobile"}),d.jsx("input",{className:"form-control",inputMode:"tel",maxLength:"10",pattern:"\\\\d{10}",value:s.mobile,onChange:M("mobile",10),required:!0})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Email"}),d.jsx("input",{type:"email",className:"form-control",value:s.email,onChange:O=>I("email",O.target.value)})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Nationality"}),d.jsx("input",{className:"form-control",value:s.nationality,onChange:O=>I("nationality",O.target.value)})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"State"}),d.jsxs("select",{className:"form-select",value:s.state,onChange:O=>I("state",O.target.value),children:[d.jsx("option",{value:"",children:"Select"}),n.map(O=>d.jsx("option",{value:O,children:O},O))]})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Aadhar No"}),d.jsx("input",{className:"form-control",inputMode:"numeric",maxLength:"12",pattern:"\\\\d{12}",placeholder:"12 digits",value:s.aadhar_no,onChange:M("aadhar_no",12)})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Postal Code (PIN)"}),d.jsx("input",{className:"form-control",inputMode:"numeric",maxLength:"6",pattern:"\\\\d{6}",placeholder:"6 digits",value:s.postal_code,onChange:M("postal_code",6),required:!0})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Religion"}),d.jsxs("select",{className:"form-select",value:s.religion,onChange:O=>I("religion",O.target.value),children:[d.jsx("option",{value:"",children:"Select"}),r.map(O=>d.jsx("option",{value:O,children:O},O))]})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Caste"}),d.jsxs("select",{className:"form-select",value:s.caste,onChange:O=>I("caste",O.target.value),children:[d.jsx("option",{value:"",children:"Select"}),e.map(O=>d.jsx("option",{value:O,children:O},O))]})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Sub Caste"}),d.jsx("input",{className:"form-control",value:s.sub_caste,onChange:O=>I("sub_caste",O.target.value)})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("label",{className:"form-label",children:"Address"}),d.jsx("textarea",{className:"form-control",rows:"2",value:s.address,onChange:O=>I("address",O.target.value),required:!0})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Aadhar No"}),d.jsx("input",{className:"form-control",value:s.aadhar_no,onChange:O=>I("aadhar_no",O.target.value)})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Postal code"}),d.jsx("input",{className:"form-control",value:s.aadhar_no,onChange:O=>I("aadhar_no",O.target.value)})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Uploads"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Upload Photo"}),d.jsx("input",{type:"file",accept:"image/*",className:"form-control",onChange:O=>{var P;return l(((P=O.target.files)==null?void 0:P[0])||null)}})]}),d.jsxs("div",{className:"col-12 d-flex justify-content-end gap-2 mt-2",children:[d.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:B,children:"Clear"}),d.jsx("button",{className:"btn btn-brand",disabled:f||!T,children:f?"Submitting...":"Submit"})]})]})}),v&&d.jsx("div",{className:"alert alert-info mt-3 mb-0",children:v})]})})})})}function P6(){const t=rc(),{setUser:e}=Ph(),[r,n]=se.useState("admin@vijayam.edu"),[s,i]=se.useState("admin123"),[a,l]=se.useState("ADMIN"),[o,c]=se.useState(!1),[f,m]=se.useState(""),v=async p=>{p.preventDefault(),c(!0),m("");try{const b=await Ae.login(r);e({email:b.email,role:b.role}),t("/admin")}catch(b){m(b.message)}finally{c(!1)}};return d.jsx("div",{className:"container py-5",children:d.jsx("div",{className:"row justify-content-center",children:d.jsx("div",{className:"col-md-5",children:d.jsxs("div",{className:"card card-soft p-4",children:[d.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[d.jsx("img",{src:"/logo-placeholder.png",className:"brand-logo",alt:"logo"}),d.jsxs("div",{children:[d.jsx("h4",{className:"fw-bold mb-0",children:"Vijayam College"}),d.jsx("div",{className:"text-muted",children:"Chennai"})]})]}),d.jsx("h5",{children:"Admin / Principal Login"}),d.jsxs("form",{onSubmit:v,className:"mt-3",children:[d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{className:"form-label",children:"Email"}),d.jsx("input",{className:"form-control",value:r,onChange:p=>n(p.target.value),required:!0})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{className:"form-label",children:"Password"}),d.jsx("input",{type:"password",className:"form-control",value:s,onChange:p=>i(p.target.value),required:!0})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{className:"form-label",children:"Login as"}),d.jsxs("select",{className:"form-select",value:a,onChange:p=>l(p.target.value),children:[d.jsx("option",{value:"ADMIN",children:"Admin"}),d.jsx("option",{value:"PRINCIPAL",children:"Principal"})]})]}),f&&d.jsx("div",{className:"alert alert-danger py-2",children:f}),d.jsx("button",{className:"btn btn-brand w-100",disabled:o,children:o?"Signing in...":"Sign In"})]})]})})})})}const O6=[{to:"/admin/applications",label:"Applications",icon:"bi-inboxes"},{to:"/admin/setup/years",label:"Academic Years",icon:"bi-calendar3"},{to:"/admin/setup/groups",label:"Groups & Courses",icon:"bi-diagram-3"},{to:"/admin/setup/subcats",label:"Sub-categories",icon:"bi-list-ul"},{to:"/admin/setup/subjects",label:"Subjects",icon:"bi-journal-text"},{to:"/admin/departments",label:"Departments",icon:"bi-mortarboard"},{to:"/admin/batches",label:"Batches",icon:"bi-people"},{to:"/admin/courses",label:"Courses",icon:"bi-book"},{to:"/admin/students",label:"Students",icon:"bi-person-badge"},{to:"/admin/exams",label:"Exams",icon:"bi-journal-check"},{to:"/admin/payments",label:"Payments",icon:"bi-credit-card"},{to:"/admin/hall-tickets",label:"Hall Tickets",icon:"bi-ticket-perforated"},{to:"/admin/results",label:"Results",icon:"bi-award"}];function Si({children:t,onSignOut:e}){const{pathname:r}=bl(),n=rc(),{signOut:s}=Ph(),[i,a]=se.useState(!1),l=()=>{if(typeof e=="function")e();else try{s()}catch{}n("/")};return d.jsxs("div",{className:"admin-shell d-grid",style:{gridTemplateColumns:i?"88px 1fr":"280px 1fr"},children:[d.jsxs("aside",{className:`sidebar-modern p-3 ${i?"collapsed":""}`,children:[d.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3 brand-row",children:[d.jsxs("div",{className:"d-flex align-items-center gap-2",children:[d.jsx("img",{src:Pw,alt:"Vijayam Logo",className:"brand-logo rounded-circle border"}),d.jsxs("div",{className:"brand-text",children:[d.jsx("div",{className:"heading-font fw-800",children:"Vijayam College of Arts & Science"}),d.jsx("div",{className:"small text-muted",children:"Chennai"})]})]}),d.jsx("button",{className:"btn btn-sm btn-toggle",onClick:()=>a(!i),title:i?"Expand":"Collapse",children:d.jsx("i",{className:`bi ${i?"bi-chevron-double-right":"bi-chevron-double-left"}`})})]}),d.jsx("nav",{className:"d-flex flex-column gap-1 modern-nav",children:O6.map(o=>d.jsxs(el,{to:o.to,title:o.label,className:`nav-item-modern ${r===o.to?"active":""}`,children:[d.jsx("i",{className:`bi ${o.icon}`}),d.jsx("span",{className:"label",children:o.label})]},o.to))})]}),d.jsxs("main",{className:"admin-main p-4",children:[d.jsxs("div",{className:"brandbar rounded px-3 py-2 mb-3 d-flex align-items-center justify-content-between header-shadow",children:[d.jsx("div",{className:"brandbar-title",children:"Smart Examination & Hall Ticket Management"}),d.jsxs("button",{className:"btn btn-outline-secondary modern-signout",onClick:l,title:"Sign out",children:[d.jsx("i",{className:"bi bi-box-arrow-right me-2"}),"Sign out"]})]}),d.jsx("div",{className:"admin-main-scroll",children:t})]})]})}function I6(){const[t,e]=se.useState([]),[r,n]=se.useState(""),s=async()=>e(await Ae.listBatches());se.useEffect(()=>{s()},[]);const i=async()=>{r&&(await Ae.addBatch({name:r}),n(""),s())};return d.jsxs(Si,{children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Batches"}),d.jsxs("div",{className:"row g-3",children:[d.jsx("div",{className:"col-lg-4",children:d.jsxs("div",{className:"card card-soft p-3",children:[d.jsx("label",{className:"form-label",children:"Batch Name"}),d.jsx("input",{className:"form-control mb-2",value:r,onChange:a=>n(a.target.value),placeholder:"e.g., 2025-CS-A"}),d.jsx("button",{className:"btn btn-brand",onClick:i,children:"Add Batch"})]})}),d.jsx("div",{className:"col-lg-8",children:d.jsx("div",{className:"card card-soft p-0",children:d.jsxs("table",{className:"table mb-0",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Name"}),d.jsx("th",{children:"Created"})]})}),d.jsx("tbody",{children:t.map(a=>d.jsxs("tr",{children:[d.jsx("td",{children:a.name}),d.jsx("td",{children:new Date(a.created_at).toLocaleString()})]},a.id))})]})})})]})]})}function R6(){const[t,e]=se.useState([]),[r,n]=se.useState({code:"",name:"",duration_years:3}),s=async()=>e(await Ae.listCourses());se.useEffect(()=>{s()},[]);const i=async()=>{await Ae.addCourse(r),n({code:"",name:"",duration_years:3}),s()};return d.jsxs(Si,{children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Courses"}),d.jsxs("div",{className:"row g-3",children:[d.jsx("div",{className:"col-lg-4",children:d.jsxs("div",{className:"card card-soft p-3",children:[d.jsx("input",{className:"form-control mb-2",placeholder:"Code",value:r.code,onChange:a=>n({...r,code:a.target.value})}),d.jsx("input",{className:"form-control mb-2",placeholder:"Name",value:r.name,onChange:a=>n({...r,name:a.target.value})}),d.jsxs("select",{className:"form-select mb-2",value:r.duration_years,onChange:a=>n({...r,duration_years:Number(a.target.value)}),children:[d.jsx("option",{value:"3",children:"3 years"}),d.jsx("option",{value:"5",children:"5 years"})]}),d.jsx("button",{className:"btn btn-brand",onClick:i,children:"Add Course"})]})}),d.jsx("div",{className:"col-lg-8",children:d.jsx("div",{className:"card card-soft p-0",children:d.jsxs("table",{className:"table mb-0",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Code"}),d.jsx("th",{children:"Name"}),d.jsx("th",{children:"Duration"})]})}),d.jsx("tbody",{children:t.map(a=>d.jsxs("tr",{children:[d.jsx("td",{children:a.code}),d.jsx("td",{children:a.name}),d.jsxs("td",{children:[a.duration_years," years"]})]},a.id))})]})})})]})]})}function T6(t="SID"){const e=new Date().getFullYear(),r=Math.floor(Math.random()*1e6).toString().padStart(6,"0");return`${t}-${e}-${r}`}function F6(t){const e=Math.floor(Math.random()*99999).toString().padStart(5,"0");return`HT-${t}-${e}`}function D6(){const[t,e]=se.useState([]),r=async()=>e(await Ae.listApplications());se.useEffect(()=>{r()},[]);const n=async s=>{const i=new Date().getFullYear(),a={student_id:T6(),hall_ticket_no:F6(i),full_name:s.full_name,dob:s.dob,gender:s.gender,mobile:s.mobile,email:s.email,address:s.address,course_id:s.course_id,group:s.group,academic_year:s.academic_year,father_name:s.father_name,mother_name:s.mother_name,nationality:s.nationality,state:s.state,aadhar_no:s.aadhar_no,postal_code:s.postal_code,religion:s.religion,caste:s.caste,sub_caste:s.sub_caste,photo_url:s.photo_url,cert_url:s.cert_url};await Ae.approveApplication(s.id,a),r()};return d.jsxs(Si,{children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Student Applications"}),d.jsx("div",{className:"card card-soft p-0",children:d.jsxs("table",{className:"table mb-0",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Name"}),d.jsx("th",{children:"Course"}),d.jsx("th",{children:"Status"}),d.jsx("th",{children:"Action"})]})}),d.jsx("tbody",{children:t.map(s=>d.jsxs("tr",{children:[d.jsx("td",{children:s.full_name}),d.jsx("td",{children:s.course_id}),d.jsx("td",{children:d.jsx("span",{className:"badge bg-light text-dark",children:s.status})}),d.jsx("td",{children:s.status==="PENDING"?d.jsx("button",{className:"btn btn-brand btn-sm",onClick:()=>n(s),children:"Approve"}):"Approved"})]},s.id))})]})})]})}function M6(){const[t,e]=se.useState([]),[r,n]=se.useState({title:"",date:"",time:"",venue:"",course_id:""}),s=async()=>e(await Ae.listExams());se.useEffect(()=>{s()},[]);const i=async()=>{!r.title||!r.date||!r.time||!r.venue||(await Ae.addExam(r),n({title:"",date:"",time:"",venue:"",course_id:""}),s())};return d.jsxs(Si,{children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Exam Scheduling"}),d.jsxs("div",{className:"row g-3",children:[d.jsx("div",{className:"col-lg-4",children:d.jsxs("div",{className:"card card-soft p-3",children:[d.jsx("input",{className:"form-control mb-2",placeholder:"Title (e.g., EX1 Semester 1)",value:r.title,onChange:a=>n({...r,title:a.target.value})}),d.jsxs("div",{className:"row g-2",children:[d.jsx("div",{className:"col",children:d.jsx("input",{type:"date",className:"form-control",value:r.date,onChange:a=>n({...r,date:a.target.value})})}),d.jsx("div",{className:"col",children:d.jsx("input",{type:"time",className:"form-control",value:r.time,onChange:a=>n({...r,time:a.target.value})})})]}),d.jsx("input",{className:"form-control my-2",placeholder:"Venue",value:r.venue,onChange:a=>n({...r,venue:a.target.value})}),d.jsx("input",{className:"form-control mb-2",placeholder:"Course Id",value:r.course_id,onChange:a=>n({...r,course_id:a.target.value})}),d.jsx("button",{className:"btn btn-brand w-100",onClick:i,children:"Create Schedule"})]})}),d.jsx("div",{className:"col-lg-8",children:d.jsx("div",{className:"card card-soft p-0",children:d.jsxs("table",{className:"table mb-0",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Title"}),d.jsx("th",{children:"Date"}),d.jsx("th",{children:"Time"}),d.jsx("th",{children:"Venue"})]})}),d.jsx("tbody",{children:t.map(a=>d.jsxs("tr",{children:[d.jsx("td",{children:a.title}),d.jsx("td",{children:a.date}),d.jsx("td",{children:a.time}),d.jsx("td",{children:a.venue})]},a.id))})]})})})]})]})}function B6(){const[t,e]=se.useState([]),[r,n]=se.useState({student_id:"",amount:"",method:"CASH",reference:""}),[s,i]=se.useState(!1);se.useEffect(()=>{(async()=>e(await Ae.listStudents()))()},[]);const a=async()=>{!r.student_id||!r.amount||(i(!0),await Ae.addPayment({...r,amount:Number(r.amount)}),n({student_id:"",amount:"",method:"CASH",reference:""}),i(!1))};return d.jsxs(Si,{children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Record Payment"}),d.jsxs("div",{className:"card card-soft p-3",children:[d.jsxs("div",{className:"row g-2",children:[d.jsx("div",{className:"col-md-4",children:d.jsxs("select",{className:"form-select",value:r.student_id,onChange:l=>n({...r,student_id:l.target.value}),children:[d.jsx("option",{value:"",children:"Select Student"}),t.map(l=>d.jsxs("option",{value:l.student_id,children:[l.student_id,"  ",l.full_name]},l.student_id))]})}),d.jsx("div",{className:"col-md-2",children:d.jsx("input",{type:"number",className:"form-control",placeholder:"Amount",value:r.amount,onChange:l=>n({...r,amount:l.target.value})})}),d.jsx("div",{className:"col-md-3",children:d.jsxs("select",{className:"form-select",value:r.method,onChange:l=>n({...r,method:l.target.value}),children:[d.jsx("option",{value:"CASH",children:"Cash"}),d.jsx("option",{value:"CARD",children:"Card"}),d.jsx("option",{value:"UPI",children:"UPI"}),d.jsx("option",{value:"NETBANKING",children:"Net Banking"})]})}),d.jsx("div",{className:"col-md-3",children:d.jsx("input",{className:"form-control",placeholder:"Reference (optional)",value:r.reference,onChange:l=>n({...r,reference:l.target.value})})})]}),d.jsx("div",{className:"mt-3 d-flex justify-content-end",children:d.jsx("button",{className:"btn btn-brand",disabled:s,onClick:a,children:s?"Saving...":"Add Payment"})})]})]})}var U6=Object.defineProperty,hh=Object.getOwnPropertySymbols,Zw=Object.prototype.hasOwnProperty,eb=Object.prototype.propertyIsEnumerable,V2=(t,e,r)=>e in t?U6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,H2=(t,e)=>{for(var r in e||(e={}))Zw.call(e,r)&&V2(t,r,e[r]);if(hh)for(var r of hh(e))eb.call(e,r)&&V2(t,r,e[r]);return t},z6=(t,e)=>{var r={};for(var n in t)Zw.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&hh)for(var n of hh(t))e.indexOf(n)<0&&eb.call(t,n)&&(r[n]=t[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ja;(t=>{const e=class{constructor(o,c,f,m){if(this.version=o,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=o*4+17;let v=[];for(let b=0;b<this.size;b++)v.push(!1);for(let b=0;b<this.size;b++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(f);if(this.drawCodewords(p),m==-1){let b=1e9;for(let N=0;N<8;N++){this.applyMask(N),this.drawFormatBits(N);const j=this.getPenaltyScore();j<b&&(m=N,b=j),this.applyMask(N)}}i(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(o,c){const f=t.QrSegment.makeSegments(o);return e.encodeSegments(f,c)}static encodeBinary(o,c){const f=t.QrSegment.makeBytes(o);return e.encodeSegments([f],c)}static encodeSegments(o,c,f=1,m=40,v=-1,p=!0){if(!(e.MIN_VERSION<=f&&f<=m&&m<=e.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let b,N;for(b=f;;b++){const S=e.getNumDataCodewords(b,c)*8,I=l.getTotalBits(o,b);if(I<=S){N=I;break}if(b>=m)throw new RangeError("Data too long")}for(const S of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])p&&N<=e.getNumDataCodewords(b,S)*8&&(c=S);let j=[];for(const S of o){n(S.mode.modeBits,4,j),n(S.numChars,S.mode.numCharCountBits(b),j);for(const I of S.getData())j.push(I)}i(j.length==N);const w=e.getNumDataCodewords(b,c)*8;i(j.length<=w),n(0,Math.min(4,w-j.length),j),n(0,(8-j.length%8)%8,j),i(j.length%8==0);for(let S=236;j.length<w;S^=253)n(S,8,j);let _=[];for(;_.length*8<j.length;)_.push(0);return j.forEach((S,I)=>_[I>>>3]|=S<<7-(I&7)),new e(b,c,_,v)}getModule(o,c){return 0<=o&&o<this.size&&0<=c&&c<this.size&&this.modules[c][o]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const o=this.getAlignmentPatternPositions(),c=o.length;for(let f=0;f<c;f++)for(let m=0;m<c;m++)f==0&&m==0||f==0&&m==c-1||f==c-1&&m==0||this.drawAlignmentPattern(o[f],o[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(o){const c=this.errorCorrectionLevel.formatBits<<3|o;let f=c;for(let v=0;v<10;v++)f=f<<1^(f>>>9)*1335;const m=(c<<10|f)^21522;i(m>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,s(m,v));this.setFunctionModule(8,7,s(m,6)),this.setFunctionModule(8,8,s(m,7)),this.setFunctionModule(7,8,s(m,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,s(m,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,s(m,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,s(m,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let o=this.version;for(let f=0;f<12;f++)o=o<<1^(o>>>11)*7973;const c=this.version<<12|o;i(c>>>18==0);for(let f=0;f<18;f++){const m=s(c,f),v=this.size-11+f%3,p=Math.floor(f/3);this.setFunctionModule(v,p,m),this.setFunctionModule(p,v,m)}}drawFinderPattern(o,c){for(let f=-4;f<=4;f++)for(let m=-4;m<=4;m++){const v=Math.max(Math.abs(m),Math.abs(f)),p=o+m,b=c+f;0<=p&&p<this.size&&0<=b&&b<this.size&&this.setFunctionModule(p,b,v!=2&&v!=4)}}drawAlignmentPattern(o,c){for(let f=-2;f<=2;f++)for(let m=-2;m<=2;m++)this.setFunctionModule(o+m,c+f,Math.max(Math.abs(m),Math.abs(f))!=1)}setFunctionModule(o,c,f){this.modules[c][o]=f,this.isFunction[c][o]=!0}addEccAndInterleave(o){const c=this.version,f=this.errorCorrectionLevel;if(o.length!=e.getNumDataCodewords(c,f))throw new RangeError("Invalid argument");const m=e.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][c],v=e.ECC_CODEWORDS_PER_BLOCK[f.ordinal][c],p=Math.floor(e.getNumRawDataModules(c)/8),b=m-p%m,N=Math.floor(p/m);let j=[];const w=e.reedSolomonComputeDivisor(v);for(let S=0,I=0;S<m;S++){let B=o.slice(I,I+N-v+(S<b?0:1));I+=B.length;const Q=e.reedSolomonComputeRemainder(B,w);S<b&&B.push(0),j.push(B.concat(Q))}let _=[];for(let S=0;S<j[0].length;S++)j.forEach((I,B)=>{(S!=N-v||B>=b)&&_.push(I[S])});return i(_.length==p),_}drawCodewords(o){if(o.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let m=0;m<this.size;m++)for(let v=0;v<2;v++){const p=f-v,N=(f+1&2)==0?this.size-1-m:m;!this.isFunction[N][p]&&c<o.length*8&&(this.modules[N][p]=s(o[c>>>3],7-(c&7)),c++)}}i(c==o.length*8)}applyMask(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let f=0;f<this.size;f++){let m;switch(o){case 0:m=(f+c)%2==0;break;case 1:m=c%2==0;break;case 2:m=f%3==0;break;case 3:m=(f+c)%3==0;break;case 4:m=(Math.floor(f/3)+Math.floor(c/2))%2==0;break;case 5:m=f*c%2+f*c%3==0;break;case 6:m=(f*c%2+f*c%3)%2==0;break;case 7:m=((f+c)%2+f*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][f]&&m&&(this.modules[c][f]=!this.modules[c][f])}}getPenaltyScore(){let o=0;for(let v=0;v<this.size;v++){let p=!1,b=0,N=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[v][j]==p?(b++,b==5?o+=e.PENALTY_N1:b>5&&o++):(this.finderPenaltyAddHistory(b,N),p||(o+=this.finderPenaltyCountPatterns(N)*e.PENALTY_N3),p=this.modules[v][j],b=1);o+=this.finderPenaltyTerminateAndCount(p,b,N)*e.PENALTY_N3}for(let v=0;v<this.size;v++){let p=!1,b=0,N=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[j][v]==p?(b++,b==5?o+=e.PENALTY_N1:b>5&&o++):(this.finderPenaltyAddHistory(b,N),p||(o+=this.finderPenaltyCountPatterns(N)*e.PENALTY_N3),p=this.modules[j][v],b=1);o+=this.finderPenaltyTerminateAndCount(p,b,N)*e.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let p=0;p<this.size-1;p++){const b=this.modules[v][p];b==this.modules[v][p+1]&&b==this.modules[v+1][p]&&b==this.modules[v+1][p+1]&&(o+=e.PENALTY_N2)}let c=0;for(const v of this.modules)c=v.reduce((p,b)=>p+(b?1:0),c);const f=this.size*this.size,m=Math.ceil(Math.abs(c*20-f*10)/f)-1;return i(0<=m&&m<=9),o+=m*e.PENALTY_N4,i(0<=o&&o<=2568888),o}getAlignmentPatternPositions(){if(this.version==1)return[];{const o=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(o*2-2))*2;let f=[6];for(let m=this.size-7;f.length<o;m-=c)f.splice(1,0,m);return f}}static getNumRawDataModules(o){if(o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*o+128)*o+64;if(o>=2){const f=Math.floor(o/7)+2;c-=(25*f-10)*f-55,o>=7&&(c-=36)}return i(208<=c&&c<=29648),c}static getNumDataCodewords(o,c){return Math.floor(e.getNumRawDataModules(o)/8)-e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][o]*e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][o]}static reedSolomonComputeDivisor(o){if(o<1||o>255)throw new RangeError("Degree out of range");let c=[];for(let m=0;m<o-1;m++)c.push(0);c.push(1);let f=1;for(let m=0;m<o;m++){for(let v=0;v<c.length;v++)c[v]=e.reedSolomonMultiply(c[v],f),v+1<c.length&&(c[v]^=c[v+1]);f=e.reedSolomonMultiply(f,2)}return c}static reedSolomonComputeRemainder(o,c){let f=c.map(m=>0);for(const m of o){const v=m^f.shift();f.push(0),c.forEach((p,b)=>f[b]^=e.reedSolomonMultiply(p,v))}return f}static reedSolomonMultiply(o,c){if(o>>>8||c>>>8)throw new RangeError("Byte out of range");let f=0;for(let m=7;m>=0;m--)f=f<<1^(f>>>7)*285,f^=(c>>>m&1)*o;return i(f>>>8==0),f}finderPenaltyCountPatterns(o){const c=o[1];i(c<=this.size*3);const f=c>0&&o[2]==c&&o[3]==c*3&&o[4]==c&&o[5]==c;return(f&&o[0]>=c*4&&o[6]>=c?1:0)+(f&&o[6]>=c*4&&o[0]>=c?1:0)}finderPenaltyTerminateAndCount(o,c,f){return o&&(this.finderPenaltyAddHistory(c,f),c=0),c+=this.size,this.finderPenaltyAddHistory(c,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(o,c){c[0]==0&&(o+=this.size),c.pop(),c.unshift(o)}};let r=e;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=r;function n(o,c,f){if(c<0||c>31||o>>>c)throw new RangeError("Value out of range");for(let m=c-1;m>=0;m--)f.push(o>>>m&1)}function s(o,c){return(o>>>c&1)!=0}function i(o){if(!o)throw new Error("Assertion error")}const a=class{constructor(o,c,f){if(this.mode=o,this.numChars=c,this.bitData=f,c<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(o){let c=[];for(const f of o)n(f,8,c);return new a(a.Mode.BYTE,o.length,c)}static makeNumeric(o){if(!a.isNumeric(o))throw new RangeError("String contains non-numeric characters");let c=[];for(let f=0;f<o.length;){const m=Math.min(o.length-f,3);n(parseInt(o.substr(f,m),10),m*3+1,c),f+=m}return new a(a.Mode.NUMERIC,o.length,c)}static makeAlphanumeric(o){if(!a.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],f;for(f=0;f+2<=o.length;f+=2){let m=a.ALPHANUMERIC_CHARSET.indexOf(o.charAt(f))*45;m+=a.ALPHANUMERIC_CHARSET.indexOf(o.charAt(f+1)),n(m,11,c)}return f<o.length&&n(a.ALPHANUMERIC_CHARSET.indexOf(o.charAt(f)),6,c),new a(a.Mode.ALPHANUMERIC,o.length,c)}static makeSegments(o){return o==""?[]:a.isNumeric(o)?[a.makeNumeric(o)]:a.isAlphanumeric(o)?[a.makeAlphanumeric(o)]:[a.makeBytes(a.toUtf8ByteArray(o))]}static makeEci(o){let c=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)n(o,8,c);else if(o<16384)n(2,2,c),n(o,14,c);else if(o<1e6)n(6,3,c),n(o,21,c);else throw new RangeError("ECI assignment value out of range");return new a(a.Mode.ECI,0,c)}static isNumeric(o){return a.NUMERIC_REGEX.test(o)}static isAlphanumeric(o){return a.ALPHANUMERIC_REGEX.test(o)}getData(){return this.bitData.slice()}static getTotalBits(o,c){let f=0;for(const m of o){const v=m.mode.numCharCountBits(c);if(m.numChars>=1<<v)return 1/0;f+=4+v+m.bitData.length}return f}static toUtf8ByteArray(o){o=encodeURI(o);let c=[];for(let f=0;f<o.length;f++)o.charAt(f)!="%"?c.push(o.charCodeAt(f)):(c.push(parseInt(o.substr(f+1,2),16)),f+=2);return c}};let l=a;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=l})(Ja||(Ja={}));(t=>{(e=>{const r=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Ja||(Ja={}));(t=>{(e=>{const r=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Ja||(Ja={}));var mu=Ja;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var q6={L:mu.QrCode.Ecc.LOW,M:mu.QrCode.Ecc.MEDIUM,Q:mu.QrCode.Ecc.QUARTILE,H:mu.QrCode.Ecc.HIGH},$6=128,V6="L",H6="#FFFFFF",W6="#000000",G6=!1,tb=4,K6=.1;function Y6(t,e=0){const r=[];return t.forEach(function(n,s){let i=null;n.forEach(function(a,l){if(!a&&i!==null){r.push(`M${i+e} ${s+e}h${l-i}v1H${i+e}z`),i=null;return}if(l===n.length-1){if(!a)return;i===null?r.push(`M${l+e},${s+e} h1v1H${l+e}z`):r.push(`M${i+e},${s+e} h${l+1-i}v1H${i+e}z`);return}a&&i===null&&(i=l)})}),r.join("")}function J6(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function Q6(t,e,r,n){if(n==null)return null;const s=r?tb:0,i=t.length+s*2,a=Math.floor(e*K6),l=i/e,o=(n.width||a)*l,c=(n.height||a)*l,f=n.x==null?t.length/2-o/2:n.x*l,m=n.y==null?t.length/2-c/2:n.y*l;let v=null;if(n.excavate){let p=Math.floor(f),b=Math.floor(m),N=Math.ceil(o+f-p),j=Math.ceil(c+m-b);v={x:p,y:b,w:N,h:j}}return{x:f,y:m,h:c,w:o,excavation:v}}var X6=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Z6(t){const e=t,{value:r,size:n=$6,level:s=V6,bgColor:i=H6,fgColor:a=W6,includeMargin:l=G6,style:o,imageSettings:c}=e,f=z6(e,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),m=c==null?void 0:c.src,v=Ss.useRef(null),p=Ss.useRef(null),[b,N]=Ss.useState(!1);Ss.useEffect(()=>{if(v.current!=null){const _=v.current,S=_.getContext("2d");if(!S)return;let I=mu.QrCode.encodeText(r,q6[s]).getModules();const B=l?tb:0,Q=I.length+B*2,T=Q6(I,n,l,c),M=p.current,K=T!=null&&M!==null&&M.complete&&M.naturalHeight!==0&&M.naturalWidth!==0;K&&T.excavation!=null&&(I=J6(I,T.excavation));const O=window.devicePixelRatio||1;_.height=_.width=n*O;const P=n/Q*O;S.scale(P,P),S.fillStyle=i,S.fillRect(0,0,Q,Q),S.fillStyle=a,X6?S.fill(new Path2D(Y6(I,B))):I.forEach(function(R,G){R.forEach(function(V,pe){V&&S.fillRect(pe+B,G+B,1,1)})}),K&&S.drawImage(M,T.x+B,T.y+B,T.w,T.h)}}),Ss.useEffect(()=>{N(!1)},[m]);const j=H2({height:n,width:n},o);let w=null;return m!=null&&(w=Ss.createElement("img",{src:m,key:m,style:{display:"none"},onLoad:()=>{N(!0)},ref:p})),Ss.createElement(Ss.Fragment,null,Ss.createElement("canvas",H2({style:j,height:n,width:n,ref:v},f)),w)}function eA(t="EX1"){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let r="";for(let n=0;n<6;n++)r+=e[Math.floor(Math.random()*e.length)];return`${t}-${r}`}function tA(){const[t,e]=se.useState([]),[r,n]=se.useState([]),[s,i]=se.useState({student_id:"",exam_id:""}),[a,l]=se.useState(""),o=se.useRef(null);se.useEffect(()=>{(async()=>(e(await Ae.listStudents()),n(await Ae.listExams())))()},[]);const c=async()=>{if(!s.student_id||!s.exam_id)return alert("Select student & exam");const m=(await Ae.listExams()).find(b=>String(b.id)===String(s.exam_id)),v=((m==null?void 0:m.title)||"EX").split(" ")[0],p=eA(v);l(p),await Ae.upsertHallTicket({student_id:s.student_id,exam_id:s.exam_id,token:p})},f=async()=>{var w;const m=(await Ae.listStudents()).find(_=>_.student_id===s.student_id),v=(await Ae.listExams()).find(_=>String(_.id)===String(s.exam_id));if(!m||!v||!a)return alert("Generate first");const p=new rt({unit:"pt",format:"a4"});p.setFontSize(16),p.text("Vijayam College of Arts & Science  Chennai",40,40),p.roundedRect(32,56,530,300,8,8),p.setFontSize(18),p.text("Hall Ticket",40,80),p.setFontSize(12),p.text(`Name: ${m.full_name}`,48,110),p.text(`Permanent HT No: ${m.hall_ticket_no}`,48,132),p.text(`Exam: ${v.title}`,48,154),p.text(`Date: ${v.date}  Time: ${v.time}`,48,176),p.text(`Venue: ${v.venue}`,48,198),p.setTextColor("#1FAA59"),p.text(`Encoded Token: ${a}`,48,220),p.setTextColor("#000");const b=(w=o.current)==null?void 0:w.querySelector("canvas");if(b){const _=b.toDataURL("image/png");p.addImage(_,"PNG",420,110,120,120)}p.setFontSize(11);const N=["Carry a valid photo ID.","Report 30 minutes before the exam.","No mobile phones/smart devices.","Use permitted stationery only."];let j=250;p.text("Rules:",48,j),j+=16,N.forEach(_=>{p.text(` ${_}`,56,j),j+=16}),p.text("Signature (Controller of Examinations) ____________________",48,340),p.save(`HallTicket_${m.hall_ticket_no}_${v.title}.pdf`)};return d.jsxs(Si,{children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Hall Ticket Generator"}),d.jsxs("div",{className:"card card-soft p-3",children:[d.jsxs("div",{className:"row g-2",children:[d.jsx("div",{className:"col-md-4",children:d.jsxs("select",{className:"form-select",value:s.student_id,onChange:m=>i({...s,student_id:m.target.value}),children:[d.jsx("option",{value:"",children:"Select Student"}),t.map(m=>d.jsxs("option",{value:m.student_id,children:[m.student_id,"  ",m.full_name]},m.student_id))]})}),d.jsx("div",{className:"col-md-4",children:d.jsxs("select",{className:"form-select",value:s.exam_id,onChange:m=>i({...s,exam_id:m.target.value}),children:[d.jsx("option",{value:"",children:"Select Exam"}),r.map(m=>d.jsxs("option",{value:m.id,children:[m.title," (",m.date,")"]},m.id))]})}),d.jsx("div",{className:"col-md-4",children:d.jsx("button",{className:"btn btn-brand w-100",onClick:c,children:"Generate Token"})})]}),a&&d.jsxs("div",{className:"mt-3 p-3 border rounded",ref:o,children:[d.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-muted small",children:"Encoded Token"}),d.jsx("div",{className:"fw-bold",children:a})]}),d.jsx(Z6,{value:a,size:128,includeMargin:!0})]}),d.jsx("div",{className:"mt-2 d-flex justify-content-end",children:d.jsx("button",{className:"btn btn-accent",onClick:f,children:"Print / Download PDF"})})]})]})]})}function rA(){const[t,e]=se.useState([]),[r,n]=se.useState([]),[s,i]=se.useState({student_id:"",exam_id:"",total:"",grade:""}),[a,l]=se.useState(!1);se.useEffect(()=>{(async()=>(e(await Ae.listStudents()),n(await Ae.listExams())))()},[]);const o=async()=>{!s.student_id||!s.exam_id||!s.total||!s.grade||(l(!0),await Ae.addResult({student_id:s.student_id,exam_id:s.exam_id,total:Number(s.total),grade:s.grade}),i({student_id:"",exam_id:"",total:"",grade:""}),l(!1))};return d.jsxs(Si,{children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Publish Results"}),d.jsxs("div",{className:"card card-soft p-3",children:[d.jsxs("div",{className:"row g-2",children:[d.jsx("div",{className:"col-md-4",children:d.jsxs("select",{className:"form-select",value:s.student_id,onChange:c=>i({...s,student_id:c.target.value}),children:[d.jsx("option",{value:"",children:"Select Student"}),t.map(c=>d.jsxs("option",{value:c.student_id,children:[c.student_id,"  ",c.full_name]},c.student_id))]})}),d.jsx("div",{className:"col-md-4",children:d.jsxs("select",{className:"form-select",value:s.exam_id,onChange:c=>i({...s,exam_id:c.target.value}),children:[d.jsx("option",{value:"",children:"Select Exam"}),r.map(c=>d.jsxs("option",{value:c.id,children:[c.title," (",c.date,")"]},c.id))]})}),d.jsx("div",{className:"col-md-2",children:d.jsx("input",{type:"number",className:"form-control",placeholder:"Total",value:s.total,onChange:c=>i({...s,total:c.target.value})})}),d.jsx("div",{className:"col-md-2",children:d.jsx("input",{className:"form-control",placeholder:"Grade (e.g., A)",value:s.grade,onChange:c=>i({...s,grade:c.target.value})})})]}),d.jsx("div",{className:"mt-3 d-flex justify-content-end",children:d.jsx("button",{className:"btn btn-brand",disabled:a,onClick:o,children:a?"Saving...":"Add Result"})})]})]})}function nA({yearForm:t,setYearForm:e,academicYears:r,editingYearId:n,addYear:s,editYear:i,deleteYear:a,onCancelEdit:l}){return d.jsxs("section",{className:"setup-section mb-4",children:[d.jsx("h5",{className:"section-title",children:"Academic Years"}),d.jsxs("div",{className:"row g-2",children:[d.jsx("div",{className:"col-md-5",children:d.jsx("input",{className:"form-control",placeholder:"e.g., 2022-2025",value:t.name,onChange:o=>e({...t,name:o.target.value})})}),d.jsx("div",{className:"col-md-3 d-flex align-items-center",children:d.jsxs("div",{className:"form-check",children:[d.jsx("input",{className:"form-check-input",type:"checkbox",id:"activeYear",checked:t.active,onChange:o=>e({...t,active:o.target.checked})}),d.jsx("label",{className:"form-check-label ms-2",htmlFor:"activeYear",children:"Active"})]})}),d.jsxs("div",{className:"col-md-4 text-end",children:[d.jsx("button",{className:"btn btn-brand me-2",onClick:s,children:n?"Update Year":"Add Year"}),n&&d.jsx("button",{className:"btn btn-outline-secondary",onClick:l,children:"Cancel"})]})]}),r.length>0&&d.jsx("div",{className:"setup-list mt-3",children:r.map(o=>d.jsxs("div",{className:"setup-list-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setup-list-title",children:o.name}),d.jsx("div",{className:"setup-list-meta",children:"Created"})]}),d.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[d.jsx("span",{className:`status-pill ${o.active?"status-pill--active":"status-pill--inactive"}`,children:o.active?"Active":"Inactive"}),d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>i(o),children:"Edit"}),d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>a(o.id),children:"Delete"})]})]},o.id))})]})}function sA({groupForm:t,setGroupForm:e,editingGroupId:r,setEditingGroupId:n,groups:s,saveGroup:i,editGroup:a,deleteGroup:l,courseForm:o,setCourseForm:c,editingCourseId:f,setEditingCourseId:m,courses:v,saveCourse:p,editCourse:b,deleteCourse:N}){const j={borderRadius:"18px",border:"1px solid #e2e8f0",background:"linear-gradient(180deg, #ffffff 0%, #f7f9fc 100%)",boxShadow:"0 18px 35px rgba(15,23,42,0.08)"},w={backgroundColor:"#ecf0ff",color:"#1d3ecf",fontWeight:600,borderRadius:"999px",padding:"0.35rem 0.9rem"},_={borderRadius:"999px",border:"1px solid #e2e8f0",backgroundColor:"#ffffff",fontWeight:600,color:"#0f172a"},S={borderRadius:"18px",border:"1px solid #e1e7ef",background:"linear-gradient(180deg, #ffffff 0%, #f3f6fb 100%)",boxShadow:"0 16px 32px rgba(15,23,42,0.07)"},I={backgroundColor:"#e0f2fe",color:"#0369a1",fontWeight:600,borderRadius:"999px",padding:"0.35rem 0.9rem"};return d.jsxs(d.Fragment,{children:[d.jsxs("section",{className:"setup-section mb-4",children:[d.jsx("h5",{className:"section-title",children:"Groups"}),d.jsx("div",{className:"row",children:d.jsxs("div",{className:"col-12",children:[d.jsxs("div",{className:"row g-2",children:[d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Group Name"}),d.jsx("input",{className:"form-control",placeholder:"Group Name",value:t.name,onChange:B=>e({...t,name:B.target.value})})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Group Code"}),d.jsx("input",{className:"form-control",placeholder:"Group Code",value:t.code,onChange:B=>e({...t,code:B.target.value.toUpperCase()})})]}),d.jsxs("div",{className:"col-md-4 col-lg-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Duration (years)"}),d.jsx("input",{type:"number",className:"form-control no-spinner",placeholder:"Years",value:t.years,onChange:B=>e({...t,years:B.target.value}),style:{"-moz-appearance":"textfield"},onWheel:B=>B.target.blur()})]}),d.jsxs("div",{className:"col-md-4 col-lg-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Number of semesters"}),d.jsx("input",{type:"number",className:"form-control no-spinner",placeholder:"No. of Semesters",value:t.semesters,onChange:B=>e({...t,semesters:B.target.value}),style:{"-moz-appearance":"textfield"},onWheel:B=>B.target.blur()})]})]}),d.jsxs("div",{className:"mt-3",children:[d.jsx("button",{className:"btn btn-brand me-2",onClick:i,children:r?"Update Group":"Add Group"}),r&&d.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>{e({id:"",code:"",name:"",years:0,semesters:0}),n("")},children:"Cancel"})]})]})}),s.length>0&&d.jsxs("div",{className:"mt-4",children:[d.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:d.jsxs("span",{className:"text-muted text-uppercase fw-semibold small",style:{letterSpacing:"0.08em"},children:["Showing ",s.length," group",s.length===1?"":"s"]})}),d.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-3",children:s.map(B=>d.jsx("div",{className:"col",children:d.jsx("div",{className:"card border-0 h-100",style:j,children:d.jsxs("div",{className:"card-body d-flex flex-column",children:[d.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-uppercase text-muted small mb-1",children:"Group Name"}),d.jsx("div",{className:"fs-5 fw-bold",children:B.name||"-"}),d.jsx("div",{className:"text-muted small",children:B.code||"-"})]}),d.jsxs("span",{style:w,children:[B.years||0," yrs"]})]}),d.jsxs("div",{className:"d-flex flex-wrap gap-4 mb-4 text-muted",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-uppercase small",children:"Duration"}),d.jsxs("div",{className:"fw-semibold text-dark",children:[B.years||"-"," Years"]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-uppercase small",children:"Semesters"}),d.jsx("div",{className:"fw-semibold text-dark",children:B.semesters||"-"})]})]}),d.jsxs("div",{className:"mt-auto d-flex gap-2",children:[d.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:_,onClick:()=>a(B),children:"Edit"}),d.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:{..._,color:"#b91c1c",borderColor:"#fde2e1",backgroundColor:"#fff5f5"},onClick:()=>l(B.id),children:"Delete"})]})]})})},B.id))})]})]}),d.jsxs("section",{className:"setup-section mb-4",children:[d.jsx("h5",{className:"section-title",children:"Courses"}),d.jsx("div",{className:"row",children:d.jsxs("div",{className:"col-md-8",children:[d.jsxs("div",{className:"row g-2",children:[d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Select Group"}),d.jsxs("select",{className:"form-select",value:o.groupCode,onChange:B=>c({...o,groupCode:B.target.value}),children:[d.jsx("option",{value:"",children:"Select Group"}),s.map(B=>d.jsx("option",{value:B.code,children:B.name||B.code},B.id))]})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Course Name"}),d.jsx("input",{className:"form-control",placeholder:"Enter Course Name",value:o.courseName,onChange:B=>c({...o,courseName:B.target.value})})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Course Code"}),d.jsx("input",{className:"form-control",placeholder:"Enter Course Code",value:o.courseCode,onChange:B=>c({...o,courseCode:B.target.value.toUpperCase()})})]})]}),d.jsxs("div",{className:"mt-3",children:[d.jsx("button",{className:"btn btn-brand me-2",onClick:p,children:f?"Update Course":"Add Course"}),f&&d.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>{c({id:"",groupCode:"",courseCode:"",courseName:"",semesters:6}),m("")},children:"Cancel"})]})]})}),v.length>0&&d.jsxs("div",{className:"mt-4",children:[d.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:d.jsxs("span",{className:"text-muted text-uppercase fw-semibold small",style:{letterSpacing:"0.08em"},children:["Showing ",v.length," course",v.length===1?"":"s"]})}),d.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-3",children:v.map(B=>d.jsx("div",{className:"col",children:d.jsx("div",{className:"card border-0 h-100",style:S,children:d.jsxs("div",{className:"card-body d-flex flex-column",children:[d.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-uppercase text-muted small mb-1",children:"Course Name"}),d.jsx("div",{className:"fs-5 fw-bold",children:B.courseName})]}),d.jsxs("span",{style:I,children:[B.semesters," sems"]})]}),d.jsxs("div",{className:"mb-2",children:[d.jsx("div",{className:"text-muted text-uppercase small mb-1",children:"Course Code"}),d.jsx("div",{className:"fw-semibold text-dark",children:B.courseCode})]}),d.jsx("p",{className:"text-muted text-uppercase small mb-1",children:"Group"}),d.jsx("p",{className:"fw-semibold text-dark mb-4",children:B.groupCode}),d.jsxs("div",{className:"mt-auto d-flex gap-2",children:[d.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:_,onClick:()=>b(B),children:"Edit"}),d.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:{..._,color:"#b91c1c",borderColor:"#fde2e1",backgroundColor:"#fff5f5"},onClick:()=>N(B.id),children:"Delete"})]})]})})},B.id))})]})]})]})}function iA({categories:t,categoryName:e,setCategoryName:r,editingCategory:n,setEditingCategory:s,catItems:i,catCounts:a,tempCatInputs:l,viewCat:o,isEditingView:c,openViewCat:f,closeViewCat:m,handleSubjectAmountChange:v,handleTempSubjectChange:p,clearCategoryInputs:b,commitCategorySubjects:N,deleteCategory:j,saveCategory:w,feeCategories:_,feeCategoryName:S,setFeeCategoryName:I,editingFeeCategoryId:B,setEditingFeeCategoryId:Q,saveFeeCategory:T,editFeeCategory:M,deleteFeeCategory:K,setIsEditingView:O,updateCategoryItems:P}){return d.jsxs(d.Fragment,{children:[d.jsxs("section",{className:"setup-section mb-4",children:[d.jsx("h5",{className:"section-title",children:"Sub-categories"}),d.jsxs("div",{className:"subcat-input-panel",children:[d.jsxs("div",{className:"flex-grow-1",children:[d.jsx("p",{className:"text-uppercase text-muted small mb-1",children:n?"Update existing sub-category":"Add a new sub-category"}),d.jsxs("div",{className:"d-flex gap-2 flex-wrap",children:[d.jsx("input",{className:"form-control flex-grow-1",placeholder:"e.g., English",value:e,onChange:R=>r(R.target.value),onKeyDown:R=>{R.key==="Enter"&&(R.preventDefault(),w())}}),d.jsx("button",{type:"button",className:"btn btn-brand",onClick:w,children:n?"Update":"Add"}),n&&d.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{r(""),s("")},children:"Cancel"})]})]}),d.jsxs("div",{className:"subcat-input-copy text-muted",children:[d.jsx("div",{className:"fw-semibold text-dark",children:"Organise subjects into sub-categories"}),d.jsx("div",{className:"small",children:"Create descriptive buckets (e.g., Languages, Labs) to streamline subject assignment."})]})]}),t.length===0&&d.jsx("div",{className:"alert alert-info mb-0",children:"Add a sub-category to begin creating subjects."}),d.jsx("div",{className:"subcat-grid",children:t.map(R=>{const G=l[R]||[],V=(i[R]||[]).length,pe=i[R]||[],de=pe.length,me=V===0||n===R;return d.jsxs("div",{className:"subcat-panel",children:[d.jsxs("div",{className:"subcat-panel-header",children:[d.jsxs("div",{children:[d.jsx("div",{className:"subcat-panel-title",children:R}),d.jsxs("div",{className:"subcat-panel-meta",children:[V," subject",V===1?"":"s"," configured"]})]}),d.jsxs("div",{className:"subcat-panel-actions",children:[d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-brand",onClick:()=>f(R),children:"View list"}),d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>{r(R),s(R)},children:"Rename"}),d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>j(R),children:"Delete"})]})]}),me&&d.jsxs("div",{className:"row g-3 mt-2",children:[d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label text-muted fw-600 mb-1",children:"Generate subjects"}),d.jsx("input",{type:"number",min:"0",className:"form-control",placeholder:"Count",value:a[R]??"",onChange:W=>v(R,W.target.value)})]}),V>0&&d.jsx("div",{className:"col-md-8 d-flex align-items-center",children:d.jsx("span",{className:"text-muted small",children:"Edit the existing subjects inline."})})]}),me&&V>0&&d.jsxs("div",{className:"row g-2 mt-3",children:[d.jsx("div",{className:"col-12 text-muted fw-600 small",children:"Existing subjects"}),pe.map(W=>d.jsx("div",{className:"col-md-3",children:d.jsx("input",{className:"form-control",value:W.name,onChange:re=>P(R,ae=>ae.map(Ne=>Ne.id===W.id?{...Ne,name:re.target.value}:Ne))})},W.id))]}),me&&G.length>0&&d.jsxs("div",{className:"row g-2 mt-3",children:[G.map((W,re)=>d.jsx("div",{className:"col-md-3",children:d.jsx("input",{className:"form-control",placeholder:`Subject ${de+re+1}`,value:W,onChange:ae=>p(R,re,ae.target.value)})},re)),d.jsxs("div",{className:"col-12 text-end",children:[d.jsx("button",{type:"button",className:"btn btn-brand me-2",onClick:()=>N(R),children:"Add Subjects"}),d.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>b(R),children:"Clear"})]})]})]},R)})}),o&&d.jsxs("div",{className:"drawer-open",children:[d.jsx("div",{className:"drawer-backdrop",onClick:m}),d.jsxs("div",{className:"drawer-panel",role:"dialog","aria-modal":"true",children:[d.jsxs("div",{className:"drawer-header align-items-start",children:[d.jsxs("div",{children:[d.jsx("div",{className:"drawer-eyebrow text-uppercase",children:"Sub-category"}),d.jsxs("div",{className:"drawer-title",children:["Subjects in ",o]}),d.jsxs("div",{className:"drawer-meta",children:[(i[o]||[]).length," subject",(i[o]||[]).length===1?"":"s"," configured"]})]}),d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:m,children:d.jsx("i",{className:"bi bi-x"})})]}),d.jsxs("div",{className:"drawer-body",children:[(i[o]||[]).length>0&&d.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[d.jsxs("div",{className:"drawer-helper-text",children:["Manage the subject list for ",o]}),d.jsx("button",{type:"button",className:"btn btn-sm btn-brand btn-hover-lift",onClick:()=>O(R=>!R),children:c?"Done Editing":"Edit Subjects"})]}),(i[o]||[]).length===0?d.jsx("div",{className:"text-muted",children:"No subjects added yet."}):d.jsx("div",{className:"subject-tiles",children:i[o].map((R,G)=>d.jsxs("div",{className:"subject-tile",children:[d.jsx("div",{className:"subject-index",children:(G+1).toString().padStart(2,"0")}),c?d.jsxs("div",{className:"d-flex gap-2 w-100",children:[d.jsx("input",{className:"form-control",value:R.name,onChange:V=>P(o,pe=>pe.map(de=>de.id===R.id?{...de,name:V.target.value}:de))}),d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>P(o,V=>V.filter(pe=>pe.id!==R.id)),children:"Delete"})]}):d.jsx("div",{className:"subject-name",children:R.name})]},R.id))})]}),d.jsx("div",{className:"drawer-footer d-flex justify-content-end",children:d.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:m,children:"Close"})})]})]})]}),d.jsxs("section",{className:"setup-section mb-4",children:[d.jsx("h5",{className:"section-title",children:"Fee Categories"}),d.jsxs("div",{className:"row g-2 align-items-end mb-3",children:[d.jsxs("div",{className:"col-md-5 col-lg-4",children:[d.jsx("label",{className:"form-label text-muted fw-600",children:B?"Edit fee category":"Add a fee category"}),d.jsx("input",{className:"form-control",placeholder:"e.g., Tuition",value:S,onChange:R=>I(R.target.value),onKeyDown:R=>{R.key==="Enter"&&(R.preventDefault(),T())}})]}),d.jsx("div",{className:"col-md-3 col-lg-2",children:d.jsx("button",{type:"button",className:"btn btn-brand w-100 mt-md-4",onClick:T,children:B?"Update Category":"Add Category"})}),B&&d.jsx("div",{className:"col-md-3 col-lg-2",children:d.jsx("button",{type:"button",className:"btn btn-outline-secondary w-100 mt-md-4",onClick:()=>{I(""),Q("")},children:"Cancel"})})]}),d.jsx("div",{className:"fee-grid",children:_.map(R=>{var G;return d.jsx("div",{className:"fee-panel",children:d.jsxs("div",{className:"d-flex justify-content-between flex-wrap gap-2 mb-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"fee-panel-title",children:R.name}),d.jsx("div",{className:"fee-panel-meta",children:(G=R.fees)!=null&&G.length?`${R.fees.length} entry${R.fees.length===1?"":"ies"}`:"Category available"})]}),d.jsxs("div",{className:"d-flex gap-2",children:[d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>M(R),children:"Rename"}),d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>K(R.id),children:"Delete"})]})]})},R.id)})})]})]})}function aA({subjectForm:t,setSubjectForm:e,academicYears:r,groups:n,coursesForGroup:s,semForCourse:i,feeCategories:a,categories:l,catItems:o,pendingSubjects:c,subjects:f,editingSubjectId:m,saveSubject:v,submitPendingSubjects:p,editPendingSubject:b,deletePendingSubject:N,editSubject:j,deleteSubject:w,onCancelSubjectEdit:_}){const S=r.reduce((T,M)=>((M==null?void 0:M.id)!==void 0&&(T[M.id]=M.name),T),{}),I=S[t.academicYearId]||"",B=T=>T.academicYearName||S[T.academicYearId]||T.academicYearId||"-",Q=T=>{const M=(T==null?void 0:T.semester)??(T==null?void 0:T.semester_number)??(T==null?void 0:T.semesterNumber)??"";if(M==null||M==="")return"-";const K=Number(M);return Number.isNaN(K)?M:K};return d.jsxs("section",{className:"setup-section mb-4",children:[d.jsx("h5",{className:"section-title",children:"Subjects"}),d.jsxs("div",{className:"row g-3",children:[d.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Academic Year"}),d.jsxs("select",{className:"form-select",value:t.academicYearId,onChange:T=>{const M=T.target.value,K=r.find(O=>String(O.id)===String(M));e({...t,academicYearId:M,academicYearName:(K==null?void 0:K.name)||""})},children:[d.jsx("option",{value:"",children:"Select Year"}),r.map(T=>d.jsx("option",{value:T.id,children:T.name},T.id))]})]}),d.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Group"}),d.jsxs("select",{className:"form-select",value:t.groupCode,onChange:T=>e({...t,groupCode:T.target.value,courseCode:"",semester:""}),children:[d.jsx("option",{value:"",children:"Select Group"}),n.map(T=>d.jsx("option",{value:T.code,children:T.name||T.code},T.id))]})]}),d.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Course"}),d.jsxs("select",{className:"form-select",value:t.courseCode,onChange:T=>{const M=T.target.value,K=s.find(O=>O.courseCode===M);e({...t,courseCode:M,courseName:(K==null?void 0:K.courseName)||M,semester:""})},children:[d.jsx("option",{value:"",children:"Select Course"}),s.map(T=>d.jsxs("option",{value:T.courseCode,children:[T.courseCode," - ",T.courseName]},T.id))]})]}),d.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Semester"}),d.jsxs("select",{className:"form-select",value:t.semester,onChange:T=>e({...t,semester:T.target.value}),children:[d.jsx("option",{value:"",children:"Select Semester"}),i.map(T=>d.jsxs("option",{value:T.number,children:["Semester ",T.number]},T.id))]})]}),d.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Fee Type"}),d.jsxs("select",{className:"form-select",value:t.feeCategory,onChange:T=>e({...t,feeCategory:T.target.value,feeAmount:""}),children:[d.jsx("option",{value:"",children:"Select Fee Type"}),a.map(T=>d.jsx("option",{value:T.name,children:T.name},T.id))]})]}),t.feeCategory&&d.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Fee Amount"}),d.jsx("input",{type:"number",className:"form-control",placeholder:"Amount",value:t.feeAmount,onChange:T=>e({...t,feeAmount:T.target.value})})]}),d.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Sub-category"}),d.jsxs("select",{className:"form-select",value:t.category,onChange:T=>e({...t,category:T.target.value,subjectSelections:[],subjectName:""}),children:[d.jsx("option",{value:"",children:"Select Sub-category"}),l.map(T=>d.jsx("option",{value:T,children:T},T))]})]}),d.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Subject Name"}),(o[t.category]||[]).length?d.jsxs("div",{className:"subject-checkbox-group",children:[o[t.category].map(T=>{var K;const M=`subject-${T.id}`;return d.jsxs("div",{className:"form-check",children:[d.jsx("input",{className:"form-check-input",type:"checkbox",id:M,checked:(K=t.subjectSelections)==null?void 0:K.includes(T.name),onChange:()=>e(O=>{const P=new Set(O.subjectSelections||[]);return P.has(T.name)?P.delete(T.name):P.add(T.name),{...O,subjectSelections:Array.from(P),subjectName:""}})}),d.jsx("label",{className:"form-check-label",htmlFor:M,children:T.name})]},T.id)}),d.jsx("input",{className:"form-control mt-2",placeholder:"Or type custom subject",value:t.subjectName,onChange:T=>e({...t,subjectName:T.target.value,subjectSelections:[]})})]}):d.jsx("input",{className:"form-control",placeholder:"Subject Name",value:t.subjectName,onChange:T=>e({...t,subjectName:T.target.value})})]})]}),d.jsxs("div",{className:"mt-2 text-end",children:[d.jsx("button",{type:"button",className:"btn btn-accent",onClick:v,children:m?"Update Entry":"Add Entry"}),m&&d.jsx("button",{type:"button",className:"btn btn-outline-secondary ms-2",onClick:_,children:"Cancel"})]}),c.length>0&&d.jsxs("div",{className:"card card-soft p-3 mt-3",children:[d.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[d.jsxs("h6",{className:"section-title mb-0",children:["Pending Subjects (",c.length,")"]}),d.jsx("button",{type:"button",className:"btn btn-brand",onClick:p,children:"Submit All"})]}),d.jsx("div",{className:"table-responsive",children:d.jsxs("table",{className:"table mb-0",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Year"}),d.jsx("th",{children:"Group"}),d.jsx("th",{children:"Course"}),d.jsx("th",{children:"Sem"}),d.jsx("th",{children:"Category"}),d.jsx("th",{children:"Subject"}),d.jsx("th",{children:"Fee"}),d.jsx("th",{children:"Amount"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:c.map(T=>d.jsxs("tr",{children:[d.jsx("td",{children:B(T)}),d.jsx("td",{children:T.groupCode}),d.jsx("td",{children:T.courseCode}),d.jsx("td",{children:Q(T)}),d.jsx("td",{children:T.category}),d.jsx("td",{children:T.subjectName}),d.jsx("td",{children:T.feeCategory||"-"}),d.jsx("td",{children:T.feeAmount!==void 0&&T.feeAmount!==""?T.feeAmount:"-"}),d.jsxs("td",{children:[d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary me-2",onClick:()=>b(T),children:"Edit"}),d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>N(T.id),children:"Remove"})]})]},T.id))})]})})]}),f.length>0&&d.jsx("div",{className:"table-responsive mt-3",children:d.jsxs("table",{className:"table mb-0",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Year"}),d.jsx("th",{children:"Group"}),d.jsx("th",{children:"Course"}),d.jsx("th",{children:"Sem"}),d.jsx("th",{children:"Category"}),d.jsx("th",{children:"Subject Name"}),d.jsx("th",{children:"Fee"}),d.jsx("th",{children:"Amount"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:f.map(T=>d.jsxs("tr",{children:[d.jsx("td",{children:B(T)}),d.jsx("td",{children:T.groupCode}),d.jsx("td",{children:T.courseCode}),d.jsx("td",{children:Q(T)}),d.jsx("td",{children:T.category}),d.jsx("td",{children:T.subjectName}),d.jsx("td",{children:T.feeCategory||"-"}),d.jsx("td",{children:T.feeAmount!==void 0&&T.feeAmount!==""?T.feeAmount:"-"}),d.jsxs("td",{children:[d.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>j(T),children:"Edit"}),d.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>w(T.id),children:"Delete"})]})]},T.id))})]})}),f.length>0&&d.jsxs("div",{className:"card card-soft p-3 mt-3",children:[d.jsx("h6",{className:"section-title",children:"By Category (Preview)"}),d.jsx("div",{className:"row g-3",children:l.map(T=>{const M=f.filter(K=>(!t.academicYearId||K.academicYearId===t.academicYearId||!!I&&K.academicYearName===I)&&(!t.groupCode||K.groupCode===t.groupCode)&&(!t.courseCode||K.courseCode===t.courseCode)&&(!t.semester||Number(K.semester)===Number(t.semester))&&K.category===T);return M.length===0?null:d.jsx("div",{className:"col-md-6",children:d.jsxs("div",{className:"card p-3 bg-ice",children:[d.jsx("div",{className:"fw-600 mb-2",children:T}),d.jsx("ul",{className:"list-unstyled mb-0",children:M.map(K=>d.jsxs("li",{className:"d-flex justify-content-between align-items-center py-1",children:[d.jsx("span",{children:K.subjectName}),d.jsxs("span",{className:"small text-muted",children:["Sem ",Q(K)]})]},K.id))})]})},T)})})]})]})}const gp=(t,e,r,n)=>{if(e===r)return t;const{[e]:s=n,...i}=t;return{...i,[r]:s??n}},uu=(t,e)=>{if(!Object.prototype.hasOwnProperty.call(t,e))return t;const{[e]:r,...n}=t;return n},gi=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),vp=(t="")=>({academicYearId:"",academicYearName:"",groupCode:"",courseCode:"",courseName:"",semester:"",category:t,categoryId:"",subjectName:"",subjectSelections:[],feeCategory:"",feeAmount:"",subjectId:""}),W2=(t=[])=>(t||[]).map(e=>((e==null?void 0:e.name)||"").trim()).filter(Boolean),G2=(t=[])=>Array.isArray(t)?t.map(e=>({id:gi(),name:e})).filter(e=>e.name):[],K2=(t=[])=>t.reduce((e,r)=>{if(!r)return e;const n=r.courseCode||r.code||r.course_code||"",s=r.courseName||r.name||r.course_name||n,i=r.groupCode||r.group_code||r.group_name||"",a={courseCode:n,courseName:s,groupCode:i};return s&&(e[s]=a),n&&(e[n]=a),e},{}),Y2=(t=[])=>t.reduce((e,r)=>(r!=null&&r.name&&(r==null?void 0:r.id)!==void 0&&(e[r.name]=r.id),e),{}),oA=(t={})=>Object.entries(t).reduce((e,[r,n])=>(n!=null&&n!==""&&(e[n]=r),e),{}),J2=(t={},e={})=>{const{courseLookup:r={},categoryNameById:n={},yearNameToId:s={}}=e,i=t.semester??t.semester_number??t.semesterNo??t.semesterNumber,a=t.amount??t.feeAmount??t.fee_amount,l=t.subjectCode||t.subject_code||t.subjectName||t.subject_name||"",o=t.subjectName||t.subject_name||l,c=t.courseName||t.course_name||t.courseCode||t.course_code||"",f=r[c]||{},m=t.academicYearName||t.academic_year_name||t.academic_year||"",v=t.academicYearId||t.academic_year_id||s[m]||"",p=t.category_id??t.categoryId??"",b=t.category||t.category_name||n[p]||"",N=t.subject_id||t.subjectId||t.id||"";return{id:N||t.id||gi(),subjectId:N||"",academicYearId:v,academicYearName:m,groupCode:t.groupCode||t.group_code||f.groupCode||"",courseCode:t.courseCode||t.course_code||f.courseCode||c,courseName:f.courseName||c,semester:i==null||i===""?"":Number(i),categoryId:p,category:b,subjectCode:l,subjectName:o,feeCategory:t.feeCategory||t.fee_category||t.fees_category||"",feeAmount:a==null||a===""?"":Number(a)}},yp=[{key:"years",label:"Academic Years",tagline:"Define academic timelines and activation status."},{key:"groups",label:"Groups & Courses",tagline:"Manage programme structures and duration."},{key:"subcats",label:"Sub-categories",tagline:"Organise subjects and fee classifications."},{key:"subjects",label:"Subjects",tagline:"Control curriculum details semester by semester."}],lA=new Set(["Academic","Exam","Library","Bus","Lab"]),Q2=t=>!t||!t.length?t:t.every(r=>{var n;return lA.has(r.name)&&(((n=r.fees)==null?void 0:n.length)||0)<=1})?[]:t,uA=t=>Array.isArray(t)?t.some(r=>Array.isArray(r==null?void 0:r.fees)||Array.isArray(r==null?void 0:r.items))?Q2(t.map(r=>({id:(r==null?void 0:r.id)||gi(),name:((r==null?void 0:r.name)||"").toString(),fees:((r==null?void 0:r.fees)||(r==null?void 0:r.items)||[]).map(n=>({id:(n==null?void 0:n.id)||gi(),name:((n==null?void 0:n.name)||"").toString(),amount:(n==null?void 0:n.amount)===0||n!=null&&n.amount?String(n.amount):""})).filter(n=>n.name.trim())})).filter(r=>r.name.trim()||r.fees.length)):Q2(t.map(r=>{const n=((r==null?void 0:r.name)||"").toString();return n.trim()?{id:(r==null?void 0:r.id)||gi(),name:n,fees:[{id:gi(),name:`${n} Fee`,amount:(r==null?void 0:r.amount)===0||r!=null&&r.amount?String(r.amount):""}]}:null}).filter(Boolean)):[];function cA(){const{tab:t}=q3(),e=["years","groups","subcats","subjects"].includes(t)?t:"years",[r,n]=se.useState({name:"",active:!0}),[s,i]=se.useState([]),[a,l]=se.useState(""),o=se.useMemo(()=>Y2(s),[s]),c=le=>{if(!le)return"";const Oe=s.find(xe=>String(xe.id)===String(le));return(Oe==null?void 0:Oe.name)||""},f=async()=>{var le;if(r.name.trim()){try{if(a){const Oe=await((le=Ae.updateAcademicYear)==null?void 0:le.call(Ae,a,{name:r.name,active:r.active}));Oe&&i(xe=>xe.map(Pe=>Pe.id===a?Oe:Pe)),l("")}else{const Oe=await Ae.addAcademicYear({name:r.name,active:r.active});Oe&&i(xe=>[...xe,Oe])}}catch(Oe){console.error("Failed to save academic year",Oe)}n({name:"",active:!0})}},m=le=>{n({name:le.name,active:le.active}),l(le.id)},v=async le=>{var Oe;i(xe=>xe.filter(Pe=>Pe.id!==le));try{await((Oe=Ae.deleteAcademicYear)==null?void 0:Oe.call(Ae,le))}catch(xe){console.error("Failed to delete academic year",xe)}a===le&&(n({name:"",active:!0}),l(""))},p=()=>{n({name:"",active:!0}),l("")},[b,N]=se.useState([]),[j,w]=se.useState({id:"",code:"",name:"",years:0,semesters:0}),[_,S]=se.useState(""),I=async()=>{var xe;if(!j.code||!j.name)return;const le=j.code.toUpperCase(),Oe={code:le,name:j.name,years:Number(j.years)||0,semesters:Number(j.semesters)||0};if(_){try{const Pe=await((xe=Ae.updateGroup)==null?void 0:xe.call(Ae,_,Oe));Pe&&N(Be=>Be.map(vt=>vt.id===_?Pe:vt))}catch(Pe){console.error("Error updating group:",Pe)}S("")}else{if(b.some(Pe=>Pe.code===le))return;try{const Pe=await Ae.addGroup(Oe);Pe&&N(Be=>[...Be,Pe])}catch(Pe){console.error("Error adding group:",Pe)}}w({id:"",code:"",name:"",years:0,semesters:0})},B=le=>{w(le),S(le.id)},Q=async le=>{var Oe;N(xe=>xe.filter(Pe=>Pe.id!==le));try{await((Oe=Ae.deleteGroup)==null?void 0:Oe.call(Ae,le))}catch(xe){console.error("Error deleting group:",xe)}},[T,M]=se.useState([]),K=se.useMemo(()=>K2(T),[T]),[O,P]=se.useState({id:"",groupCode:"",courseCode:"",courseName:"",semesters:6}),[R,G]=se.useState(""),[V,pe]=se.useState([]);se.useEffect(()=>{const le=T.flatMap(Oe=>{const xe=Oe.courseCode||Oe.code,Pe=Number(Oe.semesters||0);return!xe||!Pe?[]:Array.from({length:Pe},(Be,vt)=>({id:`${xe}-${vt+1}`,courseCode:xe,number:vt+1}))});pe(le)},[T]);const de=async()=>{var ut;const{groupCode:le,courseCode:Oe,courseName:xe,semesters:Pe}=O;if(!le||!Oe||!xe||!Pe)return;const Be=Oe.toUpperCase(),vt={code:Be,name:xe,group_code:le,semesters:Number(Pe)||0};if(R){try{const Ze=await((ut=Ae.updateCourse)==null?void 0:ut.call(Ae,R,vt));Ze&&M(Mr=>Mr.map(wn=>wn.id===R?Ze:wn))}catch(Ze){console.error("Error updating course:",Ze)}G("")}else{if(T.some(Ze=>(Ze.courseCode||Ze.code)===Be))return;try{const Ze=await Ae.addCourse(vt);Ze&&M(Mr=>[...Mr,Ze])}catch(Ze){console.error("Error adding course:",Ze)}}P({id:"",groupCode:"",courseCode:"",courseName:"",semesters:6})},me=le=>{P(le),G(le.id)},W=async le=>{var xe;const Oe=T.find(Pe=>Pe.id===le);if(M(T.filter(Pe=>Pe.id!==le)),Oe){const Pe=Oe.courseCode||Oe.code;pe(V.filter(Be=>Be.courseCode!==Pe))}try{await((xe=Ae.deleteCourse)==null?void 0:xe.call(Ae,le))}catch(Pe){console.error("Error deleting course:",Pe)}},[re,ae]=se.useState([]),[Ne,C]=se.useState({}),z=se.useMemo(()=>oA(Ne),[Ne]),[$,Y]=se.useState(""),[X,oe]=se.useState(""),[fe,he]=se.useState({}),[Le,ke]=se.useState({}),[Fe,Ie]=se.useState({}),[Xe,ve]=se.useState(""),[H,it]=se.useState(!1),We=async(le,Oe)=>{var Be;const xe=Ne[le];if(!xe)return;const Pe=W2(Oe);try{await((Be=Ae.updateSubCategory)==null?void 0:Be.call(Ae,xe,{name:le,subjects:Pe}))}catch(vt){console.error(`Failed to save subjects for ${le}`,vt)}},Ce=(le,Oe)=>{he(xe=>{const Pe=xe[le]||[],Be=typeof Oe=="function"?Oe(Pe):Array.isArray(Oe)?Oe:[],vt={...xe,[le]:Be};return We(le,Be),vt})},Re=le=>{ve(le),it(!1)},ze=()=>{ve(""),it(!1)},De=(le,Oe)=>{ke(Pe=>({...Pe,[le]:Oe}));const xe=Math.max(0,Number(Oe)||0);Ie(Pe=>{const Be=Pe[le]||[],vt=Array.from({length:xe},(ut,Ze)=>Be[Ze]??"");return{...Pe,[le]:vt}})},Ke=(le,Oe,xe)=>{Ie(Pe=>{const Be=[...Pe[le]||[]];return Be[Oe]=xe,{...Pe,[le]:Be}})},at=le=>{Ie(Oe=>({...Oe,[le]:[]})),ke(Oe=>({...Oe,[le]:""}))},ft=le=>{const Oe=(Fe[le]||[]).map(Pe=>Pe.trim()).filter(Boolean);if(!Oe.length)return;const xe=Oe.map(Pe=>({id:gi(),name:Pe}));Ce(le,Pe=>[...Pe,...xe]),at(le)},[ot,_t]=se.useState([]),[Et,et]=se.useState(""),[pt,Me]=se.useState(""),[Fr,St]=se.useState({}),mn=async le=>{var Oe;try{await((Oe=Ae.setFeeTypes)==null?void 0:Oe.call(Ae,le))}catch(xe){console.error("Failed to save fee categories",xe)}};se.useEffect(()=>{(async()=>{var le,Oe,xe,Pe,Be,vt;try{const[ut,Ze,Mr,wn,bn,fs]=await Promise.all([((le=Ae.listAcademicYears)==null?void 0:le.call(Ae))||[],((Oe=Ae.listGroups)==null?void 0:Oe.call(Ae))||[],((xe=Ae.listCourses)==null?void 0:xe.call(Ae))||[],((Pe=Ae.getFeeTypes)==null?void 0:Pe.call(Ae))||[],((Be=Ae.listSubCategories)==null?void 0:Be.call(Ae))||[],((vt=Ae.listSubjects)==null?void 0:vt.call(Ae))||[]]);if(ut.length&&i(ut),Ze.length&&N(Ze),Mr.length&&M(Mr),wn){const an=uA(wn);_t(an)}const Zs={};if(bn.length){const an=[],Fs={},zt={};bn.forEach(Hr=>{an.push(Hr.name),zt[Hr.name]=Hr.id,Fs[Hr.name]=G2(Hr.subjects),Hr.id&&(Zs[Hr.id]=Hr.name)}),ae(an),he(Fs),C(zt)}else ae([]),he({}),C({});const va={courseLookup:K2(Mr),categoryNameById:Zs,yearNameToId:Y2(ut)};fs!=null&&fs.length?Dr(fs.map(an=>J2(an,va))):Dr([])}catch(ut){console.error("Failed to load setup data",ut)}})()},[]);const Ot=async()=>{const le=Et.trim();if(!le||ot.some(Pe=>Pe.name.trim().toLowerCase()===le.toLowerCase()&&Pe.id!==pt))return;let xe=[];pt?xe=ot.map(Pe=>Pe.id===pt?{...Pe,name:le}:Pe):xe=[...ot,{id:gi(),name:le,fees:[]}],_t(xe),await mn(xe),et(""),Me("")},Ut=le=>{et(le.name),Me(le.id)},Kn=async le=>{const Oe=ot.filter(xe=>xe.id!==le);_t(Oe),await mn(Oe),St(xe=>uu(xe,le)),pt===le&&(et(""),Me(""))},Ct=async()=>{var xe,Pe;const le=$.trim();if(!(!le||re.some(Be=>Be.toLowerCase()===le.toLowerCase()&&Be!==X))){if(X){ae(re.map(ut=>ut===X?le:ut)),he(ut=>gp(ut,X,le,[])),ke(ut=>gp(ut,X,le,"")),Ie(ut=>gp(ut,X,le,[])),Dr(ut=>ut.map(Ze=>Ze.category===X?{...Ze,category:le}:Ze)),Xe===X&&ve(le),Nr.category===X&&Sr(ut=>({...ut,category:le}));const Be=Ne[X],vt=fe[X]||[];if(Be){try{await((xe=Ae.updateSubCategory)==null?void 0:xe.call(Ae,Be,{name:le,subjects:W2(vt)}))}catch(ut){console.error("Failed to rename sub-category",ut)}C(ut=>{const Ze={...ut};return delete Ze[X],{...Ze,[le]:Be}})}}else try{const Be=await((Pe=Ae.addSubCategory)==null?void 0:Pe.call(Ae,le)),vt=(Be==null?void 0:Be.name)||le,ut=Be==null?void 0:Be.id;ae(Ze=>[...Ze,vt]),he(Ze=>({...Ze,[vt]:G2((Be==null?void 0:Be.subjects)||[])})),ke(Ze=>({...Ze,[vt]:""})),Ie(Ze=>({...Ze,[vt]:[]})),ut&&C(Ze=>({...Ze,[vt]:ut}))}catch(Be){console.error("Failed to add sub-category",Be);return}Y(""),oe("")}},Js=async le=>{var Pe;const Oe=Ne[le];if(Oe)try{await((Pe=Ae.deleteSubCategory)==null?void 0:Pe.call(Ae,Oe))}catch(Be){console.error("Failed to delete sub-category",Be);return}const xe=re.filter(Be=>Be!==le);xe.length!==re.length&&(ae(xe),he(Be=>uu(Be,le)),ke(Be=>uu(Be,le)),Ie(Be=>uu(Be,le)),C(Be=>uu(Be,le)),Dr(Be=>{const vt=xe[0]||"";return Be.reduce((ut,Ze)=>Ze.category!==le?(ut.push(Ze),ut):(vt&&ut.push({...Ze,category:vt}),ut),[])}),Nr.category===le&&Sr(Be=>({...Be,category:xe[0]||""})),Xe===le&&ze(),X===le&&(Y(""),oe("")))},[Qt,Yn]=se.useState([]),[Ts,Xt]=se.useState(0),[lt,Lt]=se.useState([]),Qs=se.useMemo(()=>({courseLookup:K,categoryNameById:z,yearNameToId:o}),[K,z,o]),[vr,Dr]=se.useState([]),[gn,Ye]=se.useState([]),[Nr,Sr]=se.useState(()=>vp(""));se.useEffect(()=>{Sr(le=>re.length?re.includes(le.category)?le:{...le,category:re[0]}:le.category?{...le,category:""}:le)},[re]);const[Zt,Yt]=se.useState(""),ir=T.filter(le=>{const Oe=le.groupCode||le.group_code;return Nr.groupCode?Oe===Nr.groupCode:!1}),sn=V.filter(le=>le.courseCode===Nr.courseCode),ji=()=>{const{academicYearId:le,groupCode:Oe,courseCode:xe,semester:Pe,category:Be,subjectName:vt,subjectSelections:ut=[],feeCategory:Ze,feeAmount:Mr}=Nr,wn=Array.isArray(ut)?ut:[],bn=wn.length>0,fs=vt?vt.trim():"";if(!le||!Oe||!xe||!Pe||!Be||!bn&&!fs)return;const Zs=bn?wn:[fs],va=c(le),an=Ne[Be]||"",Fs=T.find(Wr=>Wr.courseCode===xe||Wr.code===xe),zt=(Fs==null?void 0:Fs.courseName)||xe,Hr=Zs.map((Wr,ei)=>({id:Zt&&ei===0?Zt:gi(),subjectId:Zt&&ei===0?Zt:"",academicYearId:le,academicYearName:va,groupCode:Oe,courseCode:xe,courseName:zt,semester:Number(Pe),category:Be,categoryId:an,subjectCode:Wr,subjectName:Wr,feeCategory:Ze,feeAmount:Mr?Number(Mr):""}));Zt?(Ye(Wr=>[...Wr.filter(ei=>ei.id!==Zt),...Hr]),Yt("")):Ye(Wr=>[...Wr,...Hr]),Sr(Wr=>({...Wr,subjectName:"",subjectSelections:[],feeCategory:"",feeAmount:""}))},hs=async()=>{var Oe;if(!gn.length)return;const le=gn.map(xe=>{const Pe=xe.academicYearName||c(xe.academicYearId),Be=K[xe.courseCode]||K[xe.courseName]||{},vt=xe.categoryId||Ne[xe.category]||null,ut=xe.subjectCode||xe.subjectName||"",Ze=xe.subjectName||ut,Mr=xe.feeAmount===""||xe.feeAmount===void 0||xe.feeAmount===null?null:Number(xe.feeAmount),wn=Be.courseCode||xe.courseCode||xe.courseName||null,bn={academic_year:Pe||null,course_name:wn,semester_number:xe.semester?Number(xe.semester):null,category_id:vt,subject_code:ut,subject_name:Ze,fees_category:xe.feeCategory||null,amount:Mr};return xe.subjectId&&(bn.subject_id=xe.subjectId),bn});try{const xe=await((Oe=Ae.addSubjects)==null?void 0:Oe.call(Ae,le)),Pe=(Array.isArray(xe)&&xe.length?xe:le).map(Be=>J2(Be,Qs));Dr(Be=>{const vt=new Set(Pe.map(Ze=>Ze.id));return[...Be.filter(Ze=>!vt.has(Ze.id)),...Pe]}),Ye([])}catch(xe){console.error("Failed to save subjects",xe)}},vn=le=>{var Pe;Ye(Be=>Be.filter(vt=>vt.id!==le.id));const xe=(fe[le.category]||[]).some(Be=>Be.name===le.subjectName);Sr({...le,semester:le.semester===void 0||le.semester===null?"":le.semester.toString(),feeCategory:le.feeCategory||"",feeAmount:((Pe=le.feeAmount)==null?void 0:Pe.toString())||"",subjectName:xe?"":le.subjectName,subjectSelections:xe?[le.subjectName]:[]}),Yt(le.subjectId||le.id)},On=async le=>{vn(le)},In=le=>{Ye(Oe=>Oe.filter(xe=>xe.id!==le)),Zt===le&&(Sr(vp(re[0]||"")),Yt(""))},Jn=async le=>{var Oe;Dr(xe=>xe.filter(Pe=>Pe.id!==le));try{await((Oe=Ae.deleteSubject)==null?void 0:Oe.call(Ae,le))}catch(xe){console.error("Failed to delete subject",xe)}},yn=()=>{Yt(""),Sr(vp(re[0]||""))},Rn=yp.find(le=>le.key===e)||yp[0],Xs=[{label:"Academic Years",value:s.length||0,meta:"records"},{label:"Groups",value:b.length||0,meta:"active"},{label:"Courses",value:T.length||0,meta:"listed"},{label:"Subjects",value:vr.length||0,meta:"published"}];return d.jsx(Si,{children:d.jsxs("div",{className:"desktop-container",children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Admin Setup"}),d.jsx("section",{className:"setup-hero mb-4",children:d.jsxs("div",{className:"setup-hero-grid",children:[d.jsxs("div",{className:"setup-hero-copywrap",children:[d.jsx("p",{className:"setup-hero-eyebrow text-uppercase mb-2",children:"Administration  Setup Console"}),d.jsx("h3",{className:"setup-hero-title mb-2",children:Rn.label}),d.jsx("p",{className:"setup-hero-copy mb-3",children:Rn.tagline}),d.jsxs("div",{className:"setup-hero-chips d-flex flex-wrap gap-2",children:[d.jsx("span",{className:"setup-hero-chip",children:"Smart Examination Platform"}),d.jsx("span",{className:"setup-hero-chip",children:"Hall Ticket Management"})]})]}),d.jsx("div",{className:"setup-stat-grid",children:Xs.map(le=>d.jsxs("div",{className:"setup-stat-card",children:[d.jsx("div",{className:"setup-stat-label",children:le.label}),d.jsx("div",{className:"setup-stat-value",children:le.value}),d.jsx("div",{className:"setup-stat-meta",children:le.meta})]},le.label))})]})}),d.jsx("nav",{className:"setup-tab-nav d-flex flex-wrap gap-2 mb-4",children:yp.map(le=>d.jsxs(el,{to:`/admin/setup/${le.key}`,className:`setup-tab-pill ${e===le.key?"active":""}`,children:[d.jsx("div",{className:"setup-pill-label",children:le.label}),d.jsx("div",{className:"setup-pill-meta",children:le.tagline})]},le.key))}),e==="years"&&d.jsx(nA,{yearForm:r,setYearForm:n,academicYears:s,editingYearId:a,addYear:f,editYear:m,deleteYear:v,onCancelEdit:p}),e==="groups"&&d.jsx(sA,{groupForm:j,setGroupForm:w,editingGroupId:_,setEditingGroupId:S,groups:b,saveGroup:I,editGroup:B,deleteGroup:Q,courseForm:O,setCourseForm:P,editingCourseId:R,setEditingCourseId:G,courses:T,saveCourse:de,editCourse:me,deleteCourse:W}),e==="subcats"&&d.jsx(iA,{categories:re,categoryName:$,setCategoryName:Y,editingCategory:X,setEditingCategory:oe,catItems:fe,catCounts:Le,tempCatInputs:Fe,viewCat:Xe,isEditingView:H,openViewCat:Re,closeViewCat:ze,handleSubjectAmountChange:De,handleTempSubjectChange:Ke,clearCategoryInputs:at,commitCategorySubjects:ft,updateCategoryItems:Ce,deleteCategory:Js,saveCategory:Ct,feeCategories:ot,feeCategoryName:Et,setFeeCategoryName:et,editingFeeCategoryId:pt,setEditingFeeCategoryId:Me,saveFeeCategory:Ot,editFeeCategory:Ut,deleteFeeCategory:Kn,setIsEditingView:it}),e==="subjects"&&d.jsx(aA,{subjectForm:Nr,setSubjectForm:Sr,academicYears:s,groups:b,coursesForGroup:ir,semForCourse:sn,feeCategories:ot,categories:re,catItems:fe,pendingSubjects:gn,subjects:vr,editingSubjectId:Zt,saveSubject:ji,submitPendingSubjects:hs,editPendingSubject:vn,deletePendingSubject:In,editSubject:On,deleteSubject:Jn,onCancelSubjectEdit:yn})]})})}function dA(){return d.jsxs(Si,{children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Departments"}),d.jsx("div",{className:"card card-soft p-4",children:d.jsx("div",{className:"text-muted",children:"Departments management coming soon."})})]})}function ss({isAuthed:t,children:e}){return t?e:d.jsx(fm,{to:"/admin/login",replace:!0})}function hA(){const{user:t,signOut:e}=Ph(),r=!!t;return d.jsxs(s4,{children:[d.jsx(Ar,{path:"/",element:d.jsx(kj,{})}),d.jsx(Ar,{path:"/apply",element:d.jsx(Aj,{})}),d.jsx(Ar,{path:"/application",element:d.jsx(E6,{})}),d.jsx(Ar,{path:"/public/results",element:d.jsx(Cj,{})}),d.jsx(Ar,{path:"/public/timetable",element:d.jsx(Ej,{})}),d.jsx(Ar,{path:"/admin/login",element:d.jsx(P6,{})}),d.jsx(Ar,{path:"/admin",element:d.jsx(ss,{isAuthed:r,children:d.jsx(fm,{to:"/admin/setup/years",replace:!0})})}),d.jsx(Ar,{path:"/admin/batches",element:d.jsx(ss,{isAuthed:r,children:d.jsx(I6,{})})}),d.jsx(Ar,{path:"/admin/courses",element:d.jsx(ss,{isAuthed:r,children:d.jsx(R6,{})})}),d.jsx(Ar,{path:"/admin/students",element:d.jsx(ss,{isAuthed:r,children:d.jsx(D6,{})})}),d.jsx(Ar,{path:"/admin/exams",element:d.jsx(ss,{isAuthed:r,children:d.jsx(M6,{})})}),d.jsx(Ar,{path:"/admin/payments",element:d.jsx(ss,{isAuthed:r,children:d.jsx(B6,{})})}),d.jsx(Ar,{path:"/admin/hall-tickets",element:d.jsx(ss,{isAuthed:r,children:d.jsx(tA,{})})}),d.jsx(Ar,{path:"/admin/results",element:d.jsx(ss,{isAuthed:r,children:d.jsx(rA,{})})}),d.jsx(Ar,{path:"/admin/departments",element:d.jsx(ss,{isAuthed:r,children:d.jsx(dA,{})})}),d.jsx(Ar,{path:"/admin/setup",element:d.jsx(ss,{isAuthed:r,children:d.jsx(fm,{to:"/admin/setup/years",replace:!0})})}),d.jsx(Ar,{path:"/admin/setup/:tab",element:d.jsx(ss,{isAuthed:r,children:d.jsx(cA,{})})}),d.jsx(Ar,{path:"/admin/applications",element:d.jsx(ss,{isAuthed:r,children:d.jsx(L6,{})})})]})}document.body.classList.remove("theme-red");document.body.classList.add("theme-blue");wp.createRoot(document.getElementById("root")).render(d.jsx(d4,{children:d.jsx(hA,{})}));export{Tt as _,fA as c,Z2 as g};
