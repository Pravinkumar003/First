function f2(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Uk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function p2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var m2={exports:{}},wh={},g2={exports:{}},Rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jc=Symbol.for("react.element"),iw=Symbol.for("react.portal"),aw=Symbol.for("react.fragment"),ow=Symbol.for("react.strict_mode"),lw=Symbol.for("react.profiler"),cw=Symbol.for("react.provider"),uw=Symbol.for("react.context"),dw=Symbol.for("react.forward_ref"),hw=Symbol.for("react.suspense"),fw=Symbol.for("react.memo"),pw=Symbol.for("react.lazy"),M0=Symbol.iterator;function mw(e){return e===null||typeof e!="object"?null:(e=M0&&e[M0]||e["@@iterator"],typeof e=="function"?e:null)}var v2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y2=Object.assign,b2={};function hl(e,t,r){this.props=e,this.context=t,this.refs=b2,this.updater=r||v2}hl.prototype.isReactComponent={};hl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _2(){}_2.prototype=hl.prototype;function eg(e,t,r){this.props=e,this.context=t,this.refs=b2,this.updater=r||v2}var tg=eg.prototype=new _2;tg.constructor=eg;y2(tg,hl.prototype);tg.isPureReactComponent=!0;var q0=Array.isArray,w2=Object.prototype.hasOwnProperty,rg={current:null},x2={key:!0,ref:!0,__self:!0,__source:!0};function N2(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)w2.call(t,n)&&!x2.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Jc,type:e,key:i,ref:a,props:s,_owner:rg.current}}function gw(e,t){return{$$typeof:Jc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ng(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jc}function vw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var z0=/\/+/g;function Tf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vw(""+e.key):t.toString(36)}function kd(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Jc:case iw:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Tf(a,0):n,q0(s)?(r="",e!=null&&(r=e.replace(z0,"$&/")+"/"),kd(s,t,r,"",function(d){return d})):s!=null&&(ng(s)&&(s=gw(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(z0,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",q0(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Tf(i,o);a+=kd(i,t,r,c,s)}else if(c=mw(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Tf(i,o++),a+=kd(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Gu(e,t,r){if(e==null)return e;var n=[],s=0;return kd(e,n,"","",function(i){return t.call(r,i,s++)}),n}function yw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wn={current:null},Cd={transition:null},bw={ReactCurrentDispatcher:wn,ReactCurrentBatchConfig:Cd,ReactCurrentOwner:rg};function S2(){throw Error("act(...) is not supported in production builds of React.")}Rt.Children={map:Gu,forEach:function(e,t,r){Gu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gu(e,function(){t++}),t},toArray:function(e){return Gu(e,function(t){return t})||[]},only:function(e){if(!ng(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Rt.Component=hl;Rt.Fragment=aw;Rt.Profiler=lw;Rt.PureComponent=eg;Rt.StrictMode=ow;Rt.Suspense=hw;Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bw;Rt.act=S2;Rt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=y2({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=rg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)w2.call(t,c)&&!x2.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Jc,type:e.type,key:s,ref:i,props:n,_owner:a}};Rt.createContext=function(e){return e={$$typeof:uw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cw,_context:e},e.Consumer=e};Rt.createElement=N2;Rt.createFactory=function(e){var t=N2.bind(null,e);return t.type=e,t};Rt.createRef=function(){return{current:null}};Rt.forwardRef=function(e){return{$$typeof:dw,render:e}};Rt.isValidElement=ng;Rt.lazy=function(e){return{$$typeof:pw,_payload:{_status:-1,_result:e},_init:yw}};Rt.memo=function(e,t){return{$$typeof:fw,type:e,compare:t===void 0?null:t}};Rt.startTransition=function(e){var t=Cd.transition;Cd.transition={};try{e()}finally{Cd.transition=t}};Rt.unstable_act=S2;Rt.useCallback=function(e,t){return wn.current.useCallback(e,t)};Rt.useContext=function(e){return wn.current.useContext(e)};Rt.useDebugValue=function(){};Rt.useDeferredValue=function(e){return wn.current.useDeferredValue(e)};Rt.useEffect=function(e,t){return wn.current.useEffect(e,t)};Rt.useId=function(){return wn.current.useId()};Rt.useImperativeHandle=function(e,t,r){return wn.current.useImperativeHandle(e,t,r)};Rt.useInsertionEffect=function(e,t){return wn.current.useInsertionEffect(e,t)};Rt.useLayoutEffect=function(e,t){return wn.current.useLayoutEffect(e,t)};Rt.useMemo=function(e,t){return wn.current.useMemo(e,t)};Rt.useReducer=function(e,t,r){return wn.current.useReducer(e,t,r)};Rt.useRef=function(e){return wn.current.useRef(e)};Rt.useState=function(e){return wn.current.useState(e)};Rt.useSyncExternalStore=function(e,t,r){return wn.current.useSyncExternalStore(e,t,r)};Rt.useTransition=function(){return wn.current.useTransition()};Rt.version="18.3.1";g2.exports=Rt;var Q=g2.exports;const j2=p2(Q),_w=f2({__proto__:null,default:j2},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww=Q,xw=Symbol.for("react.element"),Nw=Symbol.for("react.fragment"),Sw=Object.prototype.hasOwnProperty,jw=ww.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kw={key:!0,ref:!0,__self:!0,__source:!0};function k2(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Sw.call(t,n)&&!kw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:xw,type:e,key:i,ref:a,props:s,_owner:jw.current}}wh.Fragment=Nw;wh.jsx=k2;wh.jsxs=k2;m2.exports=wh;var l=m2.exports,Pp={},C2={exports:{}},Yn={},A2={exports:{}},E2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,X){var ee=D.length;D.push(X);e:for(;0<ee;){var we=ee-1>>>1,j=D[we];if(0<s(j,X))D[we]=X,D[ee]=j,ee=we;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var X=D[0],ee=D.pop();if(ee!==X){D[0]=ee;e:for(var we=0,j=D.length,M=j>>>1;we<M;){var W=2*(we+1)-1,J=D[W],se=W+1,he=D[se];if(0>s(J,ee))se<j&&0>s(he,J)?(D[we]=he,D[se]=ee,we=se):(D[we]=J,D[W]=ee,we=W);else if(se<j&&0>s(he,ee))D[we]=he,D[se]=ee,we=se;else break e}}return X}function s(D,X){var ee=D.sortIndex-X.sortIndex;return ee!==0?ee:D.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],d=[],m=1,g=null,v=3,f=!1,N=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var X=r(d);X!==null;){if(X.callback===null)n(d);else if(X.startTime<=D)n(d),X.sortIndex=X.expirationTime,t(c,X);else break;X=r(d)}}function P(D){if(S=!1,x(D),!N)if(r(c)!==null)N=!0,ce($);else{var X=r(d);X!==null&&me(P,X.startTime-D)}}function $(D,X){N=!1,S&&(S=!1,_(U),U=-1),f=!0;var ee=v;try{for(x(X),g=r(c);g!==null&&(!(g.expirationTime>X)||D&&!I());){var we=g.callback;if(typeof we=="function"){g.callback=null,v=g.priorityLevel;var j=we(g.expirationTime<=X);X=e.unstable_now(),typeof j=="function"?g.callback=j:g===r(c)&&n(c),x(X)}else n(c);g=r(c)}if(g!==null)var M=!0;else{var W=r(d);W!==null&&me(P,W.startTime-X),M=!1}return M}finally{g=null,v=ee,f=!1}}var Z=!1,V=null,U=-1,O=5,ne=-1;function I(){return!(e.unstable_now()-ne<O)}function B(){if(V!==null){var D=e.unstable_now();ne=D;var X=!0;try{X=V(!0,D)}finally{X?K():(Z=!1,V=null)}}else Z=!1}var K;if(typeof b=="function")K=function(){b(B)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,oe=E.port2;E.port1.onmessage=B,K=function(){oe.postMessage(null)}}else K=function(){k(B,0)};function ce(D){V=D,Z||(Z=!0,K())}function me(D,X){U=k(function(){D(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){N||f||(N=!0,ce($))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var ee=v;v=X;try{return D()}finally{v=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,X){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var ee=v;v=D;try{return X()}finally{v=ee}},e.unstable_scheduleCallback=function(D,X,ee){var we=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?we+ee:we):ee=we,D){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ee+j,D={id:m++,callback:X,priorityLevel:D,startTime:ee,expirationTime:j,sortIndex:-1},ee>we?(D.sortIndex=ee,t(d,D),r(c)===null&&D===r(d)&&(S?(_(U),U=-1):S=!0,me(P,ee-we))):(D.sortIndex=j,t(c,D),N||f||(N=!0,ce($))),D},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(D){var X=v;return function(){var ee=v;v=X;try{return D.apply(this,arguments)}finally{v=ee}}}})(E2);A2.exports=E2;var Cw=A2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw=Q,Hn=Cw;function Ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P2=new Set,jc={};function Ya(e,t){nl(e,t),nl(e+"Capture",t)}function nl(e,t){for(jc[e]=t,e=0;e<t.length;e++)P2.add(t[e])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lp=Object.prototype.hasOwnProperty,Ew=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$0={},V0={};function Pw(e){return Lp.call(V0,e)?!0:Lp.call($0,e)?!1:Ew.test(e)?V0[e]=!0:($0[e]=!0,!1)}function Lw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tw(e,t,r,n){if(t===null||typeof t>"u"||Lw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xn(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zr[e]=new xn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Zr[t]=new xn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zr[e]=new xn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zr[e]=new xn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zr[e]=new xn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zr[e]=new xn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zr[e]=new xn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zr[e]=new xn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zr[e]=new xn(e,5,!1,e.toLowerCase(),null,!1,!1)});var sg=/[\-:]([a-z])/g;function ig(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sg,ig);Zr[t]=new xn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sg,ig);Zr[t]=new xn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sg,ig);Zr[t]=new xn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zr[e]=new xn(e,1,!1,e.toLowerCase(),null,!1,!1)});Zr.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zr[e]=new xn(e,1,!1,e.toLowerCase(),null,!0,!0)});function ag(e,t,r,n){var s=Zr.hasOwnProperty(t)?Zr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tw(t,r,s,n)&&(r=null),n||s===null?Pw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var vi=Aw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wu=Symbol.for("react.element"),Io=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),og=Symbol.for("react.strict_mode"),Tp=Symbol.for("react.profiler"),L2=Symbol.for("react.provider"),T2=Symbol.for("react.context"),lg=Symbol.for("react.forward_ref"),Ip=Symbol.for("react.suspense"),Op=Symbol.for("react.suspense_list"),cg=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),I2=Symbol.for("react.offscreen"),G0=Symbol.iterator;function Xl(e){return e===null||typeof e!="object"?null:(e=G0&&e[G0]||e["@@iterator"],typeof e=="function"?e:null)}var cr=Object.assign,If;function lc(e){if(If===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);If=t&&t[1]||""}return`
`+If+e}var Of=!1;function Rf(e,t){if(!e||Of)return"";Of=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{Of=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?lc(e):""}function Iw(e){switch(e.tag){case 5:return lc(e.type);case 16:return lc("Lazy");case 13:return lc("Suspense");case 19:return lc("SuspenseList");case 0:case 2:case 15:return e=Rf(e.type,!1),e;case 11:return e=Rf(e.type.render,!1),e;case 1:return e=Rf(e.type,!0),e;default:return""}}function Rp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oo:return"Fragment";case Io:return"Portal";case Tp:return"Profiler";case og:return"StrictMode";case Ip:return"Suspense";case Op:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case T2:return(e.displayName||"Context")+".Consumer";case L2:return(e._context.displayName||"Context")+".Provider";case lg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cg:return t=e.displayName||null,t!==null?t:Rp(e.type)||"Memo";case Mi:t=e._payload,e=e._init;try{return Rp(e(t))}catch{}}return null}function Ow(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rp(t);case 8:return t===og?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function aa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function O2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rw(e){var t=O2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hu(e){e._valueTracker||(e._valueTracker=Rw(e))}function R2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=O2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function $d(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dp(e,t){var r=t.checked;return cr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function W0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=aa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function D2(e,t){t=t.checked,t!=null&&ag(e,"checked",t,!1)}function Fp(e,t){D2(e,t);var r=aa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bp(e,t.type,aa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function H0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bp(e,t,r){(t!=="number"||$d(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var cc=Array.isArray;function Wo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+aa(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Up(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return cr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Y0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ie(92));if(cc(r)){if(1<r.length)throw Error(Ie(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:aa(r)}}function F2(e,t){var r=aa(t.value),n=aa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function K0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function B2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?B2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yu,U2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yu=Yu||document.createElement("div"),Yu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dw=["Webkit","ms","Moz","O"];Object.keys(fc).forEach(function(e){Dw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fc[t]=fc[e]})});function M2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fc.hasOwnProperty(e)&&fc[e]?(""+t).trim():t+"px"}function q2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=M2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Fw=cr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qp(e,t){if(t){if(Fw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ie(62))}}function zp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $p=null;function ug(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vp=null,Ho=null,Yo=null;function J0(e){if(e=Zc(e)){if(typeof Vp!="function")throw Error(Ie(280));var t=e.stateNode;t&&(t=kh(t),Vp(e.stateNode,e.type,t))}}function z2(e){Ho?Yo?Yo.push(e):Yo=[e]:Ho=e}function $2(){if(Ho){var e=Ho,t=Yo;if(Yo=Ho=null,J0(e),t)for(e=0;e<t.length;e++)J0(t[e])}}function V2(e,t){return e(t)}function G2(){}var Df=!1;function W2(e,t,r){if(Df)return e(t,r);Df=!0;try{return V2(e,t,r)}finally{Df=!1,(Ho!==null||Yo!==null)&&(G2(),$2())}}function Cc(e,t){var r=e.stateNode;if(r===null)return null;var n=kh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ie(231,t,typeof r));return r}var Gp=!1;if(fi)try{var Zl={};Object.defineProperty(Zl,"passive",{get:function(){Gp=!0}}),window.addEventListener("test",Zl,Zl),window.removeEventListener("test",Zl,Zl)}catch{Gp=!1}function Bw(e,t,r,n,s,i,a,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(m){this.onError(m)}}var pc=!1,Vd=null,Gd=!1,Wp=null,Uw={onError:function(e){pc=!0,Vd=e}};function Mw(e,t,r,n,s,i,a,o,c){pc=!1,Vd=null,Bw.apply(Uw,arguments)}function qw(e,t,r,n,s,i,a,o,c){if(Mw.apply(this,arguments),pc){if(pc){var d=Vd;pc=!1,Vd=null}else throw Error(Ie(198));Gd||(Gd=!0,Wp=d)}}function Ka(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function H2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Q0(e){if(Ka(e)!==e)throw Error(Ie(188))}function zw(e){var t=e.alternate;if(!t){if(t=Ka(e),t===null)throw Error(Ie(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Q0(s),e;if(i===n)return Q0(s),t;i=i.sibling}throw Error(Ie(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(Ie(189))}}if(r.alternate!==n)throw Error(Ie(190))}if(r.tag!==3)throw Error(Ie(188));return r.stateNode.current===r?e:t}function Y2(e){return e=zw(e),e!==null?K2(e):null}function K2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=K2(e);if(t!==null)return t;e=e.sibling}return null}var J2=Hn.unstable_scheduleCallback,X0=Hn.unstable_cancelCallback,$w=Hn.unstable_shouldYield,Vw=Hn.unstable_requestPaint,wr=Hn.unstable_now,Gw=Hn.unstable_getCurrentPriorityLevel,dg=Hn.unstable_ImmediatePriority,Q2=Hn.unstable_UserBlockingPriority,Wd=Hn.unstable_NormalPriority,Ww=Hn.unstable_LowPriority,X2=Hn.unstable_IdlePriority,xh=null,Gs=null;function Hw(e){if(Gs&&typeof Gs.onCommitFiberRoot=="function")try{Gs.onCommitFiberRoot(xh,e,void 0,(e.current.flags&128)===128)}catch{}}var As=Math.clz32?Math.clz32:Jw,Yw=Math.log,Kw=Math.LN2;function Jw(e){return e>>>=0,e===0?32:31-(Yw(e)/Kw|0)|0}var Ku=64,Ju=4194304;function uc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=uc(o):(i&=a,i!==0&&(n=uc(i)))}else a=r&~s,a!==0?n=uc(a):i!==0&&(n=uc(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-As(t),s=1<<r,n|=e[r],t&=~s;return n}function Qw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xw(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-As(i),o=1<<a,c=s[a];c===-1?(!(o&r)||o&n)&&(s[a]=Qw(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Hp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Z2(){var e=Ku;return Ku<<=1,!(Ku&4194240)&&(Ku=64),e}function Ff(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Qc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-As(t),e[t]=r}function Zw(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-As(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function hg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-As(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Wt=0;function ey(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ty,fg,ry,ny,sy,Yp=!1,Qu=[],Ji=null,Qi=null,Xi=null,Ac=new Map,Ec=new Map,zi=[],ex="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Z0(e,t){switch(e){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":Ac.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(t.pointerId)}}function ec(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Zc(t),t!==null&&fg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function tx(e,t,r,n,s){switch(t){case"focusin":return Ji=ec(Ji,e,t,r,n,s),!0;case"dragenter":return Qi=ec(Qi,e,t,r,n,s),!0;case"mouseover":return Xi=ec(Xi,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ac.set(i,ec(Ac.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ec.set(i,ec(Ec.get(i)||null,e,t,r,n,s)),!0}return!1}function iy(e){var t=Da(e.target);if(t!==null){var r=Ka(t);if(r!==null){if(t=r.tag,t===13){if(t=H2(r),t!==null){e.blockedOn=t,sy(e.priority,function(){ry(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ad(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);$p=n,r.target.dispatchEvent(n),$p=null}else return t=Zc(r),t!==null&&fg(t),e.blockedOn=r,!1;t.shift()}return!0}function e1(e,t,r){Ad(e)&&r.delete(t)}function rx(){Yp=!1,Ji!==null&&Ad(Ji)&&(Ji=null),Qi!==null&&Ad(Qi)&&(Qi=null),Xi!==null&&Ad(Xi)&&(Xi=null),Ac.forEach(e1),Ec.forEach(e1)}function tc(e,t){e.blockedOn===t&&(e.blockedOn=null,Yp||(Yp=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,rx)))}function Pc(e){function t(s){return tc(s,e)}if(0<Qu.length){tc(Qu[0],e);for(var r=1;r<Qu.length;r++){var n=Qu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ji!==null&&tc(Ji,e),Qi!==null&&tc(Qi,e),Xi!==null&&tc(Xi,e),Ac.forEach(t),Ec.forEach(t),r=0;r<zi.length;r++)n=zi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<zi.length&&(r=zi[0],r.blockedOn===null);)iy(r),r.blockedOn===null&&zi.shift()}var Ko=vi.ReactCurrentBatchConfig,Yd=!0;function nx(e,t,r,n){var s=Wt,i=Ko.transition;Ko.transition=null;try{Wt=1,pg(e,t,r,n)}finally{Wt=s,Ko.transition=i}}function sx(e,t,r,n){var s=Wt,i=Ko.transition;Ko.transition=null;try{Wt=4,pg(e,t,r,n)}finally{Wt=s,Ko.transition=i}}function pg(e,t,r,n){if(Yd){var s=Kp(e,t,r,n);if(s===null)Hf(e,t,n,Kd,r),Z0(e,n);else if(tx(s,e,t,r,n))n.stopPropagation();else if(Z0(e,n),t&4&&-1<ex.indexOf(e)){for(;s!==null;){var i=Zc(s);if(i!==null&&ty(i),i=Kp(e,t,r,n),i===null&&Hf(e,t,n,Kd,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Hf(e,t,n,null,r)}}var Kd=null;function Kp(e,t,r,n){if(Kd=null,e=ug(n),e=Da(e),e!==null)if(t=Ka(e),t===null)e=null;else if(r=t.tag,r===13){if(e=H2(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kd=e,null}function ay(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gw()){case dg:return 1;case Q2:return 4;case Wd:case Ww:return 16;case X2:return 536870912;default:return 16}default:return 16}}var Gi=null,mg=null,Ed=null;function oy(){if(Ed)return Ed;var e,t=mg,r=t.length,n,s="value"in Gi?Gi.value:Gi.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Ed=s.slice(e,1<n?1-n:void 0)}function Pd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xu(){return!0}function t1(){return!1}function Kn(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xu:t1,this.isPropagationStopped=t1,this}return cr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xu)},persist:function(){},isPersistent:Xu}),t}var fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gg=Kn(fl),Xc=cr({},fl,{view:0,detail:0}),ix=Kn(Xc),Bf,Uf,rc,Nh=cr({},Xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rc&&(rc&&e.type==="mousemove"?(Bf=e.screenX-rc.screenX,Uf=e.screenY-rc.screenY):Uf=Bf=0,rc=e),Bf)},movementY:function(e){return"movementY"in e?e.movementY:Uf}}),r1=Kn(Nh),ax=cr({},Nh,{dataTransfer:0}),ox=Kn(ax),lx=cr({},Xc,{relatedTarget:0}),Mf=Kn(lx),cx=cr({},fl,{animationName:0,elapsedTime:0,pseudoElement:0}),ux=Kn(cx),dx=cr({},fl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hx=Kn(dx),fx=cr({},fl,{data:0}),n1=Kn(fx),px={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gx[e])?!!t[e]:!1}function vg(){return vx}var yx=cr({},Xc,{key:function(e){if(e.key){var t=px[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vg,charCode:function(e){return e.type==="keypress"?Pd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bx=Kn(yx),_x=cr({},Nh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s1=Kn(_x),wx=cr({},Xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vg}),xx=Kn(wx),Nx=cr({},fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sx=Kn(Nx),jx=cr({},Nh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kx=Kn(jx),Cx=[9,13,27,32],yg=fi&&"CompositionEvent"in window,mc=null;fi&&"documentMode"in document&&(mc=document.documentMode);var Ax=fi&&"TextEvent"in window&&!mc,ly=fi&&(!yg||mc&&8<mc&&11>=mc),i1=" ",a1=!1;function cy(e,t){switch(e){case"keyup":return Cx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ro=!1;function Ex(e,t){switch(e){case"compositionend":return uy(t);case"keypress":return t.which!==32?null:(a1=!0,i1);case"textInput":return e=t.data,e===i1&&a1?null:e;default:return null}}function Px(e,t){if(Ro)return e==="compositionend"||!yg&&cy(e,t)?(e=oy(),Ed=mg=Gi=null,Ro=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ly&&t.locale!=="ko"?null:t.data;default:return null}}var Lx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lx[e.type]:t==="textarea"}function dy(e,t,r,n){z2(n),t=Jd(t,"onChange"),0<t.length&&(r=new gg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var gc=null,Lc=null;function Tx(e){xy(e,0)}function Sh(e){var t=Bo(e);if(R2(t))return e}function Ix(e,t){if(e==="change")return t}var hy=!1;if(fi){var qf;if(fi){var zf="oninput"in document;if(!zf){var l1=document.createElement("div");l1.setAttribute("oninput","return;"),zf=typeof l1.oninput=="function"}qf=zf}else qf=!1;hy=qf&&(!document.documentMode||9<document.documentMode)}function c1(){gc&&(gc.detachEvent("onpropertychange",fy),Lc=gc=null)}function fy(e){if(e.propertyName==="value"&&Sh(Lc)){var t=[];dy(t,Lc,e,ug(e)),W2(Tx,t)}}function Ox(e,t,r){e==="focusin"?(c1(),gc=t,Lc=r,gc.attachEvent("onpropertychange",fy)):e==="focusout"&&c1()}function Rx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sh(Lc)}function Dx(e,t){if(e==="click")return Sh(t)}function Fx(e,t){if(e==="input"||e==="change")return Sh(t)}function Bx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ps=typeof Object.is=="function"?Object.is:Bx;function Tc(e,t){if(Ps(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Lp.call(t,s)||!Ps(e[s],t[s]))return!1}return!0}function u1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function d1(e,t){var r=u1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=u1(r)}}function py(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?py(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function my(){for(var e=window,t=$d();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$d(e.document)}return t}function bg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ux(e){var t=my(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&py(r.ownerDocument.documentElement,r)){if(n!==null&&bg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=d1(r,i);var a=d1(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mx=fi&&"documentMode"in document&&11>=document.documentMode,Do=null,Jp=null,vc=null,Qp=!1;function h1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qp||Do==null||Do!==$d(n)||(n=Do,"selectionStart"in n&&bg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vc&&Tc(vc,n)||(vc=n,n=Jd(Jp,"onSelect"),0<n.length&&(t=new gg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Do)))}function Zu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fo={animationend:Zu("Animation","AnimationEnd"),animationiteration:Zu("Animation","AnimationIteration"),animationstart:Zu("Animation","AnimationStart"),transitionend:Zu("Transition","TransitionEnd")},$f={},gy={};fi&&(gy=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function jh(e){if($f[e])return $f[e];if(!Fo[e])return e;var t=Fo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in gy)return $f[e]=t[r];return e}var vy=jh("animationend"),yy=jh("animationiteration"),by=jh("animationstart"),_y=jh("transitionend"),wy=new Map,f1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ua(e,t){wy.set(e,t),Ya(t,[e])}for(var Vf=0;Vf<f1.length;Vf++){var Gf=f1[Vf],qx=Gf.toLowerCase(),zx=Gf[0].toUpperCase()+Gf.slice(1);ua(qx,"on"+zx)}ua(vy,"onAnimationEnd");ua(yy,"onAnimationIteration");ua(by,"onAnimationStart");ua("dblclick","onDoubleClick");ua("focusin","onFocus");ua("focusout","onBlur");ua(_y,"onTransitionEnd");nl("onMouseEnter",["mouseout","mouseover"]);nl("onMouseLeave",["mouseout","mouseover"]);nl("onPointerEnter",["pointerout","pointerover"]);nl("onPointerLeave",["pointerout","pointerover"]);Ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$x=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function p1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,qw(n,t,void 0,e),e.currentTarget=null}function xy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;p1(s,o,d),i=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;p1(s,o,d),i=c}}}if(Gd)throw e=Wp,Gd=!1,Wp=null,e}function tr(e,t){var r=t[rm];r===void 0&&(r=t[rm]=new Set);var n=e+"__bubble";r.has(n)||(Ny(t,e,2,!1),r.add(n))}function Wf(e,t,r){var n=0;t&&(n|=4),Ny(r,e,n,t)}var ed="_reactListening"+Math.random().toString(36).slice(2);function Ic(e){if(!e[ed]){e[ed]=!0,P2.forEach(function(r){r!=="selectionchange"&&($x.has(r)||Wf(r,!1,e),Wf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ed]||(t[ed]=!0,Wf("selectionchange",!1,t))}}function Ny(e,t,r,n){switch(ay(t)){case 1:var s=nx;break;case 4:s=sx;break;default:s=pg}r=s.bind(null,t,r,e),s=void 0,!Gp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Hf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Da(o),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}o=o.parentNode}}n=n.return}W2(function(){var d=i,m=ug(r),g=[];e:{var v=wy.get(e);if(v!==void 0){var f=gg,N=e;switch(e){case"keypress":if(Pd(r)===0)break e;case"keydown":case"keyup":f=bx;break;case"focusin":N="focus",f=Mf;break;case"focusout":N="blur",f=Mf;break;case"beforeblur":case"afterblur":f=Mf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=r1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ox;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=xx;break;case vy:case yy:case by:f=ux;break;case _y:f=Sx;break;case"scroll":f=ix;break;case"wheel":f=kx;break;case"copy":case"cut":case"paste":f=hx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=s1}var S=(t&4)!==0,k=!S&&e==="scroll",_=S?v!==null?v+"Capture":null:v;S=[];for(var b=d,x;b!==null;){x=b;var P=x.stateNode;if(x.tag===5&&P!==null&&(x=P,_!==null&&(P=Cc(b,_),P!=null&&S.push(Oc(b,P,x)))),k)break;b=b.return}0<S.length&&(v=new f(v,N,null,r,m),g.push({event:v,listeners:S}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",v&&r!==$p&&(N=r.relatedTarget||r.fromElement)&&(Da(N)||N[pi]))break e;if((f||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,f?(N=r.relatedTarget||r.toElement,f=d,N=N?Da(N):null,N!==null&&(k=Ka(N),N!==k||N.tag!==5&&N.tag!==6)&&(N=null)):(f=null,N=d),f!==N)){if(S=r1,P="onMouseLeave",_="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(S=s1,P="onPointerLeave",_="onPointerEnter",b="pointer"),k=f==null?v:Bo(f),x=N==null?v:Bo(N),v=new S(P,b+"leave",f,r,m),v.target=k,v.relatedTarget=x,P=null,Da(m)===d&&(S=new S(_,b+"enter",N,r,m),S.target=x,S.relatedTarget=k,P=S),k=P,f&&N)t:{for(S=f,_=N,b=0,x=S;x;x=wo(x))b++;for(x=0,P=_;P;P=wo(P))x++;for(;0<b-x;)S=wo(S),b--;for(;0<x-b;)_=wo(_),x--;for(;b--;){if(S===_||_!==null&&S===_.alternate)break t;S=wo(S),_=wo(_)}S=null}else S=null;f!==null&&m1(g,v,f,S,!1),N!==null&&k!==null&&m1(g,k,N,S,!0)}}e:{if(v=d?Bo(d):window,f=v.nodeName&&v.nodeName.toLowerCase(),f==="select"||f==="input"&&v.type==="file")var $=Ix;else if(o1(v))if(hy)$=Fx;else{$=Rx;var Z=Ox}else(f=v.nodeName)&&f.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&($=Dx);if($&&($=$(e,d))){dy(g,$,r,m);break e}Z&&Z(e,v,d),e==="focusout"&&(Z=v._wrapperState)&&Z.controlled&&v.type==="number"&&Bp(v,"number",v.value)}switch(Z=d?Bo(d):window,e){case"focusin":(o1(Z)||Z.contentEditable==="true")&&(Do=Z,Jp=d,vc=null);break;case"focusout":vc=Jp=Do=null;break;case"mousedown":Qp=!0;break;case"contextmenu":case"mouseup":case"dragend":Qp=!1,h1(g,r,m);break;case"selectionchange":if(Mx)break;case"keydown":case"keyup":h1(g,r,m)}var V;if(yg)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Ro?cy(e,r)&&(U="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(U="onCompositionStart");U&&(ly&&r.locale!=="ko"&&(Ro||U!=="onCompositionStart"?U==="onCompositionEnd"&&Ro&&(V=oy()):(Gi=m,mg="value"in Gi?Gi.value:Gi.textContent,Ro=!0)),Z=Jd(d,U),0<Z.length&&(U=new n1(U,e,null,r,m),g.push({event:U,listeners:Z}),V?U.data=V:(V=uy(r),V!==null&&(U.data=V)))),(V=Ax?Ex(e,r):Px(e,r))&&(d=Jd(d,"onBeforeInput"),0<d.length&&(m=new n1("onBeforeInput","beforeinput",null,r,m),g.push({event:m,listeners:d}),m.data=V))}xy(g,t)})}function Oc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Jd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Cc(e,r),i!=null&&n.unshift(Oc(e,i,s)),i=Cc(e,t),i!=null&&n.push(Oc(e,i,s))),e=e.return}return n}function wo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function m1(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,s?(c=Cc(r,i),c!=null&&a.unshift(Oc(r,c,o))):s||(c=Cc(r,i),c!=null&&a.push(Oc(r,c,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Vx=/\r\n?/g,Gx=/\u0000|\uFFFD/g;function g1(e){return(typeof e=="string"?e:""+e).replace(Vx,`
`).replace(Gx,"")}function td(e,t,r){if(t=g1(t),g1(e)!==t&&r)throw Error(Ie(425))}function Qd(){}var Xp=null,Zp=null;function em(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tm=typeof setTimeout=="function"?setTimeout:void 0,Wx=typeof clearTimeout=="function"?clearTimeout:void 0,v1=typeof Promise=="function"?Promise:void 0,Hx=typeof queueMicrotask=="function"?queueMicrotask:typeof v1<"u"?function(e){return v1.resolve(null).then(e).catch(Yx)}:tm;function Yx(e){setTimeout(function(){throw e})}function Yf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Pc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Pc(t)}function Zi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function y1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var pl=Math.random().toString(36).slice(2),$s="__reactFiber$"+pl,Rc="__reactProps$"+pl,pi="__reactContainer$"+pl,rm="__reactEvents$"+pl,Kx="__reactListeners$"+pl,Jx="__reactHandles$"+pl;function Da(e){var t=e[$s];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pi]||r[$s]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=y1(e);e!==null;){if(r=e[$s])return r;e=y1(e)}return t}e=r,r=e.parentNode}return null}function Zc(e){return e=e[$s]||e[pi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ie(33))}function kh(e){return e[Rc]||null}var nm=[],Uo=-1;function da(e){return{current:e}}function nr(e){0>Uo||(e.current=nm[Uo],nm[Uo]=null,Uo--)}function er(e,t){Uo++,nm[Uo]=e.current,e.current=t}var oa={},hn=da(oa),Pn=da(!1),$a=oa;function sl(e,t){var r=e.type.contextTypes;if(!r)return oa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ln(e){return e=e.childContextTypes,e!=null}function Xd(){nr(Pn),nr(hn)}function b1(e,t,r){if(hn.current!==oa)throw Error(Ie(168));er(hn,t),er(Pn,r)}function Sy(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Ie(108,Ow(e)||"Unknown",s));return cr({},r,n)}function Zd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oa,$a=hn.current,er(hn,e),er(Pn,Pn.current),!0}function _1(e,t,r){var n=e.stateNode;if(!n)throw Error(Ie(169));r?(e=Sy(e,t,$a),n.__reactInternalMemoizedMergedChildContext=e,nr(Pn),nr(hn),er(hn,e)):nr(Pn),er(Pn,r)}var li=null,Ch=!1,Kf=!1;function jy(e){li===null?li=[e]:li.push(e)}function Qx(e){Ch=!0,jy(e)}function ha(){if(!Kf&&li!==null){Kf=!0;var e=0,t=Wt;try{var r=li;for(Wt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}li=null,Ch=!1}catch(s){throw li!==null&&(li=li.slice(e+1)),J2(dg,ha),s}finally{Wt=t,Kf=!1}}return null}var Mo=[],qo=0,eh=null,th=0,as=[],os=0,Va=null,ci=1,ui="";function Aa(e,t){Mo[qo++]=th,Mo[qo++]=eh,eh=e,th=t}function ky(e,t,r){as[os++]=ci,as[os++]=ui,as[os++]=Va,Va=e;var n=ci;e=ui;var s=32-As(n)-1;n&=~(1<<s),r+=1;var i=32-As(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,ci=1<<32-As(t)+s|r<<s|n,ui=i+e}else ci=1<<i|r<<s|n,ui=e}function _g(e){e.return!==null&&(Aa(e,1),ky(e,1,0))}function wg(e){for(;e===eh;)eh=Mo[--qo],Mo[qo]=null,th=Mo[--qo],Mo[qo]=null;for(;e===Va;)Va=as[--os],as[os]=null,ui=as[--os],as[os]=null,ci=as[--os],as[os]=null}var Wn=null,Vn=null,sr=!1,Cs=null;function Cy(e,t){var r=ls(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function w1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wn=e,Vn=Zi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wn=e,Vn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Va!==null?{id:ci,overflow:ui}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ls(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Wn=e,Vn=null,!0):!1;default:return!1}}function sm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function im(e){if(sr){var t=Vn;if(t){var r=t;if(!w1(e,t)){if(sm(e))throw Error(Ie(418));t=Zi(r.nextSibling);var n=Wn;t&&w1(e,t)?Cy(n,r):(e.flags=e.flags&-4097|2,sr=!1,Wn=e)}}else{if(sm(e))throw Error(Ie(418));e.flags=e.flags&-4097|2,sr=!1,Wn=e}}}function x1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wn=e}function rd(e){if(e!==Wn)return!1;if(!sr)return x1(e),sr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!em(e.type,e.memoizedProps)),t&&(t=Vn)){if(sm(e))throw Ay(),Error(Ie(418));for(;t;)Cy(e,t),t=Zi(t.nextSibling)}if(x1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Vn=Zi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Vn=null}}else Vn=Wn?Zi(e.stateNode.nextSibling):null;return!0}function Ay(){for(var e=Vn;e;)e=Zi(e.nextSibling)}function il(){Vn=Wn=null,sr=!1}function xg(e){Cs===null?Cs=[e]:Cs.push(e)}var Xx=vi.ReactCurrentBatchConfig;function nc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ie(309));var n=r.stateNode}if(!n)throw Error(Ie(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ie(284));if(!r._owner)throw Error(Ie(290,e))}return e}function nd(e,t){throw e=Object.prototype.toString.call(t),Error(Ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function N1(e){var t=e._init;return t(e._payload)}function Ey(e){function t(_,b){if(e){var x=_.deletions;x===null?(_.deletions=[b],_.flags|=16):x.push(b)}}function r(_,b){if(!e)return null;for(;b!==null;)t(_,b),b=b.sibling;return null}function n(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function s(_,b){return _=na(_,b),_.index=0,_.sibling=null,_}function i(_,b,x){return _.index=x,e?(x=_.alternate,x!==null?(x=x.index,x<b?(_.flags|=2,b):x):(_.flags|=2,b)):(_.flags|=1048576,b)}function a(_){return e&&_.alternate===null&&(_.flags|=2),_}function o(_,b,x,P){return b===null||b.tag!==6?(b=rp(x,_.mode,P),b.return=_,b):(b=s(b,x),b.return=_,b)}function c(_,b,x,P){var $=x.type;return $===Oo?m(_,b,x.props.children,P,x.key):b!==null&&(b.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Mi&&N1($)===b.type)?(P=s(b,x.props),P.ref=nc(_,b,x),P.return=_,P):(P=Fd(x.type,x.key,x.props,null,_.mode,P),P.ref=nc(_,b,x),P.return=_,P)}function d(_,b,x,P){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=np(x,_.mode,P),b.return=_,b):(b=s(b,x.children||[]),b.return=_,b)}function m(_,b,x,P,$){return b===null||b.tag!==7?(b=qa(x,_.mode,P,$),b.return=_,b):(b=s(b,x),b.return=_,b)}function g(_,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=rp(""+b,_.mode,x),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wu:return x=Fd(b.type,b.key,b.props,null,_.mode,x),x.ref=nc(_,null,b),x.return=_,x;case Io:return b=np(b,_.mode,x),b.return=_,b;case Mi:var P=b._init;return g(_,P(b._payload),x)}if(cc(b)||Xl(b))return b=qa(b,_.mode,x,null),b.return=_,b;nd(_,b)}return null}function v(_,b,x,P){var $=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return $!==null?null:o(_,b,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wu:return x.key===$?c(_,b,x,P):null;case Io:return x.key===$?d(_,b,x,P):null;case Mi:return $=x._init,v(_,b,$(x._payload),P)}if(cc(x)||Xl(x))return $!==null?null:m(_,b,x,P,null);nd(_,x)}return null}function f(_,b,x,P,$){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(x)||null,o(b,_,""+P,$);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Wu:return _=_.get(P.key===null?x:P.key)||null,c(b,_,P,$);case Io:return _=_.get(P.key===null?x:P.key)||null,d(b,_,P,$);case Mi:var Z=P._init;return f(_,b,x,Z(P._payload),$)}if(cc(P)||Xl(P))return _=_.get(x)||null,m(b,_,P,$,null);nd(b,P)}return null}function N(_,b,x,P){for(var $=null,Z=null,V=b,U=b=0,O=null;V!==null&&U<x.length;U++){V.index>U?(O=V,V=null):O=V.sibling;var ne=v(_,V,x[U],P);if(ne===null){V===null&&(V=O);break}e&&V&&ne.alternate===null&&t(_,V),b=i(ne,b,U),Z===null?$=ne:Z.sibling=ne,Z=ne,V=O}if(U===x.length)return r(_,V),sr&&Aa(_,U),$;if(V===null){for(;U<x.length;U++)V=g(_,x[U],P),V!==null&&(b=i(V,b,U),Z===null?$=V:Z.sibling=V,Z=V);return sr&&Aa(_,U),$}for(V=n(_,V);U<x.length;U++)O=f(V,_,U,x[U],P),O!==null&&(e&&O.alternate!==null&&V.delete(O.key===null?U:O.key),b=i(O,b,U),Z===null?$=O:Z.sibling=O,Z=O);return e&&V.forEach(function(I){return t(_,I)}),sr&&Aa(_,U),$}function S(_,b,x,P){var $=Xl(x);if(typeof $!="function")throw Error(Ie(150));if(x=$.call(x),x==null)throw Error(Ie(151));for(var Z=$=null,V=b,U=b=0,O=null,ne=x.next();V!==null&&!ne.done;U++,ne=x.next()){V.index>U?(O=V,V=null):O=V.sibling;var I=v(_,V,ne.value,P);if(I===null){V===null&&(V=O);break}e&&V&&I.alternate===null&&t(_,V),b=i(I,b,U),Z===null?$=I:Z.sibling=I,Z=I,V=O}if(ne.done)return r(_,V),sr&&Aa(_,U),$;if(V===null){for(;!ne.done;U++,ne=x.next())ne=g(_,ne.value,P),ne!==null&&(b=i(ne,b,U),Z===null?$=ne:Z.sibling=ne,Z=ne);return sr&&Aa(_,U),$}for(V=n(_,V);!ne.done;U++,ne=x.next())ne=f(V,_,U,ne.value,P),ne!==null&&(e&&ne.alternate!==null&&V.delete(ne.key===null?U:ne.key),b=i(ne,b,U),Z===null?$=ne:Z.sibling=ne,Z=ne);return e&&V.forEach(function(B){return t(_,B)}),sr&&Aa(_,U),$}function k(_,b,x,P){if(typeof x=="object"&&x!==null&&x.type===Oo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Wu:e:{for(var $=x.key,Z=b;Z!==null;){if(Z.key===$){if($=x.type,$===Oo){if(Z.tag===7){r(_,Z.sibling),b=s(Z,x.props.children),b.return=_,_=b;break e}}else if(Z.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Mi&&N1($)===Z.type){r(_,Z.sibling),b=s(Z,x.props),b.ref=nc(_,Z,x),b.return=_,_=b;break e}r(_,Z);break}else t(_,Z);Z=Z.sibling}x.type===Oo?(b=qa(x.props.children,_.mode,P,x.key),b.return=_,_=b):(P=Fd(x.type,x.key,x.props,null,_.mode,P),P.ref=nc(_,b,x),P.return=_,_=P)}return a(_);case Io:e:{for(Z=x.key;b!==null;){if(b.key===Z)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){r(_,b.sibling),b=s(b,x.children||[]),b.return=_,_=b;break e}else{r(_,b);break}else t(_,b);b=b.sibling}b=np(x,_.mode,P),b.return=_,_=b}return a(_);case Mi:return Z=x._init,k(_,b,Z(x._payload),P)}if(cc(x))return N(_,b,x,P);if(Xl(x))return S(_,b,x,P);nd(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(r(_,b.sibling),b=s(b,x),b.return=_,_=b):(r(_,b),b=rp(x,_.mode,P),b.return=_,_=b),a(_)):r(_,b)}return k}var al=Ey(!0),Py=Ey(!1),rh=da(null),nh=null,zo=null,Ng=null;function Sg(){Ng=zo=nh=null}function jg(e){var t=rh.current;nr(rh),e._currentValue=t}function am(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Jo(e,t){nh=e,Ng=zo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(En=!0),e.firstContext=null)}function us(e){var t=e._currentValue;if(Ng!==e)if(e={context:e,memoizedValue:t,next:null},zo===null){if(nh===null)throw Error(Ie(308));zo=e,nh.dependencies={lanes:0,firstContext:e}}else zo=zo.next=e;return t}var Fa=null;function kg(e){Fa===null?Fa=[e]:Fa.push(e)}function Ly(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,kg(t)):(r.next=s.next,s.next=r),t.interleaved=r,mi(e,n)}function mi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qi=!1;function Cg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ty(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ea(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Mt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,mi(e,r)}return s=n.interleaved,s===null?(t.next=t,kg(n)):(t.next=s.next,s.next=t),n.interleaved=t,mi(e,r)}function Ld(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hg(e,r)}}function S1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function sh(e,t,r,n){var s=e.updateQueue;qi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==a&&(o===null?m.firstBaseUpdate=d:o.next=d,m.lastBaseUpdate=c))}if(i!==null){var g=s.baseState;a=0,m=d=c=null,o=i;do{var v=o.lane,f=o.eventTime;if((n&v)===v){m!==null&&(m=m.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=e,S=o;switch(v=t,f=r,S.tag){case 1:if(N=S.payload,typeof N=="function"){g=N.call(f,g,v);break e}g=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=S.payload,v=typeof N=="function"?N.call(f,g,v):N,v==null)break e;g=cr({},g,v);break e;case 2:qi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,v=s.effects,v===null?s.effects=[o]:v.push(o))}else f={eventTime:f,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=f,c=g):m=m.next=f,a|=v;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;v=o,o=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(m===null&&(c=g),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Wa|=a,e.lanes=a,e.memoizedState=g}}function j1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Ie(191,s));s.call(n)}}}var eu={},Ws=da(eu),Dc=da(eu),Fc=da(eu);function Ba(e){if(e===eu)throw Error(Ie(174));return e}function Ag(e,t){switch(er(Fc,t),er(Dc,e),er(Ws,eu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mp(t,e)}nr(Ws),er(Ws,t)}function ol(){nr(Ws),nr(Dc),nr(Fc)}function Iy(e){Ba(Fc.current);var t=Ba(Ws.current),r=Mp(t,e.type);t!==r&&(er(Dc,e),er(Ws,r))}function Eg(e){Dc.current===e&&(nr(Ws),nr(Dc))}var or=da(0);function ih(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jf=[];function Pg(){for(var e=0;e<Jf.length;e++)Jf[e]._workInProgressVersionPrimary=null;Jf.length=0}var Td=vi.ReactCurrentDispatcher,Qf=vi.ReactCurrentBatchConfig,Ga=0,lr=null,Rr=null,Vr=null,ah=!1,yc=!1,Bc=0,Zx=0;function nn(){throw Error(Ie(321))}function Lg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ps(e[r],t[r]))return!1;return!0}function Tg(e,t,r,n,s,i){if(Ga=i,lr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Td.current=e===null||e.memoizedState===null?nN:sN,e=r(n,s),yc){i=0;do{if(yc=!1,Bc=0,25<=i)throw Error(Ie(301));i+=1,Vr=Rr=null,t.updateQueue=null,Td.current=iN,e=r(n,s)}while(yc)}if(Td.current=oh,t=Rr!==null&&Rr.next!==null,Ga=0,Vr=Rr=lr=null,ah=!1,t)throw Error(Ie(300));return e}function Ig(){var e=Bc!==0;return Bc=0,e}function zs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?lr.memoizedState=Vr=e:Vr=Vr.next=e,Vr}function ds(){if(Rr===null){var e=lr.alternate;e=e!==null?e.memoizedState:null}else e=Rr.next;var t=Vr===null?lr.memoizedState:Vr.next;if(t!==null)Vr=t,Rr=e;else{if(e===null)throw Error(Ie(310));Rr=e,e={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Vr===null?lr.memoizedState=Vr=e:Vr=Vr.next=e}return Vr}function Uc(e,t){return typeof t=="function"?t(e):t}function Xf(e){var t=ds(),r=t.queue;if(r===null)throw Error(Ie(311));r.lastRenderedReducer=e;var n=Rr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,c=null,d=i;do{var m=d.lane;if((Ga&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var g={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=g,a=n):c=c.next=g,lr.lanes|=m,Wa|=m}d=d.next}while(d!==null&&d!==i);c===null?a=n:c.next=o,Ps(n,t.memoizedState)||(En=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,lr.lanes|=i,Wa|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Zf(e){var t=ds(),r=t.queue;if(r===null)throw Error(Ie(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Ps(i,t.memoizedState)||(En=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Oy(){}function Ry(e,t){var r=lr,n=ds(),s=t(),i=!Ps(n.memoizedState,s);if(i&&(n.memoizedState=s,En=!0),n=n.queue,Og(By.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Vr!==null&&Vr.memoizedState.tag&1){if(r.flags|=2048,Mc(9,Fy.bind(null,r,n,s,t),void 0,null),Wr===null)throw Error(Ie(349));Ga&30||Dy(r,t,s)}return s}function Dy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Fy(e,t,r,n){t.value=r,t.getSnapshot=n,Uy(t)&&My(e)}function By(e,t,r){return r(function(){Uy(t)&&My(e)})}function Uy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ps(e,r)}catch{return!0}}function My(e){var t=mi(e,1);t!==null&&Es(t,e,1,-1)}function k1(e){var t=zs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:e},t.queue=e,e=e.dispatch=rN.bind(null,lr,e),[t.memoizedState,e]}function Mc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function qy(){return ds().memoizedState}function Id(e,t,r,n){var s=zs();lr.flags|=e,s.memoizedState=Mc(1|t,r,void 0,n===void 0?null:n)}function Ah(e,t,r,n){var s=ds();n=n===void 0?null:n;var i=void 0;if(Rr!==null){var a=Rr.memoizedState;if(i=a.destroy,n!==null&&Lg(n,a.deps)){s.memoizedState=Mc(t,r,i,n);return}}lr.flags|=e,s.memoizedState=Mc(1|t,r,i,n)}function C1(e,t){return Id(8390656,8,e,t)}function Og(e,t){return Ah(2048,8,e,t)}function zy(e,t){return Ah(4,2,e,t)}function $y(e,t){return Ah(4,4,e,t)}function Vy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gy(e,t,r){return r=r!=null?r.concat([e]):null,Ah(4,4,Vy.bind(null,t,e),r)}function Rg(){}function Wy(e,t){var r=ds();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Lg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Hy(e,t){var r=ds();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Lg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Yy(e,t,r){return Ga&21?(Ps(r,t)||(r=Z2(),lr.lanes|=r,Wa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,En=!0),e.memoizedState=r)}function eN(e,t){var r=Wt;Wt=r!==0&&4>r?r:4,e(!0);var n=Qf.transition;Qf.transition={};try{e(!1),t()}finally{Wt=r,Qf.transition=n}}function Ky(){return ds().memoizedState}function tN(e,t,r){var n=ra(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Jy(e))Qy(t,r);else if(r=Ly(e,t,r,n),r!==null){var s=_n();Es(r,e,n,s),Xy(r,t,n)}}function rN(e,t,r){var n=ra(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jy(e))Qy(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,Ps(o,a)){var c=t.interleaved;c===null?(s.next=s,kg(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Ly(e,t,s,n),r!==null&&(s=_n(),Es(r,e,n,s),Xy(r,t,n))}}function Jy(e){var t=e.alternate;return e===lr||t!==null&&t===lr}function Qy(e,t){yc=ah=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Xy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hg(e,r)}}var oh={readContext:us,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},nN={readContext:us,useCallback:function(e,t){return zs().memoizedState=[e,t===void 0?null:t],e},useContext:us,useEffect:C1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Id(4194308,4,Vy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Id(4194308,4,e,t)},useInsertionEffect:function(e,t){return Id(4,2,e,t)},useMemo:function(e,t){var r=zs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=zs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=tN.bind(null,lr,e),[n.memoizedState,e]},useRef:function(e){var t=zs();return e={current:e},t.memoizedState=e},useState:k1,useDebugValue:Rg,useDeferredValue:function(e){return zs().memoizedState=e},useTransition:function(){var e=k1(!1),t=e[0];return e=eN.bind(null,e[1]),zs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=lr,s=zs();if(sr){if(r===void 0)throw Error(Ie(407));r=r()}else{if(r=t(),Wr===null)throw Error(Ie(349));Ga&30||Dy(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,C1(By.bind(null,n,i,e),[e]),n.flags|=2048,Mc(9,Fy.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=zs(),t=Wr.identifierPrefix;if(sr){var r=ui,n=ci;r=(n&~(1<<32-As(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Bc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Zx++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sN={readContext:us,useCallback:Wy,useContext:us,useEffect:Og,useImperativeHandle:Gy,useInsertionEffect:zy,useLayoutEffect:$y,useMemo:Hy,useReducer:Xf,useRef:qy,useState:function(){return Xf(Uc)},useDebugValue:Rg,useDeferredValue:function(e){var t=ds();return Yy(t,Rr.memoizedState,e)},useTransition:function(){var e=Xf(Uc)[0],t=ds().memoizedState;return[e,t]},useMutableSource:Oy,useSyncExternalStore:Ry,useId:Ky,unstable_isNewReconciler:!1},iN={readContext:us,useCallback:Wy,useContext:us,useEffect:Og,useImperativeHandle:Gy,useInsertionEffect:zy,useLayoutEffect:$y,useMemo:Hy,useReducer:Zf,useRef:qy,useState:function(){return Zf(Uc)},useDebugValue:Rg,useDeferredValue:function(e){var t=ds();return Rr===null?t.memoizedState=e:Yy(t,Rr.memoizedState,e)},useTransition:function(){var e=Zf(Uc)[0],t=ds().memoizedState;return[e,t]},useMutableSource:Oy,useSyncExternalStore:Ry,useId:Ky,unstable_isNewReconciler:!1};function Ns(e,t){if(e&&e.defaultProps){t=cr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function om(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:cr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Eh={isMounted:function(e){return(e=e._reactInternals)?Ka(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_n(),s=ra(e),i=hi(n,s);i.payload=t,r!=null&&(i.callback=r),t=ea(e,i,s),t!==null&&(Es(t,e,s,n),Ld(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_n(),s=ra(e),i=hi(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ea(e,i,s),t!==null&&(Es(t,e,s,n),Ld(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_n(),n=ra(e),s=hi(r,n);s.tag=2,t!=null&&(s.callback=t),t=ea(e,s,n),t!==null&&(Es(t,e,n,r),Ld(t,e,n))}};function A1(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Tc(r,n)||!Tc(s,i):!0}function Zy(e,t,r){var n=!1,s=oa,i=t.contextType;return typeof i=="object"&&i!==null?i=us(i):(s=Ln(t)?$a:hn.current,n=t.contextTypes,i=(n=n!=null)?sl(e,s):oa),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Eh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function E1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Eh.enqueueReplaceState(t,t.state,null)}function lm(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Cg(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=us(i):(i=Ln(t)?$a:hn.current,s.context=sl(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(om(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Eh.enqueueReplaceState(s,s.state,null),sh(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ll(e,t){try{var r="",n=t;do r+=Iw(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ep(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var aN=typeof WeakMap=="function"?WeakMap:Map;function e5(e,t,r){r=hi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ch||(ch=!0,bm=n),cm(e,t)},r}function t5(e,t,r){r=hi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){cm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){cm(e,t),typeof n!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function P1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new aN;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=_N.bind(null,e,t,r),t.then(e,e))}function L1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function T1(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=hi(-1,1),t.tag=2,ea(r,t,1))),r.lanes|=1),e)}var oN=vi.ReactCurrentOwner,En=!1;function yn(e,t,r,n){t.child=e===null?Py(t,null,r,n):al(t,e.child,r,n)}function I1(e,t,r,n,s){r=r.render;var i=t.ref;return Jo(t,s),n=Tg(e,t,r,n,i,s),r=Ig(),e!==null&&!En?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gi(e,t,s)):(sr&&r&&_g(t),t.flags|=1,yn(e,t,n,s),t.child)}function O1(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!$g(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,r5(e,t,i,n,s)):(e=Fd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Tc,r(a,n)&&e.ref===t.ref)return gi(e,t,s)}return t.flags|=1,e=na(i,n),e.ref=t.ref,e.return=t,t.child=e}function r5(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Tc(i,n)&&e.ref===t.ref)if(En=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(En=!0);else return t.lanes=e.lanes,gi(e,t,s)}return um(e,t,r,n,s)}function n5(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},er(Vo,qn),qn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,er(Vo,qn),qn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,er(Vo,qn),qn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,er(Vo,qn),qn|=n;return yn(e,t,s,r),t.child}function s5(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function um(e,t,r,n,s){var i=Ln(r)?$a:hn.current;return i=sl(t,i),Jo(t,s),r=Tg(e,t,r,n,i,s),n=Ig(),e!==null&&!En?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gi(e,t,s)):(sr&&n&&_g(t),t.flags|=1,yn(e,t,r,s),t.child)}function R1(e,t,r,n,s){if(Ln(r)){var i=!0;Zd(t)}else i=!1;if(Jo(t,s),t.stateNode===null)Od(e,t),Zy(t,r,n),lm(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=us(d):(d=Ln(r)?$a:hn.current,d=sl(t,d));var m=r.getDerivedStateFromProps,g=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==d)&&E1(t,a,n,d),qi=!1;var v=t.memoizedState;a.state=v,sh(t,n,a,s),c=t.memoizedState,o!==n||v!==c||Pn.current||qi?(typeof m=="function"&&(om(t,r,m,n),c=t.memoizedState),(o=qi||A1(t,r,o,n,v,c,d))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=d,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Ty(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Ns(t.type,o),a.props=d,g=t.pendingProps,v=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=us(c):(c=Ln(r)?$a:hn.current,c=sl(t,c));var f=r.getDerivedStateFromProps;(m=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==g||v!==c)&&E1(t,a,n,c),qi=!1,v=t.memoizedState,a.state=v,sh(t,n,a,s);var N=t.memoizedState;o!==g||v!==N||Pn.current||qi?(typeof f=="function"&&(om(t,r,f,n),N=t.memoizedState),(d=qi||A1(t,r,d,n,v,N,c)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,N,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,N,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=N),a.props=n,a.state=N,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return dm(e,t,r,n,i,s)}function dm(e,t,r,n,s,i){s5(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&_1(t,r,!1),gi(e,t,i);n=t.stateNode,oN.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=al(t,e.child,null,i),t.child=al(t,null,o,i)):yn(e,t,o,i),t.memoizedState=n.state,s&&_1(t,r,!0),t.child}function i5(e){var t=e.stateNode;t.pendingContext?b1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b1(e,t.context,!1),Ag(e,t.containerInfo)}function D1(e,t,r,n,s){return il(),xg(s),t.flags|=256,yn(e,t,r,n),t.child}var hm={dehydrated:null,treeContext:null,retryLane:0};function fm(e){return{baseLanes:e,cachePool:null,transitions:null}}function a5(e,t,r){var n=t.pendingProps,s=or.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),er(or,s&1),e===null)return im(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Th(a,n,0,null),e=qa(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fm(r),t.memoizedState=hm,e):Dg(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return lN(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=na(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=na(o,i):(i=qa(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?fm(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=hm,n}return i=e.child,e=i.sibling,n=na(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Dg(e,t){return t=Th({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sd(e,t,r,n){return n!==null&&xg(n),al(t,e.child,null,r),e=Dg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lN(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=ep(Error(Ie(422))),sd(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Th({mode:"visible",children:n.children},s,0,null),i=qa(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&al(t,e.child,null,a),t.child.memoizedState=fm(a),t.memoizedState=hm,i);if(!(t.mode&1))return sd(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Ie(419)),n=ep(i,n,void 0),sd(e,t,a,n)}if(o=(a&e.childLanes)!==0,En||o){if(n=Wr,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mi(e,s),Es(n,e,s,-1))}return zg(),n=ep(Error(Ie(421))),sd(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=wN.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Vn=Zi(s.nextSibling),Wn=t,sr=!0,Cs=null,e!==null&&(as[os++]=ci,as[os++]=ui,as[os++]=Va,ci=e.id,ui=e.overflow,Va=t),t=Dg(t,n.children),t.flags|=4096,t)}function F1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),am(e.return,t,r)}function tp(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function o5(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(yn(e,t,n.children,r),n=or.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&F1(e,r,t);else if(e.tag===19)F1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(er(or,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ih(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),tp(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ih(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}tp(t,!0,r,null,i);break;case"together":tp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Od(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ie(153));if(t.child!==null){for(e=t.child,r=na(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=na(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function cN(e,t,r){switch(t.tag){case 3:i5(t),il();break;case 5:Iy(t);break;case 1:Ln(t.type)&&Zd(t);break;case 4:Ag(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;er(rh,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(er(or,or.current&1),t.flags|=128,null):r&t.child.childLanes?a5(e,t,r):(er(or,or.current&1),e=gi(e,t,r),e!==null?e.sibling:null);er(or,or.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return o5(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),er(or,or.current),n)break;return null;case 22:case 23:return t.lanes=0,n5(e,t,r)}return gi(e,t,r)}var l5,pm,c5,u5;l5=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pm=function(){};c5=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ba(Ws.current);var i=null;switch(r){case"input":s=Dp(e,s),n=Dp(e,n),i=[];break;case"select":s=cr({},s,{value:void 0}),n=cr({},n,{value:void 0}),i=[];break;case"textarea":s=Up(e,s),n=Up(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Qd)}qp(r,n);var a;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var o=s[d];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(jc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(jc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&tr("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};u5=function(e,t,r,n){r!==n&&(t.flags|=4)};function sc(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function sn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function uN(e,t,r){var n=t.pendingProps;switch(wg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(t),null;case 1:return Ln(t.type)&&Xd(),sn(t),null;case 3:return n=t.stateNode,ol(),nr(Pn),nr(hn),Pg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(rd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cs!==null&&(xm(Cs),Cs=null))),pm(e,t),sn(t),null;case 5:Eg(t);var s=Ba(Fc.current);if(r=t.type,e!==null&&t.stateNode!=null)c5(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ie(166));return sn(t),null}if(e=Ba(Ws.current),rd(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[$s]=t,n[Rc]=i,e=(t.mode&1)!==0,r){case"dialog":tr("cancel",n),tr("close",n);break;case"iframe":case"object":case"embed":tr("load",n);break;case"video":case"audio":for(s=0;s<dc.length;s++)tr(dc[s],n);break;case"source":tr("error",n);break;case"img":case"image":case"link":tr("error",n),tr("load",n);break;case"details":tr("toggle",n);break;case"input":W0(n,i),tr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},tr("invalid",n);break;case"textarea":Y0(n,i),tr("invalid",n)}qp(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&td(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&td(n.textContent,o,e),s=["children",""+o]):jc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&tr("scroll",n)}switch(r){case"input":Hu(n),H0(n,i,!0);break;case"textarea":Hu(n),K0(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Qd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=B2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[$s]=t,e[Rc]=n,l5(e,t,!1,!1),t.stateNode=e;e:{switch(a=zp(r,n),r){case"dialog":tr("cancel",e),tr("close",e),s=n;break;case"iframe":case"object":case"embed":tr("load",e),s=n;break;case"video":case"audio":for(s=0;s<dc.length;s++)tr(dc[s],e);s=n;break;case"source":tr("error",e),s=n;break;case"img":case"image":case"link":tr("error",e),tr("load",e),s=n;break;case"details":tr("toggle",e),s=n;break;case"input":W0(e,n),s=Dp(e,n),tr("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=cr({},n,{value:void 0}),tr("invalid",e);break;case"textarea":Y0(e,n),s=Up(e,n),tr("invalid",e);break;default:s=n}qp(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?q2(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&U2(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&kc(e,c):typeof c=="number"&&kc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(jc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&tr("scroll",e):c!=null&&ag(e,i,c,a))}switch(r){case"input":Hu(e),H0(e,n,!1);break;case"textarea":Hu(e),K0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+aa(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Wo(e,!!n.multiple,i,!1):n.defaultValue!=null&&Wo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Qd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sn(t),null;case 6:if(e&&t.stateNode!=null)u5(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ie(166));if(r=Ba(Fc.current),Ba(Ws.current),rd(t)){if(n=t.stateNode,r=t.memoizedProps,n[$s]=t,(i=n.nodeValue!==r)&&(e=Wn,e!==null))switch(e.tag){case 3:td(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&td(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$s]=t,t.stateNode=n}return sn(t),null;case 13:if(nr(or),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sr&&Vn!==null&&t.mode&1&&!(t.flags&128))Ay(),il(),t.flags|=98560,i=!1;else if(i=rd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Ie(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ie(317));i[$s]=t}else il(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sn(t),i=!1}else Cs!==null&&(xm(Cs),Cs=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||or.current&1?Dr===0&&(Dr=3):zg())),t.updateQueue!==null&&(t.flags|=4),sn(t),null);case 4:return ol(),pm(e,t),e===null&&Ic(t.stateNode.containerInfo),sn(t),null;case 10:return jg(t.type._context),sn(t),null;case 17:return Ln(t.type)&&Xd(),sn(t),null;case 19:if(nr(or),i=t.memoizedState,i===null)return sn(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)sc(i,!1);else{if(Dr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ih(e),a!==null){for(t.flags|=128,sc(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return er(or,or.current&1|2),t.child}e=e.sibling}i.tail!==null&&wr()>cl&&(t.flags|=128,n=!0,sc(i,!1),t.lanes=4194304)}else{if(!n)if(e=ih(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),sc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!sr)return sn(t),null}else 2*wr()-i.renderingStartTime>cl&&r!==1073741824&&(t.flags|=128,n=!0,sc(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=wr(),t.sibling=null,r=or.current,er(or,n?r&1|2:r&1),t):(sn(t),null);case 22:case 23:return qg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?qn&1073741824&&(sn(t),t.subtreeFlags&6&&(t.flags|=8192)):sn(t),null;case 24:return null;case 25:return null}throw Error(Ie(156,t.tag))}function dN(e,t){switch(wg(t),t.tag){case 1:return Ln(t.type)&&Xd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ol(),nr(Pn),nr(hn),Pg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Eg(t),null;case 13:if(nr(or),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ie(340));il()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nr(or),null;case 4:return ol(),null;case 10:return jg(t.type._context),null;case 22:case 23:return qg(),null;case 24:return null;default:return null}}var id=!1,un=!1,hN=typeof WeakSet=="function"?WeakSet:Set,et=null;function $o(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){mr(e,t,n)}else r.current=null}function mm(e,t,r){try{r()}catch(n){mr(e,t,n)}}var B1=!1;function fN(e,t){if(Xp=Yd,e=my(),bg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,d=0,m=0,g=e,v=null;t:for(;;){for(var f;g!==r||s!==0&&g.nodeType!==3||(o=a+s),g!==i||n!==0&&g.nodeType!==3||(c=a+n),g.nodeType===3&&(a+=g.nodeValue.length),(f=g.firstChild)!==null;)v=g,g=f;for(;;){if(g===e)break t;if(v===r&&++d===s&&(o=a),v===i&&++m===n&&(c=a),(f=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=f}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zp={focusedElem:e,selectionRange:r},Yd=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){t=et;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var S=N.memoizedProps,k=N.memoizedState,_=t.stateNode,b=_.getSnapshotBeforeUpdate(t.elementType===t.type?S:Ns(t.type,S),k);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(P){mr(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}return N=B1,B1=!1,N}function bc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&mm(t,r,i)}s=s.next}while(s!==n)}}function Ph(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function gm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function d5(e){var t=e.alternate;t!==null&&(e.alternate=null,d5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$s],delete t[Rc],delete t[rm],delete t[Kx],delete t[Jx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function h5(e){return e.tag===5||e.tag===3||e.tag===4}function U1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||h5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Qd));else if(n!==4&&(e=e.child,e!==null))for(vm(e,t,r),e=e.sibling;e!==null;)vm(e,t,r),e=e.sibling}function ym(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ym(e,t,r),e=e.sibling;e!==null;)ym(e,t,r),e=e.sibling}var Qr=null,ks=!1;function Di(e,t,r){for(r=r.child;r!==null;)f5(e,t,r),r=r.sibling}function f5(e,t,r){if(Gs&&typeof Gs.onCommitFiberUnmount=="function")try{Gs.onCommitFiberUnmount(xh,r)}catch{}switch(r.tag){case 5:un||$o(r,t);case 6:var n=Qr,s=ks;Qr=null,Di(e,t,r),Qr=n,ks=s,Qr!==null&&(ks?(e=Qr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qr.removeChild(r.stateNode));break;case 18:Qr!==null&&(ks?(e=Qr,r=r.stateNode,e.nodeType===8?Yf(e.parentNode,r):e.nodeType===1&&Yf(e,r),Pc(e)):Yf(Qr,r.stateNode));break;case 4:n=Qr,s=ks,Qr=r.stateNode.containerInfo,ks=!0,Di(e,t,r),Qr=n,ks=s;break;case 0:case 11:case 14:case 15:if(!un&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&mm(r,t,a),s=s.next}while(s!==n)}Di(e,t,r);break;case 1:if(!un&&($o(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){mr(r,t,o)}Di(e,t,r);break;case 21:Di(e,t,r);break;case 22:r.mode&1?(un=(n=un)||r.memoizedState!==null,Di(e,t,r),un=n):Di(e,t,r);break;default:Di(e,t,r)}}function M1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new hN),t.forEach(function(n){var s=xN.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ys(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Qr=o.stateNode,ks=!1;break e;case 3:Qr=o.stateNode.containerInfo,ks=!0;break e;case 4:Qr=o.stateNode.containerInfo,ks=!0;break e}o=o.return}if(Qr===null)throw Error(Ie(160));f5(i,a,s),Qr=null,ks=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){mr(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)p5(t,e),t=t.sibling}function p5(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ys(t,e),Us(e),n&4){try{bc(3,e,e.return),Ph(3,e)}catch(S){mr(e,e.return,S)}try{bc(5,e,e.return)}catch(S){mr(e,e.return,S)}}break;case 1:ys(t,e),Us(e),n&512&&r!==null&&$o(r,r.return);break;case 5:if(ys(t,e),Us(e),n&512&&r!==null&&$o(r,r.return),e.flags&32){var s=e.stateNode;try{kc(s,"")}catch(S){mr(e,e.return,S)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&D2(s,i),zp(o,a);var d=zp(o,i);for(a=0;a<c.length;a+=2){var m=c[a],g=c[a+1];m==="style"?q2(s,g):m==="dangerouslySetInnerHTML"?U2(s,g):m==="children"?kc(s,g):ag(s,m,g,d)}switch(o){case"input":Fp(s,i);break;case"textarea":F2(s,i);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Wo(s,!!i.multiple,f,!1):v!==!!i.multiple&&(i.defaultValue!=null?Wo(s,!!i.multiple,i.defaultValue,!0):Wo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Rc]=i}catch(S){mr(e,e.return,S)}}break;case 6:if(ys(t,e),Us(e),n&4){if(e.stateNode===null)throw Error(Ie(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){mr(e,e.return,S)}}break;case 3:if(ys(t,e),Us(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pc(t.containerInfo)}catch(S){mr(e,e.return,S)}break;case 4:ys(t,e),Us(e);break;case 13:ys(t,e),Us(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ug=wr())),n&4&&M1(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(un=(d=un)||m,ys(t,e),un=d):ys(t,e),Us(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(et=e,m=e.child;m!==null;){for(g=et=m;et!==null;){switch(v=et,f=v.child,v.tag){case 0:case 11:case 14:case 15:bc(4,v,v.return);break;case 1:$o(v,v.return);var N=v.stateNode;if(typeof N.componentWillUnmount=="function"){n=v,r=v.return;try{t=n,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(S){mr(n,r,S)}}break;case 5:$o(v,v.return);break;case 22:if(v.memoizedState!==null){z1(g);continue}}f!==null?(f.return=v,et=f):z1(g)}m=m.sibling}e:for(m=null,g=e;;){if(g.tag===5){if(m===null){m=g;try{s=g.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=M2("display",a))}catch(S){mr(e,e.return,S)}}}else if(g.tag===6){if(m===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(S){mr(e,e.return,S)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;m===g&&(m=null),g=g.return}m===g&&(m=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:ys(t,e),Us(e),n&4&&M1(e);break;case 21:break;default:ys(t,e),Us(e)}}function Us(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(h5(r)){var n=r;break e}r=r.return}throw Error(Ie(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(kc(s,""),n.flags&=-33);var i=U1(e);ym(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=U1(e);vm(e,o,a);break;default:throw Error(Ie(161))}}catch(c){mr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pN(e,t,r){et=e,m5(e)}function m5(e,t,r){for(var n=(e.mode&1)!==0;et!==null;){var s=et,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||id;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||un;o=id;var d=un;if(id=a,(un=c)&&!d)for(et=s;et!==null;)a=et,c=a.child,a.tag===22&&a.memoizedState!==null?$1(s):c!==null?(c.return=a,et=c):$1(s);for(;i!==null;)et=i,m5(i),i=i.sibling;et=s,id=o,un=d}q1(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,et=i):q1(e)}}function q1(e){for(;et!==null;){var t=et;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:un||Ph(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!un)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ns(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&j1(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}j1(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var g=m.dehydrated;g!==null&&Pc(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}un||t.flags&512&&gm(t)}catch(v){mr(t,t.return,v)}}if(t===e){et=null;break}if(r=t.sibling,r!==null){r.return=t.return,et=r;break}et=t.return}}function z1(e){for(;et!==null;){var t=et;if(t===e){et=null;break}var r=t.sibling;if(r!==null){r.return=t.return,et=r;break}et=t.return}}function $1(e){for(;et!==null;){var t=et;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ph(4,t)}catch(c){mr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){mr(t,s,c)}}var i=t.return;try{gm(t)}catch(c){mr(t,i,c)}break;case 5:var a=t.return;try{gm(t)}catch(c){mr(t,a,c)}}}catch(c){mr(t,t.return,c)}if(t===e){et=null;break}var o=t.sibling;if(o!==null){o.return=t.return,et=o;break}et=t.return}}var mN=Math.ceil,lh=vi.ReactCurrentDispatcher,Fg=vi.ReactCurrentOwner,cs=vi.ReactCurrentBatchConfig,Mt=0,Wr=null,Lr=null,Xr=0,qn=0,Vo=da(0),Dr=0,qc=null,Wa=0,Lh=0,Bg=0,_c=null,An=null,Ug=0,cl=1/0,ai=null,ch=!1,bm=null,ta=null,ad=!1,Wi=null,uh=0,wc=0,_m=null,Rd=-1,Dd=0;function _n(){return Mt&6?wr():Rd!==-1?Rd:Rd=wr()}function ra(e){return e.mode&1?Mt&2&&Xr!==0?Xr&-Xr:Xx.transition!==null?(Dd===0&&(Dd=Z2()),Dd):(e=Wt,e!==0||(e=window.event,e=e===void 0?16:ay(e.type)),e):1}function Es(e,t,r,n){if(50<wc)throw wc=0,_m=null,Error(Ie(185));Qc(e,r,n),(!(Mt&2)||e!==Wr)&&(e===Wr&&(!(Mt&2)&&(Lh|=r),Dr===4&&$i(e,Xr)),Tn(e,n),r===1&&Mt===0&&!(t.mode&1)&&(cl=wr()+500,Ch&&ha()))}function Tn(e,t){var r=e.callbackNode;Xw(e,t);var n=Hd(e,e===Wr?Xr:0);if(n===0)r!==null&&X0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&X0(r),t===1)e.tag===0?Qx(V1.bind(null,e)):jy(V1.bind(null,e)),Hx(function(){!(Mt&6)&&ha()}),r=null;else{switch(ey(n)){case 1:r=dg;break;case 4:r=Q2;break;case 16:r=Wd;break;case 536870912:r=X2;break;default:r=Wd}r=N5(r,g5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function g5(e,t){if(Rd=-1,Dd=0,Mt&6)throw Error(Ie(327));var r=e.callbackNode;if(Qo()&&e.callbackNode!==r)return null;var n=Hd(e,e===Wr?Xr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=dh(e,n);else{t=n;var s=Mt;Mt|=2;var i=y5();(Wr!==e||Xr!==t)&&(ai=null,cl=wr()+500,Ma(e,t));do try{yN();break}catch(o){v5(e,o)}while(!0);Sg(),lh.current=i,Mt=s,Lr!==null?t=0:(Wr=null,Xr=0,t=Dr)}if(t!==0){if(t===2&&(s=Hp(e),s!==0&&(n=s,t=wm(e,s))),t===1)throw r=qc,Ma(e,0),$i(e,n),Tn(e,wr()),r;if(t===6)$i(e,n);else{if(s=e.current.alternate,!(n&30)&&!gN(s)&&(t=dh(e,n),t===2&&(i=Hp(e),i!==0&&(n=i,t=wm(e,i))),t===1))throw r=qc,Ma(e,0),$i(e,n),Tn(e,wr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Ie(345));case 2:Ea(e,An,ai);break;case 3:if($i(e,n),(n&130023424)===n&&(t=Ug+500-wr(),10<t)){if(Hd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){_n(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=tm(Ea.bind(null,e,An,ai),t);break}Ea(e,An,ai);break;case 4:if($i(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-As(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=wr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*mN(n/1960))-n,10<n){e.timeoutHandle=tm(Ea.bind(null,e,An,ai),n);break}Ea(e,An,ai);break;case 5:Ea(e,An,ai);break;default:throw Error(Ie(329))}}}return Tn(e,wr()),e.callbackNode===r?g5.bind(null,e):null}function wm(e,t){var r=_c;return e.current.memoizedState.isDehydrated&&(Ma(e,t).flags|=256),e=dh(e,t),e!==2&&(t=An,An=r,t!==null&&xm(t)),e}function xm(e){An===null?An=e:An.push.apply(An,e)}function gN(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ps(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $i(e,t){for(t&=~Bg,t&=~Lh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-As(t),n=1<<r;e[r]=-1,t&=~n}}function V1(e){if(Mt&6)throw Error(Ie(327));Qo();var t=Hd(e,0);if(!(t&1))return Tn(e,wr()),null;var r=dh(e,t);if(e.tag!==0&&r===2){var n=Hp(e);n!==0&&(t=n,r=wm(e,n))}if(r===1)throw r=qc,Ma(e,0),$i(e,t),Tn(e,wr()),r;if(r===6)throw Error(Ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ea(e,An,ai),Tn(e,wr()),null}function Mg(e,t){var r=Mt;Mt|=1;try{return e(t)}finally{Mt=r,Mt===0&&(cl=wr()+500,Ch&&ha())}}function Ha(e){Wi!==null&&Wi.tag===0&&!(Mt&6)&&Qo();var t=Mt;Mt|=1;var r=cs.transition,n=Wt;try{if(cs.transition=null,Wt=1,e)return e()}finally{Wt=n,cs.transition=r,Mt=t,!(Mt&6)&&ha()}}function qg(){qn=Vo.current,nr(Vo)}function Ma(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Wx(r)),Lr!==null)for(r=Lr.return;r!==null;){var n=r;switch(wg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xd();break;case 3:ol(),nr(Pn),nr(hn),Pg();break;case 5:Eg(n);break;case 4:ol();break;case 13:nr(or);break;case 19:nr(or);break;case 10:jg(n.type._context);break;case 22:case 23:qg()}r=r.return}if(Wr=e,Lr=e=na(e.current,null),Xr=qn=t,Dr=0,qc=null,Bg=Lh=Wa=0,An=_c=null,Fa!==null){for(t=0;t<Fa.length;t++)if(r=Fa[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Fa=null}return e}function v5(e,t){do{var r=Lr;try{if(Sg(),Td.current=oh,ah){for(var n=lr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ah=!1}if(Ga=0,Vr=Rr=lr=null,yc=!1,Bc=0,Fg.current=null,r===null||r.return===null){Dr=1,qc=t,Lr=null;break}e:{var i=e,a=r.return,o=r,c=t;if(t=Xr,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=o,g=m.tag;if(!(m.mode&1)&&(g===0||g===11||g===15)){var v=m.alternate;v?(m.updateQueue=v.updateQueue,m.memoizedState=v.memoizedState,m.lanes=v.lanes):(m.updateQueue=null,m.memoizedState=null)}var f=L1(a);if(f!==null){f.flags&=-257,T1(f,a,o,i,t),f.mode&1&&P1(i,d,t),t=f,c=d;var N=t.updateQueue;if(N===null){var S=new Set;S.add(c),t.updateQueue=S}else N.add(c);break e}else{if(!(t&1)){P1(i,d,t),zg();break e}c=Error(Ie(426))}}else if(sr&&o.mode&1){var k=L1(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),T1(k,a,o,i,t),xg(ll(c,o));break e}}i=c=ll(c,o),Dr!==4&&(Dr=2),_c===null?_c=[i]:_c.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var _=e5(i,c,t);S1(i,_);break e;case 1:o=c;var b=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ta===null||!ta.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var P=t5(i,o,t);S1(i,P);break e}}i=i.return}while(i!==null)}_5(r)}catch($){t=$,Lr===r&&r!==null&&(Lr=r=r.return);continue}break}while(!0)}function y5(){var e=lh.current;return lh.current=oh,e===null?oh:e}function zg(){(Dr===0||Dr===3||Dr===2)&&(Dr=4),Wr===null||!(Wa&268435455)&&!(Lh&268435455)||$i(Wr,Xr)}function dh(e,t){var r=Mt;Mt|=2;var n=y5();(Wr!==e||Xr!==t)&&(ai=null,Ma(e,t));do try{vN();break}catch(s){v5(e,s)}while(!0);if(Sg(),Mt=r,lh.current=n,Lr!==null)throw Error(Ie(261));return Wr=null,Xr=0,Dr}function vN(){for(;Lr!==null;)b5(Lr)}function yN(){for(;Lr!==null&&!$w();)b5(Lr)}function b5(e){var t=x5(e.alternate,e,qn);e.memoizedProps=e.pendingProps,t===null?_5(e):Lr=t,Fg.current=null}function _5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=dN(r,t),r!==null){r.flags&=32767,Lr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dr=6,Lr=null;return}}else if(r=uN(r,t,qn),r!==null){Lr=r;return}if(t=t.sibling,t!==null){Lr=t;return}Lr=t=e}while(t!==null);Dr===0&&(Dr=5)}function Ea(e,t,r){var n=Wt,s=cs.transition;try{cs.transition=null,Wt=1,bN(e,t,r,n)}finally{cs.transition=s,Wt=n}return null}function bN(e,t,r,n){do Qo();while(Wi!==null);if(Mt&6)throw Error(Ie(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ie(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Zw(e,i),e===Wr&&(Lr=Wr=null,Xr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ad||(ad=!0,N5(Wd,function(){return Qo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=cs.transition,cs.transition=null;var a=Wt;Wt=1;var o=Mt;Mt|=4,Fg.current=null,fN(e,r),p5(r,e),Ux(Zp),Yd=!!Xp,Zp=Xp=null,e.current=r,pN(r),Vw(),Mt=o,Wt=a,cs.transition=i}else e.current=r;if(ad&&(ad=!1,Wi=e,uh=s),i=e.pendingLanes,i===0&&(ta=null),Hw(r.stateNode),Tn(e,wr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ch)throw ch=!1,e=bm,bm=null,e;return uh&1&&e.tag!==0&&Qo(),i=e.pendingLanes,i&1?e===_m?wc++:(wc=0,_m=e):wc=0,ha(),null}function Qo(){if(Wi!==null){var e=ey(uh),t=cs.transition,r=Wt;try{if(cs.transition=null,Wt=16>e?16:e,Wi===null)var n=!1;else{if(e=Wi,Wi=null,uh=0,Mt&6)throw Error(Ie(331));var s=Mt;for(Mt|=4,et=e.current;et!==null;){var i=et,a=i.child;if(et.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(et=d;et!==null;){var m=et;switch(m.tag){case 0:case 11:case 15:bc(8,m,i)}var g=m.child;if(g!==null)g.return=m,et=g;else for(;et!==null;){m=et;var v=m.sibling,f=m.return;if(d5(m),m===d){et=null;break}if(v!==null){v.return=f,et=v;break}et=f}}}var N=i.alternate;if(N!==null){var S=N.child;if(S!==null){N.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}et=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,et=a;else e:for(;et!==null;){if(i=et,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bc(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,et=_;break e}et=i.return}}var b=e.current;for(et=b;et!==null;){a=et;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,et=x;else e:for(a=b;et!==null;){if(o=et,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ph(9,o)}}catch($){mr(o,o.return,$)}if(o===a){et=null;break e}var P=o.sibling;if(P!==null){P.return=o.return,et=P;break e}et=o.return}}if(Mt=s,ha(),Gs&&typeof Gs.onPostCommitFiberRoot=="function")try{Gs.onPostCommitFiberRoot(xh,e)}catch{}n=!0}return n}finally{Wt=r,cs.transition=t}}return!1}function G1(e,t,r){t=ll(r,t),t=e5(e,t,1),e=ea(e,t,1),t=_n(),e!==null&&(Qc(e,1,t),Tn(e,t))}function mr(e,t,r){if(e.tag===3)G1(e,e,r);else for(;t!==null;){if(t.tag===3){G1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ta===null||!ta.has(n))){e=ll(r,e),e=t5(t,e,1),t=ea(t,e,1),e=_n(),t!==null&&(Qc(t,1,e),Tn(t,e));break}}t=t.return}}function _N(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_n(),e.pingedLanes|=e.suspendedLanes&r,Wr===e&&(Xr&r)===r&&(Dr===4||Dr===3&&(Xr&130023424)===Xr&&500>wr()-Ug?Ma(e,0):Bg|=r),Tn(e,t)}function w5(e,t){t===0&&(e.mode&1?(t=Ju,Ju<<=1,!(Ju&130023424)&&(Ju=4194304)):t=1);var r=_n();e=mi(e,t),e!==null&&(Qc(e,t,r),Tn(e,r))}function wN(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),w5(e,r)}function xN(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ie(314))}n!==null&&n.delete(t),w5(e,r)}var x5;x5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pn.current)En=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return En=!1,cN(e,t,r);En=!!(e.flags&131072)}else En=!1,sr&&t.flags&1048576&&ky(t,th,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Od(e,t),e=t.pendingProps;var s=sl(t,hn.current);Jo(t,r),s=Tg(null,t,n,e,s,r);var i=Ig();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ln(n)?(i=!0,Zd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cg(t),s.updater=Eh,t.stateNode=s,s._reactInternals=t,lm(t,n,e,r),t=dm(null,t,n,!0,i,r)):(t.tag=0,sr&&i&&_g(t),yn(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Od(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=SN(n),e=Ns(n,e),s){case 0:t=um(null,t,n,e,r);break e;case 1:t=R1(null,t,n,e,r);break e;case 11:t=I1(null,t,n,e,r);break e;case 14:t=O1(null,t,n,Ns(n.type,e),r);break e}throw Error(Ie(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ns(n,s),um(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ns(n,s),R1(e,t,n,s,r);case 3:e:{if(i5(t),e===null)throw Error(Ie(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Ty(e,t),sh(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ll(Error(Ie(423)),t),t=D1(e,t,n,r,s);break e}else if(n!==s){s=ll(Error(Ie(424)),t),t=D1(e,t,n,r,s);break e}else for(Vn=Zi(t.stateNode.containerInfo.firstChild),Wn=t,sr=!0,Cs=null,r=Py(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(il(),n===s){t=gi(e,t,r);break e}yn(e,t,n,r)}t=t.child}return t;case 5:return Iy(t),e===null&&im(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,em(n,s)?a=null:i!==null&&em(n,i)&&(t.flags|=32),s5(e,t),yn(e,t,a,r),t.child;case 6:return e===null&&im(t),null;case 13:return a5(e,t,r);case 4:return Ag(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=al(t,null,n,r):yn(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ns(n,s),I1(e,t,n,s,r);case 7:return yn(e,t,t.pendingProps,r),t.child;case 8:return yn(e,t,t.pendingProps.children,r),t.child;case 12:return yn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,er(rh,n._currentValue),n._currentValue=a,i!==null)if(Ps(i.value,a)){if(i.children===s.children&&!Pn.current){t=gi(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=hi(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),am(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Ie(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),am(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}yn(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Jo(t,r),s=us(s),n=n(s),t.flags|=1,yn(e,t,n,r),t.child;case 14:return n=t.type,s=Ns(n,t.pendingProps),s=Ns(n.type,s),O1(e,t,n,s,r);case 15:return r5(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ns(n,s),Od(e,t),t.tag=1,Ln(n)?(e=!0,Zd(t)):e=!1,Jo(t,r),Zy(t,n,s),lm(t,n,s,r),dm(null,t,n,!0,e,r);case 19:return o5(e,t,r);case 22:return n5(e,t,r)}throw Error(Ie(156,t.tag))};function N5(e,t){return J2(e,t)}function NN(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ls(e,t,r,n){return new NN(e,t,r,n)}function $g(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SN(e){if(typeof e=="function")return $g(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lg)return 11;if(e===cg)return 14}return 2}function na(e,t){var r=e.alternate;return r===null?(r=ls(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Fd(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")$g(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Oo:return qa(r.children,s,i,t);case og:a=8,s|=8;break;case Tp:return e=ls(12,r,t,s|2),e.elementType=Tp,e.lanes=i,e;case Ip:return e=ls(13,r,t,s),e.elementType=Ip,e.lanes=i,e;case Op:return e=ls(19,r,t,s),e.elementType=Op,e.lanes=i,e;case I2:return Th(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L2:a=10;break e;case T2:a=9;break e;case lg:a=11;break e;case cg:a=14;break e;case Mi:a=16,n=null;break e}throw Error(Ie(130,e==null?e:typeof e,""))}return t=ls(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function qa(e,t,r,n){return e=ls(7,e,n,t),e.lanes=r,e}function Th(e,t,r,n){return e=ls(22,e,n,t),e.elementType=I2,e.lanes=r,e.stateNode={isHidden:!1},e}function rp(e,t,r){return e=ls(6,e,null,t),e.lanes=r,e}function np(e,t,r){return t=ls(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jN(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ff(0),this.expirationTimes=Ff(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ff(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vg(e,t,r,n,s,i,a,o,c){return e=new jN(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ls(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cg(i),e}function kN(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function S5(e){if(!e)return oa;e=e._reactInternals;e:{if(Ka(e)!==e||e.tag!==1)throw Error(Ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ln(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ie(171))}if(e.tag===1){var r=e.type;if(Ln(r))return Sy(e,r,t)}return t}function j5(e,t,r,n,s,i,a,o,c){return e=Vg(r,n,!0,e,s,i,a,o,c),e.context=S5(null),r=e.current,n=_n(),s=ra(r),i=hi(n,s),i.callback=t??null,ea(r,i,s),e.current.lanes=s,Qc(e,s,n),Tn(e,n),e}function Ih(e,t,r,n){var s=t.current,i=_n(),a=ra(s);return r=S5(r),t.context===null?t.context=r:t.pendingContext=r,t=hi(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ea(s,t,a),e!==null&&(Es(e,s,a,i),Ld(e,s,a)),a}function hh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function W1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Gg(e,t){W1(e,t),(e=e.alternate)&&W1(e,t)}function CN(){return null}var k5=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wg(e){this._internalRoot=e}Oh.prototype.render=Wg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ie(409));Ih(e,t,null,null)};Oh.prototype.unmount=Wg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ha(function(){Ih(null,e,null,null)}),t[pi]=null}};function Oh(e){this._internalRoot=e}Oh.prototype.unstable_scheduleHydration=function(e){if(e){var t=ny();e={blockedOn:null,target:e,priority:t};for(var r=0;r<zi.length&&t!==0&&t<zi[r].priority;r++);zi.splice(r,0,e),r===0&&iy(e)}};function Hg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function H1(){}function AN(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=hh(a);i.call(d)}}var a=j5(t,n,e,0,null,!1,!1,"",H1);return e._reactRootContainer=a,e[pi]=a.current,Ic(e.nodeType===8?e.parentNode:e),Ha(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var d=hh(c);o.call(d)}}var c=Vg(e,0,!1,null,null,!1,!1,"",H1);return e._reactRootContainer=c,e[pi]=c.current,Ic(e.nodeType===8?e.parentNode:e),Ha(function(){Ih(t,c,r,n)}),c}function Dh(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=hh(a);o.call(c)}}Ih(t,a,e,s)}else a=AN(r,t,e,s,n);return hh(a)}ty=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=uc(t.pendingLanes);r!==0&&(hg(t,r|1),Tn(t,wr()),!(Mt&6)&&(cl=wr()+500,ha()))}break;case 13:Ha(function(){var n=mi(e,1);if(n!==null){var s=_n();Es(n,e,1,s)}}),Gg(e,1)}};fg=function(e){if(e.tag===13){var t=mi(e,134217728);if(t!==null){var r=_n();Es(t,e,134217728,r)}Gg(e,134217728)}};ry=function(e){if(e.tag===13){var t=ra(e),r=mi(e,t);if(r!==null){var n=_n();Es(r,e,t,n)}Gg(e,t)}};ny=function(){return Wt};sy=function(e,t){var r=Wt;try{return Wt=e,t()}finally{Wt=r}};Vp=function(e,t,r){switch(t){case"input":if(Fp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=kh(n);if(!s)throw Error(Ie(90));R2(n),Fp(n,s)}}}break;case"textarea":F2(e,r);break;case"select":t=r.value,t!=null&&Wo(e,!!r.multiple,t,!1)}};V2=Mg;G2=Ha;var EN={usingClientEntryPoint:!1,Events:[Zc,Bo,kh,z2,$2,Mg]},ic={findFiberByHostInstance:Da,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PN={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Y2(e),e===null?null:e.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance||CN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{xh=od.inject(PN),Gs=od}catch{}}Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EN;Yn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hg(t))throw Error(Ie(200));return kN(e,t,null,r)};Yn.createRoot=function(e,t){if(!Hg(e))throw Error(Ie(299));var r=!1,n="",s=k5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vg(e,1,!1,null,null,r,!1,n,s),e[pi]=t.current,Ic(e.nodeType===8?e.parentNode:e),new Wg(t)};Yn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ie(188)):(e=Object.keys(e).join(","),Error(Ie(268,e)));return e=Y2(t),e=e===null?null:e.stateNode,e};Yn.flushSync=function(e){return Ha(e)};Yn.hydrate=function(e,t,r){if(!Rh(t))throw Error(Ie(200));return Dh(null,e,t,!0,r)};Yn.hydrateRoot=function(e,t,r){if(!Hg(e))throw Error(Ie(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=k5;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=j5(t,null,e,1,r??null,s,!1,i,a),e[pi]=t.current,Ic(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Oh(t)};Yn.render=function(e,t,r){if(!Rh(t))throw Error(Ie(200));return Dh(null,e,t,!1,r)};Yn.unmountComponentAtNode=function(e){if(!Rh(e))throw Error(Ie(40));return e._reactRootContainer?(Ha(function(){Dh(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0):!1};Yn.unstable_batchedUpdates=Mg;Yn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Rh(r))throw Error(Ie(200));if(e==null||e._reactInternals===void 0)throw Error(Ie(38));return Dh(e,t,r,!1,n)};Yn.version="18.3.1-next-f1338f8080-20240426";function C5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C5)}catch(e){console.error(e)}}C5(),C2.exports=Yn;var LN=C2.exports,Y1=LN;Pp.createRoot=Y1.createRoot,Pp.hydrateRoot=Y1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zc.apply(this,arguments)}var Hi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hi||(Hi={}));const K1="popstate";function TN(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return Nm("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:fh(s)}return ON(t,r,null,e)}function jr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function A5(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IN(){return Math.random().toString(36).substr(2,8)}function J1(e,t){return{usr:e.state,key:e.key,idx:t}}function Nm(e,t,r,n){return r===void 0&&(r=null),zc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ml(t):t,{state:r,key:t&&t.key||n||IN()})}function fh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ml(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ON(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Hi.Pop,c=null,d=m();d==null&&(d=0,a.replaceState(zc({},a.state,{idx:d}),""));function m(){return(a.state||{idx:null}).idx}function g(){o=Hi.Pop;let k=m(),_=k==null?null:k-d;d=k,c&&c({action:o,location:S.location,delta:_})}function v(k,_){o=Hi.Push;let b=Nm(S.location,k,_);d=m()+1;let x=J1(b,d),P=S.createHref(b);try{a.pushState(x,"",P)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;s.location.assign(P)}i&&c&&c({action:o,location:S.location,delta:1})}function f(k,_){o=Hi.Replace;let b=Nm(S.location,k,_);d=m();let x=J1(b,d),P=S.createHref(b);a.replaceState(x,"",P),i&&c&&c({action:o,location:S.location,delta:0})}function N(k){let _=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof k=="string"?k:fh(k);return b=b.replace(/ $/,"%20"),jr(_,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,_)}let S={get action(){return o},get location(){return e(s,a)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(K1,g),c=k,()=>{s.removeEventListener(K1,g),c=null}},createHref(k){return t(s,k)},createURL:N,encodeLocation(k){let _=N(k);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:f,go(k){return a.go(k)}};return S}var Q1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Q1||(Q1={}));function RN(e,t,r){return r===void 0&&(r="/"),DN(e,t,r)}function DN(e,t,r,n){let s=typeof t=="string"?ml(t):t,i=Yg(s.pathname||"/",r);if(i==null)return null;let a=E5(e);FN(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let d=KN(i);o=WN(a[c],d)}return o}function E5(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(jr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=sa([n,c.relativePath]),m=r.concat(c);i.children&&i.children.length>0&&(jr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),E5(i.children,t,m,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:VN(d,i.index),routesMeta:m})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let c of P5(i.path))s(i,a,c)}),t}function P5(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=P5(n.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function FN(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:GN(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const BN=/^:[\w-]+$/,UN=3,MN=2,qN=1,zN=10,$N=-2,X1=e=>e==="*";function VN(e,t){let r=e.split("/"),n=r.length;return r.some(X1)&&(n+=$N),t&&(n+=MN),r.filter(s=>!X1(s)).reduce((s,i)=>s+(BN.test(i)?UN:i===""?qN:zN),n)}function GN(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function WN(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,m=i==="/"?t:t.slice(i.length)||"/",g=HN({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),v=c.route;if(!g)return null;Object.assign(s,g.params),a.push({params:s,pathname:sa([i,g.pathname]),pathnameBase:ZN(sa([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=sa([i,g.pathnameBase]))}return a}function HN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=YN(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((d,m,g)=>{let{paramName:v,isOptional:f}=m;if(v==="*"){let S=o[g]||"";a=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const N=o[g];return f&&!N?d[v]=void 0:d[v]=(N||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:e}}function YN(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),A5(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function KN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return A5(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Yg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function JN(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ml(e):e;return{pathname:r?r.startsWith("/")?r:QN(r,t):t,search:e3(n),hash:t3(s)}}function QN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function sp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XN(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Kg(e,t){let r=XN(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Jg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ml(e):(s=zc({},e),jr(!s.pathname||!s.pathname.includes("?"),sp("?","pathname","search",s)),jr(!s.pathname||!s.pathname.includes("#"),sp("#","pathname","hash",s)),jr(!s.search||!s.search.includes("#"),sp("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let g=t.length-1;if(!n&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}o=g>=0?t[g]:"/"}let c=JN(s,o),d=a&&a!=="/"&&a.endsWith("/"),m=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const sa=e=>e.join("/").replace(/\/\/+/g,"/"),ZN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),e3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,t3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function r3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const L5=["post","put","patch","delete"];new Set(L5);const n3=["get",...L5];new Set(n3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$c.apply(this,arguments)}const Qg=Q.createContext(null),s3=Q.createContext(null),fa=Q.createContext(null),Fh=Q.createContext(null),yi=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),T5=Q.createContext(null);function i3(e,t){let{relative:r}=t===void 0?{}:t;gl()||jr(!1);let{basename:n,navigator:s}=Q.useContext(fa),{hash:i,pathname:a,search:o}=O5(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:sa([n,a])),s.createHref({pathname:c,search:o,hash:i})}function gl(){return Q.useContext(Fh)!=null}function pa(){return gl()||jr(!1),Q.useContext(Fh).location}function I5(e){Q.useContext(fa).static||Q.useLayoutEffect(e)}function vl(){let{isDataRoute:e}=Q.useContext(yi);return e?b3():a3()}function a3(){gl()||jr(!1);let e=Q.useContext(Qg),{basename:t,future:r,navigator:n}=Q.useContext(fa),{matches:s}=Q.useContext(yi),{pathname:i}=pa(),a=JSON.stringify(Kg(s,r.v7_relativeSplatPath)),o=Q.useRef(!1);return I5(()=>{o.current=!0}),Q.useCallback(function(d,m){if(m===void 0&&(m={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let g=Jg(d,JSON.parse(a),i,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:sa([t,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[t,n,a,i,e])}function o3(){let{matches:e}=Q.useContext(yi),t=e[e.length-1];return t?t.params:{}}function O5(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=Q.useContext(fa),{matches:s}=Q.useContext(yi),{pathname:i}=pa(),a=JSON.stringify(Kg(s,n.v7_relativeSplatPath));return Q.useMemo(()=>Jg(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function l3(e,t){return c3(e,t)}function c3(e,t,r,n){gl()||jr(!1);let{navigator:s}=Q.useContext(fa),{matches:i}=Q.useContext(yi),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=pa(),m;if(t){var g;let k=typeof t=="string"?ml(t):t;c==="/"||(g=k.pathname)!=null&&g.startsWith(c)||jr(!1),m=k}else m=d;let v=m.pathname||"/",f=v;if(c!=="/"){let k=c.replace(/^\//,"").split("/");f="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let N=RN(e,{pathname:f}),S=p3(N&&N.map(k=>Object.assign({},k,{params:Object.assign({},o,k.params),pathname:sa([c,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:sa([c,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,r,n);return t&&S?Q.createElement(Fh.Provider,{value:{location:$c({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Hi.Pop}},S):S}function u3(){let e=y3(),t=r3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},t),r?Q.createElement("pre",{style:s},r):null,null)}const d3=Q.createElement(u3,null);class h3 extends Q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?Q.createElement(yi.Provider,{value:this.props.routeContext},Q.createElement(T5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function f3(e){let{routeContext:t,match:r,children:n}=e,s=Q.useContext(Qg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),Q.createElement(yi.Provider,{value:t},n)}function p3(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let m=a.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);m>=0||jr(!1),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:f}=r,N=g.route.loader&&v[g.route.id]===void 0&&(!f||f[g.route.id]===void 0);if(g.route.lazy||N){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,g,v)=>{let f,N=!1,S=null,k=null;r&&(f=o&&g.route.id?o[g.route.id]:void 0,S=g.route.errorElement||d3,c&&(d<0&&v===0?(_3("route-fallback"),N=!0,k=null):d===v&&(N=!0,k=g.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,v+1)),b=()=>{let x;return f?x=S:N?x=k:g.route.Component?x=Q.createElement(g.route.Component,null):g.route.element?x=g.route.element:x=m,Q.createElement(f3,{match:g,routeContext:{outlet:m,matches:_,isDataRoute:r!=null},children:x})};return r&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?Q.createElement(h3,{location:r.location,revalidation:r.revalidation,component:S,error:f,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):b()},null)}var R5=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(R5||{}),D5=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(D5||{});function m3(e){let t=Q.useContext(Qg);return t||jr(!1),t}function g3(e){let t=Q.useContext(s3);return t||jr(!1),t}function v3(e){let t=Q.useContext(yi);return t||jr(!1),t}function F5(e){let t=v3(),r=t.matches[t.matches.length-1];return r.route.id||jr(!1),r.route.id}function y3(){var e;let t=Q.useContext(T5),r=g3(),n=F5();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function b3(){let{router:e}=m3(R5.UseNavigateStable),t=F5(D5.UseNavigateStable),r=Q.useRef(!1);return I5(()=>{r.current=!0}),Q.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,$c({fromRouteId:t},i)))},[e,t])}const Z1={};function _3(e,t,r){Z1[e]||(Z1[e]=!0)}function w3(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Sm(e){let{to:t,replace:r,state:n,relative:s}=e;gl()||jr(!1);let{future:i,static:a}=Q.useContext(fa),{matches:o}=Q.useContext(yi),{pathname:c}=pa(),d=vl(),m=Jg(t,Kg(o,i.v7_relativeSplatPath),c,s==="path"),g=JSON.stringify(m);return Q.useEffect(()=>d(JSON.parse(g),{replace:r,state:n,relative:s}),[d,g,s,r,n]),null}function Er(e){jr(!1)}function x3(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Hi.Pop,navigator:i,static:a=!1,future:o}=e;gl()&&jr(!1);let c=t.replace(/^\/*/,"/"),d=Q.useMemo(()=>({basename:c,navigator:i,static:a,future:$c({v7_relativeSplatPath:!1},o)}),[c,o,i,a]);typeof n=="string"&&(n=ml(n));let{pathname:m="/",search:g="",hash:v="",state:f=null,key:N="default"}=n,S=Q.useMemo(()=>{let k=Yg(m,c);return k==null?null:{location:{pathname:k,search:g,hash:v,state:f,key:N},navigationType:s}},[c,m,g,v,f,N,s]);return S==null?null:Q.createElement(fa.Provider,{value:d},Q.createElement(Fh.Provider,{children:r,value:S}))}function N3(e){let{children:t,location:r}=e;return l3(jm(t),r)}new Promise(()=>{});function jm(e,t){t===void 0&&(t=[]);let r=[];return Q.Children.forEach(e,(n,s)=>{if(!Q.isValidElement(n))return;let i=[...t,s];if(n.type===Q.Fragment){r.push.apply(r,jm(n.props.children,i));return}n.type!==Er&&jr(!1),!n.props.index||!n.props.children||jr(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=jm(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},km.apply(this,arguments)}function S3(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function j3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function k3(e,t){return e.button===0&&(!t||t==="_self")&&!j3(e)}const C3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],A3="6";try{window.__reactRouterVersion=A3}catch{}const E3="startTransition",ev=_w[E3];function P3(e){let{basename:t,children:r,future:n,window:s}=e,i=Q.useRef();i.current==null&&(i.current=TN({window:s,v5Compat:!0}));let a=i.current,[o,c]=Q.useState({action:a.action,location:a.location}),{v7_startTransition:d}=n||{},m=Q.useCallback(g=>{d&&ev?ev(()=>c(g)):c(g)},[c,d]);return Q.useLayoutEffect(()=>a.listen(m),[a,m]),Q.useEffect(()=>w3(n),[n]),Q.createElement(x3,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const L3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yi=Q.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:c,to:d,preventScrollReset:m,viewTransition:g}=t,v=S3(t,C3),{basename:f}=Q.useContext(fa),N,S=!1;if(typeof d=="string"&&T3.test(d)&&(N=d,L3))try{let x=new URL(window.location.href),P=d.startsWith("//")?new URL(x.protocol+d):new URL(d),$=Yg(P.pathname,f);P.origin===x.origin&&$!=null?d=$+P.search+P.hash:S=!0}catch{}let k=i3(d,{relative:s}),_=I3(d,{replace:a,state:o,target:c,preventScrollReset:m,relative:s,viewTransition:g});function b(x){n&&n(x),x.defaultPrevented||_(x)}return Q.createElement("a",km({},v,{href:N||k,onClick:S||i?n:b,ref:r,target:c}))});var tv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tv||(tv={}));var rv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(rv||(rv={}));function I3(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,c=vl(),d=pa(),m=O5(e,{relative:a});return Q.useCallback(g=>{if(k3(g,r)){g.preventDefault();let v=n!==void 0?n:fh(d)===fh(m);c(e,{replace:v,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[d,c,m,n,s,r,e,i,a,o])}const O3={},nv=e=>{let t;const r=new Set,n=(m,g)=>{const v=typeof m=="function"?m(t):m;if(!Object.is(v,t)){const f=t;t=g??(typeof v!="object"||v===null)?v:Object.assign({},t,v),r.forEach(N=>N(t,f))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>d,subscribe:m=>(r.add(m),()=>r.delete(m)),destroy:()=>{(O3?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=t=e(n,s,c);return c},R3=e=>e?nv(e):nv;var B5={exports:{}},U5={},M5={exports:{}},q5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ul=Q;function D3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var F3=typeof Object.is=="function"?Object.is:D3,B3=ul.useState,U3=ul.useEffect,M3=ul.useLayoutEffect,q3=ul.useDebugValue;function z3(e,t){var r=t(),n=B3({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return M3(function(){s.value=r,s.getSnapshot=t,ip(s)&&i({inst:s})},[e,r,t]),U3(function(){return ip(s)&&i({inst:s}),e(function(){ip(s)&&i({inst:s})})},[e]),q3(r),r}function ip(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!F3(e,r)}catch{return!0}}function $3(e,t){return t()}var V3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$3:z3;q5.useSyncExternalStore=ul.useSyncExternalStore!==void 0?ul.useSyncExternalStore:V3;M5.exports=q5;var G3=M5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh=Q,W3=G3;function H3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Y3=typeof Object.is=="function"?Object.is:H3,K3=W3.useSyncExternalStore,J3=Bh.useRef,Q3=Bh.useEffect,X3=Bh.useMemo,Z3=Bh.useDebugValue;U5.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=J3(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=X3(function(){function c(f){if(!d){if(d=!0,m=f,f=n(f),s!==void 0&&a.hasValue){var N=a.value;if(s(N,f))return g=N}return g=f}if(N=g,Y3(m,f))return N;var S=n(f);return s!==void 0&&s(N,S)?(m=f,N):(m=f,g=S)}var d=!1,m,g,v=r===void 0?null:r;return[function(){return c(t())},v===null?void 0:function(){return c(v())}]},[t,r,n,s]);var o=K3(e,i[0],i[1]);return Q3(function(){a.hasValue=!0,a.value=o},[o]),Z3(o),o};B5.exports=U5;var eS=B5.exports;const tS=p2(eS),z5={},{useDebugValue:rS}=j2,{useSyncExternalStoreWithSelector:nS}=tS;let sv=!1;const sS=e=>e;function iS(e,t=sS,r){(z5?"production":void 0)!=="production"&&r&&!sv&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),sv=!0);const n=nS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return rS(n),n}const iv=e=>{(z5?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?R3(e):e,r=(n,s)=>iS(t,n,s);return Object.assign(r,t),r},$5=e=>e?iv(e):iv,Bd="admin-auth",aS=()=>{if(typeof window>"u")return null;try{const e=localStorage.getItem(Bd);return e?JSON.parse(e):null}catch(e){return console.error("Failed to read auth storage",e),null}},Xg=$5(e=>({user:aS(),setUser:t=>{if(e({user:t}),t)try{localStorage.setItem(Bd,JSON.stringify(t))}catch(r){console.error("Failed to persist auth",r)}else localStorage.removeItem(Bd)},signOut:()=>{e({user:null}),localStorage.removeItem(Bd)}}));var Cm=function(e,t){return Cm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Cm(e,t)};function V5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Cm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ph=function(){return ph=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ph.apply(this,arguments)};function yl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function G5(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function W5(e,t){return function(r,n){t(r,n,e)}}function H5(e,t,r,n,s,i){function a(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var o=n.kind,c=o==="getter"?"get":o==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,m=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),g,v=!1,f=r.length-1;f>=0;f--){var N={};for(var S in n)N[S]=S==="access"?{}:n[S];for(var S in n.access)N.access[S]=n.access[S];N.addInitializer=function(_){if(v)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(_||null))};var k=(0,r[f])(o==="accessor"?{get:m.get,set:m.set}:m[c],N);if(o==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(g=a(k.get))&&(m.get=g),(g=a(k.set))&&(m.set=g),(g=a(k.init))&&s.unshift(g)}else(g=a(k))&&(o==="field"?s.unshift(g):m[c]=g)}d&&Object.defineProperty(d,n.name,m),v=!0}function Y5(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function K5(e){return typeof e=="symbol"?e:"".concat(e)}function J5(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Q5(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function at(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(m){try{d(n.next(m))}catch(g){a(g)}}function c(m){try{d(n.throw(m))}catch(g){a(g)}}function d(m){m.done?i(m.value):s(m.value).then(o,c)}d((n=n.apply(e,t||[])).next())})}function X5(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(d){return function(m){return c([d,m])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(m){d=[6,m],s=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Uh=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function Z5(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Uh(t,e,r)}function mh(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zg(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function eb(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Zg(arguments[t]));return e}function tb(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,s++)n[s]=i[a];return n}function rb(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function dl(e){return this instanceof dl?(this.v=e,this):new dl(e)}function nb(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(f){return function(N){return Promise.resolve(N).then(f,g)}}function o(f,N){n[f]&&(s[f]=function(S){return new Promise(function(k,_){i.push([f,S,k,_])>1||c(f,S)})},N&&(s[f]=N(s[f])))}function c(f,N){try{d(n[f](N))}catch(S){v(i[0][3],S)}}function d(f){f.value instanceof dl?Promise.resolve(f.value.v).then(m,g):v(i[0][2],f)}function m(f){c("next",f)}function g(f){c("throw",f)}function v(f,N){f(N),i.shift(),i.length&&c(i[0][0],i[0][1])}}function sb(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(a){return(r=!r)?{value:dl(e[s](a)),done:!1}:i?i(a):a}:i}}function ib(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof mh=="function"?mh(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(o,c){a=e[i](a),s(o,c,a.done,a.value)})}}function s(i,a,o,c){Promise.resolve(c).then(function(d){i({value:d,done:o})},a)}}function ab(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var oS=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Am=function(e){return Am=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Am(e)};function ob(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Am(e),n=0;n<r.length;n++)r[n]!=="default"&&Uh(t,e,r[n]);return oS(t,e),t}function lb(e){return e&&e.__esModule?e:{default:e}}function cb(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function ub(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function db(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function hb(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var lS=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function fb(e){function t(i){e.error=e.hasError?new lS(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return t(a),s()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function pb(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?t?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):e}const cS={__extends:V5,__assign:ph,__rest:yl,__decorate:G5,__param:W5,__esDecorate:H5,__runInitializers:Y5,__propKey:K5,__setFunctionName:J5,__metadata:Q5,__awaiter:at,__generator:X5,__createBinding:Uh,__exportStar:Z5,__values:mh,__read:Zg,__spread:eb,__spreadArrays:tb,__spreadArray:rb,__await:dl,__asyncGenerator:nb,__asyncDelegator:sb,__asyncValues:ib,__makeTemplateObject:ab,__importStar:ob,__importDefault:lb,__classPrivateFieldGet:cb,__classPrivateFieldSet:ub,__classPrivateFieldIn:db,__addDisposableResource:hb,__disposeResources:fb,__rewriteRelativeImportExtension:pb},uS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:hb,get __assign(){return ph},__asyncDelegator:sb,__asyncGenerator:nb,__asyncValues:ib,__await:dl,__awaiter:at,__classPrivateFieldGet:cb,__classPrivateFieldIn:db,__classPrivateFieldSet:ub,__createBinding:Uh,__decorate:G5,__disposeResources:fb,__esDecorate:H5,__exportStar:Z5,__extends:V5,__generator:X5,__importDefault:lb,__importStar:ob,__makeTemplateObject:ab,__metadata:Q5,__param:W5,__propKey:K5,__read:Zg,__rest:yl,__rewriteRelativeImportExtension:pb,__runInitializers:Y5,__setFunctionName:J5,__spread:eb,__spreadArray:rb,__spreadArrays:tb,__values:mh,default:cS},Symbol.toStringTag,{value:"Module"})),dS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class e0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class hS extends e0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class av extends e0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ov extends e0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Em;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Em||(Em={}));class fS{constructor(t,{headers:r={},customFetch:n,region:s=Em.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=dS(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return at(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:o,method:c,body:d,signal:m,timeout:g}=n;let v={},{region:f}=n;f||(f=this.region);const N=new URL(`${this.url}/${r}`);f&&f!=="any"&&(v["x-region"]=f,N.searchParams.set("forceFunctionRegion",f));let S;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=d):typeof d=="string"?(v["Content-Type"]="text/plain",S=d):typeof FormData<"u"&&d instanceof FormData?S=d:(v["Content-Type"]="application/json",S=JSON.stringify(d)):S=d;let k=m;g&&(a=new AbortController,i=setTimeout(()=>a.abort(),g),m?(k=a.signal,m.addEventListener("abort",()=>a.abort())):k=a.signal);const _=yield this.fetch(N.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),o),body:S,signal:k}).catch($=>{throw new hS($)}),b=_.headers.get("x-relay-error");if(b&&b==="true")throw new av(_);if(!_.ok)throw new ov(_);let x=((s=_.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),P;return x==="application/json"?P=yield _.json():x==="application/octet-stream"||x==="application/pdf"?P=yield _.blob():x==="text/event-stream"?P=_:x==="multipart/form-data"?P=yield _.formData():P=yield _.text(),{data:P,error:null,response:_}}catch(o){return{data:null,error:o,response:o instanceof ov||o instanceof av?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var bn={};const bl=sw(uS);var ld={},cd={},ud={},dd={},hd={},fd={},lv;function mb(){if(lv)return fd;lv=1,Object.defineProperty(fd,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return fd.default=e,fd}var cv;function gb(){if(cv)return hd;cv=1,Object.defineProperty(hd,"__esModule",{value:!0});const t=bl.__importDefault(mb());class r{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,m,g,v;let f=null,N=null,S=null,k=c.status,_=c.statusText;if(c.ok){if(this.method!=="HEAD"){const $=await c.text();$===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?N=$:N=JSON.parse($))}const x=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),P=(g=c.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");x&&P&&P.length>1&&(S=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(f={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,S=null,k=406,_="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const x=await c.text();try{f=JSON.parse(x),Array.isArray(f)&&c.status===404&&(N=[],f=null,k=200,_="OK")}catch{c.status===404&&x===""?(k=204,_="No Content"):f={message:x}}if(f&&this.isMaybeSingle&&(!((v=f==null?void 0:f.details)===null||v===void 0)&&v.includes("0 rows"))&&(f=null,k=200,_="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:N,count:S,status:k,statusText:_}});return this.shouldThrowOnError||(o=o.catch(c=>{var d,m,g;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(m=c==null?void 0:c.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(g=c==null?void 0:c.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),o.then(s,i)}returns(){return this}overrideTypes(){return this}}return hd.default=r,hd}var uv;function vb(){if(uv)return dd;uv=1,Object.defineProperty(dd,"__esModule",{value:!0});const t=bl.__importDefault(gb());class r extends t.default{select(s){let i=!1;const a=(s??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.order`:"order",m=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${m?`${m},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"offset":`${o}.offset`,d=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(d,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:o=!1,wal:c=!1,format:d="text"}={}){var m;const g=[s?"analyze":null,i?"verbose":null,a?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${v}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return dd.default=r,dd}var dv;function t0(){if(dv)return ud;dv=1,Object.defineProperty(ud,"__esModule",{value:!0});const t=bl.__importDefault(vb()),r=new RegExp("[,()]");class n extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const m=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${d}fts${m}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return ud.default=n,ud}var hv;function yb(){if(hv)return cd;hv=1,Object.defineProperty(cd,"__esModule",{value:!0});const t=bl.__importDefault(t0());class r{constructor(s,{headers:i={},schema:a,fetch:o}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=o}select(s,i){const{head:a=!1,count:o}=i??{},c=a?"HEAD":"GET";let d=!1;const m=(s??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",m),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var o;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(d.length>0){const m=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:o,defaultToNull:c=!0}={}){var d;const m="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((v,f)=>v.concat(Object.keys(f)),[]);if(g.length>0){const v=[...new Set(g)].map(f=>`"${f}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:i}={}){var a;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return cd.default=r,cd}var fv;function pS(){if(fv)return ld;fv=1,Object.defineProperty(ld,"__esModule",{value:!0});const e=bl,t=e.__importDefault(yb()),r=e.__importDefault(t0());class n{constructor(i,{headers:a={},schema:o,fetch:c}={}){this.url=i,this.headers=new Headers(a),this.schemaName=o,this.fetch=c}from(i){const a=new URL(`${this.url}/${i}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:o=!1,get:c=!1,count:d}={}){var m;let g;const v=new URL(`${this.url}/rpc/${i}`);let f;o||c?(g=o?"HEAD":"GET",Object.entries(a).filter(([S,k])=>k!==void 0).map(([S,k])=>[S,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([S,k])=>{v.searchParams.append(S,k)})):(g="POST",f=a);const N=new Headers(this.headers);return d&&N.set("Prefer",`count=${d}`),new r.default({method:g,url:v,headers:N,schema:this.schemaName,body:f,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return ld.default=n,ld}Object.defineProperty(bn,"__esModule",{value:!0});var bb=bn.PostgrestError=Eb=bn.PostgrestBuilder=Cb=bn.PostgrestTransformBuilder=jb=bn.PostgrestFilterBuilder=Nb=bn.PostgrestQueryBuilder=wb=bn.PostgrestClient=void 0;const _l=bl,_b=_l.__importDefault(pS());var wb=bn.PostgrestClient=_b.default;const xb=_l.__importDefault(yb());var Nb=bn.PostgrestQueryBuilder=xb.default;const Sb=_l.__importDefault(t0());var jb=bn.PostgrestFilterBuilder=Sb.default;const kb=_l.__importDefault(vb());var Cb=bn.PostgrestTransformBuilder=kb.default;const Ab=_l.__importDefault(gb());var Eb=bn.PostgrestBuilder=Ab.default;const Pb=_l.__importDefault(mb());bb=bn.PostgrestError=Pb.default;var Lb=bn.default={PostgrestClient:_b.default,PostgrestQueryBuilder:xb.default,PostgrestFilterBuilder:Sb.default,PostgrestTransformBuilder:kb.default,PostgrestBuilder:Ab.default,PostgrestError:Pb.default};const mS=f2({__proto__:null,get PostgrestBuilder(){return Eb},get PostgrestClient(){return wb},get PostgrestError(){return bb},get PostgrestFilterBuilder(){return jb},get PostgrestQueryBuilder(){return Nb},get PostgrestTransformBuilder(){return Cb},default:Lb},[bn]),{PostgrestClient:gS,PostgrestQueryBuilder:Mk,PostgrestFilterBuilder:qk,PostgrestTransformBuilder:zk,PostgrestBuilder:$k,PostgrestError:Vk}=Lb||mS;class vS{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const yS="2.81.1",bS=`realtime-js/${yS}`,Tb="1.0.0",_S="2.0.0",pv=Tb,Pm=1e4,wS=1e3,xS=100;var Ta;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ta||(Ta={}));var Or;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Or||(Or={}));var is;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(is||(is={}));var Lm;(function(e){e.websocket="websocket"})(Lm||(Lm={}));var Ia;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ia||(Ia={}));class NS{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){const{join_ref:r,ref:n,event:s,topic:i,payload:a}=t,o=this.META_LENGTH+r.length+n.length+i.length+s.length,c=new ArrayBuffer(this.HEADER_LENGTH+o);let d=new DataView(c),m=0;d.setUint8(m++,this.KINDS.push),d.setUint8(m++,r.length),d.setUint8(m++,n.length),d.setUint8(m++,i.length),d.setUint8(m++,s.length),Array.from(r,v=>d.setUint8(m++,v.charCodeAt(0))),Array.from(n,v=>d.setUint8(m++,v.charCodeAt(0))),Array.from(i,v=>d.setUint8(m++,v.charCodeAt(0))),Array.from(s,v=>d.setUint8(m++,v.charCodeAt(0)));var g=new Uint8Array(c.byteLength+a.byteLength);return g.set(new Uint8Array(c),0),g.set(new Uint8Array(a),c.byteLength),g.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const{join_ref:s,ref:i,topic:a}=t,o=t.payload.event,c=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+a.length+o.length,m=new ArrayBuffer(this.HEADER_LENGTH+d);let g=new DataView(m),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,s.length),g.setUint8(v++,i.length),g.setUint8(v++,a.length),g.setUint8(v++,o.length),g.setUint8(v++,this.BINARY_ENCODING),Array.from(s,N=>g.setUint8(v++,N.charCodeAt(0))),Array.from(i,N=>g.setUint8(v++,N.charCodeAt(0))),Array.from(a,N=>g.setUint8(v++,N.charCodeAt(0))),Array.from(o,N=>g.setUint8(v++,N.charCodeAt(0)));var f=new Uint8Array(m.byteLength+c.byteLength);return f.set(new Uint8Array(m),0),f.set(new Uint8Array(c),m.byteLength),f.buffer}_encodeJsonUserBroadcastPush(t){var r,n;const{join_ref:s,ref:i,topic:a}=t,o=t.payload.event,c=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},m=new TextEncoder().encode(JSON.stringify(c)).buffer,g=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+a.length+o.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let f=new DataView(v),N=0;f.setUint8(N++,this.KINDS.userBroadcastPush),f.setUint8(N++,s.length),f.setUint8(N++,i.length),f.setUint8(N++,a.length),f.setUint8(N++,o.length),f.setUint8(N++,this.JSON_ENCODING),Array.from(s,k=>f.setUint8(N++,k.charCodeAt(0))),Array.from(i,k=>f.setUint8(N++,k.charCodeAt(0))),Array.from(a,k=>f.setUint8(N++,k.charCodeAt(0))),Array.from(o,k=>f.setUint8(N++,k.charCodeAt(0)));var S=new Uint8Array(v.byteLength+m.byteLength);return S.set(new Uint8Array(v),0),S.set(new Uint8Array(m),v.byteLength),S.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,o,c]=n;return r({join_ref:s,ref:i,topic:a,event:o,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,s);case this.KINDS.reply:return this._decodeReply(t,r,s);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodePush(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3);let o=this.HEADER_LENGTH+this.META_LENGTH-1;const c=n.decode(t.slice(o,o+s));o=o+s;const d=n.decode(t.slice(o,o+i));o=o+i;const m=n.decode(t.slice(o,o+a));o=o+a;const g=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{join_ref:c,ref:null,topic:d,event:m,payload:g}}_decodeReply(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let c=this.HEADER_LENGTH+this.META_LENGTH;const d=n.decode(t.slice(c,c+s));c=c+s;const m=n.decode(t.slice(c,c+i));c=c+i;const g=n.decode(t.slice(c,c+a));c=c+a;const v=n.decode(t.slice(c,c+o));c=c+o;const f=JSON.parse(n.decode(t.slice(c,t.byteLength))),N={status:v,response:f};return{join_ref:d,ref:m,topic:g,event:is.reply,payload:N}}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+i));a=a+i;const d=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{join_ref:null,ref:null,topic:o,event:c,payload:d}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let c=this.HEADER_LENGTH+4;const d=n.decode(t.slice(c,c+s));c=c+s;const m=n.decode(t.slice(c,c+i));c=c+i;const g=n.decode(t.slice(c,c+a));c=c+a;const v=t.slice(c,t.byteLength),f=o===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,N={type:this.BROADCAST,event:m,payload:f};return a>0&&(N.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST,payload:N}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Ib{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Zt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Zt||(Zt={}));const mv=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=SS(a,e,t,s),i),{}):{}},SS=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Ob(i,a):Tm(a)},Ob=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return AS(t,r)}switch(e){case Zt.bool:return jS(t);case Zt.float4:case Zt.float8:case Zt.int2:case Zt.int4:case Zt.int8:case Zt.numeric:case Zt.oid:return kS(t);case Zt.json:case Zt.jsonb:return CS(t);case Zt.timestamp:return ES(t);case Zt.abstime:case Zt.date:case Zt.daterange:case Zt.int4range:case Zt.int8range:case Zt.money:case Zt.reltime:case Zt.text:case Zt.time:case Zt.timestamptz:case Zt.timetz:case Zt.tsrange:case Zt.tstzrange:return Tm(t);default:return Tm(t)}},Tm=e=>e,jS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},CS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},AS=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Ob(t,o))}return e},ES=e=>typeof e=="string"?e.replace(" ","T"):e,Rb=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ap{constructor(t,r,n={},s=Pm){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gv||(gv={}));class xc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xc.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=xc.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xc.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},c={};return this.map(i,(d,m)=>{a[d]||(c[d]=m)}),this.map(a,(d,m)=>{const g=i[d];if(g){const v=m.map(k=>k.presence_ref),f=g.map(k=>k.presence_ref),N=m.filter(k=>f.indexOf(k.presence_ref)<0),S=g.filter(k=>v.indexOf(k.presence_ref)<0);N.length>0&&(o[d]=N),S.length>0&&(c[d]=S)}else o[d]=m}),this.syncDiff(i,{joins:o,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var d;const m=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(c),m.length>0){const g=t[o].map(f=>f.presence_ref),v=m.filter(f=>g.indexOf(f.presence_ref)<0);t[o].unshift(...v)}n(o,m,c)}),this.map(a,(o,c)=>{let d=t[o];if(!d)return;const m=c.map(g=>g.presence_ref);d=d.filter(g=>m.indexOf(g.presence_ref)<0),t[o]=d,s(o,d,c),d.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vv||(vv={}));var Nc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Nc||(Nc={}));var oi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(oi||(oi={}));class r0{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Or.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ap(this,is.join,this.params,this.timeout),this.rejoinTimer=new Ib(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Or.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Or.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this._on(is.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new xc(this),this.broadcastEndpointURL=Rb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Or.closed){const{config:{broadcast:a,presence:o,private:c}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],m=!!this.bindings[Nc.PRESENCE]&&this.bindings[Nc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},v={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:m}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(oi.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(oi.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var N;if(this.socket.setAuth(),f===void 0){t==null||t(oi.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,k=(N=S==null?void 0:S.length)!==null&&N!==void 0?N:0,_=[];for(let b=0;b<k;b++){const x=S[b],{filter:{event:P,schema:$,table:Z,filter:V}}=x,U=f&&f[b];if(U&&U.event===P&&U.schema===$&&U.table===Z&&U.filter===V)_.push(Object.assign(Object.assign({},x),{id:U.id}));else{this.unsubscribe(),this.state=Or.errored,t==null||t(oi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(oi.SUBSCRIBED);return}}).receive("error",f=>{this.state=Or.errored,t==null||t(oi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(oi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Or.joined&&t===Nc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const d=await o.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Or.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(is.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ap(this,is.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Or.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ap(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>xS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:c,leave:d,join:m}=is;if(n&&[o,c,d,m].indexOf(a)>=0&&n!==this._joinRef())return;let v=this._onMessage(a,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var N,S,k;return((N=f.filter)===null||N===void 0?void 0:N.event)==="*"||((k=(S=f.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===a}).map(f=>f.callback(v,n)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var N,S,k,_,b,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const P=f.id,$=(N=f.filter)===null||N===void 0?void 0:N.event;return P&&((S=r.ids)===null||S===void 0?void 0:S.includes(P))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const P=(b=(_=f==null?void 0:f.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return P==="*"||P===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof v=="object"&&"ids"in v){const N=v.data,{schema:S,table:k,commit_timestamp:_,type:b,errors:x}=N;v=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:_,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(N))}f.callback(v,n)})}_isClosed(){return this.state===Or.closed}_isJoined(){return this.state===Or.joined}_isJoining(){return this.state===Or.joining}_isLeaving(){return this.state===Or.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&r0.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(is.close,{},t)}_onError(t){this._on(is.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Or.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=mv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=mv(t.columns,t.old_record)),r}}const op=()=>{},pd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},PS=[1e3,2e3,5e3,1e4],LS=1e4,TS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class IS{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pm,this.transport=null,this.heartbeatIntervalMs=pd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=op,this.ref=0,this.reconnectTimer=null,this.vsn=pv,this.logger=op,this.conn=null,this.sendBuffer=[],this.serializer=new NS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Lm.websocket}`,this.httpEndpoint=Rb(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ta.connecting:return Ia.Connecting;case Ta.open:return Ia.Open;case Ta.closing:return Ia.Closing;default:return Ia.Closed}}isConnected(){return this.connectionState()===Ia.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new r0(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(wS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},pd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${o}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ta.open||this.conn.readyState===Ta.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(is.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([TS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:bS};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(is.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Ib(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,o,c,d,m,g,v,f;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Pm,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:pd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:op,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:pv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:N=>PS[N-1]||LS,this.vsn){case Tb:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:(N,S)=>S(JSON.stringify(N)),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:(N,S)=>S(JSON.parse(N));break;case _S:this.encode=(v=t==null?void 0:t.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class n0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ar(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class OS extends n0{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Im extends n0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const s0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),RS=()=>Response,Om=e=>{if(Array.isArray(e))return e.map(r=>Om(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Om(n)}),t},DS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},FS=(e,t,r)=>at(void 0,void 0,void 0,function*(){const n=yield RS();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new OS(lp(s),i,a))}).catch(s=>{t(new Im(lp(s),s))}):t(new Im(lp(e),e))}),BS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(DS(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function tu(e,t,r,n,s,i){return at(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,BS(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>FS(c,o,n))})})}function Vc(e,t,r,n){return at(this,void 0,void 0,function*(){return tu(e,"GET",t,r,n)})}function Ss(e,t,r,n,s){return at(this,void 0,void 0,function*(){return tu(e,"POST",t,n,s,r)})}function Rm(e,t,r,n,s){return at(this,void 0,void 0,function*(){return tu(e,"PUT",t,n,s,r)})}function US(e,t,r,n){return at(this,void 0,void 0,function*(){return tu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function i0(e,t,r,n,s){return at(this,void 0,void 0,function*(){return tu(e,"DELETE",t,n,s,r)})}class MS{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return at(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ar(t))return{data:null,error:t};throw t}})}}var Db;class qS{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Db]="BlobDownloadBuilder",this.promise=null}asStream(){return new MS(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return at(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ar(t))return{data:null,error:t};throw t}})}}Db=Symbol.toStringTag;const zS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $S{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=s0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return at(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},yv),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const d=this._removeEmptyFolders(r),m=this._getFinalPath(d),g=yield(t=="PUT"?Rm:Ss)(this.fetch,`${this.url}/object/${m}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:g.Id,fullPath:g.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ar(i))return{data:null,error:i};throw i}})}upload(t,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return at(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:yv.upsert},s),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType);const g=yield Rm(this.fetch,o.toString(),c,{headers:m});return{data:{path:i,fullPath:g.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ar(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return at(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ss(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new n0("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}})}update(t,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return at(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ar(s))return{data:null,error:s};throw s}})}copy(t,r,n){return at(this,void 0,void 0,function*(){try{return{data:{path:(yield Ss(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ar(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return at(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ss(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ar(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return at(this,void 0,void 0,function*(){try{const s=yield Ss(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ar(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",o=this._getFinalPath(t),c=()=>Vc(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new qS(c,this.shouldThrowOnError)}info(t){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Vc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Om(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}})}exists(t){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield US(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ar(n)&&n instanceof Im){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(t){return at(this,void 0,void 0,function*(){try{return{data:yield i0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}})}list(t,r,n){return at(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},zS),r),{prefix:t||""});return{data:yield Ss(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ar(s))return{data:null,error:s};throw s}})}listV2(t,r){return at(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ss(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Fb="2.81.1",Bb={"X-Client-Info":`storage-js/${Fb}`};class VS{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bb),r),this.fetch=s0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return at(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Vc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}})}getBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield Vc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}})}createBucket(t){return at(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ss(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ar(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return at(this,void 0,void 0,function*(){try{return{data:yield Rm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}})}emptyBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}})}deleteBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield i0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class GS{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bb),r),this.fetch=s0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}})}listBuckets(t){return at(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Vc(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}})}deleteBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield i0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}})}}const a0={"X-Client-Info":`storage-js/${Fb}`,"Content-Type":"application/json"};class Ub extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function zn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class cp extends Ub{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class WS extends Ub{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var bv;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(bv||(bv={}));const o0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),HS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_v=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YS=(e,t,r)=>at(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";t(new cp(_v(a),s,o))}).catch(()=>{const a=s+"",o=i.statusText||`HTTP ${s} error`;t(new cp(o,s,a))});else{const a=s+"",o=i.statusText||`HTTP ${s} error`;t(new cp(o,s,a))}}else t(new WS(_v(e),e))}),KS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(HS(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function JS(e,t,r,n,s,i){return at(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,KS(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>YS(c,o,n))})})}function $n(e,t,r,n,s){return at(this,void 0,void 0,function*(){return JS(e,"POST",t,n,s,r)})}class QS{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},a0),r),this.fetch=o0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return at(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}getIndex(t,r){return at(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}listIndexes(t){return at(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return at(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}}class XS{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},a0),r),this.fetch=o0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return at(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield $n(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}getVectors(t){return at(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}listVectors(t){return at(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield $n(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}queryVectors(t){return at(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}deleteVectors(t){return at(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield $n(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}}class ZS{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},a0),r),this.fetch=o0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return at(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}getBucket(t){return at(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}listBuckets(){return at(this,arguments,void 0,function*(t={}){try{return{data:yield $n(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return at(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}}class e4 extends ZS{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new t4(this.url,this.headers,t,this.fetch)}}class t4 extends QS{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return at(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return at(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return at(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return at(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new r4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class r4 extends XS{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return at(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return at(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return at(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return at(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return at(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class n4 extends VS{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new $S(this.url,this.headers,t,this.fetch)}get vectors(){return new e4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new GS(this.url+"/iceberg",this.headers,this.fetch)}}const s4="2.81.1";let hc="";typeof Deno<"u"?hc="deno":typeof document<"u"?hc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hc="react-native":hc="node";const i4={"X-Client-Info":`supabase-js-${hc}/${s4}`},a4={headers:i4},o4={schema:"public"},l4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},c4={},u4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),d4=()=>Headers,h4=(e,t,r)=>{const n=u4(r),s=d4();return async(i,a)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let d=new s(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:d}))}};function f4(e){return e.endsWith("/")?e:e+"/"}function p4(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:c,auth:d,realtime:m,global:g}=t,v={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},m),a),storage:{},global:Object.assign(Object.assign(Object.assign({},g),o),{headers:Object.assign(Object.assign({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function m4(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(f4(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Mb="2.81.1",Eo=30*1e3,Dm=3,up=Dm*Eo,g4="http://localhost:9999",v4="supabase.auth.token",y4={"X-Client-Info":`gotrue-js/${Mb}`},Fm="X-Supabase-Api-Version",qb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},b4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_4=10*60*1e3;class Gc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function lt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class w4 extends Gc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function x4(e){return lt(e)&&e.name==="AuthApiError"}class Oa extends Gc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ma extends Gc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ws extends ma{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function N4(e){return lt(e)&&e.name==="AuthSessionMissingError"}class xo extends ma{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class md extends ma{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class gd extends ma{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function S4(e){return lt(e)&&e.name==="AuthImplicitGrantRedirectError"}class wv extends ma{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bm extends ma{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function dp(e){return lt(e)&&e.name==="AuthRetryableFetchError"}class xv extends ma{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Um extends ma{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const gh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nv=` 	
\r=`.split(""),j4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Nv.length;t+=1)e[Nv[t].charCodeAt(0)]=-2;for(let t=0;t<gh.length;t+=1)e[gh[t].charCodeAt(0)]=t;return e})();function Sv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(gh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(gh[n]),t.queuedBits-=6}}function zb(e,t,r){const n=j4[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jv(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{A4(a,n,r)};for(let a=0;a<e.length;a+=1)zb(e.charCodeAt(a),s,i);return t.join("")}function k4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function C4(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}k4(n,t)}}function A4(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Xo(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)zb(e.charCodeAt(s),r,n);return new Uint8Array(t)}function E4(e){const t=[];return C4(e,r=>t.push(r)),new Uint8Array(t)}function Ua(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Sv(s,r,n)),Sv(null,r,n),t.join("")}function P4(e){return Math.round(Date.now()/1e3)+e}function L4(){return Symbol("auth-callback")}const Jr=()=>typeof window<"u"&&typeof document<"u",ka={tested:!1,writable:!1},$b=()=>{if(!Jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ka.tested)return ka.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ka.tested=!0,ka.writable=!0}catch{ka.tested=!0,ka.writable=!1}return ka.writable};function T4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Vb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),I4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Po=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ca=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Fi=async(e,t)=>{await e.removeItem(t)};class Mh{constructor(){this.promise=new Mh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Mh.promiseConstructor=Promise;function hp(e){const t=e.split(".");if(t.length!==3)throw new Um("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!b4.test(t[n]))throw new Um("JWT not in base64url format");return{header:JSON.parse(jv(t[0])),payload:JSON.parse(jv(t[1])),signature:Xo(t[2]),raw:{header:t[0],payload:t[1]}}}async function O4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function R4(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function D4(e){return("0"+e.toString(16)).substr(-2)}function F4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,D4).join("")}async function B4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function U4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await B4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function No(e,t,r=!1){const n=F4();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Po(e,`${t}-code-verifier`,s);const i=await U4(n);return[i,n===i?"plain":"s256"]}const M4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function q4(e){const t=e.headers.get(Fm);if(!t||!t.match(M4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function z4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const V4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function So(e){if(!V4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function G4(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function kv(e){return JSON.parse(JSON.stringify(e))}const Pa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),W4=[502,503,504];async function Cv(e){var t;if(!I4(e))throw new Bm(Pa(e),0);if(W4.includes(e.status))throw new Bm(Pa(e),e.status);let r;try{r=await e.json()}catch(i){throw new Oa(Pa(i),i)}let n;const s=q4(e);if(s&&s.getTime()>=qb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xv(Pa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ws}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new xv(Pa(r),e.status,r.weak_password.reasons);throw new w4(Pa(r),e.status||500,n)}const H4=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function wt(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Fm]||(i[Fm]=qb["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Y4(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Y4(e,t,r,n,s,i){const a=H4(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new Bm(Pa(c),0)}if(o.ok||await Cv(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Cv(c)}}function xs(e){var t;let r=null;Q4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=P4(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Av(e){const t=xs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Vi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function K4(e){return{data:e,error:null}}function J4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=yl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function Ev(e){return e}function Q4(e){return e.access_token&&e.refresh_token&&e.expires_in}const pp=["global","local","others"];class X4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Vb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=pp[0]){if(pp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pp.join(", ")}`);try{return await wt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await wt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Vi})}catch(n){if(lt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=yl(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await wt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:J4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(lt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await wt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Vi})}catch(r){if(lt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,c;try{const d={nextPage:null,lastPage:0,total:0},m=await wt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ev});if(m.error)throw m.error;const g=await m.json(),v=(a=m.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(o=m.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(N=>{const S=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(N.split(";")[1].split("=")[1]);d[`${k}Page`]=S}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(lt(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){So(t);try{return await wt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Vi})}catch(r){if(lt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){So(t);try{return await wt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Vi})}catch(n){if(lt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){So(t);try{return await wt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Vi})}catch(n){if(lt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){So(t.userId);try{const{data:r,error:n}=await wt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(lt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){So(t.userId),So(t.id);try{return{data:await wt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,o,c;try{const d={nextPage:null,lastPage:0,total:0},m=await wt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ev});if(m.error)throw m.error;const g=await m.json(),v=(a=m.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(o=m.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(N=>{const S=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(N.split(";")[1].split("=")[1]);d[`${k}Page`]=S}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(lt(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await wt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(lt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await wt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(lt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await wt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(lt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await wt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await wt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(lt(r))return{data:null,error:r};throw r}}}function Pv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const jo={debug:!!(globalThis&&$b()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Z4 extends Gb{}async function ej(e,t,r){jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),jo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Z4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(jo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function tj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Wb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function rj(e){return parseInt(e,16)}function nj(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function sj(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:c,resources:d,scheme:m,uri:g,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=Wb(e.address),N=m?`${m}://${n}`:n,S=e.statement?`${e.statement}
`:"",k=`${N} wants you to sign in with your Ethereum account:
${f}

${S}`;let _=`URI: ${g}
Version: ${v}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(_+=`
Expiration Time: ${s.toISOString()}`),o&&(_+=`
Not Before: ${o.toISOString()}`),c&&(_+=`
Request ID: ${c}`),d){let b=`
Resources:`;for(const x of d){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);b+=`
- ${x}`}_+=b}return`${k}
${_}`}class Pr extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class vh extends Pr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function ij({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Pr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Pr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Pr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Pr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Pr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Pr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Pr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Hb(a)){if(i.rp.id!==a)return new Pr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Pr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Pr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function aj({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Pr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Hb(n)){if(r.rpId!==n)return new Pr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Pr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class oj{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const lj=new oj;function cj(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=yl(e,["challenge","user","excludeCredentials"]),i=Xo(t).buffer,a=Object.assign(Object.assign({},r),{id:Xo(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];o.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Xo(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function uj(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=yl(e,["challenge","allowCredentials"]),s=Xo(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Xo(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function dj(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ua(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ua(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hj(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ua(new Uint8Array(s.authenticatorData)),clientDataJSON:Ua(new Uint8Array(s.clientDataJSON)),signature:Ua(new Uint8Array(s.signature)),userHandle:s.userHandle?Ua(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Hb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Lv(){var e,t;return!!(Jr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function fj(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vh("Browser returned unexpected credential type",t)}:{data:null,error:new vh("Empty credential response",t)}}catch(t){return{data:null,error:ij({error:t,options:e})}}}async function pj(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vh("Browser returned unexpected credential type",t)}:{data:null,error:new vh("Empty credential response",t)}}catch(t){return{data:null,error:aj({error:t,options:e})}}}const mj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yh(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const o=n[i];t(o)?n[i]=yh(o,a):n[i]=yh(a)}else n[i]=a}return n}function vj(e,t){return yh(mj,e,t||{})}function yj(e,t){return yh(gj,e,t||{})}class bj{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:o};const c=s??lj.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=vj(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:m,error:g}=await fj({publicKey:d,signal:c});return m?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const d=yj(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:m,error:g}=await pj(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:c}));return m?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(a){return lt(a)?{data:null,error:a}:{data:null,error:new Oa("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Gc("rpId is required for WebAuthn authentication")};try{if(!Lv())return{data:null,error:new Oa("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return lt(a)?{data:null,error:a}:{data:null,error:new Oa("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Gc("rpId is required for WebAuthn registration")};try{if(!Lv())return{data:null,error:new Oa("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:o};const{data:c,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(a){return lt(a)?{data:null,error:a}:{data:null,error:new Oa("Unexpected error in register",a)}}}}tj();const _j={url:g4,storageKey:v4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:y4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Tv(e,t,r){return await r()}const ko={};class Wc{get jwks(){var t,r;return(r=(t=ko[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ko[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},_j),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Wc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Wc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Jr()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new X4({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Vb(i.fetch),this.lock=i.lock||Tv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Jr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ej:this.lock=Tv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:$b()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pv(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Pv(this.memoryStorage)),Jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Mb}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Jr()&&(r=T4(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Jr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),S4(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return lt(r)?this._returnResult({error:r}):this._returnResult({error:new Oa("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:xs}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(lt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:m,password:g,options:v}=t;let f=null,N=null;this.flowType==="pkce"&&([f,N]=await No(this.storage,this.storageKey)),i=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:m,password:g,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:f,code_challenge_method:N},xform:xs})}else if("phone"in t){const{phone:m,password:g,options:v}=t;i=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:xs})}else throw new md("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(lt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Av})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Av})}else throw new md("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new xo;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(lt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,o,c,d,m,g,v;let f,N;if("message"in t)f=t.message,N=t.signature;else{const{chain:S,wallet:k,statement:_,options:b}=t;let x;if(Jr())if(typeof k=="object")x=k;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")x=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=k}const P=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),$=await x.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=Wb($[0]);let V=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!V){const O=await x.request({method:"eth_chainId"});V=rj(O)}const U={domain:P.host,address:Z,statement:_,uri:P.href,version:"1",chainId:V,nonce:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(m=b==null?void 0:b.signInWithEthereum)===null||m===void 0?void 0:m.resources};f=sj(U),N=await x.request({method:"personal_sign",params:[nj(f),Z]})}try{const{data:S,error:k}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:N},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:xs});if(k)throw k;if(!S||!S.session||!S.user){const _=new xo;return this._returnResult({data:{user:null,session:null},error:_})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:k})}catch(S){if(lt(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var r,n,s,i,a,o,c,d,m,g,v,f;let N,S;if("message"in t)N=t.message,S=t.signature;else{const{chain:k,wallet:_,statement:b,options:x}=t;let P;if(Jr())if(typeof _=="object")P=_;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))P=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=_}const $=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const Z=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),b?{statement:b}:null));let V;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")V=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)V=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)N=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),S=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${$.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((d=x==null?void 0:x.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((g=(m=x==null?void 0:x.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...x.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const Z=await P.signMessage(new TextEncoder().encode(N),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=Z}}try{const{data:k,error:_}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Ua(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:xs});if(_)throw _;if(!k||!k.session||!k.user){const b=new xo;return this._returnResult({data:{user:null,session:null},error:b})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:_})}catch(k){if(lt(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const r=await Ca(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:xs});if(await Fi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new xo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(lt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xs}),{data:c,error:d}=o;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const m=new xo;return this._returnResult({data:{user:null,session:null},error:m})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(lt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:c}=t;let d=null,m=null;this.flowType==="pkce"&&([d,m]=await No(this.storage,this.storageKey));const{error:g}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:m},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:o,options:c}=t,{data:d,error:m}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:m})}throw new md("You must provide either an email or phone number.")}catch(o){if(lt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await wt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:xs});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,d=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(s){if(lt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await No(this.storage,this.storageKey));const d=await wt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:K4});return!((i=d.data)===null||i===void 0)&&i.url&&Jr()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(o){if(lt(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ws;const{error:s}=await wt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(lt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await wt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await wt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new md("You must provide either an email or phone number and a type")}catch(r){if(lt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ca(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<up:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Ca(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=fp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=G4(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Vi}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ws}:await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Vi})})}catch(r){if(lt(r))return N4(r)&&(await this._removeSession(),await Fi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ws;const a=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await No(this.storage,this.storageKey));const{data:d,error:m}=await wt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:Vi});if(m)throw m;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(lt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ws;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=hp(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(lt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ws;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(lt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Jr())throw new gd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new wv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new wv("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:d}=t;if(!i||!o||!a||!d)throw new gd("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(o);let v=m+g;c&&(v=parseInt(c));const f=v-m;f*1e3<=Eo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${g}s`);const N=v-g;m-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,v,m):m-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,v,m);const{data:S,error:k}=await this._getUser(i);if(k)throw k;const _={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:g,expires_at:v,refresh_token:a,token_type:d,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:t.type},error:null})}catch(n){if(lt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ca(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(x4(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Fi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=L4(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await No(this.storage,this.storageKey,!0));try{return await wt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(lt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(lt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,c,d,m;const{data:g,error:v}=i;if(v)throw v;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await wt(this.fetch,"GET",f,{headers:this.headers,jwt:(m=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&m!==void 0?m:void 0})});if(s)throw s;return Jr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(lt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:c,access_token:d,nonce:m}=t,g=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:c,access_token:d,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xs}),{data:v,error:f}=g;return f?this._returnResult({data:{user:null,session:null},error:f}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new xo}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:f}))}catch(s){if(lt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await wt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(lt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await R4(async s=>(s>0&&await O4(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await wt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xs})),(s,i)=>{const a=200*Math.pow(2,s);return i&&dp(i)&&Date.now()+a-n<Eo})}catch(n){if(this._debug(r,"error",n),lt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Jr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Ca(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Ca(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Po(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:fp()}else if(s&&!s.user&&!s.user){const a=await Ca(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Fi(this.storage,this.storageKey+"-user"),await Po(this.storage,this.storageKey,s)):s.user=fp()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<up;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${up}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),dp(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ws;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Mh;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new ws;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),lt(i)){const a={data:null,error:i};return dp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Po(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=kv(s);await Po(this.storage,this.storageKey,i)}else{const s=kv(r);await Po(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Fi(this.storage,this.storageKey),await Fi(this.storage,this.storageKey+"-code-verifier"),await Fi(this.storage,this.storageKey+"-user"),this.userStorage&&await Fi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Jr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Eo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Eo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Eo}ms, refresh threshold is ${Dm} ticks`),s<=Dm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Gb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await No(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await wt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(lt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await wt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(lt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?dj(t.webauthn.credential_response):hj(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await wt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(r){if(lt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await wt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:cj(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:uj(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(lt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=hp(n.access_token);let a=null;i.aal&&(a=i.aal);let o=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await wt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ws})})}catch(r){if(lt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ws});const a=await wt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Jr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(lt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ws});const a=await wt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Jr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(lt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+_4>s)return n;const{data:i,error:a}=await wt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:N}=await this.getSession();if(N||!f.session)return this._returnResult({data:null,error:N});n=f.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:c}}=hp(n);r!=null&&r.allowExpired||z4(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:a},error:null}}const m=$4(s.alg),g=await crypto.subtle.importKey("jwk",d,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,a,E4(`${o}.${c}`)))throw new Um("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(lt(n))return this._returnResult({data:null,error:n});throw n}}}Wc.nextInstanceID={};const wj=Wc;class xj extends wj{constructor(t){super(t)}}class Nj{constructor(t,r,n){var s,i,a;this.supabaseUrl=t,this.supabaseKey=r;const o=m4(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:o4,realtime:c4,auth:Object.assign(Object.assign({},l4),{storageKey:c}),global:a4},m=p4(n??{},d);this.storageKey=(s=m.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=m.global.headers)!==null&&i!==void 0?i:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=m.auth)!==null&&a!==void 0?a:{},this.headers,m.global.fetch),this.fetch=h4(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new gS(new URL("rest/v1",o).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new n4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new fS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:o,lock:c,debug:d,throwOnError:m},g,v){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xj({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),g),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:o,lock:c,debug:d,throwOnError:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new IS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Sj=(e,t,r)=>new Nj(e,t,r);function jj(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}jj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const kj="https://wfxdvgwlfpqkadkvwbzg.supabase.co",Cj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndmeGR2Z3dsZnBxa2Fka3Z3YnpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NDgxNTIsImV4cCI6MjA3ODQyNDE1Mn0.svO7O2XMoCOHDCt6zxchQOzQD05X1Y3onxqcXplA5gk",Xe=Sj(kj,Cj),Aj=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():Math.random().toString(36).slice(2),Hc=$5(e=>({pendingRequests:0,toasts:[],startRequest:()=>e(t=>({pendingRequests:t.pendingRequests+1})),finishRequest:()=>e(t=>({pendingRequests:Math.max(0,t.pendingRequests-1)})),pushToast:t=>e(r=>{const n={id:t.id||Aj(),type:t.type||"info",title:t.title||"",message:t.message||"",duration:typeof t.duration=="number"?t.duration:5e3};return{toasts:[...r.toasts,n]}}),dismissToast:t=>e(r=>({toasts:r.toasts.filter(n=>n.id!==t)})),clearToasts:()=>e({toasts:[]})})),l0=async e=>{const{startRequest:t,finishRequest:r}=Hc.getState();t();try{return await e}finally{r()}},it=(e,t={})=>{const{pushToast:r}=Hc.getState();r({message:e,...t})},Ze={applications:"applications",academicYears:"academic_year",groups:"groups",courses:"courses",subCategories:"subject_category",subjects:"subjects",batches:"batches",students:"students",exams:"exams",payments:"payments",hallTickets:"hall_tickets",results:"results",feeDefinitions:"fee_structure",feeCategories:"fee_categories"},St=async(e,t)=>{const{data:r,error:n}=await l0(e);if(n)throw console.error(t??"Supabase query failed",n),new Error(t||n.message);return r},Mm=async(e,t)=>{const{data:r,error:n}=await l0(e);if(n&&n.code!=="PGRST116")throw console.error(t??"Supabase query failed",n),new Error(t||n.message);return r??null},Ej={[Ze.academicYears]:{cols:["academic_year"],pk:"id"},[Ze.groups]:{cols:["group_code","group_name"],pk:"group_id"},[Ze.courses]:{cols:["course_code","course_name"],pk:"course_id"},[Ze.subCategories]:{cols:["category_name"],pk:"category_id"},[Ze.subjects]:{composite:["academic_year","course_name","semester_number","category_id"],pk:"subject_id"},[Ze.batches]:{cols:["name"],pk:"id"},[Ze.students]:{cols:["student_id","hall_ticket_no","aadhar_number","email"],pk:"id"},[Ze.feeCategories]:{cols:["name"],pk:"id"},[Ze.feeDefinitions]:{composite:["academic_year","group","course","semester","fee_cat"],pk:"id"}},Un=async(e,t={},r={})=>{const n=Ej[e];if(!n)return;const s=r.excludeIdCol||n.pk;if(n.composite){const i={};for(const a of n.composite)t[a]!==void 0&&t[a]!==null&&t[a]!==""&&(i[a]=t[a]);if(Object.keys(i).length===n.composite.length)try{let a=Xe.from(e).select(s);for(const c of Object.keys(i))a=a.eq(c,i[c]);if(r.excludeId&&(a=a.neq(s,r.excludeId)),await Mm(a.maybeSingle(),"Duplicate check"))throw new Error("Duplicate fee definition already exists")}catch{try{const o=[...n.composite,s];if((await St(Xe.from(e).select(o.join(",")),"Duplicate check fallback")||[]).find(m=>r.excludeId&&String(m[s])===String(r.excludeId)?!1:n.composite.every(g=>{const v=m[g],f=i[g];return String(v)===String(f)})))throw new Error("Duplicate data definition already exists")}catch(o){throw console.error("Duplicate check failed (fallback)",o),o}}return}for(const i of n.cols||[]){const a=t[i];if(!(a==null||a===""))try{let o=Xe.from(e).select(s);if(o=o.eq(i,a),r.excludeId&&(o=o.neq(s,r.excludeId)),await Mm(o.maybeSingle(),"Duplicate check")){const d=i.replace(/_/g," ");throw new Error(`${d} already exists`)}}catch{try{if((await St(Xe.from(e).select(`${i},${s}`),"Duplicate check fallback")||[]).find(m=>r.excludeId&&String(m[s])===String(r.excludeId)?!1:String(m[i])===String(a))){const m=i.replace(/_/g," ");throw new Error(`${m} already exists`)}}catch(c){throw console.error("Duplicate check failed (fallback)",c),c}}}},mp=(e={})=>{const t=e.status,r=t===0||t==="0"||t===!1,n=e.academic_year??e.name??"",s=e.category||e.year_category||"",i=s?String(s).toUpperCase():"UG";return{id:e.id,academic_year:n,name:n,active:!r,category:i}},vd=({name:e,active:t,category:r})=>({academic_year:e,status:t?1:0,category:r||null}),gp=(e={})=>({id:e.group_id??e.id,code:e.group_code,name:e.group_name,category:e.category||e.Category||"",years:e.duration_years??0,semesters:e.number_semesters??0}),yd=({code:e,name:t,years:r,semesters:n,category:s})=>{const i={group_code:e,group_name:t,duration_years:r??null,number_semesters:n??null};return s!==void 0&&(i.Category=s??null),i},vp=(e={})=>{const t=e.course_code||e.code,r=e.course_name||e.name,n=e.group_code||e.groupCode||"",s=e.group_name||e.groupName||"",i=Number(e.no_of_semesters??e.semesters??0)||0,a=e.duration_years??(i?Math.ceil(i/2):null);return{id:e.course_id??e.id,code:t,name:r,courseCode:t,courseName:r,group_code:n,groupCode:n,group_name:s,groupName:s,semesters:i,duration_years:a}},bd=({code:e,name:t,group_name:r,groupName:n,semesters:s,duration_years:i})=>({course_code:e,course_name:t,group_name:r??n??null,no_of_semesters:s??null,duration_years:i??(s?Math.ceil(s/2):null)}),Yb=e=>{if(!e&&e!==0)return[];if(Array.isArray(e))return e.filter(Boolean);if(typeof e=="string"){const t=e.trim();if(!t)return[];try{const r=JSON.parse(t);if(Array.isArray(r))return r.filter(Boolean)}catch{}return t.split(/[\r\n,]+/).map(r=>r.trim()).filter(Boolean)}try{const t=JSON.parse(e);if(Array.isArray(t))return t.filter(Boolean)}catch{}return[]},yp=(e={})=>({id:e.category_id??e.id,name:e.category_name,subjects:Yb(e.subjects_name)}),_d=({name:e,subjects:t})=>({category_name:e,category_count:Array.isArray(t)?t.length:0,subjects_name:JSON.stringify(Array.isArray(t)?t:[])}),bp=(e={})=>{var i;const t=e.semester_number??e.semester??"",r=e.amount??e.fee_amount,n=e.subject_code||e.subjectName||e.subject_name||"",s=e.subject_name||e.subjectName||n;return{id:e.subject_id??e.id,subjectId:e.subject_id??e.id??"",academicYearId:e.academic_year_id||e.academicYearId||"",academicYearName:e.academic_year_name||e.academic_year||e.academicYearName||"",groupCode:e.group_code||e.groupCode||"",courseCode:e.course_code||e.courseCode||e.course_name||"",courseName:e.course_name||e.courseName||e.course_code||"",semester:t===""||t===void 0||t===null?"":Number(t),categoryId:e.category_id??e.categoryId??"",category:e.category||e.category_name||((i=e.subject_category)==null?void 0:i.category_name)||"",subjectCode:n,subjectName:s,subjectNames:Yb(e.subjects_name||e.subject_name||e.subjectName),feeCategory:e.fee_category||e.feeCategory||e.fees_categories||"",feeAmount:r==null||r===""?"":Number(r)}},Iv=(e={})=>{const t=e.semester??e.semester_number??e.semesterNumber??null,r=t===""||t===void 0||t===null?null:Number(t),n=e.amount??e.feeAmount??e.fee_amount,s=n===""||n===void 0||n===null?null:Number(n),i=e.subject_id||e.subjectId||e.id,a={academic_year:e.academic_year||e.academicYearName||e.academicYear||null,course_name:e.course_name||e.courseName||e.courseCode||null,semester_number:r,category_id:e.category_id??e.categoryId??null,subject_code:e.subject_code||e.subjectCode||e.subject_name||e.subjectName||null,subject_name:e.subject_name||e.subjectName||e.subject_code||e.subjectCode||null,fees_categories:e.fees_categories||e.feeCategory||null,amount:s};return i&&(a.subject_id=i),a},Pj=(e={})=>({id:e.id,student_id:e.student_id,admission_no:e.admission_no,ht_no:e.ht_no,academic_year:e.academic_year,group:e.group_code||e.group,course_id:e.course_code||e.course_id,full_name:e.full_name,gender:e.gender,dob:e.dob,father_name:e.father_name,mother_name:e.mother_name,nationality:e.nationality,state:e.state,aadhar_no:e.aadhar_number,postal_code:e.postal_code,address:e.address,mobile:e.mobile,email:e.email,religion:e.religion,caste:e.caste,sub_caste:e.sub_caste,photo_url:e.photo_url,cert_url:e.cert_url,status:e.status||"PENDING",created_at:e.created_at}),Lj=(e={})=>({student_id:e.student_id||null,admission_no:e.admission_no||null,ht_no:e.ht_no||null,academic_year:e.academic_year||null,group_code:e.group||e.group_code||null,course_code:e.course_id||e.course_code||null,full_name:e.full_name||null,gender:e.gender||null,dob:e.dob||null,father_name:e.father_name||null,mother_name:e.mother_name||null,nationality:e.nationality||null,state:e.state||null,aadhar_number:e.aadhar_no||null,postal_code:e.postal_code||null,address:e.address||null,mobile:e.mobile||null,email:e.email||null,religion:e.religion||null,caste:e.caste||null,sub_caste:e.sub_caste||null,photo_url:e.photo_url||null,cert_url:e.cert_url||null,status:e.status||"PENDING"}),Tj=(e={})=>({id:e.id??e.student_id,student_id:e.student_id,hall_ticket_no:e.hall_ticket_no||e.hallticket_no,hallticket_no:e.hall_ticket_no||e.hallticket_no,full_name:e.full_name,academic_year:e.academic_year,group:e.group_name||e.group,course_id:e.course_name||e.course_id,course_name:e.course_name,gender:e.gender,dob:e.date_of_birth||e.dob,mobile:e.phone_number||e.mobile,email:e.email,address:e.address,father_name:e.father_name,mother_name:e.mother_name,nationality:e.nationality,state:e.state,aadhar_no:e.aadhar_number||e.aadhar_no,postal_code:e.pincode||e.postal_code,religion:e.religion,caste:e.caste,sub_caste:e.sub_caste,photo_url:e.photo_url,cert_url:e.cert_url,status:e.status||"ACTIVE",created_at:e.created_at}),Ij=(e={})=>({student_id:e.student_id,hall_ticket_no:e.hall_ticket_no||e.hallticket_no||null,academic_year:e.academic_year||null,group_name:e.group||e.group_name||null,course_name:e.course_id||e.course_name||null,full_name:e.full_name||null,gender:e.gender||null,date_of_birth:e.dob||e.date_of_birth||null,father_name:e.father_name||null,mother_name:e.mother_name||null,nationality:e.nationality||null,state:e.state||null,aadhar_number:e.aadhar_no||e.aadhar_number||null,address:e.address||null,pincode:e.postal_code||e.pincode||null,phone_number:e.mobile||e.phone_number||null,religion:e.religion||null,caste:e.caste||null,sub_caste:e.sub_caste||null,photo_url:e.photo_url||null,cert_url:e.cert_url||null,status:e.status||"ACTIVE"}),Ov=(e={})=>({id:e.id,name:e.name,created_at:e.created_at}),Rv=({name:e})=>({name:e}),Oj=(e={})=>({id:e.id,title:e.title,date:e.date||e.exam_date,time:e.time||e.exam_time,venue:e.venue,course_id:e.course_id,created_at:e.created_at}),Rj=({title:e,date:t,time:r,venue:n,course_id:s})=>({title:e,exam_date:t,exam_time:r,venue:n,course_id:s||null}),Dj=(e={})=>{const t=e.group??e.group_code??e.group_name,r=e.course??e.course_code??e.course_name,n=e.semester??e.semester_number;return{id:e.id??e.fee_id,academic_year:e.academic_year,group:t,group_code:t,group_name:e.group_name??t,course_code:r,course_name:e.course_name??r,semester:n,semester_number:n,payment_type:e.payment_type??e.fee_cat,amount:e.amount}},Dv=(e={})=>({academic_year:e.academic_year,group:e.group||e.group_code,course:e.course_code||e.course,semester:e.semester??e.semester_number,fee_cat:e.payment_type??e.fee_cat,amount:e.amount}),Fj=(e={})=>({id:e.id??e.result_id,student_id:e.student_id,exam_id:e.exam_id,total:e.total,grade:e.grade??e.result_status,created_at:e.created_at}),Bj=(e={})=>({student_id:e.student_id,exam_id:e.exam_id,total:e.total,grade:e.grade}),Uj=(e={})=>({id:e.id,name:e.name,fees:e.fees||[]}),Fv=(e={})=>({id:e.id,name:e.name,fees:e.fees||[]}),Mj=[{email:"admin@vijayam.edu",role:"ADMIN"},{email:"principal@vijayam.edu",role:"PRINCIPAL"}],Se={submitApplication:async e=>(await St(Xe.from(Ze.applications).insert(Lj(e)),"Unable to submit application"),{ok:!0}),login:async e=>{const t=Mj.find(r=>r.email.toLowerCase()===String(e).toLowerCase());if(!t)throw new Error("Access denied");return{...t}},listApplications:async()=>(await St(Xe.from(Ze.applications).select("*").order("created_at",{ascending:!1}),"Unable to load applications")).map(Pj),approveApplication:async(e,t)=>{const r=Ij(t);await Un(Ze.students,r),await St(Xe.from(Ze.students).insert(r),"Unable to create student record"),await St(Xe.from(Ze.applications).update({status:"APPROVED"}).eq("id",e),"Unable to update application status")},deleteApplication:async e=>{await St(Xe.from(Ze.applications).delete().eq("id",e),"Unable to delete application")},listAcademicYears:async()=>(await St(Xe.from(Ze.academicYears).select("id, academic_year, status, category").order("academic_year"),"Unable to fetch academic years")).map(mp),addAcademicYear:async e=>{await Un(Ze.academicYears,vd(e));const t=await St(Xe.from(Ze.academicYears).insert(vd(e)).select("id, academic_year, status, category").single(),"Unable to add academic year");return mp(t)},updateAcademicYear:async(e,t)=>{await Un(Ze.academicYears,vd(t),{excludeId:e});const r=await St(Xe.from(Ze.academicYears).update(vd(t)).eq("id",e).select("id, academic_year, status, category").single(),"Unable to update academic year");return mp(r)},deleteAcademicYear:async e=>{await St(Xe.from(Ze.academicYears).delete().eq("id",e),"Unable to delete academic year")},listGroups:async()=>(await St(Xe.from(Ze.groups).select("*").order("group_code"),"Unable to fetch groups")).map(gp),addGroup:async e=>{await Un(Ze.groups,yd(e));const t=await St(Xe.from(Ze.groups).insert(yd(e)).select("*").single(),"Unable to add group");return gp(t)},updateGroup:async(e,t)=>{await Un(Ze.groups,yd(t),{excludeId:e});const r=await St(Xe.from(Ze.groups).update(yd(t)).eq("group_id",e).select("*").single(),"Unable to update group");return gp(r)},deleteGroup:async e=>{await St(Xe.from(Ze.groups).delete().eq("group_id",e),"Unable to delete group")},listCourses:async()=>(await St(Xe.from(Ze.courses).select("course_id, course_code, course_name, group_name, no_of_semesters, duration_years").order("course_code"),"Unable to fetch courses")).map(vp),addCourse:async e=>{await Un(Ze.courses,bd(e));const t=await St(Xe.from(Ze.courses).insert(bd(e)).select("course_id, course_code, course_name, group_name, no_of_semesters, duration_years").single(),"Unable to add course");return vp(t)},updateCourse:async(e,t)=>{await Un(Ze.courses,bd(t),{excludeId:e});const r=await St(Xe.from(Ze.courses).update(bd(t)).eq("course_id",e).select("course_id, course_code, course_name, group_name, no_of_semesters, duration_years").single(),"Unable to update course");return vp(r)},deleteCourse:async e=>{await St(Xe.from(Ze.courses).delete().eq("course_id",e),"Unable to delete course")},listSubCategories:async()=>(await St(Xe.from(Ze.subCategories).select("category_id, category_name, subjects_name").order("category_name"),"Unable to fetch sub-categories")).map(yp),addSubCategory:async e=>{await Un(Ze.subCategories,_d({name:e,subjects:[]}));const t=await St(Xe.from(Ze.subCategories).insert(_d({name:e,subjects:[]})).select("category_id, category_name, subjects_name").single(),"Unable to add sub-category");return yp(t)},updateSubCategory:async(e,{name:t,subjects:r})=>{await Un(Ze.subCategories,_d({name:t,subjects:r}),{excludeId:e});const n=await St(Xe.from(Ze.subCategories).update(_d({name:t,subjects:r})).eq("category_id",e).select("category_id, category_name, subjects_name").single(),"Unable to update sub-category");return yp(n)},deleteSubCategory:async e=>{e&&(await St(Xe.from(Ze.subjects).delete().eq("category_id",e),"Unable to delete linked subjects for sub-category"),await St(Xe.from(Ze.subCategories).delete().eq("category_id",e),"Unable to delete sub-category"))},listSubjects:async()=>(await St(Xe.from(Ze.subjects).select("subject_id, academic_year, course_name, semester_number, category_id, subject_code, subject_name, fees_categories, amount").order("academic_year",{ascending:!1}).order("course_name").order("semester_number"),"Unable to fetch subjects")).map(bp),addSubjects:async(e=[])=>{if(!Array.isArray(e)||!e.length)return[];for(const s of e){const i=Iv(s),a=s.subject_id||s.subjectId||s.id||null,o=a!=null&&a!==""?Number(a):null;await Un(Ze.subjects,i,{excludeId:isNaN(o)?void 0:o})}const t=e.map(s=>{const i=Iv(s);return i.subject_id!==void 0&&delete i.subject_id,i}),r=["academic_year","course_name","semester_number","category_id"].join(",");return(await St(Xe.from(Ze.subjects).upsert(t,{onConflict:r}).select("subject_id, academic_year, course_name, semester_number, category_id, subject_code, subject_name, fees_categories, amount"),"Unable to save subjects")).map(bp)},deleteSubject:async e=>{e&&await St(Xe.from(Ze.subjects).delete().eq("subject_id",e),"Unable to delete subject")},updateSubject:async(e,t)=>{if(!e)throw new Error("Missing subject id");const r={...t};r.subject_id!==void 0&&delete r.subject_id,r.subjectId!==void 0&&delete r.subjectId;const n=await St(Xe.from(Ze.subjects).update(r).eq("subject_id",e).select("subject_id, academic_year, course_name, semester_number, category_id, subject_code, subject_name, fees_categories, amount").single(),"Unable to update subject");return bp(n)},listBatches:async()=>(await St(Xe.from(Ze.batches).select("id, name, created_at").order("created_at",{ascending:!1}),"Unable to fetch batches")).map(Ov),addBatch:async e=>{await Un(Ze.batches,Rv(e));const t=await St(Xe.from(Ze.batches).insert(Rv(e)).select("id, name, created_at").single(),"Unable to add batch");return Ov(t)},listStudents:async()=>(await St(Xe.from(Ze.students).select("id, student_id, hall_ticket_no, academic_year, group_name, course_name, full_name, gender, date_of_birth, phone_number, email, address, father_name, mother_name, nationality, state, aadhar_number, pincode, religion, caste, sub_caste, photo_url, cert_url, status, created_at").order("created_at",{ascending:!1}),"Unable to fetch students")).map(Tj),deleteStudent:async e=>{e&&await St(Xe.from(Ze.students).delete().eq("id",e),"Unable to delete student")},listExams:async()=>(await St(Xe.from(Ze.exams).select("id, name, created_at").order("created_at",{ascending:!1}),"Unable to fetch exams")).map(Oj),addExam:async e=>{await St(Xe.from(Ze.exams).insert(Rj(e)),"Unable to add exam")},addPayment:async e=>{await St(Xe.from(Ze.payments).insert({student_id:e.student_id,amount:Number(e.amount),method:e.method,reference:e.reference||null}),"Unable to record payment")},upsertHallTicket:async({student_id:e,exam_id:t,token:r})=>{const n=await Mm(Xe.from(Ze.hallTickets).select("id").eq("student_id",e).eq("exam_id",t).maybeSingle(),"Unable to load hall ticket");n?await St(Xe.from(Ze.hallTickets).update({token:r}).eq("id",n.id),"Unable to update hall ticket"):await St(Xe.from(Ze.hallTickets).insert({student_id:e,exam_id:t,token:r}),"Unable to create hall ticket")},addResult:async e=>{await St(Xe.from(Ze.results).insert(Bj(e)),"Unable to record result")},listResults:async()=>(await St(Xe.from(Ze.results).select("id, student_id, exam_id, total, grade, created_at").order("created_at",{ascending:!1}),"Unable to fetch results")).map(Fj),listFees:async()=>(await St(Xe.from(Ze.feeDefinitions).select('id, academic_year, "group", course, semester, fee_cat, amount').order("academic_year",{ascending:!1}),"Unable to fetch fee definitions")).map(Dj),addFee:async e=>{await Un(Ze.feeDefinitions,Dv(e)),await St(Xe.from(Ze.feeDefinitions).insert(Dv(e)),"Unable to add fee definition")},getFeeTypes:async()=>(await St(Xe.from(Ze.feeCategories).select("id, name, fees").order("name"),"Unable to fetch fee categories")).map(Uj),setFeeTypes:async e=>{const t=e.map(a=>String(a.name||"").trim().toLowerCase());if(t.findIndex((a,o)=>a&&t.indexOf(a)!==o)!==-1)throw new Error("Duplicate fee category names in payload");const n=await St(Xe.from(Ze.feeCategories).select("id, name"),"Unable to load existing fee categories"),s=new Set(e.map(a=>a.id)),i=n.map(a=>a.id).filter(a=>!s.has(a));if(i.length&&await St(Xe.from(Ze.feeCategories).delete().in("id",i),"Unable to remove old fee categories"),e.length){for(const a of e)await Un(Ze.feeCategories,Fv(a),{excludeId:a.id});await St(Xe.from(Ze.feeCategories).upsert(e.map(Fv)),"Unable to save fee categories")}}},qj=e=>e==null?!0:typeof e=="string"?e.trim().length===0:typeof e=="number"?Number.isNaN(e):Array.isArray(e)?e.length===0:e instanceof Set||e instanceof Map?e.size===0:typeof e=="object"?Object.keys(e).length===0:!1,ia=(e={},t={})=>{const r=Object.entries(e).filter(([,i])=>qj(i));if(r.length===0)return!0;const n=t.message||`Please fill the required field${r.length>1?"s":""}: ${r.map(([i])=>i).join(", ")}.`,s=t.title||"Missing information";return typeof t.notify=="function"?t.notify({title:s,message:n,missing:r}):it(n,{type:"warning",title:s}),!1};function zj(){const e=["Male","Female","Other"],t=["General","OBC","SC","ST","Others"],r=["Hindu","Muslim","Christian","Sikh","Buddhist","Jain","Others"],n=["Tamil Nadu","Andhra Pradesh","Karnataka","Kerala","Telangana","Maharashtra","Other"],[s,i]=Q.useState({student_id:"",admission_no:"",ht_no:"",academic_year:"",group:"",course_id:"",full_name:"",gender:"",dob:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_no:"",postal_code:"",address:"",mobile:"",email:"",religion:"",caste:"",sub_caste:""}),[a,o]=Q.useState(null),[c,d]=Q.useState(null),[m,g]=Q.useState(!1),[v,f]=Q.useState(""),[N,S]=Q.useState([]),[k,_]=Q.useState([]),[b,x]=Q.useState([]),P=(O,ne)=>i(I=>({...I,[O]:ne}));Q.useEffect(()=>{(async()=>{var O,ne;try{const[I,B,K]=await Promise.all([Se.listCourses(),((O=Se.listGroups)==null?void 0:O.call(Se))||[],((ne=Se.listAcademicYears)==null?void 0:ne.call(Se))||[]]);S(I||[]),_(B||[]),x((K||[]).filter(E=>(E==null?void 0:E.active)!==!1))}catch{S([]),_([]),x([])}})()},[]);const $=()=>{i({student_id:"",admission_no:"",ht_no:"",academic_year:"",group:"",course_id:"",full_name:"",gender:"",dob:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_no:"",postal_code:"",address:"",mobile:"",email:"",religion:"",caste:"",sub_caste:""}),o(null),d(null)},Z=(O,ne)=>new RegExp(`^\\d{${ne}}$`).test(O),V=(O,ne)=>I=>{const B=(I.target.value||"").replace(/\D/g,"").slice(0,ne);P(O,B)},U=async O=>{O.preventDefault(),f(""),g(!0);const ne={"Admission No":s.admission_no,"Academic Year":s.academic_year,"Full Name":s.full_name,Gender:s.gender,"Date of Birth":s.dob,"Mobile Number":s.mobile,"Postal Code":s.postal_code,Address:s.address,Group:s.group,Course:s.course_id};if(!ia(ne,{title:"Incomplete application"})){g(!1);return}if(!Z(s.mobile,10)){it("Enter a valid 10-digit mobile number.",{type:"warning",title:"Invalid mobile"}),g(!1);return}if(!Z(s.postal_code,6)){it("Postal code must be 6 digits.",{type:"warning",title:"Invalid postal code"}),g(!1);return}if(s.aadhar_no&&!Z(s.aadhar_no,12)){it("Aadhar number must contain 12 digits.",{type:"warning",title:"Invalid Aadhar"}),g(!1);return}try{const I={};a&&(I.photo_url=URL.createObjectURL(a)),c&&(I.cert_url=URL.createObjectURL(c)),await Se.submitApplication({...s,...I}),f("Application submitted! Admin/Principal will contact you after approval."),$()}catch(I){f(I.message||"Error submitting form")}finally{g(!1)}};return l.jsx("div",{className:"container py-5",children:l.jsx("div",{className:"row justify-content-center",children:l.jsx("div",{className:"col-lg-10",children:l.jsxs("div",{className:"card card-soft p-4",children:[l.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[l.jsx("img",{src:"/logo-placeholder.png",className:"brand-logo",alt:"logo"}),l.jsxs("div",{children:[l.jsx("h3",{className:"fw-bold mb-0",children:"Vijayam College of Arts & Science"}),l.jsx("div",{className:"text-muted",children:"Chennai"})]})]}),l.jsx("h5",{className:"mt-3",children:"Apply for Admission / Exam"}),l.jsx("form",{onSubmit:U,children:l.jsxs("div",{className:"row g-3",children:[l.jsxs("div",{className:"col-12",children:[l.jsx("h6",{className:"fw-bold mb-1",children:"Student & Admission"}),l.jsx("hr",{className:"hr-soft"})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Student ID"}),l.jsx("input",{className:"form-control",value:s.student_id,onChange:O=>P("student_id",O.target.value),placeholder:"Auto/Optional"})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Admission No"}),l.jsx("input",{className:"form-control",value:s.admission_no,onChange:O=>P("admission_no",O.target.value),required:!0})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"HT No"}),l.jsx("input",{className:"form-control",value:s.ht_no,onChange:O=>P("ht_no",O.target.value)})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Academic Year"}),l.jsxs("select",{className:"form-select",value:s.academic_year,onChange:O=>P("academic_year",O.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Select"}),b.map(O=>{const ne=O.name||O.academic_year;return l.jsx("option",{value:ne,children:ne},O.id)})]})]}),l.jsxs("div",{className:"col-12",children:[l.jsx("h6",{className:"fw-bold mb-1",children:"Group & Course"}),l.jsx("hr",{className:"hr-soft"})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Group Code"}),l.jsxs("select",{className:"form-select",value:s.group,onChange:O=>P("group",O.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Select Group"}),k.map(O=>l.jsxs("option",{value:O.code,children:[O.code,"  ",O.name]},O.id))]})]}),l.jsxs("div",{className:"col-md-8",children:[l.jsx("label",{className:"form-label",children:"Course"}),l.jsxs("select",{className:"form-select",value:s.course_id,onChange:O=>P("course_id",O.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Select Course"}),N.filter(O=>!s.group||!O.group_code||O.group_code===s.group).map(O=>l.jsxs("option",{value:O.id,children:[O.code?`${O.code} - `:"",O.name]},O.id))]})]}),(()=>{const O=N.find(ne=>ne.id===s.course_id);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Course Code"}),l.jsx("input",{className:"form-control",value:(O==null?void 0:O.code)||"",readOnly:!0,placeholder:"Auto"})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Course ID"}),l.jsx("input",{className:"form-control",value:(O==null?void 0:O.id)||"",readOnly:!0,placeholder:"Auto"})]})]})})(),l.jsxs("div",{className:"col-12",children:[l.jsx("h6",{className:"fw-bold mb-1",children:"Personal Details"}),l.jsx("hr",{className:"hr-soft"})]}),l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label",children:"Full Name"}),l.jsx("input",{className:"form-control",value:s.full_name,onChange:O=>P("full_name",O.target.value),required:!0})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Gender"}),l.jsxs("select",{className:"form-select",value:s.gender,onChange:O=>P("gender",O.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Select"}),e.map(O=>l.jsx("option",{value:O,children:O},O))]})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"DOB"}),l.jsx("input",{type:"date",className:"form-control",value:s.dob,onChange:O=>P("dob",O.target.value),required:!0})]}),l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label",children:"Father's Name"}),l.jsx("input",{className:"form-control",value:s.father_name,onChange:O=>P("father_name",O.target.value)})]}),l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label",children:"Mother's Name"}),l.jsx("input",{className:"form-control",value:s.mother_name,onChange:O=>P("mother_name",O.target.value)})]}),l.jsxs("div",{className:"col-12",children:[l.jsx("h6",{className:"fw-bold mb-1",children:"Contact & Address"}),l.jsx("hr",{className:"hr-soft"})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Mobile"}),l.jsx("input",{className:"form-control",inputMode:"tel",maxLength:"10",pattern:"\\\\d{10}",value:s.mobile,onChange:V("mobile",10),required:!0})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Email"}),l.jsx("input",{type:"email",className:"form-control",value:s.email,onChange:O=>P("email",O.target.value)})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Nationality"}),l.jsx("input",{className:"form-control",value:s.nationality,onChange:O=>P("nationality",O.target.value)})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"State"}),l.jsxs("select",{className:"form-select",value:s.state,onChange:O=>P("state",O.target.value),children:[l.jsx("option",{value:"",children:"Select"}),n.map(O=>l.jsx("option",{value:O,children:O},O))]})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Aadhar No"}),l.jsx("input",{className:"form-control",inputMode:"numeric",maxLength:"12",pattern:"\\\\d{12}",placeholder:"12 digits",value:s.aadhar_no,onChange:V("aadhar_no",12)})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Postal Code (PIN)"}),l.jsx("input",{className:"form-control",inputMode:"numeric",maxLength:"6",pattern:"\\\\d{6}",placeholder:"6 digits",value:s.postal_code,onChange:V("postal_code",6),required:!0})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Religion"}),l.jsxs("select",{className:"form-select",value:s.religion,onChange:O=>P("religion",O.target.value),children:[l.jsx("option",{value:"",children:"Select"}),r.map(O=>l.jsx("option",{value:O,children:O},O))]})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Caste"}),l.jsxs("select",{className:"form-select",value:s.caste,onChange:O=>P("caste",O.target.value),children:[l.jsx("option",{value:"",children:"Select"}),t.map(O=>l.jsx("option",{value:O,children:O},O))]})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Sub Caste"}),l.jsx("input",{className:"form-control",value:s.sub_caste,onChange:O=>P("sub_caste",O.target.value)})]}),l.jsxs("div",{className:"col-12",children:[l.jsx("label",{className:"form-label",children:"Address"}),l.jsx("textarea",{className:"form-control",rows:"2",value:s.address,onChange:O=>P("address",O.target.value),required:!0})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Aadhar No"}),l.jsx("input",{className:"form-control",value:s.aadhar_no,onChange:O=>P("aadhar_no",O.target.value)})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Postal code"}),l.jsx("input",{className:"form-control",value:s.aadhar_no,onChange:O=>P("aadhar_no",O.target.value)})]}),l.jsxs("div",{className:"col-12",children:[l.jsx("h6",{className:"fw-bold mb-1",children:"Uploads"}),l.jsx("hr",{className:"hr-soft"})]}),l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label",children:"Upload Photo"}),l.jsx("input",{type:"file",accept:"image/*",className:"form-control",onChange:O=>{var ne;return o(((ne=O.target.files)==null?void 0:ne[0])||null)}})]}),l.jsxs("div",{className:"col-12 d-flex justify-content-end gap-2 mt-2",children:[l.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:$,children:"Clear"}),l.jsx("button",{className:"btn btn-brand",disabled:m,children:m?"Submitting...":"Submit"})]})]})}),v&&l.jsx("div",{className:"alert alert-info mt-3 mb-0",children:v})]})})})})}const wl="/assets/images-DpM0kpDs.png",$j="/assets/EMS2-Dozuuo2K.jpg",Vj="/assets/EMS-BGrnyloG.jpg",Gj=[{value:"38+",label:"UG & PG programmes"},{value:"18K+",label:"Successful alumni"}];function Wj(){return l.jsx("div",{className:"home-shell",children:l.jsxs("header",{className:"home-hero home-hero--modern",children:[l.jsx("div",{className:"home-hero__bg","aria-hidden":"true",style:{"--hero-photo":`url(${Vj})`}}),l.jsx("div",{className:"container",children:l.jsxs("div",{className:"home-hero__grid home-hero__grid--fixed",children:[l.jsxs("section",{className:"home-hero__primary",children:[l.jsx("div",{className:"home-hero__crest",children:l.jsx("img",{src:wl,alt:"Vijayam crest"})}),l.jsx("h1",{className:"home-hero__title",children:"Vijayam Arts & Science College"}),l.jsx("p",{className:"home-hero__subtitle",children:"Exam Management System"}),l.jsxs("p",{className:"home-hero__tagline",children:[l.jsx("span",{className:"home-hero__tagline-text",children:"Student access to applications, results, and timetables."}),l.jsx("span",{className:"home-hero__tagline-arrow","aria-hidden":"true",children:""})]}),l.jsxs("div",{className:"home-hero__actions home-hero__actions--triple",children:[l.jsx(Yi,{to:"/application",className:"btn btn-hero-primary home-hero__action-btn home-hero__action-btn--apply",children:"Application"}),l.jsx(Yi,{to:"/public/results",className:"btn btn-hero-secondary home-hero__action-btn home-hero__action-btn--results",children:"Check Results"}),l.jsx(Yi,{to:"/public/timetable",className:"btn btn-hero-secondary home-hero__action-btn home-hero__action-btn--timetable",children:"Exam Timetable"})]})]}),l.jsxs("aside",{className:"home-hero__control home-hero__control--panel",children:[l.jsx("div",{className:"home-hero__control-badge","aria-hidden":"true",children:l.jsx("img",{src:$j,alt:"Vijayam alternate crest"})}),l.jsx("div",{className:"home-hero__control-header",children:l.jsx("p",{className:"home-hero__control-label",children:"Exam Control Centre"})}),l.jsxs("div",{className:"home-hero__microcopy",children:[l.jsx("span",{children:"Official control room for approvals & schedules"}),l.jsx("span",{children:"Coordinated support for principals, staff, and students"})]}),l.jsx("p",{className:"home-hero__control-login-label",children:"Admin login"}),l.jsx("div",{className:"home-hero__stats home-hero__stats--stacked",children:Gj.map(e=>l.jsxs("div",{className:"home-hero__stat",children:[l.jsx("span",{className:"home-hero__stat-value",children:e.value}),l.jsx("span",{className:"home-hero__stat-label",children:e.label})]},e.label))}),l.jsx("div",{className:"home-hero__control-footer",children:l.jsx(Yi,{to:"/admin/login",className:"btn btn-hero-contrast home-hero__login-btn",children:"Login"})})]})]})})]})})}function Hj(){const[e,t]=Q.useState([]),[r,n]=Q.useState([]),[s,i]=Q.useState([]),[a,o]=Q.useState(""),[c,d]=Q.useState(""),[m,g]=Q.useState(null);Q.useEffect(()=>{(async()=>(t(await Se.listStudents()),n(await Se.listExams()),i(await Se.listResults())))()},[]);const v=()=>{const f=s.find(N=>N.student_id===a&&N.exam_id===c);g(f||null)};return l.jsx("div",{className:"container py-5",children:l.jsx("div",{className:"row justify-content-center",children:l.jsx("div",{className:"col-lg-8",children:l.jsxs("div",{className:"card card-soft p-4",children:[l.jsx("h4",{className:"mb-3",children:"Exam Results"}),l.jsxs("div",{className:"row g-2 align-items-end",children:[l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Student"}),l.jsxs("select",{className:"form-select",value:a,onChange:f=>o(f.target.value),children:[l.jsx("option",{value:"",children:"Select Student"}),e.map(f=>l.jsxs("option",{value:f.student_id,children:[f.student_id," - ",f.full_name]},f.student_id))]})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Exam"}),l.jsxs("select",{className:"form-select",value:c,onChange:f=>d(f.target.value),children:[l.jsx("option",{value:"",children:"Select Exam"}),r.map(f=>l.jsxs("option",{value:f.id,children:[f.title," (",f.date,")"]},f.id))]})]}),l.jsx("div",{className:"col-md-4 text-end",children:l.jsx("button",{className:"btn btn-brand",onClick:v,children:"View Result"})})]}),m&&l.jsx("div",{className:"mt-4",children:l.jsxs("div",{className:"card p-3 bg-ice",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Total:"})," ",m.total]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Grade:"})," ",m.grade]})]})}),m===null&&a&&c&&l.jsx("div",{className:"alert alert-warning mt-3",children:"No result found for the selected student and exam."})]})})})})}function Yj(){const[e,t]=Q.useState([]);return Q.useEffect(()=>{(async()=>t(await Se.listExams()))()},[]),l.jsx("div",{className:"container py-5",children:l.jsx("div",{className:"row justify-content-center",children:l.jsx("div",{className:"col-lg-8",children:l.jsxs("div",{className:"card card-soft p-4",children:[l.jsx("h4",{className:"mb-3",children:"Exam Time Table"}),e.length===0?l.jsx("div",{className:"text-muted",children:"No exams published yet."}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table mb-0",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Title"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Session"}),l.jsx("th",{children:"Notes"})]})}),l.jsx("tbody",{children:e.map(r=>l.jsxs("tr",{children:[l.jsx("td",{children:r.title}),l.jsx("td",{children:r.date}),l.jsx("td",{children:r.session||"-"}),l.jsx("td",{children:r.notes||"-"})]},r.id))})]})})]})})})})}const Kj="modulepreload",Jj=function(e){return"/"+e},Bv={},qm=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Jj(c),c in Bv)return;Bv[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":Kj,d||(g.as="script"),g.crossOrigin="",g.href=c,o&&g.setAttribute("nonce",o),document.head.appendChild(g),d)return new Promise((v,f)=>{g.addEventListener("load",v),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};function Gt(e){"@babel/helpers - typeof";return Gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(e)}var dn=Uint8Array,Gn=Uint16Array,c0=Int32Array,qh=new dn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),zh=new dn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),zm=new dn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Kb=function(e,t){for(var r=new Gn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new c0(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},Jb=Kb(qh,2),Qb=Jb.b,$m=Jb.r;Qb[28]=258,$m[258]=28;var Xb=Kb(zh,0),Qj=Xb.b,Uv=Xb.r,Vm=new Gn(32768);for(var rr=0;rr<32768;++rr){var Bi=(rr&43690)>>1|(rr&21845)<<1;Bi=(Bi&52428)>>2|(Bi&13107)<<2,Bi=(Bi&61680)>>4|(Bi&3855)<<4,Vm[rr]=((Bi&65280)>>8|(Bi&255)<<8)>>1}var Hs=function(e,t,r){for(var n=e.length,s=0,i=new Gn(t);s<n;++s)e[s]&&++i[e[s]-1];var a=new Gn(t);for(s=1;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;var o;if(r){o=new Gn(1<<t);var c=15-t;for(s=0;s<n;++s)if(e[s])for(var d=s<<4|e[s],m=t-e[s],g=a[e[s]-1]++<<m,v=g|(1<<m)-1;g<=v;++g)o[Vm[g]>>c]=d}else for(o=new Gn(n),s=0;s<n;++s)e[s]&&(o[s]=Vm[a[e[s]-1]++]>>15-e[s]);return o},la=new dn(288);for(var rr=0;rr<144;++rr)la[rr]=8;for(var rr=144;rr<256;++rr)la[rr]=9;for(var rr=256;rr<280;++rr)la[rr]=7;for(var rr=280;rr<288;++rr)la[rr]=8;var Yc=new dn(32);for(var rr=0;rr<32;++rr)Yc[rr]=5;var Xj=Hs(la,9,0),Zj=Hs(la,9,1),e6=Hs(Yc,5,0),t6=Hs(Yc,5,1),_p=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},bs=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},wp=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},u0=function(e){return(e+7)/8|0},Zb=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new dn(e.subarray(t,r))},r6=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],js=function(e,t,r){var n=new Error(t||r6[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,js),!r)throw n;return n},n6=function(e,t,r,n){var s=e.length,i=0;if(!s||t.f&&!t.l)return r||new dn(0);var a=!r,o=a||t.i!=2,c=t.i;a&&(r=new dn(s*3));var d=function(te){var xe=r.length;if(te>xe){var je=new dn(Math.max(xe*2,te));je.set(r),r=je}},m=t.f||0,g=t.p||0,v=t.b||0,f=t.l,N=t.d,S=t.m,k=t.n,_=s*8;do{if(!f){m=bs(e,g,1);var b=bs(e,g+1,3);if(g+=3,b)if(b==1)f=Zj,N=t6,S=9,k=5;else if(b==2){var Z=bs(e,g,31)+257,V=bs(e,g+10,15)+4,U=Z+bs(e,g+5,31)+1;g+=14;for(var O=new dn(U),ne=new dn(19),I=0;I<V;++I)ne[zm[I]]=bs(e,g+I*3,7);g+=V*3;for(var B=_p(ne),K=(1<<B)-1,E=Hs(ne,B,1),I=0;I<U;){var oe=E[bs(e,g,K)];g+=oe&15;var x=oe>>4;if(x<16)O[I++]=x;else{var ce=0,me=0;for(x==16?(me=3+bs(e,g,3),g+=2,ce=O[I-1]):x==17?(me=3+bs(e,g,7),g+=3):x==18&&(me=11+bs(e,g,127),g+=7);me--;)O[I++]=ce}}var D=O.subarray(0,Z),X=O.subarray(Z);S=_p(D),k=_p(X),f=Hs(D,S,1),N=Hs(X,k,1)}else js(1);else{var x=u0(g)+4,P=e[x-4]|e[x-3]<<8,$=x+P;if($>s){c&&js(0);break}o&&d(v+P),r.set(e.subarray(x,$),v),t.b=v+=P,t.p=g=$*8,t.f=m;continue}if(g>_){c&&js(0);break}}o&&d(v+131072);for(var ee=(1<<S)-1,we=(1<<k)-1,j=g;;j=g){var ce=f[wp(e,g)&ee],M=ce>>4;if(g+=ce&15,g>_){c&&js(0);break}if(ce||js(2),M<256)r[v++]=M;else if(M==256){j=g,f=null;break}else{var W=M-254;if(M>264){var I=M-257,J=qh[I];W=bs(e,g,(1<<J)-1)+Qb[I],g+=J}var se=N[wp(e,g)&we],he=se>>4;se||js(3),g+=se&15;var X=Qj[he];if(he>3){var J=zh[he];X+=wp(e,g)&(1<<J)-1,g+=J}if(g>_){c&&js(0);break}o&&d(v+131072);var pe=v+W;if(v<X){var q=i-X,G=Math.min(X,pe);for(q+v<0&&js(3);v<G;++v)r[v]=n[q+v]}for(;v<pe;++v)r[v]=r[v-X]}}t.l=f,t.p=j,t.b=v,t.f=m,f&&(m=1,t.m=S,t.d=N,t.n=k)}while(!m);return v!=r.length&&a?Zb(r,0,v):r.subarray(0,v)},ii=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},ac=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},xp=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:t_,l:0};if(s==1){var a=new dn(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function($,Z){return $.f-Z.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],d=0,m=1,g=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};m!=s-1;)o=r[r[d].f<r[g].f?d++:g++],c=r[d!=m&&r[d].f<r[g].f?d++:g++],r[m++]={s:-1,f:o.f+c.f,l:o,r:c};for(var v=i[0].s,n=1;n<s;++n)i[n].s>v&&(v=i[n].s);var f=new Gn(v+1),N=Gm(r[m-1],f,0);if(N>t){var n=0,S=0,k=N-t,_=1<<k;for(i.sort(function(Z,V){return f[V.s]-f[Z.s]||Z.f-V.f});n<s;++n){var b=i[n].s;if(f[b]>t)S+=_-(1<<N-f[b]),f[b]=t;else break}for(S>>=k;S>0;){var x=i[n].s;f[x]<t?S-=1<<t-f[x]++-1:++n}for(;n>=0&&S;--n){var P=i[n].s;f[P]==t&&(--f[P],++S)}N=t}return{t:new dn(f),l:N}},Gm=function(e,t,r){return e.s==-1?Math.max(Gm(e.l,t,r+1),Gm(e.r,t,r+1)):t[e.s]=r},Mv=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Gn(++t),n=0,s=e[0],i=1,a=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==s&&o!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=e[o]}return{c:r.subarray(0,n),n:t}},oc=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},e_=function(e,t,r){var n=r.length,s=u0(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},qv=function(e,t,r,n,s,i,a,o,c,d,m){ii(t,m++,r),++s[256];for(var g=xp(s,15),v=g.t,f=g.l,N=xp(i,15),S=N.t,k=N.l,_=Mv(v),b=_.c,x=_.n,P=Mv(S),$=P.c,Z=P.n,V=new Gn(19),U=0;U<b.length;++U)++V[b[U]&31];for(var U=0;U<$.length;++U)++V[$[U]&31];for(var O=xp(V,7),ne=O.t,I=O.l,B=19;B>4&&!ne[zm[B-1]];--B);var K=d+5<<3,E=oc(s,la)+oc(i,Yc)+a,oe=oc(s,v)+oc(i,S)+a+14+3*B+oc(V,ne)+2*V[16]+3*V[17]+7*V[18];if(c>=0&&K<=E&&K<=oe)return e_(t,m,e.subarray(c,c+d));var ce,me,D,X;if(ii(t,m,1+(oe<E)),m+=2,oe<E){ce=Hs(v,f,0),me=v,D=Hs(S,k,0),X=S;var ee=Hs(ne,I,0);ii(t,m,x-257),ii(t,m+5,Z-1),ii(t,m+10,B-4),m+=14;for(var U=0;U<B;++U)ii(t,m+3*U,ne[zm[U]]);m+=3*B;for(var we=[b,$],j=0;j<2;++j)for(var M=we[j],U=0;U<M.length;++U){var W=M[U]&31;ii(t,m,ee[W]),m+=ne[W],W>15&&(ii(t,m,M[U]>>5&127),m+=M[U]>>12)}}else ce=Xj,me=la,D=e6,X=Yc;for(var U=0;U<o;++U){var J=n[U];if(J>255){var W=J>>18&31;ac(t,m,ce[W+257]),m+=me[W+257],W>7&&(ii(t,m,J>>23&31),m+=qh[W]);var se=J&31;ac(t,m,D[se]),m+=X[se],se>3&&(ac(t,m,J>>5&8191),m+=zh[se])}else ac(t,m,ce[J]),m+=me[J]}return ac(t,m,ce[256]),m+me[256]},s6=new c0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),t_=new dn(0),i6=function(e,t,r,n,s,i){var a=i.z||e.length,o=new dn(n+a+5*(1+Math.ceil(a/7e3))+s),c=o.subarray(n,o.length-s),d=i.l,m=(i.r||0)&7;if(t){m&&(c[0]=i.r>>3);for(var g=s6[t-1],v=g>>13,f=g&8191,N=(1<<r)-1,S=i.p||new Gn(32768),k=i.h||new Gn(N+1),_=Math.ceil(r/3),b=2*_,x=function(Ye){return(e[Ye]^e[Ye+1]<<_^e[Ye+2]<<b)&N},P=new c0(25e3),$=new Gn(288),Z=new Gn(32),V=0,U=0,O=i.i||0,ne=0,I=i.w||0,B=0;O+2<a;++O){var K=x(O),E=O&32767,oe=k[K];if(S[E]=oe,k[K]=E,I<=O){var ce=a-O;if((V>7e3||ne>24576)&&(ce>423||!d)){m=qv(e,c,0,P,$,Z,U,ne,B,O-B,m),ne=V=U=0,B=O;for(var me=0;me<286;++me)$[me]=0;for(var me=0;me<30;++me)Z[me]=0}var D=2,X=0,ee=f,we=E-oe&32767;if(ce>2&&K==x(O-we))for(var j=Math.min(v,ce)-1,M=Math.min(32767,O),W=Math.min(258,ce);we<=M&&--ee&&E!=oe;){if(e[O+D]==e[O+D-we]){for(var J=0;J<W&&e[O+J]==e[O+J-we];++J);if(J>D){if(D=J,X=we,J>j)break;for(var se=Math.min(we,J-2),he=0,me=0;me<se;++me){var pe=O-we+me&32767,q=S[pe],G=pe-q&32767;G>he&&(he=G,oe=pe)}}}E=oe,oe=S[E],we+=E-oe&32767}if(X){P[ne++]=268435456|$m[D]<<18|Uv[X];var te=$m[D]&31,xe=Uv[X]&31;U+=qh[te]+zh[xe],++$[257+te],++Z[xe],I=O+D,++V}else P[ne++]=e[O],++$[e[O]]}}for(O=Math.max(O,I);O<a;++O)P[ne++]=e[O],++$[e[O]];m=qv(e,c,d,P,$,Z,U,ne,B,O-B,m),d||(i.r=m&7|c[m/8|0]<<3,m-=7,i.h=k,i.p=S,i.i=O,i.w=I)}else{for(var O=i.w||0;O<a+d;O+=65535){var je=O+65535;je>=a&&(c[m/8|0]=d,je=a),m=e_(c,m+1,e.subarray(O,je))}i.i=a}return Zb(o,0,n+u0(m)+s)},r_=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,a=0;a!=i;){for(var o=Math.min(a+2655,i);a<o;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},a6=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),a=new dn(i.length+e.length);a.set(i),a.set(e,i.length),e=a,s.w=i.length}return i6(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},n_=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},o6=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=r_();s.p(t.dictionary),n_(e,2,s.d())}},l6=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&js(6,"invalid zlib data"),(e[1]>>5&1)==1&&js(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Wm(e,t){t||(t={});var r=r_();r.p(e);var n=a6(e,t,t.dictionary?6:2,4);return o6(n,t),n_(n,n.length-4,r.d()),n}function c6(e,t){return n6(e.subarray(l6(e),-4),{i:2},t,t)}var u6=typeof TextDecoder<"u"&&new TextDecoder,d6=0;try{u6.decode(t_,{stream:!0}),d6=1}catch{}var _t=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Np(){_t.console&&typeof _t.console.log=="function"&&_t.console.log.apply(_t.console,arguments)}var Jt={log:Np,warn:function(e){_t.console&&(typeof _t.console.warn=="function"?_t.console.warn.apply(_t.console,arguments):Np.call(null,arguments))},error:function(e){_t.console&&(typeof _t.console.error=="function"?_t.console.error.apply(_t.console,arguments):Np(e))}};function Sp(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){La(n.response,t,r)},n.onerror=function(){Jt.error("could not download file")},n.send()}function zv(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function wd(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Sc,Hm,La=_t.saveAs||((typeof window>"u"?"undefined":Gt(window))!=="object"||window!==_t?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=_t.URL||_t.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?zv(s.href)?Sp(e,t,r):wd(s,s.target="_blank"):wd(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){wd(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(zv(e))Sp(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){wd(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Gt(i)!=="object"&&(Jt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Sp(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(_t.HTMLElement)||_t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Gt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var m=o.result;m=a?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=m:location=m,n=null},o.readAsDataURL(e)}else{var c=_t.URL||_t.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function s_(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(e);a&&(t=i(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+o+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function jp(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=an(r,n,s,i,t[0],7,-680876936),i=an(i,r,n,s,t[1],12,-389564586),s=an(s,i,r,n,t[2],17,606105819),n=an(n,s,i,r,t[3],22,-1044525330),r=an(r,n,s,i,t[4],7,-176418897),i=an(i,r,n,s,t[5],12,1200080426),s=an(s,i,r,n,t[6],17,-1473231341),n=an(n,s,i,r,t[7],22,-45705983),r=an(r,n,s,i,t[8],7,1770035416),i=an(i,r,n,s,t[9],12,-1958414417),s=an(s,i,r,n,t[10],17,-42063),n=an(n,s,i,r,t[11],22,-1990404162),r=an(r,n,s,i,t[12],7,1804603682),i=an(i,r,n,s,t[13],12,-40341101),s=an(s,i,r,n,t[14],17,-1502002290),r=on(r,n=an(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=on(i,r,n,s,t[6],9,-1069501632),s=on(s,i,r,n,t[11],14,643717713),n=on(n,s,i,r,t[0],20,-373897302),r=on(r,n,s,i,t[5],5,-701558691),i=on(i,r,n,s,t[10],9,38016083),s=on(s,i,r,n,t[15],14,-660478335),n=on(n,s,i,r,t[4],20,-405537848),r=on(r,n,s,i,t[9],5,568446438),i=on(i,r,n,s,t[14],9,-1019803690),s=on(s,i,r,n,t[3],14,-187363961),n=on(n,s,i,r,t[8],20,1163531501),r=on(r,n,s,i,t[13],5,-1444681467),i=on(i,r,n,s,t[2],9,-51403784),s=on(s,i,r,n,t[7],14,1735328473),r=ln(r,n=on(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=ln(i,r,n,s,t[8],11,-2022574463),s=ln(s,i,r,n,t[11],16,1839030562),n=ln(n,s,i,r,t[14],23,-35309556),r=ln(r,n,s,i,t[1],4,-1530992060),i=ln(i,r,n,s,t[4],11,1272893353),s=ln(s,i,r,n,t[7],16,-155497632),n=ln(n,s,i,r,t[10],23,-1094730640),r=ln(r,n,s,i,t[13],4,681279174),i=ln(i,r,n,s,t[0],11,-358537222),s=ln(s,i,r,n,t[3],16,-722521979),n=ln(n,s,i,r,t[6],23,76029189),r=ln(r,n,s,i,t[9],4,-640364487),i=ln(i,r,n,s,t[12],11,-421815835),s=ln(s,i,r,n,t[15],16,530742520),r=cn(r,n=ln(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=cn(i,r,n,s,t[7],10,1126891415),s=cn(s,i,r,n,t[14],15,-1416354905),n=cn(n,s,i,r,t[5],21,-57434055),r=cn(r,n,s,i,t[12],6,1700485571),i=cn(i,r,n,s,t[3],10,-1894986606),s=cn(s,i,r,n,t[10],15,-1051523),n=cn(n,s,i,r,t[1],21,-2054922799),r=cn(r,n,s,i,t[8],6,1873313359),i=cn(i,r,n,s,t[15],10,-30611744),s=cn(s,i,r,n,t[6],15,-1560198380),n=cn(n,s,i,r,t[13],21,1309151649),r=cn(r,n,s,i,t[4],6,-145523070),i=cn(i,r,n,s,t[11],10,-1120210379),s=cn(s,i,r,n,t[2],15,718787259),n=cn(n,s,i,r,t[9],21,-343485551),e[0]=Ki(r,e[0]),e[1]=Ki(n,e[1]),e[2]=Ki(s,e[2]),e[3]=Ki(i,e[3])}function $h(e,t,r,n,s,i){return t=Ki(Ki(t,e),Ki(n,i)),Ki(t<<s|t>>>32-s,r)}function an(e,t,r,n,s,i,a){return $h(t&r|~t&n,e,t,s,i,a)}function on(e,t,r,n,s,i,a){return $h(t&n|r&~n,e,t,s,i,a)}function ln(e,t,r,n,s,i,a){return $h(t^r^n,e,t,s,i,a)}function cn(e,t,r,n,s,i,a){return $h(r^(t|~n),e,t,s,i,a)}function i_(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)jp(n,h6(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(jp(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,jp(n,s),n}function h6(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Sc=_t.atob.bind(_t),Hm=_t.btoa.bind(_t);var $v="0123456789abcdef".split("");function f6(e){for(var t="",r=0;r<4;r++)t+=$v[e>>8*r+4&15]+$v[e>>8*r&15];return t}function p6(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Ym(e){return i_(e).map(p6).join("")}var m6=function(e){for(var t=0;t<e.length;t++)e[t]=f6(e[t]);return e.join("")}(i_("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ki(e,t){if(m6){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Km(e,t){var r,n,s,i;if(e!==r){for(var a=(s=e,i=1+(256/e.length>>0),new Array(i+1).join(s)),o=[],c=0;c<256;c++)o[c]=c;var d=0;for(c=0;c<256;c++){var m=o[c];d=(d+m+a.charCodeAt(c))%256,o[c]=o[d],o[d]=m}r=e,n=o}else o=n;var g=t.length,v=0,f=0,N="";for(c=0;c<g;c++)f=(f+(m=o[v=(v+1)%256]))%256,o[v]=o[f],o[f]=m,a=o[(o[v]+o[f])%256],N+=String.fromCharCode(t.charCodeAt(c)^a);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Vv={print:4,modify:8,copy:16,"annot-forms":32};function Lo(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(o){if(Vv.perm!==void 0)throw new Error("Invalid permission: "+o);s+=Vv[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=Ym(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Km(this.encryptionKey,this.padding)}function To(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[n]}return t}function Gv(e){if(Gt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var a=t[r][i];try{a[0].apply(e,n)}catch(o){_t.console&&Jt.error("jsPDF PubSub Error",o.message,o)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function bh(e){if(!(this instanceof bh))return new bh(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function a_(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ra(e,t,r,n,s){if(!(this instanceof Ra))return new Ra(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,a_.call(this,n,s)}function Go(e,t,r,n,s){if(!(this instanceof Go))return new Go(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,a_.call(this,n,s)}function vt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],o=1,c=16,d="S",m=null;Gt(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(m=e.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),a=e.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,v={},f={internal:{},__private__:{}};f.__private__.PubSub=Gv;var N="1.3",S=f.__private__.getPdfVersion=function(){return N};f.__private__.setPdfVersion=function(p){N=p};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return k};var _=f.__private__.getPageFormat=function(p){return k[p]};s=s||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},x=b.COMPAT;function P(){this.saveGraphicsState(),Y(new dt(ze,0,0,-ze,0,Si()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),d="n",x=b.ADVANCED}function $(){this.restoreGraphicsState(),d="S",x=b.COMPAT}var Z=f.__private__.combineFontStyleAndFontWeight=function(p,A){if(p=="bold"&&A=="normal"||p=="bold"&&A==400||p=="normal"&&A=="italic"||p=="bold"&&A=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return A&&(p=A==400||A==="normal"?p==="italic"?"italic":"normal":A!=700&&A!=="bold"||p!=="normal"?(A==700?"bold":A)+""+p:"bold"),p};f.advancedAPI=function(p){var A=x===b.COMPAT;return A&&P.call(this),typeof p!="function"||(p(this),A&&$.call(this)),this},f.compatAPI=function(p){var A=x===b.ADVANCED;return A&&$.call(this),typeof p!="function"||(p(this),A&&P.call(this)),this},f.isAdvancedAPI=function(){return x===b.ADVANCED};var V,U=function(p){if(x!==b.ADVANCED)throw new Error(p+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=f.roundToPrecision=f.__private__.roundToPrecision=function(p,A){var H=t||A;if(isNaN(p)||isNaN(H))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return p.toFixed(H).replace(/0+$/,"")};V=f.hpf=f.__private__.hpf=typeof c=="number"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return O(p,c)}:c==="smart"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return O(p,p>-1&&p<1?16:5)}:function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return O(p,16)};var ne=f.f2=f.__private__.f2=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f2");return O(p,2)},I=f.__private__.f3=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f3");return O(p,3)},B=f.scale=f.__private__.scale=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.scale");return x===b.COMPAT?p*ze:x===b.ADVANCED?p:void 0},K=function(p){return x===b.COMPAT?Si()-p:x===b.ADVANCED?p:void 0},E=function(p){return B(K(p))};f.__private__.setPrecision=f.setPrecision=function(p){typeof parseInt(p,10)=="number"&&(t=parseInt(p,10))};var oe,ce="00000000000000000000000000000000",me=f.__private__.getFileId=function(){return ce},D=f.__private__.setFileId=function(p){return ce=p!==void 0&&/^[a-fA-F0-9]{32}$/.test(p)?p.toUpperCase():ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(tn=new Lo(m.userPermissions,m.userPassword,m.ownerPassword,ce)),ce};f.setFileId=function(p){return D(p),this},f.getFileId=function(){return me()};var X=f.__private__.convertDateToPDFDate=function(p){var A=p.getTimezoneOffset(),H=A<0?"+":"-",re=Math.floor(Math.abs(A/60)),fe=Math.abs(A%60),Ne=[H,W(re),"'",W(fe),"'"].join("");return["D:",p.getFullYear(),W(p.getMonth()+1),W(p.getDate()),W(p.getHours()),W(p.getMinutes()),W(p.getSeconds()),Ne].join("")},ee=f.__private__.convertPDFDateToDate=function(p){var A=parseInt(p.substr(2,4),10),H=parseInt(p.substr(6,2),10)-1,re=parseInt(p.substr(8,2),10),fe=parseInt(p.substr(10,2),10),Ne=parseInt(p.substr(12,2),10),Le=parseInt(p.substr(14,2),10);return new Date(A,H,re,fe,Ne,Le,0)},we=f.__private__.setCreationDate=function(p){var A;if(p===void 0&&(p=new Date),p instanceof Date)A=X(p);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(p))throw new Error("Invalid argument passed to jsPDF.setCreationDate");A=p}return oe=A},j=f.__private__.getCreationDate=function(p){var A=oe;return p==="jsDate"&&(A=ee(oe)),A};f.setCreationDate=function(p){return we(p),this},f.getCreationDate=function(p){return j(p)};var M,W=f.__private__.padd2=function(p){return("0"+parseInt(p)).slice(-2)},J=f.__private__.padd2Hex=function(p){return("00"+(p=p.toString())).substr(p.length)},se=0,he=[],pe=[],q=0,G=[],te=[],xe=!1,je=pe,Ye=function(){se=0,q=0,pe=[],he=[],G=[],ot=Re(),Oe=Re()};f.__private__.setCustomOutputDestination=function(p){xe=!0,je=p};var ye=function(p){xe||(je=p)};f.__private__.resetCustomOutputDestination=function(){xe=!1,je=pe};var Y=f.__private__.out=function(p){return p=p.toString(),q+=p.length+1,je.push(p),je},nt=f.__private__.write=function(p){return Y(arguments.length===1?p.toString():Array.prototype.join.call(arguments," "))},He=f.__private__.getArrayBuffer=function(p){for(var A=p.length,H=new ArrayBuffer(A),re=new Uint8Array(H);A--;)re[A]=p.charCodeAt(A);return H},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Pe};var De=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(p){return De=x===b.ADVANCED?p/ze:p,this};var Fe,Me=f.__private__.getFontSize=f.getFontSize=function(){return x===b.COMPAT?De:De*ze},st=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(p){return st=p,this},f.__private__.getR2L=f.getR2L=function(){return st};var pt,xt=f.__private__.setZoomMode=function(p){var A=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(p))Fe=p;else if(isNaN(p)){if(A.indexOf(p)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+p+'" is not recognized.');Fe=p}else Fe=parseInt(p,10)};f.__private__.getZoomMode=function(){return Fe};var Be,Ot=f.__private__.setPageMode=function(p){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(p)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+p+'" is not recognized.');pt=p};f.__private__.getPageMode=function(){return pt};var qt=f.__private__.setLayoutMode=function(p){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(p)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+p+'" is not recognized.');Be=p};f.__private__.getLayoutMode=function(){return Be},f.__private__.setDisplayMode=f.setDisplayMode=function(p,A,H){return xt(p),qt(A),Ot(H),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(p){if(Object.keys(ut).indexOf(p)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[p]},f.__private__.getDocumentProperties=function(){return ut},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(p){for(var A in ut)ut.hasOwnProperty(A)&&p[A]&&(ut[A]=p[A]);return this},f.__private__.setDocumentProperty=function(p,A){if(Object.keys(ut).indexOf(p)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[p]=A};var Et,ze,gr,Lt,Hr,Dt={},le={},$e=[],Ve={},Tt={},tt={},yt={},Ke=null,Ct=0,mt=[],Ue=new Gv(f),en=e.hotfixes||[],ur={},vr={},Jn=[],dt=function p(A,H,re,fe,Ne,Le){if(!(this instanceof p))return new p(A,H,re,fe,Ne,Le);isNaN(A)&&(A=1),isNaN(H)&&(H=0),isNaN(re)&&(re=0),isNaN(fe)&&(fe=1),isNaN(Ne)&&(Ne=0),isNaN(Le)&&(Le=0),this._matrix=[A,H,re,fe,Ne,Le]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(p){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(V).join(p)},dt.prototype.multiply=function(p){var A=p.sx*this.sx+p.shy*this.shx,H=p.sx*this.shy+p.shy*this.sy,re=p.shx*this.sx+p.sy*this.shx,fe=p.shx*this.shy+p.sy*this.sy,Ne=p.tx*this.sx+p.ty*this.shx+this.tx,Le=p.tx*this.shy+p.ty*this.sy+this.ty;return new dt(A,H,re,fe,Ne,Le)},dt.prototype.decompose=function(){var p=this.sx,A=this.shy,H=this.shx,re=this.sy,fe=this.tx,Ne=this.ty,Le=Math.sqrt(p*p+A*A),Je=(p/=Le)*H+(A/=Le)*re;H-=p*Je,re-=A*Je;var ct=Math.sqrt(H*H+re*re);return Je/=ct,p*(re/=ct)<A*(H/=ct)&&(p=-p,A=-A,Je=-Je,Le=-Le),{scale:new dt(Le,0,0,ct,0,0),translate:new dt(1,0,0,1,fe,Ne),rotate:new dt(p,A,-A,p,0,0),skew:new dt(1,0,Je,1,0,0)}},dt.prototype.toString=function(p){return this.join(" ")},dt.prototype.inversed=function(){var p=this.sx,A=this.shy,H=this.shx,re=this.sy,fe=this.tx,Ne=this.ty,Le=1/(p*re-A*H),Je=re*Le,ct=-A*Le,At=-H*Le,jt=p*Le;return new dt(Je,ct,At,jt,-Je*fe-At*Ne,-ct*fe-jt*Ne)},dt.prototype.applyToPoint=function(p){var A=p.x*this.sx+p.y*this.shx+this.tx,H=p.x*this.shy+p.y*this.sy+this.ty;return new so(A,H)},dt.prototype.applyToRectangle=function(p){var A=this.applyToPoint(p),H=this.applyToPoint(new so(p.x+p.w,p.y+p.h));return new Tl(A.x,A.y,H.x-A.x,H.y-A.y)},dt.prototype.clone=function(){var p=this.sx,A=this.shy,H=this.shx,re=this.sy,fe=this.tx,Ne=this.ty;return new dt(p,A,H,re,fe,Ne)},f.Matrix=dt;var On=f.matrixMult=function(p,A){return A.multiply(p)},Qn=new dt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Qn;var fn=function(p,A){if(!Tt[p]){var H=(A instanceof Ra?"Sh":"P")+(Object.keys(Ve).length+1).toString(10);A.id=H,Tt[p]=H,Ve[H]=A,Ue.publish("addPattern",A)}};f.ShadingPattern=Ra,f.TilingPattern=Go,f.addShadingPattern=function(p,A){return U("addShadingPattern()"),fn(p,A),this},f.beginTilingPattern=function(p){U("beginTilingPattern()"),bu(p.boundingBox[0],p.boundingBox[1],p.boundingBox[2]-p.boundingBox[0],p.boundingBox[3]-p.boundingBox[1],p.matrix)},f.endTilingPattern=function(p,A){U("endTilingPattern()"),A.stream=te[M].join(`
`),fn(p,A),Ue.publish("endTilingPattern",A),Jn.pop().restore()};var be=f.__private__.newObject=function(){var p=Re();return We(p,!0),p},Re=f.__private__.newObjectDeferred=function(){return se++,he[se]=function(){return q},se},We=function(p,A){return A=typeof A=="boolean"&&A,he[p]=q,A&&Y(p+" 0 obj"),p},Te=f.__private__.newAdditionalObject=function(){var p={objId:Re(),content:""};return G.push(p),p},ot=Re(),Oe=Re(),ht=f.__private__.decodeColorString=function(p){var A=p.split(" ");if(A.length!==2||A[1]!=="g"&&A[1]!=="G")A.length===5&&(A[4]==="k"||A[4]==="K")&&(A=[(1-A[0])*(1-A[3]),(1-A[1])*(1-A[3]),(1-A[2])*(1-A[3]),"r"]);else{var H=parseFloat(A[0]);A=[H,H,H,"r"]}for(var re="#",fe=0;fe<3;fe++)re+=("0"+Math.floor(255*parseFloat(A[fe])).toString(16)).slice(-2);return re},bt=f.__private__.encodeColorString=function(p){var A;typeof p=="string"&&(p={ch1:p});var H=p.ch1,re=p.ch2,fe=p.ch3,Ne=p.ch4,Le=p.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof H=="string"&&H.charAt(0)!=="#"){var Je=new s_(H);if(Je.ok)H=Je.toHex();else if(!/^\d*\.?\d*$/.test(H))throw new Error('Invalid color "'+H+'" passed to jsPDF.encodeColorString.')}if(typeof H=="string"&&/^#[0-9A-Fa-f]{3}$/.test(H)&&(H="#"+H[1]+H[1]+H[2]+H[2]+H[3]+H[3]),typeof H=="string"&&/^#[0-9A-Fa-f]{6}$/.test(H)){var ct=parseInt(H.substr(1),16);H=ct>>16&255,re=ct>>8&255,fe=255&ct}if(re===void 0||Ne===void 0&&H===re&&re===fe)if(typeof H=="string")A=H+" "+Le[0];else switch(p.precision){case 2:A=ne(H/255)+" "+Le[0];break;case 3:default:A=I(H/255)+" "+Le[0]}else if(Ne===void 0||Gt(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return A=["1.","1.","1.",Le[1]].join(" ");if(typeof H=="string")A=[H,re,fe,Le[1]].join(" ");else switch(p.precision){case 2:A=[ne(H/255),ne(re/255),ne(fe/255),Le[1]].join(" ");break;default:case 3:A=[I(H/255),I(re/255),I(fe/255),Le[1]].join(" ")}}else if(typeof H=="string")A=[H,re,fe,Ne,Le[2]].join(" ");else switch(p.precision){case 2:A=[ne(H),ne(re),ne(fe),ne(Ne),Le[2]].join(" ");break;case 3:default:A=[I(H),I(re),I(fe),I(Ne),Le[2]].join(" ")}return A},It=f.__private__.getFilters=function(){return a},gt=f.__private__.putStream=function(p){var A=(p=p||{}).data||"",H=p.filters||It(),re=p.alreadyAppliedFilters||[],fe=p.addLength1||!1,Ne=A.length,Le=p.objectId,Je=function(rn){return rn};if(m!==null&&Le===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(Je=tn.encryptor(Le,0));var ct={};H===!0&&(H=["FlateEncode"]);var At=p.additionalKeyValues||[],jt=(ct=vt.API.processDataByFilters!==void 0?vt.API.processDataByFilters(A,H):{data:A,reverseChain:[]}).reverseChain+(Array.isArray(re)?re.join(" "):re.toString());if(ct.data.length!==0&&(At.push({key:"Length",value:ct.data.length}),fe===!0&&At.push({key:"Length1",value:Ne})),jt.length!=0)if(jt.split("/").length-1==1)At.push({key:"Filter",value:jt});else{At.push({key:"Filter",value:"["+jt+"]"});for(var Bt=0;Bt<At.length;Bt+=1)if(At[Bt].key==="DecodeParms"){for(var ir=[],hr=0;hr<ct.reverseChain.split("/").length-1;hr+=1)ir.push("null");ir.push(At[Bt].value),At[Bt].value="["+ir.join(" ")+"]"}}Y("<<");for(var kr=0;kr<At.length;kr++)Y("/"+At[kr].key+" "+At[kr].value);Y(">>"),ct.data.length!==0&&(Y("stream"),Y(Je(ct.data)),Y("endstream"))},dr=f.__private__.putPage=function(p){var A=p.number,H=p.data,re=p.objId,fe=p.contentsObjId;We(re,!0),Y("<</Type /Page"),Y("/Parent "+p.rootDictionaryObjId+" 0 R"),Y("/Resources "+p.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(V(p.mediaBox.bottomLeftX))+" "+parseFloat(V(p.mediaBox.bottomLeftY))+" "+V(p.mediaBox.topRightX)+" "+V(p.mediaBox.topRightY)+"]"),p.cropBox!==null&&Y("/CropBox ["+V(p.cropBox.bottomLeftX)+" "+V(p.cropBox.bottomLeftY)+" "+V(p.cropBox.topRightX)+" "+V(p.cropBox.topRightY)+"]"),p.bleedBox!==null&&Y("/BleedBox ["+V(p.bleedBox.bottomLeftX)+" "+V(p.bleedBox.bottomLeftY)+" "+V(p.bleedBox.topRightX)+" "+V(p.bleedBox.topRightY)+"]"),p.trimBox!==null&&Y("/TrimBox ["+V(p.trimBox.bottomLeftX)+" "+V(p.trimBox.bottomLeftY)+" "+V(p.trimBox.topRightX)+" "+V(p.trimBox.topRightY)+"]"),p.artBox!==null&&Y("/ArtBox ["+V(p.artBox.bottomLeftX)+" "+V(p.artBox.bottomLeftY)+" "+V(p.artBox.topRightX)+" "+V(p.artBox.topRightY)+"]"),typeof p.userUnit=="number"&&p.userUnit!==1&&Y("/UserUnit "+p.userUnit),Ue.publish("putPage",{objId:re,pageContext:mt[A],pageNumber:A,page:H}),Y("/Contents "+fe+" 0 R"),Y(">>"),Y("endobj");var Ne=H.join(`
`);return x===b.ADVANCED&&(Ne+=`
Q`),We(fe,!0),gt({data:Ne,filters:It(),objectId:fe}),Y("endobj"),re},Fr=f.__private__.putPages=function(){var p,A,H=[];for(p=1;p<=Ct;p++)mt[p].objId=Re(),mt[p].contentsObjId=Re();for(p=1;p<=Ct;p++)H.push(dr({number:p,data:te[p],objId:mt[p].objId,contentsObjId:mt[p].contentsObjId,mediaBox:mt[p].mediaBox,cropBox:mt[p].cropBox,bleedBox:mt[p].bleedBox,trimBox:mt[p].trimBox,artBox:mt[p].artBox,userUnit:mt[p].userUnit,rootDictionaryObjId:ot,resourceDictionaryObjId:Oe}));We(ot,!0),Y("<</Type /Pages");var re="/Kids [";for(A=0;A<Ct;A++)re+=H[A]+" 0 R ";Y(re+"]"),Y("/Count "+Ct),Y(">>"),Y("endobj"),Ue.publish("postPutPages")},Tr=function(p){Ue.publish("putFont",{font:p,out:Y,newObject:be,putStream:gt}),p.isAlreadyPutted!==!0&&(p.objectNumber=be(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+To(p.postScriptName)),Y("/Subtype /Type1"),typeof p.encoding=="string"&&Y("/Encoding /"+p.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},Br=function(){for(var p in Dt)Dt.hasOwnProperty(p)&&(g===!1||g===!0&&v.hasOwnProperty(p))&&Tr(Dt[p])},hs=function(p){p.objectNumber=be();var A=[];A.push({key:"Type",value:"/XObject"}),A.push({key:"Subtype",value:"/Form"}),A.push({key:"BBox",value:"["+[V(p.x),V(p.y),V(p.x+p.width),V(p.y+p.height)].join(" ")+"]"}),A.push({key:"Matrix",value:"["+p.matrix.toString()+"]"});var H=p.pages[1].join(`
`);gt({data:H,additionalKeyValues:A,objectId:p.objectNumber}),Y("endobj")},Os=function(){for(var p in ur)ur.hasOwnProperty(p)&&hs(ur[p])},pn=function(p,A){var H,re=[],fe=1/(A-1);for(H=0;H<1;H+=fe)re.push(H);if(re.push(1),p[0].offset!=0){var Ne={offset:0,color:p[0].color};p.unshift(Ne)}if(p[p.length-1].offset!=1){var Le={offset:1,color:p[p.length-1].color};p.push(Le)}for(var Je="",ct=0,At=0;At<re.length;At++){for(H=re[At];H>p[ct+1].offset;)ct++;var jt=p[ct].offset,Bt=(H-jt)/(p[ct+1].offset-jt),ir=p[ct].color,hr=p[ct+1].color;Je+=J(Math.round((1-Bt)*ir[0]+Bt*hr[0]).toString(16))+J(Math.round((1-Bt)*ir[1]+Bt*hr[1]).toString(16))+J(Math.round((1-Bt)*ir[2]+Bt*hr[2]).toString(16))}return Je.trim()},bi=function(p,A){A||(A=21);var H=be(),re=pn(p.colors,A),fe=[];fe.push({key:"FunctionType",value:"0"}),fe.push({key:"Domain",value:"[0.0 1.0]"}),fe.push({key:"Size",value:"["+A+"]"}),fe.push({key:"BitsPerSample",value:"8"}),fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),gt({data:re,additionalKeyValues:fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:H}),Y("endobj"),p.objectNumber=be(),Y("<< /ShadingType "+p.type),Y("/ColorSpace /DeviceRGB");var Ne="/Coords ["+V(parseFloat(p.coords[0]))+" "+V(parseFloat(p.coords[1]))+" ";p.type===2?Ne+=V(parseFloat(p.coords[2]))+" "+V(parseFloat(p.coords[3])):Ne+=V(parseFloat(p.coords[2]))+" "+V(parseFloat(p.coords[3]))+" "+V(parseFloat(p.coords[4]))+" "+V(parseFloat(p.coords[5])),Y(Ne+="]"),p.matrix&&Y("/Matrix ["+p.matrix.toString()+"]"),Y("/Function "+H+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},_i=function(p,A){var H=Re(),re=be();A.push({resourcesOid:H,objectOid:re}),p.objectNumber=re;var fe=[];fe.push({key:"Type",value:"/Pattern"}),fe.push({key:"PatternType",value:"1"}),fe.push({key:"PaintType",value:"1"}),fe.push({key:"TilingType",value:"1"}),fe.push({key:"BBox",value:"["+p.boundingBox.map(V).join(" ")+"]"}),fe.push({key:"XStep",value:V(p.xStep)}),fe.push({key:"YStep",value:V(p.yStep)}),fe.push({key:"Resources",value:H+" 0 R"}),p.matrix&&fe.push({key:"Matrix",value:"["+p.matrix.toString()+"]"}),gt({data:p.stream,additionalKeyValues:fe,objectId:p.objectNumber}),Y("endobj")},Ur=function(p){var A;for(A in Ve)Ve.hasOwnProperty(A)&&(Ve[A]instanceof Ra?bi(Ve[A]):Ve[A]instanceof Go&&_i(Ve[A],p))},Mr=function(p){for(var A in p.objectNumber=be(),Y("<<"),p)switch(A){case"opacity":Y("/ca "+ne(p[A]));break;case"stroke-opacity":Y("/CA "+ne(p[A]))}Y(">>"),Y("endobj")},wi=function(){var p;for(p in tt)tt.hasOwnProperty(p)&&Mr(tt[p])},xl=function(){for(var p in Y("/XObject <<"),ur)ur.hasOwnProperty(p)&&ur[p].objectNumber>=0&&Y("/"+p+" "+ur[p].objectNumber+" 0 R");Ue.publish("putXobjectDict"),Y(">>")},Wh=function(){tn.oid=be(),Y("<<"),Y("/Filter /Standard"),Y("/V "+tn.v),Y("/R "+tn.r),Y("/U <"+tn.toHexString(tn.U)+">"),Y("/O <"+tn.toHexString(tn.O)+">"),Y("/P "+tn.P),Y(">>"),Y("endobj")},nu=function(){for(var p in Y("/Font <<"),Dt)Dt.hasOwnProperty(p)&&(g===!1||g===!0&&v.hasOwnProperty(p))&&Y("/"+p+" "+Dt[p].objectNumber+" 0 R");Y(">>")},Hh=function(){if(Object.keys(Ve).length>0){for(var p in Y("/Shading <<"),Ve)Ve.hasOwnProperty(p)&&Ve[p]instanceof Ra&&Ve[p].objectNumber>=0&&Y("/"+p+" "+Ve[p].objectNumber+" 0 R");Ue.publish("putShadingPatternDict"),Y(">>")}},Qa=function(p){if(Object.keys(Ve).length>0){for(var A in Y("/Pattern <<"),Ve)Ve.hasOwnProperty(A)&&Ve[A]instanceof f.TilingPattern&&Ve[A].objectNumber>=0&&Ve[A].objectNumber<p&&Y("/"+A+" "+Ve[A].objectNumber+" 0 R");Ue.publish("putTilingPatternDict"),Y(">>")}},Yh=function(){if(Object.keys(tt).length>0){var p;for(p in Y("/ExtGState <<"),tt)tt.hasOwnProperty(p)&&tt[p].objectNumber>=0&&Y("/"+p+" "+tt[p].objectNumber+" 0 R");Ue.publish("putGStateDict"),Y(">>")}},yr=function(p){We(p.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),nu(),Hh(),Qa(p.objectOid),Yh(),xl(),Y(">>"),Y("endobj")},su=function(){var p=[];Br(),wi(),Os(),Ur(p),Ue.publish("putResources"),p.forEach(yr),yr({resourcesOid:Oe,objectOid:Number.MAX_SAFE_INTEGER}),Ue.publish("postPutResources")},iu=function(){Ue.publish("putAdditionalObjects");for(var p=0;p<G.length;p++){var A=G[p];We(A.objId,!0),Y(A.content),Y("endobj")}Ue.publish("postPutAdditionalObjects")},au=function(p){le[p.fontName]=le[p.fontName]||{},le[p.fontName][p.fontStyle]=p.id},Nl=function(p,A,H,re,fe){var Ne={id:"F"+(Object.keys(Dt).length+1).toString(10),postScriptName:p,fontName:A,fontStyle:H,encoding:re,isStandardFont:fe||!1,metadata:{}};return Ue.publish("addFont",{font:Ne,instance:this}),Dt[Ne.id]=Ne,au(Ne),Ne.id},Kh=function(p){for(var A=0,H=Pe.length;A<H;A++){var re=Nl.call(this,p[A][0],p[A][1],p[A][2],Pe[A][3],!0);g===!1&&(v[re]=!0);var fe=p[A][0].split("-");au({id:re,fontName:fe[0],fontStyle:fe[1]||""})}Ue.publish("addFonts",{fonts:Dt,dictionary:le})},fs=function(p){return p.foo=function(){try{return p.apply(this,arguments)}catch(re){var A=re.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var H="Error in function "+A.split(`
`)[0].split("<")[0]+": "+re.message;if(!_t.console)throw new Error(H);_t.console.error(H,re),_t.alert&&alert(H)}},p.foo.bar=p,p.foo},Xa=function(p,A){var H,re,fe,Ne,Le,Je,ct,At,jt;if(fe=(A=A||{}).sourceEncoding||"Unicode",Le=A.outputEncoding,(A.autoencode||Le)&&Dt[Et].metadata&&Dt[Et].metadata[fe]&&Dt[Et].metadata[fe].encoding&&(Ne=Dt[Et].metadata[fe].encoding,!Le&&Dt[Et].encoding&&(Le=Dt[Et].encoding),!Le&&Ne.codePages&&(Le=Ne.codePages[0]),typeof Le=="string"&&(Le=Ne[Le]),Le)){for(ct=!1,Je=[],H=0,re=p.length;H<re;H++)(At=Le[p.charCodeAt(H)])?Je.push(String.fromCharCode(At)):Je.push(p[H]),Je[H].charCodeAt(0)>>8&&(ct=!0);p=Je.join("")}for(H=p.length;ct===void 0&&H!==0;)p.charCodeAt(H-1)>>8&&(ct=!0),H--;if(!ct)return p;for(Je=A.noBOM?[]:[254,255],H=0,re=p.length;H<re;H++){if((jt=(At=p.charCodeAt(H))>>8)>>8)throw new Error("Character at position "+H+" of string '"+p+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Je.push(jt),Je.push(At-(jt<<8))}return String.fromCharCode.apply(void 0,Je)},Nn=f.__private__.pdfEscape=f.pdfEscape=function(p,A){return Xa(p,A).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sl=f.__private__.beginPage=function(p){te[++Ct]=[],mt[Ct]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(p[0]),topRightY:Number(p[1])}},lu(Ct),ye(te[M])},ou=function(p,A){var H,re,fe;switch(r=A||r,typeof p=="string"&&(H=_(p.toLowerCase()),Array.isArray(H)&&(re=H[0],fe=H[1])),Array.isArray(p)&&(re=p[0]*ze,fe=p[1]*ze),isNaN(re)&&(re=s[0],fe=s[1]),(re>14400||fe>14400)&&(Jt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),re=Math.min(14400,re),fe=Math.min(14400,fe)),s=[re,fe],r.substr(0,1)){case"l":fe>re&&(s=[fe,re]);break;case"p":re>fe&&(s=[fe,re])}Sl(s),pu(Al),Y(ps),Pl!==0&&Y(Pl+" J"),Ll!==0&&Y(Ll+" j"),Ue.publish("addPage",{pageNumber:Ct})},Jh=function(p){p>0&&p<=Ct&&(te.splice(p,1),mt.splice(p,1),Ct--,M>Ct&&(M=Ct),this.setPage(M))},lu=function(p){p>0&&p<=Ct&&(M=p)},Qh=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return te.length-1},cu=function(p,A,H){var re,fe=void 0;return H=H||{},p=p!==void 0?p:Dt[Et].fontName,A=A!==void 0?A:Dt[Et].fontStyle,re=p.toLowerCase(),le[re]!==void 0&&le[re][A]!==void 0?fe=le[re][A]:le[p]!==void 0&&le[p][A]!==void 0?fe=le[p][A]:H.disableWarning===!1&&Jt.warn("Unable to look up font label for font '"+p+"', '"+A+"'. Refer to getFontList() for available fonts."),fe||H.noFallback||(fe=le.times[A])==null&&(fe=le.times.normal),fe},Xh=f.__private__.putInfo=function(){var p=be(),A=function(re){return re};for(var H in m!==null&&(A=tn.encryptor(p,0)),Y("<<"),Y("/Producer ("+Nn(A("jsPDF "+vt.version))+")"),ut)ut.hasOwnProperty(H)&&ut[H]&&Y("/"+H.substr(0,1).toUpperCase()+H.substr(1)+" ("+Nn(A(ut[H]))+")");Y("/CreationDate ("+Nn(A(oe))+")"),Y(">>"),Y("endobj")},jl=f.__private__.putCatalog=function(p){var A=(p=p||{}).rootDictionaryObjId||ot;switch(be(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+A+" 0 R"),Fe||(Fe="fullwidth"),Fe){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var H=""+Fe;H.substr(H.length-1)==="%"&&(Fe=parseInt(Fe)/100),typeof Fe=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+ne(Fe)+"]")}switch(Be||(Be="continuous"),Be){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}pt&&Y("/PageMode /"+pt),Ue.publish("putCatalog"),Y(">>"),Y("endobj")},Zh=f.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(se+1)),Y("/Root "+se+" 0 R"),Y("/Info "+(se-1)+" 0 R"),m!==null&&Y("/Encrypt "+tn.oid+" 0 R"),Y("/ID [ <"+ce+"> <"+ce+"> ]"),Y(">>")},ef=f.__private__.putHeader=function(){Y("%PDF-"+N),Y("%")},tf=f.__private__.putXRef=function(){var p="0000000000";Y("xref"),Y("0 "+(se+1)),Y("0000000000 65535 f ");for(var A=1;A<=se;A++)typeof he[A]=="function"?Y((p+he[A]()).slice(-10)+" 00000 n "):he[A]!==void 0?Y((p+he[A]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},Js=f.__private__.buildDocument=function(){Ye(),ye(pe),Ue.publish("buildDocument"),ef(),Fr(),iu(),su(),m!==null&&Wh(),Xh(),jl();var p=q;return tf(),Zh(),Y("startxref"),Y(""+p),Y("%%EOF"),ye(te[M]),pe.join(`
`)},Za=f.__private__.getBlob=function(p){return new Blob([He(p)],{type:"application/pdf"})},eo=f.output=f.__private__.output=fs(function(p,A){switch(typeof(A=A||{})=="string"?A={filename:A}:A.filename=A.filename||"generated.pdf",p){case void 0:return Js();case"save":f.save(A.filename);break;case"arraybuffer":return He(Js());case"blob":return Za(Js());case"bloburi":case"bloburl":if(_t.URL!==void 0&&typeof _t.URL.createObjectURL=="function")return _t.URL&&_t.URL.createObjectURL(Za(Js()))||void 0;Jt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var H="",re=Js();try{H=Hm(re)}catch{H=Hm(unescape(encodeURIComponent(re)))}return"data:application/pdf;filename="+A.filename+";base64,"+H;case"pdfobjectnewwindow":if(Object.prototype.toString.call(_t)==="[object Window]"){var fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';A.pdfObjectUrl&&(fe=A.pdfObjectUrl,Ne="");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+fe+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(A)+");<\/script></body></html>",Je=_t.open();return Je!==null&&Je.document.write(Le),Je}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(_t)==="[object Window]"){var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(A.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+A.filename+'" width="500px" height="400px" /></body></html>',At=_t.open();if(At!==null){At.document.write(ct);var jt=this;At.document.documentElement.querySelector("#pdfViewer").onload=function(){At.document.title=A.filename,At.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(jt.output("bloburl"))}}return At}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(_t)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",A)+'"></iframe></body></html>',ir=_t.open();if(ir!==null&&(ir.document.write(Bt),ir.document.title=A.filename),ir||typeof safari>"u")return ir;break;case"datauri":case"dataurl":return _t.document.location.href=this.output("datauristring",A);default:return null}}),uu=function(p){return Array.isArray(en)===!0&&en.indexOf(p)>-1};switch(n){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=uu("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ze=n}var tn=null;we(),D();var rf=function(p){return m!==null?tn.encryptor(p,0):function(A){return A}},du=f.__private__.getPageInfo=f.getPageInfo=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mt[p].objId,pageNumber:p,pageContext:mt[p]}},Nt=f.__private__.getPageInfoByObjId=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var A in mt)if(mt[A].objId===p)break;return du(A)},nf=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:mt[M].objId,pageNumber:M,pageContext:mt[M]}};f.addPage=function(){return ou.apply(this,arguments),this},f.setPage=function(){return lu.apply(this,arguments),ye.call(this,te[M]),this},f.insertPage=function(p){return this.addPage(),this.movePage(M,p),this},f.movePage=function(p,A){var H,re;if(p>A){H=te[p],re=mt[p];for(var fe=p;fe>A;fe--)te[fe]=te[fe-1],mt[fe]=mt[fe-1];te[A]=H,mt[A]=re,this.setPage(A)}else if(p<A){H=te[p],re=mt[p];for(var Ne=p;Ne<A;Ne++)te[Ne]=te[Ne+1],mt[Ne]=mt[Ne+1];te[A]=H,mt[A]=re,this.setPage(A)}return this},f.deletePage=function(){return Jh.apply(this,arguments),this},f.__private__.text=f.text=function(p,A,H,re,fe){var Ne,Le,Je,ct,At,jt,Bt,ir,hr,kr=(re=re||{}).scope||this;if(typeof p=="number"&&typeof A=="number"&&(typeof H=="string"||Array.isArray(H))){var rn=H;H=A,A=p,p=rn}if(arguments[3]instanceof dt?(U("The transform parameter of text() with a Matrix value"),hr=fe):(Je=arguments[4],ct=arguments[5],Gt(Bt=arguments[3])==="object"&&Bt!==null||(typeof Je=="string"&&(ct=Je,Je=null),typeof Bt=="string"&&(ct=Bt,Bt=null),typeof Bt=="number"&&(Je=Bt,Bt=null),re={flags:Bt,angle:Je,align:ct})),isNaN(A)||isNaN(H)||p==null)throw new Error("Invalid arguments passed to jsPDF.text");if(p.length===0)return kr;var qr="",ms=!1,Rn=typeof re.lineHeightFactor=="number"?re.lineHeightFactor:va,Fs=kr.internal.scaleFactor;function _u(Qt){return Qt=Qt.split("	").join(Array(re.TabLen||9).join(" ")),Nn(Qt,Bt)}function Dl(Qt){for(var Xt,_r=Qt.concat(),Ir=[],ti=_r.length;ti--;)typeof(Xt=_r.shift())=="string"?Ir.push(Xt):Array.isArray(Qt)&&(Xt.length===1||Xt[1]===void 0&&Xt[2]===void 0)?Ir.push(Xt[0]):Ir.push([Xt[0],Xt[1],Xt[2]]);return Ir}function Fl(Qt,Xt){var _r;if(typeof Qt=="string")_r=Xt(Qt)[0];else if(Array.isArray(Qt)){for(var Ir,ti,Gl=Qt.concat(),go=[],ju=Gl.length;ju--;)typeof(Ir=Gl.shift())=="string"?go.push(Xt(Ir)[0]):Array.isArray(Ir)&&typeof Ir[0]=="string"&&(ti=Xt(Ir[0],Ir[1],Ir[2]),go.push([ti[0],ti[1],ti[2]]));_r=go}return _r}var ao=!1,Bl=!0;if(typeof p=="string")ao=!0;else if(Array.isArray(p)){var Ul=p.concat();Le=[];for(var oo,Yr=Ul.length;Yr--;)(typeof(oo=Ul.shift())!="string"||Array.isArray(oo)&&typeof oo[0]!="string")&&(Bl=!1);ao=Bl}if(ao===!1)throw new Error('Type of text must be string or Array. "'+p+'" is not recognized.');typeof p=="string"&&(p=p.match(/[\r?\n]/)?p.split(/\r\n|\r|\n/g):[p]);var lo=De/kr.internal.scaleFactor,co=lo*(Rn-1);switch(re.baseline){case"bottom":H-=co;break;case"top":H+=lo-co;break;case"hanging":H+=lo-2*co;break;case"middle":H+=lo/2-co}if((jt=re.maxWidth||0)>0&&(typeof p=="string"?p=kr.splitTextToSize(p,jt):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(Qt,Xt){return Qt.concat(kr.splitTextToSize(Xt,jt))},[]))),Ne={text:p,x:A,y:H,options:re,mutex:{pdfEscape:Nn,activeFontKey:Et,fonts:Dt,activeFontSize:De}},Ue.publish("preProcessText",Ne),p=Ne.text,Je=(re=Ne.options).angle,!(hr instanceof dt)&&Je&&typeof Je=="number"){Je*=Math.PI/180,re.rotationDirection===0&&(Je=-Je),x===b.ADVANCED&&(Je=-Je);var uo=Math.cos(Je),Ml=Math.sin(Je);hr=new dt(uo,Ml,-Ml,uo,0,0)}else Je&&Je instanceof dt&&(hr=Je);x!==b.ADVANCED||hr||(hr=Qn),(At=re.charSpace||no)!==void 0&&(qr+=V(B(At))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ir=re.horizontalScale)!==void 0&&(qr+=V(100*ir)+` Tz
`),re.lang;var Sn=-1,pf=re.renderingMode!==void 0?re.renderingMode:re.stroke,ql=kr.internal.getCurrentPageInfo().pageContext;switch(pf){case 0:case!1:case"fill":Sn=0;break;case 1:case!0:case"stroke":Sn=1;break;case 2:case"fillThenStroke":Sn=2;break;case 3:case"invisible":Sn=3;break;case 4:case"fillAndAddForClipping":Sn=4;break;case 5:case"strokeAndAddPathForClipping":Sn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Sn=6;break;case 7:case"addToPathForClipping":Sn=7}var wu=ql.usedRenderingMode!==void 0?ql.usedRenderingMode:-1;Sn!==-1?qr+=Sn+` Tr
`:wu!==-1&&(qr+=`0 Tr
`),Sn!==-1&&(ql.usedRenderingMode=Sn),ct=re.align||"left";var Xn,ho=De*Rn,xu=kr.internal.pageSize.getWidth(),Nu=Dt[Et];At=re.charSpace||no,jt=re.maxWidth||0,Bt=Object.assign({autoencode:!0,noBOM:!0},re.flags);var ji=[],_a=function(Qt){return kr.getStringUnitWidth(Qt,{font:Nu,charSpace:At,fontSize:De,doKerning:!1})*De/Fs};if(Object.prototype.toString.call(p)==="[object Array]"){var jn;Le=Dl(p),ct!=="left"&&(Xn=Le.map(_a));var mn,ki=0;if(ct==="right"){A-=Xn[0],p=[],Yr=Le.length;for(var Xs=0;Xs<Yr;Xs++)Xs===0?(mn=Ds(A),jn=Qs(H)):(mn=B(ki-Xn[Xs]),jn=-ho),p.push([Le[Xs],mn,jn]),ki=Xn[Xs]}else if(ct==="center"){A-=Xn[0]/2,p=[],Yr=Le.length;for(var Zs=0;Zs<Yr;Zs++)Zs===0?(mn=Ds(A),jn=Qs(H)):(mn=B((ki-Xn[Zs])/2),jn=-ho),p.push([Le[Zs],mn,jn]),ki=Xn[Zs]}else if(ct==="left"){p=[],Yr=Le.length;for(var fo=0;fo<Yr;fo++)p.push(Le[fo])}else if(ct==="justify"&&Nu.encoding==="Identity-H"){p=[],Yr=Le.length,jt=jt!==0?jt:xu;for(var ei=0,br=0;br<Yr;br++)if(jn=br===0?Qs(H):-ho,mn=br===0?Ds(A):ei,br<Yr-1){var zl=B((jt-Xn[br])/(Le[br].split(" ").length-1)),gn=Le[br].split(" ");p.push([gn[0]+" ",mn,jn]),ei=0;for(var Zn=1;Zn<gn.length;Zn++){var po=(_a(gn[Zn-1]+" "+gn[Zn])-_a(gn[Zn]))*Fs+zl;Zn==gn.length-1?p.push([gn[Zn],po,0]):p.push([gn[Zn]+" ",po,0]),ei-=po}}else p.push([Le[br],mn,jn]);p.push(["",ei,0])}else{if(ct!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(p=[],Yr=Le.length,jt=jt!==0?jt:xu,br=0;br<Yr;br++)jn=br===0?Qs(H):-ho,mn=br===0?Ds(A):0,br<Yr-1?ji.push(V(B((jt-Xn[br])/(Le[br].split(" ").length-1)))):ji.push(0),p.push([Le[br],mn,jn])}}var Su=typeof re.R2L=="boolean"?re.R2L:st;Su===!0&&(p=Fl(p,function(Qt,Xt,_r){return[Qt.split("").reverse().join(""),Xt,_r]})),Ne={text:p,x:A,y:H,options:re,mutex:{pdfEscape:Nn,activeFontKey:Et,fonts:Dt,activeFontSize:De}},Ue.publish("postProcessText",Ne),p=Ne.text,ms=Ne.mutex.isHex||!1;var $l=Dt[Et].encoding;$l!=="WinAnsiEncoding"&&$l!=="StandardEncoding"||(p=Fl(p,function(Qt,Xt,_r){return[_u(Qt),Xt,_r]})),Le=Dl(p),p=[];for(var wa,xa,Ci,Na=0,mo=1,Sa=Array.isArray(Le[0])?mo:Na,Ai="",Vl=function(Qt,Xt,_r){var Ir="";return _r instanceof dt?(_r=typeof re.angle=="number"?On(_r,new dt(1,0,0,1,Qt,Xt)):On(new dt(1,0,0,1,Qt,Xt),_r),x===b.ADVANCED&&(_r=On(new dt(1,0,0,-1,0,0),_r)),Ir=_r.join(" ")+` Tm
`):Ir=V(Qt)+" "+V(Xt)+` Td
`,Ir},es=0;es<Le.length;es++){switch(Ai="",Sa){case mo:Ci=(ms?"<":"(")+Le[es][0]+(ms?">":")"),wa=parseFloat(Le[es][1]),xa=parseFloat(Le[es][2]);break;case Na:Ci=(ms?"<":"(")+Le[es]+(ms?">":")"),wa=Ds(A),xa=Qs(H)}ji!==void 0&&ji[es]!==void 0&&(Ai=ji[es]+` Tw
`),es===0?p.push(Ai+Vl(wa,xa,hr)+Ci):Sa===Na?p.push(Ai+Ci):Sa===mo&&p.push(Ai+Vl(wa,xa,hr)+Ci)}p=Sa===Na?p.join(` Tj
T* `):p.join(` Tj
`),p+=` Tj
`;var ts=`BT
/`;return ts+=Et+" "+De+` Tf
`,ts+=V(De*Rn)+` TL
`,ts+=ya+`
`,ts+=qr,ts+=p,Y(ts+="ET"),v[Et]=!0,kr};var sf=f.__private__.clip=f.clip=function(p){return Y(p==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return sf("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Y("n"),this};var Rs=f.__private__.isValidStyle=function(p){var A=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(p)!==-1&&(A=!0),A};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(p){return Rs(p)&&(d=p),this};var hu=f.__private__.getStyle=f.getStyle=function(p){var A=d;switch(p){case"D":case"S":A="S";break;case"F":A="f";break;case"FD":case"DF":A="B";break;case"f":case"f*":case"B":case"B*":A=p}return A},fu=f.close=function(){return Y("h"),this};f.stroke=function(){return Y("S"),this},f.fill=function(p){return to("f",p),this},f.fillEvenOdd=function(p){return to("f*",p),this},f.fillStroke=function(p){return to("B",p),this},f.fillStrokeEvenOdd=function(p){return to("B*",p),this};var to=function(p,A){Gt(A)==="object"?of(A,p):Y(p)},kl=function(p){p===null||x===b.ADVANCED&&p===void 0||(p=hu(p),Y(p))};function af(p,A,H,re,fe){var Ne=new Go(A||this.boundingBox,H||this.xStep,re||this.yStep,this.gState,fe||this.matrix);Ne.stream=this.stream;var Le=p+"$$"+this.cloneIndex+++"$$";return fn(Le,Ne),Ne}var of=function(p,A){var H=Tt[p.key],re=Ve[H];if(re instanceof Ra)Y("q"),Y(lf(A)),re.gState&&f.setGState(re.gState),Y(p.matrix.toString()+" cm"),Y("/"+H+" sh"),Y("Q");else if(re instanceof Go){var fe=new dt(1,0,0,-1,0,Si());p.matrix&&(fe=fe.multiply(p.matrix||Qn),H=af.call(re,p.key,p.boundingBox,p.xStep,p.yStep,fe).id),Y("q"),Y("/Pattern cs"),Y("/"+H+" scn"),re.gState&&f.setGState(re.gState),Y(A),Y("Q")}},lf=function(p){switch(p){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Cl=f.moveTo=function(p,A){return Y(V(B(p))+" "+V(E(A))+" m"),this},ga=f.lineTo=function(p,A){return Y(V(B(p))+" "+V(E(A))+" l"),this},xi=f.curveTo=function(p,A,H,re,fe,Ne){return Y([V(B(p)),V(E(A)),V(B(H)),V(E(re)),V(B(fe)),V(E(Ne)),"c"].join(" ")),this};f.__private__.line=f.line=function(p,A,H,re,fe){if(isNaN(p)||isNaN(A)||isNaN(H)||isNaN(re)||!Rs(fe))throw new Error("Invalid arguments passed to jsPDF.line");return x===b.COMPAT?this.lines([[H-p,re-A]],p,A,[1,1],fe||"S"):this.lines([[H-p,re-A]],p,A,[1,1]).stroke()},f.__private__.lines=f.lines=function(p,A,H,re,fe,Ne){var Le,Je,ct,At,jt,Bt,ir,hr,kr,rn,qr,ms;if(typeof p=="number"&&(ms=H,H=A,A=p,p=ms),re=re||[1,1],Ne=Ne||!1,isNaN(A)||isNaN(H)||!Array.isArray(p)||!Array.isArray(re)||!Rs(fe)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cl(A,H),Le=re[0],Je=re[1],At=p.length,rn=A,qr=H,ct=0;ct<At;ct++)(jt=p[ct]).length===2?(rn=jt[0]*Le+rn,qr=jt[1]*Je+qr,ga(rn,qr)):(Bt=jt[0]*Le+rn,ir=jt[1]*Je+qr,hr=jt[2]*Le+rn,kr=jt[3]*Je+qr,rn=jt[4]*Le+rn,qr=jt[5]*Je+qr,xi(Bt,ir,hr,kr,rn,qr));return Ne&&fu(),kl(fe),this},f.path=function(p){for(var A=0;A<p.length;A++){var H=p[A],re=H.c;switch(H.op){case"m":Cl(re[0],re[1]);break;case"l":ga(re[0],re[1]);break;case"c":xi.apply(this,re);break;case"h":fu()}}return this},f.__private__.rect=f.rect=function(p,A,H,re,fe){if(isNaN(p)||isNaN(A)||isNaN(H)||isNaN(re)||!Rs(fe))throw new Error("Invalid arguments passed to jsPDF.rect");return x===b.COMPAT&&(re=-re),Y([V(B(p)),V(E(A)),V(B(H)),V(B(re)),"re"].join(" ")),kl(fe),this},f.__private__.triangle=f.triangle=function(p,A,H,re,fe,Ne,Le){if(isNaN(p)||isNaN(A)||isNaN(H)||isNaN(re)||isNaN(fe)||isNaN(Ne)||!Rs(Le))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[H-p,re-A],[fe-H,Ne-re],[p-fe,A-Ne]],p,A,[1,1],Le,!0),this},f.__private__.roundedRect=f.roundedRect=function(p,A,H,re,fe,Ne,Le){if(isNaN(p)||isNaN(A)||isNaN(H)||isNaN(re)||isNaN(fe)||isNaN(Ne)||!Rs(Le))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Je=4/3*(Math.SQRT2-1);return fe=Math.min(fe,.5*H),Ne=Math.min(Ne,.5*re),this.lines([[H-2*fe,0],[fe*Je,0,fe,Ne-Ne*Je,fe,Ne],[0,re-2*Ne],[0,Ne*Je,-fe*Je,Ne,-fe,Ne],[2*fe-H,0],[-fe*Je,0,-fe,-Ne*Je,-fe,-Ne],[0,2*Ne-re],[0,-Ne*Je,fe*Je,-Ne,fe,-Ne]],p+fe,A,[1,1],Le,!0),this},f.__private__.ellipse=f.ellipse=function(p,A,H,re,fe){if(isNaN(p)||isNaN(A)||isNaN(H)||isNaN(re)||!Rs(fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*H,Le=4/3*(Math.SQRT2-1)*re;return Cl(p+H,A),xi(p+H,A-Le,p+Ne,A-re,p,A-re),xi(p-Ne,A-re,p-H,A-Le,p-H,A),xi(p-H,A+Le,p-Ne,A+re,p,A+re),xi(p+Ne,A+re,p+H,A+Le,p+H,A),kl(fe),this},f.__private__.circle=f.circle=function(p,A,H,re){if(isNaN(p)||isNaN(A)||isNaN(H)||!Rs(re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(p,A,H,H,re)},f.setFont=function(p,A,H){return H&&(A=Z(A,H)),Et=cu(p,A,{disableWarning:!1}),this};var cf=f.__private__.getFont=f.getFont=function(){return Dt[cu.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var p,A,H={};for(p in le)if(le.hasOwnProperty(p))for(A in H[p]=[],le[p])le[p].hasOwnProperty(A)&&H[p].push(A);return H},f.addFont=function(p,A,H,re,fe){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?fe=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(H=Z(H,re)),fe=fe||"Identity-H",Nl.call(this,p,A,H,fe)};var va,Al=e.lineWidth||.200025,ro=f.__private__.getLineWidth=f.getLineWidth=function(){return Al},pu=f.__private__.setLineWidth=f.setLineWidth=function(p){return Al=p,Y(V(B(p))+" w"),this};f.__private__.setLineDash=vt.API.setLineDash=vt.API.setLineDashPattern=function(p,A){if(p=p||[],A=A||0,isNaN(A)||!Array.isArray(p))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return p=p.map(function(H){return V(B(H))}).join(" "),A=V(B(A)),Y("["+p+"] "+A+" d"),this};var mu=f.__private__.getLineHeight=f.getLineHeight=function(){return De*va};f.__private__.getLineHeight=f.getLineHeight=function(){return De*va};var gu=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(p){return typeof(p=p||1.15)=="number"&&(va=p),this},vu=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return va};gu(e.lineHeight);var Ds=f.__private__.getHorizontalCoordinate=function(p){return B(p)},Qs=f.__private__.getVerticalCoordinate=function(p){return x===b.ADVANCED?p:mt[M].mediaBox.topRightY-mt[M].mediaBox.bottomLeftY-B(p)},uf=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(p){return V(Ds(p))},Ni=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(p){return V(Qs(p))},ps=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return ht(ps)},f.__private__.setStrokeColor=f.setDrawColor=function(p,A,H,re){return ps=bt({ch1:p,ch2:A,ch3:H,ch4:re,pdfColorType:"draw",precision:2}),Y(ps),this};var El=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return ht(El)},f.__private__.setFillColor=f.setFillColor=function(p,A,H,re){return El=bt({ch1:p,ch2:A,ch3:H,ch4:re,pdfColorType:"fill",precision:2}),Y(El),this};var ya=e.textColor||"0 g",df=f.__private__.getTextColor=f.getTextColor=function(){return ht(ya)};f.__private__.setTextColor=f.setTextColor=function(p,A,H,re){return ya=bt({ch1:p,ch2:A,ch3:H,ch4:re,pdfColorType:"text",precision:3}),this};var no=e.charSpace,hf=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(no||0)};f.__private__.setCharSpace=f.setCharSpace=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return no=p,this};var Pl=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(p){var A=f.CapJoinStyles[p];if(A===void 0)throw new Error("Line cap style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pl=A,Y(A+" J"),this};var Ll=0;f.__private__.setLineJoin=f.setLineJoin=function(p){var A=f.CapJoinStyles[p];if(A===void 0)throw new Error("Line join style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ll=A,Y(A+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(p){if(p=p||0,isNaN(p))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(V(B(p))+" M"),this},f.GState=bh,f.setGState=function(p){(p=typeof p=="string"?tt[yt[p]]:yu(null,p)).equals(Ke)||(Y("/"+p.id+" gs"),Ke=p)};var yu=function(p,A){if(!p||!yt[p]){var H=!1;for(var re in tt)if(tt.hasOwnProperty(re)&&tt[re].equals(A)){H=!0;break}if(H)A=tt[re];else{var fe="GS"+(Object.keys(tt).length+1).toString(10);tt[fe]=A,A.id=fe}return p&&(yt[p]=A.id),Ue.publish("addGState",A),A}};f.addGState=function(p,A){return yu(p,A),this},f.saveGraphicsState=function(){return Y("q"),$e.push({key:Et,size:De,color:ya}),this},f.restoreGraphicsState=function(){Y("Q");var p=$e.pop();return Et=p.key,De=p.size,ya=p.color,Ke=null,this},f.setCurrentTransformationMatrix=function(p){return Y(p.toString()+" cm"),this},f.comment=function(p){return Y("#"+p),this};var so=function(p,A){var H=p||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return H},set:function(Ne){isNaN(Ne)||(H=parseFloat(Ne))}});var re=A||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return re},set:function(Ne){isNaN(Ne)||(re=parseFloat(Ne))}});var fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return fe},set:function(Ne){fe=Ne.toString()}}),this},Tl=function(p,A,H,re){so.call(this,p,A),this.type="rect";var fe=H||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return fe},set:function(Le){isNaN(Le)||(fe=parseFloat(Le))}});var Ne=re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(Le){isNaN(Le)||(Ne=parseFloat(Le))}}),this},Il=function(){this.page=Ct,this.currentPage=M,this.pages=te.slice(0),this.pagesContext=mt.slice(0),this.x=gr,this.y=Lt,this.matrix=Hr,this.width=ba(M),this.height=Si(M),this.outputDestination=je,this.id="",this.objectNumber=-1};Il.prototype.restore=function(){Ct=this.page,M=this.currentPage,mt=this.pagesContext,te=this.pages,gr=this.x,Lt=this.y,Hr=this.matrix,Ol(M,this.width),Rl(M,this.height),je=this.outputDestination};var bu=function(p,A,H,re,fe){Jn.push(new Il),Ct=M=0,te=[],gr=p,Lt=A,Hr=fe,Sl([H,re])},ff=function(p){if(vr[p])Jn.pop().restore();else{var A=new Il,H="Xo"+(Object.keys(ur).length+1).toString(10);A.id=H,vr[p]=H,ur[H]=A,Ue.publish("addFormObject",A),Jn.pop().restore()}};for(var io in f.beginFormObject=function(p,A,H,re,fe){return bu(p,A,H,re,fe),this},f.endFormObject=function(p){return ff(p),this},f.doFormObject=function(p,A){var H=ur[vr[p]];return Y("q"),Y(A.toString()+" cm"),Y("/"+H.id+" Do"),Y("Q"),this},f.getFormObject=function(p){var A=ur[vr[p]];return{x:A.x,y:A.y,width:A.width,height:A.height,matrix:A.matrix}},f.save=function(p,A){return p=p||"generated.pdf",(A=A||{}).returnPromise=A.returnPromise||!1,A.returnPromise===!1?(La(Za(Js()),p),typeof La.unload=="function"&&_t.setTimeout&&setTimeout(La.unload,911),this):new Promise(function(H,re){try{var fe=La(Za(Js()),p);typeof La.unload=="function"&&_t.setTimeout&&setTimeout(La.unload,911),H(fe)}catch(Ne){re(Ne.message)}})},vt.API)vt.API.hasOwnProperty(io)&&(io==="events"&&vt.API.events.length?function(p,A){var H,re,fe;for(fe=A.length-1;fe!==-1;fe--)H=A[fe][0],re=A[fe][1],p.subscribe.apply(p,[H].concat(typeof re=="function"?[re]:re))}(Ue,vt.API.events):f[io]=vt.API[io]);var ba=f.getPageWidth=function(p){return(mt[p=p||M].mediaBox.topRightX-mt[p].mediaBox.bottomLeftX)/ze},Ol=f.setPageWidth=function(p,A){mt[p].mediaBox.topRightX=A*ze+mt[p].mediaBox.bottomLeftX},Si=f.getPageHeight=function(p){return(mt[p=p||M].mediaBox.topRightY-mt[p].mediaBox.bottomLeftY)/ze},Rl=f.setPageHeight=function(p,A){mt[p].mediaBox.topRightY=A*ze+mt[p].mediaBox.bottomLeftY};return f.internal={pdfEscape:Nn,getStyle:hu,getFont:cf,getFontSize:Me,getCharSpace:hf,getTextColor:df,getLineHeight:mu,getLineHeightFactor:vu,getLineWidth:ro,write:nt,getHorizontalCoordinate:Ds,getVerticalCoordinate:Qs,getCoordinateString:uf,getVerticalCoordinateString:Ni,collections:{},newObject:be,newAdditionalObject:Te,newObjectDeferred:Re,newObjectDeferredBegin:We,getFilters:It,putStream:gt,events:Ue,scaleFactor:ze,pageSize:{getWidth:function(){return ba(M)},setWidth:function(p){Ol(M,p)},getHeight:function(){return Si(M)},setHeight:function(p){Rl(M,p)}},encryptionOptions:m,encryption:tn,getEncryptor:rf,output:eo,getNumberOfPages:Qh,pages:te,out:Y,f2:ne,f3:I,getPageInfo:du,getPageInfoByObjId:Nt,getCurrentPageInfo:nf,getPDFVersion:S,Point:so,Rectangle:Tl,Matrix:dt,hasHotfix:uu},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return ba(M)},set:function(p){Ol(M,p)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Si(M)},set:function(p){Rl(M,p)},enumerable:!0,configurable:!0}),Kh.call(f,Pe),Et="F1",ou(s,r),Ue.publish("initialized"),f}Lo.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Lo.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lo.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Lo.prototype.processOwnerPassword=function(e,t){return Km(Ym(t).substr(0,5),e)},Lo.prototype.encryptor=function(e,t){var r=Ym(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Km(r,n)}},bh.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Gt(e)!==Gt(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},vt.API={events:[]},vt.version="2.5.2";var pr=vt.API,d0=1,Ja=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Co=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kt=function(e){return e.toFixed(2)},Ui=function(e){return e.toFixed(5)};pr.__acroform__={};var In=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Wv=function(e){return e*d0},Ms=function(e){var t=new l_,r=rt.internal.getHeight(e)||0,n=rt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(kt(n)),Number(kt(r))],t},g6=pr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},v6=pr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},y6=pr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},xr=pr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return y6(e,t-1)},Nr=pr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return g6(e,t-1)},Sr=pr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return v6(e,t-1)},b6=pr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],a=e[2],o=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(i+o)||0,c.upperRight_X=r(s+a)||0,c.upperRight_Y=n(i)||0,[Number(kt(c.lowerLeft_X)),Number(kt(c.lowerLeft_Y)),Number(kt(c.upperRight_X)),Number(kt(c.upperRight_Y))]},_6=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Jm(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+kt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Ms(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Jm=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(I){return I.split(`
`)}):s.map(function(I){return[I]});var i=r,a=rt.internal.getHeight(e)||0;a=a<0?-a:a;var o=rt.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(I,B,K){if(I+1<s.length){var E=B+" "+s[I+1][0];return xd(E,e,K).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var d,m,g=xd("3",e,i).height,v=e.multiline?a-i:(a-g)/2,f=v+=2,N=0,S=0,k=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+xd(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var _="",b=0,x=0;x<s.length;x++)if(s.hasOwnProperty(x)){var P=!1;if(s[x].length!==1&&k!==s[x].length-1){if((g+2)*(b+2)+2>a)continue e;_+=s[x][k],P=!0,S=x,x--}else{_=(_+=s[x][k]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var $=parseInt(x),Z=c($,_,i),V=x>=s.length-1;if(Z&&!V){_+=" ",k=0;continue}if(Z||V){if(V)S=$;else if(e.multiline&&(g+2)*(b+2)+2>a)continue e}else{if(!e.multiline||(g+2)*(b+2)+2>a)continue e;S=$}}for(var U="",O=N;O<=S;O++){var ne=s[O];if(e.multiline){if(O===S){U+=ne[k]+" ",k=(k+1)%ne.length;continue}if(O===N){U+=ne[ne.length-1]+" ";continue}}U+=ne[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,m=xd(U,e,i).width,e.textAlign){case"right":d=o-m-2;break;case"center":d=(o-m)/2;break;case"left":default:d=2}t+=kt(d)+" "+kt(f)+` Td
`,t+="("+Ja(U)+`) Tj
`,t+=-kt(d)+` 0 Td
`,f=-(i+2),m=0,N=P?S:S+1,b++,_=""}break}return n.text=t,n.fontSize=i,n},xd=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},w6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},x6=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},N6=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,s=e[r];t.internal.newObjectDeferredBegin(s.objId,!0),Gt(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[n]}},S6=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ls.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(w6)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");d0=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new c_,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&x6(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],c=[],d=o.Rect;if(o.Rect&&(o.Rect=b6(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=rt.createDefaultAppearanceStream(o),Gt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var m=_6(o);c.push({key:"AP",value:"<</N "+m+">>"}),s.internal.acroformPlugin.xForms.push(m)}if(o.appearanceStreamContent){var g="";for(var v in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(v)){var f=o.appearanceStreamContent[v];if(g+="/"+v+" ",g+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var N=f[a];typeof N=="function"&&(N=N.call(s,o)),g+="/"+a+" "+N+" ",s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N)}}else typeof(N=f)=="function"&&(N=N.call(s,o)),g+="/"+a+" "+N,s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:o.objId}),s.internal.out("endobj")}i&&N6(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},o_=pr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(a){return a};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),Gt(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+Ja(n(e[i].toString()))+")"):s+=e[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},kp=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ja(n(e))+")"},Vs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vs.prototype.toString=function(){return this.objId+" 0 R"},Vs.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Vs.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:o_(s,this.objId,this.scope)}):s instanceof Vs?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var l_=function(){Vs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};In(l_,Vs);var c_=function(){Vs.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ja(r(e))+")"}},set:function(r){e=r}})};In(c_,Vs);var Ls=function e(){Vs.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');t=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xr(t,3)},set:function(_){_?this.F=Nr(t,3):this.F=Sr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof _h)return;i="FieldObject"+e.FieldNum++}var _=function(b){return b};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Ja(_(i))+")"},set:function(_){i=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(_){i=_}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/d0:d},set:function(_){d=_}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(_){m=_}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof _h||this instanceof za))return kp(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=_}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Gr?v:kp(v,this.objId,this.scope)},set:function(_){_=_.toString(),v=this instanceof Gr?_:_.substr(0,1)==="("?Co(_.substr(1,_.length-2)):Co(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gr?Co(v.substr(1,v.length-1)):v},set:function(_){_=_.toString(),v=this instanceof Gr?"/"+_:_}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Gr?f:kp(f,this.objId,this.scope)},set:function(_){_=_.toString(),f=this instanceof Gr?_:_.substr(0,1)==="("?Co(_.substr(1,_.length-2)):Co(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gr?Co(f.substr(1,f.length-1)):f},set:function(_){_=_.toString(),f=this instanceof Gr?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(_){_=!!_,S=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(_){N=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,1)},set:function(_){_?this.Ff=Nr(this.Ff,1):this.Ff=Sr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,2)},set:function(_){_?this.Ff=Nr(this.Ff,2):this.Ff=Sr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,3)},set:function(_){_?this.Ff=Nr(this.Ff,3):this.Ff=Sr(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');k=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(k){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};In(Ls,Vs);var Zo=function(){Ls.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return o_(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,o){o||(o=1);for(var c,d=[];c=a.exec(i);)d.push(c[o]);return d}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,18)},set:function(r){r?this.Ff=Nr(this.Ff,18):this.Ff=Sr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Nr(this.Ff,19):this.Ff=Sr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,20)},set:function(r){r?(this.Ff=Nr(this.Ff,20),t.sort()):this.Ff=Sr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,22)},set:function(r){r?this.Ff=Nr(this.Ff,22):this.Ff=Sr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,23)},set:function(r){r?this.Ff=Nr(this.Ff,23):this.Ff=Sr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,27)},set:function(r){r?this.Ff=Nr(this.Ff,27):this.Ff=Sr(this.Ff,27)}}),this.hasAppearanceStream=!1};In(Zo,Ls);var el=function(){Zo.call(this),this.fontName="helvetica",this.combo=!1};In(el,Zo);var tl=function(){el.call(this),this.combo=!0};In(tl,el);var Ud=function(){tl.call(this),this.edit=!0};In(Ud,tl);var Gr=function(){Ls.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,15)},set:function(r){r?this.Ff=Nr(this.Ff,15):this.Ff=Sr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,16)},set:function(r){r?this.Ff=Nr(this.Ff,16):this.Ff=Sr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,17)},set:function(r){r?this.Ff=Nr(this.Ff,17):this.Ff=Sr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,26)},set:function(r){r?this.Ff=Nr(this.Ff,26):this.Ff=Sr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+Ja(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Gt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};In(Gr,Ls);var Md=function(){Gr.call(this),this.pushButton=!0};In(Md,Gr);var rl=function(){Gr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};In(rl,Gr);var _h=function(){var e,t;Ls.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+Ja(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Gt(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};In(_h,Ls),rl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},rl.prototype.createOption=function(e){var t=new _h;return t.Parent=this,t.optionName=e,this.Kids.push(t),j6.call(this.scope,t),t};var qd=function(){Gr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rt.CheckBox.createAppearanceStream()};In(qd,Gr);var za=function(){Ls.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,13)},set:function(t){t?this.Ff=Nr(this.Ff,13):this.Ff=Sr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,21)},set:function(t){t?this.Ff=Nr(this.Ff,21):this.Ff=Sr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,23)},set:function(t){t?this.Ff=Nr(this.Ff,23):this.Ff=Sr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,24)},set:function(t){t?this.Ff=Nr(this.Ff,24):this.Ff=Sr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,25)},set:function(t){t?this.Ff=Nr(this.Ff,25):this.Ff=Sr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,26)},set:function(t){t?this.Ff=Nr(this.Ff,26):this.Ff=Sr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};In(za,Ls);var zd=function(){za.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xr(this.Ff,14)},set:function(e){e?this.Ff=Nr(this.Ff,14):this.Ff=Sr(this.Ff,14)}}),this.password=!0};In(zd,za);var rt={CheckBox:{createAppearanceStream:function(){return{N:{On:rt.CheckBox.YesNormal},D:{On:rt.CheckBox.YesPushDown,Off:rt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ms(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=Jm(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+kt(rt.internal.getWidth(e))+" "+kt(rt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+kt(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Ms(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=rt.internal.getHeight(e),a=rt.internal.getWidth(e),o=Jm(e,e.caption);return s.push("1 g"),s.push("0 0 "+kt(a)+" "+kt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+kt(a-1)+" "+kt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+kt(o.fontSize)+" Tf "+n),s.push(o.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Ms(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+kt(rt.internal.getWidth(e))+" "+kt(rt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:rt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=rt.RadioButton.Circle.YesNormal,t.D[e]=rt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ms(e);t.scope=e.scope;var r=[],n=rt.internal.getWidth(e)<=rt.internal.getHeight(e)?rt.internal.getWidth(e)/4:rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=rt.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ui(rt.internal.getWidth(e)/2)+" "+Ui(rt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ms(e);t.scope=e.scope;var r=[],n=rt.internal.getWidth(e)<=rt.internal.getHeight(e)?rt.internal.getWidth(e)/4:rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*rt.internal.Bezier_C).toFixed(5)),a=Number((n*rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ui(rt.internal.getWidth(e)/2)+" "+Ui(rt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ui(rt.internal.getWidth(e)/2)+" "+Ui(rt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ms(e);t.scope=e.scope;var r=[],n=rt.internal.getWidth(e)<=rt.internal.getHeight(e)?rt.internal.getWidth(e)/4:rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ui(rt.internal.getWidth(e)/2)+" "+Ui(rt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:rt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=rt.RadioButton.Cross.YesNormal,t.D[e]=rt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ms(e);t.scope=e.scope;var r=[],n=rt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+kt(rt.internal.getWidth(e)-2)+" "+kt(rt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(kt(n.x1.x)+" "+kt(n.x1.y)+" m"),r.push(kt(n.x2.x)+" "+kt(n.x2.y)+" l"),r.push(kt(n.x4.x)+" "+kt(n.x4.y)+" m"),r.push(kt(n.x3.x)+" "+kt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ms(e);t.scope=e.scope;var r=rt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+kt(rt.internal.getWidth(e))+" "+kt(rt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+kt(rt.internal.getWidth(e)-2)+" "+kt(rt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(kt(r.x1.x)+" "+kt(r.x1.y)+" m"),n.push(kt(r.x2.x)+" "+kt(r.x2.y)+" l"),n.push(kt(r.x4.x)+" "+kt(r.x4.y)+" m"),n.push(kt(r.x3.x)+" "+kt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ms(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+kt(rt.internal.getWidth(e))+" "+kt(rt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};rt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=rt.internal.getWidth(e),r=rt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},rt.internal.getWidth=function(e){var t=0;return Gt(e)==="object"&&(t=Wv(e.Rect[2])),t},rt.internal.getHeight=function(e){var t=0;return Gt(e)==="object"&&(t=Wv(e.Rect[3])),t};var j6=pr.addField=function(e){if(S6(this,e),!(e instanceof Ls))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};pr.AcroFormChoiceField=Zo,pr.AcroFormListBox=el,pr.AcroFormComboBox=tl,pr.AcroFormEditBox=Ud,pr.AcroFormButton=Gr,pr.AcroFormPushButton=Md,pr.AcroFormRadioButton=rl,pr.AcroFormCheckBox=qd,pr.AcroFormTextField=za,pr.AcroFormPasswordField=zd,pr.AcroFormAppearance=rt,pr.AcroForm={ChoiceField:Zo,ListBox:el,ComboBox:tl,EditBox:Ud,Button:Gr,PushButton:Md,RadioButton:rl,CheckBox:qd,TextField:za,PasswordField:zd,Appearance:rt},vt.AcroForm={ChoiceField:Zo,ListBox:el,ComboBox:tl,EditBox:Ud,Button:Gr,PushButton:Md,RadioButton:rl,CheckBox:qd,TextField:za,PasswordField:zd,Appearance:rt};vt.AcroForm;function u_(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(I,B){var K,E,oe,ce,me,D=t;if((B=B||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(Z(I))for(me in r)for(oe=r[me],K=0;K<oe.length;K+=1){for(ce=!0,E=0;E<oe[K].length;E+=1)if(oe[K][E]!==void 0&&oe[K][E]!==I[E]){ce=!1;break}if(ce===!0){D=me;break}}else for(me in r)for(oe=r[me],K=0;K<oe.length;K+=1){for(ce=!0,E=0;E<oe[K].length;E+=1)if(oe[K][E]!==void 0&&oe[K][E]!==I.charCodeAt(E)){ce=!1;break}if(ce===!0){D=me;break}}return D===t&&B!==t&&(D=B),D},s=function I(B){for(var K=this.internal.write,E=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var ce=[];if(ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Image"}),ce.push({key:"Width",value:B.width}),ce.push({key:"Height",value:B.height}),B.colorSpace===k.INDEXED?ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(ce.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===k.DEVICE_CMYK&&ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ce.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&ce.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)){for(var me="",D=0,X=B.transparency.length;D<X;D++)me+=B.transparency[D]+" "+B.transparency[D]+" ";ce.push({key:"Mask",value:"["+me+"]"})}B.sMask!==void 0&&ce.push({key:"SMask",value:B.objectId+1+" 0 R"});var ee=B.filter!==void 0?["/"+B.filter]:void 0;if(E({data:B.data,additionalKeyValues:ce,alreadyAppliedFilters:ee,objectId:B.objectId}),K("endobj"),"sMask"in B&&B.sMask!==void 0){var we="/Predictor "+B.predictor+" /Colors 1 /BitsPerComponent "+B.bitsPerComponent+" /Columns "+B.width,j={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:B.bitsPerComponent,decodeParameters:we,data:B.sMask};"filter"in B&&(j.filter=B.filter),I.call(this,j)}if(B.colorSpace===k.INDEXED){var M=this.internal.newObject();E({data:U(new Uint8Array(B.palette)),objectId:M}),K("endobj")}},i=function(){var I=this.internal.collections.addImage_images;for(var B in I)s.call(this,I[B])},a=function(){var I,B=this.internal.collections.addImage_images,K=this.internal.write;for(var E in B)K("/I"+(I=B[E]).index,I.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var I=this.internal.collections.addImage_images;return o.call(this),I},d=function(){return Object.keys(this.internal.collections.addImage_images).length},m=function(I){return typeof e["process"+I.toUpperCase()]=="function"},g=function(I){return Gt(I)==="object"&&I.nodeType===1},v=function(I,B){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var K=""+I.getAttribute("src");if(K.indexOf("data:image/")===0)return Sc(unescape(K).split("base64,").pop());var E=e.loadFile(K,!0);if(E!==void 0)return E}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var oe;switch(B){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;case"JPEG":case"JPG":default:oe="image/jpeg"}return Sc(I.toDataURL(oe,1).split("base64,").pop())}},f=function(I){var B=this.internal.collections.addImage_images;if(B){for(var K in B)if(I===B[K].alias)return B[K]}},N=function(I,B,K){return I||B||(I=-96,B=-96),I<0&&(I=-1*K.width*72/I/this.internal.scaleFactor),B<0&&(B=-1*K.height*72/B/this.internal.scaleFactor),I===0&&(I=B*K.width/K.height),B===0&&(B=I*K.height/K.width),[I,B]},S=function(I,B,K,E,oe,ce){var me=N.call(this,K,E,oe),D=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,ee=c.call(this);if(K=me[0],E=me[1],ee[oe.index]=oe,ce){ce*=Math.PI/180;var we=Math.cos(ce),j=Math.sin(ce),M=function(J){return J.toFixed(4)},W=[M(we),M(j),M(-1*j),M(we),0,0,"cm"]}this.internal.write("q"),ce?(this.internal.write([1,"0","0",1,D(I),X(B+E),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([D(K),"0","0",D(E),"0","0","cm"].join(" "))):this.internal.write([D(K),"0","0",D(E),D(I),X(B+E),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},k=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(I){var B,K,E=0;if(typeof I=="string")for(K=I.length,B=0;B<K;B++)E=(E<<5)-E+I.charCodeAt(B),E|=0;else if(Z(I))for(K=I.byteLength/2,B=0;B<K;B++)E=(E<<5)-E+I[B],E|=0;return E},x=e.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var B=!0;return I.length===0&&(B=!1),I.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(B=!1),B},P=e.__addimage__.extractImageFromDataUrl=function(I){var B=(I=I||"").split("base64,"),K=null;if(B.length===2){var E=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(B[0]);Array.isArray(E)&&(K={mimeType:E[1],charset:E[2],data:B[1]})}return K},$=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(I){return $()&&I instanceof ArrayBuffer};var Z=e.__addimage__.isArrayBufferView=function(I){return $()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},V=e.__addimage__.binaryStringToUint8Array=function(I){for(var B=I.length,K=new Uint8Array(B),E=0;E<B;E++)K[E]=I.charCodeAt(E);return K},U=e.__addimage__.arrayBufferToBinaryString=function(I){for(var B="",K=Z(I)?I:new Uint8Array(I),E=0;E<K.length;E+=8192)B+=String.fromCharCode.apply(null,K.subarray(E,E+8192));return B};e.addImage=function(){var I,B,K,E,oe,ce,me,D,X;if(typeof arguments[1]=="number"?(B=t,K=arguments[1],E=arguments[2],oe=arguments[3],ce=arguments[4],me=arguments[5],D=arguments[6],X=arguments[7]):(B=arguments[1],K=arguments[2],E=arguments[3],oe=arguments[4],ce=arguments[5],me=arguments[6],D=arguments[7],X=arguments[8]),Gt(I=arguments[0])==="object"&&!g(I)&&"imageData"in I){var ee=I;I=ee.imageData,B=ee.format||B||t,K=ee.x||K||0,E=ee.y||E||0,oe=ee.w||ee.width||oe,ce=ee.h||ee.height||ce,me=ee.alias||me,D=ee.compression||D,X=ee.rotation||ee.angle||X}var we=this.internal.getFilters();if(D===void 0&&we.indexOf("FlateEncode")!==-1&&(D="SLOW"),isNaN(K)||isNaN(E))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var j=O.call(this,I,B,me,D);return S.call(this,K,E,oe,ce,j,X),this};var O=function(I,B,K,E){var oe,ce,me;if(typeof I=="string"&&n(I)===t){I=unescape(I);var D=ne(I,!1);(D!==""||(D=e.loadFile(I,!0))!==void 0)&&(I=D)}if(g(I)&&(I=v(I,B)),B=n(I,B),!m(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((me=K)==null||me.length===0)&&(K=function(X){return typeof X=="string"||Z(X)?b(X):Z(X.data)?b(X.data):null}(I)),(oe=f.call(this,K))||($()&&(I instanceof Uint8Array||B==="RGBA"||(ce=I,I=V(I))),oe=this["process"+B.toUpperCase()](I,d.call(this),K,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in e.image_compression?X:_.NONE}(E),ce)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},ne=e.__addimage__.convertBase64ToBinaryString=function(I,B){var K;B=typeof B!="boolean"||B;var E,oe="";if(typeof I=="string"){E=(K=P(I))!==null?K.data:I;try{oe=Sc(E)}catch(ce){if(B)throw x(E)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};e.getImageProperties=function(I){var B,K,E="";if(g(I)&&(I=v(I)),typeof I=="string"&&n(I)===t&&((E=ne(I,!1))===""&&(E=e.loadFile(I)||""),I=E),K=n(I),!m(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(!$()||I instanceof Uint8Array||(I=V(I)),!(B=this["process"+K.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=K,B}})(vt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};vt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,m=!1,g=0;g<d.length&&!m;g++)switch((n=d[g]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var v=0;v<d.length;v++){n=d[v];var f=this.internal.pdfEscape,N=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(S.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(_(n.contents))+")",i+=" /Popup "+k.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(_(b))+") >>",S.content=i;var x=S.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+x,n.open&&(i+=" /Open true"),i+=" >>",k.content=i,this.internal.write(S.objId,"0 R",k.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var P=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+f(N(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var $=this.annotations._nameMap[n.options.name];n.options.pageNumber=$.page,n.options.top=$.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+f(N(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var Z=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+Z+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+s),h:d(n+i)},options:a,type:"link"})},e.textWithLink=function(r,n,s,i){var a,o,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var m=this.splitTextToSize(r,o).length;a=Math.ceil(d*m)}else o=c,a=d;return this.text(r,n,s,i),s+=.2*d,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,s-d,o,a,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(vt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(S){return t[S.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},o=e.__arabicParser__.isArabicEndLetter=function(S){return a(S)&&i(S)&&t[S.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(S){return a(S)&&s.indexOf(S.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return a(S)&&i(S)&&t[S.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(S){return a(S)&&i(S)&&t[S.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(S){return a(S)&&i(S)&&t[S.charCodeAt(0)].length>=3};var m=e.__arabicParser__.arabicLetterHasMedialForm=function(S){return a(S)&&i(S)&&t[S.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(S){var k=0,_=r,b="",x=0;for(k=0;k<S.length;k+=1)_[S.charCodeAt(k)]!==void 0?(x++,typeof(_=_[S.charCodeAt(k)])=="number"&&(b+=String.fromCharCode(_),_=r,x=0),k===S.length-1&&(_=r,b+=S.charAt(k-(x-1)),k-=x-1,x=0)):(_=r,b+=S.charAt(k-x),k-=x,x=0);return b};e.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&n[S.charCodeAt(0)]!==void 0};var v=e.__arabicParser__.getCorrectForm=function(S,k,_){return a(S)?i(S)===!1?-1:!d(S)||!a(k)&&!a(_)||!a(_)&&o(k)||o(S)&&!a(k)||o(S)&&c(k)||o(S)&&o(k)?0:m(S)&&a(k)&&!o(k)&&a(_)&&d(_)?3:o(S)||!a(_)?1:2:-1},f=function(S){var k=0,_=0,b=0,x="",P="",$="",Z=(S=S||"").split("\\s+"),V=[];for(k=0;k<Z.length;k+=1){for(V.push(""),_=0;_<Z[k].length;_+=1)x=Z[k][_],P=Z[k][_-1],$=Z[k][_+1],a(x)?(b=v(x,P,$),V[k]+=b!==-1?String.fromCharCode(t[x.charCodeAt(0)][b]):x):V[k]+=x;V[k]=g(V[k])}return V.join(" ")},N=e.__arabicParser__.processArabic=e.processArabic=function(){var S,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(k)){var b=0;for(_=[],b=0;b<k.length;b+=1)Array.isArray(k[b])?_.push([f(k[b][0]),k[b][1],k[b][2]]):_.push([f(k[b])]);S=_}else S=f(k);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};e.events.push(["preProcessText",N])}(vt.API),vt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(vt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(S){v=S}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(S){N=S}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){n.call(this);var m=(d=d||{}).fontSize||this.getFontSize(),g=d.font||this.getFont(),v=d.scaleFactor||this.internal.scaleFactor,f=0,N=0,S=0,k=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var _=d.maxWidth;_>0?typeof c=="string"?c=this.splitTextToSize(c,_):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(x,P){return x.concat(k.splitTextToSize(P,_))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)f<(S=this.getStringUnitWidth(c[b],{font:g})*m)&&(f=S);return f!==0&&(N=c.length),{w:f/=v,h:Math.max((N*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/v,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,g=this.internal.__cell__.margins||t,v=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,f&&v&&(this.printHeaderRow(c.lineNumber,!0),c.y+=v[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-m,c.y+m,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+m,{align:"center",baseline:"top",maxWidth:c.width-m-m}):this.text(c.text,c.x+m,c.y+m,{align:"left",baseline:"top",maxWidth:c.width-m-m})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,m,g,v){if(n.call(this),!m)throw new Error("No data for PDF table.");var f,N,S,k,_=[],b=[],x=[],P={},$={},Z=[],V=[],U=(v=v||{}).autoSize||!1,O=v.printHeaders!==!1,ne=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,I=v.margins||Object.assign({width:this.getPageWidth()},t),B=typeof v.padding=="number"?v.padding:3,K=v.headerBackgroundColor||"#c8c8c8",E=v.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=ne,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=E,this.setFontSize(ne),g==null)b=_=Object.keys(m[0]),x=_.map(function(){return"left"});else if(Array.isArray(g)&&Gt(g[0])==="object")for(_=g.map(function(ee){return ee.name}),b=g.map(function(ee){return ee.prompt||ee.name||""}),x=g.map(function(ee){return ee.align||"left"}),f=0;f<g.length;f+=1)$[g[f].name]=g[f].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(b=_=g,x=_.map(function(){return"left"}));if(U||Array.isArray(g)&&typeof g[0]=="string")for(f=0;f<_.length;f+=1){for(P[k=_[f]]=m.map(function(ee){return ee[k]}),this.setFont(void 0,"bold"),Z.push(this.getTextDimensions(b[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=P[k],this.setFont(void 0,"normal"),S=0;S<N.length;S+=1)Z.push(this.getTextDimensions(N[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$[k]=Math.max.apply(null,Z)+B+B,Z=[]}if(O){var oe={};for(f=0;f<_.length;f+=1)oe[_[f]]={},oe[_[f]].text=b[f],oe[_[f]].align=x[f];var ce=o.call(this,oe,$);V=_.map(function(ee){return new i(c,d,$[ee],ce,oe[ee].text,void 0,oe[ee].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var me=g.reduce(function(ee,we){return ee[we.name]=we.align,ee},{});for(f=0;f<m.length;f+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:f,data:m[f]},this);var D=o.call(this,m[f],$);for(S=0;S<_.length;S+=1){var X=m[f][_[S]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:f,col:S,data:X},this),a.call(this,new i(c,d,$[_[S]],D,X,f+2,me[_[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var o=function(c,d){var m=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(c).map(function(f){var N=c[f];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[f]-m-m)},this).map(function(f){return this.getLineHeightFactor()*f.length*g/v+m+m},this).reduce(function(f,N){return Math.max(f,N)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){m=this.internal.__cell__.tableHeaderRow[f].clone(),d&&(m.y=this.internal.__cell__.margins.top||0,v.push(m)),m.lineNumber=c;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,m),this.setTextColor(N)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(vt.API);var d_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},h_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Qm=u_(h_),f_=[100,200,300,400,500,600,700,800,900],k6=u_(f_);function Xm(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return d_[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(i){return typeof Qm[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function Hv(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var C6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Yv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Kv(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function A6(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},C6,r.genericFontFamilies||{}),i=null,a=null,o=0;o<t.length;++o)if(s[(i=Xm(t[o])).family]&&(i.family=s[i.family]),e.hasOwnProperty(i.family)){a=e[i.family];break}if(!(a=a||e[n]))throw new Error("Could not find a font-family for the rule '"+Kv(i)+"' and default family '"+n+"'.");if(a=function(c,d){if(d[c])return d[c];var m=Qm[c],g=m<=Qm.normal?-1:1,v=Hv(d,h_,m,g);if(!v)throw new Error("Could not find a matching font-stretch value for "+c);return v}(i.stretch,a),a=function(c,d){if(d[c])return d[c];for(var m=d_[c],g=0;g<m.length;++g)if(d[m[g]])return d[m[g]];throw new Error("Could not find a matching font-style for "+c)}(i.style,a),!(a=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var m=k6[c],g=Hv(d,f_,m,c<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+c);return g}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Kv(i)+"'.");return a}function Jv(e){return e.trimLeft()}function E6(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function P6(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Nd,Qv,Xv,Cp=["times"];(function(e){var t,r,n,s,i,a,o,c,d,m=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new c,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new a,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new a,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,d=new m}]);var g=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=j;Object.defineProperty(this,"pdf",{get:function(){return M}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(ye){W=!!ye}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(ye){J=!!ye}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(ye){isNaN(ye)||(se=ye)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(ye){isNaN(ye)||(he=ye)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ye){var Y;typeof ye=="number"?Y=[ye,ye,ye,ye]:((Y=new Array(4))[0]=ye[0],Y[1]=ye.length>=2?ye[1]:Y[0],Y[2]=ye.length>=3?ye[2]:Y[0],Y[3]=ye.length>=4?ye[3]:Y[1]),d.margin=Y}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(ye){pe=ye}});var q=0;Object.defineProperty(this,"lastBreak",{get:function(){return q},set:function(ye){q=ye}});var G=[];Object.defineProperty(this,"pageBreaks",{get:function(){return G},set:function(ye){G=ye}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ye){ye instanceof m&&(d=ye)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ye){d.path=ye}});var te=[];Object.defineProperty(this,"ctxStack",{get:function(){return te},set:function(ye){te=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var Y;Y=v(ye),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var Y=v(ye);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var xe=null;function je(ye,Y){if(xe===null){var nt=function(He){var Pe=[];return Object.keys(He).forEach(function(De){He[De].forEach(function(Fe){var Me=null;switch(Fe){case"bold":Me={family:De,weight:"bold"};break;case"italic":Me={family:De,style:"italic"};break;case"bolditalic":Me={family:De,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:De}}Me!==null&&(Me.ref={name:De,style:Fe},Pe.push(Me))})}),Pe}(ye.getFontList());xe=function(He){for(var Pe={},De=0;De<He.length;++De){var Fe=Xm(He[De]),Me=Fe.family,st=Fe.stretch,pt=Fe.style,xt=Fe.weight;Pe[Me]=Pe[Me]||{},Pe[Me][st]=Pe[Me][st]||{},Pe[Me][st][pt]=Pe[Me][st][pt]||{},Pe[Me][st][pt][xt]=Fe}return Pe}(nt.concat(Y))}return xe}var Ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ye},set:function(ye){xe=null,Ye=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var Y;if(this.ctx.font=ye,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var nt=Y[1],He=(Y[2],Y[3]),Pe=Y[4],De=(Y[5],Y[6]),Fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor(Fe==="px"?parseFloat(Pe)*this.pdf.internal.scaleFactor:Fe==="em"?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var Me=function(ut){var Et,ze,gr=[],Lt=ut.trim();if(Lt==="")return Cp;if(Lt in Yv)return[Yv[Lt]];for(;Lt!=="";){switch(ze=null,Et=(Lt=Jv(Lt)).charAt(0)){case'"':case"'":ze=E6(Lt.substring(1),Et);break;default:ze=P6(Lt)}if(ze===null||(gr.push(ze[0]),(Lt=Jv(ze[1]))!==""&&Lt.charAt(0)!==","))return Cp;Lt=Lt.replace(/^,/,"")}return gr}(De);if(this.fontFaces){var st=A6(je(this.pdf,this.fontFaces),Me.map(function(ut){return{family:ut,stretch:"normal",weight:He,style:nt}}));this.pdf.setFont(st.ref.name,st.ref.style)}else{var pt="";(He==="bold"||parseInt(He,10)>=700||nt==="bold")&&(pt="bold"),nt==="italic"&&(pt+="italic"),pt.length===0&&(pt="normal");for(var xt="",Be={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ot=0;Ot<Me.length;Ot++){if(this.pdf.internal.getFont(Me[Ot],pt,{noFallback:!0,disableWarning:!0})!==void 0){xt=Me[Ot];break}if(pt==="bolditalic"&&this.pdf.internal.getFont(Me[Ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)xt=Me[Ot],pt="bold";else if(this.pdf.internal.getFont(Me[Ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){xt=Me[Ot],pt="normal";break}}if(xt===""){for(var qt=0;qt<Me.length;qt++)if(Be[Me[qt]]){xt=Be[Me[qt]];break}}xt=xt===""?"Times":xt,this.pdf.setFont(xt,pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,we.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,we.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};g.prototype.setLineDash=function(j){this.lineDash=j},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){P.call(this,"fill",!1)},g.prototype.stroke=function(){P.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(j,M){if(isNaN(j)||isNaN(M))throw Jt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new a(j,M));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(j,M)},g.prototype.closePath=function(){var j=new a(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&Gt(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){j=new a(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(j.x,j.y)},g.prototype.lineTo=function(j,M){if(isNaN(j)||isNaN(M))throw Jt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new a(j,M));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(W.x,W.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},g.prototype.quadraticCurveTo=function(j,M,W,J){if(isNaN(W)||isNaN(J)||isNaN(j)||isNaN(M))throw Jt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new a(W,J)),he=this.ctx.transform.applyToPoint(new a(j,M));this.path.push({type:"qct",x1:he.x,y1:he.y,x:se.x,y:se.y}),this.ctx.lastPoint=new a(se.x,se.y)},g.prototype.bezierCurveTo=function(j,M,W,J,se,he){if(isNaN(se)||isNaN(he)||isNaN(j)||isNaN(M)||isNaN(W)||isNaN(J))throw Jt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new a(se,he)),q=this.ctx.transform.applyToPoint(new a(j,M)),G=this.ctx.transform.applyToPoint(new a(W,J));this.path.push({type:"bct",x1:q.x,y1:q.y,x2:G.x,y2:G.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new a(pe.x,pe.y)},g.prototype.arc=function(j,M,W,J,se,he){if(isNaN(j)||isNaN(M)||isNaN(W)||isNaN(J)||isNaN(se))throw Jt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new a(j,M));j=pe.x,M=pe.y;var q=this.ctx.transform.applyToPoint(new a(0,W)),G=this.ctx.transform.applyToPoint(new a(0,0));W=Math.sqrt(Math.pow(q.x-G.x,2)+Math.pow(q.y-G.y,2))}Math.abs(se-J)>=2*Math.PI&&(J=0,se=2*Math.PI),this.path.push({type:"arc",x:j,y:M,radius:W,startAngle:J,endAngle:se,counterclockwise:he})},g.prototype.arcTo=function(j,M,W,J,se){throw new Error("arcTo not implemented.")},g.prototype.rect=function(j,M,W,J){if(isNaN(j)||isNaN(M)||isNaN(W)||isNaN(J))throw Jt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,M),this.lineTo(j+W,M),this.lineTo(j+W,M+J),this.lineTo(j,M+J),this.lineTo(j,M),this.lineTo(j+W,M),this.lineTo(j,M)},g.prototype.fillRect=function(j,M,W,J){if(isNaN(j)||isNaN(M)||isNaN(W)||isNaN(J))throw Jt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,M,W,J),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},g.prototype.strokeRect=function(j,M,W,J){if(isNaN(j)||isNaN(M)||isNaN(W)||isNaN(J))throw Jt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(j,M,W,J),this.stroke())},g.prototype.clearRect=function(j,M,W,J){if(isNaN(j)||isNaN(M)||isNaN(W)||isNaN(J))throw Jt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,M,W,J))},g.prototype.save=function(j){j=typeof j!="boolean"||j;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},g.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(M),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(j){var M,W,J,se;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))M=0,W=0,J=0,se=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(he!==null)M=parseInt(he[1]),W=parseInt(he[2]),J=parseInt(he[3]),se=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)M=parseInt(he[1]),W=parseInt(he[2]),J=parseInt(he[3]),se=parseFloat(he[4]);else{if(se=1,typeof j=="string"&&j.charAt(0)!=="#"){var pe=new s_(j);j=pe.ok?pe.toHex():"#000000"}j.length===4?(M=j.substring(1,2),M+=M,W=j.substring(2,3),W+=W,J=j.substring(3,4),J+=J):(M=j.substring(1,3),W=j.substring(3,5),J=j.substring(5,7)),M=parseInt(M,16),W=parseInt(W,16),J=parseInt(J,16)}}return{r:M,g:W,b:J,a:se,style:j}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(j,M,W,J){if(isNaN(M)||isNaN(W)||typeof j!="string")throw Jt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!f.call(this)){var se=D(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;B.call(this,{text:j,x:M,y:W,scale:he,angle:se,align:this.textAlign,maxWidth:J})}},g.prototype.strokeText=function(j,M,W,J){if(isNaN(M)||isNaN(W)||typeof j!="string")throw Jt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){J=isNaN(J)?void 0:J;var se=D(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;B.call(this,{text:j,x:M,y:W,scale:he,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:J})}},g.prototype.measureText=function(j){if(typeof j!="string")throw Jt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,W=this.pdf.internal.scaleFactor,J=M.internal.getFontSize(),se=M.getStringUnitWidth(j)*J/M.internal.scaleFactor,he=function(pe){var q=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return q}}),this};return new he({width:se*=Math.round(96*W/72*1e4)/1e4})},g.prototype.scale=function(j,M){if(isNaN(j)||isNaN(M))throw Jt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new c(j,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},g.prototype.rotate=function(j){if(isNaN(j))throw Jt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new c(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},g.prototype.translate=function(j,M){if(isNaN(j)||isNaN(M))throw Jt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new c(1,0,0,1,j,M);this.ctx.transform=this.ctx.transform.multiply(W)},g.prototype.transform=function(j,M,W,J,se,he){if(isNaN(j)||isNaN(M)||isNaN(W)||isNaN(J)||isNaN(se)||isNaN(he))throw Jt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new c(j,M,W,J,se,he);this.ctx.transform=this.ctx.transform.multiply(pe)},g.prototype.setTransform=function(j,M,W,J,se,he){j=isNaN(j)?1:j,M=isNaN(M)?0:M,W=isNaN(W)?0:W,J=isNaN(J)?1:J,se=isNaN(se)?0:se,he=isNaN(he)?0:he,this.ctx.transform=new c(j,M,W,J,se,he)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(j,M,W,J,se,he,pe,q,G){var te=this.pdf.getImageProperties(j),xe=1,je=1,Ye=1,ye=1;J!==void 0&&q!==void 0&&(Ye=q/J,ye=G/se,xe=te.width/J*q/J,je=te.height/se*G/se),he===void 0&&(he=M,pe=W,M=0,W=0),J!==void 0&&q===void 0&&(q=J,G=se),J===void 0&&q===void 0&&(q=te.width,G=te.height);for(var Y,nt=this.ctx.transform.decompose(),He=D(nt.rotate.shx),Pe=new c,De=(Pe=(Pe=(Pe=Pe.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale)).applyToRectangle(new o(he-M*Ye,pe-W*ye,J*xe,se*je)),Fe=k.call(this,De),Me=[],st=0;st<Fe.length;st+=1)Me.indexOf(Fe[st])===-1&&Me.push(Fe[st]);if(x(Me),this.autoPaging)for(var pt=Me[0],xt=Me[Me.length-1],Be=pt;Be<xt+1;Be++){this.pdf.setPage(Be);var Ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qt=Be===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Be===1?0:ut+(Be-2)*Et;if(this.ctx.clip_path.length!==0){var gr=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Y,this.posX+this.margin[3],-ze+qt+this.ctx.prevPageLastElemOffset),$.call(this,"fill",!0),this.path=gr}var Lt=JSON.parse(JSON.stringify(De));Lt=b([Lt],this.posX+this.margin[3],-ze+qt+this.ctx.prevPageLastElemOffset)[0];var Hr=(Be>pt||Be<xt)&&S.call(this);Hr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ot,Et,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,He),Hr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",De.x,De.y,De.w,De.h,null,null,He)};var k=function(j,M,W){var J=[];M=M||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":J.push(Math.floor((j.y+se)/W)+1);break;case"arc":J.push(Math.floor((j.y+se-j.radius)/W)+1),J.push(Math.floor((j.y+se+j.radius)/W)+1);break;case"qct":var he=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);J.push(Math.floor((he.y+se)/W)+1),J.push(Math.floor((he.y+he.h+se)/W)+1);break;case"bct":var pe=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);J.push(Math.floor((pe.y+se)/W)+1),J.push(Math.floor((pe.y+pe.h+se)/W)+1);break;case"rect":J.push(Math.floor((j.y+se)/W)+1),J.push(Math.floor((j.y+j.h+se)/W)+1)}for(var q=0;q<J.length;q+=1)for(;this.pdf.internal.getNumberOfPages()<J[q];)_.call(this);return J},_=function(){var j=this.fillStyle,M=this.strokeStyle,W=this.font,J=this.lineCap,se=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=M,this.font=W,this.lineCap=J,this.lineWidth=se,this.lineJoin=he},b=function(j,M,W){for(var J=0;J<j.length;J++)switch(j[J].type){case"bct":j[J].x2+=M,j[J].y2+=W;case"qct":j[J].x1+=M,j[J].y1+=W;case"mt":case"lt":case"arc":default:j[J].x+=M,j[J].y+=W}return j},x=function(j){return j.sort(function(M,W){return M-W})},P=function(j,M){for(var W,J,se=this.fillStyle,he=this.strokeStyle,pe=this.lineCap,q=this.lineWidth,G=Math.abs(q*this.ctx.transform.scaleX),te=this.lineJoin,xe=JSON.parse(JSON.stringify(this.path)),je=JSON.parse(JSON.stringify(this.path)),Ye=[],ye=0;ye<je.length;ye++)if(je[ye].x!==void 0)for(var Y=k.call(this,je[ye]),nt=0;nt<Y.length;nt+=1)Ye.indexOf(Y[nt])===-1&&Ye.push(Y[nt]);for(var He=0;He<Ye.length;He++)for(;this.pdf.internal.getNumberOfPages()<Ye[He];)_.call(this);if(x(Ye),this.autoPaging)for(var Pe=Ye[0],De=Ye[Ye.length-1],Fe=Pe;Fe<De+1;Fe++){this.pdf.setPage(Fe),this.fillStyle=se,this.strokeStyle=he,this.lineCap=pe,this.lineWidth=G,this.lineJoin=te;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],st=Fe===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=Fe===1?0:pt+(Fe-2)*xt;if(this.ctx.clip_path.length!==0){var Ot=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(W,this.posX+this.margin[3],-Be+st+this.ctx.prevPageLastElemOffset),$.call(this,j,!0),this.path=Ot}if(J=JSON.parse(JSON.stringify(xe)),this.path=b(J,this.posX+this.margin[3],-Be+st+this.ctx.prevPageLastElemOffset),M===!1||Fe===0){var qt=(Fe>Pe||Fe<De)&&S.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,xt,null).clip().discardPath()),$.call(this,j,M),qt&&this.pdf.restoreGraphicsState()}this.lineWidth=q}else this.lineWidth=G,$.call(this,j,M),this.lineWidth=q;this.path=xe},$=function(j,M){if((j!=="stroke"||M||!N.call(this))&&(j==="stroke"||M||!f.call(this))){for(var W,J,se=[],he=this.path,pe=0;pe<he.length;pe++){var q=he[pe];switch(q.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:q,deltas:[],abs:[]});break;case"lt":var G=se.length;if(he[pe-1]&&!isNaN(he[pe-1].x)&&(W=[q.x-he[pe-1].x,q.y-he[pe-1].y],G>0)){for(;G>=0;G--)if(se[G-1].close!==!0&&se[G-1].begin!==!0){se[G-1].deltas.push(W),se[G-1].abs.push(q);break}}break;case"bct":W=[q.x1-he[pe-1].x,q.y1-he[pe-1].y,q.x2-he[pe-1].x,q.y2-he[pe-1].y,q.x-he[pe-1].x,q.y-he[pe-1].y],se[se.length-1].deltas.push(W);break;case"qct":var te=he[pe-1].x+2/3*(q.x1-he[pe-1].x),xe=he[pe-1].y+2/3*(q.y1-he[pe-1].y),je=q.x+2/3*(q.x1-q.x),Ye=q.y+2/3*(q.y1-q.y),ye=q.x,Y=q.y;W=[te-he[pe-1].x,xe-he[pe-1].y,je-he[pe-1].x,Ye-he[pe-1].y,ye-he[pe-1].x,Y-he[pe-1].y],se[se.length-1].deltas.push(W);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(q)}}J=M?null:j==="stroke"?"stroke":"fill";for(var nt=!1,He=0;He<se.length;He++)if(se[He].arc)for(var Pe=se[He].abs,De=0;De<Pe.length;De++){var Fe=Pe[De];Fe.type==="arc"?U.call(this,Fe.x,Fe.y,Fe.radius,Fe.startAngle,Fe.endAngle,Fe.counterclockwise,void 0,M,!nt):K.call(this,Fe.x,Fe.y),nt=!0}else if(se[He].close===!0)this.pdf.internal.out("h"),nt=!1;else if(se[He].begin!==!0){var Me=se[He].start.x,st=se[He].start.y;E.call(this,se[He].deltas,Me,st),nt=!0}J&&O.call(this,J),M&&ne.call(this)}},Z=function(j){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-W;case"top":return j+M-W;case"hanging":return j+M-2*W;case"middle":return j+M/2-W;case"ideographic":return j;case"alphabetic":default:return j}},V=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(M,W){this.colorStops.push([M,W])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(j,M,W,J,se,he,pe,q,G){for(var te=ce.call(this,W,J,se,he),xe=0;xe<te.length;xe++){var je=te[xe];xe===0&&(G?I.call(this,je.x1+j,je.y1+M):K.call(this,je.x1+j,je.y1+M)),oe.call(this,j,M,je.x2,je.y2,je.x3,je.y3,je.x4,je.y4)}q?ne.call(this):O.call(this,pe)},O=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ne=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(j,M){this.pdf.internal.out(r(j)+" "+n(M)+" m")},B=function(j){var M;switch(j.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var W=this.pdf.getTextDimensions(j.text),J=Z.call(this,j.y),se=V.call(this,J)-W.h,he=this.ctx.transform.applyToPoint(new a(j.x,J)),pe=this.ctx.transform.decompose(),q=new c;q=(q=(q=q.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var G,te,xe,je=this.ctx.transform.applyToRectangle(new o(j.x,J,W.w,W.h)),Ye=q.applyToRectangle(new o(j.x,se,W.w,W.h)),ye=k.call(this,Ye),Y=[],nt=0;nt<ye.length;nt+=1)Y.indexOf(ye[nt])===-1&&Y.push(ye[nt]);if(x(Y),this.autoPaging)for(var He=Y[0],Pe=Y[Y.length-1],De=He;De<Pe+1;De++){this.pdf.setPage(De);var Fe=De===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[2],pt=st-this.margin[0],xt=this.pdf.internal.pageSize.width-this.margin[1],Be=xt-this.margin[3],Ot=De===1?0:Me+(De-2)*pt;if(this.ctx.clip_path.length!==0){var qt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(G,this.posX+this.margin[3],-1*Ot+Fe),$.call(this,"fill",!0),this.path=qt}var ut=b([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-Ot+Fe+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*j.scale),xe=this.lineWidth,this.lineWidth=xe*j.scale);var Et=this.autoPaging!=="text";if(Et||ut.y+ut.h<=st){if(Et||ut.y>=Fe&&ut.x<=xt){var ze=Et?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||xt-ut.x)[0],gr=b([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-Ot+Fe+this.ctx.prevPageLastElemOffset)[0],Lt=Et&&(De>He||De<Pe)&&S.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,pt,null).clip().discardPath()),this.pdf.text(ze,gr.x,gr.y,{angle:j.angle,align:M,renderingMode:j.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else ut.y<st&&(this.ctx.prevPageLastElemOffset+=st-ut.y);j.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=xe)}else j.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*j.scale),xe=this.lineWidth,this.lineWidth=xe*j.scale),this.pdf.text(j.text,he.x+this.posX,he.y+this.posY,{angle:j.angle,align:M,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=xe)},K=function(j,M,W,J){W=W||0,J=J||0,this.pdf.internal.out(r(j+W)+" "+n(M+J)+" l")},E=function(j,M,W){return this.pdf.lines(j,M,W,null,null)},oe=function(j,M,W,J,se,he,pe,q){this.pdf.internal.out([t(s(W+j)),t(i(J+M)),t(s(se+j)),t(i(he+M)),t(s(pe+j)),t(i(q+M)),"c"].join(" "))},ce=function(j,M,W,J){for(var se=2*Math.PI,he=Math.PI/2;M>W;)M-=se;var pe=Math.abs(W-M);pe<se&&J&&(pe=se-pe);for(var q=[],G=J?-1:1,te=M;pe>1e-5;){var xe=te+G*Math.min(pe,he);q.push(me.call(this,j,te,xe)),pe-=Math.abs(xe-te),te=xe}return q},me=function(j,M,W){var J=(W-M)/2,se=j*Math.cos(J),he=j*Math.sin(J),pe=se,q=-he,G=pe*pe+q*q,te=G+pe*se+q*he,xe=4/3*(Math.sqrt(2*G*te)-te)/(pe*he-q*se),je=pe-xe*q,Ye=q+xe*pe,ye=je,Y=-Ye,nt=J+M,He=Math.cos(nt),Pe=Math.sin(nt);return{x1:j*Math.cos(M),y1:j*Math.sin(M),x2:je*He-Ye*Pe,y2:je*Pe+Ye*He,x3:ye*He-Y*Pe,y3:ye*Pe+Y*He,x4:j*Math.cos(W),y4:j*Math.sin(W)}},D=function(j){return 180*j/Math.PI},X=function(j,M,W,J,se,he){var pe=j+.5*(W-j),q=M+.5*(J-M),G=se+.5*(W-se),te=he+.5*(J-he),xe=Math.min(j,se,pe,G),je=Math.max(j,se,pe,G),Ye=Math.min(M,he,q,te),ye=Math.max(M,he,q,te);return new o(xe,Ye,je-xe,ye-Ye)},ee=function(j,M,W,J,se,he,pe,q){var G,te,xe,je,Ye,ye,Y,nt,He,Pe,De,Fe,Me,st,pt=W-j,xt=J-M,Be=se-W,Ot=he-J,qt=pe-se,ut=q-he;for(te=0;te<41;te++)He=(Y=(xe=j+(G=te/40)*pt)+G*((Ye=W+G*Be)-xe))+G*(Ye+G*(se+G*qt-Ye)-Y),Pe=(nt=(je=M+G*xt)+G*((ye=J+G*Ot)-je))+G*(ye+G*(he+G*ut-ye)-nt),te==0?(De=He,Fe=Pe,Me=He,st=Pe):(De=Math.min(De,He),Fe=Math.min(Fe,Pe),Me=Math.max(Me,He),st=Math.max(st,Pe));return new o(Math.round(De),Math.round(Fe),Math.round(Me-De),Math.round(st-Fe))},we=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,M,W=(j=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:M}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(vt.API),function(e){var t=function(i){var a,o,c,d,m,g,v,f,N,S;for(o=[],c=0,d=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;d>c;c+=4)(m=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(g=(m=((m=((m=((m=(m-(S=m%85))/85)-(N=m%85))/85)-(f=m%85))/85)-(v=m%85))/85)%85,o.push(g+33,v+33,f+33,N+33,S+33)):o.push(122);return function(k,_){for(var b=_;b>0;b--)k.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var a,o,c,d,m,g=String,v="length",f=255,N="charCodeAt",S="slice",k="replace";for(i[S](-2),i=i[S](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),c=[],d=0,m=(i+=a="uuuuu"[S](i[v]%5||5))[v];m>d;d+=5)o=52200625*(i[N](d)-33)+614125*(i[N](d+1)-33)+7225*(i[N](d+2)-33)+85*(i[N](d+3)-33)+(i[N](d+4)-33),c.push(f&o>>24,f&o>>16,f&o>>8,f&o);return function(_,b){for(var x=b;x>0;x--)_.pop()}(c,a[v]),g.fromCharCode.apply(g,c)},n=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var o="",c=0;c<i.length;c+=2)o+=String.fromCharCode("0x"+(i[c]+i[c+1]));return o},s=function(i){for(var a=new Uint8Array(i.length),o=i.length;o--;)a[o]=i.charCodeAt(o);return i=(a=Wm(a)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(i,a){var o=0,c=i||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(m){return("0"+m.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(vt.API),function(e){e.loadFile=function(t,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(c,d,m){var g=new XMLHttpRequest,v=0,f=function(N){var S=N.length,k=[],_=String.fromCharCode;for(v=0;v<S;v+=1)k.push(_(255&N.charCodeAt(v)));return k.join("")};if(g.open("GET",c,!d),g.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(g.onload=function(){g.status===200?m(f(this.responseText)):m(void 0)}),g.send(null),d&&g.status===200)return f(g.responseText)}(s,i,a)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(vt.API),function(e){function t(){return(_t.html2canvas?Promise.resolve(_t.html2canvas):qm(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(_t.DOMPurify?Promise.resolve(_t.DOMPurify):qm(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=Gt(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},s=function(a,o){var c=document.createElement(a);for(var d in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[d]=o.style[d];return c},i=function a(o){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,a,1,[a])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,o){return a.__proto__=o||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(c){return this.set({src:s("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(d,m){for(var g=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),v=d.firstChild;v;v=v.nextSibling)m!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||g.appendChild(c(v,m));return d.nodeType===1&&(d.nodeName==="CANVAS"?(g.width=d.width,g.height=d.height,g.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(g.value=d.value),g.addEventListener("load",function(){g.scrollTop=d.scrollTop,g.scrollLeft=d.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(o){var c=this.opt.jsPDF,d=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var v=0;v<d.length;++v){var f=d[v],N=f.src.find(function(S){return S.format==="truetype"});N&&c.addFont(N.url,f.ref.name,f.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),o(this.prop.container,g)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},i.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(a,o){return this.then(function(){var c=a in i.template.prop?this.prop[a]:this.opt[a];return o?o(c):c})},i.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function o(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(a=a||vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,o,c,d){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,o,c,d){return this.setProgress(a?this.progress.val+a:null,o||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(a,o){var c=this;return this.thenCore(a,o,function(d,m){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,d),g}).then(d,m).then(function(g){return c.updateProgress(1),g})})},i.prototype.thenCore=function(a,o,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),m=c.call(d,a,o);return i.convert(m,this.__proto__)},i.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},i.prototype.thenList=function(a){var o=this;return a.forEach(function(c){o=o.thenCore(c)}),o},i.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return i.convert(o,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,vt.getPageSize=function(a,o,c){if(Gt(a)==="object"){var d=a;a=d.orientation,o=d.unit||o,c=d.format||c}o=o||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var m,g=(""+c).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+o}var f,N=0,S=0;if(v.hasOwnProperty(g))N=v[g][1]/m,S=v[g][0]/m;else try{N=c[1],S=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",S>N&&(f=S,S=N,N=f);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",N>S&&(f=S,S=N,N=f)}return{width:S,height:N,unit:o,k:m,orientation:a}},e.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Xm):null;var c=new i(o);return o.worker?c:c.from(a).doCallback()}}(vt.API),vt.API.addJS=function(e){return Xv=e,this.internal.events.subscribe("postPutResources",function(){Nd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Nd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Qv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Xv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Nd!==void 0&&Qv!==void 0&&this.internal.out("/Names <</JavaScript "+Nd+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],o=n.exec(a);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,m=[];for(i=0;i<d;i++){var g=r.internal.newObject();m.push(g);var v=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<m.length;i++)r.internal.write("(page_"+(i+1)+")"+m[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(vt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,a,o){var c,d=this.decode.DCT_DECODE,m=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(g){for(var v,f=256*g.charCodeAt(4)+g.charCodeAt(5),N=g.length,S={width:0,height:0,numcomponents:1},k=4;k<N;k+=2){if(k+=f,t.indexOf(g.charCodeAt(k+1))!==-1){v=256*g.charCodeAt(k+5)+g.charCodeAt(k+6),S={width:256*g.charCodeAt(k+7)+g.charCodeAt(k+8),height:v,numcomponents:g.charCodeAt(k+9)};break}f=256*g.charCodeAt(k+2)+g.charCodeAt(k+3)}return S}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}m={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:d,index:n,alias:s}}return m}}(vt.API);var Ao,Sd,Zv,e2,t2,L6=function(){var e,t,r;function n(i){var a,o,c,d,m,g,v,f,N,S,k,_,b,x;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(a=this.readUInt32(),N=(function(){var P,$;for($=[],P=0;P<4;++P)$.push(String.fromCharCode(this.data[this.pos++]));return $}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},m=this.readUInt16(),d=this.readUInt16()||100,g.delay=1e3*m/d,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,a-=4),i=(g!=null?g.data:void 0)||this.imgData,_=0;0<=a?_<a:_>a;0<=a?++_:--_)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((S=c-this.transparency.indexed.length)>0)for(b=0;0<=S?b<S:b>S;0<=S?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":v=(k=this.read(a)).indexOf(0),f=String.fromCharCode.apply(String,k.slice(0,v)),this.text[f]=String.fromCharCode.apply(String,k.slice(v+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(x=this.colorType)===4||x===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var a,o;for(o=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),c=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function m(g,v,f,N){var S,k,_,b,x,P,$,Z,V,U,O,ne,I,B,K,E,oe,ce,me,D,X,ee=Math.ceil((d.width-g)/f),we=Math.ceil((d.height-v)/N),j=d.width==ee&&d.height==we;for(B=a*ee,ne=j?o:new Uint8Array(B*we),P=i.length,I=0,k=0;I<we&&c<P;){switch(i[c++]){case 0:for(b=oe=0;oe<B;b=oe+=1)ne[k++]=i[c++];break;case 1:for(b=ce=0;ce<B;b=ce+=1)S=i[c++],x=b<a?0:ne[k-a],ne[k++]=(S+x)%256;break;case 2:for(b=me=0;me<B;b=me+=1)S=i[c++],_=(b-b%a)/a,K=I&&ne[(I-1)*B+_*a+b%a],ne[k++]=(K+S)%256;break;case 3:for(b=D=0;D<B;b=D+=1)S=i[c++],_=(b-b%a)/a,x=b<a?0:ne[k-a],K=I&&ne[(I-1)*B+_*a+b%a],ne[k++]=(S+Math.floor((x+K)/2))%256;break;case 4:for(b=X=0;X<B;b=X+=1)S=i[c++],_=(b-b%a)/a,x=b<a?0:ne[k-a],I===0?K=E=0:(K=ne[(I-1)*B+_*a+b%a],E=_&&ne[(I-1)*B+(_-1)*a+b%a]),$=x+K-E,Z=Math.abs($-x),U=Math.abs($-K),O=Math.abs($-E),V=Z<=U&&Z<=O?x:U<=O?K:E,ne[k++]=(S+V)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!j){var M=((v+I*N)*d.width+g)*a,W=I*B;for(b=0;b<ee;b+=1){for(var J=0;J<a;J+=1)o[M++]=ne[W++];M+=(f-1)*a}}I++}}return i=c6(i),d.interlaceMethod==1?(m(0,0,8,8),m(4,0,8,8),m(0,4,4,8),m(2,0,4,4),m(0,2,2,4),m(1,0,2,2),m(0,1,1,2)):m(0,0,1,1),o},n.prototype.decodePalette=function(){var i,a,o,c,d,m,g,v,f;for(o=this.palette,m=this.transparency.indexed||[],d=new Uint8Array((m.length||0)+o.length),c=0,i=0,a=g=0,v=o.length;g<v;a=g+=3)d[c++]=o[a],d[c++]=o[a+1],d[c++]=o[a+2],d[c++]=(f=m[i++])!=null?f:255;return d},n.prototype.copyToImageData=function(i,a){var o,c,d,m,g,v,f,N,S,k,_;if(c=this.colors,S=null,o=this.hasAlphaChannel,this.palette.length&&(S=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),c=4,o=!0),N=(d=i.data||i).length,g=S||a,m=v=0,c===1)for(;m<N;)f=S?4*a[m/4]:v,k=g[f++],d[m++]=k,d[m++]=k,d[m++]=k,d[m++]=o?g[f++]:255,v=f;else for(;m<N;)f=S?4*a[m/4]:v,d[m++]=g[f++],d[m++]=g[f++],d[m++]=g[f++],d[m++]=o?g[f++]:255,v=f},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(_t)==="[object Window]"){try{t=_t.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(i){var a;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var a,o,c,d,m,g,v,f;if(this.animation){for(f=[],o=m=0,g=(v=this.animation.frames).length;m<g;o=++m)a=v[o],c=i.createImageData(a.width,a.height),d=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,d),a.imageData=c,f.push(a.image=e(c));return f}},n.prototype.renderFrame=function(i,a){var o,c,d;return o=(c=this.animation.frames)[a],d=c[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var a,o,c,d,m,g,v=this;return o=0,g=this.animation,d=g.numFrames,c=g.frames,m=g.numPlays,(a=function(){var f,N;if(f=o++%d,N=c[f],v.renderFrame(i,f),d>1&&o/d<m)return v.animation._timeout=setTimeout(a,N.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var a,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function T6(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,a=1<<(7&s)+1;e[t++],e[t++];var o=null,c=null;i&&(o=t,c=a,t+=3*a);var d=!0,m=[],g=0,v=null,f=0,N=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,N=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var S=e[t++];g=e[t++]|e[t++]<<8,v=e[t++],!(1&S)&&(v=null),f=S>>2&7,t++;break;case 254:for(;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var k=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,P=e[t++],$=P>>6&1,Z=1<<(7&P)+1,V=o,U=c,O=!1;P>>7&&(O=!0,V=t,U=Z,t+=3*Z);var ne=t;for(t++;;){var I;if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}m.push({x:k,y:_,width:b,height:x,has_local_palette:O,palette_offset:V,palette_size:U,data_offset:ne,data_length:t-ne,transparent_index:v,interlaced:!!$,delay:g,disposal:f});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return N},this.frameInfo=function(B){if(B<0||B>=m.length)throw new Error("Frame index out of range.");return m[B]},this.decodeAndBlitFrameBGRA=function(B,K){var E=this.frameInfo(B),oe=E.width*E.height,ce=new Uint8Array(oe);r2(e,E.data_offset,ce,oe);var me=E.palette_offset,D=E.transparent_index;D===null&&(D=256);var X=E.width,ee=r-X,we=X,j=4*(E.y*r+E.x),M=4*((E.y+E.height)*r+E.x),W=j,J=4*ee;E.interlaced===!0&&(J+=4*r*7);for(var se=8,he=0,pe=ce.length;he<pe;++he){var q=ce[he];if(we===0&&(we=X,(W+=J)>=M&&(J=4*ee+4*r*(se-1),W=j+(X+ee)*(se<<1),se>>=1)),q===D)W+=4;else{var G=e[me+3*q],te=e[me+3*q+1],xe=e[me+3*q+2];K[W++]=xe,K[W++]=te,K[W++]=G,K[W++]=255}--we}},this.decodeAndBlitFrameRGBA=function(B,K){var E=this.frameInfo(B),oe=E.width*E.height,ce=new Uint8Array(oe);r2(e,E.data_offset,ce,oe);var me=E.palette_offset,D=E.transparent_index;D===null&&(D=256);var X=E.width,ee=r-X,we=X,j=4*(E.y*r+E.x),M=4*((E.y+E.height)*r+E.x),W=j,J=4*ee;E.interlaced===!0&&(J+=4*r*7);for(var se=8,he=0,pe=ce.length;he<pe;++he){var q=ce[he];if(we===0&&(we=X,(W+=J)>=M&&(J=4*ee+4*r*(se-1),W=j+(X+ee)*(se<<1),se>>=1)),q===D)W+=4;else{var G=e[me+3*q],te=e[me+3*q+1],xe=e[me+3*q+2];K[W++]=G,K[W++]=te,K[W++]=xe,K[W++]=255}--we}}}function r2(e,t,r,n){for(var s=e[t++],i=1<<s,a=i+1,o=a+1,c=s+1,d=(1<<c)-1,m=0,g=0,v=0,f=e[t++],N=new Int32Array(4096),S=null;;){for(;m<16&&f!==0;)g|=e[t++]<<m,m+=8,f===1?f=e[t++]:--f;if(m<c)break;var k=g&d;if(g>>=c,m-=c,k!==i){if(k===a)break;for(var _=k<o?k:S,b=0,x=_;x>i;)x=N[x]>>8,++b;var P=x;if(v+b+(_!==k?1:0)>n)return void Jt.log("Warning, gif stream longer than expected.");r[v++]=P;var $=v+=b;for(_!==k&&(r[v++]=P),x=_;b--;)x=N[x],r[--$]=255&x,x>>=8;S!==null&&o<4096&&(N[o++]=S<<8|P,o>=d+1&&c<12&&(++c,d=d<<1|1)),S=k}else o=a+1,d=(1<<(c=s+1))-1,S=null}return v!==n&&Jt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ap(e){var t,r,n,s,i,a=Math.floor,o=new Array(64),c=new Array(64),d=new Array(64),m=new Array(64),g=new Array(65535),v=new Array(65535),f=new Array(64),N=new Array(64),S=[],k=0,_=7,b=new Array(64),x=new Array(64),P=new Array(64),$=new Array(256),Z=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ce(j,M){for(var W=0,J=0,se=new Array,he=1;he<=16;he++){for(var pe=1;pe<=j[he];pe++)se[M[J]]=[],se[M[J]][0]=W,se[M[J]][1]=he,J++,W++;W*=2}return se}function me(j){for(var M=j[0],W=j[1]-1;W>=0;)M&1<<W&&(k|=1<<_),W--,--_<0&&(k==255?(D(255),D(0)):D(k),_=7,k=0)}function D(j){S.push(j)}function X(j){D(j>>8&255),D(255&j)}function ee(j,M,W,J,se){for(var he,pe=se[0],q=se[240],G=function(Pe,De){var Fe,Me,st,pt,xt,Be,Ot,qt,ut,Et,ze=0;for(ut=0;ut<8;++ut){Fe=Pe[ze],Me=Pe[ze+1],st=Pe[ze+2],pt=Pe[ze+3],xt=Pe[ze+4],Be=Pe[ze+5],Ot=Pe[ze+6];var gr=Fe+(qt=Pe[ze+7]),Lt=Fe-qt,Hr=Me+Ot,Dt=Me-Ot,le=st+Be,$e=st-Be,Ve=pt+xt,Tt=pt-xt,tt=gr+Ve,yt=gr-Ve,Ke=Hr+le,Ct=Hr-le;Pe[ze]=tt+Ke,Pe[ze+4]=tt-Ke;var mt=.707106781*(Ct+yt);Pe[ze+2]=yt+mt,Pe[ze+6]=yt-mt;var Ue=.382683433*((tt=Tt+$e)-(Ct=Dt+Lt)),en=.5411961*tt+Ue,ur=1.306562965*Ct+Ue,vr=.707106781*(Ke=$e+Dt),Jn=Lt+vr,dt=Lt-vr;Pe[ze+5]=dt+en,Pe[ze+3]=dt-en,Pe[ze+1]=Jn+ur,Pe[ze+7]=Jn-ur,ze+=8}for(ze=0,ut=0;ut<8;++ut){Fe=Pe[ze],Me=Pe[ze+8],st=Pe[ze+16],pt=Pe[ze+24],xt=Pe[ze+32],Be=Pe[ze+40],Ot=Pe[ze+48];var On=Fe+(qt=Pe[ze+56]),Qn=Fe-qt,fn=Me+Ot,be=Me-Ot,Re=st+Be,We=st-Be,Te=pt+xt,ot=pt-xt,Oe=On+Te,ht=On-Te,bt=fn+Re,It=fn-Re;Pe[ze]=Oe+bt,Pe[ze+32]=Oe-bt;var gt=.707106781*(It+ht);Pe[ze+16]=ht+gt,Pe[ze+48]=ht-gt;var dr=.382683433*((Oe=ot+We)-(It=be+Qn)),Fr=.5411961*Oe+dr,Tr=1.306562965*It+dr,Br=.707106781*(bt=We+be),hs=Qn+Br,Os=Qn-Br;Pe[ze+40]=Os+Fr,Pe[ze+24]=Os-Fr,Pe[ze+8]=hs+Tr,Pe[ze+56]=hs-Tr,ze++}for(ut=0;ut<64;++ut)Et=Pe[ut]*De[ut],f[ut]=Et>0?Et+.5|0:Et-.5|0;return f}(j,M),te=0;te<64;++te)N[V[te]]=G[te];var xe=N[0]-W;W=N[0],xe==0?me(J[0]):(me(J[v[he=32767+xe]]),me(g[he]));for(var je=63;je>0&&N[je]==0;)je--;if(je==0)return me(pe),W;for(var Ye,ye=1;ye<=je;){for(var Y=ye;N[ye]==0&&ye<=je;)++ye;var nt=ye-Y;if(nt>=16){Ye=nt>>4;for(var He=1;He<=Ye;++He)me(q);nt&=15}he=32767+N[ye],me(se[(nt<<4)+v[he]]),me(g[he]),ye++}return je!=63&&me(pe),W}function we(j){j=Math.min(Math.max(j,1),100),i!=j&&(function(M){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var se=a((W[J]*M+50)/100);se=Math.min(Math.max(se,1),255),o[V[J]]=se}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var q=a((he[pe]*M+50)/100);q=Math.min(Math.max(q,1),255),c[V[pe]]=q}for(var G=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],te=0,xe=0;xe<8;xe++)for(var je=0;je<8;je++)d[te]=1/(o[V[te]]*G[xe]*G[je]*8),m[te]=1/(c[V[te]]*G[xe]*G[je]*8),te++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),i=j)}this.encode=function(j,M){M&&we(M),S=new Array,k=0,_=7,X(65496),X(65504),X(16),D(74),D(70),D(73),D(70),D(0),D(1),D(1),D(0),X(1),X(1),D(0),D(0),function(){X(65499),X(132),D(0);for(var Me=0;Me<64;Me++)D(o[Me]);D(1);for(var st=0;st<64;st++)D(c[st])}(),function(Me,st){X(65472),X(17),D(8),X(st),X(Me),D(3),D(1),D(17),D(0),D(2),D(17),D(1),D(3),D(17),D(1)}(j.width,j.height),function(){X(65476),X(418),D(0);for(var Me=0;Me<16;Me++)D(U[Me+1]);for(var st=0;st<=11;st++)D(O[st]);D(16);for(var pt=0;pt<16;pt++)D(ne[pt+1]);for(var xt=0;xt<=161;xt++)D(I[xt]);D(1);for(var Be=0;Be<16;Be++)D(B[Be+1]);for(var Ot=0;Ot<=11;Ot++)D(K[Ot]);D(17);for(var qt=0;qt<16;qt++)D(E[qt+1]);for(var ut=0;ut<=161;ut++)D(oe[ut])}(),X(65498),X(12),D(3),D(1),D(0),D(2),D(17),D(3),D(17),D(0),D(63),D(0);var W=0,J=0,se=0;k=0,_=7,this.encode.displayName="_encode_";for(var he,pe,q,G,te,xe,je,Ye,ye,Y=j.data,nt=j.width,He=j.height,Pe=4*nt,De=0;De<He;){for(he=0;he<Pe;){for(te=Pe*De+he,je=-1,Ye=0,ye=0;ye<64;ye++)xe=te+(Ye=ye>>3)*Pe+(je=4*(7&ye)),De+Ye>=He&&(xe-=Pe*(De+1+Ye-He)),he+je>=Pe&&(xe-=he+je-Pe+4),pe=Y[xe++],q=Y[xe++],G=Y[xe++],b[ye]=(Z[pe]+Z[q+256>>0]+Z[G+512>>0]>>16)-128,x[ye]=(Z[pe+768>>0]+Z[q+1024>>0]+Z[G+1280>>0]>>16)-128,P[ye]=(Z[pe+1280>>0]+Z[q+1536>>0]+Z[G+1792>>0]>>16)-128;W=ee(b,d,W,t,n),J=ee(x,m,J,r,s),se=ee(P,m,se,r,s),he+=32}De+=8}if(_>=0){var Fe=[];Fe[1]=_+1,Fe[0]=(1<<_+1)-1,me(Fe)}return X(65497),new Uint8Array(S)},e=e||50,function(){for(var j=String.fromCharCode,M=0;M<256;M++)$[M]=j(M)}(),t=ce(U,O),r=ce(B,K),n=ce(ne,I),s=ce(E,oe),function(){for(var j=1,M=2,W=1;W<=15;W++){for(var J=j;J<M;J++)v[32767+J]=W,g[32767+J]=[],g[32767+J][1]=W,g[32767+J][0]=J;for(var se=-(M-1);se<=-j;se++)v[32767+se]=W,g[32767+se]=[],g[32767+se][1]=W,g[32767+se][0]=M-1+se;j<<=1,M<<=1}}(),function(){for(var j=0;j<256;j++)Z[j]=19595*j,Z[j+256>>0]=38470*j,Z[j+512>>0]=7471*j+32768,Z[j+768>>0]=-11059*j,Z[j+1024>>0]=-21709*j,Z[j+1280>>0]=32768*j+8421375,Z[j+1536>>0]=-27439*j,Z[j+1792>>0]=-5329*j}(),we(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function _s(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function n2(e){function t(U){if(!U)throw Error("assert :P")}function r(U,O,ne){for(var I=0;4>I;I++)if(U[O+I]!=ne.charCodeAt(I))return!0;return!1}function n(U,O,ne,I,B){for(var K=0;K<B;K++)U[O+K]=ne[I+K]}function s(U,O,ne,I){for(var B=0;B<I;B++)U[O+B]=ne}function i(U){return new Int32Array(U)}function a(U,O){for(var ne=[],I=0;I<U;I++)ne.push(new O);return ne}function o(U,O){var ne=[];return function I(B,K,E){for(var oe=E[K],ce=0;ce<oe&&(B.push(E.length>K+1?[]:new O),!(E.length<K+1));ce++)I(B[ce],K+1,E)}(ne,0,U),ne}var c=function(){var U=this;function O(u,h){for(var y=1<<h-1>>>0;u&y;)y>>>=1;return y?(u&y-1)+y:u}function ne(u,h,y,w,C){t(!(w%y));do u[h+(w-=y)]=C;while(0<w)}function I(u,h,y,w,C){if(t(2328>=C),512>=C)var L=i(512);else if((L=i(C))==null)return 0;return function(T,R,F,z,ie,ge){var ve,de,Ae=R,_e=1<<F,ae=i(16),ue=i(16);for(t(ie!=0),t(z!=null),t(T!=null),t(0<F),de=0;de<ie;++de){if(15<z[de])return 0;++ae[z[de]]}if(ae[0]==ie)return 0;for(ue[1]=0,ve=1;15>ve;++ve){if(ae[ve]>1<<ve)return 0;ue[ve+1]=ue[ve]+ae[ve]}for(de=0;de<ie;++de)ve=z[de],0<z[de]&&(ge[ue[ve]++]=de);if(ue[15]==1)return(z=new B).g=0,z.value=ge[0],ne(T,Ae,1,_e,z),_e;var ke,Ee=-1,Ce=_e-1,Qe=0,qe=1,ft=1,Ge=1<<F;for(de=0,ve=1,ie=2;ve<=F;++ve,ie<<=1){if(qe+=ft<<=1,0>(ft-=ae[ve]))return 0;for(;0<ae[ve];--ae[ve])(z=new B).g=ve,z.value=ge[de++],ne(T,Ae+Qe,ie,Ge,z),Qe=O(Qe,ve)}for(ve=F+1,ie=2;15>=ve;++ve,ie<<=1){if(qe+=ft<<=1,0>(ft-=ae[ve]))return 0;for(;0<ae[ve];--ae[ve]){if(z=new B,(Qe&Ce)!=Ee){for(Ae+=Ge,ke=1<<(Ee=ve)-F;15>Ee&&!(0>=(ke-=ae[Ee]));)++Ee,ke<<=1;_e+=Ge=1<<(ke=Ee-F),T[R+(Ee=Qe&Ce)].g=ke+F,T[R+Ee].value=Ae-R-Ee}z.g=ve-F,z.value=ge[de++],ne(T,Ae+(Qe>>F),ie,Ge,z),Qe=O(Qe,ve)}}return qe!=2*ue[15]-1?0:_e}(u,h,y,w,C,L)}function B(){this.value=this.g=0}function K(){this.value=this.g=0}function E(){this.G=a(5,B),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Yr,K)}function oe(u,h,y,w){t(u!=null),t(h!=null),t(2147483648>w),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=y,u.Jd=h,u.Yc=y+w,u.Zc=4<=w?y+w-4+1:y,he(u)}function ce(u,h){for(var y=0;0<h--;)y|=q(u,128)<<h;return y}function me(u,h){var y=ce(u,h);return pe(u)?-y:y}function D(u,h,y,w){var C,L=0;for(t(u!=null),t(h!=null),t(4294967288>w),u.Sb=w,u.Ra=0,u.u=0,u.h=0,4<w&&(w=4),C=0;C<w;++C)L+=h[y+C]<<8*C;u.Ra=L,u.bb=w,u.oa=h,u.pa=y}function X(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<uo-8>>>0,++u.bb,u.u-=8;W(u)&&(u.h=1,u.u=0)}function ee(u,h){if(t(0<=h),!u.h&&h<=co){var y=M(u)&lo[h];return u.u+=h,X(u),y}return u.h=1,u.u=0}function we(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(u){return u.Ra>>>(u.u&uo-1)>>>0}function W(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>uo}function J(u,h){u.u=h,u.h=W(u)}function se(u){u.u>=Ml&&(t(u.u>=Ml),X(u))}function he(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function pe(u){return ce(u,1)}function q(u,h){var y=u.Ca;0>u.b&&he(u);var w=u.b,C=y*h>>>8,L=(u.I>>>w>C)+0;for(L?(y-=C,u.I-=C+1<<w>>>0):y=C+1,w=y,C=0;256<=w;)C+=8,w>>=8;return w=7^C+Sn[w],u.b-=w,u.Ca=(y<<w)-1,L}function G(u,h,y){u[h+0]=y>>24&255,u[h+1]=y>>16&255,u[h+2]=y>>8&255,u[h+3]=y>>0&255}function te(u,h){return u[h+0]<<0|u[h+1]<<8}function xe(u,h){return te(u,h)|u[h+2]<<16}function je(u,h){return te(u,h)|te(u,h+2)<<16}function Ye(u,h){var y=1<<h;return t(u!=null),t(0<h),u.X=i(y),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function ye(u,h){t(u!=null),t(h!=null),t(u.Xa==h.Xa),n(h.X,0,u.X,0,1<<h.Xa)}function Y(){this.X=[],this.Xa=this.Mb=0}function nt(u,h,y,w){t(y!=null),t(w!=null);var C=y[0],L=w[0];return C==0&&(C=(u*L+h/2)/h),L==0&&(L=(h*C+u/2)/u),0>=C||0>=L?0:(y[0]=C,w[0]=L,1)}function He(u,h){return u+(1<<h)-1>>>h}function Pe(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function De(u,h){U[h]=function(y,w,C,L,T,R,F){var z;for(z=0;z<T;++z){var ie=U[u](R[F+z-1],C,L+z);R[F+z]=Pe(y[w+z],ie)}}}function Fe(){this.ud=this.hd=this.jd=0}function Me(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function st(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function pt(u,h){return st(u+(u-h+.5>>1))}function xt(u,h,y){return Math.abs(h-y)-Math.abs(u-y)}function Be(u,h,y,w,C,L,T){for(w=L[T-1],y=0;y<C;++y)L[T+y]=w=Pe(u[h+y],w)}function Ot(u,h,y,w,C){var L;for(L=0;L<y;++L){var T=u[h+L],R=T>>8&255,F=16711935&(F=(F=16711935&T)+((R<<16)+R));w[C+L]=(4278255360&T)+F>>>0}}function qt(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function ut(u,h,y,w,C,L){var T;for(T=0;T<w;++T){var R=h[y+T],F=R>>>8,z=R,ie=255&(ie=(ie=R>>>16)+((u.jd<<24>>24)*(F<<24>>24)>>>5));z=255&(z=(z=z+((u.hd<<24>>24)*(F<<24>>24)>>>5))+((u.ud<<24>>24)*(ie<<24>>24)>>>5)),C[L+T]=(4278255360&R)+(ie<<16)+z}}function Et(u,h,y,w,C){U[h]=function(L,T,R,F,z,ie,ge,ve,de){for(F=ge;F<ve;++F)for(ge=0;ge<de;++ge)z[ie++]=C(R[w(L[T++])])},U[u]=function(L,T,R,F,z,ie,ge){var ve=8>>L.b,de=L.Ea,Ae=L.K[0],_e=L.w;if(8>ve)for(L=(1<<L.b)-1,_e=(1<<ve)-1;T<R;++T){var ae,ue=0;for(ae=0;ae<de;++ae)ae&L||(ue=w(F[z++])),ie[ge++]=C(Ae[ue&_e]),ue>>=ve}else U["VP8LMapColor"+y](F,z,Ae,_e,ie,ge,T,R,de)}}function ze(u,h,y,w,C){for(y=h+y;h<y;){var L=u[h++];w[C++]=L>>16&255,w[C++]=L>>8&255,w[C++]=L>>0&255}}function gr(u,h,y,w,C){for(y=h+y;h<y;){var L=u[h++];w[C++]=L>>16&255,w[C++]=L>>8&255,w[C++]=L>>0&255,w[C++]=L>>24&255}}function Lt(u,h,y,w,C){for(y=h+y;h<y;){var L=(T=u[h++])>>16&240|T>>12&15,T=T>>0&240|T>>28&15;w[C++]=L,w[C++]=T}}function Hr(u,h,y,w,C){for(y=h+y;h<y;){var L=(T=u[h++])>>16&248|T>>13&7,T=T>>5&224|T>>3&31;w[C++]=L,w[C++]=T}}function Dt(u,h,y,w,C){for(y=h+y;h<y;){var L=u[h++];w[C++]=L>>0&255,w[C++]=L>>8&255,w[C++]=L>>16&255}}function le(u,h,y,w,C,L){if(L==0)for(y=h+y;h<y;)G(w,((L=u[h++])[0]>>24|L[1]>>8&65280|L[2]<<8&16711680|L[3]<<24)>>>0),C+=32;else n(w,C,u,h,y)}function $e(u,h){U[h][0]=U[u+"0"],U[h][1]=U[u+"1"],U[h][2]=U[u+"2"],U[h][3]=U[u+"3"],U[h][4]=U[u+"4"],U[h][5]=U[u+"5"],U[h][6]=U[u+"6"],U[h][7]=U[u+"7"],U[h][8]=U[u+"8"],U[h][9]=U[u+"9"],U[h][10]=U[u+"10"],U[h][11]=U[u+"11"],U[h][12]=U[u+"12"],U[h][13]=U[u+"13"],U[h][14]=U[u+"0"],U[h][15]=U[u+"0"]}function Ve(u){return u==vf||u==yf||u==Lu||u==bf}function Tt(){this.eb=[],this.size=this.A=this.fb=0}function tt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Tt,this.f.kb=new tt,this.sd=null}function Ke(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ct(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function mt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Ue(u,h){var y=u.T,w=h.ba.f.RGBA,C=w.eb,L=w.fb+u.ka*w.A,T=ns[h.ba.S],R=u.y,F=u.O,z=u.f,ie=u.N,ge=u.ea,ve=u.W,de=h.cc,Ae=h.dc,_e=h.Mc,ae=h.Nc,ue=u.ka,ke=u.ka+u.T,Ee=u.U,Ce=Ee+1>>1;for(ue==0?T(R,F,null,null,z,ie,ge,ve,z,ie,ge,ve,C,L,null,null,Ee):(T(h.ec,h.fc,R,F,de,Ae,_e,ae,z,ie,ge,ve,C,L-w.A,C,L,Ee),++y);ue+2<ke;ue+=2)de=z,Ae=ie,_e=ge,ae=ve,ie+=u.Rc,ve+=u.Rc,L+=2*w.A,T(R,(F+=2*u.fa)-u.fa,R,F,de,Ae,_e,ae,z,ie,ge,ve,C,L-w.A,C,L,Ee);return F+=u.fa,u.j+ke<u.o?(n(h.ec,h.fc,R,F,Ee),n(h.cc,h.dc,z,ie,Ce),n(h.Mc,h.Nc,ge,ve,Ce),y--):1&ke||T(R,F,null,null,z,ie,ge,ve,z,ie,ge,ve,C,L+w.A,null,null,Ee),y}function en(u,h,y){var w=u.F,C=[u.J];if(w!=null){var L=u.U,T=h.ba.S,R=T==Pu||T==Lu;h=h.ba.f.RGBA;var F=[0],z=u.ka;F[0]=u.T,u.Kb&&(z==0?--F[0]:(--z,C[0]-=u.width),u.j+u.ka+u.T==u.o&&(F[0]=u.o-u.j-z));var ie=h.eb;z=h.fb+z*h.A,u=Xt(w,C[0],u.width,L,F,ie,z+(R?0:3),h.A),t(y==F),u&&Ve(T)&&ts(ie,z,R,L,F,h.A)}return 0}function ur(u){var h=u.ma,y=h.ba.S,w=11>y,C=y==Au||y==Eu||y==Pu||y==gf||y==12||Ve(y);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!Bl(h.Oa,u,C?11:12))return 0;if(C&&Ve(y)&&Le(),u.da)alert("todo:use_scaling");else{if(w){if(h.Ib=mt,u.Kb){if(y=u.U+1>>1,h.memory=i(u.U+2*y),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+y,h.Ib=Ue,Le()}}else alert("todo:EmitYUV");C&&(h.Jb=en,w&&fe())}if(w&&!x0){for(u=0;256>u;++u)U_[u]=89858*(u-128)+Iu>>Tu,z_[u]=-22014*(u-128)+Iu,q_[u]=-45773*(u-128),M_[u]=113618*(u-128)+Iu>>Tu;for(u=Hl;u<xf;++u)h=76283*(u-16)+Iu>>Tu,$_[u-Hl]=Rn(h,255),V_[u-Hl]=Rn(h+8>>4,15);x0=1}return 1}function vr(u){var h=u.ma,y=u.U,w=u.T;return t(!(1&u.ka)),0>=y||0>=w?0:(y=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,y),h.Dc+=y,1)}function Jn(u){u.ma.memory=null}function dt(u,h,y,w){return ee(u,8)!=47?0:(h[0]=ee(u,14)+1,y[0]=ee(u,14)+1,w[0]=ee(u,1),ee(u,3)!=0?0:!u.h)}function On(u,h){if(4>u)return u+1;var y=u-2>>1;return(2+(1&u)<<y)+ee(h,y)+1}function Qn(u,h){return 120<h?h-120:1<=(y=((y=j_[h-1])>>4)*u+(8-(15&y)))?y:1;var y}function fn(u,h,y){var w=M(y),C=u[h+=255&w].g-8;return 0<C&&(J(y,y.u+8),w=M(y),h+=u[h].value,h+=w&(1<<C)-1),J(y,y.u+u[h].g),u[h].value}function be(u,h,y){return y.g+=u.g,y.value+=u.value<<h>>>0,t(8>=y.g),u.g}function Re(u,h,y){var w=u.xc;return t((h=w==0?0:u.vc[u.md*(y>>w)+(h>>w)])<u.Wb),u.Ya[h]}function We(u,h,y,w){var C=u.ab,L=u.c*h,T=u.C;h=T+h;var R=y,F=w;for(w=u.Ta,y=u.Ua;0<C--;){var z=u.gc[C],ie=T,ge=h,ve=R,de=F,Ae=(F=w,R=y,z.Ea);switch(t(ie<ge),t(ge<=z.nc),z.hc){case 2:wu(ve,de,(ge-ie)*Ae,F,R);break;case 0:var _e=ie,ae=ge,ue=F,ke=R,Ee=(Ge=z).Ea;_e==0&&(pf(ve,de,null,null,1,ue,ke),Be(ve,de+1,0,0,Ee-1,ue,ke+1),de+=Ee,ke+=Ee,++_e);for(var Ce=1<<Ge.b,Qe=Ce-1,qe=He(Ee,Ge.b),ft=Ge.K,Ge=Ge.w+(_e>>Ge.b)*qe;_e<ae;){var zt=ft,$t=Ge,Ut=1;for(ql(ve,de,ue,ke-Ee,1,ue,ke);Ut<Ee;){var Ft=(Ut&~Qe)+Ce;Ft>Ee&&(Ft=Ee),(0,ji[zt[$t++]>>8&15])(ve,de+ +Ut,ue,ke+Ut-Ee,Ft-Ut,ue,ke+Ut),Ut=Ft}de+=Ee,ke+=Ee,++_e&Qe||(Ge+=qe)}ge!=z.nc&&n(F,R-Ae,F,R+(ge-ie-1)*Ae,Ae);break;case 1:for(Ae=ve,ae=de,Ee=(ve=z.Ea)-(ke=ve&~(ue=(de=1<<z.b)-1)),_e=He(ve,z.b),Ce=z.K,z=z.w+(ie>>z.b)*_e;ie<ge;){for(Qe=Ce,qe=z,ft=new Fe,Ge=ae+ke,zt=ae+ve;ae<Ge;)qt(Qe[qe++],ft),_a(ft,Ae,ae,de,F,R),ae+=de,R+=de;ae<zt&&(qt(Qe[qe++],ft),_a(ft,Ae,ae,Ee,F,R),ae+=Ee,R+=Ee),++ie&ue||(z+=_e)}break;case 3:if(ve==F&&de==R&&0<z.b){for(ae=F,ve=Ae=R+(ge-ie)*Ae-(ke=(ge-ie)*He(z.Ea,z.b)),de=F,ue=R,_e=[],ke=(Ee=ke)-1;0<=ke;--ke)_e[ke]=de[ue+ke];for(ke=Ee-1;0<=ke;--ke)ae[ve+ke]=_e[ke];Xn(z,ie,ge,F,Ae,F,R)}else Xn(z,ie,ge,ve,de,F,R)}R=w,F=y}F!=y&&n(w,y,R,F,L)}function Te(u,h){var y=u.V,w=u.Ba+u.c*u.C,C=h-u.C;if(t(h<=u.l.o),t(16>=C),0<C){var L=u.l,T=u.Ta,R=u.Ua,F=L.width;if(We(u,C,y,w),C=R=[R],t((y=u.C)<(w=h)),t(L.v<L.va),w>L.o&&(w=L.o),y<L.j){var z=L.j-y;y=L.j,C[0]+=z*F}if(y>=w?y=0:(C[0]+=4*L.v,L.ka=y-L.j,L.U=L.va-L.v,L.T=w-y,y=1),y){if(R=R[0],11>(y=u.ca).S){var ie=y.f.RGBA,ge=(w=y.S,C=L.U,L=L.T,z=ie.eb,ie.A),ve=L;for(ie=ie.fb+u.Ma*ie.A;0<ve--;){var de=T,Ae=R,_e=C,ae=z,ue=ie;switch(w){case Cu:jn(de,Ae,_e,ae,ue);break;case Au:mn(de,Ae,_e,ae,ue);break;case vf:mn(de,Ae,_e,ae,ue),ts(ae,ue,0,_e,1,0);break;case f0:Zs(de,Ae,_e,ae,ue);break;case Eu:le(de,Ae,_e,ae,ue,1);break;case yf:le(de,Ae,_e,ae,ue,1),ts(ae,ue,0,_e,1,0);break;case Pu:le(de,Ae,_e,ae,ue,0);break;case Lu:le(de,Ae,_e,ae,ue,0),ts(ae,ue,1,_e,1,0);break;case gf:ki(de,Ae,_e,ae,ue);break;case bf:ki(de,Ae,_e,ae,ue),Qt(ae,ue,_e,1,0);break;case p0:Xs(de,Ae,_e,ae,ue);break;default:t(0)}R+=F,ie+=ge}u.Ma+=L}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=y.height)}}u.C=h,t(u.C<=u.i)}function ot(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var y=u.Ya[h].G,w=u.Ya[h].H;if(0<y[1][w[1]+0].g||0<y[2][w[2]+0].g||0<y[3][w[3]+0].g)return 0}return 1}function Oe(u,h,y,w,C,L){if(u.Z!=0){var T=u.qd,R=u.rd;for(t(Pi[u.Z]!=null);h<y;++h)Pi[u.Z](T,R,w,C,w,C,L),T=w,R=C,C+=L;u.qd=T,u.rd=R}}function ht(u,h){var y=u.l.ma,w=y.Z==0||y.Z==1?u.l.j:u.C;if(w=u.C<w?w:u.C,t(h<=u.l.o),h>w){var C=u.l.width,L=y.ca,T=y.tb+C*w,R=u.V,F=u.Ba+u.c*w,z=u.gc;t(u.ab==1),t(z[0].hc==3),xu(z[0],w,h,R,F,L,T),Oe(y,w,h,L,T,C)}u.C=u.Ma=h}function bt(u,h,y,w,C,L,T){var R=u.$/w,F=u.$%w,z=u.m,ie=u.s,ge=y+u.$,ve=ge;C=y+w*C;var de=y+w*L,Ae=280+ie.ua,_e=u.Pb?R:16777216,ae=0<ie.ua?ie.Wa:null,ue=ie.wc,ke=ge<de?Re(ie,F,R):null;t(u.C<L),t(de<=C);var Ee=!1;e:for(;;){for(;Ee||ge<de;){var Ce=0;if(R>=_e){var Qe=ge-y;t((_e=u).Pb),_e.wd=_e.m,_e.xd=Qe,0<_e.s.ua&&ye(_e.s.Wa,_e.s.vb),_e=R+C_}if(F&ue||(ke=Re(ie,F,R)),t(ke!=null),ke.Qb&&(h[ge]=ke.qb,Ee=!0),!Ee)if(se(z),ke.jc){Ce=z,Qe=h;var qe=ge,ft=ke.pd[M(Ce)&Yr-1];t(ke.jc),256>ft.g?(J(Ce,Ce.u+ft.g),Qe[qe]=ft.value,Ce=0):(J(Ce,Ce.u+ft.g-256),t(256<=ft.value),Ce=ft.value),Ce==0&&(Ee=!0)}else Ce=fn(ke.G[0],ke.H[0],z);if(z.h)break;if(Ee||256>Ce){if(!Ee)if(ke.nd)h[ge]=(ke.qb|Ce<<8)>>>0;else{if(se(z),Ee=fn(ke.G[1],ke.H[1],z),se(z),Qe=fn(ke.G[2],ke.H[2],z),qe=fn(ke.G[3],ke.H[3],z),z.h)break;h[ge]=(qe<<24|Ee<<16|Ce<<8|Qe)>>>0}if(Ee=!1,++ge,++F>=w&&(F=0,++R,T!=null&&R<=L&&!(R%16)&&T(u,R),ae!=null))for(;ve<ge;)Ce=h[ve++],ae.X[(506832829*Ce&4294967295)>>>ae.Mb]=Ce}else if(280>Ce){if(Ce=On(Ce-256,z),Qe=fn(ke.G[4],ke.H[4],z),se(z),Qe=Qn(w,Qe=On(Qe,z)),z.h)break;if(ge-y<Qe||C-ge<Ce)break e;for(qe=0;qe<Ce;++qe)h[ge+qe]=h[ge+qe-Qe];for(ge+=Ce,F+=Ce;F>=w;)F-=w,++R,T!=null&&R<=L&&!(R%16)&&T(u,R);if(t(ge<=C),F&ue&&(ke=Re(ie,F,R)),ae!=null)for(;ve<ge;)Ce=h[ve++],ae.X[(506832829*Ce&4294967295)>>>ae.Mb]=Ce}else{if(!(Ce<Ae))break e;for(Ee=Ce-280,t(ae!=null);ve<ge;)Ce=h[ve++],ae.X[(506832829*Ce&4294967295)>>>ae.Mb]=Ce;Ce=ge,t(!(Ee>>>(Qe=ae).Xa)),h[Ce]=Qe.X[Ee],Ee=!0}Ee||t(z.h==W(z))}if(u.Pb&&z.h&&ge<C)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ye(u.s.vb,u.s.Wa);else{if(z.h)break e;T!=null&&T(u,R>L?L:R),u.a=0,u.$=ge-y}return 1}return u.a=3,0}function It(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,t(u!=null)}function gt(){var u=new ff;return u==null?null:(u.a=0,u.xb=v0,$e("Predictor","VP8LPredictors"),$e("Predictor","VP8LPredictors_C"),$e("PredictorAdd","VP8LPredictorsAdd"),$e("PredictorAdd","VP8LPredictorsAdd_C"),wu=Ot,_a=ut,jn=ze,mn=gr,ki=Lt,Xs=Hr,Zs=Dt,U.VP8LMapColor32b=ho,U.VP8LMapColor8b=Nu,u)}function dr(u,h,y,w,C){var L=1,T=[u],R=[h],F=w.m,z=w.s,ie=null,ge=0;e:for(;;){if(y)for(;L&&ee(F,1);){var ve=T,de=R,Ae=w,_e=1,ae=Ae.m,ue=Ae.gc[Ae.ab],ke=ee(ae,2);if(Ae.Oc&1<<ke)L=0;else{switch(Ae.Oc|=1<<ke,ue.hc=ke,ue.Ea=ve[0],ue.nc=de[0],ue.K=[null],++Ae.ab,t(4>=Ae.ab),ke){case 0:case 1:ue.b=ee(ae,3)+2,_e=dr(He(ue.Ea,ue.b),He(ue.nc,ue.b),0,Ae,ue.K),ue.K=ue.K[0];break;case 3:var Ee,Ce=ee(ae,8)+1,Qe=16<Ce?0:4<Ce?1:2<Ce?2:3;if(ve[0]=He(ue.Ea,Qe),ue.b=Qe,Ee=_e=dr(Ce,1,0,Ae,ue.K)){var qe,ft=Ce,Ge=ue,zt=1<<(8>>Ge.b),$t=i(zt);if($t==null)Ee=0;else{var Ut=Ge.K[0],Ft=Ge.w;for($t[0]=Ge.K[0][0],qe=1;qe<1*ft;++qe)$t[qe]=Pe(Ut[Ft+qe],$t[qe-1]);for(;qe<4*zt;++qe)$t[qe]=0;Ge.K[0]=null,Ge.K[0]=$t,Ee=1}}_e=Ee;break;case 2:break;default:t(0)}L=_e}}if(T=T[0],R=R[0],L&&ee(F,1)&&!(L=1<=(ge=ee(F,4))&&11>=ge)){w.a=3;break e}var Kt;if(Kt=L)t:{var Ht,Pt,Cr,kn=w,Ar=T,Cn=R,Vt=ge,Fn=y,Bn=kn.m,zr=kn.s,Kr=[null],vn=1,ss=0,Bs=k_[Vt];r:for(;;){if(Fn&&ee(Bn,1)){var $r=ee(Bn,3)+2,ni=He(Ar,$r),ja=He(Cn,$r),vo=ni*ja;if(!dr(ni,ja,0,kn,Kr))break r;for(Kr=Kr[0],zr.xc=$r,Ht=0;Ht<vo;++Ht){var Li=Kr[Ht]>>8&65535;Kr[Ht]=Li,Li>=vn&&(vn=Li+1)}}if(Bn.h)break r;for(Pt=0;5>Pt;++Pt){var fr=m0[Pt];!Pt&&0<Vt&&(fr+=1<<Vt),ss<fr&&(ss=fr)}var Nf=a(vn*Bs,B),j0=vn,k0=a(j0,E);if(k0==null)var Ru=null;else t(65536>=j0),Ru=k0;var Yl=i(ss);if(Ru==null||Yl==null||Nf==null){kn.a=1;break r}var Du=Nf;for(Ht=Cr=0;Ht<vn;++Ht){var vs=Ru[Ht],yo=vs.G,bo=vs.H,C0=0,Fu=1,A0=0;for(Pt=0;5>Pt;++Pt){fr=m0[Pt],yo[Pt]=Du,bo[Pt]=Cr,!Pt&&0<Vt&&(fr+=1<<Vt);s:{var Bu,Sf=fr,Uu=kn,Kl=Yl,H_=Du,Y_=Cr,jf=0,Ti=Uu.m,K_=ee(Ti,1);if(s(Kl,0,0,Sf),K_){var J_=ee(Ti,1)+1,Q_=ee(Ti,1),E0=ee(Ti,Q_==0?1:8);Kl[E0]=1,J_==2&&(Kl[E0=ee(Ti,8)]=1);var Mu=1}else{var P0=i(19),L0=ee(Ti,4)+4;if(19<L0){Uu.a=3;var qu=0;break s}for(Bu=0;Bu<L0;++Bu)P0[S_[Bu]]=ee(Ti,3);var kf=void 0,Jl=void 0,T0=Uu,X_=P0,zu=Sf,I0=Kl,Cf=0,Ii=T0.m,O0=8,R0=a(128,B);n:for(;I(R0,0,7,X_,19);){if(ee(Ii,1)){var Z_=2+2*ee(Ii,3);if((kf=2+ee(Ii,Z_))>zu)break n}else kf=zu;for(Jl=0;Jl<zu&&kf--;){se(Ii);var D0=R0[0+(127&M(Ii))];J(Ii,Ii.u+D0.g);var _o=D0.value;if(16>_o)I0[Jl++]=_o,_o!=0&&(O0=_o);else{var ew=_o==16,F0=_o-16,tw=x_[F0],B0=ee(Ii,w_[F0])+tw;if(Jl+B0>zu)break n;for(var rw=ew?O0:0;0<B0--;)I0[Jl++]=rw}}Cf=1;break n}Cf||(T0.a=3),Mu=Cf}(Mu=Mu&&!Ti.h)&&(jf=I(H_,Y_,8,Kl,Sf)),Mu&&jf!=0?qu=jf:(Uu.a=3,qu=0)}if(qu==0)break r;if(Fu&&N_[Pt]==1&&(Fu=Du[Cr].g==0),C0+=Du[Cr].g,Cr+=qu,3>=Pt){var Ql,Af=Yl[0];for(Ql=1;Ql<fr;++Ql)Yl[Ql]>Af&&(Af=Yl[Ql]);A0+=Af}}if(vs.nd=Fu,vs.Qb=0,Fu&&(vs.qb=(yo[3][bo[3]+0].value<<24|yo[1][bo[1]+0].value<<16|yo[2][bo[2]+0].value)>>>0,C0==0&&256>yo[0][bo[0]+0].value&&(vs.Qb=1,vs.qb+=yo[0][bo[0]+0].value<<8)),vs.jc=!vs.Qb&&6>A0,vs.jc){var $u,si=vs;for($u=0;$u<Yr;++$u){var Oi=$u,Ri=si.pd[Oi],Vu=si.G[0][si.H[0]+Oi];256<=Vu.value?(Ri.g=Vu.g+256,Ri.value=Vu.value):(Ri.g=0,Ri.value=0,Oi>>=be(Vu,8,Ri),Oi>>=be(si.G[1][si.H[1]+Oi],16,Ri),Oi>>=be(si.G[2][si.H[2]+Oi],0,Ri),be(si.G[3][si.H[3]+Oi],24,Ri))}}}zr.vc=Kr,zr.Wb=vn,zr.Ya=Ru,zr.yc=Nf,Kt=1;break t}Kt=0}if(!(L=Kt)){w.a=3;break e}if(0<ge){if(z.ua=1<<ge,!Ye(z.Wa,ge)){w.a=1,L=0;break e}}else z.ua=0;var Ef=w,U0=T,nw=R,Pf=Ef.s,Lf=Pf.xc;if(Ef.c=U0,Ef.i=nw,Pf.md=He(U0,Lf),Pf.wc=Lf==0?-1:(1<<Lf)-1,y){w.xb=O_;break e}if((ie=i(T*R))==null){w.a=1,L=0;break e}L=(L=bt(w,ie,0,T,R,R,null))&&!F.h;break e}return L?(C!=null?C[0]=ie:(t(ie==null),t(y)),w.$=0,y||It(z)):It(z),L}function Fr(u,h){var y=u.c*u.i,w=y+h+16*h;return t(u.c<=h),u.V=i(w),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+y+h,1)}function Tr(u,h){var y=u.C,w=h-y,C=u.V,L=u.Ba+u.c*y;for(t(h<=u.l.o);0<w;){var T=16<w?16:w,R=u.l.ma,F=u.l.width,z=F*T,ie=R.ca,ge=R.tb+F*y,ve=u.Ta,de=u.Ua;We(u,T,C,L),_r(ve,de,ie,ge,z),Oe(R,y,y+T,ie,ge,F),w-=T,C+=T*u.c,y+=T}t(y==h),u.C=u.Ma=h}function Br(){this.ub=this.yd=this.td=this.Rb=0}function hs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Os(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function pn(){this.Yb=function(){var u=[];return function h(y,w,C){for(var L=C[w],T=0;T<L&&(y.push(C.length>w+1?[]:0),!(C.length<w+1));T++)h(y[T],w+1,C)}(u,0,[3,11]),u}()}function bi(){this.jb=i(3),this.Wc=o([4,8],pn),this.Xc=o([4,17],pn)}function _i(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ur(){this.ld=this.La=this.dd=this.tc=0}function Mr(){this.Na=this.la=0}function wi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wh(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ur),this.Y=0,this.ya=Array(new xl),this.aa=0,this.l=new Qa}function nu(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Hh(){this.cb=this.a=0,this.sc="",this.m=new we,this.Od=new Br,this.Kc=new hs,this.ed=new _i,this.Qa=new Os,this.Ic=this.$c=this.Aa=0,this.D=new Wh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,we),this.ia=0,this.pb=a(4,wi),this.Pa=new bi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new nu),this.Hd=0,this.rb=Array(new Mr),this.sb=0,this.wa=Array(new Ur),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xl),this.L=this.aa=0,this.gd=o([4,2],Ur),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Yh(){var u=new Hh;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Wl||(Wl=au)),u}function yr(u,h,y){return u.a==0&&(u.a=h,u.sc=y,u.cb=0),0}function su(u,h,y){return 3<=y&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function iu(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return yr(u,2,"null VP8Io passed to VP8GetHeaders()");var y=h.data,w=h.w,C=h.ha;if(4>C)return yr(u,7,"Truncated header.");var L=y[w+0]|y[w+1]<<8|y[w+2]<<16,T=u.Od;if(T.Rb=!(1&L),T.td=L>>1&7,T.yd=L>>4&1,T.ub=L>>5,3<T.td)return yr(u,3,"Incorrect keyframe parameters.");if(!T.yd)return yr(u,4,"Frame not displayable.");w+=3,C-=3;var R=u.Kc;if(T.Rb){if(7>C)return yr(u,7,"cannot parse picture header");if(!su(y,w,C))return yr(u,3,"Bad code word");R.c=16383&(y[w+4]<<8|y[w+3]),R.Td=y[w+4]>>6,R.i=16383&(y[w+6]<<8|y[w+5]),R.Ud=y[w+6]>>6,w+=7,C-=7,u.za=R.c+15>>4,u.Ub=R.i+15>>4,h.width=R.c,h.height=R.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,s((L=u.Pa).jb,0,255,L.jb.length),t((L=u.Qa)!=null),L.Cb=0,L.Bb=0,L.Fb=1,s(L.Zb,0,0,L.Zb.length),s(L.Lb,0,0,L.Lb)}if(T.ub>C)return yr(u,7,"bad partition length");oe(L=u.m,y,w,T.ub),w+=T.ub,C-=T.ub,T.Rb&&(R.Ld=pe(L),R.Kd=pe(L)),R=u.Qa;var F,z=u.Pa;if(t(L!=null),t(R!=null),R.Cb=pe(L),R.Cb){if(R.Bb=pe(L),pe(L)){for(R.Fb=pe(L),F=0;4>F;++F)R.Zb[F]=pe(L)?me(L,7):0;for(F=0;4>F;++F)R.Lb[F]=pe(L)?me(L,6):0}if(R.Bb)for(F=0;3>F;++F)z.jb[F]=pe(L)?ce(L,8):255}else R.Bb=0;if(L.Ka)return yr(u,3,"cannot parse segment header");if((R=u.ed).zd=pe(L),R.Tb=ce(L,6),R.wb=ce(L,3),R.Pc=pe(L),R.Pc&&pe(L)){for(z=0;4>z;++z)pe(L)&&(R.vd[z]=me(L,6));for(z=0;4>z;++z)pe(L)&&(R.od[z]=me(L,6))}if(u.L=R.Tb==0?0:R.zd?1:2,L.Ka)return yr(u,3,"cannot parse filter header");var ie=C;if(C=F=w,w=F+ie,R=ie,u.Xb=(1<<ce(u.m,2))-1,ie<3*(z=u.Xb))y=7;else{for(F+=3*z,R-=3*z,ie=0;ie<z;++ie){var ge=y[C+0]|y[C+1]<<8|y[C+2]<<16;ge>R&&(ge=R),oe(u.Jc[+ie],y,F,ge),F+=ge,R-=ge,C+=3}oe(u.Jc[+z],y,F,R),y=F<w?0:5}if(y!=0)return yr(u,y,"cannot parse partitions");for(y=ce(F=u.m,7),C=pe(F)?me(F,4):0,w=pe(F)?me(F,4):0,R=pe(F)?me(F,4):0,z=pe(F)?me(F,4):0,F=pe(F)?me(F,4):0,ie=u.Qa,ge=0;4>ge;++ge){if(ie.Cb){var ve=ie.Zb[ge];ie.Fb||(ve+=y)}else{if(0<ge){u.pb[ge]=u.pb[0];continue}ve=y}var de=u.pb[ge];de.Sc[0]=_f[Rn(ve+C,127)],de.Sc[1]=wf[Rn(ve+0,127)],de.Eb[0]=2*_f[Rn(ve+w,127)],de.Eb[1]=101581*wf[Rn(ve+R,127)]>>16,8>de.Eb[1]&&(de.Eb[1]=8),de.Qc[0]=_f[Rn(ve+z,117)],de.Qc[1]=wf[Rn(ve+F,127)],de.lc=ve+F}if(!T.Rb)return yr(u,4,"Not a key frame.");for(pe(L),T=u.Pa,y=0;4>y;++y){for(C=0;8>C;++C)for(w=0;3>w;++w)for(R=0;11>R;++R)z=q(L,T_[y][C][w][R])?ce(L,8):P_[y][C][w][R],T.Wc[y][C].Yb[w][R]=z;for(C=0;17>C;++C)T.Xc[y][C]=T.Wc[y][I_[C]]}return u.kc=pe(L),u.kc&&(u.Bd=ce(L,8)),u.cb=1}function au(u,h,y,w,C,L,T){var R=h[C].Yb[y];for(y=0;16>C;++C){if(!q(u,R[y+0]))return C;for(;!q(u,R[y+1]);)if(R=h[++C].Yb[0],y=0,C==16)return 16;var F=h[C+1].Yb;if(q(u,R[y+2])){var z=u,ie=0;if(q(z,(ve=R)[(ge=y)+3]))if(q(z,ve[ge+6])){for(R=0,ge=2*(ie=q(z,ve[ge+8]))+(ve=q(z,ve[ge+9+ie])),ie=0,ve=A_[ge];ve[R];++R)ie+=ie+q(z,ve[R]);ie+=3+(8<<ge)}else q(z,ve[ge+7])?(ie=7+2*q(z,165),ie+=q(z,145)):ie=5+q(z,159);else ie=q(z,ve[ge+4])?3+q(z,ve[ge+5]):2;R=F[2]}else ie=1,R=F[1];F=T+E_[C],0>(z=u).b&&he(z);var ge,ve=z.b,de=(ge=z.Ca>>1)-(z.I>>ve)>>31;--z.b,z.Ca+=de,z.Ca|=1,z.I-=(ge+1&de)<<ve,L[F]=((ie^de)-de)*w[(0<C)+0]}return 16}function Nl(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,s(u.zc,0,0,u.zc.length),u.ja=0}function Kh(u,h){if(u==null)return 0;if(h==null)return yr(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!iu(u,h))return 0;if(t(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var y=Ou[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-y>>4,u.zb=h.j-y>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+y>>4,u.Hb=h.va+15+y>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var w=u.ed;for(y=0;4>y;++y){var C;if(u.Qa.Cb){var L=u.Qa.Lb[y];u.Qa.Fb||(L+=w.Tb)}else L=w.Tb;for(C=0;1>=C;++C){var T=u.gd[y][C],R=L;if(w.Pc&&(R+=w.vd[0],C&&(R+=w.od[0])),0<(R=0>R?0:63<R?63:R)){var F=R;0<w.wb&&(F=4<w.wb?F>>2:F>>1)>9-w.wb&&(F=9-w.wb),1>F&&(F=1),T.dd=F,T.tc=2*R+F,T.ld=40<=R?2:15<=R?1:0}else T.tc=0;T.La=C}}}y=0}else yr(u,6,"Frame setup failed"),y=u.a;if(y=y==0){if(y){u.$c=0,0<u.Aa||(u.Ic=W_);e:{y=u.Ic,w=4*(F=u.za);var z=32*F,ie=F+1,ge=0<u.L?F*(0<u.Aa?2:1):0,ve=(u.Aa==2?2:1)*F;if((T=w+832+(C=3*(16*y+Ou[u.L])/2*z)+(L=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=T)y=0;else{if(T>u.Vb){if(u.Vb=0,u.Ec=i(T),u.Fc=0,u.Ec==null){y=yr(u,1,"no memory during frame initialization.");break e}u.Vb=T}T=u.Ec,R=u.Fc,u.Ac=T,u.Bc=R,R+=w,u.Gd=a(z,nu),u.Hd=0,u.rb=a(ie+1,Mr),u.sb=1,u.wa=ge?a(ge,Ur):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=F),t(!0),u.oc=T,u.pc=R,R+=832,u.ya=a(ve,xl),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=F),u.R=16*F,u.B=8*F,F=(z=Ou[u.L])*u.R,z=z/2*u.B,u.sa=T,u.ta=R+F,u.qa=u.sa,u.ra=u.ta+16*y*u.R+z,u.Ha=u.qa,u.Ia=u.ra+8*y*u.B+z,u.$c=0,R+=C,u.mb=L?T:null,u.nb=L?R:null,t(R+L<=u.Fc+u.Vb),Nl(u),s(u.Ac,u.Bc,0,w),y=1}}if(y){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!ju){for(y=-255;255>=y;++y)Ir[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)ti[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)Gl[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)go[255+y]=0>y?0:255<y?255:y;ju=1}fo=Xh,ei=Jh,zl=lu,gn=Qh,Zn=cu,br=ou,po=El,Su=ya,$l=hf,wa=Pl,xa=df,Ci=no,Na=Ll,mo=yu,Sa=vu,Ai=Ds,Vl=Qs,es=uf,gs[0]=Rs,gs[1]=Zh,gs[2]=nf,gs[3]=sf,gs[4]=hu,gs[5]=to,gs[6]=fu,gs[7]=kl,gs[8]=of,gs[9]=af,Ei[0]=uu,Ei[1]=tf,Ei[2]=Js,Ei[3]=Za,Ei[4]=tn,Ei[5]=rf,Ei[6]=du,ri[0]=xi,ri[1]=ef,ri[2]=lf,ri[3]=Cl,ri[4]=va,ri[5]=cf,ri[6]=Al,y=1}else y=0}y&&(y=function(de,Ae){for(de.M=0;de.M<de.Va;++de.M){var _e,ae=de.Jc[de.M&de.Xb],ue=de.m,ke=de;for(_e=0;_e<ke.za;++_e){var Ee=ue,Ce=ke,Qe=Ce.Ac,qe=Ce.Bc+4*_e,ft=Ce.zc,Ge=Ce.ya[Ce.aa+_e];if(Ce.Qa.Bb?Ge.$b=q(Ee,Ce.Pa.jb[0])?2+q(Ee,Ce.Pa.jb[2]):q(Ee,Ce.Pa.jb[1]):Ge.$b=0,Ce.kc&&(Ge.Ad=q(Ee,Ce.Bd)),Ge.Za=!q(Ee,145)+0,Ge.Za){var zt=Ge.Ob,$t=0;for(Ce=0;4>Ce;++Ce){var Ut,Ft=ft[0+Ce];for(Ut=0;4>Ut;++Ut){Ft=L_[Qe[qe+Ut]][Ft];for(var Kt=g0[q(Ee,Ft[0])];0<Kt;)Kt=g0[2*Kt+q(Ee,Ft[Kt])];Ft=-Kt,Qe[qe+Ut]=Ft}n(zt,$t,Qe,qe,4),$t+=4,ft[0+Ce]=Ft}}else Ft=q(Ee,156)?q(Ee,128)?1:3:q(Ee,163)?2:0,Ge.Ob[0]=Ft,s(Qe,qe,Ft,4),s(ft,0,Ft,4);Ge.Dd=q(Ee,142)?q(Ee,114)?q(Ee,183)?1:3:2:0}if(ke.m.Ka)return yr(de,7,"Premature end-of-partition0 encountered.");for(;de.ja<de.za;++de.ja){if(ke=ae,Ee=(ue=de).rb[ue.sb-1],Qe=ue.rb[ue.sb+ue.ja],_e=ue.ya[ue.aa+ue.ja],qe=ue.kc?_e.Ad:0)Ee.la=Qe.la=0,_e.Za||(Ee.Na=Qe.Na=0),_e.Hc=0,_e.Gc=0,_e.ia=0;else{var Ht,Pt;if(Ee=Qe,Qe=ke,qe=ue.Pa.Xc,ft=ue.ya[ue.aa+ue.ja],Ge=ue.pb[ft.$b],Ce=ft.ad,zt=0,$t=ue.rb[ue.sb-1],Ft=Ut=0,s(Ce,zt,0,384),ft.Za)var Cr=0,kn=qe[3];else{Kt=i(16);var Ar=Ee.Na+$t.Na;if(Ar=Wl(Qe,qe[1],Ar,Ge.Eb,0,Kt,0),Ee.Na=$t.Na=(0<Ar)+0,1<Ar)fo(Kt,0,Ce,zt);else{var Cn=Kt[0]+3>>3;for(Kt=0;256>Kt;Kt+=16)Ce[zt+Kt]=Cn}Cr=1,kn=qe[0]}var Vt=15&Ee.la,Fn=15&$t.la;for(Kt=0;4>Kt;++Kt){var Bn=1&Fn;for(Cn=Pt=0;4>Cn;++Cn)Vt=Vt>>1|(Bn=(Ar=Wl(Qe,kn,Ar=Bn+(1&Vt),Ge.Sc,Cr,Ce,zt))>Cr)<<7,Pt=Pt<<2|(3<Ar?3:1<Ar?2:Ce[zt+0]!=0),zt+=16;Vt>>=4,Fn=Fn>>1|Bn<<7,Ut=(Ut<<8|Pt)>>>0}for(kn=Vt,Cr=Fn>>4,Ht=0;4>Ht;Ht+=2){for(Pt=0,Vt=Ee.la>>4+Ht,Fn=$t.la>>4+Ht,Kt=0;2>Kt;++Kt){for(Bn=1&Fn,Cn=0;2>Cn;++Cn)Ar=Bn+(1&Vt),Vt=Vt>>1|(Bn=0<(Ar=Wl(Qe,qe[2],Ar,Ge.Qc,0,Ce,zt)))<<3,Pt=Pt<<2|(3<Ar?3:1<Ar?2:Ce[zt+0]!=0),zt+=16;Vt>>=2,Fn=Fn>>1|Bn<<5}Ft|=Pt<<4*Ht,kn|=Vt<<4<<Ht,Cr|=(240&Fn)<<Ht}Ee.la=kn,$t.la=Cr,ft.Hc=Ut,ft.Gc=Ft,ft.ia=43690&Ft?0:Ge.ia,qe=!(Ut|Ft)}if(0<ue.L&&(ue.wa[ue.Y+ue.ja]=ue.gd[_e.$b][_e.Za],ue.wa[ue.Y+ue.ja].La|=!qe),ke.Ka)return yr(de,7,"Premature end-of-file encountered.")}if(Nl(de),ue=Ae,ke=1,_e=(ae=de).D,Ee=0<ae.L&&ae.M>=ae.zb&&ae.M<=ae.Va,ae.Aa==0)e:{if(_e.M=ae.M,_e.uc=Ee,Fl(ae,_e),ke=1,_e=(Pt=ae.D).Nb,Ee=(Ft=Ou[ae.L])*ae.R,Qe=Ft/2*ae.B,Kt=16*_e*ae.R,Cn=8*_e*ae.B,qe=ae.sa,ft=ae.ta-Ee+Kt,Ge=ae.qa,Ce=ae.ra-Qe+Cn,zt=ae.Ha,$t=ae.Ia-Qe+Cn,Fn=(Vt=Pt.M)==0,Ut=Vt>=ae.Va-1,ae.Aa==2&&Fl(ae,Pt),Pt.uc)for(Bn=(Ar=ae).D.M,t(Ar.D.uc),Pt=Ar.yb;Pt<Ar.Hb;++Pt){Cr=Pt,kn=Bn;var zr=(Kr=(fr=Ar).D).Nb;Ht=fr.R;var Kr=Kr.wa[Kr.Y+Cr],vn=fr.sa,ss=fr.ta+16*zr*Ht+16*Cr,Bs=Kr.dd,$r=Kr.tc;if($r!=0)if(t(3<=$r),fr.L==1)0<Cr&&Ai(vn,ss,Ht,$r+4),Kr.La&&es(vn,ss,Ht,$r),0<kn&&Sa(vn,ss,Ht,$r+4),Kr.La&&Vl(vn,ss,Ht,$r);else{var ni=fr.B,ja=fr.qa,vo=fr.ra+8*zr*ni+8*Cr,Li=fr.Ha,fr=fr.Ia+8*zr*ni+8*Cr;zr=Kr.ld,0<Cr&&(Su(vn,ss,Ht,$r+4,Bs,zr),wa(ja,vo,Li,fr,ni,$r+4,Bs,zr)),Kr.La&&(Ci(vn,ss,Ht,$r,Bs,zr),mo(ja,vo,Li,fr,ni,$r,Bs,zr)),0<kn&&(po(vn,ss,Ht,$r+4,Bs,zr),$l(ja,vo,Li,fr,ni,$r+4,Bs,zr)),Kr.La&&(xa(vn,ss,Ht,$r,Bs,zr),Na(ja,vo,Li,fr,ni,$r,Bs,zr))}}if(ae.ia&&alert("todo:DitherRow"),ue.put!=null){if(Pt=16*Vt,Vt=16*(Vt+1),Fn?(ue.y=ae.sa,ue.O=ae.ta+Kt,ue.f=ae.qa,ue.N=ae.ra+Cn,ue.ea=ae.Ha,ue.W=ae.Ia+Cn):(Pt-=Ft,ue.y=qe,ue.O=ft,ue.f=Ge,ue.N=Ce,ue.ea=zt,ue.W=$t),Ut||(Vt-=Ft),Vt>ue.o&&(Vt=ue.o),ue.F=null,ue.J=null,ae.Fa!=null&&0<ae.Fa.length&&Pt<Vt&&(ue.J=Rl(ae,ue,Pt,Vt-Pt),ue.F=ae.mb,ue.F==null&&ue.F.length==0)){ke=yr(ae,3,"Could not decode alpha data.");break e}Pt<ue.j&&(Ft=ue.j-Pt,Pt=ue.j,t(!(1&Ft)),ue.O+=ae.R*Ft,ue.N+=ae.B*(Ft>>1),ue.W+=ae.B*(Ft>>1),ue.F!=null&&(ue.J+=ue.width*Ft)),Pt<Vt&&(ue.O+=ue.v,ue.N+=ue.v>>1,ue.W+=ue.v>>1,ue.F!=null&&(ue.J+=ue.v),ue.ka=Pt-ue.j,ue.U=ue.va-ue.v,ue.T=Vt-Pt,ke=ue.put(ue))}_e+1!=ae.Ic||Ut||(n(ae.sa,ae.ta-Ee,qe,ft+16*ae.R,Ee),n(ae.qa,ae.ra-Qe,Ge,Ce+8*ae.B,Qe),n(ae.Ha,ae.Ia-Qe,zt,$t+8*ae.B,Qe))}if(!ke)return yr(de,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),y&=1}return y?(u.cb=0,y):0}function fs(u,h,y,w,C){C=u[h+y+32*w]+(C>>3),u[h+y+32*w]=-256&C?0>C?0:255:C}function Xa(u,h,y,w,C,L){fs(u,h,0,y,w+C),fs(u,h,1,y,w+L),fs(u,h,2,y,w-L),fs(u,h,3,y,w-C)}function Nn(u){return(20091*u>>16)+u}function Sl(u,h,y,w){var C,L=0,T=i(16);for(C=0;4>C;++C){var R=u[h+0]+u[h+8],F=u[h+0]-u[h+8],z=(35468*u[h+4]>>16)-Nn(u[h+12]),ie=Nn(u[h+4])+(35468*u[h+12]>>16);T[L+0]=R+ie,T[L+1]=F+z,T[L+2]=F-z,T[L+3]=R-ie,L+=4,h++}for(C=L=0;4>C;++C)R=(u=T[L+0]+4)+T[L+8],F=u-T[L+8],z=(35468*T[L+4]>>16)-Nn(T[L+12]),fs(y,w,0,0,R+(ie=Nn(T[L+4])+(35468*T[L+12]>>16))),fs(y,w,1,0,F+z),fs(y,w,2,0,F-z),fs(y,w,3,0,R-ie),L++,w+=32}function ou(u,h,y,w){var C=u[h+0]+4,L=35468*u[h+4]>>16,T=Nn(u[h+4]),R=35468*u[h+1]>>16;Xa(y,w,0,C+T,u=Nn(u[h+1]),R),Xa(y,w,1,C+L,u,R),Xa(y,w,2,C-L,u,R),Xa(y,w,3,C-T,u,R)}function Jh(u,h,y,w,C){Sl(u,h,y,w),C&&Sl(u,h+16,y,w+4)}function lu(u,h,y,w){ei(u,h+0,y,w,1),ei(u,h+32,y,w+128,1)}function Qh(u,h,y,w){var C;for(u=u[h+0]+4,C=0;4>C;++C)for(h=0;4>h;++h)fs(y,w,h,C,u)}function cu(u,h,y,w){u[h+0]&&gn(u,h+0,y,w),u[h+16]&&gn(u,h+16,y,w+4),u[h+32]&&gn(u,h+32,y,w+128),u[h+48]&&gn(u,h+48,y,w+128+4)}function Xh(u,h,y,w){var C,L=i(16);for(C=0;4>C;++C){var T=u[h+0+C]+u[h+12+C],R=u[h+4+C]+u[h+8+C],F=u[h+4+C]-u[h+8+C],z=u[h+0+C]-u[h+12+C];L[0+C]=T+R,L[8+C]=T-R,L[4+C]=z+F,L[12+C]=z-F}for(C=0;4>C;++C)T=(u=L[0+4*C]+3)+L[3+4*C],R=L[1+4*C]+L[2+4*C],F=L[1+4*C]-L[2+4*C],z=u-L[3+4*C],y[w+0]=T+R>>3,y[w+16]=z+F>>3,y[w+32]=T-R>>3,y[w+48]=z-F>>3,w+=64}function jl(u,h,y){var w,C=h-32,L=Dn,T=255-u[C-1];for(w=0;w<y;++w){var R,F=L,z=T+u[h-1];for(R=0;R<y;++R)u[h+R]=F[z+u[C+R]];h+=32}}function Zh(u,h){jl(u,h,4)}function ef(u,h){jl(u,h,8)}function tf(u,h){jl(u,h,16)}function Js(u,h){var y;for(y=0;16>y;++y)n(u,h+32*y,u,h-32,16)}function Za(u,h){var y;for(y=16;0<y;--y)s(u,h,u[h-1],16),h+=32}function eo(u,h,y){var w;for(w=0;16>w;++w)s(h,y+32*w,u,16)}function uu(u,h){var y,w=16;for(y=0;16>y;++y)w+=u[h-1+32*y]+u[h+y-32];eo(w>>5,u,h)}function tn(u,h){var y,w=8;for(y=0;16>y;++y)w+=u[h-1+32*y];eo(w>>4,u,h)}function rf(u,h){var y,w=8;for(y=0;16>y;++y)w+=u[h+y-32];eo(w>>4,u,h)}function du(u,h){eo(128,u,h)}function Nt(u,h,y){return u+2*h+y+2>>2}function nf(u,h){var y,w=h-32;for(w=new Uint8Array([Nt(u[w-1],u[w+0],u[w+1]),Nt(u[w+0],u[w+1],u[w+2]),Nt(u[w+1],u[w+2],u[w+3]),Nt(u[w+2],u[w+3],u[w+4])]),y=0;4>y;++y)n(u,h+32*y,w,0,w.length)}function sf(u,h){var y=u[h-1],w=u[h-1+32],C=u[h-1+64],L=u[h-1+96];G(u,h+0,16843009*Nt(u[h-1-32],y,w)),G(u,h+32,16843009*Nt(y,w,C)),G(u,h+64,16843009*Nt(w,C,L)),G(u,h+96,16843009*Nt(C,L,L))}function Rs(u,h){var y,w=4;for(y=0;4>y;++y)w+=u[h+y-32]+u[h-1+32*y];for(w>>=3,y=0;4>y;++y)s(u,h+32*y,w,4)}function hu(u,h){var y=u[h-1+0],w=u[h-1+32],C=u[h-1+64],L=u[h-1-32],T=u[h+0-32],R=u[h+1-32],F=u[h+2-32],z=u[h+3-32];u[h+0+96]=Nt(w,C,u[h-1+96]),u[h+1+96]=u[h+0+64]=Nt(y,w,C),u[h+2+96]=u[h+1+64]=u[h+0+32]=Nt(L,y,w),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=Nt(T,L,y),u[h+3+64]=u[h+2+32]=u[h+1+0]=Nt(R,T,L),u[h+3+32]=u[h+2+0]=Nt(F,R,T),u[h+3+0]=Nt(z,F,R)}function fu(u,h){var y=u[h+1-32],w=u[h+2-32],C=u[h+3-32],L=u[h+4-32],T=u[h+5-32],R=u[h+6-32],F=u[h+7-32];u[h+0+0]=Nt(u[h+0-32],y,w),u[h+1+0]=u[h+0+32]=Nt(y,w,C),u[h+2+0]=u[h+1+32]=u[h+0+64]=Nt(w,C,L),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=Nt(C,L,T),u[h+3+32]=u[h+2+64]=u[h+1+96]=Nt(L,T,R),u[h+3+64]=u[h+2+96]=Nt(T,R,F),u[h+3+96]=Nt(R,F,F)}function to(u,h){var y=u[h-1+0],w=u[h-1+32],C=u[h-1+64],L=u[h-1-32],T=u[h+0-32],R=u[h+1-32],F=u[h+2-32],z=u[h+3-32];u[h+0+0]=u[h+1+64]=L+T+1>>1,u[h+1+0]=u[h+2+64]=T+R+1>>1,u[h+2+0]=u[h+3+64]=R+F+1>>1,u[h+3+0]=F+z+1>>1,u[h+0+96]=Nt(C,w,y),u[h+0+64]=Nt(w,y,L),u[h+0+32]=u[h+1+96]=Nt(y,L,T),u[h+1+32]=u[h+2+96]=Nt(L,T,R),u[h+2+32]=u[h+3+96]=Nt(T,R,F),u[h+3+32]=Nt(R,F,z)}function kl(u,h){var y=u[h+0-32],w=u[h+1-32],C=u[h+2-32],L=u[h+3-32],T=u[h+4-32],R=u[h+5-32],F=u[h+6-32],z=u[h+7-32];u[h+0+0]=y+w+1>>1,u[h+1+0]=u[h+0+64]=w+C+1>>1,u[h+2+0]=u[h+1+64]=C+L+1>>1,u[h+3+0]=u[h+2+64]=L+T+1>>1,u[h+0+32]=Nt(y,w,C),u[h+1+32]=u[h+0+96]=Nt(w,C,L),u[h+2+32]=u[h+1+96]=Nt(C,L,T),u[h+3+32]=u[h+2+96]=Nt(L,T,R),u[h+3+64]=Nt(T,R,F),u[h+3+96]=Nt(R,F,z)}function af(u,h){var y=u[h-1+0],w=u[h-1+32],C=u[h-1+64],L=u[h-1+96];u[h+0+0]=y+w+1>>1,u[h+2+0]=u[h+0+32]=w+C+1>>1,u[h+2+32]=u[h+0+64]=C+L+1>>1,u[h+1+0]=Nt(y,w,C),u[h+3+0]=u[h+1+32]=Nt(w,C,L),u[h+3+32]=u[h+1+64]=Nt(C,L,L),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=L}function of(u,h){var y=u[h-1+0],w=u[h-1+32],C=u[h-1+64],L=u[h-1+96],T=u[h-1-32],R=u[h+0-32],F=u[h+1-32],z=u[h+2-32];u[h+0+0]=u[h+2+32]=y+T+1>>1,u[h+0+32]=u[h+2+64]=w+y+1>>1,u[h+0+64]=u[h+2+96]=C+w+1>>1,u[h+0+96]=L+C+1>>1,u[h+3+0]=Nt(R,F,z),u[h+2+0]=Nt(T,R,F),u[h+1+0]=u[h+3+32]=Nt(y,T,R),u[h+1+32]=u[h+3+64]=Nt(w,y,T),u[h+1+64]=u[h+3+96]=Nt(C,w,y),u[h+1+96]=Nt(L,C,w)}function lf(u,h){var y;for(y=0;8>y;++y)n(u,h+32*y,u,h-32,8)}function Cl(u,h){var y;for(y=0;8>y;++y)s(u,h,u[h-1],8),h+=32}function ga(u,h,y){var w;for(w=0;8>w;++w)s(h,y+32*w,u,8)}function xi(u,h){var y,w=8;for(y=0;8>y;++y)w+=u[h+y-32]+u[h-1+32*y];ga(w>>4,u,h)}function cf(u,h){var y,w=4;for(y=0;8>y;++y)w+=u[h+y-32];ga(w>>3,u,h)}function va(u,h){var y,w=4;for(y=0;8>y;++y)w+=u[h-1+32*y];ga(w>>3,u,h)}function Al(u,h){ga(128,u,h)}function ro(u,h,y){var w=u[h-y],C=u[h+0],L=3*(C-w)+mf[1020+u[h-2*y]-u[h+y]],T=ku[112+(L+4>>3)];u[h-y]=Dn[255+w+ku[112+(L+3>>3)]],u[h+0]=Dn[255+C-T]}function pu(u,h,y,w){var C=u[h+0],L=u[h+y];return rs[255+u[h-2*y]-u[h-y]]>w||rs[255+L-C]>w}function mu(u,h,y,w){return 4*rs[255+u[h-y]-u[h+0]]+rs[255+u[h-2*y]-u[h+y]]<=w}function gu(u,h,y,w,C){var L=u[h-3*y],T=u[h-2*y],R=u[h-y],F=u[h+0],z=u[h+y],ie=u[h+2*y],ge=u[h+3*y];return 4*rs[255+R-F]+rs[255+T-z]>w?0:rs[255+u[h-4*y]-L]<=C&&rs[255+L-T]<=C&&rs[255+T-R]<=C&&rs[255+ge-ie]<=C&&rs[255+ie-z]<=C&&rs[255+z-F]<=C}function vu(u,h,y,w){var C=2*w+1;for(w=0;16>w;++w)mu(u,h+w,y,C)&&ro(u,h+w,y)}function Ds(u,h,y,w){var C=2*w+1;for(w=0;16>w;++w)mu(u,h+w*y,1,C)&&ro(u,h+w*y,1)}function Qs(u,h,y,w){var C;for(C=3;0<C;--C)vu(u,h+=4*y,y,w)}function uf(u,h,y,w){var C;for(C=3;0<C;--C)Ds(u,h+=4,y,w)}function Ni(u,h,y,w,C,L,T,R){for(L=2*L+1;0<C--;){if(gu(u,h,y,L,T))if(pu(u,h,y,R))ro(u,h,y);else{var F=u,z=h,ie=y,ge=F[z-2*ie],ve=F[z-ie],de=F[z+0],Ae=F[z+ie],_e=F[z+2*ie],ae=27*(ke=mf[1020+3*(de-ve)+mf[1020+ge-Ae]])+63>>7,ue=18*ke+63>>7,ke=9*ke+63>>7;F[z-3*ie]=Dn[255+F[z-3*ie]+ke],F[z-2*ie]=Dn[255+ge+ue],F[z-ie]=Dn[255+ve+ae],F[z+0]=Dn[255+de-ae],F[z+ie]=Dn[255+Ae-ue],F[z+2*ie]=Dn[255+_e-ke]}h+=w}}function ps(u,h,y,w,C,L,T,R){for(L=2*L+1;0<C--;){if(gu(u,h,y,L,T))if(pu(u,h,y,R))ro(u,h,y);else{var F=u,z=h,ie=y,ge=F[z-ie],ve=F[z+0],de=F[z+ie],Ae=ku[112+((_e=3*(ve-ge))+4>>3)],_e=ku[112+(_e+3>>3)],ae=Ae+1>>1;F[z-2*ie]=Dn[255+F[z-2*ie]+ae],F[z-ie]=Dn[255+ge+_e],F[z+0]=Dn[255+ve-Ae],F[z+ie]=Dn[255+de-ae]}h+=w}}function El(u,h,y,w,C,L){Ni(u,h,y,1,16,w,C,L)}function ya(u,h,y,w,C,L){Ni(u,h,1,y,16,w,C,L)}function df(u,h,y,w,C,L){var T;for(T=3;0<T;--T)ps(u,h+=4*y,y,1,16,w,C,L)}function no(u,h,y,w,C,L){var T;for(T=3;0<T;--T)ps(u,h+=4,1,y,16,w,C,L)}function hf(u,h,y,w,C,L,T,R){Ni(u,h,C,1,8,L,T,R),Ni(y,w,C,1,8,L,T,R)}function Pl(u,h,y,w,C,L,T,R){Ni(u,h,1,C,8,L,T,R),Ni(y,w,1,C,8,L,T,R)}function Ll(u,h,y,w,C,L,T,R){ps(u,h+4*C,C,1,8,L,T,R),ps(y,w+4*C,C,1,8,L,T,R)}function yu(u,h,y,w,C,L,T,R){ps(u,h+4,1,C,8,L,T,R),ps(y,w+4,1,C,8,L,T,R)}function so(){this.ba=new yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ct,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Tl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Il(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bu(){this.ua=0,this.Wa=new Y,this.vb=new Y,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new E,this.yc=new B}function ff(){this.xb=this.a=0,this.l=new Qa,this.ca=new yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bu,this.ab=0,this.gc=a(4,Il),this.Oc=0}function io(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ba(u,h,y,w,C,L,T){for(u=u==null?0:u[h+0],h=0;h<T;++h)C[L+h]=u+y[w+h]&255,u=C[L+h]}function Ol(u,h,y,w,C,L,T){var R;if(u==null)ba(null,null,y,w,C,L,T);else for(R=0;R<T;++R)C[L+R]=u[h+R]+y[w+R]&255}function Si(u,h,y,w,C,L,T){if(u==null)ba(null,null,y,w,C,L,T);else{var R,F=u[h+0],z=F,ie=F;for(R=0;R<T;++R)z=ie+(F=u[h+R])-z,ie=y[w+R]+(-256&z?0>z?0:255:z)&255,z=F,C[L+R]=ie}}function Rl(u,h,y,w){var C=h.width,L=h.o;if(t(u!=null&&h!=null),0>y||0>=w||y+w>L)return null;if(!u.Cc){if(u.ga==null){var T;if(u.ga=new io,(T=u.ga==null)||(T=h.width*h.o,t(u.Gb.length==0),u.Gb=i(T),u.Uc=0,u.Gb==null?T=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,T=1),T=!T),!T){T=u.ga;var R=u.Fa,F=u.P,z=u.qc,ie=u.mb,ge=u.nb,ve=F+1,de=z-1,Ae=T.l;if(t(R!=null&&ie!=null&&h!=null),Pi[0]=null,Pi[1]=ba,Pi[2]=Ol,Pi[3]=Si,T.ca=ie,T.tb=ge,T.c=h.width,T.i=h.height,t(0<T.c&&0<T.i),1>=z)h=0;else if(T.$a=R[F+0]>>0&3,T.Z=R[F+0]>>2&3,T.Lc=R[F+0]>>4&3,F=R[F+0]>>6&3,0>T.$a||1<T.$a||4<=T.Z||1<T.Lc||F)h=0;else if(Ae.put=vr,Ae.ac=ur,Ae.bc=Jn,Ae.ma=T,Ae.width=h.width,Ae.height=h.height,Ae.Da=h.Da,Ae.v=h.v,Ae.va=h.va,Ae.j=h.j,Ae.o=h.o,T.$a)e:{t(T.$a==1),h=gt();t:for(;;){if(h==null){h=0;break e}if(t(T!=null),T.mc=h,h.c=T.c,h.i=T.i,h.l=T.l,h.l.ma=T,h.l.width=T.c,h.l.height=T.i,h.a=0,D(h.m,R,ve,de),!dr(T.c,T.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&ot(h.s)?(T.ic=1,R=h.c*h.i,h.Ta=null,h.Ua=0,h.V=i(R),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(T.ic=0,h=Fr(h,T.c)),!h))break t;h=1;break e}T.mc=null,h=0}else h=de>=T.c*T.i;T=!h}if(T)return null;u.ga.Lc!=1?u.Ga=0:w=L-y}t(u.ga!=null),t(y+w<=L);e:{if(h=(R=u.ga).c,L=R.l.o,R.$a==0){if(ve=u.rc,de=u.Vc,Ae=u.Fa,F=u.P+1+y*h,z=u.mb,ie=u.nb+y*h,t(F<=u.P+u.qc),R.Z!=0)for(t(Pi[R.Z]!=null),T=0;T<w;++T)Pi[R.Z](ve,de,Ae,F,z,ie,h),ve=z,de=ie,ie+=h,F+=h;else for(T=0;T<w;++T)n(z,ie,Ae,F,h),ve=z,de=ie,ie+=h,F+=h;u.rc=ve,u.Vc=de}else{if(t(R.mc!=null),h=y+w,t((T=R.mc)!=null),t(h<=T.i),T.C>=h)h=1;else if(R.ic||fe(),R.ic){R=T.V,ve=T.Ba,de=T.c;var _e=T.i,ae=(Ae=1,F=T.$/de,z=T.$%de,ie=T.m,ge=T.s,T.$),ue=de*_e,ke=de*h,Ee=ge.wc,Ce=ae<ke?Re(ge,z,F):null;t(ae<=ue),t(h<=_e),t(ot(ge));t:for(;;){for(;!ie.h&&ae<ke;){if(z&Ee||(Ce=Re(ge,z,F)),t(Ce!=null),se(ie),256>(_e=fn(Ce.G[0],Ce.H[0],ie)))R[ve+ae]=_e,++ae,++z>=de&&(z=0,++F<=h&&!(F%16)&&ht(T,F));else{if(!(280>_e)){Ae=0;break t}_e=On(_e-256,ie);var Qe,qe=fn(Ce.G[4],Ce.H[4],ie);if(se(ie),!(ae>=(qe=Qn(de,qe=On(qe,ie)))&&ue-ae>=_e)){Ae=0;break t}for(Qe=0;Qe<_e;++Qe)R[ve+ae+Qe]=R[ve+ae+Qe-qe];for(ae+=_e,z+=_e;z>=de;)z-=de,++F<=h&&!(F%16)&&ht(T,F);ae<ke&&z&Ee&&(Ce=Re(ge,z,F))}t(ie.h==W(ie))}ht(T,F>h?h:F);break t}!Ae||ie.h&&ae<ue?(Ae=0,T.a=ie.h?5:3):T.$=ae,h=Ae}else h=bt(T,T.V,T.Ba,T.c,T.i,h,Tr);if(!h){w=0;break e}}y+w>=L&&(u.Cc=1),w=1}if(!w)return null;if(u.Cc&&((w=u.ga)!=null&&(w.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+y*C}function p(u,h,y,w,C,L){for(;0<C--;){var T,R=u,F=h+(y?1:0),z=u,ie=h+(y?0:3);for(T=0;T<w;++T){var ge=z[ie+4*T];ge!=255&&(ge*=32897,R[F+4*T+0]=R[F+4*T+0]*ge>>23,R[F+4*T+1]=R[F+4*T+1]*ge>>23,R[F+4*T+2]=R[F+4*T+2]*ge>>23)}h+=L}}function A(u,h,y,w,C){for(;0<w--;){var L;for(L=0;L<y;++L){var T=u[h+2*L+0],R=15&(z=u[h+2*L+1]),F=4369*R,z=(240&z|z>>4)*F>>16;u[h+2*L+0]=(240&T|T>>4)*F>>16&240|(15&T|T<<4)*F>>16>>4&15,u[h+2*L+1]=240&z|R}h+=C}}function H(u,h,y,w,C,L,T,R){var F,z,ie=255;for(z=0;z<C;++z){for(F=0;F<w;++F){var ge=u[h+F];L[T+4*F]=ge,ie&=ge}h+=y,T+=R}return ie!=255}function re(u,h,y,w,C){var L;for(L=0;L<C;++L)y[w+L]=u[h+L]>>8}function fe(){ts=p,Qt=A,Xt=H,_r=re}function Ne(u,h,y){U[u]=function(w,C,L,T,R,F,z,ie,ge,ve,de,Ae,_e,ae,ue,ke,Ee){var Ce,Qe=Ee-1>>1,qe=R[F+0]|z[ie+0]<<16,ft=ge[ve+0]|de[Ae+0]<<16;t(w!=null);var Ge=3*qe+ft+131074>>2;for(h(w[C+0],255&Ge,Ge>>16,_e,ae),L!=null&&(Ge=3*ft+qe+131074>>2,h(L[T+0],255&Ge,Ge>>16,ue,ke)),Ce=1;Ce<=Qe;++Ce){var zt=R[F+Ce]|z[ie+Ce]<<16,$t=ge[ve+Ce]|de[Ae+Ce]<<16,Ut=qe+zt+ft+$t+524296,Ft=Ut+2*(zt+ft)>>3;Ge=Ft+qe>>1,qe=(Ut=Ut+2*(qe+$t)>>3)+zt>>1,h(w[C+2*Ce-1],255&Ge,Ge>>16,_e,ae+(2*Ce-1)*y),h(w[C+2*Ce-0],255&qe,qe>>16,_e,ae+(2*Ce-0)*y),L!=null&&(Ge=Ut+ft>>1,qe=Ft+$t>>1,h(L[T+2*Ce-1],255&Ge,Ge>>16,ue,ke+(2*Ce-1)*y),h(L[T+2*Ce+0],255&qe,qe>>16,ue,ke+(2*Ce+0)*y)),qe=zt,ft=$t}1&Ee||(Ge=3*qe+ft+131074>>2,h(w[C+Ee-1],255&Ge,Ge>>16,_e,ae+(Ee-1)*y),L!=null&&(Ge=3*ft+qe+131074>>2,h(L[T+Ee-1],255&Ge,Ge>>16,ue,ke+(Ee-1)*y)))}}function Le(){ns[Cu]=R_,ns[Au]=y0,ns[f0]=D_,ns[Eu]=b0,ns[Pu]=_0,ns[gf]=w0,ns[p0]=F_,ns[vf]=y0,ns[yf]=b0,ns[Lu]=_0,ns[bf]=w0}function Je(u){return u&-16384?0>u?0:255:u>>B_}function ct(u,h){return Je((19077*u>>8)+(26149*h>>8)-14234)}function At(u,h,y){return Je((19077*u>>8)-(6419*h>>8)-(13320*y>>8)+8708)}function jt(u,h){return Je((19077*u>>8)+(33050*h>>8)-17685)}function Bt(u,h,y,w,C){w[C+0]=ct(u,y),w[C+1]=At(u,h,y),w[C+2]=jt(u,h)}function ir(u,h,y,w,C){w[C+0]=jt(u,h),w[C+1]=At(u,h,y),w[C+2]=ct(u,y)}function hr(u,h,y,w,C){var L=At(u,h,y);h=L<<3&224|jt(u,h)>>3,w[C+0]=248&ct(u,y)|L>>5,w[C+1]=h}function kr(u,h,y,w,C){var L=240&jt(u,h)|15;w[C+0]=240&ct(u,y)|At(u,h,y)>>4,w[C+1]=L}function rn(u,h,y,w,C){w[C+0]=255,Bt(u,h,y,w,C+1)}function qr(u,h,y,w,C){ir(u,h,y,w,C),w[C+3]=255}function ms(u,h,y,w,C){Bt(u,h,y,w,C),w[C+3]=255}function Rn(u,h){return 0>u?0:u>h?h:u}function Fs(u,h,y){U[u]=function(w,C,L,T,R,F,z,ie,ge){for(var ve=ie+(-2&ge)*y;ie!=ve;)h(w[C+0],L[T+0],R[F+0],z,ie),h(w[C+1],L[T+0],R[F+0],z,ie+y),C+=2,++T,++F,ie+=2*y;1&ge&&h(w[C+0],L[T+0],R[F+0],z,ie)}}function _u(u,h,y){return y==0?u==0?h==0?6:5:h==0?4:0:y}function Dl(u,h,y,w,C){switch(u>>>30){case 3:ei(h,y,w,C,0);break;case 2:br(h,y,w,C);break;case 1:gn(h,y,w,C)}}function Fl(u,h){var y,w,C=h.M,L=h.Nb,T=u.oc,R=u.pc+40,F=u.oc,z=u.pc+584,ie=u.oc,ge=u.pc+600;for(y=0;16>y;++y)T[R+32*y-1]=129;for(y=0;8>y;++y)F[z+32*y-1]=129,ie[ge+32*y-1]=129;for(0<C?T[R-1-32]=F[z-1-32]=ie[ge-1-32]=129:(s(T,R-32-1,127,21),s(F,z-32-1,127,9),s(ie,ge-32-1,127,9)),w=0;w<u.za;++w){var ve=h.ya[h.aa+w];if(0<w){for(y=-1;16>y;++y)n(T,R+32*y-4,T,R+32*y+12,4);for(y=-1;8>y;++y)n(F,z+32*y-4,F,z+32*y+4,4),n(ie,ge+32*y-4,ie,ge+32*y+4,4)}var de=u.Gd,Ae=u.Hd+w,_e=ve.ad,ae=ve.Hc;if(0<C&&(n(T,R-32,de[Ae].y,0,16),n(F,z-32,de[Ae].f,0,8),n(ie,ge-32,de[Ae].ea,0,8)),ve.Za){var ue=T,ke=R-32+16;for(0<C&&(w>=u.za-1?s(ue,ke,de[Ae].y[15],4):n(ue,ke,de[Ae+1].y,0,4)),y=0;4>y;y++)ue[ke+128+y]=ue[ke+256+y]=ue[ke+384+y]=ue[ke+0+y];for(y=0;16>y;++y,ae<<=2)ue=T,ke=R+N0[y],gs[ve.Ob[y]](ue,ke),Dl(ae,_e,16*+y,ue,ke)}else if(ue=_u(w,C,ve.Ob[0]),Ei[ue](T,R),ae!=0)for(y=0;16>y;++y,ae<<=2)Dl(ae,_e,16*+y,T,R+N0[y]);for(y=ve.Gc,ue=_u(w,C,ve.Dd),ri[ue](F,z),ri[ue](ie,ge),ae=_e,ue=F,ke=z,255&(ve=y>>0)&&(170&ve?zl(ae,256,ue,ke):Zn(ae,256,ue,ke)),ve=ie,ae=ge,255&(y>>=8)&&(170&y?zl(_e,320,ve,ae):Zn(_e,320,ve,ae)),C<u.Ub-1&&(n(de[Ae].y,0,T,R+480,16),n(de[Ae].f,0,F,z+224,8),n(de[Ae].ea,0,ie,ge+224,8)),y=8*L*u.B,de=u.sa,Ae=u.ta+16*w+16*L*u.R,_e=u.qa,ve=u.ra+8*w+y,ae=u.Ha,ue=u.Ia+8*w+y,y=0;16>y;++y)n(de,Ae+y*u.R,T,R+32*y,16);for(y=0;8>y;++y)n(_e,ve+y*u.B,F,z+32*y,8),n(ae,ue+y*u.B,ie,ge+32*y,8)}}function ao(u,h,y,w,C,L,T,R,F){var z=[0],ie=[0],ge=0,ve=F!=null?F.kd:0,de=F??new Tl;if(u==null||12>y)return 7;de.data=u,de.w=h,de.ha=y,h=[h],y=[y],de.gb=[de.gb];e:{var Ae=h,_e=y,ae=de.gb;if(t(u!=null),t(_e!=null),t(ae!=null),ae[0]=0,12<=_e[0]&&!r(u,Ae[0],"RIFF")){if(r(u,Ae[0]+8,"WEBP")){ae=3;break e}var ue=je(u,Ae[0]+4);if(12>ue||4294967286<ue){ae=3;break e}if(ve&&ue>_e[0]-8){ae=7;break e}ae[0]=ue,Ae[0]+=12,_e[0]-=12}ae=0}if(ae!=0)return ae;for(ue=0<de.gb[0],y=y[0];;){e:{var ke=u;_e=h,ae=y;var Ee=z,Ce=ie,Qe=Ae=[0];if((Ge=ge=[ge])[0]=0,8>ae[0])ae=7;else{if(!r(ke,_e[0],"VP8X")){if(je(ke,_e[0]+4)!=10){ae=3;break e}if(18>ae[0]){ae=7;break e}var qe=je(ke,_e[0]+8),ft=1+xe(ke,_e[0]+12);if(2147483648<=ft*(ke=1+xe(ke,_e[0]+15))){ae=3;break e}Qe!=null&&(Qe[0]=qe),Ee!=null&&(Ee[0]=ft),Ce!=null&&(Ce[0]=ke),_e[0]+=18,ae[0]-=18,Ge[0]=1}ae=0}}if(ge=ge[0],Ae=Ae[0],ae!=0)return ae;if(_e=!!(2&Ae),!ue&&ge)return 3;if(L!=null&&(L[0]=!!(16&Ae)),T!=null&&(T[0]=_e),R!=null&&(R[0]=0),T=z[0],Ae=ie[0],ge&&_e&&F==null){ae=0;break}if(4>y){ae=7;break}if(ue&&ge||!ue&&!ge&&!r(u,h[0],"ALPH")){y=[y],de.na=[de.na],de.P=[de.P],de.Sa=[de.Sa];e:{qe=u,ae=h,ue=y;var Ge=de.gb;Ee=de.na,Ce=de.P,Qe=de.Sa,ft=22,t(qe!=null),t(ue!=null),ke=ae[0];var zt=ue[0];for(t(Ee!=null),t(Qe!=null),Ee[0]=null,Ce[0]=null,Qe[0]=0;;){if(ae[0]=ke,ue[0]=zt,8>zt){ae=7;break e}var $t=je(qe,ke+4);if(4294967286<$t){ae=3;break e}var Ut=8+$t+1&-2;if(ft+=Ut,0<Ge&&ft>Ge){ae=3;break e}if(!r(qe,ke,"VP8 ")||!r(qe,ke,"VP8L")){ae=0;break e}if(zt[0]<Ut){ae=7;break e}r(qe,ke,"ALPH")||(Ee[0]=qe,Ce[0]=ke+8,Qe[0]=$t),ke+=Ut,zt-=Ut}}if(y=y[0],de.na=de.na[0],de.P=de.P[0],de.Sa=de.Sa[0],ae!=0)break}y=[y],de.Ja=[de.Ja],de.xa=[de.xa];e:if(Ge=u,ae=h,ue=y,Ee=de.gb[0],Ce=de.Ja,Qe=de.xa,qe=ae[0],ke=!r(Ge,qe,"VP8 "),ft=!r(Ge,qe,"VP8L"),t(Ge!=null),t(ue!=null),t(Ce!=null),t(Qe!=null),8>ue[0])ae=7;else{if(ke||ft){if(Ge=je(Ge,qe+4),12<=Ee&&Ge>Ee-12){ae=3;break e}if(ve&&Ge>ue[0]-8){ae=7;break e}Ce[0]=Ge,ae[0]+=8,ue[0]-=8,Qe[0]=ft}else Qe[0]=5<=ue[0]&&Ge[qe+0]==47&&!(Ge[qe+4]>>5),Ce[0]=ue[0];ae=0}if(y=y[0],de.Ja=de.Ja[0],de.xa=de.xa[0],h=h[0],ae!=0)break;if(4294967286<de.Ja)return 3;if(R==null||_e||(R[0]=de.xa?2:1),T=[T],Ae=[Ae],de.xa){if(5>y){ae=7;break}R=T,ve=Ae,_e=L,u==null||5>y?u=0:5<=y&&u[h+0]==47&&!(u[h+4]>>5)?(ue=[0],Ge=[0],Ee=[0],D(Ce=new j,u,h,y),dt(Ce,ue,Ge,Ee)?(R!=null&&(R[0]=ue[0]),ve!=null&&(ve[0]=Ge[0]),_e!=null&&(_e[0]=Ee[0]),u=1):u=0):u=0}else{if(10>y){ae=7;break}R=Ae,u==null||10>y||!su(u,h+3,y-3)?u=0:(ve=u[h+0]|u[h+1]<<8|u[h+2]<<16,_e=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=de.Ja||!_e||!u?u=0:(T&&(T[0]=_e),R&&(R[0]=u),u=1))}if(!u||(T=T[0],Ae=Ae[0],ge&&(z[0]!=T||ie[0]!=Ae)))return 3;F!=null&&(F[0]=de,F.offset=h-F.w,t(4294967286>h-F.w),t(F.offset==F.ha-y));break}return ae==0||ae==7&&ge&&F==null?(L!=null&&(L[0]|=de.na!=null&&0<de.na.length),w!=null&&(w[0]=T),C!=null&&(C[0]=Ae),0):ae}function Bl(u,h,y){var w=h.width,C=h.height,L=0,T=0,R=w,F=C;if(h.Da=u!=null&&0<u.Da,h.Da&&(R=u.cd,F=u.bd,L=u.v,T=u.j,11>y||(L&=-2,T&=-2),0>L||0>T||0>=R||0>=F||L+R>w||T+F>C))return 0;if(h.v=L,h.j=T,h.va=L+R,h.o=T+F,h.U=R,h.T=F,h.da=u!=null&&0<u.da,h.da){if(!nt(R,F,y=[u.ib],L=[u.hb]))return 0;h.ib=y[0],h.hb=L[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*w/4&&h.hb<3*C/4,h.Kb=0),1}function Ul(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function oo(u,h,y,w){if(w==null||0>=u||0>=h)return 2;if(y!=null){if(y.Da){var C=y.cd,L=y.bd,T=-2&y.v,R=-2&y.j;if(0>T||0>R||0>=C||0>=L||T+C>u||R+L>h)return 2;u=C,h=L}if(y.da){if(!nt(u,h,C=[y.ib],L=[y.hb]))return 2;u=C[0],h=L[0]}}w.width=u,w.height=h;e:{var F=w.width,z=w.height;if(u=w.S,0>=F||0>=z||!(u>=Cu&&13>u))u=2;else{if(0>=w.Rd&&w.sd==null){T=L=C=h=0;var ie=(R=F*S0[u])*z;if(11>u||(L=(z+1)/2*(h=(F+1)/2),u==12&&(T=(C=F)*z)),(z=i(ie+2*L+T))==null){u=1;break e}w.sd=z,11>u?((F=w.f.RGBA).eb=z,F.fb=0,F.A=R,F.size=ie):((F=w.f.kb).y=z,F.O=0,F.fa=R,F.Fd=ie,F.f=z,F.N=0+ie,F.Ab=h,F.Cd=L,F.ea=z,F.W=0+ie+L,F.Db=h,F.Ed=L,u==12&&(F.F=z,F.J=0+ie+2*L),F.Tc=T,F.lb=C)}if(h=1,C=w.S,L=w.width,T=w.height,C>=Cu&&13>C)if(11>C)u=w.f.RGBA,h&=(R=Math.abs(u.A))*(T-1)+L<=u.size,h&=R>=L*S0[C],h&=u.eb!=null;else{u=w.f.kb,R=(L+1)/2,ie=(T+1)/2,F=Math.abs(u.fa),z=Math.abs(u.Ab);var ge=Math.abs(u.Db),ve=Math.abs(u.lb),de=ve*(T-1)+L;h&=F*(T-1)+L<=u.Fd,h&=z*(ie-1)+R<=u.Cd,h=(h&=ge*(ie-1)+R<=u.Ed)&F>=L&z>=R&ge>=R,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,C==12&&(h&=ve>=L,h&=de<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||y!=null&&y.fd&&(u=Ul(w)),u}var Yr=64,lo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],co=24,uo=32,Ml=8,Sn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];De("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(u){return u},U.Predictor2=function(u,h,y){return h[y+0]},U.Predictor3=function(u,h,y){return h[y+1]},U.Predictor4=function(u,h,y){return h[y-1]},U.Predictor5=function(u,h,y){return Me(Me(u,h[y+1]),h[y+0])},U.Predictor6=function(u,h,y){return Me(u,h[y-1])},U.Predictor7=function(u,h,y){return Me(u,h[y+0])},U.Predictor8=function(u,h,y){return Me(h[y-1],h[y+0])},U.Predictor9=function(u,h,y){return Me(h[y+0],h[y+1])},U.Predictor10=function(u,h,y){return Me(Me(u,h[y-1]),Me(h[y+0],h[y+1]))},U.Predictor11=function(u,h,y){var w=h[y+0];return 0>=xt(w>>24&255,u>>24&255,(h=h[y-1])>>24&255)+xt(w>>16&255,u>>16&255,h>>16&255)+xt(w>>8&255,u>>8&255,h>>8&255)+xt(255&w,255&u,255&h)?w:u},U.Predictor12=function(u,h,y){var w=h[y+0];return(st((u>>24&255)+(w>>24&255)-((h=h[y-1])>>24&255))<<24|st((u>>16&255)+(w>>16&255)-(h>>16&255))<<16|st((u>>8&255)+(w>>8&255)-(h>>8&255))<<8|st((255&u)+(255&w)-(255&h)))>>>0},U.Predictor13=function(u,h,y){var w=h[y-1];return(pt((u=Me(u,h[y+0]))>>24&255,w>>24&255)<<24|pt(u>>16&255,w>>16&255)<<16|pt(u>>8&255,w>>8&255)<<8|pt(u>>0&255,w>>0&255))>>>0};var pf=U.PredictorAdd0;U.PredictorAdd1=Be,De("Predictor2","PredictorAdd2"),De("Predictor3","PredictorAdd3"),De("Predictor4","PredictorAdd4"),De("Predictor5","PredictorAdd5"),De("Predictor6","PredictorAdd6"),De("Predictor7","PredictorAdd7"),De("Predictor8","PredictorAdd8"),De("Predictor9","PredictorAdd9"),De("Predictor10","PredictorAdd10"),De("Predictor11","PredictorAdd11"),De("Predictor12","PredictorAdd12"),De("Predictor13","PredictorAdd13");var ql=U.PredictorAdd2;Et("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var wu,Xn=U.ColorIndexInverseTransform,ho=U.MapARGB,xu=U.VP8LColorIndexInverseTransformAlpha,Nu=U.MapAlpha,ji=U.VP8LPredictorsAdd=[];ji.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var _a,jn,mn,ki,Xs,Zs,fo,ei,br,zl,gn,Zn,po,Su,$l,wa,xa,Ci,Na,mo,Sa,Ai,Vl,es,ts,Qt,Xt,_r,Ir=i(511),ti=i(2041),Gl=i(225),go=i(767),ju=0,mf=ti,ku=Gl,Dn=go,rs=Ir,Cu=0,Au=1,f0=2,Eu=3,Pu=4,gf=5,p0=6,vf=7,yf=8,Lu=9,bf=10,w_=[2,3,7],x_=[3,3,11],m0=[280,256,256,256,40],N_=[0,1,1,1,0],S_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],j_=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],k_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],C_=8,_f=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],wf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Wl=null,A_=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],E_=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],g0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],P_=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],L_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],T_=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],I_=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ei=[],gs=[],ri=[],O_=1,v0=2,Pi=[],ns=[];Ne("UpsampleRgbLinePair",Bt,3),Ne("UpsampleBgrLinePair",ir,3),Ne("UpsampleRgbaLinePair",ms,4),Ne("UpsampleBgraLinePair",qr,4),Ne("UpsampleArgbLinePair",rn,4),Ne("UpsampleRgba4444LinePair",kr,2),Ne("UpsampleRgb565LinePair",hr,2);var R_=U.UpsampleRgbLinePair,D_=U.UpsampleBgrLinePair,y0=U.UpsampleRgbaLinePair,b0=U.UpsampleBgraLinePair,_0=U.UpsampleArgbLinePair,w0=U.UpsampleRgba4444LinePair,F_=U.UpsampleRgb565LinePair,Tu=16,Iu=1<<Tu-1,Hl=-227,xf=482,B_=6,x0=0,U_=i(256),M_=i(256),q_=i(256),z_=i(256),$_=i(xf-Hl),V_=i(xf-Hl);Fs("YuvToRgbRow",Bt,3),Fs("YuvToBgrRow",ir,3),Fs("YuvToRgbaRow",ms,4),Fs("YuvToBgraRow",qr,4),Fs("YuvToArgbRow",rn,4),Fs("YuvToRgba4444Row",kr,2),Fs("YuvToRgb565Row",hr,2);var N0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ou=[0,2,8],G_=[8,7,6,4,4,2,2,2,1,1,1,1],W_=1;this.WebPDecodeRGBA=function(u,h,y,w,C){var L=Au,T=new so,R=new yt;T.ba=R,R.S=L,R.width=[R.width],R.height=[R.height];var F=R.width,z=R.height,ie=new Ke;if(ie==null||u==null)var ge=2;else t(ie!=null),ge=ao(u,h,y,ie.width,ie.height,ie.Pd,ie.Qd,ie.format,null);if(ge!=0?F=0:(F!=null&&(F[0]=ie.width[0]),z!=null&&(z[0]=ie.height[0]),F=1),F){R.width=R.width[0],R.height=R.height[0],w!=null&&(w[0]=R.width),C!=null&&(C[0]=R.height);e:{if(w=new Qa,(C=new Tl).data=u,C.w=h,C.ha=y,C.kd=1,h=[0],t(C!=null),((u=ao(C.data,C.w,C.ha,null,null,null,h,null,C))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(t(T!=null),w.data=C.data,w.w=C.w+C.offset,w.ha=C.ha-C.offset,w.put=vr,w.ac=ur,w.bc=Jn,w.ma=T,C.xa){if((u=gt())==null){T=1;break e}if(function(ve,de){var Ae=[0],_e=[0],ae=[0];t:for(;;){if(ve==null)return 0;if(de==null)return ve.a=2,0;if(ve.l=de,ve.a=0,D(ve.m,de.data,de.w,de.ha),!dt(ve.m,Ae,_e,ae)){ve.a=3;break t}if(ve.xb=v0,de.width=Ae[0],de.height=_e[0],!dr(Ae[0],_e[0],1,ve,null))break t;return 1}return t(ve.a!=0),0}(u,w)){if(w=(h=oo(w.width,w.height,T.Oa,T.ba))==0){t:{w=u;r:for(;;){if(w==null){w=0;break t}if(t(w.s.yc!=null),t(w.s.Ya!=null),t(0<w.s.Wb),t((y=w.l)!=null),t((C=y.ma)!=null),w.xb!=0){if(w.ca=C.ba,w.tb=C.tb,t(w.ca!=null),!Bl(C.Oa,y,Eu)){w.a=2;break r}if(!Fr(w,y.width)||y.da)break r;if((y.da||Ve(w.ca.S))&&fe(),11>w.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),w.ca.f.kb.F!=null&&fe()),w.Pb&&0<w.s.ua&&w.s.vb.X==null&&!Ye(w.s.vb,w.s.Wa.Xa)){w.a=1;break r}w.xb=0}if(!bt(w,w.V,w.Ba,w.c,w.i,y.o,Te))break r;C.Dc=w.Ma,w=1;break t}t(w.a!=0),w=0}w=!w}w&&(h=u.a)}else h=u.a}else{if((u=new Yh)==null){T=1;break e}if(u.Fa=C.na,u.P=C.P,u.qc=C.Sa,iu(u,w)){if((h=oo(w.width,w.height,T.Oa,T.ba))==0){if(u.Aa=0,y=T.Oa,t((C=u)!=null),y!=null){if(0<(F=0>(F=y.Md)?0:100<F?255:255*F/100)){for(z=ie=0;4>z;++z)12>(ge=C.pb[z]).lc&&(ge.ia=F*G_[0>ge.lc?0:ge.lc]>>3),ie|=ge.ia;ie&&(alert("todo:VP8InitRandom"),C.ia=1)}C.Ga=y.Id,100<C.Ga?C.Ga=100:0>C.Ga&&(C.Ga=0)}Kh(u,w)||(h=u.a)}}else h=u.a}h==0&&T.Oa!=null&&T.Oa.fd&&(h=Ul(T.ba))}T=h}L=T!=0?null:11>L?R.f.RGBA.eb:R.f.kb.y}else L=null;return L};var S0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(U,O){for(var ne="",I=0;I<4;I++)ne+=String.fromCharCode(U[O++]);return ne}function m(U,O){return(U[O+0]<<0|U[O+1]<<8|U[O+2]<<16)>>>0}function g(U,O){return(U[O+0]<<0|U[O+1]<<8|U[O+2]<<16|U[O+3]<<24)>>>0}new c;var v=[0],f=[0],N=[],S=new c,k=e,_=function(U,O){var ne={},I=0,B=!1,K=0,E=0;if(ne.frames=[],!function(M,W,J,se){for(var he=0;he<se;he++)if(M[W+he]!=J.charCodeAt(he))return!0;return!1}(U,O,"RIFF",4)){var oe,ce;for(g(U,O+=4),O+=8;O<U.length;){var me=d(U,O),D=g(U,O+=4);O+=4;var X=D+(1&D);switch(me){case"VP8 ":case"VP8L":ne.frames[I]===void 0&&(ne.frames[I]={}),(j=ne.frames[I]).src_off=B?E:O-8,j.src_size=K+D+8,I++,B&&(B=!1,K=0,E=0);break;case"VP8X":(j=ne.header={}).feature_flags=U[O];var ee=O+4;j.canvas_width=1+m(U,ee),ee+=3,j.canvas_height=1+m(U,ee),ee+=3;break;case"ALPH":B=!0,K=X+8,E=O-8;break;case"ANIM":(j=ne.header).bgcolor=g(U,O),ee=O+4,j.loop_count=(oe=U)[(ce=ee)+0]<<0|oe[ce+1]<<8,ee+=2;break;case"ANMF":var we,j;(j=ne.frames[I]={}).offset_x=2*m(U,O),O+=3,j.offset_y=2*m(U,O),O+=3,j.width=1+m(U,O),O+=3,j.height=1+m(U,O),O+=3,j.duration=m(U,O),O+=3,we=U[O++],j.dispose=1&we,j.blend=we>>1&1}me!="ANMF"&&(O+=X)}return ne}}(k,0);_.response=k,_.rgbaoutput=!0,_.dataurl=!1;var b=_.header?_.header:null,x=_.frames?_.frames:null;if(b){b.loop_counter=b.loop_count,v=[b.canvas_height],f=[b.canvas_width];for(var P=0;P<x.length&&x[P].blend!=0;P++);}var $=x[0],Z=S.WebPDecodeRGBA(k,$.src_off,$.src_size,f,v);$.rgba=Z,$.imgwidth=f[0],$.imgheight=v[0];for(var V=0;V<f[0]*v[0]*4;V++)N[V]=Z[V];return this.width=f,this.height=v,this.data=N,this}(function(e){var t=function(){return typeof Wm=="function"},r=function(v,f,N,S){var k=4,_=a;switch(S){case e.image_compression.FAST:k=1,_=i;break;case e.image_compression.MEDIUM:k=6,_=o;break;case e.image_compression.SLOW:k=9,_=c}v=n(v,f,N,_);var b=Wm(v,{level:k});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(v,f,N,S){for(var k,_,b,x=v.length/f,P=new Uint8Array(v.length+x),$=m(),Z=0;Z<x;Z+=1){if(b=Z*f,k=v.subarray(b,b+f),S)P.set(S(k,N,_),b+Z);else{for(var V,U=$.length,O=[];V<U;V+=1)O[V]=$[V](k,N,_);var ne=g(O.concat());P.set(O[ne],b+Z)}_=k}return P},s=function(v){var f=Array.apply([],v);return f.unshift(0),f},i=function(v,f){var N,S=[],k=v.length;S[0]=1;for(var _=0;_<k;_+=1)N=v[_-f]||0,S[_+1]=v[_]-N+256&255;return S},a=function(v,f,N){var S,k=[],_=v.length;k[0]=2;for(var b=0;b<_;b+=1)S=N&&N[b]||0,k[b+1]=v[b]-S+256&255;return k},o=function(v,f,N){var S,k,_=[],b=v.length;_[0]=3;for(var x=0;x<b;x+=1)S=v[x-f]||0,k=N&&N[x]||0,_[x+1]=v[x]+256-(S+k>>>1)&255;return _},c=function(v,f,N){var S,k,_,b,x=[],P=v.length;x[0]=4;for(var $=0;$<P;$+=1)S=v[$-f]||0,k=N&&N[$]||0,_=N&&N[$-f]||0,b=d(S,k,_),x[$+1]=v[$]-b+256&255;return x},d=function(v,f,N){if(v===f&&f===N)return v;var S=Math.abs(f-N),k=Math.abs(v-N),_=Math.abs(v+f-N-N);return S<=k&&S<=_?v:k<=_?f:N},m=function(){return[s,i,a,o,c]},g=function(v){var f=v.map(function(N){return N.reduce(function(S,k){return S+Math.abs(k)},0)});return f.indexOf(Math.min.apply(null,f))};e.processPNG=function(v,f,N,S){var k,_,b,x,P,$,Z,V,U,O,ne,I,B,K,E,oe=this.decode.FLATE_DECODE,ce="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(b=new L6(v)).imgData,_=b.bits,k=b.colorSpace,P=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){U=(V=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,ne=new Uint8Array(U*b.colors),O=new Uint8Array(U);var me,D=b.pixelBitlength-b.bits;for(K=0,E=0;K<U;K++){for(B=V[K],me=0;me<D;)ne[E++]=B>>>me&255,me+=b.bits;O[K]=B>>>me&255}}if(b.bits===16){U=(V=new Uint32Array(b.decodePixels().buffer)).length,ne=new Uint8Array(U*(32/b.pixelBitlength)*b.colors),O=new Uint8Array(U*(32/b.pixelBitlength)),I=b.colors>1,K=0,E=0;for(var X=0;K<U;)B=V[K++],ne[E++]=B>>>0&255,I&&(ne[E++]=B>>>16&255,B=V[K++],ne[E++]=B>>>0&255),O[X++]=B>>>16&255;_=8}S!==e.image_compression.NONE&&t()?(v=r(ne,b.width*b.colors,b.colors,S),Z=r(O,b.width,1,S)):(v=ne,Z=O,oe=void 0)}if(b.colorType===3&&(k=this.color_spaces.INDEXED,$=b.palette,b.transparency.indexed)){var ee=b.transparency.indexed,we=0;for(K=0,U=ee.length;K<U;++K)we+=ee[K];if((we/=255)===U-1&&ee.indexOf(0)!==-1)x=[ee.indexOf(0)];else if(we!==U){for(V=b.decodePixels(),O=new Uint8Array(V.length),K=0,U=V.length;K<U;K++)O[K]=ee[V[K]];Z=r(O,b.width,1)}}var j=function(M){var W;switch(M){case e.image_compression.FAST:W=11;break;case e.image_compression.MEDIUM:W=13;break;case e.image_compression.SLOW:W=14;break;default:W=12}return W}(S);return oe===this.decode.FLATE_DECODE&&(ce="/Predictor "+j+" "),ce+="/Colors "+P+" /BitsPerComponent "+_+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(Z&&this.__addimage__.isArrayBuffer(Z)||this.__addimage__.isArrayBufferView(Z))&&(Z=this.__addimage__.arrayBufferToBinaryString(Z)),{alias:N,data:v,index:f,filter:oe,decodeParameters:ce,transparency:x,palette:$,sMask:Z,predictor:j,width:b.width,height:b.height,bitsPerComponent:_,colorSpace:k}}}})(vt.API),function(e){e.processGIF89A=function(t,r,n,s){var i=new T6(t),a=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:a,height:o},m=new Ap(100).encode(d,100);return e.processJPEG.call(this,m,r,n,s)},e.processGIF87A=e.processGIF89A}(vt.API),_s.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_s.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Jt.log("bit decode error:"+r)}},_s.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},_s.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,o=i>>4,c=15&i,d=this.palette[o];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*s+1>=this.width)break;d=this.palette[c],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},_s.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},_s.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,m=n*this.width*4+4*s;this.data[m]=c,this.data[m+1]=o,this.data[m+2]=a,this.data[m+3]=d}this.pos+=e}},_s.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,c=(a>>5&r)/r*255|0,d=(a>>11)/t*255|0,m=s*this.width*4+4*i;this.data[m]=d,this.data[m+1]=c,this.data[m+2]=o,this.data[m+3]=255}this.pos+=e}},_s.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},_s.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=a}},_s.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var i=new _s(t,!1),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},d=new Ap(100).encode(c,100);return e.processJPEG.call(this,d,r,n,s)}}(vt.API),n2.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var i=new n2(t),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},d=new Ap(100).encode(c,100);return e.processJPEG.call(this,d,r,n,s)}}(vt.API),vt.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),o=0,c=0,d=0;d<s;d+=4){var m=n[d],g=n[d+1],v=n[d+2],f=n[d+3];i[o++]=m,i[o++]=g,i[o++]=v,a[c++]=f}var N=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:N,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},vt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ao=vt.API,Sd=Ao.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:s.metadata.Unicode.widths,c=o.fof?o.fof:1,d=t.kerning?t.kerning:s.metadata.Unicode.kerning,m=d.fof?d.fof:1,g=t.doKerning!==!1,v=0,f=e.length,N=0,S=o[0]||c,k=[];for(r=0;r<f;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?k.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(v=g&&Gt(d[n])==="object"&&!isNaN(parseInt(d[n][N],10))?d[n][N]/m:0,k.push((o[n]||S)/c+v)),N=n;return k},Zv=Ao.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Ao.processArabic&&(e=Ao.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:Sd.apply(this,arguments).reduce(function(i,a){return i+a},0)},e2=function(e,t,r,n){for(var s=[],i=0,a=e.length,o=0;i!==a&&o+t[i]<r;)o+=t[i],i++;s.push(e.slice(0,i));var c=i;for(o=0;i!==a;)o+t[i]>n&&(s.push(e.slice(c,i)),o=0,c=i),o+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},t2=function(e,t,r){r||(r={});var n,s,i,a,o,c,d,m=[],g=[m],v=r.textIndent||0,f=0,N=0,S=e.split(" "),k=Sd.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?S[0].length+2:r.lineIndent||0){var _=Array(c).join(" "),b=[];S.map(function(P){(P=P.split(/\s*\n/)).length>1?b=b.concat(P.map(function($,Z){return(Z&&$.length?`
`:"")+$})):b.push(P[0])}),S=b,c=Zv.apply(this,[_,r])}for(i=0,a=S.length;i<a;i++){var x=0;if(n=S[i],c&&n[0]==`
`&&(n=n.substr(1),x=1),v+f+(N=(s=Sd.apply(this,[n,r])).reduce(function(P,$){return P+$},0))>t||x){if(N>t){for(o=e2.apply(this,[n,s,t-(v+f),t]),m.push(o.shift()),m=[o.pop()];o.length;)g.push([o.shift()]);N=s.slice(n.length-(m[0]?m[0].length:0)).reduce(function(P,$){return P+$},0)}else m=[n];g.push(m),v=N+c,f=k}else m.push(n),v+=f+N,f=k}return d=c?function(P,$){return($?_:"")+P.join(" ")}:function(P){return P.join(" ")},g.map(d)},Ao.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var g=this.internal.getFont(m.fontName,m.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var o,c,d=[];for(o=0,c=n.length;o<c;o++)d=d.concat(t2.apply(this,[n[o],a,i]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},s=0;s<t.length;s++)r[t[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=t[s];var i=function(g){return"0x"+parseInt(g,10).toString(16)},a=e.__fontmetrics__.compress=function(g){var v,f,N,S,k=["{"];for(var _ in g){if(v=g[_],isNaN(parseInt(_,10))?f="'"+_+"'":(_=parseInt(_,10),f=(f=i(_).slice(2)).slice(0,-1)+n[f.slice(-1)]),typeof v=="number")v<0?(N=i(v).slice(3),S="-"):(N=i(v).slice(2),S=""),N=S+N.slice(0,-1)+n[N.slice(-1)];else{if(Gt(v)!=="object")throw new Error("Don't know what to do with value type "+Gt(v)+".");N=a(v)}k.push(f+N)}return k.push("}"),k.join("")},o=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,f,N,S,k={},_=1,b=k,x=[],P="",$="",Z=g.length-1,V=1;V<Z;V+=1)(S=g[V])=="'"?v?(N=v.join(""),v=void 0):v=[]:v?v.push(S):S=="{"?(x.push([b,N]),b={},N=void 0):S=="}"?((f=x.pop())[0][f[1]]=b,N=void 0,b=f[0]):S=="-"?_=-1:N===void 0?r.hasOwnProperty(S)?(P+=r[S],N=parseInt(P,16)*_,_=1,P=""):P+=S:r.hasOwnProperty(S)?($+=r[S],b[N]=parseInt($,16)*_,_=1,N=void 0,$=""):$+=S;return k},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},m={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var v=g.font,f=m.Unicode[v.postScriptName];f&&(v.metadata.Unicode={},v.metadata.Unicode.widths=f.widths,v.metadata.Unicode.kerning=f.kerning);var N=d.Unicode[v.postScriptName];N&&(v.metadata.Unicode.encoding=N,v.encoding=N.codePages[0])}])}(vt.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Sc(o)),a.metadata=e.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(vt),function(e){function t(){return(_t.canvg?Promise.resolve(_t.canvg):qm(()=>import("./index.es-sNSaSaa1.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}vt.API.addSvgAsImage=function(r,n,s,i,a,o,c,d){if(isNaN(n)||isNaN(s))throw Jt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Jt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var m=document.createElement("canvas");m.width=i,m.height=a;var g=m.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,m.width,m.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return t().then(function(N){return N.fromString(g,r,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(v)}).then(function(){f.addImage(m.toDataURL("image/jpeg",1),n,s,i,a,c,d)})}}(),vt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},vt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],d=0,m=0,g=0;function v(N,S){var k,_=!1;for(k=0;k<N.length;k+=1)N[k]===S&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=o.length;for(g=0;g<f;g+=1)r[o[g]].value=r[o[g]].defaultValue,r[o[g]].explicitSet=!1}if(Gt(e)==="object"){for(s in e)if(i=e[s],v(o,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&v(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(m=0;m<i[d].length;m+=1)typeof i[d][m]!="number"&&(n=!1);n===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,S=[];for(N in r)r[N].explicitSet===!0&&(r[N].type==="name"?S.push("/"+N+" /"+r[N].value):S.push("/"+N+" "+r[N].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+a.length+o.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(vt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,a){for(var o,c=a.metadata.Unicode.widths,d=["","0","00","000","0000"],m=[""],g=0,v=i.length;g<v;++g){if(o=a.metadata.characterToGlyph(i.charCodeAt(g)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=i.charCodeAt(g),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return m.join("");o=o.toString(16),m.push(d[4-o.length],o)}return m.join("")},n=function(i){var a,o,c,d,m,g,v;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,v=(o=Object.keys(i).sort(function(f,N){return f-N})).length;g<v;g++)a=o[g],c.length>=100&&(m+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(d=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+d+">"));return c.length&&(m+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),m+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,d=a.newObject,m=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var g=o.metadata.Unicode.widths,v=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",N=0;N<v.length;N++)f+=String.fromCharCode(v[N]);var S=d();m({data:f,addLength1:!0,objectId:S}),c("endobj");var k=d();m({data:n(o.metadata.toUnicode),addLength1:!0,objectId:k}),c("endobj");var _=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+To(o.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var b=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+To(o.fontName)),c("/FontDescriptor "+_+" 0 R"),c("/W "+e.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+k+" 0 R"),c("/BaseFont /"+To(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,d=a.newObject,m=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var g=o.metadata.rawData,v="",f=0;f<g.length;f++)v+=String.fromCharCode(g[f]);var N=d();m({data:v,addLength1:!0,objectId:N}),c("endobj");var S=d();m({data:n(o.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var k=d();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+N+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+To(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=d();for(var _=0;_<o.metadata.hmtx.widths.length;_++)o.metadata.hmtx.widths[_]=parseInt(o.metadata.hmtx.widths[_]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+To(o.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,o=i.text||"",c=i.x,d=i.y,m=i.options||{},g=i.mutex||{},v=g.pdfEscape,f=g.activeFontKey,N=g.fonts,S=f,k="",_=0,b="",x=N[S].encoding;if(N[S].encoding!=="Identity-H")return{text:o,x:c,y:d,options:m,mutex:g};for(b=o,S=f,Array.isArray(o)&&(b=o[0]),_=0;_<b.length;_+=1)N[S].metadata.hasOwnProperty("cmap")&&(a=N[S].metadata.cmap.unicode.codeMap[b[_].charCodeAt(0)]),a||b[_].charCodeAt(0)<256&&N[S].metadata.hasOwnProperty("Unicode")?k+=b[_]:k+="";var P="";return parseInt(S.slice(1))<14||x==="WinAnsiEncoding"?P=v(k,S).split("").map(function($){return $.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(P=r(k,N[S])),g.isHex=!0,{text:P,x:c,y:d,options:m,mutex:g}};t.events.push(["postProcessText",function(i){var a=i.text||"",o=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?o.push([s(Object.assign({},c,{text:a[d][0]})).text,a[d][1],a[d][2]]):o.push(s(Object.assign({},c,{text:a[d]})).text);i.text=o}else i.text=s(Object.assign({},c,{text:a})).text}])}(vt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(vt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,a,o,c,d,m,g=t,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,x=0;this.__bidiEngine__={};var P=function(I){var B=I.charCodeAt(),K=B>>8,E=S[K];return E!==void 0?g[256*E+(255&B)]:K===252||K===253?"AL":_.test(K)?"L":K===8?"R":"N"},$=function(I){for(var B,K=0;K<I.length;K++){if((B=P(I.charAt(K)))==="L")return!1;if(B==="R")return!0}return!1},Z=function(I,B,K,E){var oe,ce,me,D,X=B[E];switch(X){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(X="AN");break;case"AL":b=!0,X="R";break;case"WS":X="N";break;case"CS":E<1||E+1>=B.length||(oe=K[E-1])!=="EN"&&oe!=="AN"||(ce=B[E+1])!=="EN"&&ce!=="AN"?X="N":b&&(ce="AN"),X=ce===oe?ce:"N";break;case"ES":X=(oe=E>0?K[E-1]:"B")==="EN"&&E+1<B.length&&B[E+1]==="EN"?"EN":"N";break;case"ET":if(E>0&&K[E-1]==="EN"){X="EN";break}if(b){X="N";break}for(me=E+1,D=B.length;me<D&&B[me]==="ET";)me++;X=me<D&&B[me]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(D=B.length,me=E+1;me<D&&B[me]==="NSM";)me++;if(me<D){var ee=I[E],we=ee>=1425&&ee<=2303||ee===64286;if(oe=B[me],we&&(oe==="R"||oe==="AL")){X="R";break}}}X=E<1||(oe=B[E-1])==="B"?"N":K[E-1];break;case"B":b=!1,s=!0,X=x;break;case"S":i=!0,X="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":X="N"}return X},V=function(I,B,K){var E=I.split("");return K&&U(E,K,{hiLevel:x}),E.reverse(),B&&B.reverse(),E.join("")},U=function(I,B,K){var E,oe,ce,me,D,X=-1,ee=I.length,we=0,j=[],M=x?f:v,W=[];for(b=!1,s=!1,i=!1,oe=0;oe<ee;oe++)W[oe]=P(I[oe]);for(ce=0;ce<ee;ce++){if(D=we,j[ce]=Z(I,W,j,ce),E=240&(we=M[D][N[j[ce]]]),we&=15,B[ce]=me=M[we][5],E>0)if(E===16){for(oe=X;oe<ce;oe++)B[oe]=1;X=-1}else X=-1;if(M[we][6])X===-1&&(X=ce);else if(X>-1){for(oe=X;oe<ce;oe++)B[oe]=me;X=-1}W[ce]==="B"&&(B[ce]=0),K.hiLevel|=me}i&&function(J,se,he){for(var pe=0;pe<he;pe++)if(J[pe]==="S"){se[pe]=x;for(var q=pe-1;q>=0&&J[q]==="WS";q--)se[q]=x}}(W,B,ee)},O=function(I,B,K,E,oe){if(!(oe.hiLevel<I)){if(I===1&&x===1&&!s)return B.reverse(),void(K&&K.reverse());for(var ce,me,D,X,ee=B.length,we=0;we<ee;){if(E[we]>=I){for(D=we+1;D<ee&&E[D]>=I;)D++;for(X=we,me=D-1;X<me;X++,me--)ce=B[X],B[X]=B[me],B[me]=ce,K&&(ce=K[X],K[X]=K[me],K[me]=ce);we=D}we++}}},ne=function(I,B,K){var E=I.split(""),oe={hiLevel:x};return K||(K=[]),U(E,K,oe),function(ce,me,D){if(D.hiLevel!==0&&m)for(var X,ee=0;ee<ce.length;ee++)me[ee]===1&&(X=k.indexOf(ce[ee]))>=0&&(ce[ee]=k[X+1])}(E,K,oe),O(2,E,B,K,oe),O(1,E,B,K,oe),E.join("")};return this.__bidiEngine__.doBidiReorder=function(I,B,K){if(function(oe,ce){if(ce)for(var me=0;me<oe.length;me++)ce[me]=me;o===void 0&&(o=$(oe)),d===void 0&&(d=$(oe))}(I,B),a||!c||d)if(a&&c&&o^d)x=o?1:0,I=V(I,B,K);else if(!a&&c&&d)x=o?1:0,I=ne(I,B,K),I=V(I,B);else if(!a||o||c||d){if(a&&!c&&o^d)I=V(I,B),o?(x=0,I=ne(I,B,K)):(x=1,I=ne(I,B,K),I=V(I,B));else if(a&&o&&!c&&d)x=1,I=ne(I,B,K),I=V(I,B);else if(!a&&!c&&o^d){var E=m;o?(x=1,I=ne(I,B,K),x=0,m=!1,I=ne(I,B,K),m=E):(x=0,I=ne(I,B,K),I=V(I,B),x=1,m=!1,I=ne(I,B,K),m=E,I=V(I,B))}}else x=0,I=ne(I,B,K);else x=o?1:0,I=ne(I,B,K);return I},this.__bidiEngine__.setOptions=function(I){I&&(a=I.isInputVisual,c=I.isOutputVisual,o=I.isInputRtl,d=I.isOutputRtl,m=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),a=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(a=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?a.push([r.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):a.push([r.doBidiReorder(s[o])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(vt),vt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new ca(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new H6(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new I6(this.contents),this.head=new R6(this),this.name=new M6(this),this.cmap=new p_(this),this.toUnicode={},this.hhea=new D6(this),this.maxp=new q6(this),this.hmtx=new z6(this),this.post=new B6(this),this.os2=new F6(this),this.loca=new W6(this),this.glyf=new $6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,d;for(d=[],a=0,o=(c=this.bbox).length;a<o;a++)t=c[a],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,a,o;for(a=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)s=t.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Ts,ca=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,a,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),I6=function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,a,o,c,d,m,g,v,f,N,S;for(S in f=Object.keys(r).length,c=Math.log(2),g=16*Math.floor(Math.log(f)/c),a=Math.floor(g/c),m=16*f-g,(s=new ca).writeInt(this.scalarType),s.writeShort(f),s.writeShort(g),s.writeShort(a),s.writeShort(m),i=16*f,d=s.pos+i,o=null,N=[],r)for(v=r[S],s.writeString(S),s.writeInt(e(v)),s.writeInt(d),s.writeInt(v.length),N=N.concat(v),S==="head"&&(o=d),d+=v.length;d%4;)N.push(0),d++;return s.write(N),n=2981146554-e(s.data),s.pos=o+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,a;for(r=m_.call(r);r.length%4;)r.push(0);for(i=new ca(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),O6={}.hasOwnProperty,Ks=function(e,t){for(var r in t)O6.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Ts=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var R6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ks(t,Ts),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new ca).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),s2=function(){function e(t,r){var n,s,i,a,o,c,d,m,g,v,f,N,S,k,_,b,x;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),g=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(f=t.readUInt16(),v=f/2,t.pos+=6,i=function(){var P,$;for($=[],c=P=0;0<=v?P<v:P>v;c=0<=v?++P:--P)$.push(t.readUInt16());return $}(),t.pos+=2,S=function(){var P,$;for($=[],c=P=0;0<=v?P<v:P>v;c=0<=v?++P:--P)$.push(t.readUInt16());return $}(),d=function(){var P,$;for($=[],c=P=0;0<=v?P<v:P>v;c=0<=v?++P:--P)$.push(t.readUInt16());return $}(),m=function(){var P,$;for($=[],c=P=0;0<=v?P<v:P>v;c=0<=v?++P:--P)$.push(t.readUInt16());return $}(),s=(this.length-t.pos+this.offset)/2,o=function(){var P,$;for($=[],c=P=0;0<=s?P<s:P>s;c=0<=s?++P:--P)$.push(t.readUInt16());return $}(),c=_=0,x=i.length;_<x;c=++_)for(k=i[c],n=b=N=S[c];N<=k?b<=k:b>=k;n=N<=k?++b:--b)m[c]===0?a=n+d[c]:(a=o[m[c]/2+(n-N)-(v-c)]||0)!==0&&(a+=d[c]),this.codeMap[n]=65535&a}t.pos=g}return e.encode=function(t,r){var n,s,i,a,o,c,d,m,g,v,f,N,S,k,_,b,x,P,$,Z,V,U,O,ne,I,B,K,E,oe,ce,me,D,X,ee,we,j,M,W,J,se,he,pe,q,G,te,xe;switch(E=new ca,a=Object.keys(t).sort(function(je,Ye){return je-Ye}),r){case"macroman":for(S=0,k=function(){var je=[];for(N=0;N<256;++N)je.push(0);return je}(),b={0:0},i={},oe=0,X=a.length;oe<X;oe++)b[q=t[s=a[oe]]]==null&&(b[q]=++S),i[s]={old:t[s],new:b[t[s]]},k[s]=b[t[s]];return E.writeUInt16(1),E.writeUInt16(0),E.writeUInt32(12),E.writeUInt16(0),E.writeUInt16(262),E.writeUInt16(0),E.write(k),{charMap:i,subtable:E.data,maxGlyphID:S+1};case"unicode":for(B=[],g=[],x=0,b={},n={},_=d=null,ce=0,ee=a.length;ce<ee;ce++)b[$=t[s=a[ce]]]==null&&(b[$]=++x),n[s]={old:$,new:b[$]},o=b[$]-s,_!=null&&o===d||(_&&g.push(_),B.push(s),d=o),_=s;for(_&&g.push(_),g.push(65535),B.push(65535),ne=2*(O=B.length),U=2*Math.pow(Math.log(O)/Math.LN2,2),v=Math.log(U/2)/Math.LN2,V=2*O-U,c=[],Z=[],f=[],N=me=0,we=B.length;me<we;N=++me){if(I=B[N],m=g[N],I===65535){c.push(0),Z.push(0);break}if(I-(K=n[I].new)>=32768)for(c.push(0),Z.push(2*(f.length+O-N)),s=D=I;I<=m?D<=m:D>=m;s=I<=m?++D:--D)f.push(n[s].new);else c.push(K-I),Z.push(0)}for(E.writeUInt16(3),E.writeUInt16(1),E.writeUInt32(12),E.writeUInt16(4),E.writeUInt16(16+8*O+2*f.length),E.writeUInt16(0),E.writeUInt16(ne),E.writeUInt16(U),E.writeUInt16(v),E.writeUInt16(V),he=0,j=g.length;he<j;he++)s=g[he],E.writeUInt16(s);for(E.writeUInt16(0),pe=0,M=B.length;pe<M;pe++)s=B[pe],E.writeUInt16(s);for(G=0,W=c.length;G<W;G++)o=c[G],E.writeUInt16(o);for(te=0,J=Z.length;te<J;te++)P=Z[te],E.writeUInt16(P);for(xe=0,se=f.length;xe<se;xe++)S=f[xe],E.writeUInt16(S);return{charMap:n,subtable:E.data,maxGlyphID:x+1}}},e}(),p_=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ks(t,Ts),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new s2(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=s2.encode(r,n),(i=new ca).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t}(),D6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ks(t,Ts),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),F6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ks(t,Ts),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),B6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ks(t,Ts),t.prototype.tag="post",t.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(s=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var o,c,d;for(d=[],a=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;a=0<=c?++o:--o)d.push(r.readUInt32());return d}).call(this)}},t}(),U6=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},M6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ks(t,Ts),t.prototype.tag="name",t.prototype.parse=function(r){var n,s,i,a,o,c,d,m,g,v,f;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),s=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(d={},a=g=0,v=s.length;g<v;a=++g)i=s[a],r.pos=i.offset,m=r.readString(i.length),o=new U6(m,i),d[f=i.nameID]==null&&(d[f]=[]),d[i.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),q6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ks(t,Ts),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),z6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ks(t,Ts),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,s,i,a,o,c,d;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var m,g;for(g=[],n=m=0;0<=i?m<i:m>i;n=0<=i?++m:--m)g.push(r.readInt16());return g}(),this.widths=(function(){var m,g,v,f;for(f=[],m=0,g=(v=this.metrics).length;m<g;m++)a=v[m],f.push(a.advance);return f}).call(this),s=this.widths[this.widths.length-1],d=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)d.push(this.widths.push(s));return d},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),m_=[].slice,$6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ks(t,Ts),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,s,i,a,o,c,d,m,g,v;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,s=a.indexOf(r),(i=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,o=(c=new ca(n.read(i))).readShort(),m=c.readShort(),v=c.readShort(),d=c.readShort(),g=c.readShort(),this.cache[r]=o===-1?new G6(c,m,v,d,g):new V6(c,o,m,v,d,g),this.cache[r]))},t.prototype.encode=function(r,n,s){var i,a,o,c,d;for(o=[],a=[],c=0,d=n.length;c<d;c++)i=r[n[c]],a.push(o.length),i&&(o=o.concat(i.encode(s)));return a.push(o.length),{table:o,offsets:a}},t}(),V6=function(){function e(t,r,n,s,i,a){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),G6=function(){function e(t,r,n,s,i){var a,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new ca(m_.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),W6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ks(t,Ts),t.prototype.tag="loca",t.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(r.readUInt32());return a}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<s.length;++o)if(s[o]=i,a<n.length&&n[a]==o){++a,s[o]=i;var c=this.offsets[o],d=this.offsets[o+1]-c;d>0&&(i+=d)}for(var m=new Array(4*s.length),g=0;g<s.length;++g)m[4*g+3]=255&s[g],m[4*g+2]=(65280&s[g])>>8,m[4*g+1]=(16711680&s[g])>>16,m[4*g]=(4278190080&s[g])>>24;return m},t}(),H6=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,a,o,c;for(s={},a=0,o=t.length;a<o;a++)s[i=t[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,a,o,c,d,m,g,v,f,N,S,k,_;for(s in n=p_.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),f={0:0},_=n.charMap)f[(c=_[s]).old]=c.new;for(N in v=n.maxGlyphID,a)N in f||(f[N]=v++);return m=function(b){var x,P;for(x in P={},b)P[b[x]]=x;return P}(f),g=Object.keys(m).sort(function(b,x){return b-x}),S=function(){var b,x,P;for(P=[],b=0,x=g.length;b<x;b++)o=g[b],P.push(m[o]);return P}(),i=this.font.glyf.encode(a,S,f),d=this.font.loca.encode(i.offsets,S),k={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},e}();vt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var o,c,d;for(d=[],o=0,c=r.length;o<c;o++)n=r[o],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+t.convert(a));return i.push(">>"),i.join(`
`)}return""+r},t}();function Y6(){const e=()=>{const t=new vt;let r=16;t.setFontSize(16),t.text("Vijayam Science and Arts Degree College",12,r),r+=8,t.setFontSize(12),t.text("Manual Application Form (Blank)",12,r),r+=10;const n=s=>{t.text(s,12,r),t.line(70,r+1,200,r+1),r+=10};["Student ID","Admission No","HT No","Academic Year","Group","Course Code","Course Name","Full Name","DOB","Gender","Father's Name","Mother's Name","Mobile","Email","Nationality","State","Aadhar No","Postal Code","Religion","Caste","Sub Caste","Address"].forEach(n),t.save("Application-Form-Blank.pdf")};return l.jsx("div",{className:"container py-5",children:l.jsx("div",{className:"row justify-content-center",children:l.jsx("div",{className:"col-lg-10",children:l.jsxs("div",{className:"card card-soft p-4",children:[l.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[l.jsxs("div",{className:"d-flex align-items-center gap-2",children:[l.jsx("img",{src:"/image.png",className:"brand-logo",alt:"logo"}),l.jsxs("div",{children:[l.jsx("h3",{className:"fw-bold mb-0",children:"Vijayam College of Arts & Science"}),l.jsx("div",{className:"text-muted",children:"Chennai"})]})]}),l.jsx(Yi,{to:"/",className:"btn btn-brand",children:"Back to Home"})]}),l.jsx("h5",{className:"mt-1",children:"Application Form"}),l.jsxs("div",{className:"mt-3 d-flex gap-2",children:[l.jsx("button",{className:"btn btn-brand btn-sm",onClick:e,children:"Download Blank PDF"}),l.jsx("button",{className:"btn btn-outline-brand btn-sm",onClick:()=>window.print(),children:"Print This Page"})]}),l.jsxs("div",{className:"row g-3 mt-1",children:[l.jsxs("div",{className:"col-12",children:[l.jsx("h6",{className:"fw-bold mb-1",children:"Student & Admission"}),l.jsx("hr",{className:"hr-soft"})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Student ID"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Admission No"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Academic Year"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-12",children:[l.jsx("h6",{className:"fw-bold mb-1",children:"Group & Course"}),l.jsx("hr",{className:"hr-soft"})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Group"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Course Code"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Course Name"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-12",children:[l.jsx("h6",{className:"fw-bold mb-1",children:"Personal Details"}),l.jsx("hr",{className:"hr-soft"})]}),l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label",children:"Full Name"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Gender"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"DOB"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label",children:"Father's Name"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label",children:"Mother's Name"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-12",children:[l.jsx("h6",{className:"fw-bold mb-1",children:"Contact & Address"}),l.jsx("hr",{className:"hr-soft"})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Mobile"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Email"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Nationality"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"State"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Aadhar No"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Postal Code (PIN)"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Religion"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Caste"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Sub Caste"}),l.jsx("input",{className:"form-control"})]}),l.jsxs("div",{className:"col-12",children:[l.jsx("label",{className:"form-label",children:"Address"}),l.jsx("textarea",{className:"form-control",rows:"2"})]}),l.jsxs("div",{className:"col-12 d-flex justify-content-end gap-2 mt-2",children:[l.jsx("button",{className:"btn btn-outline-secondary",onClick:t=>{t.preventDefault(),window.print()},children:"Print"}),l.jsx("button",{className:"btn btn-brand",onClick:t=>{t.preventDefault(),e()},children:"Download PDF"})]})]})]})})})})}const K6=[{to:"/admin/applications",label:"Exam Applications",icon:"bi-inboxes"},{to:"/admin/setup/years",label:"Create Academic Years",icon:"bi-calendar3"},{to:"/admin/setup/groups",label:"Create Groups & Courses",icon:"bi-diagram-3"},{to:"/admin/setup/subjects",label:"Create Subjects",icon:"bi-journal-text"},{to:"/admin/students",label:"Students Details",icon:"bi-person-badge"},{to:"/admin/departments",label:"Fees Generation",icon:"bi-mortarboard"},{to:"/admin/payments",label:"Payments",icon:"bi-credit-card"},{to:"/admin/courses",label:"View Courses",icon:"bi-book"},{to:"/admin/hall-tickets",label:"Hall Ticket",icon:"bi-ticket-perforated"},{to:"/admin/exams",label:"Create Exam timetable",icon:"bi-journal-check"},{to:"/admin/results",label:"Result",icon:"bi-award"}];function Is({children:e,onSignOut:t}){const{pathname:r}=pa(),n=vl(),{signOut:s}=Xg(),[i,a]=Q.useState(!1),o=()=>{if(typeof t=="function")t();else try{s()}catch{}n("/")};return l.jsxs("div",{className:"admin-shell d-grid",style:{gridTemplateColumns:i?"92px 1fr":"280px 1fr"},children:[l.jsxs("aside",{className:`sidebar-modern d-flex flex-column ${i?"collapsed":""}`,children:[l.jsxs("div",{className:"sidebar-header",children:[l.jsxs("div",{className:"sidebar-brand d-flex align-items-center gap-3",children:[l.jsx("img",{src:wl,alt:"Vijayam Logo",className:"brand-logo shadow-sm",style:{width:80,height:80,objectFit:"contain"}}),l.jsxs("div",{className:"sidebar-brand-info text-uppercase",children:[l.jsx("div",{className:"heading-font fw-600",style:{letterSpacing:"0.2em",fontSize:"0.95rem"},children:"Vijayam College"}),l.jsxs("div",{className:"sidebar-brand-subtitle fw-semibold",style:{fontSize:"0.85rem",letterSpacing:"0.18em"},children:["Arts & Science",l.jsx("span",{style:{padding:"0 0.4rem"},children:""}),"Chittor"]})]})]}),l.jsx("button",{className:"btn btn-sm btn-toggle",onClick:()=>a(!i),title:i?"Expand navigation":"Collapse navigation",children:l.jsx("i",{className:`bi ${i?"bi-chevron-double-right":"bi-chevron-double-left"}`})})]}),l.jsx("div",{className:"sidebar-divider"}),l.jsx("nav",{className:"sidebar-nav flex-grow-1 d-flex flex-column gap-1",children:K6.map(c=>l.jsxs(Yi,{to:c.to,title:c.label,className:`nav-item-modern ${r===c.to?"active":""}`,children:[l.jsx("span",{className:"icon",children:l.jsx("i",{className:`bi ${c.icon}`})}),l.jsx("span",{className:"label",children:c.label})]},c.to))}),l.jsxs("div",{className:"sidebar-footer text-center small text-muted mt-auto",children:[l.jsx("div",{children:"Exam Management Studio"}),l.jsx("div",{children:"Crafted for Vijayam College"})]})]}),l.jsxs("main",{className:"admin-main p-4",children:[l.jsxs("div",{className:"brandbar rounded px-3 py-2 mb-3 d-flex align-items-center justify-content-between header-shadow",children:[l.jsx("div",{className:"brandbar-title",children:"Exam Management System"}),l.jsxs("button",{className:"btn btn-outline-secondary modern-signout",onClick:o,title:"Sign out",children:[l.jsx("i",{className:"bi bi-box-arrow-right me-2"}),"Sign out"]})]}),l.jsx("div",{className:"admin-main-scroll",children:e})]})]})}function J6(){const e=["Male","Female","Other"],t=["General","OBC","SC","ST","Others"],r=["Hindu","Muslim","Christian","Sikh","Buddhist","Jain","Others"],n=["Tamil Nadu","Andhra Pradesh","Karnataka","Kerala","Telangana","Maharashtra","Other"],s={student_id:"",ht_no:"",academic_year:"",group:"",group_code:"",course_id:"",full_name:"",gender:"",dob:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_no:"",postal_code:"",address:"",mobile:"",Parent_no:"",email:"",religion:"",caste:"",sub_caste:""},[i,a]=Q.useState({...s,course_name:""}),[o,c]=Q.useState(null),[d,m]=Q.useState(null),[g,v]=Q.useState(!1),[f,N]=Q.useState(""),[S,k]=Q.useState([]),[_,b]=Q.useState([]),[x,P]=Q.useState([]),[$,Z]=Q.useState(""),[V,U]=Q.useState([]),[O,ne]=Q.useState([]),[I,B]=Q.useState([]),K=(D,X)=>a(ee=>({...ee,[D]:X}));Q.useEffect(()=>{(async()=>{var X,ee;try{const[we,j,M]=await Promise.all([Se.listCourses(),((X=Se.listGroups)==null?void 0:X.call(Se))||[],((ee=Se.listAcademicYears)==null?void 0:ee.call(Se))||[]]);k(we||[]),B(we||[]),b(j||[]),ne(j||[]);const W=(M||[]).filter(J=>(J==null?void 0:J.active)!==!1);P(W),U(W)}catch(we){console.error("Failed to load masters",we),k([]),b([]),P([]),U([])}})()},[]),Q.useEffect(()=>{if($){const D=x.filter(j=>$==="UG"&&j.category==="UG"||$==="PG"&&j.category==="PG"),X=_.filter(j=>$==="UG"&&(j.category==="UG"||j.Category==="UG")||$==="PG"&&(j.category==="PG"||j.Category==="PG")),ee=X.find(j=>j.code===i.group_code||j.group_code===i.group_code),we=S.filter(j=>{if(!ee)return!0;const M=ee.code||ee.group_code;return j.group_code===M||j.groupCode===M||j.group_name&&(j.group_name===ee.name||j.group_name===ee.group_name)||j.groupName&&(j.groupName===ee.name||j.groupName===ee.group_name)});U(D),ne(X),B(we),i.academic_year&&!D.some(j=>j.academic_year===i.academic_year||j.name===i.academic_year)&&K("academic_year",""),i.group_code&&!X.some(j=>j.code===i.group_code||j.group_code===i.group_code)&&(K("group_code",""),K("group",""),K("course_id",""),K("course_name","")),i.course_id&&!we.some(j=>String(j.id||j.course_id)===String(i.course_id))&&(K("course_id",""),K("course_name",""))}else U(x),ne(_),B(S)},[$,x,_,S,i.academic_year,i.group_code,i.course_id]);const E=()=>{a(s),Z(""),ne(_),B(S),U(x),c(null),m(null),N("")},oe=(D,X)=>ee=>{const we=(ee.target.value||"").replace(/\D/g,"").slice(0,X);K(D,we)},ce=(D,X)=>new RegExp(`^\\d{${X}}$`).test(D),me=async D=>{D.preventDefault(),N("");const X={Category:$,"Academic Year":i.academic_year,Group:i.group,Course:i.course_id,"Full Name":i.full_name,Gender:i.gender,"Date of Birth":i.dob,"Mobile Number":i.mobile,"Parent Mobile":i.Parent_no,"Postal Code":i.postal_code,Address:i.address};if(ia(X,{title:"Incomplete application"})){if(!ce(i.mobile,10)){it("Enter a valid 10-digit mobile number.",{type:"warning",title:"Invalid mobile"});return}if(!ce(i.postal_code,6)){it("Postal code must be 6 digits.",{type:"warning",title:"Invalid postal code"});return}if(i.aadhar_no&&!ce(i.aadhar_no,12)){it("Aadhar number must contain 12 digits.",{type:"warning",title:"Invalid Aadhar"});return}v(!0);try{const ee=S.find(J=>String(J.id||J.course_id)===String(i.course_id));if(!ee)throw new Error("Select a valid course");const we=ee.courseCode||ee.code;if(!we)throw new Error("Selected course is missing a course code reference");const j=i.course_name||ee.courseName||ee.course_name||"",M={student_id:i.student_id||`STU${Date.now().toString().slice(-6)}`,hall_ticket_no:i.ht_no||null,academic_year:i.academic_year,group_name:i.group_code||i.group,course_name:we,Category:$||null,full_name:i.full_name,gender:i.gender,date_of_birth:i.dob,father_name:i.father_name||null,mother_name:i.mother_name||null,nationality:i.nationality||null,state:i.state||null,aadhar_number:i.aadhar_no||null,pincode:i.postal_code,address:i.address,phone_number:i.mobile,Parent_no:i.Parent_no,email:i.email||null,religion:i.religion||null,caste:i.caste||null,sub_caste:i.sub_caste||null,photo_url:o?URL.createObjectURL(o):null,cert_url:d?URL.createObjectURL(d):null,status:"ACTIVE",created_at:new Date().toISOString()},{error:W}=await Xe.from("students").insert([M]);if(W)throw W;it("Application submitted successfully!",{type:"success",title:"Success"}),N("Application saved successfully."),E()}catch(ee){console.error("Unable to submit application",ee),N(ee.message||"Unable to submit application right now.")}finally{v(!1)}}};return l.jsx(Is,{children:l.jsxs("div",{className:"desktop-container",style:{overflowX:"hidden"},children:[l.jsx("section",{className:"setup-hero mb-4 text-center",children:l.jsxs("div",{className:"setup-hero-copywrap mx-auto text-center",style:{maxWidth:"640px"},children:[l.jsx("div",{className:"admin-applications__crest mx-auto","aria-hidden":"true",children:l.jsx("img",{src:wl,alt:"Vijayam crest"})}),l.jsx("h3",{className:"setup-hero-title mb-2",children:"Vijayam Arts & Science College"}),l.jsx("p",{className:"setup-hero-copy mb-3",children:"Collect, verify, and onboard applicants with confidence."}),l.jsxs("div",{className:"setup-hero-chips d-flex flex-wrap gap-2 justify-content-center",children:[l.jsx("span",{className:"setup-hero-chip text-uppercase",children:"SMART EXAMINATION PLATFORM"}),l.jsx("span",{className:"setup-hero-chip text-uppercase",children:"ADMISSIONS CONTROL"}),l.jsx("span",{className:"setup-hero-chip text-uppercase",children:"APPLICATIONS ADMIN CONSOLE"})]})]})}),l.jsx("div",{className:"row g-4 justify-content-center mx-0",children:l.jsx("div",{className:"col-12 col-lg-11 col-xl-10",children:l.jsxs("div",{className:"card card-soft p-4 mb-4",children:[l.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"mb-1",children:"Student Application"}),l.jsx("p",{className:"text-muted mb-0",children:"Programme selection, personal profile, and uploads."})]}),l.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:E,children:"Reset Form"})]}),l.jsxs("form",{onSubmit:me,children:[l.jsxs("div",{className:"application-section mb-4",children:[l.jsx("h6",{className:"text-uppercase text-muted fw-bold small",children:"Programme Selection"}),l.jsxs("div",{className:"row g-3 mt-1",children:[l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Category"}),l.jsxs("select",{className:"form-select",value:$,onChange:D=>Z(D.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Select"}),l.jsx("option",{value:"UG",children:"UG"}),l.jsx("option",{value:"PG",children:"PG"})]})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Academic Year"}),l.jsxs("select",{className:"form-select",value:i.academic_year,onChange:D=>K("academic_year",D.target.value),required:!0,disabled:!$,children:[l.jsx("option",{value:"",children:"Select Year"}),V.map(D=>l.jsx("option",{value:D.academic_year||D.name,children:D.academic_year||D.name},D.id))]})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Group"}),l.jsxs("select",{className:"form-select",value:i.group_code||i.group,onChange:D=>{const X=D.target.value,ee=O.find(we=>we.code===X||we.group_code===X);K("group",(ee==null?void 0:ee.name)||(ee==null?void 0:ee.group_name)||(ee==null?void 0:ee.code)||X),a(we=>({...we,group_code:X}))},required:!0,disabled:!$,children:[l.jsx("option",{value:"",children:"Select"}),O.map(D=>l.jsx("option",{value:D.code||D.group_code,children:D.name||D.group_name||"Group"},D.id||D.group_id))]})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Course"}),l.jsxs("select",{className:"form-select",value:i.course_id,onChange:D=>{const X=I.find(ee=>String(ee.id||ee.course_id)===String(D.target.value));a(ee=>({...ee,course_id:D.target.value,course_name:(X==null?void 0:X.courseName)||(X==null?void 0:X.course_name)||(X==null?void 0:X.name)||""}))},required:!0,disabled:!i.group_code,children:[l.jsx("option",{value:"",children:"Select"}),I.map(D=>l.jsx("option",{value:D.id||D.course_id,children:D.name||D.courseName||D.course_name},D.id||D.course_id))]})]})]})]}),l.jsxs("div",{className:"application-section mb-4",children:[l.jsx("h6",{className:"text-uppercase text-muted fw-bold small",children:"Identity & Guardians"}),l.jsxs("div",{className:"row g-3 mt-1",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label",children:"Student ID"}),l.jsx("input",{className:"form-control",value:i.student_id,onChange:D=>K("student_id",D.target.value),placeholder:"Auto-generated if blank"})]}),l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label",children:"Hall Ticket No"}),l.jsx("input",{className:"form-control",value:i.ht_no,onChange:D=>K("ht_no",D.target.value),placeholder:"Optional"})]}),l.jsxs("div",{className:"col-md-8",children:[l.jsx("label",{className:"form-label",children:"Full Name"}),l.jsx("input",{className:"form-control",value:i.full_name,onChange:D=>K("full_name",D.target.value),required:!0})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Gender"}),l.jsxs("select",{className:"form-select",value:i.gender,onChange:D=>K("gender",D.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Select"}),e.map(D=>l.jsx("option",{value:D,children:D},D))]})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"DOB"}),l.jsx("input",{type:"date",className:"form-control",value:i.dob,onChange:D=>K("dob",D.target.value),required:!0})]}),l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label",children:"Father's Name"}),l.jsx("input",{className:"form-control",value:i.father_name,onChange:D=>K("father_name",D.target.value)})]}),l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label",children:"Mother's Name"}),l.jsx("input",{className:"form-control",value:i.mother_name,onChange:D=>K("mother_name",D.target.value)})]})]})]}),l.jsxs("div",{className:"application-section mb-4",children:[l.jsx("h6",{className:"text-uppercase text-muted fw-bold small",children:"Contact & Address"}),l.jsxs("div",{className:"row g-3 mt-1",children:[l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Mobile Number"}),l.jsx("input",{type:"tel",className:"form-control",value:i.mobile,onChange:oe("mobile",10),required:!0,maxLength:10,placeholder:"10-digit mobile number"})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Parent Mobile"}),l.jsx("input",{type:"tel",className:"form-control",value:i.Parent_no,onChange:oe("Parent_no",10),required:!0,maxLength:10,placeholder:"Parent's 10-digit mobile"})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Email"}),l.jsx("input",{type:"email",className:"form-control",value:i.email,onChange:D=>K("email",D.target.value)})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Nationality"}),l.jsx("input",{className:"form-control",value:i.nationality,onChange:D=>K("nationality",D.target.value)})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"State"}),l.jsxs("select",{className:"form-select",value:i.state,onChange:D=>K("state",D.target.value),children:[l.jsx("option",{value:"",children:"Select"}),n.map(D=>l.jsx("option",{value:D,children:D},D))]})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Postal Code"}),l.jsx("input",{className:"form-control",inputMode:"numeric",value:i.postal_code,onChange:oe("postal_code",6),placeholder:"6-digit PIN",required:!0})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Aadhaar"}),l.jsx("input",{className:"form-control",inputMode:"numeric",value:i.aadhar_no,onChange:oe("aadhar_no",12),placeholder:"12-digit"})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Religion"}),l.jsxs("select",{className:"form-select",value:i.religion,onChange:D=>K("religion",D.target.value),children:[l.jsx("option",{value:"",children:"Select"}),r.map(D=>l.jsx("option",{value:D,children:D},D))]})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Caste"}),l.jsxs("select",{className:"form-select",value:i.caste,onChange:D=>K("caste",D.target.value),children:[l.jsx("option",{value:"",children:"Select"}),t.map(D=>l.jsx("option",{value:D,children:D},D))]})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Sub Caste"}),l.jsx("input",{className:"form-control",value:i.sub_caste,onChange:D=>K("sub_caste",D.target.value)})]}),l.jsxs("div",{className:"col-12",children:[l.jsx("label",{className:"form-label",children:"Permanent Address"}),l.jsx("textarea",{className:"form-control",rows:"2",value:i.address,onChange:D=>K("address",D.target.value),required:!0})]})]})]}),l.jsxs("div",{className:"application-section mb-3",children:[l.jsx("h6",{className:"text-uppercase text-muted fw-bold small",children:"Uploads"}),l.jsxs("div",{className:"row g-3 mt-1",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label",children:"Photograph"}),l.jsx("input",{type:"file",accept:"image/*",className:"form-control",onChange:D=>{var X;return c(((X=D.target.files)==null?void 0:X[0])||null)}})]}),l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label",children:"Signature"}),l.jsx("input",{type:"file",accept:"application/pdf,image/*",className:"form-control",onChange:D=>{var X;return m(((X=D.target.files)==null?void 0:X[0])||null)}})]})]})]}),l.jsxs("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[l.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:E,children:"Clear"}),l.jsx("button",{className:"btn btn-brand",disabled:g,children:g?"Submitting...":"Submit Application"})]})]}),f&&l.jsx("div",{className:"alert alert-info mt-3 mb-0",children:f})]})})})]})})}function Q6(){Q.useEffect(()=>{const f=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=f}},[]);const e=vl(),{setUser:t}=Xg(),[r,n]=Q.useState("admin@vijayam.edu"),[s,i]=Q.useState("admin123"),[a,o]=Q.useState("ADMIN"),[c,d]=Q.useState(!1),[m,g]=Q.useState(""),v=async f=>{f.preventDefault(),d(!0),g("");try{const N=await Se.login(r);t({email:N.email,role:N.role}),e("/admin")}catch(N){g(N.message||"Unable to sign in right now")}finally{d(!1)}};return l.jsx("main",{className:"admin-login-shell",children:l.jsxs("section",{className:"admin-login-card","aria-live":"polite",children:[l.jsxs("div",{className:"admin-login-brand",children:[l.jsx("div",{className:"admin-login-logo","aria-hidden":"true",children:l.jsx("img",{src:wl,alt:"Vijayam crest"})}),l.jsxs("div",{children:[l.jsx("p",{className:"admin-login-eyebrow",children:"Exam Control Centre"}),l.jsx("h1",{className:"admin-login-title",children:"Admin login"}),l.jsx("p",{className:"admin-login-subtitle",children:"Sign in to manage Vijayam exams."})]})]}),l.jsxs("form",{className:"admin-login-form",onSubmit:v,children:[l.jsxs("label",{className:"admin-login-field",children:[l.jsx("span",{children:"Email"}),l.jsx("input",{type:"email",className:"admin-login-input",value:r,autoComplete:"username",onChange:f=>n(f.target.value),required:!0})]}),l.jsxs("label",{className:"admin-login-field",children:[l.jsx("span",{children:"Password"}),l.jsx("input",{type:"password",className:"admin-login-input",value:s,autoComplete:"current-password",onChange:f=>i(f.target.value),required:!0})]}),l.jsxs("label",{className:"admin-login-field",children:[l.jsx("span",{children:"Login as"}),l.jsxs("select",{className:"admin-login-input admin-login-select",value:a,onChange:f=>o(f.target.value),children:[l.jsx("option",{value:"ADMIN",children:"Admin"}),l.jsx("option",{value:"PRINCIPAL",children:"Principal"})]})]}),m&&l.jsx("p",{className:"admin-login-error",children:m}),l.jsx("button",{className:"admin-login-submit",disabled:c,children:c?"Signing in...":"Sign in"})]})]})})}function X6(){const[e,t]=Q.useState([]),[r,n]=Q.useState(""),s=async()=>t(await Se.listBatches());Q.useEffect(()=>{s()},[]);const i=async()=>{ia({"Batch name":r})&&(await Se.addBatch({name:r.trim()}),n(""),s())};return l.jsxs(Is,{children:[l.jsx("h2",{className:"fw-bold mb-3",children:"Batches"}),l.jsxs("div",{className:"row g-3",children:[l.jsx("div",{className:"col-lg-4",children:l.jsxs("div",{className:"card card-soft p-3",children:[l.jsx("label",{className:"form-label",children:"Batch Name"}),l.jsx("input",{className:"form-control mb-2",value:r,required:!0,onChange:a=>n(a.target.value),placeholder:"e.g., 2025-CS-A"}),l.jsx("button",{className:"btn btn-brand",onClick:i,children:"Add Batch"})]})}),l.jsx("div",{className:"col-lg-8",children:l.jsx("div",{className:"card card-soft p-0",children:l.jsxs("table",{className:"table mb-0",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Created"})]})}),l.jsx("tbody",{children:e.map(a=>l.jsxs("tr",{children:[l.jsx("td",{children:a.name}),l.jsx("td",{children:new Date(a.created_at).toLocaleString()})]},a.id))})]})})})]})]})}function Z6(){const[e,t]=Q.useState([]),r=async()=>t(await Se.listCourses());return Q.useEffect(()=>{r()},[]),l.jsxs(Is,{children:[l.jsx("h2",{className:"fw-bold mb-3",children:"Courses"}),l.jsx("div",{className:"row",children:l.jsx("div",{className:"col-12",children:l.jsx("div",{className:"card card-soft p-0",children:l.jsxs("table",{className:"table mb-0",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Course Code"}),l.jsx("th",{children:"Course Name"}),l.jsx("th",{children:"Duration"})]})}),l.jsx("tbody",{children:e.map(n=>l.jsxs("tr",{children:[l.jsx("td",{children:n.code}),l.jsx("td",{children:n.name}),l.jsxs("td",{children:[n.duration_years," years"]})]},n.id))})]})})})})]})}function ek(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}ek(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var h0=e=>typeof e=="number"&&!isNaN(e),Kc=e=>typeof e=="string",g_=e=>typeof e=="function",tk=e=>Kc(e)||h0(e),rk=e=>Q.isValidElement(e)||Kc(e)||g_(e)||h0(e),nk=1,v_=()=>`${nk++}`,Ys=new Map,Zm=[],i2=new Set,y_=()=>Ys.size>0,sk=(e,{containerId:t})=>{var r;return(r=Ys.get(t||1))==null?void 0:r.toasts.get(e)};function ik(e,t){var r;if(t)return!!((r=Ys.get(t))!=null&&r.isToastActive(e));let n=!1;return Ys.forEach(s=>{s.isToastActive(e)&&(n=!0)}),n}function ak(e){if(!y_()){Zm=Zm.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||tk(e))Ys.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ys.get(e.containerId);t?t.removeToast(e.id):Ys.forEach(r=>{r.removeToast(e.id)})}}var ok=(e={})=>{Ys.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function lk(e,t){rk(e)&&(y_()||Zm.push({content:e,options:t}),Ys.forEach(r=>{r.buildToast(e,t)}))}function b_(e,t){Ys.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function ck(e){return i2.add(e),()=>{i2.delete(e)}}function uk(e){return e&&(Kc(e.toastId)||h0(e.toastId))?e.toastId:v_()}function ru(e,t){return lk(e,t),t.toastId}function Vh(e,t){return{...t,type:t&&t.type||e,toastId:uk(t)}}function Gh(e){return(t,r)=>ru(t,Vh(e,r))}function Yt(e,t){return ru(e,Vh("default",t))}Yt.loading=(e,t)=>ru(e,Vh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function dk(e,{pending:t,error:r,success:n},s){let i;t&&(i=Kc(t)?Yt.loading(t,s):Yt.loading(t.render,{...s,...t}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(d,m,g)=>{if(m==null){Yt.dismiss(i);return}let v={type:d,...a,...s,data:g},f=Kc(m)?{render:m}:m;return i?Yt.update(i,{...v,...f}):Yt(f.render,{...v,...f}),g},c=g_(e)?e():e;return c.then(d=>o("success",n,d)).catch(d=>o("error",r,d)),c}Yt.promise=dk;Yt.success=Gh("success");Yt.info=Gh("info");Yt.error=Gh("error");Yt.warning=Gh("warning");Yt.warn=Yt.warning;Yt.dark=(e,t)=>ru(e,Vh("default",{theme:"dark",...t}));function hk(e){ak(e)}Yt.dismiss=hk;Yt.clearWaitingQueue=ok;Yt.isActive=ik;Yt.update=(e,t={})=>{let r=sk(e,t);if(r){let{props:n,content:s}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:v_()};i.toastId!==e&&(i.staleId=e);let a=i.render||s;delete i.render,ru(a,i)}};Yt.done=e=>{Yt.update(e,{progress:1})};Yt.onChange=ck;Yt.play=e=>b_(!0,e);Yt.pause=e=>b_(!1,e);function fk(){const[e,t]=Q.useState([]),[r,n]=Q.useState({academic_year:"",group_name:"",course_name:""}),[s,i]=Q.useState([]),[a,o]=Q.useState([]),[c,d]=Q.useState([]),[m,g]=Q.useState(!1),[v,f]=Q.useState(null),[N,S]=Q.useState({show:!1,student:null,selectedStatus:"CONTINUE"}),k=["UG","PG"],_=Q.useMemo(()=>{const E=[...k],oe=new Set(E.map(ce=>ce==null?void 0:ce.toUpperCase()));return a.forEach(ce=>{const me=ce.category||ce.Category;if(me){const D=me.toUpperCase();oe.has(D)||(oe.add(D),E.push(D))}}),E},[a]),[b,x]=Q.useState({student_id:"",hall_ticket_no:"",academic_year:"",group_name:"",group_code:"",course_name:"",course_code:"",full_name:"",gender:"",date_of_birth:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_number:"",address:"",pincode:"",phone_number:"",email:"",religion:"",caste:"",sub_caste:"",photo_url:"",cert_url:"",status:"ACTIVE",category:""});Q.useEffect(()=>{l0((async()=>{g(!0);try{const{data:oe,error:ce}=await Xe.from("students").select(`
            *,
            group:groups!students_group_name_fkey(group_code, group_name),
            course:courses!students_course_name_fkey(course_code, course_name),
            year:academic_year!students_academic_year_fkey(academic_year)
          `).order("full_name");if(ce)throw ce;const{data:me,error:D}=await Xe.from("academic_year").select("id, academic_year, status").order("academic_year",{ascending:!1});if(D)throw D;const{data:X,error:ee}=await Xe.from("groups").select("group_id, group_code, group_name").order("group_name");if(ee)throw ee;const{data:we,error:j}=await Xe.from("courses").select("course_id, course_code, course_name").order("course_name");if(j)throw j;const M=oe.map(J=>{var se,he,pe,q,G;return{...J,group_name:((se=J.group)==null?void 0:se.group_name)||J.group_name,group_code:(he=J.group)==null?void 0:he.group_code,course_name:((pe=J.course)==null?void 0:pe.course_name)||J.course_name,course_code:(q=J.course)==null?void 0:q.course_code,academic_year:((G=J.year)==null?void 0:G.academic_year)||J.academic_year}});t(M);const W=(me||[]).filter(J=>J.status===void 0?!0:!!J.status);i(W),o(X||[]),d(we||[])}catch(oe){console.error("Error loading data:",oe)}finally{g(!1)}})())},[]);const P=Q.useMemo(()=>e.filter(E=>{const oe=!r.academic_year||E.academic_year===r.academic_year,ce=!r.group_name||E.group_code===r.group_name,me=!r.course_name||E.course_code===r.course_name;return oe&&ce&&me}),[e,r]),$=(E,oe)=>{n(ce=>({...ce,[E]:oe}))},Z=E=>{var oe,ce,me,D;f(E),x({student_id:E.student_id||"",hall_ticket_no:E.hall_ticket_no||"",academic_year:E.academic_year||"",category:(E.Category||E.category||"").toUpperCase(),group_name:((oe=E.group)==null?void 0:oe.group_name)||E.group_name||E.group||"",group_code:((ce=E.group)==null?void 0:ce.group_code)||E.group_code||"",course_name:((me=E.course)==null?void 0:me.course_name)||E.course_name||E.course||"",course_code:((D=E.course)==null?void 0:D.course_code)||E.course_code||"",full_name:E.full_name||"",gender:E.gender||"",date_of_birth:E.date_of_birth||"",father_name:E.father_name||"",mother_name:E.mother_name||"",nationality:E.nationality||"",state:E.state||"",aadhar_number:E.aadhar_number||"",address:E.address||"",pincode:E.pincode||"",phone_number:E.phone_number||"",email:E.email||"",religion:E.religion||"",caste:E.caste||"",sub_caste:E.sub_caste||"",photo_url:E.photo_url||"",cert_url:E.cert_url||"",status:E.status||"ACTIVE"})},V=E=>{const{name:oe,value:ce}=E.target;x(me=>{if(oe==="group_code"){const D=a.find(X=>X.group_code===ce);return{...me,group_code:ce,group_name:(D==null?void 0:D.group_name)||""}}if(oe==="course_code"){const D=c.find(X=>X.course_code===ce);return{...me,course_code:ce,course_name:(D==null?void 0:D.course_name)||""}}return oe==="category"?{...me,category:ce.toUpperCase()}:{...me,[oe]:ce}})},U=async()=>{var ce,me;if(!v)return;const E={"Student ID":b.student_id,Category:b.category,"Full Name":b.full_name,"Academic Year":b.academic_year,Group:b.group_name,Course:b.course_name};if(ia(E,{notify:({message:D})=>Yt.warn(D)}))try{g(!0);const D={student_id:b.student_id,hall_ticket_no:b.hall_ticket_no,academic_year:b.academic_year,Category:b.category,group_name:b.group_code,course_name:b.course_code,full_name:b.full_name,gender:b.gender,date_of_birth:b.date_of_birth,father_name:b.father_name,mother_name:b.mother_name,nationality:b.nationality,state:b.state,aadhar_number:b.aadhar_number,address:b.address,pincode:b.pincode,phone_number:b.phone_number,email:b.email,religion:b.religion,caste:b.caste,sub_caste:b.sub_caste,photo_url:b.photo_url,cert_url:b.cert_url,status:b.status},{error:X}=await Xe.from("students").update(D).eq("id",v.id);if(X)throw X;const ee=((ce=a.find(j=>j.group_code===b.group_code))==null?void 0:ce.group_name)||b.group_code,we=((me=c.find(j=>j.course_code===b.course_code))==null?void 0:me.course_name)||b.course_code;t(j=>j.map(M=>M.id===v.id?{...M,...b,...D,group_name:ee,course_name:we,group_code:b.group_code,course_code:b.course_code}:M)),Yt.success("Student updated successfully"),f(null)}catch(D){console.error("Error updating student:",D),Yt.error("Failed to update student")}finally{g(!1)}},O=()=>{f(null)},ne=async E=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Se.deleteStudent(E),t(e.filter(oe=>oe.id!==E))}catch(oe){console.error("Error deleting student:",oe)}},I=E=>{S({show:!0,student:E,selectedStatus:E.status||"CONTINUE"})},B=()=>{S(E=>({...E,show:!1}))},K=async()=>{if(N.student)try{const{error:E}=await Xe.from("students").update({status:N.selectedStatus}).eq("id",N.student.id);if(E)throw E;t(e.map(oe=>oe.id===N.student.id?{...oe,status:N.selectedStatus}:oe)),Yt.success("Student status updated successfully"),B()}catch(E){console.error("Error updating student status:",E),Yt.error("Failed to update student status")}};return l.jsxs(Is,{children:[l.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:l.jsx("h2",{className:"fw-bold mb-0",children:"Student Management"})}),l.jsxs("div",{className:"card card-soft p-3 mb-4",children:[l.jsx("h5",{className:"mb-3",children:"Filter Students"}),l.jsxs("div",{className:"row g-3",children:[l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Academic Year"}),l.jsxs("select",{className:"form-select",value:r.academic_year,onChange:E=>$("academic_year",E.target.value),children:[l.jsx("option",{value:"",children:"All Years"}),s.map(E=>l.jsx("option",{value:E.academic_year,children:E.academic_year},E.id))]})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Group"}),l.jsxs("select",{className:"form-select",value:r.group_name,onChange:E=>$("group_name",E.target.value),children:[l.jsx("option",{value:"",children:"All Groups"}),a.map(E=>l.jsx("option",{value:E.group_code,children:E.group_name},E.group_id))]})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Course"}),l.jsxs("select",{className:"form-select",value:r.course_name,onChange:E=>$("course_name",E.target.value),children:[l.jsx("option",{value:"",children:"All Courses"}),c.map(E=>l.jsx("option",{value:E.course_code,children:E.course_name},E.course_id))]})]})]})]}),l.jsx("div",{className:"card card-soft p-0",children:l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-hover mb-0",children:[l.jsx("thead",{className:"table-light",children:l.jsxs("tr",{children:[l.jsx("th",{children:"Student ID"}),l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Hall Ticket No"}),l.jsx("th",{children:"Group"}),l.jsx("th",{children:"Course"}),l.jsx("th",{children:"Academic Year"}),l.jsx("th",{children:"Academic Status"}),l.jsx("th",{children:"Edit Details"})]})}),l.jsx("tbody",{children:m?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"text-center py-4",children:l.jsx("div",{className:"spinner-border text-primary",role:"status",children:l.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):P.length>0?P.map(E=>{var oe,ce;return l.jsxs("tr",{children:[l.jsx("td",{children:E.student_id}),l.jsx("td",{children:E.full_name}),l.jsx("td",{children:E.hall_ticket_no||"-"}),l.jsx("td",{children:((oe=E.group)==null?void 0:oe.group_name)||E.group_name}),l.jsx("td",{children:((ce=E.course)==null?void 0:ce.course_name)||E.course_name}),l.jsx("td",{children:E.academic_year}),l.jsx("td",{children:l.jsx("button",{className:`btn btn-sm ${E.status==="DISCONTINUE"?"btn-danger":E.status==="HOLD"?"btn-warning":"btn-success"}`,onClick:()=>I(E),style:{minWidth:"100px"},children:E.status==="DISCONTINUE"?"Discontinued":E.status==="HOLD"?"On Hold":"Active"})}),l.jsxs("td",{children:[l.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Z(E),children:"Edit"}),l.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>ne(E.id),children:"Delete"})]})]},E.id)}):l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"text-center py-4",children:"No students found matching the selected filters."})})})]})})}),v&&l.jsx("div",{className:"modal d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:l.jsx("div",{className:"modal-dialog modal-dialog-centered",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header bg-light",children:[l.jsxs("h5",{className:"modal-title",children:["Edit Student: ",v.student_id," "," ",v.full_name]}),l.jsx("button",{type:"button",className:"btn-close",onClick:O})]}),l.jsxs("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:[l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsx("h6",{children:"Student Information"}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Student ID"}),l.jsx("input",{type:"text",className:"form-control",name:"student_id",value:b.student_id,onChange:V,required:!0})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Hall Ticket No"}),l.jsx("input",{type:"text",className:"form-control",name:"hall_ticket_no",value:b.hall_ticket_no,onChange:V})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Full Name"}),l.jsx("input",{type:"text",className:"form-control",name:"full_name",value:b.full_name,onChange:V,required:!0})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Date of Birth"}),l.jsx("input",{type:"date",className:"form-control",name:"date_of_birth",value:b.date_of_birth,onChange:V,required:!0})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Gender"}),l.jsxs("select",{className:"form-select",name:"gender",value:b.gender,onChange:V,required:!0,children:[l.jsx("option",{value:"",children:"Select Gender"}),l.jsx("option",{value:"Male",children:"Male"}),l.jsx("option",{value:"Female",children:"Female"}),l.jsx("option",{value:"Other",children:"Other"})]})]})]}),l.jsxs("div",{className:"col-md-6",children:[l.jsx("h6",{children:"Academic Information"}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Category"}),l.jsxs("select",{className:"form-select",name:"category",value:b.category,onChange:V,required:!0,children:[l.jsx("option",{value:"",children:"Select Category"}),_.map(E=>l.jsx("option",{value:E,children:E},E))]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Academic Year"}),l.jsxs("select",{className:"form-select",name:"academic_year",value:b.academic_year,onChange:V,required:!0,children:[l.jsx("option",{value:"",children:"Select Year"}),s.map(E=>l.jsx("option",{value:E.academic_year,children:E.academic_year},E.id))]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Group"}),l.jsxs("select",{className:"form-select",name:"group_code",value:b.group_code,onChange:V,required:!0,children:[l.jsx("option",{value:"",children:"Select Group"}),a.map(E=>l.jsx("option",{value:E.group_code,children:E.group_name},E.group_id))]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Course"}),l.jsxs("select",{className:"form-select",name:"course_code",value:b.course_code,onChange:V,required:!0,children:[l.jsx("option",{value:"",children:"Select Course"}),c.map(E=>l.jsx("option",{value:E.course_code,children:E.course_name},E.course_id))]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Status"}),l.jsxs("select",{className:"form-select",name:"status",value:b.status,onChange:V,required:!0,children:[l.jsx("option",{value:"ACTIVE",children:"Active"}),l.jsx("option",{value:"INACTIVE",children:"Inactive"}),l.jsx("option",{value:"GRADUATED",children:"Graduated"}),l.jsx("option",{value:"DROPPED",children:"Dropped"})]})]})]})]}),l.jsxs("div",{className:"row mt-3",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsx("h6",{children:"Parent Information"}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Father's Name"}),l.jsx("input",{type:"text",className:"form-control",name:"father_name",value:b.father_name,onChange:V})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Mother's Name"}),l.jsx("input",{type:"text",className:"form-control",name:"mother_name",value:b.mother_name,onChange:V})]})]}),l.jsxs("div",{className:"col-md-6",children:[l.jsx("h6",{children:"Contact Information"}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Phone Number"}),l.jsx("input",{type:"tel",className:"form-control",name:"phone_number",value:b.phone_number,onChange:V})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Email"}),l.jsx("input",{type:"email",className:"form-control",name:"email",value:b.email,onChange:V})]})]})]}),l.jsx("div",{className:"row mt-3",children:l.jsxs("div",{className:"col-12",children:[l.jsx("h6",{children:"Address & Identity"}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Address"}),l.jsx("textarea",{className:"form-control",name:"address",rows:"2",value:b.address,onChange:V})]}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"State"}),l.jsx("input",{type:"text",className:"form-control",name:"state",value:b.state,onChange:V})]})}),l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Pincode"}),l.jsx("input",{type:"text",className:"form-control",name:"pincode",value:b.pincode,onChange:V})]})})]}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Aadhar Number"}),l.jsx("input",{type:"text",className:"form-control",name:"aadhar_number",value:b.aadhar_number,onChange:V})]})}),l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Nationality"}),l.jsx("input",{type:"text",className:"form-control",name:"nationality",value:b.nationality,onChange:V})]})})]})]})}),l.jsxs("div",{className:"row mt-3",children:[l.jsx("div",{className:"col-md-4",children:l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Religion"}),l.jsx("input",{type:"text",className:"form-control",name:"religion",value:b.religion,onChange:V})]})}),l.jsx("div",{className:"col-md-4",children:l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Caste"}),l.jsx("input",{type:"text",className:"form-control",name:"caste",value:b.caste,onChange:V})]})}),l.jsx("div",{className:"col-md-4",children:l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Sub Caste"}),l.jsx("input",{type:"text",className:"form-control",name:"sub_caste",value:b.sub_caste,onChange:V})]})})]}),l.jsxs("div",{className:"row mt-3",children:[l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Photo URL"}),l.jsx("input",{type:"text",className:"form-control",name:"photo_url",value:b.photo_url,onChange:V})]})}),l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Signature URL"}),l.jsx("input",{type:"text",className:"form-control",name:"cert_url",value:b.cert_url,onChange:V})]})})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:O,disabled:m,children:"Cancel"}),l.jsx("button",{type:"button",className:"btn btn-primary",onClick:U,disabled:m,children:m?"Updating...":"Update Student"})]})]})})}),N.show&&l.jsx("div",{className:"modal d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:l.jsx("div",{className:"modal-dialog modal-dialog-centered",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:"Update Student Status"}),l.jsx("button",{type:"button",className:"btn-close",onClick:B})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Select Status"}),l.jsxs("div",{className:"d-flex flex-column gap-2",children:[l.jsxs("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"radio",name:"statusOption",id:"continueOption",value:"CONTINUE",checked:N.selectedStatus==="CONTINUE",onChange:()=>S({...N,selectedStatus:"CONTINUE"})}),l.jsx("label",{className:"form-check-label",htmlFor:"continueOption",children:"Continue (Active)"})]}),l.jsxs("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"radio",name:"statusOption",id:"discontinueOption",value:"DISCONTINUE",checked:N.selectedStatus==="DISCONTINUE",onChange:()=>S({...N,selectedStatus:"DISCONTINUE"})}),l.jsx("label",{className:"form-check-label",htmlFor:"discontinueOption",children:"Discontinue"})]}),l.jsxs("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"radio",name:"statusOption",id:"holdOption",value:"HOLD",checked:N.selectedStatus==="HOLD",onChange:()=>S({...N,selectedStatus:"HOLD"})}),l.jsx("label",{className:"form-check-label",htmlFor:"holdOption",children:"Hold"})]})]})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:B,children:"Cancel"}),l.jsx("button",{type:"button",className:"btn btn-primary",onClick:K,children:"Update Status"})]})]})})})]})}__.jsx;function __(){const[e,t]=Q.useState([]),[r,n]=Q.useState({title:"",date:"",time:"",venue:"",course_id:""}),s=async()=>t(await Se.listExams());return Q.useEffect(()=>{s()},[]),l.jsx(Is,{children:l.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center",style:{minHeight:"70vh"},children:[l.jsx("h2",{className:"fw-bold mb-3",children:"Exam Scheduling"}),l.jsx("p",{className:"h4 text-muted",children:"This page should be updated"})]})})}function pk(){const[e,t]=Q.useState([]),[r,n]=Q.useState([]),[s,i]=Q.useState([]),[a,o]=Q.useState([]),[c,d]=Q.useState([]),[m,g]=Q.useState([]),[v,f]=Q.useState({year:"",group:"",group_code:"",courseCode:"",semester:""}),[N,S]=Q.useState(""),[k,_]=Q.useState(""),[b,x]=Q.useState(!1),[P,$]=Q.useState(null),[Z,V]=Q.useState({}),[U,O]=Q.useState(""),ne=!!(v.year||v.group_code||v.courseCode||v.semester),I=(...G)=>G.find(te=>te!=null&&te!==""),B=G=>r.find(te=>te.code===G.group_code||te.code===G.group||te.code===G.group_name||te.name===G.group||te.name===G.group_name),K=G=>s.find(te=>te.courseCode===G.course_code||te.courseCode===G.course_name||te.courseCode===G.courseCode||te.courseName===G.course_name||te.courseName===G.courseCode),E=Q.useMemo(()=>a.filter(G=>{const te=!v.year||G.academic_year===v.year,xe=!v.group_code||[G.group_code,G.group,G.group_name].includes(v.group_code),je=!v.courseCode||[G.course_code,G.course_name,G.course_id].includes(v.courseCode),Ye=!v.semester||!G.semester||String(G.semester)===String(v.semester);return te&&xe&&je&&Ye}),[a,v.year,v.group_code,v.courseCode,v.semester]),oe=Q.useMemo(()=>{if(!P)return[];const{course_code:G,course_name:te,courseCode:xe,course:je,semester:Ye}=P,ye=new Set([G,te,xe,je].filter(Boolean)),Y=Ye===""||Ye===void 0||Ye===null?null:Number(Ye);return c.filter(nt=>{const He=ye.size===0||ye.has(nt.courseCode)||ye.has(nt.courseName),Pe=nt.semester===""||nt.semester===void 0||nt.semester===null?null:Number(nt.semester);return He&&(Y===null||Pe===null||Y===Pe)})},[c,P==null?void 0:P.student_id,P==null?void 0:P.course_code,P==null?void 0:P.course_name,P==null?void 0:P.courseCode,P==null?void 0:P.course,P==null?void 0:P.semester]),ce=Object.values(Z||{}).filter(Boolean).length,me=ce>0;Q.useEffect(()=>{V({}),O("")},[P==null?void 0:P.student_id]);const D=vl(),X=pa(),ee=Q.useCallback(async()=>{var G,te,xe,je,Ye,ye;try{const[Y,nt,He,Pe,De,Fe]=await Promise.all([(G=Se.listAcademicYears)==null?void 0:G.call(Se),(te=Se.listGroups)==null?void 0:te.call(Se),(xe=Se.listCourses)==null?void 0:xe.call(Se),(je=Se.listStudents)==null?void 0:je.call(Se),(Ye=Se.listFees)==null?void 0:Ye.call(Se),(ye=Se.listSubjects)==null?void 0:ye.call(Se)]),Me=(Y||[]).filter(Be=>(Be==null?void 0:Be.active)!==!1),st=(nt||[]).map(Be=>({id:Be.group_id??Be.id,code:Be.group_code??Be.code,name:Be.group_name??Be.name})),pt=(He||[]).map(Be=>({id:Be.course_id??Be.id,courseCode:Be.course_code||Be.code,courseName:Be.course_name||Be.name,group_code:Be.group_code||Be.group_name||Be.groupCode,group_name:Be.group_name||Be.groupCode})),xt=(Pe||[]).map(Be=>({...Be,academic_year:Be.academic_year||"",group_name:Be.group_name||Be.group||Be.group_code||"",group:Be.group_name||Be.group||Be.group_code||"",group_code:Be.group_code||Be.group||Be.group_name||"",course_name:Be.course_name||Be.course_id||Be.courseCode||"",course_code:Be.course_code||Be.course_name||Be.course_id||"",semester:Be.semester??Be.semester_number??""}));t(Me),n(st),i(pt),o(xt),d(Fe||[]),g(De||[])}catch(Y){console.error("Error loading payment masters:",Y)}},[]);Q.useEffect(()=>{ee()},[ee]),Q.useEffect(()=>{const G=X==null?void 0:X.state;if(!G)return;const{studentId:te,selectedFilters:xe}=G;if(xe&&f(je=>({...je,...xe})),te&&a&&a.length){const je=a.find(Ye=>Ye.student_id===te);je&&$(je)}try{D(X.pathname,{replace:!0})}catch{}},[X,a,D]);const we=async(G={})=>!1,j=G=>{D("/admin/studentpayoverview",{state:{studentId:G.student_id,selectedFilters:v}})},M=G=>{V(te=>({...te,[G]:!te[G]}))},W=async()=>{if(!P)return;if(!me){it("Select at least one subject before paying.",{type:"warning"});return}if(!U||Number(U)<=0){it("Enter a valid payment amount.",{type:"warning"});return}const G=oe.filter(ye=>Z[ye.id]).map(ye=>ye.subjectName).filter(Boolean),te=B(P),xe=K(P);I(v.year,P.academic_year,P.year),I(v.group_code,P.group_code,te==null?void 0:te.code),I(v.group,P.group_name,P.group,te==null?void 0:te.name),I(v.courseCode,P.course_code,P.courseCode,xe==null?void 0:xe.courseCode),I(P.course_name,P.courseName,xe==null?void 0:xe.courseName),I(v.semester,P.semester);const je={student_id:P.student_id,...G.length?{reference:`Subjects: ${G.join(", ")}`}:{}};await we(je)&&($(null),V({}),O(""))},J=ne?E.length:0,se=k?E.filter(G=>`${G.student_id} ${G.full_name||G.name||""}`.toLowerCase().includes(k.toLowerCase())):E,he=N?se.slice(0,Math.min(Number(N),se.length)):se,pe=G=>{if(G===""){S("");return}const te=Number(G);if(Number.isNaN(te)||te<=0){S("");return}S(String(Math.floor(te)))},q=G=>{const te=G.trim().split(" ");return te.length===1?te[0].slice(0,2).toUpperCase():(te[0][0]+te[te.length-1][0]).toUpperCase()};return l.jsxs(Is,{children:[l.jsx("h2",{className:"fw-bold mb-3",children:"Record Payment"}),l.jsxs("div",{className:"card card-soft p-3 mb-4",children:[l.jsx("h4",{className:"fw-bold mb-3",children:"Filter Students"}),l.jsxs("div",{className:"row g-3",children:[l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label fw-bold",children:"Academic Year"}),l.jsxs("select",{className:"form-select",value:v.year,onChange:G=>f({...v,year:G.target.value,group:"",group_code:"",courseCode:"",semester:"",student_id:""}),children:[l.jsx("option",{value:"",children:"Select Year"}),e.map(G=>l.jsx("option",{value:G.academic_year,children:G.academic_year},G.id))]})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label fw-bold",children:"Group"}),l.jsxs("select",{className:"form-select",value:v.group_code,onChange:G=>{const te=G.target.value,xe=r.find(je=>je.code===te||je.group_code===te);f(je=>({...je,group:(xe==null?void 0:xe.name)||"",group_code:(xe==null?void 0:xe.code)||te,courseCode:"",semester:"",student_id:""}))},children:[l.jsx("option",{value:"",children:"Select Group"}),r.map(G=>l.jsx("option",{value:G.code,children:G.name},G.id))]})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label fw-bold",children:"Course"}),l.jsxs("select",{className:"form-select",value:v.courseCode,disabled:!v.group_code,onChange:G=>f({...v,courseCode:G.target.value,semester:""}),children:[l.jsx("option",{value:"",children:"Select Course"}),s.filter(G=>v.group_code?G.group_code===v.group_code||G.group_name===v.group_code||G.groupCode===v.group_code:!0).map(G=>l.jsx("option",{value:G.courseCode,children:G.courseName},G.id))]})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label fw-bold",children:"Semester"}),l.jsxs("select",{className:"form-select",value:v.semester,disabled:!v.courseCode,onChange:G=>f({...v,semester:G.target.value}),children:[l.jsx("option",{value:"",children:"Select Semester"}),[1,2,3,4,5,6].map(G=>l.jsxs("option",{value:G,children:["Sem ",G]},G))]})]})]}),l.jsxs("div",{className:"mt-4",children:[ne&&l.jsxs("div",{className:"d-flex flex-wrap justify-content-between align-items-center gap-3 mb-2",children:[l.jsxs("div",{className:"d-flex align-items-center gap-2",children:[l.jsx("span",{className:"fw-semibold",children:"Matched students"}),l.jsx("span",{className:"text-muted small",children:"Show"}),l.jsx("input",{type:"number",className:"form-control form-control-sm",min:"1",placeholder:J||"0",value:N,style:{width:"90px"},onChange:G=>pe(G.target.value),"aria-label":"Rows to show"}),l.jsx("span",{className:"text-muted small",children:"entries"})]}),l.jsxs("div",{className:"d-flex align-items-center gap-2 ms-auto",children:[l.jsx("span",{className:"text-muted small",children:"Search"}),l.jsx("input",{type:"search",className:"form-control form-control-sm",placeholder:"Student ID / Name",value:k,onChange:G=>_(G.target.value),style:{width:"200px"},"aria-label":"Search students"})]})]}),ne?he.length===0?l.jsx("div",{className:"text-muted small",children:"No students match the selected filters yet."}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-hover align-middle mb-0",children:[l.jsx("thead",{className:"table-light",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",children:"Photo"}),l.jsx("th",{scope:"col",children:"Academic year"}),l.jsx("th",{scope:"col",children:"Student ID"}),l.jsx("th",{scope:"col",children:"Hall ticket"}),l.jsx("th",{scope:"col",children:"Name"}),l.jsx("th",{scope:"col",children:"Group"}),l.jsx("th",{scope:"col",children:"Course"}),l.jsx("th",{scope:"col",className:"text-end",children:"Action"})]})}),l.jsx("tbody",{children:he.map(G=>{const te=G.full_name||G.name||"Unnamed student",xe=G.academic_year||"Year not set",je=B(G),Ye=(je==null?void 0:je.name)||G.group_name||G.group||G.group_code||"Group unknown",ye=K(G),Y=(ye==null?void 0:ye.courseName)||G.course_name||G.course_code||G.course_id||"Course unknown";je!=null&&je.name||G.department||G.department_name||G.group_name||G.group,G.semester&&`${G.semester}`;const nt=G.hall_ticket_number||G.hall_ticket||G.hallTicketNo||G.hall_ticket_no||"N/A",He=G.photo_url||G.photo||G.avatar,Pe=q(te),De=(P==null?void 0:P.student_id)===G.student_id;return l.jsxs(Q.Fragment,{children:[l.jsxs("tr",{className:De?"table-primary":void 0,children:[l.jsx("td",{children:He?l.jsx("img",{src:He,alt:te,className:"rounded-circle",style:{width:40,height:40,objectFit:"cover"}}):l.jsx("div",{className:"bg-secondary text-white rounded-circle d-inline-flex align-items-center justify-content-center",style:{width:40,height:40,fontSize:12},children:Pe})}),l.jsx("td",{children:xe}),l.jsx("td",{className:"fw-semibold",children:G.student_id}),l.jsx("td",{children:nt}),l.jsx("td",{children:te}),l.jsx("td",{children:Ye}),l.jsx("td",{children:Y}),l.jsx("td",{className:"text-end",children:l.jsx("button",{className:`btn btn-sm ${De?"btn-outline-secondary":"btn-outline-primary"}`,onClick:()=>j(G),children:"Apply for Exam"})})]}),De&&l.jsx("tr",{children:l.jsx("td",{colSpan:"7",children:l.jsxs("div",{className:"bg-white border rounded-3 p-3 shadow-sm",children:[l.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"fw-semibold",children:"Subjects"}),l.jsxs("div",{className:"text-muted small",children:[ce," selected"]})]}),l.jsx("div",{children:l.jsx("span",{className:"text-muted small",children:"Select subjects to pay"})})]}),oe.length===0?l.jsx("div",{className:"alert alert-light py-2 mb-3",children:"No subjects configured for this course or semester yet."}):l.jsx("div",{className:"row g-3",children:oe.map(Fe=>l.jsx("div",{className:"col-md-6",children:l.jsxs("label",{className:"form-check w-100",children:[l.jsx("input",{type:"checkbox",className:"form-check-input",checked:!!Z[Fe.id],onChange:()=>M(Fe.id)}),l.jsxs("span",{className:"form-check-label ms-2",children:[l.jsx("strong",{children:Fe.subjectName||Fe.subjectCode}),l.jsxs("span",{className:"text-muted small ms-2",children:["(",Fe.subjectCode,")"]})]})]})},`subject-${Fe.id}`))}),l.jsxs("div",{className:"row g-2 align-items-end mt-3",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Amount (INR)"}),l.jsx("input",{type:"number",className:"form-control",min:"0",value:U,onChange:Fe=>O(Fe.target.value),placeholder:"Enter amount"})]}),l.jsx("div",{className:"col-md-6",children:l.jsx("button",{type:"button",className:"btn btn-brand w-100",disabled:!me||!U||b,onClick:W,children:b?"Processing...":"Pay selected subjects"})})]})]})})})]},`${G.student_id}-row`)})})]})}):l.jsx("div",{className:"text-muted small",children:"Select Academic Year, Group, Course, or Semester to see matching students."})]})]})]})}function mk(){return l.jsx(Is,{children:l.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center",style:{height:"70vh"},children:[l.jsx("h2",{className:"fw-bold mb-3",children:"Hall Ticket Generator"}),l.jsx("p",{className:"h4 text-muted",children:"This page should be updated"})]})})}function gk(){const[e,t]=Q.useState([]),[r,n]=Q.useState([]),[s,i]=Q.useState({student_id:"",exam_id:"",total:"",grade:""}),[a,o]=Q.useState(!1);return Q.useEffect(()=>{(async()=>(t(await Se.listStudents()),n(await Se.listExams())))()},[]),l.jsx(Is,{children:l.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center",style:{minHeight:"70vh"},children:[l.jsx("h2",{className:"fw-bold mb-3",children:"Results Management"}),l.jsx("p",{className:"h4 text-muted",children:"This page should be updated"})]})})}const vk=(e="")=>{if(!e)return"UG";const r=e.trim().replace(/[^0-9-]/g,"").match(/^(\d{4})-(\d{4})$/);if(!r)return"UG";const n=Number(r[1]);return Number(r[2])-n===2?"PG":"UG"};function yk({yearForm:e,setYearForm:t,academicYears:r=[],editingYearId:n,addYear:s,editYear:i,deleteYear:a,onCancelEdit:o}){const[c,d]=Q.useState(""),m=(x,P)=>{if(!x||!/^(\d{4})-(\d{4})$/.test(x))return!1;const[Z,V]=x.split("-").map(Number),U=P==="UG"?3:2;return V-Z===U},g=x=>{const P=x.target.value,$=e.name||"";if(e.category&&/^\d{4}$/.test(P)){if(P.length<=$.length){t(O=>({...O,name:P})),d("");return}const Z=e.category==="UG"?3:2,V=Number(P),U=`${P}-${V+Z}`;if(t(O=>({...O,name:U})),m(U,e.category))d("");else{const O=e.category==="UG"?"3 years":"2 years";d(`Please enter a valid ${e.category} duration (${O})`)}return}if(t(Z=>({...Z,name:P})),!P){d("");return}if(!e.category){d("Please select a category first");return}if(m(P,e.category))d("");else{const Z=e.category==="UG"?"3 years":"2 years";d(`Please enter a valid ${e.category} duration (${Z})`)}},v=x=>{const $=(x.category&&String(x.category)||x.year_category&&String(x.year_category)||"").trim();return $?$.toUpperCase():vk(x.name||x.academic_year)},f=r.reduce((x,P)=>{const $=v(P);return x[$]||(x[$]=[]),x[$].push(P),x},{UG:[],PG:[]}),N=f.UG||[],S=f.PG||[],k=async()=>{if(!e.category){d("Please select a category first");return}if(!m(e.name,e.category)){const x=e.category==="UG"?"3 years":"2 years";d(`Please enter a valid ${e.category} duration (${x})`);return}d(""),await s()},_=x=>{const P=v(x);i(x),t({name:x.name||x.academic_year,category:P,active:x.active}),d("")},b=async x=>{window.confirm("Are you sure you want to delete this academic year?")&&await a(x)};return l.jsxs("section",{className:"setup-section mb-4",children:[l.jsx("h5",{className:"section-title",children:"Academic Years"}),l.jsxs("div",{className:"row g-2",children:[l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label fw-bold mb-1",children:"Category"}),l.jsxs("select",{className:"form-select",value:e.category||"",onChange:x=>{t({...e,category:x.target.value,name:""}),d("")},required:!0,children:[l.jsx("option",{value:"",children:"Select Category"}),l.jsx("option",{value:"UG",children:"UG"}),l.jsx("option",{value:"PG",children:"PG"})]})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label fw-bold mb-1",children:"Academic Year"}),l.jsx("input",{className:`form-control ${c&&"is-invalid"}`,placeholder:e.category==="UG"?"e.g., 2022-2025":"e.g., 2022-2024",required:!0,value:e.name,onChange:g,disabled:!e.category}),c&&l.jsx("div",{className:"invalid-feedback d-block",children:c})]}),l.jsx("div",{className:"col-md-3 d-flex align-items-center",children:l.jsxs("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"activeYear",checked:e.active,onChange:x=>t({...e,active:x.target.checked})}),l.jsx("label",{className:"form-check-label ms-2",htmlFor:"activeYear",children:"Active"})]})}),l.jsxs("div",{className:"col-md-4 text-end",children:[l.jsx("button",{className:"btn btn-brand me-2",onClick:k,children:n?"Update Year":"Add Year"}),n&&l.jsx("button",{className:"btn btn-outline-secondary",onClick:o,children:"Cancel"})]})]}),(N.length>0||S.length>0)&&l.jsxs("div",{className:"row mt-4",children:[l.jsx("div",{className:"col-md-6",children:N.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("h6",{className:"fw-bold mb-3",children:"UG Years"}),l.jsx("div",{className:"setup-list",children:N.map(x=>l.jsxs("div",{className:"setup-list-item",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"setup-list-title",children:[x.name||x.academic_year,l.jsx("span",{className:"badge bg-secondary ms-2",children:v(x)})]}),l.jsxs("div",{className:"setup-list-meta",children:[v(x)," Academic Year"]})]}),l.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[l.jsx("span",{className:`status-pill ${x.active?"status-pill--active":"status-pill--inactive"}`,children:x.active?"Active":"Inactive"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>_(x),children:"Edit"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>b(x.id),children:"Delete"})]})]},x.id||x.academic_year||x.name))})]})}),l.jsx("div",{className:"col-md-6",children:f.PG&&l.jsxs(l.Fragment,{children:[l.jsx("h6",{className:"fw-bold mb-3",children:"PG Years"}),l.jsx("div",{className:"setup-list",children:S.map(x=>l.jsxs("div",{className:"setup-list-item",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"setup-list-title",children:[x.name||x.academic_year,l.jsx("span",{className:"badge bg-secondary ms-2",children:v(x)})]}),l.jsxs("div",{className:"setup-list-meta",children:[v(x)," Academic Year"]})]}),l.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[l.jsx("span",{className:`status-pill ${x.active?"status-pill--active":"status-pill--inactive"}`,children:x.active?"Active":"Inactive"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>_(x),children:"Edit"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>b(x.id),children:"Delete"})]})]},x.id||x.academic_year||x.name))})]})})]})]})}function bk({groupForm:e,setGroupForm:t,editingGroupId:r,setEditingGroupId:n,groups:s,saveGroup:i,editGroup:a,deleteGroup:o,courseForm:c,setCourseForm:d,editingCourseId:m,setEditingCourseId:g,courses:v,saveCourse:f,editCourse:N,deleteCourse:S}){const k={borderRadius:"18px",border:"1px solid #e2e8f0",background:"linear-gradient(180deg, #ffffff 0%, #f7f9fc 100%)",boxShadow:"0 18px 35px rgba(15,23,42,0.08)"},_={backgroundColor:"#ecf0ff",color:"#1d3ecf",fontWeight:600,borderRadius:"999px",padding:"0.35rem 0.9rem"},b={borderRadius:"999px",border:"1px solid #e2e8f0",backgroundColor:"#ffffff",fontWeight:600,color:"#0f172a"},x={borderRadius:"18px",border:"1px solid #e1e7ef",background:"linear-gradient(180deg, #ffffff 0%, #f3f6fb 100%)",boxShadow:"0 16px 32px rgba(15,23,42,0.07)"},P={backgroundColor:"#e0f2fe",color:"#0369a1",fontWeight:600,borderRadius:"999px",padding:"0.35rem 0.9rem"};Q.useEffect(()=>{e&&(e.category==="UG"?t(O=>({...O,years:3,semesters:6})):e.category==="PG"&&t(O=>({...O,years:2,semesters:4})))},[e==null?void 0:e.category,t]);const $=e&&(e.category==="UG"||e.category==="PG"),[Z,V]=Q.useState(""),U=Z?s.filter(O=>O.category===Z):s;return l.jsxs(l.Fragment,{children:[l.jsxs("section",{className:"setup-section mb-4",children:[l.jsx("h5",{className:"section-title",children:"Groups"}),l.jsx("div",{className:"row",children:l.jsxs("div",{className:"col-12",children:[l.jsxs("div",{className:"row g-2",children:[l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label fw-bold mb-1",children:"Category"}),l.jsxs("select",{className:"form-select",value:e.category,onChange:O=>t({...e,category:O.target.value}),required:!0,children:[l.jsx("option",{value:"",children:"Select Category"}),l.jsx("option",{value:"UG",children:"UG"}),l.jsx("option",{value:"PG",children:"PG"})]})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label fw-bold mb-1",children:"Group Code"}),l.jsx("input",{className:"form-control",placeholder:"Group Code",required:!0,value:e.code,onChange:O=>t({...e,code:O.target.value.toUpperCase()})})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label fw-bold mb-1",children:"Group Name"}),l.jsx("input",{className:"form-control",placeholder:"Group Name",required:!0,value:e.name,onChange:O=>t({...e,name:O.target.value})})]}),l.jsxs("div",{className:"col-md-3 col-lg-2",children:[l.jsx("label",{className:"form-label fw-bold mb-1",children:"Duration (years)"}),l.jsx("input",{type:"number",className:"form-control no-spinner",placeholder:"Years",value:e.years,onChange:O=>{$||t({...e,years:O.target.value})},disabled:$,style:{"-moz-appearance":"textfield"},onWheel:O=>O.target.blur()})]}),l.jsxs("div",{className:"col-md-3 col-lg-2",children:[l.jsx("label",{className:"form-label fw-bold mb-1",children:"Number of semesters"}),l.jsx("input",{type:"number",className:"form-control no-spinner",placeholder:"No. of Semesters",value:e.semesters,onChange:O=>{$||t({...e,semesters:O.target.value})},disabled:$,style:{"-moz-appearance":"textfield"},onWheel:O=>O.target.blur()})]})]}),l.jsxs("div",{className:"mt-3",children:[l.jsx("button",{className:"btn btn-brand me-2",onClick:i,children:r?"Update Group":"Add Group"}),r&&l.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>{t({id:"",category:"",code:"",name:"",years:0,semesters:0}),n("")},children:"Cancel"})]})]})}),s.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:l.jsxs("span",{className:"text-muted text-uppercase fw-semibold small",style:{letterSpacing:"0.08em"},children:["Showing ",s.length," group",s.length===1?"":"s"]})}),l.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-3",children:s.map(O=>l.jsx("div",{className:"col",children:l.jsx("div",{className:"card border-0 h-100",style:k,children:l.jsxs("div",{className:"card-body d-flex flex-column",children:[l.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-uppercase text-muted small mb-1",children:"Group Name"}),l.jsx("div",{className:"fs-5 fw-bold",children:O.name||"-"}),l.jsx("div",{className:"text-muted small",children:O.code||"-"})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"0.35rem"},children:O.category?l.jsx("span",{style:_,children:O.category}):null})]}),l.jsxs("div",{className:"d-flex flex-wrap gap-4 mb-4 text-muted",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-uppercase small",children:"Duration"}),l.jsxs("div",{className:"fw-semibold text-dark",children:[O.years||"-"," Years"]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-uppercase small",children:"Semesters"}),l.jsx("div",{className:"fw-semibold text-dark",children:O.semesters||"-"})]})]}),l.jsxs("div",{className:"mt-auto d-flex gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:b,onClick:()=>a(O),children:"Edit"}),l.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:{...b,color:"#b91c1c",borderColor:"#fde2e1",backgroundColor:"#fff5f5"},onClick:()=>o(O.id),children:"Delete"})]})]})})},O.id))})]})]}),l.jsxs("section",{className:"setup-section mb-4",children:[l.jsx("h5",{className:"section-title",children:"Courses"}),l.jsx("div",{className:"row",children:l.jsxs("div",{className:"col-12",children:[l.jsxs("div",{className:"row g-3",children:[l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label fw-bold mb-1",children:"Category"}),l.jsxs("select",{className:"form-select",value:Z,onChange:O=>{V(O.target.value),d(ne=>({...ne,groupCode:""}))},children:[l.jsx("option",{value:"",children:"All Categories"}),l.jsx("option",{value:"UG",children:"UG"}),l.jsx("option",{value:"PG",children:"PG"})]})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label fw-bold mb-1",children:"Group"}),l.jsxs("select",{className:"form-select",required:!0,value:c.groupCode,onChange:O=>{const ne=O.target.value,I=U.find(K=>(K.groupCode||K.code||K.group_code)===ne||(K.group_name||K.name)===ne),B=(I==null?void 0:I.group_name)||(I==null?void 0:I.name)||(I==null?void 0:I.groupName)||"";d({...c,groupCode:ne,groupName:B})},disabled:!Z,children:[l.jsx("option",{value:"",children:"Select Group"}),U.map(O=>l.jsx("option",{value:O.code,children:O.name||O.code},O.id))]})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label fw-bold mb-1",children:"Course Code"}),l.jsx("input",{className:"form-control",placeholder:"Enter Course Code",required:!0,value:c.courseCode,onChange:O=>d({...c,courseCode:O.target.value.toUpperCase()})})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label fw-bold mb-1",children:"Course Name"}),l.jsx("input",{className:"form-control",placeholder:"Enter Course Name",required:!0,value:c.courseName,onChange:O=>d({...c,courseName:O.target.value})})]})]}),l.jsxs("div",{className:"mt-3",children:[l.jsx("button",{className:"btn btn-brand me-2",onClick:f,children:m?"Update Course":"Add Course"}),m&&l.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>{d({id:"",groupCode:"",courseCode:"",courseName:"",semesters:6}),g("")},children:"Cancel"})]})]})}),v.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:l.jsxs("span",{className:"text-muted text-uppercase fw-semibold small",style:{letterSpacing:"0.08em"},children:["Showing ",v.length," course",v.length===1?"":"s"]})}),l.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-3",children:v.map(O=>l.jsx("div",{className:"col",children:l.jsx("div",{className:"card border-0 h-100",style:x,children:l.jsxs("div",{className:"card-body d-flex flex-column",children:[l.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-uppercase text-muted small mb-1",children:"Course Name"}),l.jsx("div",{className:"fs-5 fw-bold",children:O.courseName})]}),l.jsxs("span",{style:P,children:[O.semesters," sems"]})]}),l.jsxs("div",{className:"mb-2",children:[l.jsx("div",{className:"text-muted text-uppercase small mb-1",children:"Course Code"}),l.jsx("div",{className:"fw-semibold text-dark",children:O.courseCode})]}),l.jsx("p",{className:"text-muted text-uppercase small mb-1",children:"Group"}),l.jsx("p",{className:"fw-semibold text-dark mb-4",children:O.groupName||O.groupCode||"-"}),l.jsxs("div",{className:"mt-auto d-flex gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:b,onClick:()=>N(O),children:"Edit"}),l.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:{...b,color:"#b91c1c",borderColor:"#fde2e1",backgroundColor:"#fff5f5"},onClick:()=>S(O.id),children:"Delete"})]})]})})},O.id))})]})]})]})}function _k({subjectForm:e,setSubjectForm:t,academicYears:r,groups:n,coursesForGroup:s,semForCourse:i,categories:a,setCategories:o,catItems:c,setCatItems:d,categoryName:m,setCategoryName:g,editingCategory:v,setEditingCategory:f,deleteCategory:N,saveCategory:S,pendingSubjects:k,subjects:_,editingSubjectId:b,saveSubject:x,submitPendingSubjects:P,editPendingSubject:$,deletePendingSubject:Z,editSubject:V,deleteSubject:U,onCancelSubjectEdit:O}){const[ne,I]=Q.useState(""),B=r.reduce((q,G)=>((G==null?void 0:G.id)!==void 0&&(q[G.id]=G.name),q),{});B[e.academicYearId];const K=q=>q.academicYearName||B[q.academicYearId]||q.academicYearId||"-",E=(()=>{const q=r.filter(xe=>(xe==null?void 0:xe.active)!==!1);if(!e.academicYearId||q.some(xe=>String(xe.id)===String(e.academicYearId)))return q;const te=r.find(xe=>String(xe.id)===String(e.academicYearId));return te?[...q,te]:q})(),oe=r.find(q=>String(q.id)===String(e.academicYearId));Q.useEffect(()=>{oe!=null&&oe.category&&I(oe.category.toUpperCase())},[oe]);const ce=E.filter(q=>!q.category||q.category.toUpperCase()===ne);oe&&!ce.some(q=>String(q.id)===String(oe.id))&&ce.push(oe);const me=n.filter(q=>{const G=(q.category||q.Category||"").toUpperCase(),te=!ne||!G||G===ne,xe=e.groupCode&&[q.groupCode,q.code,q.group_code].map(je=>String(je||"")).includes(String(e.groupCode));return te||xe}),D=q=>{const G=(q==null?void 0:q.semester)??(q==null?void 0:q.semester_number)??(q==null?void 0:q.semesterNumber)??"";if(G==null||G==="")return"-";const te=Number(G);return Number.isNaN(te)?G:te},X=e.extraSubjectNames||[],ee=Q.useMemo(()=>n.reduce((q,G)=>{const te=G.groupCode||G.code||G.group_code||"";return te&&(q[te]=G.name||G.group_name||G.groupName||te),q},{}),[n]),we=q=>ee[q]||q||"-",j=(q=[])=>{const G=new Map;return q.forEach(te=>{var nt;const xe=[te.academicYearId||te.academicYearName||"",te.groupCode||"",te.courseCode||"",te.semester===void 0||te.semester===null?"":te.semester].join("::"),je=G.get(xe)||{comboKey:xe,academicYear:K(te),groupCode:te.groupCode,courseCode:te.courseCode,courseName:te.courseName,semester:D(te),categories:[]},Ye=te.category||"Uncategorised";let ye=je.categories.find(He=>He.name===Ye);ye||(ye={name:Ye,subjects:[],source:te},je.categories.push(ye));const Y=(nt=te.subjectNames)!=null&&nt.length?te.subjectNames:[te.subjectName].filter(Boolean);ye.subjects.push(...Y),G.set(xe,je)}),Array.from(G.values())},M=j(k),W=j(_),J=(q,G)=>{t(te=>{const xe=[...te.extraSubjectNames||[]];return xe[q]=G,{...te,extraSubjectNames:xe}})},se=q=>{t(G=>{const te=[...G.extraSubjectNames||[]];return te.splice(q,1),{...G,extraSubjectNames:te}})},he=()=>{t(q=>({...q,extraSubjectNames:[...q.extraSubjectNames||[],""]}))},pe=l.jsxs(l.Fragment,{children:[X.map((q,G)=>l.jsxs("div",{className:"d-flex gap-2 mt-2",children:[l.jsx("input",{className:"form-control",placeholder:`Subject ${G+2}`,value:q,onChange:te=>J(G,te.target.value)}),l.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>se(G),children:"Remove"})]},`extra-${G}`)),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mt-3",onClick:he,children:"Add another subject"})]});return l.jsxs(l.Fragment,{children:[l.jsxs("section",{className:"setup-section mb-4",children:[l.jsx("h5",{className:"section-title",children:"Sub-categories"}),l.jsxs("div",{className:"subcat-input-panel",children:[l.jsxs("div",{className:"flex-grow-1",children:[l.jsxs("label",{className:"form-label fw-bold mb-1",children:["Sub-category Name ",l.jsx("span",{className:"text-danger",children:"*"})]}),l.jsx("p",{className:"text-uppercase text-muted small mb-1",children:v?"Update existing sub-category":"Add a new sub-category"}),l.jsxs("div",{className:"d-flex gap-2 flex-wrap",children:[l.jsx("input",{className:"form-control flex-grow-1",placeholder:"e.g., English",required:!0,value:m,onChange:q=>g(q.target.value),onKeyDown:q=>{q.key==="Enter"&&(q.preventDefault(),S())}}),l.jsx("button",{type:"button",className:"btn btn-brand",onClick:S,children:v?"Update":"Add"}),v&&l.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{g(""),f("")},children:"Cancel"})]})]}),l.jsxs("div",{className:"subcat-input-copy text-muted",children:[l.jsx("div",{className:"fw-semibold text-dark",children:"Organise subjects into sub-categories"}),l.jsx("div",{className:"small",children:"Create descriptive buckets (e.g., Languages, Labs) to streamline subject assignment."})]})]}),a.length===0&&l.jsx("div",{className:"alert alert-info mb-0",children:"Add a sub-category to begin creating subjects."}),l.jsx("div",{className:"subcat-grid",children:a.map(q=>((c[q]||[]).length,l.jsxs("div",{className:"subcat-panel",children:[l.jsxs("div",{className:"subcat-panel-header",children:[l.jsx("div",{children:l.jsx("div",{className:"subcat-panel-title",children:q})}),l.jsxs("div",{className:"subcat-panel-actions",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>{g(q),f(q)},children:"Rename"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>N(q),children:"Delete"})]})]}),l.jsx("div",{className:"mt-3 text-muted small",children:"Subjects for this category can be added directly from the Subjects tab."})]},q)))})]}),l.jsxs("section",{className:"setup-section mb-4",children:[l.jsx("h5",{className:"section-title",children:"Subjects"}),l.jsxs("div",{className:"row g-3",children:[l.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[l.jsxs("label",{className:"form-label fw-bold mb-1",children:["Category ",l.jsx("span",{className:"text-danger",children:"*"})]}),l.jsxs("select",{className:"form-select",value:ne,onChange:q=>{const G=q.target.value;I(G),t({...e,programmeCategory:G,academicYearId:"",academicYearName:"",groupCode:"",courseCode:"",semester:""})},children:[l.jsx("option",{value:"",children:"Select category"}),l.jsx("option",{value:"UG",children:"UG"}),l.jsx("option",{value:"PG",children:"PG"})]})]}),l.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[l.jsxs("label",{className:"form-label fw-bold mb-1",children:["Academic Year ",l.jsx("span",{className:"text-danger",children:"*"})]}),l.jsxs("select",{className:"form-select",required:!0,value:e.academicYearId,disabled:!ne,onChange:q=>{const G=q.target.value,te=r.find(xe=>String(xe.id)===String(G));t({...e,academicYearId:G,academicYearName:(te==null?void 0:te.name)||""})},children:[l.jsx("option",{value:"",children:"Select Year"}),ce.map(q=>l.jsx("option",{value:q.id,children:q.name},q.id))]})]}),l.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[l.jsxs("label",{className:"form-label fw-bold mb-1",children:["Group ",l.jsx("span",{className:"text-danger",children:"*"})]}),l.jsxs("select",{className:"form-select",required:!0,value:e.groupCode,disabled:!ne,onChange:q=>t({...e,groupCode:q.target.value,courseCode:"",semester:""}),children:[l.jsx("option",{value:"",children:"Select Group"}),me.map(q=>l.jsx("option",{value:q.code,children:q.name||q.code},q.id))]})]}),l.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[l.jsxs("label",{className:"form-label fw-bold mb-1",children:["Course ",l.jsx("span",{className:"text-danger",children:"*"})]}),l.jsxs("select",{className:"form-select",required:!0,disabled:!e.groupCode,value:e.courseCode,onChange:q=>{const G=q.target.value,te=s.find(xe=>xe.courseCode===G);t({...e,courseCode:G,courseName:(te==null?void 0:te.courseName)||G,semester:""})},children:[l.jsx("option",{value:"",children:"Select Course"}),s.map(q=>l.jsx("option",{value:q.courseCode,children:q.courseName||q.name||q.courseCode},q.id))]})]}),l.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[l.jsxs("label",{className:"form-label fw-bold mb-1",children:["Semester ",l.jsx("span",{className:"text-danger",children:"*"})]}),l.jsxs("select",{className:"form-select",required:!0,disabled:!e.courseCode,value:e.semester,onChange:q=>t({...e,semester:q.target.value}),children:[l.jsx("option",{value:"",children:"Select Semester"}),i.map(q=>l.jsxs("option",{value:q.number,children:["Semester ",q.number]},q.id))]})]}),l.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[l.jsxs("label",{className:"form-label fw-bold mb-1",children:["Sub-category ",l.jsx("span",{className:"text-danger",children:"*"})]}),l.jsxs("select",{className:"form-select",required:!0,value:e.category,onChange:q=>t({...e,category:q.target.value,subjectSelections:[],subjectName:""}),children:[l.jsx("option",{value:"",children:"Select Sub-category"}),a.map(q=>l.jsx("option",{value:q,children:q},q))]})]}),l.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[l.jsxs("label",{className:"form-label fw-bold mb-1",children:["Subject Title ",l.jsx("span",{className:"text-danger",children:"*"})]}),(c[e.category]||[]).length?l.jsxs("div",{className:"subject-checkbox-group",children:[c[e.category].map(q=>{var te;const G=`subject-${q.id}`;return l.jsxs("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:G,checked:(te=e.subjectSelections)==null?void 0:te.includes(q.name),onChange:()=>t(xe=>{const je=new Set(xe.subjectSelections||[]);return je.has(q.name)?je.delete(q.name):je.add(q.name),{...xe,subjectSelections:Array.from(je),subjectName:""}})}),l.jsx("label",{className:"form-check-label",htmlFor:G,children:q.name})]},q.id)}),l.jsx("input",{className:"form-control mt-2",placeholder:"Or type custom subject",value:e.subjectName,onChange:q=>t({...e,subjectName:q.target.value,subjectSelections:[]})}),pe]}):l.jsxs(l.Fragment,{children:[l.jsx("input",{className:"form-control",placeholder:"Subject title",value:e.subjectName,onChange:q=>t({...e,subjectName:q.target.value})}),pe]})]})]}),l.jsxs("div",{className:"mt-2 text-end",children:[l.jsx("button",{type:"button",className:"btn btn-accent",onClick:x,children:b?"Update Entry":"Add Entry"}),b&&l.jsx("button",{type:"button",className:"btn btn-outline-secondary ms-2",onClick:O,children:"Cancel"})]}),M.length>0&&l.jsxs("div",{className:"card card-soft p-3 mt-3",children:[l.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[l.jsxs("h6",{className:"section-title mb-0",children:["Pending Subjects (",M.length,")"]}),l.jsx("button",{type:"button",className:"btn btn-brand",onClick:P,children:"Submit All"})]}),l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table mb-0",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Year"}),l.jsx("th",{children:"Group"}),l.jsx("th",{children:"Course"}),l.jsx("th",{children:"Sem"}),l.jsx("th",{children:"Details"})]})}),l.jsx("tbody",{children:M.map(q=>l.jsxs("tr",{children:[l.jsx("td",{children:q.academicYear}),l.jsx("td",{children:we(q.groupCode)}),l.jsx("td",{children:q.courseName||q.courseCode||"-"}),l.jsx("td",{children:q.semester}),l.jsx("td",{children:q.categories.map(G=>{const te=G.subjects.filter(Boolean).join(", ")||"-";return l.jsxs("div",{className:"mb-2",children:[l.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[l.jsx("span",{className:"fw-semibold",children:G.name}),l.jsxs("div",{className:"d-flex gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>$(G.source),children:"Edit"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>Z(G.source),children:"Remove"})]})]}),l.jsx("div",{className:"small text-muted",children:te})]},`${q.comboKey}-${G.name}`)})})]},q.comboKey))})]})})]}),W.length>0&&l.jsx("div",{className:"table-responsive mt-3",children:l.jsxs("table",{className:"table mb-0",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Year"}),l.jsx("th",{children:"Group"}),l.jsx("th",{children:"Course"}),l.jsx("th",{children:"Sem"}),l.jsx("th",{children:"Details"})]})}),l.jsx("tbody",{children:W.map(q=>l.jsxs("tr",{children:[l.jsx("td",{children:q.academicYear}),l.jsx("td",{children:we(q.groupCode)}),l.jsx("td",{children:q.courseName||q.courseCode||"-"}),l.jsx("td",{children:q.semester}),l.jsx("td",{children:q.categories.map(G=>{const te=G.subjects.filter(Boolean).join(", ")||"-";return l.jsxs("div",{className:"mb-2",children:[l.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[l.jsx("span",{className:"fw-semibold",children:G.name}),l.jsxs("div",{className:"d-flex gap-2",children:[l.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>V(G.source),children:"Edit"}),l.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>U(G.source),children:"Delete"})]})]}),l.jsx("div",{className:"small text-muted",children:te})]},`${q.comboKey}-${G.name}`)})})]},q.comboKey))})]})})]})]})}const a2=(e={})=>{const t=e.academicYearId||e.academicYearName||e.academic_year||"",r=e.groupCode||e.group||e.group_name||"",n=e.courseCode||e.courseName||e.course_code||e.course_name||"",s=e.semester??e.semester_number??e.semesterNumber??"";return[t,r,n,s].map(i=>i==null?"":String(i)).join("|")},di=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),jd=(e="")=>({academicYearId:"",academicYearName:"",groupCode:"",courseCode:"",courseName:"",semester:"",category:e,categoryId:"",subjectName:"",extraSubjectNames:[],subjectSelections:[],feeCategory:"",feeAmount:"",subjectId:""}),wk=(e=[])=>(e||[]).map(t=>((t==null?void 0:t.name)||"").trim()).filter(Boolean),Ep=(e=[])=>Array.isArray(e)?e.map(t=>({id:di(),name:t})).filter(t=>t.name):[],o2=(e=[])=>e.reduce((t,r)=>{if(!r)return t;const n=r.courseCode||r.code||r.course_code||"",s=r.courseName||r.name||r.course_name||n,i=r.groupCode||r.group_code||r.group_name||"",a={courseCode:n,courseName:s,groupCode:i};return s&&(t[s]=a),n&&(t[n]=a),t},{}),l2=(e=[])=>e.reduce((t,r)=>(r!=null&&r.name&&(r==null?void 0:r.id)!==void 0&&(t[r.name]=r.id),t),{}),xk=(e={})=>Object.entries(e).reduce((t,[r,n])=>(n!=null&&n!==""&&(t[n]=r),t),{}),c2=(e={},t={})=>{const{courseLookup:r={},categoryNameById:n={},yearNameToId:s={}}=t,i=e.semester??e.semester_number??e.semesterNo??e.semesterNumber,a=e.amount??e.feeAmount??e.fee_amount,o=e.subjectCode||e.subject_code||e.subjectName||e.subject_name||"",c=e.subjectName||e.subject_name||o,d=e.subjectNames&&Array.isArray(e.subjectNames)?e.subjectNames:e.subjectName?[e.subjectName]:[],m=e.courseName||e.course_name||e.courseCode||e.course_code||"",g=r[m]||{},v=e.academicYearName||e.academic_year_name||e.academic_year||"",f=e.academicYearId||e.academic_year_id||s[v]||"",N=e.category_id??e.categoryId??"",S=e.category||e.category_name||n[N]||"",k=e.subject_id||e.subjectId||e.id||"";return{id:k||e.id||di(),subjectId:k||"",academicYearId:f,academicYearName:v,groupCode:e.groupCode||e.group_code||g.groupCode||"",courseCode:e.courseCode||e.course_code||g.courseCode||m,courseName:g.courseName||m,semester:i==null||i===""?"":Number(i),categoryId:N,category:S,subjectCode:o,subjectName:c,feeCategory:e.feeCategory||e.fee_category||e.fees_categories||"",feeAmount:a==null||a===""?"":Number(a),subjectNames:d}},qs=(e={})=>e?e.batchId?e.batchId:[e.academicYearId||e.academicYearName||"",e.groupCode||"",e.courseCode||"",e.semester===void 0||e.semester===null?"":e.semester,e.categoryId||e.category||""].map(n=>n==null?"":String(n)).join("__")||e.subjectId||e.id||"":"",u2=(e={})=>{if(!e||e.batchId)return e;const t=qs(e);return t?{...e,batchId:t}:e},Nk=[{key:"years",label:"Academic Years",tagline:"Define academic timelines and activation status."},{key:"groups",label:"Groups & Courses",tagline:"Manage programme structures and duration."},{key:"subjects",label:"Subjects",tagline:"Control curriculum details semester by semester."},{key:"students",label:"Students",tagline:"Manage student records and information."}],Sk=new Set(["Academic","Exam","Library","Bus","Lab"]),d2=e=>!e||!e.length?e:e.every(r=>{var n;return Sk.has(r.name)&&(((n=r.fees)==null?void 0:n.length)||0)<=1})?[]:e,jk=e=>Array.isArray(e)?e.some(r=>Array.isArray(r==null?void 0:r.fees)||Array.isArray(r==null?void 0:r.items))?d2(e.map(r=>({id:(r==null?void 0:r.id)||di(),name:((r==null?void 0:r.name)||"").toString(),fees:((r==null?void 0:r.fees)||(r==null?void 0:r.items)||[]).map(n=>({id:(n==null?void 0:n.id)||di(),name:((n==null?void 0:n.name)||"").toString(),amount:(n==null?void 0:n.amount)===0||n!=null&&n.amount?String(n.amount):""})).filter(n=>n.name.trim())})).filter(r=>r.name.trim()||r.fees.length)):d2(e.map(r=>{const n=((r==null?void 0:r.name)||"").toString();return n.trim()?{id:(r==null?void 0:r.id)||di(),name:n,fees:[{id:di(),name:`${n} Fee`,amount:(r==null?void 0:r.amount)===0||r!=null&&r.amount?String(r.amount):""}]}:null}).filter(Boolean)):[],kk=(e=[])=>(e||[]).reduce((t,r)=>{const n=r.code||r.group_code||r.groupName||"",s=r.name||r.group_name||r.groupName||"";return n&&(t[n]=s||n),t},{}),Ck=(e={},t={})=>{const r=e.group_name||e.groupCode||e.group_code||"";return{...e,groupCode:r,groupName:t[r]||r}};function Ak(){const{tab:e}=o3(),t=["years","groups","subjects","students"].includes(e)?e:"years",[r,n]=Q.useState({name:"",category:"",active:!0}),[s,i]=Q.useState([]),[a,o]=Q.useState(""),c=Q.useMemo(()=>l2(s),[s]),d=be=>{if(!be)return"";const Re=s.find(We=>String(We.id)===String(be));return(Re==null?void 0:Re.name)||""},m=async()=>{var be;if(ia({"Academic year name":r.name})){try{if(a){const Re=await((be=Se.updateAcademicYear)==null?void 0:be.call(Se,a,{name:r.name,category:r.category,active:r.active}));Re&&i(We=>We.map(Te=>Te.id===a?Re:Te)),o("")}else{const Re=await Se.addAcademicYear({name:r.name,category:r.category,active:r.active});Re&&i(We=>[...We,Re])}}catch(Re){console.error("Failed to save academic year",Re),it((Re==null?void 0:Re.message)||"Failed to save academic year",{type:"danger"})}n({name:"",active:!0})}},g=be=>{n({name:be.name,category:be.category||"",active:be.active}),o(be.id)},v=async be=>{var Re;i(We=>We.filter(Te=>Te.id!==be));try{await((Re=Se.deleteAcademicYear)==null?void 0:Re.call(Se,be))}catch(We){console.error("Failed to delete academic year",We),it((We==null?void 0:We.message)||"Failed to delete academic year",{type:"danger"})}a===be&&(n({name:"",category:"",active:!0}),o(""))},f=()=>{n({name:"",active:!0}),o("")},[N,S]=Q.useState([]),k=Q.useMemo(()=>kk(N),[N]),[_,b]=Q.useState({id:"",code:"",name:"",years:0,semesters:0}),[x,P]=Q.useState(""),$=async()=>{var We;if(!ia({"Group code":_.code,"Group name":_.name}))return;const be=_.code.toUpperCase(),Re={code:be,name:_.name,category:_.category,years:Number(_.years)||0,semesters:Number(_.semesters)||0};if(x){try{const Te=await((We=Se.updateGroup)==null?void 0:We.call(Se,x,Re));Te&&S(ot=>ot.map(Oe=>Oe.id===x?Te:Oe))}catch(Te){console.error("Error updating group:",Te),it((Te==null?void 0:Te.message)||"Error updating group",{type:"danger"})}P("")}else{if(N.some(Te=>Te.code===be)){it("Group code already exists.",{type:"danger",title:"Duplicate code"});return}try{const Te=await Se.addGroup(Re);Te&&S(ot=>[...ot,Te])}catch(Te){console.error("Error adding group:",Te),it((Te==null?void 0:Te.message)||"Error adding group",{type:"danger"})}}b({id:"",category:"",code:"",name:"",years:0,semesters:0})},Z=be=>{b(be),P(be.id)},V=async be=>{var Re;S(We=>We.filter(Te=>Te.id!==be));try{await((Re=Se.deleteGroup)==null?void 0:Re.call(Se,be))}catch(We){console.error("Error deleting group:",We),it((We==null?void 0:We.message)||"Error deleting group",{type:"danger"})}},[U,O]=Q.useState([]),ne=Q.useMemo(()=>U.map(be=>Ck(be,k)),[U,k]),I=Q.useMemo(()=>o2(U),[U]),[B,K]=Q.useState({id:"",groupCode:"",groupName:"",courseCode:"",courseName:"",semesters:6}),[E,oe]=Q.useState(""),[ce,me]=Q.useState([]);Q.useEffect(()=>{const be=U.flatMap(Re=>{const We=Re.courseCode||Re.code,Te=Number(Re.semesters||0);return!We||!Te?[]:Array.from({length:Te},(ot,Oe)=>({id:`${We}-${Oe+1}`,courseCode:We,number:Oe+1}))});me(be)},[U]);const D=async()=>{var It;const{groupCode:be,courseCode:Re,courseName:We,semesters:Te}=B;if(!ia({"Group code":be,"Course code":Re,"Course name":We,"Number of semesters":Te}))return;const ot=Re.toUpperCase(),Oe=N.find(gt=>(gt.groupCode||gt.code||gt.group_code)===be)||N.find(gt=>(gt.group_name||gt.name)===B.groupName),ht=(Oe==null?void 0:Oe.group_name)||(Oe==null?void 0:Oe.name)||(Oe==null?void 0:Oe.groupName)||B.groupName||k[be]||be,bt={code:ot,name:We,group_name:ht,semesters:Number(Te)||0};if(E){try{const gt=await((It=Se.updateCourse)==null?void 0:It.call(Se,E,bt));gt&&O(dr=>dr.map(Fr=>Fr.id===E?gt:Fr))}catch(gt){console.error("Error updating course:",gt),it((gt==null?void 0:gt.message)||"Error updating course",{type:"danger"})}oe("")}else{if(U.some(gt=>(gt.courseCode||gt.code)===ot))return;try{const gt=await Se.addCourse(bt);gt&&O(dr=>[...dr,gt])}catch(gt){console.error("Error adding course:",gt),it((gt==null?void 0:gt.message)||"Error adding course",{type:"danger"})}}K({id:"",groupCode:"",groupName:"",courseCode:"",courseName:"",semesters:6})},X=be=>{K({id:be.id,groupCode:be.groupCode||be.group_code||be.group_name||"",groupName:be.groupName||be.group_name||be.groupName||"",courseCode:be.courseCode||be.code||"",courseName:be.courseName||be.name||"",semesters:be.semesters??be.number_semesters??6}),oe(be.id)},ee=async be=>{var We;const Re=U.find(Te=>Te.id===be);if(O(U.filter(Te=>Te.id!==be)),Re){const Te=Re.courseCode||Re.code;me(ce.filter(ot=>ot.courseCode!==Te))}try{await((We=Se.deleteCourse)==null?void 0:We.call(Se,be))}catch(Te){console.error("Error deleting course:",Te),it((Te==null?void 0:Te.message)||"Error deleting course",{type:"danger"})}},[we,j]=Q.useState([]),[M,W]=Q.useState({}),J=Q.useMemo(()=>xk(M),[M]),[se,he]=Q.useState(""),[pe,q]=Q.useState(""),[G,te]=Q.useState({}),[xe,je]=Q.useState([]),[Ye,ye]=Q.useState(""),[Y,nt]=Q.useState(""),[He,Pe]=Q.useState({}),[De,Fe]=Q.useState([]);Q.useEffect(()=>{(async()=>{var be,Re,We,Te,ot,Oe,ht;try{const[bt,It,gt,dr,Fr,Tr,Br]=await Promise.all([((be=Se.listAcademicYears)==null?void 0:be.call(Se))||[],((Re=Se.listGroups)==null?void 0:Re.call(Se))||[],((We=Se.listCourses)==null?void 0:We.call(Se))||[],((Te=Se.getFeeTypes)==null?void 0:Te.call(Se))||[],((ot=Se.listSubCategories)==null?void 0:ot.call(Se))||[],((Oe=Se.listSubjects)==null?void 0:Oe.call(Se))||[],((ht=Se.listStudents)==null?void 0:ht.call(Se))||[]]);if(bt.length&&i(bt),It.length&&S(It),gt.length&&O(gt),dr){const pn=jk(dr);je(pn)}const hs={};if(Fr.length){const pn=[],bi={},_i={};Fr.forEach(Ur=>{pn.push(Ur.name),_i[Ur.name]=Ur.id,bi[Ur.name]=Ep(Ur.subjects),Ur.id&&(hs[Ur.id]=Ur.name)}),j(pn),te(bi),W(_i)}else j([]),te({}),W({});const Os={courseLookup:o2(gt),categoryNameById:hs,yearNameToId:l2(bt)};Tr!=null&&Tr.length?Lt(Tr.map(pn=>u2(c2(pn,Os)))):Lt([]),Br!=null&&Br.length?Fe(Br):Fe([])}catch(bt){console.error("Failed to load setup data",bt),it((bt==null?void 0:bt.message)||"Failed to load setup data",{type:"danger"})}})()},[]);const Me=async()=>{var Re,We;const be=(se||"").trim();if(!be){it("Enter a sub-category name.",{type:"warning",title:"Required field"});return}if(pe){const Te=pe,ot=M[Te];if(!ot){it("Unable to locate the category to update.",{type:"danger"});return}const Oe=wk(G[Te]||[]);try{const ht=await((Re=Se.updateSubCategory)==null?void 0:Re.call(Se,ot,{name:be,subjects:Oe}));j(bt=>bt.map(It=>It===Te?ht.name:It)),te(bt=>{const It={...bt};return It[ht.name]=Ep(ht.subjects||[]),Te!==ht.name&&delete It[Te],It}),W(bt=>{const It={...bt};return Te!==ht.name&&delete It[Te],It[ht.name]=ht.id,It}),he(""),q(""),it("Sub-category updated.",{type:"success"})}catch(ht){console.error("Failed to update sub-category",ht),it((ht==null?void 0:ht.message)||"Unable to update sub-category.",{type:"danger"})}}else try{const Te=await((We=Se.addSubCategory)==null?void 0:We.call(Se,be));Te&&(j(ot=>[...ot,Te.name]),te(ot=>({...ot,[Te.name]:Ep(Te.subjects||[])})),W(ot=>({...ot,[Te.name]:Te.id})),he(""),it("Sub-category added.",{type:"success"}))}catch(Te){console.error("Failed to add sub-category",Te),it((Te==null?void 0:Te.message)||"Unable to add sub-category.",{type:"danger"})}},st=async be=>{var We;if(!be)return;const Re=M[be];j(Te=>Te.filter(ot=>ot!==be)),te(Te=>{const ot={...Te};return delete ot[be],ot}),W(Te=>{const ot={...Te};return delete ot[be],ot});try{Re&&await((We=Se.deleteSubCategory)==null?void 0:We.call(Se,Re)),it("Sub-category deleted.",{type:"info"})}catch(Te){console.error("Failed to delete sub-category",Te),it("Unable to delete sub-category.",{type:"danger"})}},[pt,xt]=Q.useState([]),[Be,Ot]=Q.useState(0),[qt,ut]=Q.useState([]),Et=Q.useMemo(()=>({courseLookup:I,categoryNameById:J,yearNameToId:c}),[I,J,c]),ze=Q.useCallback(async()=>{var be;try{const Re=await((be=Se.listSubjects)==null?void 0:be.call(Se))||[];Lt(Re.map(We=>u2(c2(We,Et))))}catch(Re){console.error("Failed to reload subjects",Re)}},[Et]),[gr,Lt]=Q.useState([]),[Hr,Dt]=Q.useState([]),[le,$e]=Q.useState(()=>jd(""));Q.useEffect(()=>{$e(be=>we.length?we.includes(be.category)?be:{...be,category:we[0]}:be.category?{...be,category:""}:be)},[we]);const[Ve,Tt]=Q.useState(""),[tt,yt]=Q.useState(""),Ke=k[le.groupCode]||"",Ct=U.filter(be=>{if(!le.groupCode)return!1;const Re=be.groupName||be.group_name||k[be.groupCode]||k[be.group_code]||"";return Re&&Re===Ke}),mt=ce.filter(be=>be.courseCode===le.courseCode),Ue=()=>{const{academicYearId:be,groupCode:Re,courseCode:We,semester:Te,category:ot,subjectName:Oe,extraSubjectNames:ht=[],subjectSelections:bt=[],feeCategory:It,feeAmount:gt}=le,dr=Array.isArray(bt)?bt:[],Fr=dr.length>0,Tr=[Oe,...Array.isArray(ht)?ht:[]].map(Mr=>(Mr||"").trim()).filter(Boolean);if(!be||!Re||!We||!Te||!ot){it("Fill in academic year, group, course, semester and sub-category before adding a subject.",{type:"warning",title:"Missing details"});return}if(!Fr&&Tr.length===0){it("Enter at least one subject name.",{type:"warning",title:"Subject name required"});return}const Br=Fr?dr:Tr,hs=d(be),Os=M[ot]||"",pn=U.find(Mr=>Mr.courseCode===We||Mr.code===We),bi=(pn==null?void 0:pn.courseName)||We,_i=tt||di(),Ur=Br.map((Mr,wi)=>({id:Ve&&wi===0?Ve:di(),subjectId:Ve&&wi===0?Ve:"",batchId:_i,academicYearId:be,academicYearName:hs,groupCode:Re,courseCode:We,courseName:bi,semester:Number(Te),category:ot,categoryId:Os,subjectCode:Mr,subjectName:Mr,feeCategory:It,feeAmount:gt?Number(gt):""}));Ve?(Dt(Mr=>[...Mr.filter(wi=>wi.id!==Ve),...Ur]),Tt("")):Dt(Mr=>[...Mr,...Ur]),it(`${Br.length} subject${Br.length===1?"":"s"} added to pending list.`,{type:"success"}),$e(Mr=>({...Mr,subjectName:"",extraSubjectNames:[],subjectSelections:[],feeCategory:"",feeAmount:""}))},en=be=>{var ht,bt;const Re=qs(be);Dt(It=>It.filter(gt=>qs(gt)!==Re));const We=G[be.category]||[],Te=(ht=be.subjectNames)!=null&&ht.length?be.subjectNames:[be.subjectName].filter(Boolean),ot=Te.length>0&&Te.every(It=>We.some(gt=>gt.name===It)),Oe=M[be.category]||be.categoryId||be.category_id||"";$e({...be,categoryId:Oe,semester:be.semester===void 0||be.semester===null?"":be.semester.toString(),feeCategory:be.feeCategory||"",feeAmount:((bt=be.feeAmount)==null?void 0:bt.toString())||"",subjectName:ot?"":Te[0]||"",extraSubjectNames:ot?[]:Te.slice(1),subjectSelections:ot?Te:[]}),Tt(be.subjectId||be.id||""),yt(Re||"")},ur=async()=>{var ot;if(!Hr.length)return;const be=Hr.map(Oe=>({...Oe})),Re={};for(const Oe of be){const ht=qs(Oe)||di();if(!Re[ht]){const It=Oe.academicYearName||d(Oe.academicYearId),gt=I[Oe.courseCode]||I[Oe.courseName]||{},dr=Oe.categoryId||M[Oe.category]||null,Fr=gt.courseCode||Oe.courseCode||Oe.courseName||null,Tr=Oe.subjectId||Oe.id||null,Br=Tr!=null&&Tr!==""?Number(Tr):null;Re[ht]={rep:Oe,academic_year:It||null,course_name:Fr,semester_number:Oe.semester?Number(Oe.semester):null,category_id:dr,amount:Oe.feeAmount===""||Oe.feeAmount===void 0||Oe.feeAmount===null?null:Number(Oe.feeAmount),names:[],subject_id:Number.isFinite(Br)?Br:null}}const bt=(Oe.subjectName||Oe.subjectCode||"").toString();bt&&Re[ht].names.push(bt),!Re[ht].subject_id&&(Oe.subjectId||Oe.id)&&(Re[ht].subject_id=Oe.subjectId||Oe.id)}const We=Object.values(Re).map(Oe=>{const ht={academic_year:Oe.academic_year,course_name:Oe.course_name,semester_number:Oe.semester_number,category_id:Oe.category_id,subject_name:JSON.stringify(Oe.names||[]),amount:Oe.amount};return Oe.subject_id&&(ht.subject_id=Oe.subject_id),{grouped:Oe,row:ht}}),Te=new Set(gr.map(a2));for(const Oe of We){const ht=a2(Oe.grouped.rep);if(!Oe.grouped.subject_id&&Te.has(ht)){it("These subjects already exist for the selected combination.",{type:"warning",title:"Duplicate combination"});return}}try{const Oe=We.filter(bt=>Number.isFinite(bt.grouped.subject_id)),ht=We.filter(bt=>!Number.isFinite(bt.grouped.subject_id)).map(bt=>bt.row);Oe.length&&await Promise.all(Oe.map(bt=>{var It;return(It=Se.updateSubject)==null?void 0:It.call(Se,Number(bt.grouped.subject_id),bt.row)})),ht.length&&await((ot=Se.addSubjects)==null?void 0:ot.call(Se,ht)),Dt([]),await ze(),it("Subjects submitted.",{type:"success"}),$e(bt=>({...bt,academicYearId:"",academicYearName:"",groupCode:"",courseCode:"",courseName:"",semester:"",category:"",categoryId:"",subjectName:"",extraSubjectNames:[],subjectSelections:[]})),Tt(""),yt("")}catch(Oe){console.error("Failed to save subjects",Oe),it((Oe==null?void 0:Oe.message)||"Failed to save subjects",{type:"danger"})}},vr=async be=>{const Re=qs(be);Lt(We=>We.filter(Te=>qs(Te)!==Re)),en(be)},Jn=be=>{const Re=qs(be);Dt(We=>We.filter(Te=>qs(Te)!==Re)),Ve===(be.subjectId||be.id)&&($e(jd(we[0]||"")),Tt("")),tt===Re&&($e(jd(we[0]||"")),yt(""))},dt=async be=>{var Te;const Re=qs(be),We=((Te=be.subjectIds)!=null&&Te.length?be.subjectIds:[be.subjectId||be.id]).filter(Boolean);Lt(ot=>ot.filter(Oe=>qs(Oe)!==Re));try{const ot=We.map(Oe=>Number(Oe)).filter(Oe=>Number.isFinite(Oe));ot.length&&await Promise.all(ot.map(Oe=>{var ht;return(ht=Se.deleteSubject)==null?void 0:ht.call(Se,Oe)})),it("Subject entries deleted.",{type:"info"})}catch(ot){console.error("Failed to delete subject",ot),it("Unable to delete subject.",{type:"danger"})}},On=()=>{Tt(""),yt(""),$e(jd(we[0]||""))},Qn=[{key:"years",label:"Academic Years",value:s.length||0,meta:"records",route:"/admin/setup/years"},{key:"groups",label:"Groups",value:N.length||0,meta:"active",route:"/admin/setup/groups"},{key:"courses",label:"Courses",value:U.length||0,meta:"active",route:"/admin/setup/groups"},{key:"students",label:"Students",value:De.length||0,meta:"records",route:"/admin/students"}];return l.jsx(Is,{children:l.jsxs("div",{className:"desktop-container",children:[l.jsx("h2",{className:"fw-bold mb-3",children:"Admin Setup"}),l.jsx("section",{className:"setup-hero mb-4",children:l.jsxs("div",{className:"setup-hero-grid",children:[l.jsxs("div",{className:"setup-hero-copywrap",children:[l.jsx("div",{className:"setup-hero-crest",children:l.jsx("img",{src:wl,alt:"Vijayam crest"})}),l.jsx("h3",{className:"setup-hero-title mb-2",children:"Vijayam Arts & Science College"}),l.jsx("p",{className:"setup-hero-copy mb-3",children:"Manage programme structures and duration."}),l.jsx("div",{className:"setup-hero-chips d-flex flex-wrap gap-2",children:l.jsx("span",{className:"setup-hero-chip",children:"SMART EXAMINATION PLATFORM"})}),l.jsx("p",{className:"setup-hero-eyebrow text-uppercase mt-3",children:"Administration  Setup Console"})]}),l.jsx("div",{className:"setup-stat-grid",children:Qn.map(be=>l.jsxs(Yi,{to:be.route,className:"setup-stat-card",children:[l.jsx("div",{className:"setup-stat-label",children:be.label}),l.jsx("div",{className:"setup-stat-value",children:be.value}),l.jsx("div",{className:"setup-stat-meta",children:be.meta})]},be.key))})]})}),l.jsx("nav",{className:"setup-tab-nav d-flex flex-wrap gap-2 mb-4",children:Nk.map(be=>l.jsxs(Yi,{to:`/admin/setup/${be.key}`,className:`setup-tab-pill ${t===be.key?"active":""}`,children:[l.jsx("div",{className:"setup-pill-label",children:be.label}),l.jsx("div",{className:"setup-pill-meta",children:be.tagline})]},be.key))}),t==="years"&&l.jsx(yk,{yearForm:r,setYearForm:n,academicYears:s,editingYearId:a,addYear:m,editYear:g,deleteYear:v,onCancelEdit:f}),t==="groups"&&l.jsx(bk,{groupForm:_,setGroupForm:b,editingGroupId:x,setEditingGroupId:P,groups:N,saveGroup:$,editGroup:Z,deleteGroup:V,courseForm:B,setCourseForm:K,editingCourseId:E,setEditingCourseId:oe,courses:ne,saveCourse:D,editCourse:X,deleteCourse:ee}),t==="subjects"&&l.jsx(_k,{subjectForm:le,setSubjectForm:$e,academicYears:s,groups:N,coursesForGroup:Ct,semForCourse:mt,feeCategories:xe,categories:we,catItems:G,categoryName:se,setCategoryName:he,editingCategory:pe,setEditingCategory:q,saveCategory:Me,deleteCategory:st,pendingSubjects:Hr,subjects:gr,editingSubjectId:Ve,saveSubject:Ue,submitPendingSubjects:ur,editPendingSubject:en,deletePendingSubject:Jn,editSubject:vr,deleteSubject:dt,onCancelSubjectEdit:On})]})})}function Ek(){const[e,t]=Q.useState([]),[r,n]=Q.useState([]),[s,i]=Q.useState([]),[a,o]=Q.useState([]),[c,d]=Q.useState([]),[m,g]=Q.useState([]),[v,f]=Q.useState([]),[N,S]=Q.useState({}),[k,_]=Q.useState([]),[b,x]=Q.useState(null),[P,$]=Q.useState([]),[Z,V]=Q.useState(""),[U,O]=Q.useState(null),[ne,I]=Q.useState([]),[B,K]=Q.useState(null),[E,oe]=Q.useState({category:"",year:"",group:"",courseCode:"",semester:""}),[ce,me]=Q.useState([]),[D,X]=Q.useState(""),[ee,we]=Q.useState(!1),j=Q.useRef(null),[M,W]=Q.useState(null),J=le=>(le||"").trim().toLowerCase(),se=Q.useMemo(()=>{const le=new Set,$e=[];return r.forEach(Ve=>{const Tt=(Ve.category||Ve.Category||"").trim();Tt&&!le.has(Tt)&&(le.add(Tt),$e.push(Tt))}),$e.sort((Ve,Tt)=>Ve.localeCompare(Tt))},[r]),he=J(E.category),[pe,q]=Q.useState([]),[G,te]=Q.useState(""),[xe,je]=Q.useState(""),[Ye,ye]=Q.useState(""),[Y,nt]=Q.useState(null);Q.useEffect(()=>{(async()=>{const[$e,Ve,Tt]=await Promise.all([Se.listAcademicYears(),Se.listGroups(),Se.listCourses()]),tt=($e||[]).filter(yt=>(yt==null?void 0:yt.active)!==!1);t(tt),o(tt),n(Ve||[]),d(Ve||[]),i(Tt||[]),g(Tt||[])})()},[]),Q.useEffect(()=>{const le=Ue=>J(Ue.category||Ue.Category),$e=()=>he?e.filter(Ue=>J(Ue.category)===he):e,Ve=()=>he?r.filter(Ue=>le(Ue)===he):r,Tt=$e(),tt=Ve(),yt=new Set(tt.map(Ue=>Ue.group_code||Ue.code||Ue.groupCode).filter(Boolean).map(Ue=>String(Ue))),Ke=tt.find(Ue=>[Ue.code,Ue.group_code,Ue.groupCode].map(en=>String(en||"")).includes(String(E.group))),mt=Ke!==void 0?(Ue=>{if(!Ue)return[];const en=Ue.code||Ue.group_code||Ue.groupCode,ur=[Ue.name,Ue.group_name,Ue.groupName].filter(Boolean).map(vr=>String(vr));return s.filter(vr=>en?!!(vr.group_code===en||vr.groupCode===en||vr.group_name&&ur.includes(String(vr.group_name))||vr.groupName&&ur.includes(String(vr.groupName))):!1)})(Ke):he?s.filter(Ue=>yt.has(String(Ue.group_code||""))||yt.has(String(Ue.groupCode||""))):s;o(Tt),d(tt),g(mt),E.year&&!Tt.some(Ue=>String(Ue.academic_year)===String(E.year)||String(Ue.name)===String(E.year))&&oe(Ue=>({...Ue,year:""})),E.group&&!tt.some(Ue=>String(Ue.code)===String(E.group)||String(Ue.group_code)===String(E.group)||String(Ue.groupCode)===String(E.group))&&oe(Ue=>({...Ue,group:"",courseCode:""})),E.courseCode&&!mt.some(Ue=>String(Ue.code)===String(E.courseCode)||String(Ue.courseCode)===String(E.courseCode))&&oe(Ue=>({...Ue,courseCode:""}))},[he,e,r,s,E.year,E.group,E.courseCode]),Q.useEffect(()=>{He()},[]),Q.useEffect(()=>{const le=$e=>{j.current&&!j.current.contains($e.target)&&we(!1)};return document.addEventListener("mousedown",le),()=>document.removeEventListener("mousedown",le)},[]);const He=async()=>{try{const{data:le,error:$e}=await Xe.from("fee_categories").select("*").order("name",{ascending:!0});if($e)throw $e;$(le||[])}catch(le){console.error("Error loading fee categories:",le),it("Failed to load fee categories.",{type:"danger"})}},Pe=async()=>{if(!Z.trim()){it("Please enter a category name",{type:"warning"});return}try{if(U){const{error:le}=await Xe.from("fee_categories").update({name:Z}).eq("id",U);if(le)throw le;it("Category updated successfully",{type:"success"})}else{const{error:le}=await Xe.from("fee_categories").insert([{name:Z}]);if(le)throw le;it("Category added successfully",{type:"success"})}await He(),V(""),O(null)}catch(le){console.error("Error saving fee category:",le),it("Failed to save category",{type:"danger"})}},De=le=>{V(le.name),O(le.id)},Fe=async le=>{var $e;it("Deleting category...",{type:"info",title:"Deleting"});try{const{data:Ve,error:Tt}=await Xe.from("fee_structure").select("id").ilike("fee_cat",`%${($e=P.find(yt=>yt.id===le))==null?void 0:$e.name}%`).limit(1);if(Tt)throw Tt;if(Ve&&Ve.length>0){it("Cannot delete: This category is in use",{type:"danger"});return}const{error:tt}=await Xe.from("fee_categories").delete().eq("id",le);if(tt)throw tt;it("Category deleted successfully",{type:"success"}),await He()}catch(Ve){console.error("Error deleting fee category:",Ve),it("Failed to delete category",{type:"danger"})}};Q.useEffect(()=>{E.courseCode&&E.semester&&Me()},[E.courseCode,E.semester]);const Me=async()=>{const le=await Se.listSubjects({courseCode:E.courseCode,semester:Number(E.semester)});f(le||[])},st=le=>{me($e=>$e.includes(le)?$e.filter(Ve=>Ve!==le):[...$e,le])},pt=async()=>{try{const{data:le,error:$e}=await Xe.from("fee_structure").select("*").order("created_at",{ascending:!1});if($e)throw $e;const Ve=new Map;le.forEach(tt=>{const yt=`${tt.academic_year}_${tt.group}_${tt.course}_${tt.semester}`;Ve.has(yt)||Ve.set(yt,{id:tt.id,feeCategories:[],amount:tt.amount,academic_year:String(tt.academic_year),group:tt.group,course_code:tt.course,semester:String(tt.semester||""),created_at:tt.created_at}),tt.fee_cat&&Ve.get(yt).feeCategories.push({id:tt.id,name:tt.fee_cat,amount:tt.amount})});const Tt=Array.from(Ve.values());I(Tt)}catch(le){console.error("Error fetching category fees:",le),it("Error loading category fees. Please try again.",{type:"danger",title:"Category fees"})}},xt=async()=>{if(ce.length===0){it("Select at least one fee category",{type:"warning"});return}if(!D){it("Enter amount",{type:"warning"});return}if(!E.year||!E.group||!E.courseCode||!E.semester){it("Select Academic Year, Group, Course & Semester",{type:"warning"});return}try{const $e=P.filter(tt=>ce.includes(tt.id)).map(tt=>tt.name).join(", "),Ve=Number(D);await Xe.from("fee_structure").delete().eq("academic_year",E.year).eq("group",E.group).eq("course",E.courseCode).eq("semester",E.semester);const{error:Tt}=await Xe.from("fee_structure").insert([{academic_year:E.year,group:E.group,course:E.courseCode,semester:E.semester,fee_cat:$e,amount:Ve,created_at:new Date().toISOString()}]);if(Tt)throw Tt;await Promise.all([pt(),(()=>{me([]),X(""),oe({year:"",group:"",courseCode:"",semester:""}),f([])})()]),it("Fee saved successfully",{type:"success"})}catch(le){console.error("Error:",le),it("Failed to save fees",{type:"danger",title:"Category fees"})}},Be=async le=>{it("Deleting category fee...",{type:"info",title:"Deleting"});try{const{error:$e}=await Xe.from("fee_structure").delete().eq("id",le);if($e)throw $e;await pt()}catch($e){console.error("Error deleting category fee:",$e),it("Error deleting category fee. Please try again.",{type:"danger",title:"Category fees"})}},Ot=le=>M?le.filter($e=>!(M.year&&$e.academic_year!==M.year||M.group&&$e.group!==M.group||M.courseCode&&$e.course_code!==M.courseCode||M.semester&&$e.semester!==M.semester)):le;Ot(k);const qt=Ot(ne),ut=P.filter(le=>ce.includes(le.id)).map(le=>le.name),Et=ut.length?ut.length>2?`${ut.length}categories selected`:ut.join(", "):"Select fee categories",ze=async()=>{try{const{data:le,error:$e}=await Xe.from("Supplementary").select("*").order("created_at",{ascending:!1});if($e)throw $e;q(le||[])}catch(le){console.error("Error fetching supplementary fees:",le),it("Error loading supplementary fees. Please try again.",{type:"danger",title:"Supplementary fees"})}},gr=async le=>{if(le.preventDefault(),!ia({"Paper 1 Fee":G,"Paper 2 Fee":xe,"3+ Papers Fee":Ye},{title:"Enter fee amounts"}))return;const $e=parseFloat(G),Ve=parseFloat(xe),Tt=parseFloat(Ye);if(isNaN($e)||isNaN(Ve)||isNaN(Tt)){it("Please enter valid numbers for all fields.",{type:"warning",title:"Supplementary fees"});return}const tt={"Paper-1":$e,"Paper-2":Ve,"Paper-3":Tt,created_at:new Date().toISOString()};console.log("Submitting fee data:",{editingFeeId:Y,feeData:tt,table:"Supplementary",supabaseConnected:!!Xe});try{if(Y){console.log("Updating existing fee with ID:",Y);const{data:yt,error:Ke}=await Xe.from("Supplementary").update(tt).eq("id",Y).select();if(Ke)throw console.error("Update error details:",Ke),Ke;console.log("Update successful, updated data:",yt),q(pe.map(Ct=>Ct.id===Y?{...Ct,...tt}:Ct)),nt(null)}else{console.log("Creating new fee");const{data:yt,error:Ke}=await Xe.from("Supplementary").insert([tt]).select();if(Ke)throw console.error("Insert error details:",Ke),Ke;console.log("Insert successful, new data:",yt),yt&&yt.length>0?q([yt[0],...pe]):(console.log("No data returned from insert, refetching..."),await ze())}te(""),je(""),ye("")}catch(yt){console.error("Error in handleSupplementarySubmit:",{message:yt.message,code:yt.code,details:yt.details,hint:yt.hint,error:yt});let Ke="Error saving supplementary fee";yt.code==="42P01"?Ke="The Supplementary table does not exist in the database. Please create it first.":yt.code==="42501"?Ke="Permission denied. Please check your database permissions.":yt.message&&(Ke+=`: ${yt.message}`),it(Ke,{type:"danger",title:"Supplementary fees"})}},Lt=le=>{te(le["Paper-1"].toString()),je(le["Paper-2"].toString()),ye(le["Paper-3"].toString()),nt(le.id)},Hr=async le=>{try{const{error:$e}=await Xe.from("Supplementary").delete().eq("id",le);if($e)throw $e;q(pe.filter(Ve=>Ve.id!==le)),it("Supplementary fee deleted.",{type:"success",title:"Supplementary fees"})}catch($e){console.error("Error deleting supplementary fee:",$e),it("Error deleting supplementary fee. Please try again.",{type:"danger",title:"Supplementary fees"})}},Dt=async le=>{try{const{data:$e,error:Ve}=await Xe.from(le).select("*").limit(1);return!(Ve&&Ve.code==="42P01")}catch($e){return console.error("Error checking table existence:",$e),!1}};return Q.useEffect(()=>{(async()=>{const $e=await Dt("Supplementary");console.log("Supplementary table exists:",$e),$e?await ze():it("The Supplementary table does not exist in your Supabase database. Please create it with columns id, Paper-1, Paper-2, Paper-3, created_at.",{type:"warning",title:"Supplementary fees"});const Ve=await Dt("fee_structure");console.log("Fee structure table exists:",Ve),Ve?await pt():console.log("Fee structure table does not exist. It will be created when you add your first fee.")})()},[]),l.jsxs(Is,{children:[l.jsx("h2",{className:"fw-bold mb-4",children:"Fees Management"}),l.jsxs("div",{className:"tab-pane fade show active",id:"fee-structure",role:"tabpanel",children:[l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header",children:l.jsx("h5",{className:"mb-0",children:"Fee Categories"})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"row g-2 align-items-end mb-3",children:[l.jsxs("div",{className:"col-md-5 col-lg-4",children:[l.jsx("label",{className:"form-label text-muted fw-600",children:U?"Edit fee category":"Add a fee category"}),l.jsx("input",{className:"form-control",placeholder:"e.g., Tuition",value:Z,onChange:le=>V(le.target.value),onKeyDown:le=>{le.key==="Enter"&&(le.preventDefault(),Pe())}})]}),l.jsx("div",{className:"col-md-3 col-lg-2",children:l.jsx("button",{type:"button",className:"btn btn-primary w-100 mt-md-4",onClick:Pe,children:U?"Update Category":"Add Category"})}),U&&l.jsx("div",{className:"col-md-3 col-lg-2",children:l.jsx("button",{type:"button",className:"btn btn-outline-secondary w-100 mt-md-4",onClick:()=>{V(""),O(null)},children:"Cancel"})})]}),l.jsxs("div",{className:"row g-3",children:[P.map(le=>l.jsx("div",{className:"col-md-6 col-lg-4",children:l.jsx("div",{className:"card h-100",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[l.jsx("div",{children:l.jsx("h6",{className:"mb-0",children:le.name})}),l.jsxs("div",{className:"btn-group",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>De(le),children:"Edit"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>Fe(le.id),children:"Delete"})]})]})})})},le.id)),P.length===0&&l.jsx("div",{className:"col-12",children:l.jsx("div",{className:"alert alert-info mb-0",children:"No fee categories found. Add one to get started."})})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"card-header",children:l.jsx("h5",{className:"mb-0",children:"Fee Structure"})}),l.jsx("div",{className:"card-body"})]})]}),l.jsx("div",{className:"card card-soft p-3 mb-4",children:l.jsxs("div",{className:"row g-3",children:[l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label fw-bold",children:"Category"}),l.jsxs("select",{className:"form-select",value:E.category,onChange:le=>oe({...E,category:le.target.value,year:"",group:"",courseCode:"",semester:""}),children:[l.jsx("option",{value:"",children:"Category"}),se.map(le=>l.jsx("option",{value:le,children:le},le))]})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label fw-bold",children:"Academic Year"}),l.jsxs("select",{className:"form-select",value:E.year,onChange:le=>oe({...E,year:le.target.value}),children:[l.jsx("option",{value:"",children:"Academic Year"}),a.map(le=>{const $e=le.name||le.academic_year;return l.jsx("option",{value:$e,children:$e},le.id)})]})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label fw-bold",children:"Group"}),l.jsxs("select",{className:"form-select",value:E.group,onChange:le=>oe({...E,group:le.target.value,courseCode:""}),children:[l.jsx("option",{value:"",children:"Group"}),c.map(le=>l.jsx("option",{value:le.code,children:le.name},le.id))]})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label fw-bold",children:"Course"}),l.jsxs("select",{className:"form-select",value:E.courseCode,onChange:le=>oe({...E,courseCode:le.target.value,semester:""}),children:[l.jsx("option",{value:"",children:"Course"}),m.map(le=>l.jsx("option",{value:le.code,children:le.courseName||le.name||le.course_name||"Unnamed course"},le.id))]})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label fw-bold",children:"Semester"}),l.jsxs("select",{className:"form-select",value:E.semester,onChange:le=>oe({...E,semester:le.target.value}),children:[l.jsx("option",{value:"",children:"Semester"}),[1,2,3,4,5,6].map(le=>l.jsxs("option",{value:le,children:["Sem ",le]},le))]})]}),l.jsxs("div",{className:"col-md-3 position-relative",ref:j,children:[l.jsx("label",{className:"form-label fw-bold",children:"Fee Categories"}),l.jsxs("button",{type:"button",className:"btn btn-outline-secondary w-100 text-start d-flex justify-content-between align-items-center",onClick:le=>{le.stopPropagation(),we($e=>!$e)},"aria-haspopup":"true","aria-expanded":ee,children:[l.jsx("span",{className:"me-2",children:Et}),l.jsx("span",{className:"text-muted",children:""})]}),ee&&l.jsx("div",{className:"bg-white border rounded mt-2 shadow-sm",style:{position:"absolute",zIndex:50,width:"100%",maxHeight:"300px",overflowY:"auto"},onClick:le=>le.stopPropagation(),children:l.jsxs("div",{className:"p-3 d-flex flex-column gap-2",children:[P.map(le=>l.jsxs("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:`cat-dropdown-${le.id}`,checked:ce.includes(le.id),onChange:()=>st(le.id)}),l.jsx("label",{className:"form-check-label",htmlFor:`cat-dropdown-${le.id}`,children:le.name})]},le.id)),P.length===0&&l.jsx("div",{className:"text-muted",children:"No categories available"})]})})]}),l.jsxs("div",{className:"col-md-3 d-flex flex-column",children:[l.jsxs("div",{className:"input-group mb-2",children:[l.jsx("span",{className:"input-group-text",children:""}),l.jsx("input",{type:"number",className:"form-control",placeholder:"Amount",value:D,onChange:le=>X(le.target.value)})]}),l.jsx("div",{className:"mt-auto",children:l.jsx("button",{className:"btn btn-primary w-100",onClick:xt,children:"Submit"})})]})]})}),qt.length>0&&l.jsxs("div",{className:"card card-soft p-4 mb-4",children:[l.jsx("h4",{className:"fw-bold mb-3",children:"Fee Category Records"}),qt.map((le,$e)=>{var Tt,tt,yt;le.academic_year,le.group,le.course_code,le.semester;const Ve=le.feeCategories||[];return l.jsx("div",{className:"mb-4",children:l.jsxs("table",{className:"table table-bordered align-middle",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"YEAR"}),l.jsx("th",{children:"GROUP"}),l.jsx("th",{children:"COURSE"}),l.jsx("th",{children:"SEMESTER"}),l.jsx("th",{children:"FEE CATEGORIES"}),l.jsx("th",{children:"FEE AMOUNT"}),l.jsx("th",{children:"ACTIONS"})]})}),l.jsx("tbody",{children:B===le.id?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"p-0",children:l.jsxs("div",{className:"p-3 bg-light",children:[l.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[l.jsx("h6",{className:"mb-0",children:"Edit Fee Categories"}),l.jsxs("div",{className:"d-flex gap-2",children:[l.jsx("button",{className:"btn btn-sm btn-success",onClick:()=>{const Ke=ne.map(Ct=>Ct.academic_year===le.academic_year&&Ct.group===le.group&&Ct.course_code===le.course_code&&Ct.semester===le.semester?{...Ct,academic_year:E.year,group:E.group,course_code:E.courseCode,semester:E.semester}:Ct);I(Ke),K(null)},children:"Save"}),l.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>K(null),children:"Cancel"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label fw-bold",children:"Common Amount ()"}),l.jsx("input",{type:"number",className:"form-control",value:(le==null?void 0:le.amount)||"",onChange:Ke=>{const Ct=Ke.target.value;I(mt=>mt.map(Ue=>Ue.academic_year===le.academic_year&&Ue.group===le.group&&Ue.course_code===le.course_code&&Ue.semester===le.semester?{...Ue,amount:Ct}:Ue))}})]}),l.jsxs("div",{className:"row g-3 mb-3",children:[l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Academic Year"}),l.jsxs("select",{className:"form-select form-select-sm",value:E.year,onChange:Ke=>oe({...E,year:Ke.target.value}),children:[l.jsx("option",{value:"",children:"Select Year"}),e.map(Ke=>{const Ct=Ke.name||Ke.academic_year;return l.jsx("option",{value:Ct,children:Ct},Ke.id)})]})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Group"}),l.jsxs("select",{className:"form-select form-select-sm",value:E.group,onChange:Ke=>oe({...E,group:Ke.target.value,courseCode:""}),children:[l.jsx("option",{value:"",children:"Select Group"}),r.map(Ke=>l.jsx("option",{value:Ke.code,children:Ke.code},Ke.id))]})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Course"}),l.jsxs("select",{className:"form-select form-select-sm",value:E.courseCode,onChange:Ke=>oe({...E,courseCode:Ke.target.value,semester:""}),children:[l.jsx("option",{value:"",children:"Select Course"}),s.filter(Ke=>!E.group||Ke.group_code===E.group).map(Ke=>l.jsxs("option",{value:Ke.code,children:[Ke.code,"- ",Ke.name]},Ke.id))]})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Semester"}),l.jsxs("select",{className:"form-select form-select-sm",value:E.semester,onChange:Ke=>oe({...E,semester:Ke.target.value}),children:[l.jsx("option",{value:"",children:"Select Semester"}),[1,2,3,4,5,6].map(Ke=>l.jsxs("option",{value:Ke,children:["Sem ",Ke]},Ke))]})]})]}),(Tt=le.feeCategories)==null?void 0:Tt.map(Ke=>l.jsxs("div",{className:"d-flex align-items-center gap-3 mb-2",children:[l.jsx("span",{className:"w-25",children:Ke.name}),l.jsxs("div",{className:"w-25",children:["",parseInt(Ke.amount).toLocaleString("en-IN")]}),l.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Be(Ke.id),children:"Remove"})]},Ke.id))]})})}):l.jsxs("tr",{children:[l.jsx("td",{children:le.academic_year}),l.jsx("td",{children:((tt=r.find(Ke=>Ke.code===le.group))==null?void 0:tt.name)||le.group}),l.jsx("td",{children:((yt=s.find(Ke=>Ke.code===le.course_code))==null?void 0:yt.name)||le.course_code}),l.jsx("td",{children:le.semester}),l.jsx("td",{children:Ve.map(Ke=>Ke.name).join(", ")}),l.jsxs("td",{children:["",parseInt(le.amount).toLocaleString("en-IN")]}),l.jsx("td",{children:l.jsxs("div",{className:"d-flex gap-2",children:[l.jsx("button",{className:"btn btn-sm btn-warning",onClick:()=>K(le.id),children:"Edit"}),l.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>{var Ke;it("Deleting all fee categories for this semester.",{type:"warning",title:"Delete categories"}),(Ke=le.feeCategories)==null||Ke.forEach(Ct=>Be(Ct.id))},children:"Delete"})]})})]})})]})},$e)})]}),l.jsxs("div",{className:"card card-soft p-3 mb-4",children:[l.jsx("h4",{className:"fw-bold mb-3",children:"Supplementary Fees"}),l.jsx("form",{onSubmit:gr,className:"mb-4",children:l.jsxs("div",{className:"row g-3",children:[l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"1 Paper Fee ()"}),l.jsx("input",{type:"number",value:G,onChange:le=>te(le.target.value),className:"form-control",required:!0})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"2 Papers Fee ()"}),l.jsx("input",{type:"number",value:xe,onChange:le=>je(le.target.value),className:"form-control",required:!0})]}),l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"3 and above Papers Fee ()"}),l.jsx("input",{type:"number",value:Ye,onChange:le=>ye(le.target.value),className:"form-control",required:!0})]}),l.jsx("div",{className:"col-md-3 d-flex align-items-end",children:l.jsx("div",{className:"d-flex gap-2",children:l.jsx("button",{type:"submit",className:"btn btn-primary flex-grow-1",children:Y?"Update Fee":"Add Supplementary Fee"})})})]})}),pe.length>0&&l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table table-bordered align-middle",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"1 PAPER ()"}),l.jsx("th",{children:"2 PAPERS ()"}),l.jsx("th",{children:"3+ PAPERS ()"}),l.jsx("th",{children:"ACTIONS"})]})}),l.jsx("tbody",{children:pe.map(le=>l.jsxs("tr",{children:[l.jsxs("td",{children:["",le["Paper-1"]]}),l.jsxs("td",{children:["",le["Paper-2"]]}),l.jsxs("td",{children:["",le["Paper-3"]]}),l.jsx("td",{children:l.jsxs("div",{className:"d-flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>Lt(le),className:"btn btn-sm btn-primary",children:"Edit"}),l.jsx("button",{onClick:()=>Hr(le.id),className:"btn btn-sm btn-danger",children:"Delete"})]})})]},le.id))})]})})]})]})}function Mn({isAuthed:e,children:t}){return e?t:l.jsx(Sm,{to:"/admin/login",replace:!0})}const Pk=()=>{const e=Hc(r=>r.pendingRequests>0),t=["preloader-overlay"];return e&&t.push("preloader-overlay--visible"),l.jsx("div",{className:t.join(" "),"aria-hidden":!e,children:l.jsxs("div",{className:"preloader",role:"status","aria-live":"polite","aria-label":"Loading Vijayam Science and Arts College data",children:[l.jsxs("div",{className:"preloader__badge",children:[l.jsx("div",{className:"preloader__crest",children:l.jsx("img",{src:wl,alt:"Vijayam Science and Arts College logo"})}),l.jsxs("div",{children:[l.jsx("div",{className:"preloader__college",children:"Vijayam Science and Arts College"}),l.jsx("div",{className:"preloader__tagline",children:"Preparing your academic space"})]})]}),l.jsxs("div",{className:"preloader__spinner",children:[l.jsx("div",{className:"preloader__ring preloader__ring--outer"}),l.jsx("div",{className:"preloader__ring preloader__ring--middle"}),l.jsx("div",{className:"preloader__ring preloader__ring--inner"}),l.jsx("div",{className:"preloader__pulse"}),l.jsxs("div",{className:"preloader__icons",children:[l.jsx("span",{className:"preloader__icon",children:""}),l.jsx("span",{className:"preloader__icon",children:""}),l.jsx("span",{className:"preloader__icon",children:""}),l.jsx("span",{className:"preloader__icon",children:""})]}),l.jsx("div",{className:"preloader__dot preloader__dot--one"}),l.jsx("div",{className:"preloader__dot preloader__dot--two"}),l.jsx("div",{className:"preloader__dot preloader__dot--three"})]}),l.jsx("div",{className:"preloader__status",children:"Syncing academic data"}),l.jsxs("div",{className:"preloader__meter",children:[l.jsx("span",{className:"preloader__segment"}),l.jsx("span",{className:"preloader__segment"}),l.jsx("span",{className:"preloader__segment"}),l.jsx("span",{className:"preloader__segment"})]})]})})},Lk=Q.memo(Pk),h2={success:"toast-card--success",danger:"toast-card--danger",error:"toast-card--danger",warning:"toast-card--warning",info:"toast-card--info"},Tk=({toast:e,onDismiss:t})=>{Q.useEffect(()=>{if(!e.duration||e.duration<=0)return;const n=setTimeout(()=>t(e.id),e.duration);return()=>clearTimeout(n)},[e.id,e.duration,t]);const r=h2[e.type]||h2.info;return l.jsxs("div",{className:`toast-card ${r}`,role:"status","aria-live":"assertive",children:[l.jsxs("div",{className:"toast-card__body",children:[e.title?l.jsx("div",{className:"toast-card__title",children:e.title}):null,l.jsx("div",{className:"toast-card__message",children:e.message})]}),l.jsx("button",{type:"button",className:"toast-card__close","aria-label":"Dismiss notification",onClick:()=>t(e.id),children:""})]})},Ik=()=>{const e=Hc(r=>r.toasts),t=Hc(r=>r.dismissToast);return e.length?l.jsx("div",{className:"toast-stack","aria-live":"polite","aria-atomic":"false",children:e.map(r=>l.jsx(Tk,{toast:r,onDismiss:t},r.id))}):null},Ok=Q.memo(Ik),Rk="Vijayam College Arts & Science",Dk=e=>{if(!e)return"S";const t=e.trim().split(" ");return t.length===1?t[0].slice(0,2).toUpperCase():(t[0][0]+t[t.length-1][0]).toUpperCase()};function Fk(){var k,_,b;const e=pa(),t=vl(),r=((k=e.state)==null?void 0:k.student)??null,n=((_=e.state)==null?void 0:_.studentId)??(r==null?void 0:r.student_id),s=((b=e.state)==null?void 0:b.selectedFilters)??null,[i,a]=Q.useState(r),[o,c]=Q.useState(!1),[d,m]=Q.useState([]),[g,v]=Q.useState([]);Q.useEffect(()=>{let x=!1;return(async()=>{var $,Z,V;if(!i&&n){c(!0);try{const[U,O,ne]=await Promise.all([($=Se.listStudents)==null?void 0:$.call(Se),(Z=Se.listGroups)==null?void 0:Z.call(Se),(V=Se.listCourses)==null?void 0:V.call(Se)]);if(m(O||[]),v(ne||[]),x)return;const I=(U||[]).find(B=>B.student_id===n||String(B.id)===String(n));a(I||{student_id:n})}catch(U){console.error("Failed to load student:",U),it("Unable to load student details",{type:"error"})}finally{x||c(!1)}}})(),()=>{x=!0}},[n,i]);const f=(i==null?void 0:i.photo_url)||(i==null?void 0:i.photo)||null,N=()=>{if(!i)return"N/A";const x=i.group||i.group_name||"",P=(d||[]).find($=>$.code===x||$.group_code===x||$.name===x||$.group_name===x);return(P==null?void 0:P.name)||x||"N/A"},S=()=>{if(!i)return"N/A";const x=i.course_name||i.courseName||i.course_id||"",P=(g||[]).find($=>$.courseCode===x||$.course_code===x||$.courseName===x||$.course_name===x);return(P==null?void 0:P.courseName)||(P==null?void 0:P.course_name)||x||"N/A"};return l.jsxs(Is,{children:[l.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"fw-bold mb-0",children:"Student Payment Overview"}),n&&l.jsxs("p",{className:"text-muted mb-0",children:["Quick view for ",n]})]}),l.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>{n?s?t("/admin/payments",{state:{selectedStudentId:n,selectedFilters:s}}):t("/admin/payments",{state:{selectedStudentId:n}}):t(-1)},children:"Back to payments"})]}),l.jsx("div",{className:"card card-soft p-4",children:o?l.jsx("div",{children:"Loading student details..."}):l.jsxs("div",{className:"row align-items-center justify-content-between",children:[l.jsxs("div",{className:"col-md-4 d-flex align-items-center gap-3",children:[f?l.jsx("img",{src:f,alt:(i==null?void 0:i.full_name)||"Student",className:"rounded-circle",style:{width:96,height:96,objectFit:"cover"}}):l.jsx("div",{className:"bg-secondary text-white rounded-circle d-inline-flex align-items-center justify-content-center",style:{width:96,height:96,fontSize:20},children:Dk(i==null?void 0:i.full_name)}),l.jsxs("div",{children:[l.jsx("h5",{className:"mb-1",children:(i==null?void 0:i.full_name)||"Unnamed Student"}),l.jsxs("div",{className:"text-muted",children:["ID: ",(i==null?void 0:i.student_id)||n||"N/A"]}),l.jsx("div",{className:"text-muted",children:Rk})]})]}),l.jsxs("div",{className:"col-md-7 d-flex flex-column justify-content-center align-items-end text-end",children:[l.jsx("h5",{className:"fw-bold",children:"About me"}),l.jsxs("div",{className:"d-flex flex-column gap-2 mt-3",children:[l.jsx("div",{className:"fs-5",children:N()}),l.jsx("div",{className:"fs-5",children:S()}),l.jsx("div",{className:"fs-5",children:(i==null?void 0:i.academic_year)||"N/A"})]})]})]})})]})}function Bk(){const{user:e,signOut:t}=Xg(),r=!!e;return l.jsxs(l.Fragment,{children:[l.jsxs(N3,{children:[l.jsx(Er,{path:"/",element:l.jsx(Wj,{})}),l.jsx(Er,{path:"/apply",element:l.jsx(zj,{})}),l.jsx(Er,{path:"/application",element:l.jsx(Y6,{})}),l.jsx(Er,{path:"/public/results",element:l.jsx(Hj,{})}),l.jsx(Er,{path:"/public/timetable",element:l.jsx(Yj,{})}),l.jsx(Er,{path:"/admin/login",element:l.jsx(Q6,{})}),l.jsx(Er,{path:"/admin",element:l.jsx(Mn,{isAuthed:r,children:l.jsx(Sm,{to:"/admin/setup/years",replace:!0})})}),l.jsx(Er,{path:"/admin/batches",element:l.jsx(Mn,{isAuthed:r,children:l.jsx(X6,{})})}),l.jsx(Er,{path:"/admin/courses",element:l.jsx(Mn,{isAuthed:r,children:l.jsx(Z6,{})})}),l.jsx(Er,{path:"/admin/students",element:l.jsx(Mn,{isAuthed:r,children:l.jsx(fk,{})})}),l.jsx(Er,{path:"/admin/exams",element:l.jsx(Mn,{isAuthed:r,children:l.jsx(__,{})})}),l.jsx(Er,{path:"/admin/payments",element:l.jsx(Mn,{isAuthed:r,children:l.jsx(pk,{})})}),l.jsx(Er,{path:"/admin/hall-tickets",element:l.jsx(Mn,{isAuthed:r,children:l.jsx(mk,{})})}),l.jsx(Er,{path:"/admin/results",element:l.jsx(Mn,{isAuthed:r,children:l.jsx(gk,{})})}),l.jsx(Er,{path:"/admin/departments",element:l.jsx(Mn,{isAuthed:r,children:l.jsx(Ek,{})})}),l.jsx(Er,{path:"/admin/studentpayoverview",element:l.jsx(Mn,{isAuthed:r,children:l.jsx(Fk,{})})}),l.jsx(Er,{path:"/admin/setup",element:l.jsx(Mn,{isAuthed:r,children:l.jsx(Sm,{to:"/admin/setup/years",replace:!0})})}),l.jsx(Er,{path:"/admin/setup/:tab",element:l.jsx(Mn,{isAuthed:r,children:l.jsx(Ak,{})})}),l.jsx(Er,{path:"/admin/applications",element:l.jsx(Mn,{isAuthed:r,children:l.jsx(J6,{})})})]}),l.jsx(Lk,{}),l.jsx(Ok,{})]})}document.body.classList.remove("theme-red");document.body.classList.add("theme-blue");Pp.createRoot(document.getElementById("root")).render(l.jsx(P3,{children:l.jsx(Bk,{})}));export{Gt as _,Uk as c,p2 as g};
