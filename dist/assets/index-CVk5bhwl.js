function K2(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var oA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function J2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Tb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Y2={exports:{}},ch={},Q2={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu=Symbol.for("react.element"),Fb=Symbol.for("react.portal"),Db=Symbol.for("react.fragment"),Mb=Symbol.for("react.strict_mode"),Bb=Symbol.for("react.profiler"),Ub=Symbol.for("react.provider"),zb=Symbol.for("react.context"),qb=Symbol.for("react.forward_ref"),$b=Symbol.for("react.suspense"),Vb=Symbol.for("react.memo"),Hb=Symbol.for("react.lazy"),S1=Symbol.iterator;function Wb(t){return t===null||typeof t!="object"?null:(t=S1&&t[S1]||t["@@iterator"],typeof t=="function"?t:null)}var X2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z2=Object.assign,ev={};function ll(t,e,r){this.props=t,this.context=e,this.refs=ev,this.updater=r||X2}ll.prototype.isReactComponent={};ll.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ll.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tv(){}tv.prototype=ll.prototype;function zm(t,e,r){this.props=t,this.context=e,this.refs=ev,this.updater=r||X2}var qm=zm.prototype=new tv;qm.constructor=zm;Z2(qm,ll.prototype);qm.isPureReactComponent=!0;var j1=Array.isArray,rv=Object.prototype.hasOwnProperty,$m={current:null},nv={key:!0,ref:!0,__self:!0,__source:!0};function iv(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)rv.call(e,n)&&!nv.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var o=Array(l),c=0;c<l;c++)o[c]=arguments[c+2];i.children=o}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Vu,type:t,key:s,ref:a,props:i,_owner:$m.current}}function Gb(t,e){return{$$typeof:Vu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vu}function Kb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var A1=/\/+/g;function bf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Kb(""+t.key):e.toString(36)}function md(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Vu:case Fb:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+bf(a,0):n,j1(i)?(r="",t!=null&&(r=t.replace(A1,"$&/")+"/"),md(i,e,r,"",function(c){return c})):i!=null&&(Vm(i)&&(i=Gb(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(A1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",j1(t))for(var l=0;l<t.length;l++){s=t[l];var o=n+bf(s,l);a+=md(s,e,r,o,i)}else if(o=Wb(t),typeof o=="function")for(t=o.call(t),l=0;!(s=t.next()).done;)s=s.value,o=n+bf(s,l++),a+=md(s,e,r,o,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Bc(t,e,r){if(t==null)return t;var n=[],i=0;return md(t,n,"","",function(s){return e.call(r,s,i++)}),n}function Jb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cn={current:null},gd={transition:null},Yb={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:gd,ReactCurrentOwner:$m};function sv(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:Bc,forEach:function(t,e,r){Bc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Bc(t,function(){e++}),e},toArray:function(t){return Bc(t,function(e){return e})||[]},only:function(t){if(!Vm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xt.Component=ll;xt.Fragment=Db;xt.Profiler=Bb;xt.PureComponent=zm;xt.StrictMode=Mb;xt.Suspense=$b;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yb;xt.act=sv;xt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Z2({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=$m.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(o in e)rv.call(e,o)&&!nv.hasOwnProperty(o)&&(n[o]=e[o]===void 0&&l!==void 0?l[o]:e[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){l=Array(o);for(var c=0;c<o;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Vu,type:t.type,key:i,ref:s,props:n,_owner:a}};xt.createContext=function(t){return t={$$typeof:zb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ub,_context:t},t.Consumer=t};xt.createElement=iv;xt.createFactory=function(t){var e=iv.bind(null,t);return e.type=t,e};xt.createRef=function(){return{current:null}};xt.forwardRef=function(t){return{$$typeof:qb,render:t}};xt.isValidElement=Vm;xt.lazy=function(t){return{$$typeof:Hb,_payload:{_status:-1,_result:t},_init:Jb}};xt.memo=function(t,e){return{$$typeof:Vb,type:t,compare:e===void 0?null:e}};xt.startTransition=function(t){var e=gd.transition;gd.transition={};try{t()}finally{gd.transition=e}};xt.unstable_act=sv;xt.useCallback=function(t,e){return cn.current.useCallback(t,e)};xt.useContext=function(t){return cn.current.useContext(t)};xt.useDebugValue=function(){};xt.useDeferredValue=function(t){return cn.current.useDeferredValue(t)};xt.useEffect=function(t,e){return cn.current.useEffect(t,e)};xt.useId=function(){return cn.current.useId()};xt.useImperativeHandle=function(t,e,r){return cn.current.useImperativeHandle(t,e,r)};xt.useInsertionEffect=function(t,e){return cn.current.useInsertionEffect(t,e)};xt.useLayoutEffect=function(t,e){return cn.current.useLayoutEffect(t,e)};xt.useMemo=function(t,e){return cn.current.useMemo(t,e)};xt.useReducer=function(t,e,r){return cn.current.useReducer(t,e,r)};xt.useRef=function(t){return cn.current.useRef(t)};xt.useState=function(t){return cn.current.useState(t)};xt.useSyncExternalStore=function(t,e,r){return cn.current.useSyncExternalStore(t,e,r)};xt.useTransition=function(){return cn.current.useTransition()};xt.version="18.3.1";Q2.exports=xt;var se=Q2.exports;const bi=J2(se),Qb=K2({__proto__:null,default:bi},[se]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb=se,Zb=Symbol.for("react.element"),e_=Symbol.for("react.fragment"),t_=Object.prototype.hasOwnProperty,r_=Xb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n_={key:!0,ref:!0,__self:!0,__source:!0};function av(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)t_.call(e,n)&&!n_.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Zb,type:t,key:s,ref:a,props:i,_owner:r_.current}}ch.Fragment=e_;ch.jsx=av;ch.jsxs=av;Y2.exports=ch;var d=Y2.exports,wp={},ov={exports:{}},zn={},lv={exports:{}},uv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,ne){var ae=W.length;W.push(ne);e:for(;0<ae;){var Ne=ae-1>>>1,C=W[Ne];if(0<i(C,ne))W[Ne]=ne,W[ae]=C,ae=Ne;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var ne=W[0],ae=W.pop();if(ae!==ne){W[0]=ae;e:for(var Ne=0,C=W.length,U=C>>>1;Ne<U;){var q=2*(Ne+1)-1,K=W[q],Z=q+1,le=W[Z];if(0>i(K,ae))Z<C&&0>i(le,K)?(W[Ne]=le,W[Z]=ae,Ne=Z):(W[Ne]=K,W[q]=ae,Ne=q);else if(Z<C&&0>i(le,ae))W[Ne]=le,W[Z]=ae,Ne=Z;else break e}}return ne}function i(W,ne){var ae=W.sortIndex-ne.sortIndex;return ae!==0?ae:W.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var o=[],c=[],f=1,m=null,v=3,p=!1,_=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(W){for(var ne=r(c);ne!==null;){if(ne.callback===null)n(c);else if(ne.startTime<=W)n(c),ne.sortIndex=ne.expirationTime,e(o,ne);else break;ne=r(c)}}function P(W){if(S=!1,b(W),!_)if(r(o)!==null)_=!0,oe(D);else{var ne=r(c);ne!==null&&me(P,ne.startTime-W)}}function D(W,ne){_=!1,S&&(S=!1,w(M),M=-1),p=!0;var ae=v;try{for(b(ne),m=r(o);m!==null&&(!(m.expirationTime>ne)||W&&!O());){var Ne=m.callback;if(typeof Ne=="function"){m.callback=null,v=m.priorityLevel;var C=Ne(m.expirationTime<=ne);ne=t.unstable_now(),typeof C=="function"?m.callback=C:m===r(o)&&n(o),b(ne)}else n(o);m=r(o)}if(m!==null)var U=!0;else{var q=r(c);q!==null&&me(P,q.startTime-ne),U=!1}return U}finally{m=null,v=ae,p=!1}}var Y=!1,$=null,M=-1,te=5,I=-1;function O(){return!(t.unstable_now()-I<te)}function R(){if($!==null){var W=t.unstable_now();I=W;var ne=!0;try{ne=$(!0,W)}finally{ne?G():(Y=!1,$=null)}}else Y=!1}var G;if(typeof x=="function")G=function(){x(R)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,pe=H.port2;H.port1.onmessage=R,G=function(){pe.postMessage(null)}}else G=function(){j(R,0)};function oe(W){$=W,Y||(Y=!0,G())}function me(W,ne){M=j(function(){W(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,oe(D))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(o)},t.unstable_next=function(W){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var ae=v;v=ne;try{return W()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ne){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ae=v;v=W;try{return ne()}finally{v=ae}},t.unstable_scheduleCallback=function(W,ne,ae){var Ne=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Ne+ae:Ne):ae=Ne,W){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ae+C,W={id:f++,callback:ne,priorityLevel:W,startTime:ae,expirationTime:C,sortIndex:-1},ae>Ne?(W.sortIndex=ae,e(c,W),r(o)===null&&W===r(c)&&(S?(w(M),M=-1):S=!0,me(P,ae-Ne))):(W.sortIndex=C,e(o,W),_||p||(_=!0,oe(D))),W},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(W){var ne=v;return function(){var ae=v;v=ne;try{return W.apply(this,arguments)}finally{v=ae}}}})(uv);lv.exports=uv;var i_=lv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_=se,Un=i_;function ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cv=new Set,_u={};function $a(t,e){Zo(t,e),Zo(t+"Capture",e)}function Zo(t,e){for(_u[t]=e,t=0;t<e.length;t++)cv.add(e[t])}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bp=Object.prototype.hasOwnProperty,a_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k1={},C1={};function o_(t){return bp.call(C1,t)?!0:bp.call(k1,t)?!1:a_.test(t)?C1[t]=!0:(k1[t]=!0,!1)}function l_(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function u_(t,e,r,n){if(e===null||typeof e>"u"||l_(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ur[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ur[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ur[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ur[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ur[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ur[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ur[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ur[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ur[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hm=/[\-:]([a-z])/g;function Wm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hm,Wm);Ur[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hm,Wm);Ur[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hm,Wm);Ur[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ur[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ur.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ur[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gm(t,e,r,n){var i=Ur.hasOwnProperty(e)?Ur[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(u_(e,r,i,n)&&(r=null),n||i===null?o_(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var fs=s_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uc=Symbol.for("react.element"),Co=Symbol.for("react.portal"),Eo=Symbol.for("react.fragment"),Km=Symbol.for("react.strict_mode"),_p=Symbol.for("react.profiler"),dv=Symbol.for("react.provider"),hv=Symbol.for("react.context"),Jm=Symbol.for("react.forward_ref"),xp=Symbol.for("react.suspense"),Np=Symbol.for("react.suspense_list"),Ym=Symbol.for("react.memo"),Fs=Symbol.for("react.lazy"),fv=Symbol.for("react.offscreen"),E1=Symbol.iterator;function Wl(t){return t===null||typeof t!="object"?null:(t=E1&&t[E1]||t["@@iterator"],typeof t=="function"?t:null)}var rr=Object.assign,_f;function nu(t){if(_f===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);_f=e&&e[1]||""}return`
`+_f+t}var xf=!1;function Nf(t,e){if(!t||xf)return"";xf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var o=`
`+i[a].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=a&&0<=l);break}}}finally{xf=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?nu(t):""}function c_(t){switch(t.tag){case 5:return nu(t.type);case 16:return nu("Lazy");case 13:return nu("Suspense");case 19:return nu("SuspenseList");case 0:case 2:case 15:return t=Nf(t.type,!1),t;case 11:return t=Nf(t.type.render,!1),t;case 1:return t=Nf(t.type,!0),t;default:return""}}function Sp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Eo:return"Fragment";case Co:return"Portal";case _p:return"Profiler";case Km:return"StrictMode";case xp:return"Suspense";case Np:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hv:return(t.displayName||"Context")+".Consumer";case dv:return(t._context.displayName||"Context")+".Provider";case Jm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ym:return e=t.displayName||null,e!==null?e:Sp(t.type)||"Memo";case Fs:e=t._payload,t=t._init;try{return Sp(t(e))}catch{}}return null}function d_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sp(e);case 8:return e===Km?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ta(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function h_(t){var e=pv(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zc(t){t._valueTracker||(t._valueTracker=h_(t))}function mv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=pv(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Pd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jp(t,e){var r=e.checked;return rr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function L1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ta(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gv(t,e){e=e.checked,e!=null&&Gm(t,"checked",e,!1)}function Ap(t,e){gv(t,e);var r=ta(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kp(t,e.type,r):e.hasOwnProperty("defaultValue")&&kp(t,e.type,ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function P1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function kp(t,e,r){(e!=="number"||Pd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var iu=Array.isArray;function zo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ta(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ke(91));return rr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function O1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ke(92));if(iu(r)){if(1<r.length)throw Error(ke(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ta(r)}}function vv(t,e){var r=ta(e.value),n=ta(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function I1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ep(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qc,wv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qc=qc||document.createElement("div"),qc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var uu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f_=["Webkit","ms","Moz","O"];Object.keys(uu).forEach(function(t){f_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uu[e]=uu[t]})});function bv(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||uu.hasOwnProperty(t)&&uu[t]?(""+e).trim():e+"px"}function _v(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=bv(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var p_=rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lp(t,e){if(e){if(p_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ke(62))}}function Pp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Op=null;function Qm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ip=null,qo=null,$o=null;function R1(t){if(t=Gu(t)){if(typeof Ip!="function")throw Error(ke(280));var e=t.stateNode;e&&(e=mh(e),Ip(t.stateNode,t.type,e))}}function xv(t){qo?$o?$o.push(t):$o=[t]:qo=t}function Nv(){if(qo){var t=qo,e=$o;if($o=qo=null,R1(t),e)for(t=0;t<e.length;t++)R1(e[t])}}function Sv(t,e){return t(e)}function jv(){}var Sf=!1;function Av(t,e,r){if(Sf)return t(e,r);Sf=!0;try{return Sv(t,e,r)}finally{Sf=!1,(qo!==null||$o!==null)&&(jv(),Nv())}}function Nu(t,e){var r=t.stateNode;if(r===null)return null;var n=mh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ke(231,e,typeof r));return r}var Rp=!1;if(us)try{var Gl={};Object.defineProperty(Gl,"passive",{get:function(){Rp=!0}}),window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{Rp=!1}function m_(t,e,r,n,i,s,a,l,o){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(f){this.onError(f)}}var cu=!1,Od=null,Id=!1,Tp=null,g_={onError:function(t){cu=!0,Od=t}};function v_(t,e,r,n,i,s,a,l,o){cu=!1,Od=null,m_.apply(g_,arguments)}function y_(t,e,r,n,i,s,a,l,o){if(v_.apply(this,arguments),cu){if(cu){var c=Od;cu=!1,Od=null}else throw Error(ke(198));Id||(Id=!0,Tp=c)}}function Va(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function kv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function T1(t){if(Va(t)!==t)throw Error(ke(188))}function w_(t){var e=t.alternate;if(!e){if(e=Va(t),e===null)throw Error(ke(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return T1(i),t;if(s===n)return T1(i),e;s=s.sibling}throw Error(ke(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(ke(189))}}if(r.alternate!==n)throw Error(ke(190))}if(r.tag!==3)throw Error(ke(188));return r.stateNode.current===r?t:e}function Cv(t){return t=w_(t),t!==null?Ev(t):null}function Ev(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ev(t);if(e!==null)return e;t=t.sibling}return null}var Lv=Un.unstable_scheduleCallback,F1=Un.unstable_cancelCallback,b_=Un.unstable_shouldYield,__=Un.unstable_requestPaint,hr=Un.unstable_now,x_=Un.unstable_getCurrentPriorityLevel,Xm=Un.unstable_ImmediatePriority,Pv=Un.unstable_UserBlockingPriority,Rd=Un.unstable_NormalPriority,N_=Un.unstable_LowPriority,Ov=Un.unstable_IdlePriority,dh=null,zi=null;function S_(t){if(zi&&typeof zi.onCommitFiberRoot=="function")try{zi.onCommitFiberRoot(dh,t,void 0,(t.current.flags&128)===128)}catch{}}var Ai=Math.clz32?Math.clz32:k_,j_=Math.log,A_=Math.LN2;function k_(t){return t>>>=0,t===0?32:31-(j_(t)/A_|0)|0}var $c=64,Vc=4194304;function su(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Td(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=su(l):(s&=a,s!==0&&(n=su(s)))}else a=r&~i,a!==0?n=su(a):s!==0&&(n=su(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ai(e),i=1<<r,n|=t[r],e&=~i;return n}function C_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E_(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ai(s),l=1<<a,o=i[a];o===-1?(!(l&r)||l&n)&&(i[a]=C_(l,e)):o<=e&&(t.expiredLanes|=l),s&=~l}}function Fp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Iv(){var t=$c;return $c<<=1,!($c&4194240)&&($c=64),t}function jf(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Hu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ai(e),t[e]=r}function L_(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ai(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Zm(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ai(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ft=0;function Rv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Tv,e0,Fv,Dv,Mv,Dp=!1,Hc=[],Ws=null,Gs=null,Ks=null,Su=new Map,ju=new Map,Ms=[],P_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function D1(t,e){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Su.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(e.pointerId)}}function Kl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Gu(e),e!==null&&e0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function O_(t,e,r,n,i){switch(e){case"focusin":return Ws=Kl(Ws,t,e,r,n,i),!0;case"dragenter":return Gs=Kl(Gs,t,e,r,n,i),!0;case"mouseover":return Ks=Kl(Ks,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Su.set(s,Kl(Su.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ju.set(s,Kl(ju.get(s)||null,t,e,r,n,i)),!0}return!1}function Bv(t){var e=La(t.target);if(e!==null){var r=Va(e);if(r!==null){if(e=r.tag,e===13){if(e=kv(r),e!==null){t.blockedOn=e,Mv(t.priority,function(){Fv(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Mp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Op=n,r.target.dispatchEvent(n),Op=null}else return e=Gu(r),e!==null&&e0(e),t.blockedOn=r,!1;e.shift()}return!0}function M1(t,e,r){vd(t)&&r.delete(e)}function I_(){Dp=!1,Ws!==null&&vd(Ws)&&(Ws=null),Gs!==null&&vd(Gs)&&(Gs=null),Ks!==null&&vd(Ks)&&(Ks=null),Su.forEach(M1),ju.forEach(M1)}function Jl(t,e){t.blockedOn===e&&(t.blockedOn=null,Dp||(Dp=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,I_)))}function Au(t){function e(i){return Jl(i,t)}if(0<Hc.length){Jl(Hc[0],t);for(var r=1;r<Hc.length;r++){var n=Hc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ws!==null&&Jl(Ws,t),Gs!==null&&Jl(Gs,t),Ks!==null&&Jl(Ks,t),Su.forEach(e),ju.forEach(e),r=0;r<Ms.length;r++)n=Ms[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ms.length&&(r=Ms[0],r.blockedOn===null);)Bv(r),r.blockedOn===null&&Ms.shift()}var Vo=fs.ReactCurrentBatchConfig,Fd=!0;function R_(t,e,r,n){var i=Ft,s=Vo.transition;Vo.transition=null;try{Ft=1,t0(t,e,r,n)}finally{Ft=i,Vo.transition=s}}function T_(t,e,r,n){var i=Ft,s=Vo.transition;Vo.transition=null;try{Ft=4,t0(t,e,r,n)}finally{Ft=i,Vo.transition=s}}function t0(t,e,r,n){if(Fd){var i=Mp(t,e,r,n);if(i===null)Tf(t,e,n,Dd,r),D1(t,n);else if(O_(i,t,e,r,n))n.stopPropagation();else if(D1(t,n),e&4&&-1<P_.indexOf(t)){for(;i!==null;){var s=Gu(i);if(s!==null&&Tv(s),s=Mp(t,e,r,n),s===null&&Tf(t,e,n,Dd,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Tf(t,e,n,null,r)}}var Dd=null;function Mp(t,e,r,n){if(Dd=null,t=Qm(n),t=La(t),t!==null)if(e=Va(t),e===null)t=null;else if(r=e.tag,r===13){if(t=kv(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dd=t,null}function Uv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x_()){case Xm:return 1;case Pv:return 4;case Rd:case N_:return 16;case Ov:return 536870912;default:return 16}default:return 16}}var zs=null,r0=null,yd=null;function zv(){if(yd)return yd;var t,e=r0,r=e.length,n,i="value"in zs?zs.value:zs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return yd=i.slice(t,1<n?1-n:void 0)}function wd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wc(){return!0}function B1(){return!1}function qn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wc:B1,this.isPropagationStopped=B1,this}return rr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wc)},persist:function(){},isPersistent:Wc}),e}var ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n0=qn(ul),Wu=rr({},ul,{view:0,detail:0}),F_=qn(Wu),Af,kf,Yl,hh=rr({},Wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yl&&(Yl&&t.type==="mousemove"?(Af=t.screenX-Yl.screenX,kf=t.screenY-Yl.screenY):kf=Af=0,Yl=t),Af)},movementY:function(t){return"movementY"in t?t.movementY:kf}}),U1=qn(hh),D_=rr({},hh,{dataTransfer:0}),M_=qn(D_),B_=rr({},Wu,{relatedTarget:0}),Cf=qn(B_),U_=rr({},ul,{animationName:0,elapsedTime:0,pseudoElement:0}),z_=qn(U_),q_=rr({},ul,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$_=qn(q_),V_=rr({},ul,{data:0}),z1=qn(V_),H_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G_[t])?!!e[t]:!1}function i0(){return K_}var J_=rr({},Wu,{key:function(t){if(t.key){var e=H_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?W_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i0,charCode:function(t){return t.type==="keypress"?wd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y_=qn(J_),Q_=rr({},hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q1=qn(Q_),X_=rr({},Wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i0}),Z_=qn(X_),e3=rr({},ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),t3=qn(e3),r3=rr({},hh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),n3=qn(r3),i3=[9,13,27,32],s0=us&&"CompositionEvent"in window,du=null;us&&"documentMode"in document&&(du=document.documentMode);var s3=us&&"TextEvent"in window&&!du,qv=us&&(!s0||du&&8<du&&11>=du),$1=" ",V1=!1;function $v(t,e){switch(t){case"keyup":return i3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lo=!1;function a3(t,e){switch(t){case"compositionend":return Vv(e);case"keypress":return e.which!==32?null:(V1=!0,$1);case"textInput":return t=e.data,t===$1&&V1?null:t;default:return null}}function o3(t,e){if(Lo)return t==="compositionend"||!s0&&$v(t,e)?(t=zv(),yd=r0=zs=null,Lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qv&&e.locale!=="ko"?null:e.data;default:return null}}var l3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!l3[t.type]:e==="textarea"}function Hv(t,e,r,n){xv(n),e=Md(e,"onChange"),0<e.length&&(r=new n0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var hu=null,ku=null;function u3(t){r5(t,0)}function fh(t){var e=Io(t);if(mv(e))return t}function c3(t,e){if(t==="change")return e}var Wv=!1;if(us){var Ef;if(us){var Lf="oninput"in document;if(!Lf){var W1=document.createElement("div");W1.setAttribute("oninput","return;"),Lf=typeof W1.oninput=="function"}Ef=Lf}else Ef=!1;Wv=Ef&&(!document.documentMode||9<document.documentMode)}function G1(){hu&&(hu.detachEvent("onpropertychange",Gv),ku=hu=null)}function Gv(t){if(t.propertyName==="value"&&fh(ku)){var e=[];Hv(e,ku,t,Qm(t)),Av(u3,e)}}function d3(t,e,r){t==="focusin"?(G1(),hu=e,ku=r,hu.attachEvent("onpropertychange",Gv)):t==="focusout"&&G1()}function h3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fh(ku)}function f3(t,e){if(t==="click")return fh(e)}function p3(t,e){if(t==="input"||t==="change")return fh(e)}function m3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ci=typeof Object.is=="function"?Object.is:m3;function Cu(t,e){if(Ci(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!bp.call(e,i)||!Ci(t[i],e[i]))return!1}return!0}function K1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function J1(t,e){var r=K1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=K1(r)}}function Kv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Kv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Jv(){for(var t=window,e=Pd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Pd(t.document)}return e}function a0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function g3(t){var e=Jv(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Kv(r.ownerDocument.documentElement,r)){if(n!==null&&a0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=J1(r,s);var a=J1(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var v3=us&&"documentMode"in document&&11>=document.documentMode,Po=null,Bp=null,fu=null,Up=!1;function Y1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Up||Po==null||Po!==Pd(n)||(n=Po,"selectionStart"in n&&a0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fu&&Cu(fu,n)||(fu=n,n=Md(Bp,"onSelect"),0<n.length&&(e=new n0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Po)))}function Gc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Oo={animationend:Gc("Animation","AnimationEnd"),animationiteration:Gc("Animation","AnimationIteration"),animationstart:Gc("Animation","AnimationStart"),transitionend:Gc("Transition","TransitionEnd")},Pf={},Yv={};us&&(Yv=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function ph(t){if(Pf[t])return Pf[t];if(!Oo[t])return t;var e=Oo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Yv)return Pf[t]=e[r];return t}var Qv=ph("animationend"),Xv=ph("animationiteration"),Zv=ph("animationstart"),e5=ph("transitionend"),t5=new Map,Q1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(t,e){t5.set(t,e),$a(e,[t])}for(var Of=0;Of<Q1.length;Of++){var If=Q1[Of],y3=If.toLowerCase(),w3=If[0].toUpperCase()+If.slice(1);sa(y3,"on"+w3)}sa(Qv,"onAnimationEnd");sa(Xv,"onAnimationIteration");sa(Zv,"onAnimationStart");sa("dblclick","onDoubleClick");sa("focusin","onFocus");sa("focusout","onBlur");sa(e5,"onTransitionEnd");Zo("onMouseEnter",["mouseout","mouseover"]);Zo("onMouseLeave",["mouseout","mouseover"]);Zo("onPointerEnter",["pointerout","pointerover"]);Zo("onPointerLeave",["pointerout","pointerover"]);$a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$a("onBeforeInput",["compositionend","keypress","textInput","paste"]);$a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b3=new Set("cancel close invalid load scroll toggle".split(" ").concat(au));function X1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,y_(n,e,void 0,t),t.currentTarget=null}function r5(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&i.isPropagationStopped())break e;X1(i,l,c),s=o}else for(a=0;a<n.length;a++){if(l=n[a],o=l.instance,c=l.currentTarget,l=l.listener,o!==s&&i.isPropagationStopped())break e;X1(i,l,c),s=o}}}if(Id)throw t=Tp,Id=!1,Tp=null,t}function Gt(t,e){var r=e[Hp];r===void 0&&(r=e[Hp]=new Set);var n=t+"__bubble";r.has(n)||(n5(e,t,2,!1),r.add(n))}function Rf(t,e,r){var n=0;e&&(n|=4),n5(r,t,n,e)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function Eu(t){if(!t[Kc]){t[Kc]=!0,cv.forEach(function(r){r!=="selectionchange"&&(b3.has(r)||Rf(r,!1,t),Rf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kc]||(e[Kc]=!0,Rf("selectionchange",!1,e))}}function n5(t,e,r,n){switch(Uv(e)){case 1:var i=R_;break;case 4:i=T_;break;default:i=t0}r=i.bind(null,e,r,t),i=void 0,!Rp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Tf(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var o=a.tag;if((o===3||o===4)&&(o=a.stateNode.containerInfo,o===i||o.nodeType===8&&o.parentNode===i))return;a=a.return}for(;l!==null;){if(a=La(l),a===null)return;if(o=a.tag,o===5||o===6){n=s=a;continue e}l=l.parentNode}}n=n.return}Av(function(){var c=s,f=Qm(r),m=[];e:{var v=t5.get(t);if(v!==void 0){var p=n0,_=t;switch(t){case"keypress":if(wd(r)===0)break e;case"keydown":case"keyup":p=Y_;break;case"focusin":_="focus",p=Cf;break;case"focusout":_="blur",p=Cf;break;case"beforeblur":case"afterblur":p=Cf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=U1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=M_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Z_;break;case Qv:case Xv:case Zv:p=z_;break;case e5:p=t3;break;case"scroll":p=F_;break;case"wheel":p=n3;break;case"copy":case"cut":case"paste":p=$_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=q1}var S=(e&4)!==0,j=!S&&t==="scroll",w=S?v!==null?v+"Capture":null:v;S=[];for(var x=c,b;x!==null;){b=x;var P=b.stateNode;if(b.tag===5&&P!==null&&(b=P,w!==null&&(P=Nu(x,w),P!=null&&S.push(Lu(x,P,b)))),j)break;x=x.return}0<S.length&&(v=new p(v,_,null,r,f),m.push({event:v,listeners:S}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",v&&r!==Op&&(_=r.relatedTarget||r.fromElement)&&(La(_)||_[cs]))break e;if((p||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,p?(_=r.relatedTarget||r.toElement,p=c,_=_?La(_):null,_!==null&&(j=Va(_),_!==j||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=c),p!==_)){if(S=U1,P="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(S=q1,P="onPointerLeave",w="onPointerEnter",x="pointer"),j=p==null?v:Io(p),b=_==null?v:Io(_),v=new S(P,x+"leave",p,r,f),v.target=j,v.relatedTarget=b,P=null,La(f)===c&&(S=new S(w,x+"enter",_,r,f),S.target=b,S.relatedTarget=j,P=S),j=P,p&&_)t:{for(S=p,w=_,x=0,b=S;b;b=go(b))x++;for(b=0,P=w;P;P=go(P))b++;for(;0<x-b;)S=go(S),x--;for(;0<b-x;)w=go(w),b--;for(;x--;){if(S===w||w!==null&&S===w.alternate)break t;S=go(S),w=go(w)}S=null}else S=null;p!==null&&Z1(m,v,p,S,!1),_!==null&&j!==null&&Z1(m,j,_,S,!0)}}e:{if(v=c?Io(c):window,p=v.nodeName&&v.nodeName.toLowerCase(),p==="select"||p==="input"&&v.type==="file")var D=c3;else if(H1(v))if(Wv)D=p3;else{D=h3;var Y=d3}else(p=v.nodeName)&&p.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(D=f3);if(D&&(D=D(t,c))){Hv(m,D,r,f);break e}Y&&Y(t,v,c),t==="focusout"&&(Y=v._wrapperState)&&Y.controlled&&v.type==="number"&&kp(v,"number",v.value)}switch(Y=c?Io(c):window,t){case"focusin":(H1(Y)||Y.contentEditable==="true")&&(Po=Y,Bp=c,fu=null);break;case"focusout":fu=Bp=Po=null;break;case"mousedown":Up=!0;break;case"contextmenu":case"mouseup":case"dragend":Up=!1,Y1(m,r,f);break;case"selectionchange":if(v3)break;case"keydown":case"keyup":Y1(m,r,f)}var $;if(s0)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Lo?$v(t,r)&&(M="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(qv&&r.locale!=="ko"&&(Lo||M!=="onCompositionStart"?M==="onCompositionEnd"&&Lo&&($=zv()):(zs=f,r0="value"in zs?zs.value:zs.textContent,Lo=!0)),Y=Md(c,M),0<Y.length&&(M=new z1(M,t,null,r,f),m.push({event:M,listeners:Y}),$?M.data=$:($=Vv(r),$!==null&&(M.data=$)))),($=s3?a3(t,r):o3(t,r))&&(c=Md(c,"onBeforeInput"),0<c.length&&(f=new z1("onBeforeInput","beforeinput",null,r,f),m.push({event:f,listeners:c}),f.data=$))}r5(m,e)})}function Lu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Md(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Nu(t,r),s!=null&&n.unshift(Lu(t,s,i)),s=Nu(t,e),s!=null&&n.push(Lu(t,s,i))),t=t.return}return n}function go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Z1(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var l=r,o=l.alternate,c=l.stateNode;if(o!==null&&o===n)break;l.tag===5&&c!==null&&(l=c,i?(o=Nu(r,s),o!=null&&a.unshift(Lu(r,o,l))):i||(o=Nu(r,s),o!=null&&a.push(Lu(r,o,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var _3=/\r\n?/g,x3=/\u0000|\uFFFD/g;function eg(t){return(typeof t=="string"?t:""+t).replace(_3,`
`).replace(x3,"")}function Jc(t,e,r){if(e=eg(e),eg(t)!==e&&r)throw Error(ke(425))}function Bd(){}var zp=null,qp=null;function $p(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vp=typeof setTimeout=="function"?setTimeout:void 0,N3=typeof clearTimeout=="function"?clearTimeout:void 0,tg=typeof Promise=="function"?Promise:void 0,S3=typeof queueMicrotask=="function"?queueMicrotask:typeof tg<"u"?function(t){return tg.resolve(null).then(t).catch(j3)}:Vp;function j3(t){setTimeout(function(){throw t})}function Ff(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Au(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Au(e)}function Js(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var cl=Math.random().toString(36).slice(2),Bi="__reactFiber$"+cl,Pu="__reactProps$"+cl,cs="__reactContainer$"+cl,Hp="__reactEvents$"+cl,A3="__reactListeners$"+cl,k3="__reactHandles$"+cl;function La(t){var e=t[Bi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[cs]||r[Bi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=rg(t);t!==null;){if(r=t[Bi])return r;t=rg(t)}return e}t=r,r=t.parentNode}return null}function Gu(t){return t=t[Bi]||t[cs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Io(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ke(33))}function mh(t){return t[Pu]||null}var Wp=[],Ro=-1;function aa(t){return{current:t}}function Jt(t){0>Ro||(t.current=Wp[Ro],Wp[Ro]=null,Ro--)}function Ht(t,e){Ro++,Wp[Ro]=t.current,t.current=e}var ra={},Zr=aa(ra),bn=aa(!1),Da=ra;function el(t,e){var r=t.type.contextTypes;if(!r)return ra;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _n(t){return t=t.childContextTypes,t!=null}function Ud(){Jt(bn),Jt(Zr)}function ng(t,e,r){if(Zr.current!==ra)throw Error(ke(168));Ht(Zr,e),Ht(bn,r)}function i5(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ke(108,d_(t)||"Unknown",i));return rr({},r,n)}function zd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ra,Da=Zr.current,Ht(Zr,t),Ht(bn,bn.current),!0}function ig(t,e,r){var n=t.stateNode;if(!n)throw Error(ke(169));r?(t=i5(t,e,Da),n.__reactInternalMemoizedMergedChildContext=t,Jt(bn),Jt(Zr),Ht(Zr,t)):Jt(bn),Ht(bn,r)}var ss=null,gh=!1,Df=!1;function s5(t){ss===null?ss=[t]:ss.push(t)}function C3(t){gh=!0,s5(t)}function oa(){if(!Df&&ss!==null){Df=!0;var t=0,e=Ft;try{var r=ss;for(Ft=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ss=null,gh=!1}catch(i){throw ss!==null&&(ss=ss.slice(t+1)),Lv(Xm,oa),i}finally{Ft=e,Df=!1}}return null}var To=[],Fo=0,qd=null,$d=0,ti=[],ri=0,Ma=null,as=1,os="";function xa(t,e){To[Fo++]=$d,To[Fo++]=qd,qd=t,$d=e}function a5(t,e,r){ti[ri++]=as,ti[ri++]=os,ti[ri++]=Ma,Ma=t;var n=as;t=os;var i=32-Ai(n)-1;n&=~(1<<i),r+=1;var s=32-Ai(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,as=1<<32-Ai(e)+i|r<<i|n,os=s+t}else as=1<<s|r<<i|n,os=t}function o0(t){t.return!==null&&(xa(t,1),a5(t,1,0))}function l0(t){for(;t===qd;)qd=To[--Fo],To[Fo]=null,$d=To[--Fo],To[Fo]=null;for(;t===Ma;)Ma=ti[--ri],ti[ri]=null,os=ti[--ri],ti[ri]=null,as=ti[--ri],ti[ri]=null}var Bn=null,Dn=null,Yt=!1,ji=null;function o5(t,e){var r=ni(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function sg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,Dn=Js(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ma!==null?{id:as,overflow:os}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ni(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Bn=t,Dn=null,!0):!1;default:return!1}}function Gp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kp(t){if(Yt){var e=Dn;if(e){var r=e;if(!sg(t,e)){if(Gp(t))throw Error(ke(418));e=Js(r.nextSibling);var n=Bn;e&&sg(t,e)?o5(n,r):(t.flags=t.flags&-4097|2,Yt=!1,Bn=t)}}else{if(Gp(t))throw Error(ke(418));t.flags=t.flags&-4097|2,Yt=!1,Bn=t}}}function ag(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function Yc(t){if(t!==Bn)return!1;if(!Yt)return ag(t),Yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$p(t.type,t.memoizedProps)),e&&(e=Dn)){if(Gp(t))throw l5(),Error(ke(418));for(;e;)o5(t,e),e=Js(e.nextSibling)}if(ag(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Dn=Js(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Bn?Js(t.stateNode.nextSibling):null;return!0}function l5(){for(var t=Dn;t;)t=Js(t.nextSibling)}function tl(){Dn=Bn=null,Yt=!1}function u0(t){ji===null?ji=[t]:ji.push(t)}var E3=fs.ReactCurrentBatchConfig;function Ql(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ke(309));var n=r.stateNode}if(!n)throw Error(ke(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ke(284));if(!r._owner)throw Error(ke(290,t))}return t}function Qc(t,e){throw t=Object.prototype.toString.call(e),Error(ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function og(t){var e=t._init;return e(t._payload)}function u5(t){function e(w,x){if(t){var b=w.deletions;b===null?(w.deletions=[x],w.flags|=16):b.push(x)}}function r(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function n(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=Zs(w,x),w.index=0,w.sibling=null,w}function s(w,x,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<x?(w.flags|=2,x):b):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,x,b,P){return x===null||x.tag!==6?(x=Vf(b,w.mode,P),x.return=w,x):(x=i(x,b),x.return=w,x)}function o(w,x,b,P){var D=b.type;return D===Eo?f(w,x,b.props.children,P,b.key):x!==null&&(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Fs&&og(D)===x.type)?(P=i(x,b.props),P.ref=Ql(w,x,b),P.return=w,P):(P=Ad(b.type,b.key,b.props,null,w.mode,P),P.ref=Ql(w,x,b),P.return=w,P)}function c(w,x,b,P){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Hf(b,w.mode,P),x.return=w,x):(x=i(x,b.children||[]),x.return=w,x)}function f(w,x,b,P,D){return x===null||x.tag!==7?(x=Ta(b,w.mode,P,D),x.return=w,x):(x=i(x,b),x.return=w,x)}function m(w,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Vf(""+x,w.mode,b),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Uc:return b=Ad(x.type,x.key,x.props,null,w.mode,b),b.ref=Ql(w,null,x),b.return=w,b;case Co:return x=Hf(x,w.mode,b),x.return=w,x;case Fs:var P=x._init;return m(w,P(x._payload),b)}if(iu(x)||Wl(x))return x=Ta(x,w.mode,b,null),x.return=w,x;Qc(w,x)}return null}function v(w,x,b,P){var D=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return D!==null?null:l(w,x,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Uc:return b.key===D?o(w,x,b,P):null;case Co:return b.key===D?c(w,x,b,P):null;case Fs:return D=b._init,v(w,x,D(b._payload),P)}if(iu(b)||Wl(b))return D!==null?null:f(w,x,b,P,null);Qc(w,b)}return null}function p(w,x,b,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(b)||null,l(x,w,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Uc:return w=w.get(P.key===null?b:P.key)||null,o(x,w,P,D);case Co:return w=w.get(P.key===null?b:P.key)||null,c(x,w,P,D);case Fs:var Y=P._init;return p(w,x,b,Y(P._payload),D)}if(iu(P)||Wl(P))return w=w.get(b)||null,f(x,w,P,D,null);Qc(x,P)}return null}function _(w,x,b,P){for(var D=null,Y=null,$=x,M=x=0,te=null;$!==null&&M<b.length;M++){$.index>M?(te=$,$=null):te=$.sibling;var I=v(w,$,b[M],P);if(I===null){$===null&&($=te);break}t&&$&&I.alternate===null&&e(w,$),x=s(I,x,M),Y===null?D=I:Y.sibling=I,Y=I,$=te}if(M===b.length)return r(w,$),Yt&&xa(w,M),D;if($===null){for(;M<b.length;M++)$=m(w,b[M],P),$!==null&&(x=s($,x,M),Y===null?D=$:Y.sibling=$,Y=$);return Yt&&xa(w,M),D}for($=n(w,$);M<b.length;M++)te=p($,w,M,b[M],P),te!==null&&(t&&te.alternate!==null&&$.delete(te.key===null?M:te.key),x=s(te,x,M),Y===null?D=te:Y.sibling=te,Y=te);return t&&$.forEach(function(O){return e(w,O)}),Yt&&xa(w,M),D}function S(w,x,b,P){var D=Wl(b);if(typeof D!="function")throw Error(ke(150));if(b=D.call(b),b==null)throw Error(ke(151));for(var Y=D=null,$=x,M=x=0,te=null,I=b.next();$!==null&&!I.done;M++,I=b.next()){$.index>M?(te=$,$=null):te=$.sibling;var O=v(w,$,I.value,P);if(O===null){$===null&&($=te);break}t&&$&&O.alternate===null&&e(w,$),x=s(O,x,M),Y===null?D=O:Y.sibling=O,Y=O,$=te}if(I.done)return r(w,$),Yt&&xa(w,M),D;if($===null){for(;!I.done;M++,I=b.next())I=m(w,I.value,P),I!==null&&(x=s(I,x,M),Y===null?D=I:Y.sibling=I,Y=I);return Yt&&xa(w,M),D}for($=n(w,$);!I.done;M++,I=b.next())I=p($,w,M,I.value,P),I!==null&&(t&&I.alternate!==null&&$.delete(I.key===null?M:I.key),x=s(I,x,M),Y===null?D=I:Y.sibling=I,Y=I);return t&&$.forEach(function(R){return e(w,R)}),Yt&&xa(w,M),D}function j(w,x,b,P){if(typeof b=="object"&&b!==null&&b.type===Eo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Uc:e:{for(var D=b.key,Y=x;Y!==null;){if(Y.key===D){if(D=b.type,D===Eo){if(Y.tag===7){r(w,Y.sibling),x=i(Y,b.props.children),x.return=w,w=x;break e}}else if(Y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Fs&&og(D)===Y.type){r(w,Y.sibling),x=i(Y,b.props),x.ref=Ql(w,Y,b),x.return=w,w=x;break e}r(w,Y);break}else e(w,Y);Y=Y.sibling}b.type===Eo?(x=Ta(b.props.children,w.mode,P,b.key),x.return=w,w=x):(P=Ad(b.type,b.key,b.props,null,w.mode,P),P.ref=Ql(w,x,b),P.return=w,w=P)}return a(w);case Co:e:{for(Y=b.key;x!==null;){if(x.key===Y)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(w,x.sibling),x=i(x,b.children||[]),x.return=w,w=x;break e}else{r(w,x);break}else e(w,x);x=x.sibling}x=Hf(b,w.mode,P),x.return=w,w=x}return a(w);case Fs:return Y=b._init,j(w,x,Y(b._payload),P)}if(iu(b))return _(w,x,b,P);if(Wl(b))return S(w,x,b,P);Qc(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(w,x.sibling),x=i(x,b),x.return=w,w=x):(r(w,x),x=Vf(b,w.mode,P),x.return=w,w=x),a(w)):r(w,x)}return j}var rl=u5(!0),c5=u5(!1),Vd=aa(null),Hd=null,Do=null,c0=null;function d0(){c0=Do=Hd=null}function h0(t){var e=Vd.current;Jt(Vd),t._currentValue=e}function Jp(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ho(t,e){Hd=t,c0=Do=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function si(t){var e=t._currentValue;if(c0!==t)if(t={context:t,memoizedValue:e,next:null},Do===null){if(Hd===null)throw Error(ke(308));Do=t,Hd.dependencies={lanes:0,firstContext:t}}else Do=Do.next=t;return e}var Pa=null;function f0(t){Pa===null?Pa=[t]:Pa.push(t)}function d5(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,f0(e)):(r.next=i.next,i.next=r),e.interleaved=r,ds(t,n)}function ds(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ds=!1;function p0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ls(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ys(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ct&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ds(t,r)}return i=n.interleaved,i===null?(e.next=e,f0(n)):(e.next=i.next,i.next=e),n.interleaved=e,ds(t,r)}function bd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Zm(t,r)}}function lg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Wd(t,e,r,n){var i=t.updateQueue;Ds=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var o=l,c=o.next;o.next=null,a===null?s=c:a.next=c,a=o;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=o))}if(s!==null){var m=i.baseState;a=0,f=c=o=null,l=s;do{var v=l.lane,p=l.eventTime;if((n&v)===v){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,S=l;switch(v=e,p=r,S.tag){case 1:if(_=S.payload,typeof _=="function"){m=_.call(p,m,v);break e}m=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,v=typeof _=="function"?_.call(p,m,v):_,v==null)break e;m=rr({},m,v);break e;case 2:Ds=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[l]:v.push(l))}else p={eventTime:p,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=p,o=m):f=f.next=p,a|=v;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;v=l,l=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(f===null&&(o=m),i.baseState=o,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ua|=a,t.lanes=a,t.memoizedState=m}}function ug(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ke(191,i));i.call(n)}}}var Ku={},qi=aa(Ku),Ou=aa(Ku),Iu=aa(Ku);function Oa(t){if(t===Ku)throw Error(ke(174));return t}function m0(t,e){switch(Ht(Iu,e),Ht(Ou,t),Ht(qi,Ku),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ep(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ep(e,t)}Jt(qi),Ht(qi,e)}function nl(){Jt(qi),Jt(Ou),Jt(Iu)}function f5(t){Oa(Iu.current);var e=Oa(qi.current),r=Ep(e,t.type);e!==r&&(Ht(Ou,t),Ht(qi,r))}function g0(t){Ou.current===t&&(Jt(qi),Jt(Ou))}var er=aa(0);function Gd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mf=[];function v0(){for(var t=0;t<Mf.length;t++)Mf[t]._workInProgressVersionPrimary=null;Mf.length=0}var _d=fs.ReactCurrentDispatcher,Bf=fs.ReactCurrentBatchConfig,Ba=0,tr=null,jr=null,Pr=null,Kd=!1,pu=!1,Ru=0,L3=0;function Hr(){throw Error(ke(321))}function y0(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ci(t[r],e[r]))return!1;return!0}function w0(t,e,r,n,i,s){if(Ba=s,tr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_d.current=t===null||t.memoizedState===null?R3:T3,t=r(n,i),pu){s=0;do{if(pu=!1,Ru=0,25<=s)throw Error(ke(301));s+=1,Pr=jr=null,e.updateQueue=null,_d.current=F3,t=r(n,i)}while(pu)}if(_d.current=Jd,e=jr!==null&&jr.next!==null,Ba=0,Pr=jr=tr=null,Kd=!1,e)throw Error(ke(300));return t}function b0(){var t=Ru!==0;return Ru=0,t}function Mi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?tr.memoizedState=Pr=t:Pr=Pr.next=t,Pr}function ai(){if(jr===null){var t=tr.alternate;t=t!==null?t.memoizedState:null}else t=jr.next;var e=Pr===null?tr.memoizedState:Pr.next;if(e!==null)Pr=e,jr=t;else{if(t===null)throw Error(ke(310));jr=t,t={memoizedState:jr.memoizedState,baseState:jr.baseState,baseQueue:jr.baseQueue,queue:jr.queue,next:null},Pr===null?tr.memoizedState=Pr=t:Pr=Pr.next=t}return Pr}function Tu(t,e){return typeof e=="function"?e(t):e}function Uf(t){var e=ai(),r=e.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=t;var n=jr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=a=null,o=null,c=s;do{var f=c.lane;if((Ba&f)===f)o!==null&&(o=o.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};o===null?(l=o=m,a=n):o=o.next=m,tr.lanes|=f,Ua|=f}c=c.next}while(c!==null&&c!==s);o===null?a=n:o.next=l,Ci(n,e.memoizedState)||(wn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=o,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,tr.lanes|=s,Ua|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function zf(t){var e=ai(),r=e.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ci(s,e.memoizedState)||(wn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function p5(){}function m5(t,e){var r=tr,n=ai(),i=e(),s=!Ci(n.memoizedState,i);if(s&&(n.memoizedState=i,wn=!0),n=n.queue,_0(y5.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Pr!==null&&Pr.memoizedState.tag&1){if(r.flags|=2048,Fu(9,v5.bind(null,r,n,i,e),void 0,null),Ir===null)throw Error(ke(349));Ba&30||g5(r,e,i)}return i}function g5(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=tr.updateQueue,e===null?(e={lastEffect:null,stores:null},tr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function v5(t,e,r,n){e.value=r,e.getSnapshot=n,w5(e)&&b5(t)}function y5(t,e,r){return r(function(){w5(e)&&b5(t)})}function w5(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ci(t,r)}catch{return!0}}function b5(t){var e=ds(t,1);e!==null&&ki(e,t,1,-1)}function cg(t){var e=Mi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tu,lastRenderedState:t},e.queue=t,t=t.dispatch=I3.bind(null,tr,t),[e.memoizedState,t]}function Fu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=tr.updateQueue,e===null?(e={lastEffect:null,stores:null},tr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function _5(){return ai().memoizedState}function xd(t,e,r,n){var i=Mi();tr.flags|=t,i.memoizedState=Fu(1|e,r,void 0,n===void 0?null:n)}function vh(t,e,r,n){var i=ai();n=n===void 0?null:n;var s=void 0;if(jr!==null){var a=jr.memoizedState;if(s=a.destroy,n!==null&&y0(n,a.deps)){i.memoizedState=Fu(e,r,s,n);return}}tr.flags|=t,i.memoizedState=Fu(1|e,r,s,n)}function dg(t,e){return xd(8390656,8,t,e)}function _0(t,e){return vh(2048,8,t,e)}function x5(t,e){return vh(4,2,t,e)}function N5(t,e){return vh(4,4,t,e)}function S5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function j5(t,e,r){return r=r!=null?r.concat([t]):null,vh(4,4,S5.bind(null,e,t),r)}function x0(){}function A5(t,e){var r=ai();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&y0(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function k5(t,e){var r=ai();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&y0(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function C5(t,e,r){return Ba&21?(Ci(r,e)||(r=Iv(),tr.lanes|=r,Ua|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=r)}function P3(t,e){var r=Ft;Ft=r!==0&&4>r?r:4,t(!0);var n=Bf.transition;Bf.transition={};try{t(!1),e()}finally{Ft=r,Bf.transition=n}}function E5(){return ai().memoizedState}function O3(t,e,r){var n=Xs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},L5(t))P5(e,r);else if(r=d5(t,e,r,n),r!==null){var i=un();ki(r,t,n,i),O5(r,e,n)}}function I3(t,e,r){var n=Xs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(L5(t))P5(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,Ci(l,a)){var o=e.interleaved;o===null?(i.next=i,f0(e)):(i.next=o.next,o.next=i),e.interleaved=i;return}}catch{}finally{}r=d5(t,e,i,n),r!==null&&(i=un(),ki(r,t,n,i),O5(r,e,n))}}function L5(t){var e=t.alternate;return t===tr||e!==null&&e===tr}function P5(t,e){pu=Kd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function O5(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Zm(t,r)}}var Jd={readContext:si,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},R3={readContext:si,useCallback:function(t,e){return Mi().memoizedState=[t,e===void 0?null:e],t},useContext:si,useEffect:dg,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,xd(4194308,4,S5.bind(null,e,t),r)},useLayoutEffect:function(t,e){return xd(4194308,4,t,e)},useInsertionEffect:function(t,e){return xd(4,2,t,e)},useMemo:function(t,e){var r=Mi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Mi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=O3.bind(null,tr,t),[n.memoizedState,t]},useRef:function(t){var e=Mi();return t={current:t},e.memoizedState=t},useState:cg,useDebugValue:x0,useDeferredValue:function(t){return Mi().memoizedState=t},useTransition:function(){var t=cg(!1),e=t[0];return t=P3.bind(null,t[1]),Mi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=tr,i=Mi();if(Yt){if(r===void 0)throw Error(ke(407));r=r()}else{if(r=e(),Ir===null)throw Error(ke(349));Ba&30||g5(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,dg(y5.bind(null,n,s,t),[t]),n.flags|=2048,Fu(9,v5.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Mi(),e=Ir.identifierPrefix;if(Yt){var r=os,n=as;r=(n&~(1<<32-Ai(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ru++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=L3++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},T3={readContext:si,useCallback:A5,useContext:si,useEffect:_0,useImperativeHandle:j5,useInsertionEffect:x5,useLayoutEffect:N5,useMemo:k5,useReducer:Uf,useRef:_5,useState:function(){return Uf(Tu)},useDebugValue:x0,useDeferredValue:function(t){var e=ai();return C5(e,jr.memoizedState,t)},useTransition:function(){var t=Uf(Tu)[0],e=ai().memoizedState;return[t,e]},useMutableSource:p5,useSyncExternalStore:m5,useId:E5,unstable_isNewReconciler:!1},F3={readContext:si,useCallback:A5,useContext:si,useEffect:_0,useImperativeHandle:j5,useInsertionEffect:x5,useLayoutEffect:N5,useMemo:k5,useReducer:zf,useRef:_5,useState:function(){return zf(Tu)},useDebugValue:x0,useDeferredValue:function(t){var e=ai();return jr===null?e.memoizedState=t:C5(e,jr.memoizedState,t)},useTransition:function(){var t=zf(Tu)[0],e=ai().memoizedState;return[t,e]},useMutableSource:p5,useSyncExternalStore:m5,useId:E5,unstable_isNewReconciler:!1};function _i(t,e){if(t&&t.defaultProps){e=rr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Yp(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:rr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var yh={isMounted:function(t){return(t=t._reactInternals)?Va(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=un(),i=Xs(t),s=ls(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ys(t,s,i),e!==null&&(ki(e,t,i,n),bd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=un(),i=Xs(t),s=ls(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ys(t,s,i),e!==null&&(ki(e,t,i,n),bd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=un(),n=Xs(t),i=ls(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ys(t,i,n),e!==null&&(ki(e,t,n,r),bd(e,t,n))}};function hg(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Cu(r,n)||!Cu(i,s):!0}function I5(t,e,r){var n=!1,i=ra,s=e.contextType;return typeof s=="object"&&s!==null?s=si(s):(i=_n(e)?Da:Zr.current,n=e.contextTypes,s=(n=n!=null)?el(t,i):ra),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function fg(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&yh.enqueueReplaceState(e,e.state,null)}function Qp(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},p0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=si(s):(s=_n(e)?Da:Zr.current,i.context=el(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yp(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yh.enqueueReplaceState(i,i.state,null),Wd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function il(t,e){try{var r="",n=e;do r+=c_(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function qf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Xp(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var D3=typeof WeakMap=="function"?WeakMap:Map;function R5(t,e,r){r=ls(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Qd||(Qd=!0,lm=n),Xp(t,e)},r}function T5(t,e,r){r=ls(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Xp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Xp(t,e),typeof n!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function pg(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new D3;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Q3.bind(null,t,e,r),e.then(t,t))}function mg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gg(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ls(-1,1),e.tag=2,Ys(r,e,1))),r.lanes|=1),t)}var M3=fs.ReactCurrentOwner,wn=!1;function on(t,e,r,n){e.child=t===null?c5(e,null,r,n):rl(e,t.child,r,n)}function vg(t,e,r,n,i){r=r.render;var s=e.ref;return Ho(e,i),n=w0(t,e,r,n,s,i),r=b0(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hs(t,e,i)):(Yt&&r&&o0(e),e.flags|=1,on(t,e,n,i),e.child)}function yg(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!L0(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,F5(t,e,s,n,i)):(t=Ad(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Cu,r(a,n)&&t.ref===e.ref)return hs(t,e,i)}return e.flags|=1,t=Zs(s,n),t.ref=e.ref,t.return=e,e.child=t}function F5(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Cu(s,n)&&t.ref===e.ref)if(wn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,hs(t,e,i)}return Zp(t,e,r,n,i)}function D5(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(Bo,Rn),Rn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ht(Bo,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ht(Bo,Rn),Rn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ht(Bo,Rn),Rn|=n;return on(t,e,i,r),e.child}function M5(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Zp(t,e,r,n,i){var s=_n(r)?Da:Zr.current;return s=el(e,s),Ho(e,i),r=w0(t,e,r,n,s,i),n=b0(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hs(t,e,i)):(Yt&&n&&o0(e),e.flags|=1,on(t,e,r,i),e.child)}function wg(t,e,r,n,i){if(_n(r)){var s=!0;zd(e)}else s=!1;if(Ho(e,i),e.stateNode===null)Nd(t,e),I5(e,r,n),Qp(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var o=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=si(c):(c=_n(r)?Da:Zr.current,c=el(e,c));var f=r.getDerivedStateFromProps,m=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||o!==c)&&fg(e,a,n,c),Ds=!1;var v=e.memoizedState;a.state=v,Wd(e,n,a,i),o=e.memoizedState,l!==n||v!==o||bn.current||Ds?(typeof f=="function"&&(Yp(e,r,f,n),o=e.memoizedState),(l=Ds||hg(e,r,l,n,v,o,c))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=o),a.props=n,a.state=o,a.context=c,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,h5(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:_i(e.type,l),a.props=c,m=e.pendingProps,v=a.context,o=r.contextType,typeof o=="object"&&o!==null?o=si(o):(o=_n(r)?Da:Zr.current,o=el(e,o));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||v!==o)&&fg(e,a,n,o),Ds=!1,v=e.memoizedState,a.state=v,Wd(e,n,a,i);var _=e.memoizedState;l!==m||v!==_||bn.current||Ds?(typeof p=="function"&&(Yp(e,r,p,n),_=e.memoizedState),(c=Ds||hg(e,r,c,n,v,_,o)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,_,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,_,o)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),a.props=n,a.state=_,a.context=o,n=c):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),n=!1)}return em(t,e,r,n,s,i)}function em(t,e,r,n,i,s){M5(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&ig(e,r,!1),hs(t,e,s);n=e.stateNode,M3.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=rl(e,t.child,null,s),e.child=rl(e,null,l,s)):on(t,e,l,s),e.memoizedState=n.state,i&&ig(e,r,!0),e.child}function B5(t){var e=t.stateNode;e.pendingContext?ng(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ng(t,e.context,!1),m0(t,e.containerInfo)}function bg(t,e,r,n,i){return tl(),u0(i),e.flags|=256,on(t,e,r,n),e.child}var tm={dehydrated:null,treeContext:null,retryLane:0};function rm(t){return{baseLanes:t,cachePool:null,transitions:null}}function U5(t,e,r){var n=e.pendingProps,i=er.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ht(er,i&1),t===null)return Kp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=_h(a,n,0,null),t=Ta(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=rm(r),e.memoizedState=tm,t):N0(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return B3(t,e,a,n,l,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,l=i.sibling;var o={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=o,e.deletions=null):(n=Zs(i,o),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Zs(l,s):(s=Ta(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?rm(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=tm,n}return s=t.child,t=s.sibling,n=Zs(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function N0(t,e){return e=_h({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xc(t,e,r,n){return n!==null&&u0(n),rl(e,t.child,null,r),t=N0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function B3(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=qf(Error(ke(422))),Xc(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=_h({mode:"visible",children:n.children},i,0,null),s=Ta(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&rl(e,t.child,null,a),e.child.memoizedState=rm(a),e.memoizedState=tm,s);if(!(e.mode&1))return Xc(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(ke(419)),n=qf(s,n,void 0),Xc(t,e,a,n)}if(l=(a&t.childLanes)!==0,wn||l){if(n=Ir,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ds(t,i),ki(n,t,i,-1))}return E0(),n=qf(Error(ke(421))),Xc(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=X3.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dn=Js(i.nextSibling),Bn=e,Yt=!0,ji=null,t!==null&&(ti[ri++]=as,ti[ri++]=os,ti[ri++]=Ma,as=t.id,os=t.overflow,Ma=e),e=N0(e,n.children),e.flags|=4096,e)}function _g(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Jp(t.return,e,r)}function $f(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function z5(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(on(t,e,n.children,r),n=er.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_g(t,r,e);else if(t.tag===19)_g(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ht(er,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Gd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),$f(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}$f(e,!0,r,null,s);break;case"together":$f(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ua|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ke(153));if(e.child!==null){for(t=e.child,r=Zs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Zs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function U3(t,e,r){switch(e.tag){case 3:B5(e),tl();break;case 5:f5(e);break;case 1:_n(e.type)&&zd(e);break;case 4:m0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ht(Vd,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ht(er,er.current&1),e.flags|=128,null):r&e.child.childLanes?U5(t,e,r):(Ht(er,er.current&1),t=hs(t,e,r),t!==null?t.sibling:null);Ht(er,er.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return z5(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ht(er,er.current),n)break;return null;case 22:case 23:return e.lanes=0,D5(t,e,r)}return hs(t,e,r)}var q5,nm,$5,V5;q5=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nm=function(){};$5=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Oa(qi.current);var s=null;switch(r){case"input":i=jp(t,i),n=jp(t,n),s=[];break;case"select":i=rr({},i,{value:void 0}),n=rr({},n,{value:void 0}),s=[];break;case"textarea":i=Cp(t,i),n=Cp(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Bd)}Lp(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_u.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var o=n[c];if(l=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&o!==l&&(o!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in o)o.hasOwnProperty(a)&&l[a]!==o[a]&&(r||(r={}),r[a]=o[a])}else r||(s||(s=[]),s.push(c,r)),r=o;else c==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,l=l?l.__html:void 0,o!=null&&l!==o&&(s=s||[]).push(c,o)):c==="children"?typeof o!="string"&&typeof o!="number"||(s=s||[]).push(c,""+o):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_u.hasOwnProperty(c)?(o!=null&&c==="onScroll"&&Gt("scroll",t),s||l===o||(s=[])):(s=s||[]).push(c,o))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};V5=function(t,e,r,n){r!==n&&(e.flags|=4)};function Xl(t,e){if(!Yt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Wr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function z3(t,e,r){var n=e.pendingProps;switch(l0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(e),null;case 1:return _n(e.type)&&Ud(),Wr(e),null;case 3:return n=e.stateNode,nl(),Jt(bn),Jt(Zr),v0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Yc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ji!==null&&(dm(ji),ji=null))),nm(t,e),Wr(e),null;case 5:g0(e);var i=Oa(Iu.current);if(r=e.type,t!==null&&e.stateNode!=null)$5(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ke(166));return Wr(e),null}if(t=Oa(qi.current),Yc(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Bi]=e,n[Pu]=s,t=(e.mode&1)!==0,r){case"dialog":Gt("cancel",n),Gt("close",n);break;case"iframe":case"object":case"embed":Gt("load",n);break;case"video":case"audio":for(i=0;i<au.length;i++)Gt(au[i],n);break;case"source":Gt("error",n);break;case"img":case"image":case"link":Gt("error",n),Gt("load",n);break;case"details":Gt("toggle",n);break;case"input":L1(n,s),Gt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Gt("invalid",n);break;case"textarea":O1(n,s),Gt("invalid",n)}Lp(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Jc(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Jc(n.textContent,l,t),i=["children",""+l]):_u.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Gt("scroll",n)}switch(r){case"input":zc(n),P1(n,s,!0);break;case"textarea":zc(n),I1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Bd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yv(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Bi]=e,t[Pu]=n,q5(t,e,!1,!1),e.stateNode=t;e:{switch(a=Pp(r,n),r){case"dialog":Gt("cancel",t),Gt("close",t),i=n;break;case"iframe":case"object":case"embed":Gt("load",t),i=n;break;case"video":case"audio":for(i=0;i<au.length;i++)Gt(au[i],t);i=n;break;case"source":Gt("error",t),i=n;break;case"img":case"image":case"link":Gt("error",t),Gt("load",t),i=n;break;case"details":Gt("toggle",t),i=n;break;case"input":L1(t,n),i=jp(t,n),Gt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=rr({},n,{value:void 0}),Gt("invalid",t);break;case"textarea":O1(t,n),i=Cp(t,n),Gt("invalid",t);break;default:i=n}Lp(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var o=l[s];s==="style"?_v(t,o):s==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&wv(t,o)):s==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&xu(t,o):typeof o=="number"&&xu(t,""+o):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_u.hasOwnProperty(s)?o!=null&&s==="onScroll"&&Gt("scroll",t):o!=null&&Gm(t,s,o,a))}switch(r){case"input":zc(t),P1(t,n,!1);break;case"textarea":zc(t),I1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ta(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?zo(t,!!n.multiple,s,!1):n.defaultValue!=null&&zo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wr(e),null;case 6:if(t&&e.stateNode!=null)V5(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ke(166));if(r=Oa(Iu.current),Oa(qi.current),Yc(e)){if(n=e.stateNode,r=e.memoizedProps,n[Bi]=e,(s=n.nodeValue!==r)&&(t=Bn,t!==null))switch(t.tag){case 3:Jc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jc(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bi]=e,e.stateNode=n}return Wr(e),null;case 13:if(Jt(er),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Yt&&Dn!==null&&e.mode&1&&!(e.flags&128))l5(),tl(),e.flags|=98560,s=!1;else if(s=Yc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ke(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ke(317));s[Bi]=e}else tl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wr(e),s=!1}else ji!==null&&(dm(ji),ji=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||er.current&1?Ar===0&&(Ar=3):E0())),e.updateQueue!==null&&(e.flags|=4),Wr(e),null);case 4:return nl(),nm(t,e),t===null&&Eu(e.stateNode.containerInfo),Wr(e),null;case 10:return h0(e.type._context),Wr(e),null;case 17:return _n(e.type)&&Ud(),Wr(e),null;case 19:if(Jt(er),s=e.memoizedState,s===null)return Wr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Xl(s,!1);else{if(Ar!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Gd(t),a!==null){for(e.flags|=128,Xl(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ht(er,er.current&1|2),e.child}t=t.sibling}s.tail!==null&&hr()>sl&&(e.flags|=128,n=!0,Xl(s,!1),e.lanes=4194304)}else{if(!n)if(t=Gd(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Xl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Yt)return Wr(e),null}else 2*hr()-s.renderingStartTime>sl&&r!==1073741824&&(e.flags|=128,n=!0,Xl(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=hr(),e.sibling=null,r=er.current,Ht(er,n?r&1|2:r&1),e):(Wr(e),null);case 22:case 23:return C0(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Rn&1073741824&&(Wr(e),e.subtreeFlags&6&&(e.flags|=8192)):Wr(e),null;case 24:return null;case 25:return null}throw Error(ke(156,e.tag))}function q3(t,e){switch(l0(e),e.tag){case 1:return _n(e.type)&&Ud(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return nl(),Jt(bn),Jt(Zr),v0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return g0(e),null;case 13:if(Jt(er),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ke(340));tl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Jt(er),null;case 4:return nl(),null;case 10:return h0(e.type._context),null;case 22:case 23:return C0(),null;case 24:return null;default:return null}}var Zc=!1,Qr=!1,$3=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Mo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){lr(t,e,n)}else r.current=null}function im(t,e,r){try{r()}catch(n){lr(t,e,n)}}var xg=!1;function V3(t,e){if(zp=Fd,t=Jv(),a0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,o=-1,c=0,f=0,m=t,v=null;t:for(;;){for(var p;m!==r||i!==0&&m.nodeType!==3||(l=a+i),m!==s||n!==0&&m.nodeType!==3||(o=a+n),m.nodeType===3&&(a+=m.nodeValue.length),(p=m.firstChild)!==null;)v=m,m=p;for(;;){if(m===t)break t;if(v===r&&++c===i&&(l=a),v===s&&++f===n&&(o=a),(p=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=p}r=l===-1||o===-1?null:{start:l,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(qp={focusedElem:t,selectionRange:r},Fd=!1,Ve=e;Ve!==null;)if(e=Ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ve=t;else for(;Ve!==null;){e=Ve;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,j=_.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?S:_i(e.type,S),j);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(P){lr(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Ve=t;break}Ve=e.return}return _=xg,xg=!1,_}function mu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&im(e,r,s)}i=i.next}while(i!==n)}}function wh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function sm(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function H5(t){var e=t.alternate;e!==null&&(t.alternate=null,H5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bi],delete e[Pu],delete e[Hp],delete e[A3],delete e[k3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function W5(t){return t.tag===5||t.tag===3||t.tag===4}function Ng(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||W5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function am(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Bd));else if(n!==4&&(t=t.child,t!==null))for(am(t,e,r),t=t.sibling;t!==null;)am(t,e,r),t=t.sibling}function om(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(om(t,e,r),t=t.sibling;t!==null;)om(t,e,r),t=t.sibling}var Mr=null,Si=!1;function Os(t,e,r){for(r=r.child;r!==null;)G5(t,e,r),r=r.sibling}function G5(t,e,r){if(zi&&typeof zi.onCommitFiberUnmount=="function")try{zi.onCommitFiberUnmount(dh,r)}catch{}switch(r.tag){case 5:Qr||Mo(r,e);case 6:var n=Mr,i=Si;Mr=null,Os(t,e,r),Mr=n,Si=i,Mr!==null&&(Si?(t=Mr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Mr.removeChild(r.stateNode));break;case 18:Mr!==null&&(Si?(t=Mr,r=r.stateNode,t.nodeType===8?Ff(t.parentNode,r):t.nodeType===1&&Ff(t,r),Au(t)):Ff(Mr,r.stateNode));break;case 4:n=Mr,i=Si,Mr=r.stateNode.containerInfo,Si=!0,Os(t,e,r),Mr=n,Si=i;break;case 0:case 11:case 14:case 15:if(!Qr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&im(r,e,a),i=i.next}while(i!==n)}Os(t,e,r);break;case 1:if(!Qr&&(Mo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){lr(r,e,l)}Os(t,e,r);break;case 21:Os(t,e,r);break;case 22:r.mode&1?(Qr=(n=Qr)||r.memoizedState!==null,Os(t,e,r),Qr=n):Os(t,e,r);break;default:Os(t,e,r)}}function Sg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new $3),e.forEach(function(n){var i=Z3.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function mi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Mr=l.stateNode,Si=!1;break e;case 3:Mr=l.stateNode.containerInfo,Si=!0;break e;case 4:Mr=l.stateNode.containerInfo,Si=!0;break e}l=l.return}if(Mr===null)throw Error(ke(160));G5(s,a,i),Mr=null,Si=!1;var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(c){lr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)K5(e,t),e=e.sibling}function K5(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mi(e,t),Fi(t),n&4){try{mu(3,t,t.return),wh(3,t)}catch(S){lr(t,t.return,S)}try{mu(5,t,t.return)}catch(S){lr(t,t.return,S)}}break;case 1:mi(e,t),Fi(t),n&512&&r!==null&&Mo(r,r.return);break;case 5:if(mi(e,t),Fi(t),n&512&&r!==null&&Mo(r,r.return),t.flags&32){var i=t.stateNode;try{xu(i,"")}catch(S){lr(t,t.return,S)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,l=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&gv(i,s),Pp(l,a);var c=Pp(l,s);for(a=0;a<o.length;a+=2){var f=o[a],m=o[a+1];f==="style"?_v(i,m):f==="dangerouslySetInnerHTML"?wv(i,m):f==="children"?xu(i,m):Gm(i,f,m,c)}switch(l){case"input":Ap(i,s);break;case"textarea":vv(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?zo(i,!!s.multiple,p,!1):v!==!!s.multiple&&(s.defaultValue!=null?zo(i,!!s.multiple,s.defaultValue,!0):zo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pu]=s}catch(S){lr(t,t.return,S)}}break;case 6:if(mi(e,t),Fi(t),n&4){if(t.stateNode===null)throw Error(ke(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){lr(t,t.return,S)}}break;case 3:if(mi(e,t),Fi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Au(e.containerInfo)}catch(S){lr(t,t.return,S)}break;case 4:mi(e,t),Fi(t);break;case 13:mi(e,t),Fi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(A0=hr())),n&4&&Sg(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(Qr=(c=Qr)||f,mi(e,t),Qr=c):mi(e,t),Fi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(Ve=t,f=t.child;f!==null;){for(m=Ve=f;Ve!==null;){switch(v=Ve,p=v.child,v.tag){case 0:case 11:case 14:case 15:mu(4,v,v.return);break;case 1:Mo(v,v.return);var _=v.stateNode;if(typeof _.componentWillUnmount=="function"){n=v,r=v.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(S){lr(n,r,S)}}break;case 5:Mo(v,v.return);break;case 22:if(v.memoizedState!==null){Ag(m);continue}}p!==null?(p.return=v,Ve=p):Ag(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,o=m.memoizedProps.style,a=o!=null&&o.hasOwnProperty("display")?o.display:null,l.style.display=bv("display",a))}catch(S){lr(t,t.return,S)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(S){lr(t,t.return,S)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:mi(e,t),Fi(t),n&4&&Sg(t);break;case 21:break;default:mi(e,t),Fi(t)}}function Fi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(W5(r)){var n=r;break e}r=r.return}throw Error(ke(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(xu(i,""),n.flags&=-33);var s=Ng(t);om(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Ng(t);am(t,l,a);break;default:throw Error(ke(161))}}catch(o){lr(t,t.return,o)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function H3(t,e,r){Ve=t,J5(t)}function J5(t,e,r){for(var n=(t.mode&1)!==0;Ve!==null;){var i=Ve,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Zc;if(!a){var l=i.alternate,o=l!==null&&l.memoizedState!==null||Qr;l=Zc;var c=Qr;if(Zc=a,(Qr=o)&&!c)for(Ve=i;Ve!==null;)a=Ve,o=a.child,a.tag===22&&a.memoizedState!==null?kg(i):o!==null?(o.return=a,Ve=o):kg(i);for(;s!==null;)Ve=s,J5(s),s=s.sibling;Ve=i,Zc=l,Qr=c}jg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ve=s):jg(t)}}function jg(t){for(;Ve!==null;){var e=Ve;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qr||wh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Qr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:_i(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ug(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}ug(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var o=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Au(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}Qr||e.flags&512&&sm(e)}catch(v){lr(e,e.return,v)}}if(e===t){Ve=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ve=r;break}Ve=e.return}}function Ag(t){for(;Ve!==null;){var e=Ve;if(e===t){Ve=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ve=r;break}Ve=e.return}}function kg(t){for(;Ve!==null;){var e=Ve;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{wh(4,e)}catch(o){lr(e,r,o)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(o){lr(e,i,o)}}var s=e.return;try{sm(e)}catch(o){lr(e,s,o)}break;case 5:var a=e.return;try{sm(e)}catch(o){lr(e,a,o)}}}catch(o){lr(e,e.return,o)}if(e===t){Ve=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ve=l;break}Ve=e.return}}var W3=Math.ceil,Yd=fs.ReactCurrentDispatcher,S0=fs.ReactCurrentOwner,ii=fs.ReactCurrentBatchConfig,Ct=0,Ir=null,_r=null,Br=0,Rn=0,Bo=aa(0),Ar=0,Du=null,Ua=0,bh=0,j0=0,gu=null,yn=null,A0=0,sl=1/0,ns=null,Qd=!1,lm=null,Qs=null,ed=!1,qs=null,Xd=0,vu=0,um=null,Sd=-1,jd=0;function un(){return Ct&6?hr():Sd!==-1?Sd:Sd=hr()}function Xs(t){return t.mode&1?Ct&2&&Br!==0?Br&-Br:E3.transition!==null?(jd===0&&(jd=Iv()),jd):(t=Ft,t!==0||(t=window.event,t=t===void 0?16:Uv(t.type)),t):1}function ki(t,e,r,n){if(50<vu)throw vu=0,um=null,Error(ke(185));Hu(t,r,n),(!(Ct&2)||t!==Ir)&&(t===Ir&&(!(Ct&2)&&(bh|=r),Ar===4&&Bs(t,Br)),xn(t,n),r===1&&Ct===0&&!(e.mode&1)&&(sl=hr()+500,gh&&oa()))}function xn(t,e){var r=t.callbackNode;E_(t,e);var n=Td(t,t===Ir?Br:0);if(n===0)r!==null&&F1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&F1(r),e===1)t.tag===0?C3(Cg.bind(null,t)):s5(Cg.bind(null,t)),S3(function(){!(Ct&6)&&oa()}),r=null;else{switch(Rv(n)){case 1:r=Xm;break;case 4:r=Pv;break;case 16:r=Rd;break;case 536870912:r=Ov;break;default:r=Rd}r=ny(r,Y5.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Y5(t,e){if(Sd=-1,jd=0,Ct&6)throw Error(ke(327));var r=t.callbackNode;if(Wo()&&t.callbackNode!==r)return null;var n=Td(t,t===Ir?Br:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Zd(t,n);else{e=n;var i=Ct;Ct|=2;var s=X5();(Ir!==t||Br!==e)&&(ns=null,sl=hr()+500,Ra(t,e));do try{J3();break}catch(l){Q5(t,l)}while(!0);d0(),Yd.current=s,Ct=i,_r!==null?e=0:(Ir=null,Br=0,e=Ar)}if(e!==0){if(e===2&&(i=Fp(t),i!==0&&(n=i,e=cm(t,i))),e===1)throw r=Du,Ra(t,0),Bs(t,n),xn(t,hr()),r;if(e===6)Bs(t,n);else{if(i=t.current.alternate,!(n&30)&&!G3(i)&&(e=Zd(t,n),e===2&&(s=Fp(t),s!==0&&(n=s,e=cm(t,s))),e===1))throw r=Du,Ra(t,0),Bs(t,n),xn(t,hr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ke(345));case 2:Na(t,yn,ns);break;case 3:if(Bs(t,n),(n&130023424)===n&&(e=A0+500-hr(),10<e)){if(Td(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){un(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vp(Na.bind(null,t,yn,ns),e);break}Na(t,yn,ns);break;case 4:if(Bs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Ai(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=hr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*W3(n/1960))-n,10<n){t.timeoutHandle=Vp(Na.bind(null,t,yn,ns),n);break}Na(t,yn,ns);break;case 5:Na(t,yn,ns);break;default:throw Error(ke(329))}}}return xn(t,hr()),t.callbackNode===r?Y5.bind(null,t):null}function cm(t,e){var r=gu;return t.current.memoizedState.isDehydrated&&(Ra(t,e).flags|=256),t=Zd(t,e),t!==2&&(e=yn,yn=r,e!==null&&dm(e)),t}function dm(t){yn===null?yn=t:yn.push.apply(yn,t)}function G3(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ci(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bs(t,e){for(e&=~j0,e&=~bh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ai(e),n=1<<r;t[r]=-1,e&=~n}}function Cg(t){if(Ct&6)throw Error(ke(327));Wo();var e=Td(t,0);if(!(e&1))return xn(t,hr()),null;var r=Zd(t,e);if(t.tag!==0&&r===2){var n=Fp(t);n!==0&&(e=n,r=cm(t,n))}if(r===1)throw r=Du,Ra(t,0),Bs(t,e),xn(t,hr()),r;if(r===6)throw Error(ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Na(t,yn,ns),xn(t,hr()),null}function k0(t,e){var r=Ct;Ct|=1;try{return t(e)}finally{Ct=r,Ct===0&&(sl=hr()+500,gh&&oa())}}function za(t){qs!==null&&qs.tag===0&&!(Ct&6)&&Wo();var e=Ct;Ct|=1;var r=ii.transition,n=Ft;try{if(ii.transition=null,Ft=1,t)return t()}finally{Ft=n,ii.transition=r,Ct=e,!(Ct&6)&&oa()}}function C0(){Rn=Bo.current,Jt(Bo)}function Ra(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,N3(r)),_r!==null)for(r=_r.return;r!==null;){var n=r;switch(l0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ud();break;case 3:nl(),Jt(bn),Jt(Zr),v0();break;case 5:g0(n);break;case 4:nl();break;case 13:Jt(er);break;case 19:Jt(er);break;case 10:h0(n.type._context);break;case 22:case 23:C0()}r=r.return}if(Ir=t,_r=t=Zs(t.current,null),Br=Rn=e,Ar=0,Du=null,j0=bh=Ua=0,yn=gu=null,Pa!==null){for(e=0;e<Pa.length;e++)if(r=Pa[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Pa=null}return t}function Q5(t,e){do{var r=_r;try{if(d0(),_d.current=Jd,Kd){for(var n=tr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Kd=!1}if(Ba=0,Pr=jr=tr=null,pu=!1,Ru=0,S0.current=null,r===null||r.return===null){Ar=1,Du=e,_r=null;break}e:{var s=t,a=r.return,l=r,o=e;if(e=Br,l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=o,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mg(a);if(p!==null){p.flags&=-257,gg(p,a,l,s,e),p.mode&1&&pg(s,c,e),e=p,o=c;var _=e.updateQueue;if(_===null){var S=new Set;S.add(o),e.updateQueue=S}else _.add(o);break e}else{if(!(e&1)){pg(s,c,e),E0();break e}o=Error(ke(426))}}else if(Yt&&l.mode&1){var j=mg(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),gg(j,a,l,s,e),u0(il(o,l));break e}}s=o=il(o,l),Ar!==4&&(Ar=2),gu===null?gu=[s]:gu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=R5(s,o,e);lg(s,w);break e;case 1:l=o;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Qs===null||!Qs.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=T5(s,l,e);lg(s,P);break e}}s=s.return}while(s!==null)}ey(r)}catch(D){e=D,_r===r&&r!==null&&(_r=r=r.return);continue}break}while(!0)}function X5(){var t=Yd.current;return Yd.current=Jd,t===null?Jd:t}function E0(){(Ar===0||Ar===3||Ar===2)&&(Ar=4),Ir===null||!(Ua&268435455)&&!(bh&268435455)||Bs(Ir,Br)}function Zd(t,e){var r=Ct;Ct|=2;var n=X5();(Ir!==t||Br!==e)&&(ns=null,Ra(t,e));do try{K3();break}catch(i){Q5(t,i)}while(!0);if(d0(),Ct=r,Yd.current=n,_r!==null)throw Error(ke(261));return Ir=null,Br=0,Ar}function K3(){for(;_r!==null;)Z5(_r)}function J3(){for(;_r!==null&&!b_();)Z5(_r)}function Z5(t){var e=ry(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?ey(t):_r=e,S0.current=null}function ey(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=q3(r,e),r!==null){r.flags&=32767,_r=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ar=6,_r=null;return}}else if(r=z3(r,e,Rn),r!==null){_r=r;return}if(e=e.sibling,e!==null){_r=e;return}_r=e=t}while(e!==null);Ar===0&&(Ar=5)}function Na(t,e,r){var n=Ft,i=ii.transition;try{ii.transition=null,Ft=1,Y3(t,e,r,n)}finally{ii.transition=i,Ft=n}return null}function Y3(t,e,r,n){do Wo();while(qs!==null);if(Ct&6)throw Error(ke(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ke(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(L_(t,s),t===Ir&&(_r=Ir=null,Br=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ed||(ed=!0,ny(Rd,function(){return Wo(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ii.transition,ii.transition=null;var a=Ft;Ft=1;var l=Ct;Ct|=4,S0.current=null,V3(t,r),K5(r,t),g3(qp),Fd=!!zp,qp=zp=null,t.current=r,H3(r),__(),Ct=l,Ft=a,ii.transition=s}else t.current=r;if(ed&&(ed=!1,qs=t,Xd=i),s=t.pendingLanes,s===0&&(Qs=null),S_(r.stateNode),xn(t,hr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Qd)throw Qd=!1,t=lm,lm=null,t;return Xd&1&&t.tag!==0&&Wo(),s=t.pendingLanes,s&1?t===um?vu++:(vu=0,um=t):vu=0,oa(),null}function Wo(){if(qs!==null){var t=Rv(Xd),e=ii.transition,r=Ft;try{if(ii.transition=null,Ft=16>t?16:t,qs===null)var n=!1;else{if(t=qs,qs=null,Xd=0,Ct&6)throw Error(ke(331));var i=Ct;for(Ct|=4,Ve=t.current;Ve!==null;){var s=Ve,a=s.child;if(Ve.flags&16){var l=s.deletions;if(l!==null){for(var o=0;o<l.length;o++){var c=l[o];for(Ve=c;Ve!==null;){var f=Ve;switch(f.tag){case 0:case 11:case 15:mu(8,f,s)}var m=f.child;if(m!==null)m.return=f,Ve=m;else for(;Ve!==null;){f=Ve;var v=f.sibling,p=f.return;if(H5(f),f===c){Ve=null;break}if(v!==null){v.return=p,Ve=v;break}Ve=p}}}var _=s.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var j=S.sibling;S.sibling=null,S=j}while(S!==null)}}Ve=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Ve=a;else e:for(;Ve!==null;){if(s=Ve,s.flags&2048)switch(s.tag){case 0:case 11:case 15:mu(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Ve=w;break e}Ve=s.return}}var x=t.current;for(Ve=x;Ve!==null;){a=Ve;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Ve=b;else e:for(a=x;Ve!==null;){if(l=Ve,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wh(9,l)}}catch(D){lr(l,l.return,D)}if(l===a){Ve=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,Ve=P;break e}Ve=l.return}}if(Ct=i,oa(),zi&&typeof zi.onPostCommitFiberRoot=="function")try{zi.onPostCommitFiberRoot(dh,t)}catch{}n=!0}return n}finally{Ft=r,ii.transition=e}}return!1}function Eg(t,e,r){e=il(r,e),e=R5(t,e,1),t=Ys(t,e,1),e=un(),t!==null&&(Hu(t,1,e),xn(t,e))}function lr(t,e,r){if(t.tag===3)Eg(t,t,r);else for(;e!==null;){if(e.tag===3){Eg(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qs===null||!Qs.has(n))){t=il(r,t),t=T5(e,t,1),e=Ys(e,t,1),t=un(),e!==null&&(Hu(e,1,t),xn(e,t));break}}e=e.return}}function Q3(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=un(),t.pingedLanes|=t.suspendedLanes&r,Ir===t&&(Br&r)===r&&(Ar===4||Ar===3&&(Br&130023424)===Br&&500>hr()-A0?Ra(t,0):j0|=r),xn(t,e)}function ty(t,e){e===0&&(t.mode&1?(e=Vc,Vc<<=1,!(Vc&130023424)&&(Vc=4194304)):e=1);var r=un();t=ds(t,e),t!==null&&(Hu(t,e,r),xn(t,r))}function X3(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ty(t,r)}function Z3(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ke(314))}n!==null&&n.delete(e),ty(t,r)}var ry;ry=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||bn.current)wn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return wn=!1,U3(t,e,r);wn=!!(t.flags&131072)}else wn=!1,Yt&&e.flags&1048576&&a5(e,$d,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Nd(t,e),t=e.pendingProps;var i=el(e,Zr.current);Ho(e,r),i=w0(null,e,n,t,i,r);var s=b0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_n(n)?(s=!0,zd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,p0(e),i.updater=yh,e.stateNode=i,i._reactInternals=e,Qp(e,n,t,r),e=em(null,e,n,!0,s,r)):(e.tag=0,Yt&&s&&o0(e),on(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Nd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=tx(n),t=_i(n,t),i){case 0:e=Zp(null,e,n,t,r);break e;case 1:e=wg(null,e,n,t,r);break e;case 11:e=vg(null,e,n,t,r);break e;case 14:e=yg(null,e,n,_i(n.type,t),r);break e}throw Error(ke(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:_i(n,i),Zp(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:_i(n,i),wg(t,e,n,i,r);case 3:e:{if(B5(e),t===null)throw Error(ke(387));n=e.pendingProps,s=e.memoizedState,i=s.element,h5(t,e),Wd(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=il(Error(ke(423)),e),e=bg(t,e,n,r,i);break e}else if(n!==i){i=il(Error(ke(424)),e),e=bg(t,e,n,r,i);break e}else for(Dn=Js(e.stateNode.containerInfo.firstChild),Bn=e,Yt=!0,ji=null,r=c5(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(tl(),n===i){e=hs(t,e,r);break e}on(t,e,n,r)}e=e.child}return e;case 5:return f5(e),t===null&&Kp(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,$p(n,i)?a=null:s!==null&&$p(n,s)&&(e.flags|=32),M5(t,e),on(t,e,a,r),e.child;case 6:return t===null&&Kp(e),null;case 13:return U5(t,e,r);case 4:return m0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=rl(e,null,n,r):on(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:_i(n,i),vg(t,e,n,i,r);case 7:return on(t,e,e.pendingProps,r),e.child;case 8:return on(t,e,e.pendingProps.children,r),e.child;case 12:return on(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ht(Vd,n._currentValue),n._currentValue=a,s!==null)if(Ci(s.value,a)){if(s.children===i.children&&!bn.current){e=hs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var o=l.firstContext;o!==null;){if(o.context===n){if(s.tag===1){o=ls(-1,r&-r),o.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?o.next=o:(o.next=f.next,f.next=o),c.pending=o}}s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Jp(s.return,r,e),l.lanes|=r;break}o=o.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ke(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Jp(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}on(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ho(e,r),i=si(i),n=n(i),e.flags|=1,on(t,e,n,r),e.child;case 14:return n=e.type,i=_i(n,e.pendingProps),i=_i(n.type,i),yg(t,e,n,i,r);case 15:return F5(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:_i(n,i),Nd(t,e),e.tag=1,_n(n)?(t=!0,zd(e)):t=!1,Ho(e,r),I5(e,n,i),Qp(e,n,i,r),em(null,e,n,!0,t,r);case 19:return z5(t,e,r);case 22:return D5(t,e,r)}throw Error(ke(156,e.tag))};function ny(t,e){return Lv(t,e)}function ex(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(t,e,r,n){return new ex(t,e,r,n)}function L0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tx(t){if(typeof t=="function")return L0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jm)return 11;if(t===Ym)return 14}return 2}function Zs(t,e){var r=t.alternate;return r===null?(r=ni(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ad(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")L0(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Eo:return Ta(r.children,i,s,e);case Km:a=8,i|=8;break;case _p:return t=ni(12,r,e,i|2),t.elementType=_p,t.lanes=s,t;case xp:return t=ni(13,r,e,i),t.elementType=xp,t.lanes=s,t;case Np:return t=ni(19,r,e,i),t.elementType=Np,t.lanes=s,t;case fv:return _h(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dv:a=10;break e;case hv:a=9;break e;case Jm:a=11;break e;case Ym:a=14;break e;case Fs:a=16,n=null;break e}throw Error(ke(130,t==null?t:typeof t,""))}return e=ni(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ta(t,e,r,n){return t=ni(7,t,n,e),t.lanes=r,t}function _h(t,e,r,n){return t=ni(22,t,n,e),t.elementType=fv,t.lanes=r,t.stateNode={isHidden:!1},t}function Vf(t,e,r){return t=ni(6,t,null,e),t.lanes=r,t}function Hf(t,e,r){return e=ni(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rx(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jf(0),this.expirationTimes=jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function P0(t,e,r,n,i,s,a,l,o){return t=new rx(t,e,r,l,o),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ni(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},p0(s),t}function nx(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Co,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function iy(t){if(!t)return ra;t=t._reactInternals;e:{if(Va(t)!==t||t.tag!==1)throw Error(ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ke(171))}if(t.tag===1){var r=t.type;if(_n(r))return i5(t,r,e)}return e}function sy(t,e,r,n,i,s,a,l,o){return t=P0(r,n,!0,t,i,s,a,l,o),t.context=iy(null),r=t.current,n=un(),i=Xs(r),s=ls(n,i),s.callback=e??null,Ys(r,s,i),t.current.lanes=i,Hu(t,i,n),xn(t,n),t}function xh(t,e,r,n){var i=e.current,s=un(),a=Xs(i);return r=iy(r),e.context===null?e.context=r:e.pendingContext=r,e=ls(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ys(i,e,a),t!==null&&(ki(t,i,a,s),bd(t,i,a)),a}function eh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function O0(t,e){Lg(t,e),(t=t.alternate)&&Lg(t,e)}function ix(){return null}var ay=typeof reportError=="function"?reportError:function(t){console.error(t)};function I0(t){this._internalRoot=t}Nh.prototype.render=I0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ke(409));xh(t,e,null,null)};Nh.prototype.unmount=I0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;za(function(){xh(null,t,null,null)}),e[cs]=null}};function Nh(t){this._internalRoot=t}Nh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Dv();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ms.length&&e!==0&&e<Ms[r].priority;r++);Ms.splice(r,0,t),r===0&&Bv(t)}};function R0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pg(){}function sx(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=eh(a);s.call(c)}}var a=sy(e,n,t,0,null,!1,!1,"",Pg);return t._reactRootContainer=a,t[cs]=a.current,Eu(t.nodeType===8?t.parentNode:t),za(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var c=eh(o);l.call(c)}}var o=P0(t,0,!1,null,null,!1,!1,"",Pg);return t._reactRootContainer=o,t[cs]=o.current,Eu(t.nodeType===8?t.parentNode:t),za(function(){xh(e,o,r,n)}),o}function jh(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var o=eh(a);l.call(o)}}xh(e,a,t,i)}else a=sx(r,e,t,i,n);return eh(a)}Tv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=su(e.pendingLanes);r!==0&&(Zm(e,r|1),xn(e,hr()),!(Ct&6)&&(sl=hr()+500,oa()))}break;case 13:za(function(){var n=ds(t,1);if(n!==null){var i=un();ki(n,t,1,i)}}),O0(t,1)}};e0=function(t){if(t.tag===13){var e=ds(t,134217728);if(e!==null){var r=un();ki(e,t,134217728,r)}O0(t,134217728)}};Fv=function(t){if(t.tag===13){var e=Xs(t),r=ds(t,e);if(r!==null){var n=un();ki(r,t,e,n)}O0(t,e)}};Dv=function(){return Ft};Mv=function(t,e){var r=Ft;try{return Ft=t,e()}finally{Ft=r}};Ip=function(t,e,r){switch(e){case"input":if(Ap(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=mh(n);if(!i)throw Error(ke(90));mv(n),Ap(n,i)}}}break;case"textarea":vv(t,r);break;case"select":e=r.value,e!=null&&zo(t,!!r.multiple,e,!1)}};Sv=k0;jv=za;var ax={usingClientEntryPoint:!1,Events:[Gu,Io,mh,xv,Nv,k0]},Zl={findFiberByHostInstance:La,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ox={bundleType:Zl.bundleType,version:Zl.version,rendererPackageName:Zl.rendererPackageName,rendererConfig:Zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cv(t),t===null?null:t.stateNode},findFiberByHostInstance:Zl.findFiberByHostInstance||ix,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{dh=td.inject(ox),zi=td}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ax;zn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R0(e))throw Error(ke(200));return nx(t,e,null,r)};zn.createRoot=function(t,e){if(!R0(t))throw Error(ke(299));var r=!1,n="",i=ay;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=P0(t,1,!1,null,null,r,!1,n,i),t[cs]=e.current,Eu(t.nodeType===8?t.parentNode:t),new I0(e)};zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ke(188)):(t=Object.keys(t).join(","),Error(ke(268,t)));return t=Cv(e),t=t===null?null:t.stateNode,t};zn.flushSync=function(t){return za(t)};zn.hydrate=function(t,e,r){if(!Sh(e))throw Error(ke(200));return jh(null,t,e,!0,r)};zn.hydrateRoot=function(t,e,r){if(!R0(t))throw Error(ke(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=ay;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=sy(e,null,t,1,r??null,i,!1,s,a),t[cs]=e.current,Eu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Nh(e)};zn.render=function(t,e,r){if(!Sh(e))throw Error(ke(200));return jh(null,t,e,!1,r)};zn.unmountComponentAtNode=function(t){if(!Sh(t))throw Error(ke(40));return t._reactRootContainer?(za(function(){jh(null,null,t,!1,function(){t._reactRootContainer=null,t[cs]=null})}),!0):!1};zn.unstable_batchedUpdates=k0;zn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Sh(r))throw Error(ke(200));if(t==null||t._reactInternals===void 0)throw Error(ke(38));return jh(t,e,r,!1,n)};zn.version="18.3.1-next-f1338f8080-20240426";function oy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oy)}catch(t){console.error(t)}}oy(),ov.exports=zn;var lx=ov.exports,Og=lx;wp.createRoot=Og.createRoot,wp.hydrateRoot=Og.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mu.apply(this,arguments)}var $s;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($s||($s={}));const Ig="popstate";function ux(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:l}=n.location;return hm("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:th(i)}return dx(e,r,null,t)}function gr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ly(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cx(){return Math.random().toString(36).substr(2,8)}function Rg(t,e){return{usr:t.state,key:t.key,idx:e}}function hm(t,e,r,n){return r===void 0&&(r=null),Mu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?dl(e):e,{state:r,key:e&&e.key||n||cx()})}function th(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function dl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function dx(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,l=$s.Pop,o=null,c=f();c==null&&(c=0,a.replaceState(Mu({},a.state,{idx:c}),""));function f(){return(a.state||{idx:null}).idx}function m(){l=$s.Pop;let j=f(),w=j==null?null:j-c;c=j,o&&o({action:l,location:S.location,delta:w})}function v(j,w){l=$s.Push;let x=hm(S.location,j,w);c=f()+1;let b=Rg(x,c),P=S.createHref(x);try{a.pushState(b,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(P)}s&&o&&o({action:l,location:S.location,delta:1})}function p(j,w){l=$s.Replace;let x=hm(S.location,j,w);c=f();let b=Rg(x,c),P=S.createHref(x);a.replaceState(b,"",P),s&&o&&o({action:l,location:S.location,delta:0})}function _(j){let w=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof j=="string"?j:th(j);return x=x.replace(/ $/,"%20"),gr(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let S={get action(){return l},get location(){return t(i,a)},listen(j){if(o)throw new Error("A history only accepts one active listener");return i.addEventListener(Ig,m),o=j,()=>{i.removeEventListener(Ig,m),o=null}},createHref(j){return e(i,j)},createURL:_,encodeLocation(j){let w=_(j);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:p,go(j){return a.go(j)}};return S}var Tg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Tg||(Tg={}));function hx(t,e,r){return r===void 0&&(r="/"),fx(t,e,r)}function fx(t,e,r,n){let i=typeof e=="string"?dl(e):e,s=T0(i.pathname||"/",r);if(s==null)return null;let a=uy(t);px(a);let l=null;for(let o=0;l==null&&o<a.length;++o){let c=Ax(s);l=Nx(a[o],c)}return l}function uy(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,l)=>{let o={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};o.relativePath.startsWith("/")&&(gr(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(n.length));let c=ea([n,o.relativePath]),f=r.concat(o);s.children&&s.children.length>0&&(gr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),uy(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:_x(c,s.index),routesMeta:f})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let o of cy(s.path))i(s,a,o)}),e}function cy(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=cy(n.join("/")),l=[];return l.push(...a.map(o=>o===""?s:[s,o].join("/"))),i&&l.push(...a),l.map(o=>t.startsWith("/")&&o===""?"/":o)}function px(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:xx(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const mx=/^:[\w-]+$/,gx=3,vx=2,yx=1,wx=10,bx=-2,Fg=t=>t==="*";function _x(t,e){let r=t.split("/"),n=r.length;return r.some(Fg)&&(n+=bx),e&&(n+=vx),r.filter(i=>!Fg(i)).reduce((i,s)=>i+(mx.test(s)?gx:s===""?yx:wx),n)}function xx(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Nx(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let l=0;l<n.length;++l){let o=n[l],c=l===n.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=Sx({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},f),v=o.route;if(!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:ea([s,m.pathname]),pathnameBase:Lx(ea([s,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(s=ea([s,m.pathnameBase]))}return a}function Sx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=jx(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((c,f,m)=>{let{paramName:v,isOptional:p}=f;if(v==="*"){let S=l[m]||"";a=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const _=l[m];return p&&!_?c[v]=void 0:c[v]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function jx(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ly(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,o)=>(n.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Ax(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ly(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function T0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function kx(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?dl(t):t;return{pathname:r?r.startsWith("/")?r:Cx(r,e):e,search:Px(n),hash:Ox(i)}}function Cx(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Wf(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ex(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function F0(t,e){let r=Ex(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function D0(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=dl(t):(i=Mu({},t),gr(!i.pathname||!i.pathname.includes("?"),Wf("?","pathname","search",i)),gr(!i.pathname||!i.pathname.includes("#"),Wf("#","pathname","hash",i)),gr(!i.search||!i.search.includes("#"),Wf("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=r;else{let m=e.length-1;if(!n&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}l=m>=0?e[m]:"/"}let o=kx(i,l),c=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(c||f)&&(o.pathname+="/"),o}const ea=t=>t.join("/").replace(/\/\/+/g,"/"),Lx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Px=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ox=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ix(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dy=["post","put","patch","delete"];new Set(dy);const Rx=["get",...dy];new Set(Rx);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bu.apply(this,arguments)}const M0=se.createContext(null),Tx=se.createContext(null),la=se.createContext(null),Ah=se.createContext(null),ps=se.createContext({outlet:null,matches:[],isDataRoute:!1}),hy=se.createContext(null);function Fx(t,e){let{relative:r}=e===void 0?{}:e;hl()||gr(!1);let{basename:n,navigator:i}=se.useContext(la),{hash:s,pathname:a,search:l}=py(t,{relative:r}),o=a;return n!=="/"&&(o=a==="/"?n:ea([n,a])),i.createHref({pathname:o,search:l,hash:s})}function hl(){return se.useContext(Ah)!=null}function fl(){return hl()||gr(!1),se.useContext(Ah).location}function fy(t){se.useContext(la).static||se.useLayoutEffect(t)}function Ju(){let{isDataRoute:t}=se.useContext(ps);return t?Yx():Dx()}function Dx(){hl()||gr(!1);let t=se.useContext(M0),{basename:e,future:r,navigator:n}=se.useContext(la),{matches:i}=se.useContext(ps),{pathname:s}=fl(),a=JSON.stringify(F0(i,r.v7_relativeSplatPath)),l=se.useRef(!1);return fy(()=>{l.current=!0}),se.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let m=D0(c,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ea([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,a,s,t])}function Mx(){let{matches:t}=se.useContext(ps),e=t[t.length-1];return e?e.params:{}}function py(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=se.useContext(la),{matches:i}=se.useContext(ps),{pathname:s}=fl(),a=JSON.stringify(F0(i,n.v7_relativeSplatPath));return se.useMemo(()=>D0(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function Bx(t,e){return Ux(t,e)}function Ux(t,e,r,n){hl()||gr(!1);let{navigator:i}=se.useContext(la),{matches:s}=se.useContext(ps),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let o=a?a.pathnameBase:"/";a&&a.route;let c=fl(),f;if(e){var m;let j=typeof e=="string"?dl(e):e;o==="/"||(m=j.pathname)!=null&&m.startsWith(o)||gr(!1),f=j}else f=c;let v=f.pathname||"/",p=v;if(o!=="/"){let j=o.replace(/^\//,"").split("/");p="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let _=hx(t,{pathname:p}),S=Hx(_&&_.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:ea([o,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?o:ea([o,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),s,r,n);return e&&S?se.createElement(Ah.Provider,{value:{location:Bu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:$s.Pop}},S):S}function zx(){let t=Jx(),e=Ix(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),r?se.createElement("pre",{style:i},r):null,null)}const qx=se.createElement(zx,null);class $x extends se.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?se.createElement(ps.Provider,{value:this.props.routeContext},se.createElement(hy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vx(t){let{routeContext:e,match:r,children:n}=t,i=se.useContext(M0);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),se.createElement(ps.Provider,{value:e},n)}function Hx(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let f=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||gr(!1),a=a.slice(0,Math.min(a.length,f+1))}let o=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=f),m.route.id){let{loaderData:v,errors:p}=r,_=m.route.loader&&v[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||_){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,m,v)=>{let p,_=!1,S=null,j=null;r&&(p=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||qx,o&&(c<0&&v===0?(Qx("route-fallback"),_=!0,j=null):c===v&&(_=!0,j=m.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,v+1)),x=()=>{let b;return p?b=S:_?b=j:m.route.Component?b=se.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=f,se.createElement(Vx,{match:m,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:b})};return r&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?se.createElement($x,{location:r.location,revalidation:r.revalidation,component:S,error:p,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var my=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(my||{}),gy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(gy||{});function Wx(t){let e=se.useContext(M0);return e||gr(!1),e}function Gx(t){let e=se.useContext(Tx);return e||gr(!1),e}function Kx(t){let e=se.useContext(ps);return e||gr(!1),e}function vy(t){let e=Kx(),r=e.matches[e.matches.length-1];return r.route.id||gr(!1),r.route.id}function Jx(){var t;let e=se.useContext(hy),r=Gx(),n=vy();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Yx(){let{router:t}=Wx(my.UseNavigateStable),e=vy(gy.UseNavigateStable),r=se.useRef(!1);return fy(()=>{r.current=!0}),se.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Bu({fromRouteId:e},s)))},[t,e])}const Dg={};function Qx(t,e,r){Dg[t]||(Dg[t]=!0)}function Xx(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function fm(t){let{to:e,replace:r,state:n,relative:i}=t;hl()||gr(!1);let{future:s,static:a}=se.useContext(la),{matches:l}=se.useContext(ps),{pathname:o}=fl(),c=Ju(),f=D0(e,F0(l,s.v7_relativeSplatPath),o,i==="path"),m=JSON.stringify(f);return se.useEffect(()=>c(JSON.parse(m),{replace:r,state:n,relative:i}),[c,m,i,r,n]),null}function Nr(t){gr(!1)}function Zx(t){let{basename:e="/",children:r=null,location:n,navigationType:i=$s.Pop,navigator:s,static:a=!1,future:l}=t;hl()&&gr(!1);let o=e.replace(/^\/*/,"/"),c=se.useMemo(()=>({basename:o,navigator:s,static:a,future:Bu({v7_relativeSplatPath:!1},l)}),[o,l,s,a]);typeof n=="string"&&(n=dl(n));let{pathname:f="/",search:m="",hash:v="",state:p=null,key:_="default"}=n,S=se.useMemo(()=>{let j=T0(f,o);return j==null?null:{location:{pathname:j,search:m,hash:v,state:p,key:_},navigationType:i}},[o,f,m,v,p,_,i]);return S==null?null:se.createElement(la.Provider,{value:c},se.createElement(Ah.Provider,{children:r,value:S}))}function e4(t){let{children:e,location:r}=t;return Bx(pm(e),r)}new Promise(()=>{});function pm(t,e){e===void 0&&(e=[]);let r=[];return se.Children.forEach(t,(n,i)=>{if(!se.isValidElement(n))return;let s=[...e,i];if(n.type===se.Fragment){r.push.apply(r,pm(n.props.children,s));return}n.type!==Nr&&gr(!1),!n.props.index||!n.props.children||gr(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=pm(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mm.apply(this,arguments)}function t4(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function r4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function n4(t,e){return t.button===0&&(!e||e==="_self")&&!r4(t)}const i4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],s4="6";try{window.__reactRouterVersion=s4}catch{}const a4="startTransition",Mg=Qb[a4];function o4(t){let{basename:e,children:r,future:n,window:i}=t,s=se.useRef();s.current==null&&(s.current=ux({window:i,v5Compat:!0}));let a=s.current,[l,o]=se.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},f=se.useCallback(m=>{c&&Mg?Mg(()=>o(m)):o(m)},[o,c]);return se.useLayoutEffect(()=>a.listen(f),[a,f]),se.useEffect(()=>Xx(n),[n]),se.createElement(Zx,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const l4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Go=se.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:l,target:o,to:c,preventScrollReset:f,viewTransition:m}=e,v=t4(e,i4),{basename:p}=se.useContext(la),_,S=!1;if(typeof c=="string"&&u4.test(c)&&(_=c,l4))try{let b=new URL(window.location.href),P=c.startsWith("//")?new URL(b.protocol+c):new URL(c),D=T0(P.pathname,p);P.origin===b.origin&&D!=null?c=D+P.search+P.hash:S=!0}catch{}let j=Fx(c,{relative:i}),w=c4(c,{replace:a,state:l,target:o,preventScrollReset:f,relative:i,viewTransition:m});function x(b){n&&n(b),b.defaultPrevented||w(b)}return se.createElement("a",mm({},v,{href:_||j,onClick:S||s?n:x,ref:r,target:o}))});var Bg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Bg||(Bg={}));var Ug;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ug||(Ug={}));function c4(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}=e===void 0?{}:e,o=Ju(),c=fl(),f=py(t,{relative:a});return se.useCallback(m=>{if(n4(m,r)){m.preventDefault();let v=n!==void 0?n:th(c)===th(f);o(t,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[c,o,f,n,i,r,t,s,a,l])}const d4={},zg=t=>{let e;const r=new Set,n=(f,m)=>{const v=typeof f=="function"?f(e):f;if(!Object.is(v,e)){const p=e;e=m??(typeof v!="object"||v===null)?v:Object.assign({},e,v),r.forEach(_=>_(e,p))}},i=()=>e,o={setState:n,getState:i,getInitialState:()=>c,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(d4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=e=t(n,i,o);return o},h4=t=>t?zg(t):zg;var yy={exports:{}},wy={},by={exports:{}},_y={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var al=se;function f4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var p4=typeof Object.is=="function"?Object.is:f4,m4=al.useState,g4=al.useEffect,v4=al.useLayoutEffect,y4=al.useDebugValue;function w4(t,e){var r=e(),n=m4({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return v4(function(){i.value=r,i.getSnapshot=e,Gf(i)&&s({inst:i})},[t,r,e]),g4(function(){return Gf(i)&&s({inst:i}),t(function(){Gf(i)&&s({inst:i})})},[t]),y4(r),r}function Gf(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!p4(t,r)}catch{return!0}}function b4(t,e){return e()}var _4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?b4:w4;_y.useSyncExternalStore=al.useSyncExternalStore!==void 0?al.useSyncExternalStore:_4;by.exports=_y;var x4=by.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh=se,N4=x4;function S4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var j4=typeof Object.is=="function"?Object.is:S4,A4=N4.useSyncExternalStore,k4=kh.useRef,C4=kh.useEffect,E4=kh.useMemo,L4=kh.useDebugValue;wy.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=k4(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=E4(function(){function o(p){if(!c){if(c=!0,f=p,p=n(p),i!==void 0&&a.hasValue){var _=a.value;if(i(_,p))return m=_}return m=p}if(_=m,j4(f,p))return _;var S=n(p);return i!==void 0&&i(_,S)?(f=p,_):(f=p,m=S)}var c=!1,f,m,v=r===void 0?null:r;return[function(){return o(e())},v===null?void 0:function(){return o(v())}]},[e,r,n,i]);var l=A4(t,s[0],s[1]);return C4(function(){a.hasValue=!0,a.value=l},[l]),L4(l),l};yy.exports=wy;var P4=yy.exports;const O4=J2(P4),xy={},{useDebugValue:I4}=bi,{useSyncExternalStoreWithSelector:R4}=O4;let qg=!1;const T4=t=>t;function F4(t,e=T4,r){(xy?"production":void 0)!=="production"&&r&&!qg&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),qg=!0);const n=R4(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return I4(n),n}const $g=t=>{(xy?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?h4(t):t,r=(n,i)=>F4(e,n,i);return Object.assign(r,e),r},D4=t=>t?$g(t):$g,Ch=D4(t=>({user:null,setUser:e=>t({user:e}),signOut:()=>t({user:null})}));var gm=function(t,e){return gm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},gm(t,e)};function Ny(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var rh=function(){return rh=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},rh.apply(this,arguments)};function pl(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Sy(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function jy(t,e){return function(r,n){e(r,n,t)}}function Ay(t,e,r,n,i,s){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var l=n.kind,o=l==="getter"?"get":l==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,f=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),m,v=!1,p=r.length-1;p>=0;p--){var _={};for(var S in n)_[S]=S==="access"?{}:n[S];for(var S in n.access)_.access[S]=n.access[S];_.addInitializer=function(w){if(v)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(w||null))};var j=(0,r[p])(l==="accessor"?{get:f.get,set:f.set}:f[o],_);if(l==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(m=a(j.get))&&(f.get=m),(m=a(j.set))&&(f.set=m),(m=a(j.init))&&i.unshift(m)}else(m=a(j))&&(l==="field"?i.unshift(m):f[o]=m)}c&&Object.defineProperty(c,n.name,f),v=!0}function ky(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function Cy(t){return typeof t=="symbol"?t:"".concat(t)}function Ey(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Ly(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ge(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{c(n.next(f))}catch(m){a(m)}}function o(f){try{c(n.throw(f))}catch(m){a(m)}}function c(f){f.done?s(f.value):i(f.value).then(l,o)}c((n=n.apply(t,e||[])).next())})}function Py(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(f){return o([c,f])}}function o(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(f){c=[6,f],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Eh=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Oy(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Eh(e,t,r)}function nh(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function B0(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function Iy(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(B0(arguments[e]));return t}function Ry(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],a=0,l=s.length;a<l;a++,i++)n[i]=s[a];return n}function Ty(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function ol(t){return this instanceof ol?(this.v=t,this):new ol(t)}function Fy(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(_){return Promise.resolve(_).then(p,m)}}function l(p,_){n[p]&&(i[p]=function(S){return new Promise(function(j,w){s.push([p,S,j,w])>1||o(p,S)})},_&&(i[p]=_(i[p])))}function o(p,_){try{c(n[p](_))}catch(S){v(s[0][3],S)}}function c(p){p.value instanceof ol?Promise.resolve(p.value.v).then(f,m):v(s[0][2],p)}function f(p){o("next",p)}function m(p){o("throw",p)}function v(p,_){p(_),s.shift(),s.length&&o(s[0][0],s[0][1])}}function Dy(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(a){return(r=!r)?{value:ol(t[i](a)),done:!1}:s?s(a):a}:s}}function My(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof nh=="function"?nh(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(a){return new Promise(function(l,o){a=t[s](a),i(l,o,a.done,a.value)})}}function i(s,a,l,o){Promise.resolve(o).then(function(c){s({value:c,done:l})},a)}}function By(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var M4=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},vm=function(t){return vm=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},vm(t)};function Uy(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=vm(t),n=0;n<r.length;n++)r[n]!=="default"&&Eh(e,t,r[n]);return M4(e,t),e}function zy(t){return t&&t.__esModule?t:{default:t}}function qy(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function $y(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function Vy(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Hy(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var B4=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Wy(t){function e(s){t.error=t.hasError?new B4(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(a){return e(a),i()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function Gy(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,a){return n?e?".jsx":".js":i&&(!s||!a)?r:i+s+"."+a.toLowerCase()+"js"}):t}const U4={__extends:Ny,__assign:rh,__rest:pl,__decorate:Sy,__param:jy,__esDecorate:Ay,__runInitializers:ky,__propKey:Cy,__setFunctionName:Ey,__metadata:Ly,__awaiter:Ge,__generator:Py,__createBinding:Eh,__exportStar:Oy,__values:nh,__read:B0,__spread:Iy,__spreadArrays:Ry,__spreadArray:Ty,__await:ol,__asyncGenerator:Fy,__asyncDelegator:Dy,__asyncValues:My,__makeTemplateObject:By,__importStar:Uy,__importDefault:zy,__classPrivateFieldGet:qy,__classPrivateFieldSet:$y,__classPrivateFieldIn:Vy,__addDisposableResource:Hy,__disposeResources:Wy,__rewriteRelativeImportExtension:Gy},z4=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Hy,get __assign(){return rh},__asyncDelegator:Dy,__asyncGenerator:Fy,__asyncValues:My,__await:ol,__awaiter:Ge,__classPrivateFieldGet:qy,__classPrivateFieldIn:Vy,__classPrivateFieldSet:$y,__createBinding:Eh,__decorate:Sy,__disposeResources:Wy,__esDecorate:Ay,__exportStar:Oy,__extends:Ny,__generator:Py,__importDefault:zy,__importStar:Uy,__makeTemplateObject:By,__metadata:Ly,__param:jy,__propKey:Cy,__read:B0,__rest:pl,__rewriteRelativeImportExtension:Gy,__runInitializers:ky,__setFunctionName:Ey,__spread:Iy,__spreadArray:Ty,__spreadArrays:Ry,__values:nh,default:U4},Symbol.toStringTag,{value:"Module"})),q4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class U0 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class $4 extends U0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Vg extends U0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Hg extends U0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ym;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ym||(ym={}));class V4{constructor(e,{headers:r={},customFetch:n,region:i=ym.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=q4(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ge(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:l,method:o,body:c,signal:f,timeout:m}=n;let v={},{region:p}=n;p||(p=this.region);const _=new URL(`${this.url}/${r}`);p&&p!=="any"&&(v["x-region"]=p,_.searchParams.set("forceFunctionRegion",p));let S;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=c):typeof c=="string"?(v["Content-Type"]="text/plain",S=c):typeof FormData<"u"&&c instanceof FormData?S=c:(v["Content-Type"]="application/json",S=JSON.stringify(c)):S=c;let j=f;m&&(a=new AbortController,s=setTimeout(()=>a.abort(),m),f?(j=a.signal,f.addEventListener("abort",()=>a.abort())):j=a.signal);const w=yield this.fetch(_.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),l),body:S,signal:j}).catch(D=>{throw new $4(D)}),x=w.headers.get("x-relay-error");if(x&&x==="true")throw new Vg(w);if(!w.ok)throw new Hg(w);let b=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return b==="application/json"?P=yield w.json():b==="application/octet-stream"||b==="application/pdf"?P=yield w.blob():b==="text/event-stream"?P=w:b==="multipart/form-data"?P=yield w.formData():P=yield w.text(),{data:P,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof Hg||l instanceof Vg?l.context:void 0}}finally{s&&clearTimeout(s)}})}}var ln={};const ml=Tb(z4);var rd={},nd={},id={},sd={},ad={},od={},Wg;function Ky(){if(Wg)return od;Wg=1,Object.defineProperty(od,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return od.default=t,od}var Gg;function Jy(){if(Gg)return ad;Gg=1,Object.defineProperty(ad,"__esModule",{value:!0});const e=ml.__importDefault(Ky());class r{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var c,f,m,v;let p=null,_=null,S=null,j=o.status,w=o.statusText;if(o.ok){if(this.method!=="HEAD"){const D=await o.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?_=D:_=JSON.parse(D))}const b=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),P=(m=o.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");b&&P&&P.length>1&&(S=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(p={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,S=null,j=406,w="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const b=await o.text();try{p=JSON.parse(b),Array.isArray(p)&&o.status===404&&(_=[],p=null,j=200,w="OK")}catch{o.status===404&&b===""?(j=204,w="No Content"):p={message:b}}if(p&&this.isMaybeSingle&&(!((v=p==null?void 0:p.details)===null||v===void 0)&&v.includes("0 rows"))&&(p=null,j=200,w="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:_,count:S,status:j,statusText:w}});return this.shouldThrowOnError||(l=l.catch(o=>{var c,f,m;return{error:{message:`${(c=o==null?void 0:o.name)!==null&&c!==void 0?c:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(f=o==null?void 0:o.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=o==null?void 0:o.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,s)}returns(){return this}overrideTypes(){return this}}return ad.default=r,ad}var Kg;function Yy(){if(Kg)return sd;Kg=1,Object.defineProperty(sd,"__esModule",{value:!0});const e=ml.__importDefault(Jy());class r extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:l,referencedTable:o=l}={}){const c=o?`${o}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:l=a}={}){const o=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:l=!1,wal:o=!1,format:c="text"}={}){var f;const m=[i?"analyze":null,s?"verbose":null,a?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),v=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${v}"; options=${m};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return sd.default=r,sd}var Jg;function z0(){if(Jg)return id;Jg=1,Object.defineProperty(id,"__esModule",{value:!0});const e=ml.__importDefault(Yy()),r=new RegExp("[,()]");class n extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const l=Array.from(new Set(a)).map(o=>typeof o=="string"&&r.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:l,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${c}fts${f}.${a}`),this}match(s){return Object.entries(s).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(s,a,l){return this.url.searchParams.append(s,`not.${a}.${l}`),this}or(s,{foreignTable:a,referencedTable:l=a}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,a,l){return this.url.searchParams.append(s,`${a}.${l}`),this}}return id.default=n,id}var Yg;function Qy(){if(Yg)return nd;Yg=1,Object.defineProperty(nd,"__esModule",{value:!0});const e=ml.__importDefault(z0());class r{constructor(i,{headers:s={},schema:a,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=l}select(i,s){const{head:a=!1,count:l}=s??{},o=a?"HEAD":"GET";let c=!1;const f=(i??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var l;const o="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(c.length>0){const f=[...new Set(c)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:l,defaultToNull:o=!0}={}){var c;const f="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,p)=>v.concat(Object.keys(p)),[]);if(m.length>0){const v=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:s}={}){var a;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return nd.default=r,nd}var Qg;function H4(){if(Qg)return rd;Qg=1,Object.defineProperty(rd,"__esModule",{value:!0});const t=ml,e=t.__importDefault(Qy()),r=t.__importDefault(z0());class n{constructor(s,{headers:a={},schema:l,fetch:o}={}){this.url=s,this.headers=new Headers(a),this.schemaName=l,this.fetch=o}from(s){const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:l=!1,get:o=!1,count:c}={}){var f;let m;const v=new URL(`${this.url}/rpc/${s}`);let p;l||o?(m=l?"HEAD":"GET",Object.entries(a).filter(([S,j])=>j!==void 0).map(([S,j])=>[S,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([S,j])=>{v.searchParams.append(S,j)})):(m="POST",p=a);const _=new Headers(this.headers);return c&&_.set("Prefer",`count=${c}`),new r.default({method:m,url:v,headers:_,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return rd.default=n,rd}Object.defineProperty(ln,"__esModule",{value:!0});var Xy=ln.PostgrestError=lw=ln.PostgrestBuilder=aw=ln.PostgrestTransformBuilder=iw=ln.PostgrestFilterBuilder=rw=ln.PostgrestQueryBuilder=ew=ln.PostgrestClient=void 0;const gl=ml,Zy=gl.__importDefault(H4());var ew=ln.PostgrestClient=Zy.default;const tw=gl.__importDefault(Qy());var rw=ln.PostgrestQueryBuilder=tw.default;const nw=gl.__importDefault(z0());var iw=ln.PostgrestFilterBuilder=nw.default;const sw=gl.__importDefault(Yy());var aw=ln.PostgrestTransformBuilder=sw.default;const ow=gl.__importDefault(Jy());var lw=ln.PostgrestBuilder=ow.default;const uw=gl.__importDefault(Ky());Xy=ln.PostgrestError=uw.default;var cw=ln.default={PostgrestClient:Zy.default,PostgrestQueryBuilder:tw.default,PostgrestFilterBuilder:nw.default,PostgrestTransformBuilder:sw.default,PostgrestBuilder:ow.default,PostgrestError:uw.default};const W4=K2({__proto__:null,get PostgrestBuilder(){return lw},get PostgrestClient(){return ew},get PostgrestError(){return Xy},get PostgrestFilterBuilder(){return iw},get PostgrestQueryBuilder(){return rw},get PostgrestTransformBuilder(){return aw},default:cw},[ln]),{PostgrestClient:G4,PostgrestQueryBuilder:lA,PostgrestFilterBuilder:uA,PostgrestTransformBuilder:cA,PostgrestBuilder:dA,PostgrestError:hA}=cw||W4;class K4{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const J4="2.81.1",Y4=`realtime-js/${J4}`,dw="1.0.0",Q4="2.0.0",Xg=dw,wm=1e4,X4=1e3,Z4=100;var Aa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Aa||(Aa={}));var Sr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Sr||(Sr={}));var ei;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ei||(ei={}));var bm;(function(t){t.websocket="websocket"})(bm||(bm={}));var ka;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ka||(ka={}));class eN{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){const{join_ref:r,ref:n,event:i,topic:s,payload:a}=e,l=this.META_LENGTH+r.length+n.length+s.length+i.length,o=new ArrayBuffer(this.HEADER_LENGTH+l);let c=new DataView(o),f=0;c.setUint8(f++,this.KINDS.push),c.setUint8(f++,r.length),c.setUint8(f++,n.length),c.setUint8(f++,s.length),c.setUint8(f++,i.length),Array.from(r,v=>c.setUint8(f++,v.charCodeAt(0))),Array.from(n,v=>c.setUint8(f++,v.charCodeAt(0))),Array.from(s,v=>c.setUint8(f++,v.charCodeAt(0))),Array.from(i,v=>c.setUint8(f++,v.charCodeAt(0)));var m=new Uint8Array(o.byteLength+a.byteLength);return m.set(new Uint8Array(o),0),m.set(new Uint8Array(a),o.byteLength),m.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const{join_ref:i,ref:s,topic:a}=e,l=e.payload.event,o=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),c=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+s.length+a.length+l.length,f=new ArrayBuffer(this.HEADER_LENGTH+c);let m=new DataView(f),v=0;m.setUint8(v++,this.KINDS.userBroadcastPush),m.setUint8(v++,i.length),m.setUint8(v++,s.length),m.setUint8(v++,a.length),m.setUint8(v++,l.length),m.setUint8(v++,this.BINARY_ENCODING),Array.from(i,_=>m.setUint8(v++,_.charCodeAt(0))),Array.from(s,_=>m.setUint8(v++,_.charCodeAt(0))),Array.from(a,_=>m.setUint8(v++,_.charCodeAt(0))),Array.from(l,_=>m.setUint8(v++,_.charCodeAt(0)));var p=new Uint8Array(f.byteLength+o.byteLength);return p.set(new Uint8Array(f),0),p.set(new Uint8Array(o),f.byteLength),p.buffer}_encodeJsonUserBroadcastPush(e){var r,n;const{join_ref:i,ref:s,topic:a}=e,l=e.payload.event,o=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer,m=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+s.length+a.length+l.length,v=new ArrayBuffer(this.HEADER_LENGTH+m);let p=new DataView(v),_=0;p.setUint8(_++,this.KINDS.userBroadcastPush),p.setUint8(_++,i.length),p.setUint8(_++,s.length),p.setUint8(_++,a.length),p.setUint8(_++,l.length),p.setUint8(_++,this.JSON_ENCODING),Array.from(i,j=>p.setUint8(_++,j.charCodeAt(0))),Array.from(s,j=>p.setUint8(_++,j.charCodeAt(0))),Array.from(a,j=>p.setUint8(_++,j.charCodeAt(0))),Array.from(l,j=>p.setUint8(_++,j.charCodeAt(0)));var S=new Uint8Array(v.byteLength+f.byteLength);return S.set(new Uint8Array(v),0),S.set(new Uint8Array(f),v.byteLength),S.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,l,o]=n;return r({join_ref:i,ref:s,topic:a,event:l,payload:o})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,i);case this.KINDS.reply:return this._decodeReply(e,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodePush(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const o=n.decode(e.slice(l,l+i));l=l+i;const c=n.decode(e.slice(l,l+s));l=l+s;const f=n.decode(e.slice(l,l+a));l=l+a;const m=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{join_ref:o,ref:null,topic:c,event:f,payload:m}}_decodeReply(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let o=this.HEADER_LENGTH+this.META_LENGTH;const c=n.decode(e.slice(o,o+i));o=o+i;const f=n.decode(e.slice(o,o+s));o=o+s;const m=n.decode(e.slice(o,o+a));o=o+a;const v=n.decode(e.slice(o,o+l));o=o+l;const p=JSON.parse(n.decode(e.slice(o,e.byteLength))),_={status:v,response:p};return{join_ref:c,ref:f,topic:m,event:ei.reply,payload:_}}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(e.slice(a,a+i));a=a+i;const o=n.decode(e.slice(a,a+s));a=a+s;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{join_ref:null,ref:null,topic:l,event:o,payload:c}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let o=this.HEADER_LENGTH+4;const c=n.decode(e.slice(o,o+i));o=o+i;const f=n.decode(e.slice(o,o+s));o=o+s;const m=n.decode(e.slice(o,o+a));o=o+a;const v=e.slice(o,e.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,_={type:this.BROADCAST,event:f,payload:p};return a>0&&(_.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:_}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class hw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Vt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Vt||(Vt={}));const Zg=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=tN(a,t,e,i),s),{}):{}},tN=(t,e,r,n)=>{const i=e.find(l=>l.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?fw(s,a):_m(a)},fw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return sN(e,r)}switch(t){case Vt.bool:return rN(e);case Vt.float4:case Vt.float8:case Vt.int2:case Vt.int4:case Vt.int8:case Vt.numeric:case Vt.oid:return nN(e);case Vt.json:case Vt.jsonb:return iN(e);case Vt.timestamp:return aN(e);case Vt.abstime:case Vt.date:case Vt.daterange:case Vt.int4range:case Vt.int8range:case Vt.money:case Vt.reltime:case Vt.text:case Vt.time:case Vt.timestamptz:case Vt.timetz:case Vt.tsrange:case Vt.tstzrange:return _m(e);default:return _m(e)}},_m=t=>t,rN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},nN=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},iN=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},sN=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>fw(e,l))}return t},aN=t=>typeof t=="string"?t.replace(" ","T"):t,pw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Kf{constructor(e,r,n={},i=wm){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var e2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(e2||(e2={}));class yu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yu.syncState(this.state,i,s,a),this.pendingDiffs.forEach(o=>{this.state=yu.syncDiff(this.state,o,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=yu.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),l={},o={};return this.map(s,(c,f)=>{a[c]||(o[c]=f)}),this.map(a,(c,f)=>{const m=s[c];if(m){const v=f.map(j=>j.presence_ref),p=m.map(j=>j.presence_ref),_=f.filter(j=>p.indexOf(j.presence_ref)<0),S=m.filter(j=>v.indexOf(j.presence_ref)<0);_.length>0&&(l[c]=_),S.length>0&&(o[c]=S)}else l[c]=f}),this.syncDiff(s,{joins:l,leaves:o},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,o)=>{var c;const f=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(o),f.length>0){const m=e[l].map(p=>p.presence_ref),v=f.filter(p=>m.indexOf(p.presence_ref)<0);e[l].unshift(...v)}n(l,f,o)}),this.map(a,(l,o)=>{let c=e[l];if(!c)return;const f=o.map(m=>m.presence_ref);c=c.filter(m=>f.indexOf(m.presence_ref)<0),e[l]=c,i(l,c,o),c.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var t2;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(t2||(t2={}));var wu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(wu||(wu={}));var is;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(is||(is={}));class q0{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Sr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Kf(this,ei.join,this.params,this.timeout),this.rejoinTimer=new hw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Sr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Sr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Sr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ei.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new yu(this),this.broadcastEndpointURL=pw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Sr.closed){const{config:{broadcast:a,presence:l,private:o}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[wu.PRESENCE]&&this.bindings[wu.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,m={},v={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:c,private:o};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(is.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(is.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var _;if(this.socket.setAuth(),p===void 0){e==null||e(is.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,j=(_=S==null?void 0:S.length)!==null&&_!==void 0?_:0,w=[];for(let x=0;x<j;x++){const b=S[x],{filter:{event:P,schema:D,table:Y,filter:$}}=b,M=p&&p[x];if(M&&M.event===P&&M.schema===D&&M.table===Y&&M.filter===$)w.push(Object.assign(Object.assign({},b),{id:M.id}));else{this.unsubscribe(),this.state=Sr.errored,e==null||e(is.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(is.SUBSCRIBED);return}}).receive("error",p=>{this.state=Sr.errored,e==null||e(is.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(is.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Sr.joined&&e===wu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const c=await l.json();o=c.error||c.message||o}catch{}return Promise.reject(new Error(o))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,o;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((o=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Sr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ei.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Kf(this,ei.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Sr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Kf(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Z4){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:l,error:o,leave:c,join:f}=ei;if(n&&[l,o,c,f].indexOf(a)>=0&&n!==this._joinRef())return;let v=this._onMessage(a,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var _,S,j;return((_=p.filter)===null||_===void 0?void 0:_.event)==="*"||((j=(S=p.filter)===null||S===void 0?void 0:S.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===a}).map(p=>p.callback(v,n)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var _,S,j,w,x,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const P=p.id,D=(_=p.filter)===null||_===void 0?void 0:_.event;return P&&((S=r.ids)===null||S===void 0?void 0:S.includes(P))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const P=(x=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return P==="*"||P===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:S,table:j,commit_timestamp:w,type:x,errors:b}=_;v=Object.assign(Object.assign({},{schema:S,table:j,commit_timestamp:w,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(_))}p.callback(v,n)})}_isClosed(){return this.state===Sr.closed}_isJoined(){return this.state===Sr.joined}_isJoining(){return this.state===Sr.joining}_isLeaving(){return this.state===Sr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&q0.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ei.close,{},e)}_onError(e){this._on(ei.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Sr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Zg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Zg(e.columns,e.old_record)),r}}const Jf=()=>{},ld={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oN=[1e3,2e3,5e3,1e4],lN=1e4,uN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cN{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wm,this.transport=null,this.heartbeatIntervalMs=ld.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jf,this.ref=0,this.reconnectTimer=null,this.vsn=Xg,this.logger=Jf,this.conn=null,this.sendBuffer=[],this.serializer=new eN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${bm.websocket}`,this.httpEndpoint=pw(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=K4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Aa.connecting:return ka.Connecting;case Aa.open:return ka.Open;case Aa.closing:return ka.Closing;default:return ka.Closed}}isConnected(){return this.connectionState()===ka.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new q0(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(X4,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ld.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,l=a?`(${a})`:"",o=s.status||"";this.log("receive",`${o} ${n} ${i} ${l}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Aa.open||this.conn.readyState===Aa.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ei.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([uN],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Y4};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ei.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new hw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ld.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,l,o,c,f,m,v,p;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:wm,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:ld.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Jf,this.vsn=(o=e==null?void 0:e.vsn)!==null&&o!==void 0?o:Xg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:_=>oN[_-1]||lN,this.vsn){case dw:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:(_,S)=>S(JSON.stringify(_)),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:(_,S)=>S(JSON.parse(_));break;case Q4:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class $0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Zt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class dN extends $0{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xm extends $0{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const V0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),hN=()=>Response,Nm=t=>{if(Array.isArray(t))return t.map(r=>Nm(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Nm(n)}),e},fN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Yf=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},pN=(t,e,r)=>Ge(void 0,void 0,void 0,function*(){const n=yield hN();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new dN(Yf(i),s,a))}).catch(i=>{e(new xm(Yf(i),i))}):e(new xm(Yf(t),t))}),mN=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(fN(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Yu(t,e,r,n,i,s){return Ge(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,mN(e,n,i,s)).then(o=>{if(!o.ok)throw o;return n!=null&&n.noResolveJson?o:o.json()}).then(o=>a(o)).catch(o=>pN(o,l,n))})})}function Uu(t,e,r,n){return Ge(this,void 0,void 0,function*(){return Yu(t,"GET",e,r,n)})}function xi(t,e,r,n,i){return Ge(this,void 0,void 0,function*(){return Yu(t,"POST",e,n,i,r)})}function Sm(t,e,r,n,i){return Ge(this,void 0,void 0,function*(){return Yu(t,"PUT",e,n,i,r)})}function gN(t,e,r,n){return Ge(this,void 0,void 0,function*(){return Yu(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function H0(t,e,r,n,i){return Ge(this,void 0,void 0,function*(){return Yu(t,"DELETE",e,n,i,r)})}class vN{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Ge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Zt(e))return{data:null,error:e};throw e}})}}var mw;class yN{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[mw]="BlobDownloadBuilder",this.promise=null}asStream(){return new vN(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ge(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Zt(e))return{data:null,error:e};throw e}})}}mw=Symbol.toStringTag;const wN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},r2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bN{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=V0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return Ge(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},r2),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const o=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),o&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(o))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const c=this._removeEmptyFolders(r),f=this._getFinalPath(c),m=yield(e=="PUT"?Sm:xi)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:m.Id,fullPath:m.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Ge(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let o;const c=Object.assign({upsert:r2.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",c.cacheControl)):(o=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType);const m=yield Sm(this.fetch,l.toString(),o,{headers:f});return{data:{path:s,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,r){return Ge(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield xi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new $0("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ge(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zt(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Ge(this,void 0,void 0,function*(){try{return{data:{path:(yield xi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Ge(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield xi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Ge(this,void 0,void 0,function*(){try{const i=yield xi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zt(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"",l=this._getFinalPath(e),o=()=>Uu(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new yN(o,this.shouldThrowOnError)}info(e){return Ge(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Uu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Nm(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}})}exists(e){return Ge(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield gN(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zt(n)&&n instanceof xm){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});o!==""&&i.push(o);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield H0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ge(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},wN),r),{prefix:e||""});return{data:yield xi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zt(i))return{data:null,error:i};throw i}})}listV2(e,r){return Ge(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield xi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const gw="2.81.1",vw={"X-Client-Info":`storage-js/${gw}`};class _N{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vw),r),this.fetch=V0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ge(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Uu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}getBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield Uu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}createBucket(e){return Ge(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield xi(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zt(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Ge(this,void 0,void 0,function*(){try{return{data:yield Sm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield H0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class xN{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vw),r),this.fetch=V0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}listBuckets(e){return Ge(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Uu(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield H0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}}const W0={"X-Client-Info":`storage-js/${gw}`,"Content-Type":"application/json"};class yw extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Tn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Qf extends yw{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class NN extends yw{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var n2;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(n2||(n2={}));const G0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),SN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},i2=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jN=(t,e,r)=>Ge(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new Qf(i2(a),i,l))}).catch(()=>{const a=i+"",l=s.statusText||`HTTP ${i} error`;e(new Qf(l,i,a))});else{const a=i+"",l=s.statusText||`HTTP ${i} error`;e(new Qf(l,i,a))}}else e(new NN(i2(t),t))}),AN=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(SN(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function kN(t,e,r,n,i,s){return Ge(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,AN(e,n,i,s)).then(o=>{if(!o.ok)throw o;if(n!=null&&n.noResolveJson)return o;const c=o.headers.get("content-type");return!c||!c.includes("application/json")?{}:o.json()}).then(o=>a(o)).catch(o=>jN(o,l,n))})})}function Fn(t,e,r,n,i){return Ge(this,void 0,void 0,function*(){return kN(t,"POST",e,n,i,r)})}class CN{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},W0),r),this.fetch=G0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ge(this,void 0,void 0,function*(){try{return{data:(yield Fn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Ge(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}})}listIndexes(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Ge(this,void 0,void 0,function*(){try{return{data:(yield Fn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}})}}class EN{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},W0),r),this.fetch=G0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ge(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Fn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}getVectors(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}listVectors(e){return Ge(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Fn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}queryVectors(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Ge(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Fn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}}class LN{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},W0),r),this.fetch=G0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:(yield Fn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}getBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}listBuckets(){return Ge(this,arguments,void 0,function*(e={}){try{return{data:yield Fn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ge(this,void 0,void 0,function*(){try{return{data:(yield Fn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}}class PN extends LN{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new ON(this.url,this.headers,e,this.fetch)}}class ON extends CN{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ge(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ge(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ge(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ge(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new IN(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class IN extends EN{constructor(e,r,n,i,s){super(e,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ge(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ge(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ge(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ge(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ge(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class RN extends _N{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new bN(this.url,this.headers,e,this.fetch)}get vectors(){return new PN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new xN(this.url+"/iceberg",this.headers,this.fetch)}}const TN="2.81.1";let ou="";typeof Deno<"u"?ou="deno":typeof document<"u"?ou="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ou="react-native":ou="node";const FN={"X-Client-Info":`supabase-js-${ou}/${TN}`},DN={headers:FN},MN={schema:"public"},BN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},UN={},zN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qN=()=>Headers,$N=(t,e,r)=>{const n=zN(r),i=qN();return async(s,a)=>{var l;const o=(l=await e())!==null&&l!==void 0?l:t;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${o}`),n(s,Object.assign(Object.assign({},a),{headers:c}))}};function VN(t){return t.endsWith("/")?t:t+"/"}function HN(t,e){var r,n;const{db:i,auth:s,realtime:a,global:l}=t,{db:o,auth:c,realtime:f,global:m}=e,v={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function WN(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(VN(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ww="2.81.1",So=30*1e3,jm=3,Xf=jm*So,GN="http://localhost:9999",KN="supabase.auth.token",JN={"X-Client-Info":`gotrue-js/${ww}`},Am="X-Supabase-Api-Version",bw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,QN=10*60*1e3;class zu extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Je(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class XN extends zu{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ZN(t){return Je(t)&&t.name==="AuthApiError"}class Ca extends zu{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ua extends zu{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class yi extends ua{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eS(t){return Je(t)&&t.name==="AuthSessionMissingError"}class vo extends ua{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ud extends ua{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class cd extends ua{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tS(t){return Je(t)&&t.name==="AuthImplicitGrantRedirectError"}class s2 extends ua{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class km extends ua{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Zf(t){return Je(t)&&t.name==="AuthRetryableFetchError"}class a2 extends ua{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Cm extends ua{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ih="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),o2=` 	
\r=`.split(""),rS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<o2.length;e+=1)t[o2[e].charCodeAt(0)]=-2;for(let e=0;e<ih.length;e+=1)t[ih[e].charCodeAt(0)]=e;return t})();function l2(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ih[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ih[n]),e.queuedBits-=6}}function _w(t,e,r){const n=rS[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function u2(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{sS(a,n,r)};for(let a=0;a<t.length;a+=1)_w(t.charCodeAt(a),i,s);return e.join("")}function nS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function iS(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}nS(n,e)}}function sS(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ko(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)_w(t.charCodeAt(i),r,n);return new Uint8Array(e)}function aS(t){const e=[];return iS(t,r=>e.push(r)),new Uint8Array(e)}function Ia(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>l2(i,r,n)),l2(null,r,n),e.join("")}function oS(t){return Math.round(Date.now()/1e3)+t}function lS(){return Symbol("auth-callback")}const Dr=()=>typeof window<"u"&&typeof document<"u",ba={tested:!1,writable:!1},xw=()=>{if(!Dr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ba.tested)return ba.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ba.tested=!0,ba.writable=!0}catch{ba.tested=!0,ba.writable=!1}return ba.writable};function uS(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Nw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),cS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",jo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},_a=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Is=async(t,e)=>{await t.removeItem(e)};class Lh{constructor(){this.promise=new Lh.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Lh.promiseConstructor=Promise;function ep(t){const e=t.split(".");if(e.length!==3)throw new Cm("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!YN.test(e[n]))throw new Cm("JWT not in base64url format");return{header:JSON.parse(u2(e[0])),payload:JSON.parse(u2(e[1])),signature:Ko(e[2]),raw:{header:e[0],payload:e[1]}}}async function dS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function hS(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function fS(t){return("0"+t.toString(16)).substr(-2)}function pS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,fS).join("")}async function mS(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function gS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await mS(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yo(t,e,r=!1){const n=pS();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await jo(t,`${e}-code-verifier`,i);const s=await gS(n);return[s,n===s?"plain":"s256"]}const vS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yS(t){const e=t.headers.get(Am);if(!e||!e.match(vS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function wS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function bS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _S=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wo(t){if(!_S.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xS(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function c2(t){return JSON.parse(JSON.stringify(t))}const Sa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),NS=[502,503,504];async function d2(t){var e;if(!cS(t))throw new km(Sa(t),0);if(NS.includes(t.status))throw new km(Sa(t),t.status);let r;try{r=await t.json()}catch(s){throw new Ca(Sa(s),s)}let n;const i=yS(t);if(i&&i.getTime()>=bw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new a2(Sa(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new yi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new a2(Sa(r),t.status,r.weak_password.reasons);throw new XN(Sa(r),t.status||500,n)}const SS=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function it(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Am]||(s[Am]=bw["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",o=await jS(t,e,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(o):{data:Object.assign({},o),error:null}}async function jS(t,e,r,n,i,s){const a=SS(e,n,i,s);let l;try{l=await t(r,Object.assign({},a))}catch(o){throw console.error(o),new km(Sa(o),0)}if(l.ok||await d2(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(o){await d2(o)}}function wi(t){var e;let r=null;CS(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=oS(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function h2(t){const e=wi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Us(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function AS(t){return{data:t,error:null}}function kS(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=pl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},o=Object.assign({},a);return{data:{properties:l,user:o},error:null}}function f2(t){return t}function CS(t){return t.access_token&&t.refresh_token&&t.expires_in}const rp=["global","local","others"];class ES{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Nw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=rp[0]){if(rp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rp.join(", ")}`);try{return await it(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await it(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Us})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=pl(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:kS,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Je(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await it(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Us})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,l,o;try{const c={nextPage:null,lastPage:0,total:0},f=await it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:f2});if(f.error)throw f.error;const m=await f.json(),v=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return p.length>0&&(p.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(_.split(";")[1].split("=")[1]);c[`${j}Page`]=S}),c.total=parseInt(v)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(Je(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){wo(e);try{return await it(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Us})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){wo(e);try{return await it(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Us})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){wo(e);try{return await it(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Us})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){wo(e.userId);try{const{data:r,error:n}=await it(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _deleteFactor(e){wo(e.userId),wo(e.id);try{return{data:await it(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,l,o;try{const c={nextPage:null,lastPage:0,total:0},f=await it(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:f2});if(f.error)throw f.error;const m=await f.json(),v=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return p.length>0&&(p.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(_.split(";")[1].split("=")[1]);c[`${j}Page`]=S}),c.total=parseInt(v)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(Je(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await it(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await it(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await it(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Je(r))return{data:null,error:r};throw r}}}function p2(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const bo={debug:!!(globalThis&&xw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class LS extends Sw{}async function PS(t,e,r){bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),bo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new LS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function OS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function IS(t){return parseInt(t,16)}function RS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function TS(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:l,requestId:o,resources:c,scheme:f,uri:m,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=jw(t.address),_=f?`${f}://${n}`:n,S=t.statement?`${t.statement}
`:"",j=`${_} wants you to sign in with your Ethereum account:
${p}

${S}`;let w=`URI: ${m}
Version: ${v}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),o&&(w+=`
Request ID: ${o}`),c){let x=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}w+=x}return`${j}
${w}`}class br extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class sh extends br{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function FS({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new br({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new br({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new br({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new br({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new br({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new br({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new br({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new br({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Aw(a)){if(s.rp.id!==a)return new br({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new br({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new br({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new br({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new br({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function DS({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new br({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new br({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Aw(n)){if(r.rpId!==n)return new br({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new br({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new br({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new br({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class MS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const BS=new MS;function US(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=pl(t,["challenge","user","excludeCredentials"]),s=Ko(e).buffer,a=Object.assign(Object.assign({},r),{id:Ko(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const c=n[o];l.excludeCredentials[o]=Object.assign(Object.assign({},c),{id:Ko(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function zS(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=pl(t,["challenge","allowCredentials"]),i=Ko(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Ko(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function qS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ia(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ia(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $S(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ia(new Uint8Array(i.authenticatorData)),clientDataJSON:Ia(new Uint8Array(i.clientDataJSON)),signature:Ia(new Uint8Array(i.signature)),userHandle:i.userHandle?Ia(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Aw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function m2(){var t,e;return!!(Dr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function VS(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new sh("Browser returned unexpected credential type",e)}:{data:null,error:new sh("Empty credential response",e)}}catch(e){return{data:null,error:FS({error:e,options:t})}}}async function HS(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new sh("Browser returned unexpected credential type",e)}:{data:null,error:new sh("Empty credential response",e)}}catch(e){return{data:null,error:DS({error:e,options:t})}}}const WS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},GS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ah(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const l=n[s];e(l)?n[s]=ah(l,a):n[s]=ah(a)}else n[s]=a}return n}function KS(t,e){return ah(WS,t,e||{})}function JS(t,e){return ah(GS,t,e||{})}class YS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:l};const o=i??BS.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=KS(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:m}=await VS({publicKey:c,signal:o});return f?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}case"request":{const c=JS(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:m}=await HS(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:o}));return f?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}}}catch(a){return Je(a)?{data:null,error:a}:{data:null,error:new Ca("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new zu("rpId is required for WebAuthn authentication")};try{if(!m2())return{data:null,error:new Ca("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:l};const{webauthn:o}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:o.type,rpId:r,rpOrigins:n,credential_response:o.credential_response}})}catch(a){return Je(a)?{data:null,error:a}:{data:null,error:new Ca("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new zu("rpId is required for WebAuthn registration")};try{if(!m2())return{data:null,error:new Ca("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(f=>{var m;return(m=f.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:o,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return o?this._verify({factorId:a.id,challengeId:o.challengeId,webauthn:{rpId:r,rpOrigins:n,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:c}}catch(a){return Je(a)?{data:null,error:a}:{data:null,error:new Ca("Unexpected error in register",a)}}}}OS();const QS={url:GN,storageKey:KN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:JN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function g2(t,e,r){return await r()}const _o={};class qu{get jwks(){var e,r;return(r=(e=_o[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){_o[this.storageKey]=Object.assign(Object.assign({},_o[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=_o[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_o[this.storageKey]=Object.assign(Object.assign({},_o[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},QS),e);if(this.storageKey=s.storageKey,this.instanceID=(r=qu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,qu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Dr()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ES({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Nw(s.fetch),this.lock=s.lock||g2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Dr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=PS:this.lock=g2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new YS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:xw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=p2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=p2(this.memoryStorage)),Dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ww}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Dr()&&(r=uS(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Dr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),tS(s)){const o=(e=s.details)===null||e===void 0?void 0:e.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Je(r)?this._returnResult({error:r}):this._returnResult({error:new Ca("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:wi}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const o=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:c,session:o},error:null})}catch(s){if(Je(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:f,password:m,options:v}=e;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await yo(this.storage,this.storageKey)),s=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:f,password:m,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:p,code_challenge_method:_},xform:wi})}else if("phone"in e){const{phone:f,password:m,options:v}=e;s=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:wi})}else throw new ud("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const o=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:c,session:o},error:null})}catch(s){if(Je(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:l}=e;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:h2})}else if("phone"in e){const{phone:s,password:a,options:l}=e;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:h2})}else throw new ud("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new vo;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,l,o,c,f,m,v;let p,_;if("message"in e)p=e.message,_=e.signature;else{const{chain:S,wallet:j,statement:w,options:x}=e;let b;if(Dr())if(typeof j=="object")b=j;else{const te=window;if("ethereum"in te&&typeof te.ethereum=="object"&&"request"in te.ethereum&&typeof te.ethereum.request=="function")b=te.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=j}const P=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),D=await b.request({method:"eth_requestAccounts"}).then(te=>te).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=jw(D[0]);let $=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!$){const te=await b.request({method:"eth_chainId"});$=IS(te)}const M={domain:P.host,address:Y,statement:w,uri:P.href,version:"1",chainId:$,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(f=x==null?void 0:x.signInWithEthereum)===null||f===void 0?void 0:f.resources};p=TS(M),_=await b.request({method:"personal_sign",params:[RS(p),Y]})}try{const{data:S,error:j}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:_},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:wi});if(j)throw j;if(!S||!S.session||!S.user){const w=new vo;return this._returnResult({data:{user:null,session:null},error:w})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:j})}catch(S){if(Je(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var r,n,i,s,a,l,o,c,f,m,v,p;let _,S;if("message"in e)_=e.message,S=e.signature;else{const{chain:j,wallet:w,statement:x,options:b}=e;let P;if(Dr())if(typeof w=="object")P=w;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))P=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=w}const D=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const Y=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),x?{statement:x}:null));let $;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")$=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)$=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)_=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),S=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${D.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((m=(f=b==null?void 0:b.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...b.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const Y=await P.signMessage(new TextEncoder().encode(_),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=Y}}try{const{data:j,error:w}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Ia(S)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:wi});if(w)throw w;if(!j||!j.session||!j.user){const x=new vo;return this._returnResult({data:{user:null,session:null},error:x})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:w})}catch(j){if(Je(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(e){const r=await _a(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await it(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:wi});if(await Is(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const l=new vo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Je(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,l=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:wi}),{data:o,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o||!o.session||!o.user){const f=new vo;return this._returnResult({data:{user:null,session:null},error:f})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:c})}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:l,options:o}=e;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await yo(this.storage,this.storageKey));const{error:m}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(n=o==null?void 0:o.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:l,options:o}=e,{data:c,error:f}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(a=o==null?void 0:o.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f})}throw new ud("You must provide either an email or phone number.")}catch(l){if(Je(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:wi});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,c=a.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:c,session:o},error:null})}catch(i){if(Je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,a;try{let l=null,o=null;this.flowType==="pkce"&&([l,o]=await yo(this.storage,this.storageKey));const c=await it(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:o}),headers:this.headers,xform:AS});return!((s=c.data)===null||s===void 0)&&s.url&&Dr()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(l){if(Je(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new yi;const{error:i}=await it(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Je(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await it(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:l}=await it(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new ud("You must provide either an email or phone number and a type")}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await _a(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Xf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await _a(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=tp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=xS(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Us}):await this._useSession(async r=>{var n,i,s;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yi}:await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Us})})}catch(r){if(Je(r))return eS(r)&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new yi;const a=i.session;let l=null,o=null;this.flowType==="pkce"&&e.email!=null&&([l,o]=await yo(this.storage,this.storageKey));const{data:c,error:f}=await it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:o}),jwt:a.access_token,xform:Us});if(f)throw f;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(Je(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new yi;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=ep(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:l,error:o}=await this._callRefreshToken(e.refresh_token);if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:o}=await this._getUser(e.access_token);if(o)throw o;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Je(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:l}=r;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new yi;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Dr())throw new cd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new cd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new s2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new s2("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:o,token_type:c}=e;if(!s||!l||!a||!c)throw new cd("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(l);let v=f+m;o&&(v=parseInt(o));const p=v-f;p*1e3<=So&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const _=v-m;f-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,f):f-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,f);const{data:S,error:j}=await this._getUser(s);if(j)throw j;const w={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:v,refresh_token:a,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(n){if(Je(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await _a(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(ZN(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=lS(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await yo(this.storage,this.storageKey,!0));try{return await it(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Je(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,l,o,c,f;const{data:m,error:v}=s;if(v)throw v;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await it(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(c=m.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Dr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Je(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:l,token:o,access_token:c,nonce:f}=e,m=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:o,access_token:c,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:wi}),{data:v,error:p}=m;return p?this._returnResult({data:{user:null,session:null},error:p}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new vo}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:p}))}catch(i){if(Je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await it(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await hS(async i=>(i>0&&await dS(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:wi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Zf(s)&&Date.now()+a-n<So})}catch(n){if(this._debug(r,"error",n),Je(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Dr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await _a(this.storage,this.storageKey);if(i&&this.userStorage){let a=await _a(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await jo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:tp()}else if(i&&!i.user&&!i.user){const a=await _a(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Is(this.storage,this.storageKey+"-user"),await jo(this.storage,this.storageKey,i)):i.user=tp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Xf;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Xf}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Zf(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new yi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Lh;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new yi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Je(s)){const a={data:null,error:s};return Zf(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(o){s.push(o)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await jo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=c2(i);await jo(this.storage,this.storageKey,s)}else{const i=c2(r);await jo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Is(this.storage,this.storageKey),await Is(this.storage,this.storageKey+"-code-verifier"),await Is(this.storage,this.storageKey+"-user"),this.userStorage&&await Is(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Dr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),So);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/So);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${So}ms, refresh threshold is ${jm} ticks`),i<=jm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Sw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await yo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await it(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:o,error:c}=await it(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&o.type==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?qS(e.webauthn.credential_response):$S(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:o}=await it(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:o}))})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await it(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:US(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:zS(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=ep(n.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await it(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new yi})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new yi});const a=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Dr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new yi});const a=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Dr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+QN>i)return n;const{data:s,error:a}=await it(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:_}=await this.getSession();if(_||!p.session)return this._returnResult({data:null,error:_});n=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:o}}=ep(n);r!=null&&r.allowExpired||wS(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const f=bS(i.alg),m=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,a,aS(`${l}.${o}`)))throw new Cm("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}}qu.nextInstanceID={};const XS=qu;class ZS extends XS{constructor(e){super(e)}}class ej{constructor(e,r,n){var i,s,a;this.supabaseUrl=e,this.supabaseKey=r;const l=WN(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:MN,realtime:UN,auth:Object.assign(Object.assign({},BN),{storageKey:o}),global:DN},f=HN(n??{},c);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=$N(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new G4(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new RN(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new V4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:l,lock:o,debug:c,throwOnError:f},m,v){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZS({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),m),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:l,lock:o,debug:c,throwOnError:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new cN(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tj=(t,e,r)=>new ej(t,e,r);function rj(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}rj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nj="https://wfxdvgwlfpqkadkvwbzg.supabase.co",ij="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndmeGR2Z3dsZnBxa2Fka3Z3YnpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NDgxNTIsImV4cCI6MjA3ODQyNDE1Mn0.svO7O2XMoCOHDCt6zxchQOzQD05X1Y3onxqcXplA5gk",wt=tj(nj,ij),bt={applications:"applications",academicYears:"academic_year",groups:"groups",courses:"courses",subCategories:"subject_category",batches:"batches",students:"students",exams:"exams",payments:"payments",hallTickets:"hall_tickets",results:"results",feeDefinitions:"fee_definitions",feeCategories:"fee_categories"},_t=async(t,e)=>{const{data:r,error:n}=await t;if(n)throw console.error(e??"Supabase query failed",n),new Error(e||n.message);return r},sj=async(t,e)=>{const{data:r,error:n}=await t;if(n&&n.code!=="PGRST116")throw console.error(e,n),new Error(e);return r??null},np=(t={})=>({id:t.id,name:t.academic_year,active:t.status===void 0?!0:!!t.status}),v2=({name:t,active:e})=>({academic_year:t,status:e?1:0}),ip=(t={})=>({id:t.group_id??t.id,code:t.group_code,name:t.group_name,years:t.duration_years??0,semesters:t.number_semesters??0}),y2=({code:t,name:e,years:r,semesters:n})=>({group_code:t,group_name:e,duration_years:r??null,number_semesters:n??null}),sp=(t={})=>{const e=t.course_code||t.code,r=t.course_name||t.name,n=t.group_name||t.group_code||t.groupCode||"",i=Number(t.no_of_semesters??t.semesters??0)||0,s=t.duration_years??(i?Math.ceil(i/2):null);return{id:t.course_id??t.id,code:e,name:r,courseCode:e,courseName:r,group_code:n,groupCode:n,semesters:i,duration_years:s}},w2=({code:t,name:e,group_code:r,groupCode:n,semesters:i,duration_years:s})=>({course_code:t,course_name:e,group_name:r||n||null,no_of_semesters:i??null,duration_years:s??(i?Math.ceil(i/2):null)}),aj=t=>{if(!t&&t!==0)return[];if(Array.isArray(t))return t.filter(Boolean);if(typeof t=="string"){const e=t.trim();if(!e)return[];try{const r=JSON.parse(e);if(Array.isArray(r))return r.filter(Boolean)}catch{}return e.split(/[\r\n,]+/).map(r=>r.trim()).filter(Boolean)}try{const e=JSON.parse(t);if(Array.isArray(e))return e.filter(Boolean)}catch{}return[]},ap=(t={})=>({id:t.category_id??t.id,name:t.category_name,subjects:aj(t.subjects_name)}),b2=({name:t,subjects:e})=>({category_name:t,category_count:Array.isArray(e)?e.length:0,subjects_name:JSON.stringify(Array.isArray(e)?e:[])}),oj=(t={})=>({id:t.id,student_id:t.student_id,admission_no:t.admission_no,ht_no:t.ht_no,academic_year:t.academic_year,group:t.group_code||t.group,course_id:t.course_code||t.course_id,full_name:t.full_name,gender:t.gender,dob:t.dob,father_name:t.father_name,mother_name:t.mother_name,nationality:t.nationality,state:t.state,aadhar_no:t.aadhar_number,postal_code:t.postal_code,address:t.address,mobile:t.mobile,email:t.email,religion:t.religion,caste:t.caste,sub_caste:t.sub_caste,photo_url:t.photo_url,cert_url:t.cert_url,status:t.status||"PENDING",created_at:t.created_at}),lj=(t={})=>({student_id:t.student_id||null,admission_no:t.admission_no||null,ht_no:t.ht_no||null,academic_year:t.academic_year||null,group_code:t.group||t.group_code||null,course_code:t.course_id||t.course_code||null,full_name:t.full_name||null,gender:t.gender||null,dob:t.dob||null,father_name:t.father_name||null,mother_name:t.mother_name||null,nationality:t.nationality||null,state:t.state||null,aadhar_number:t.aadhar_no||null,postal_code:t.postal_code||null,address:t.address||null,mobile:t.mobile||null,email:t.email||null,religion:t.religion||null,caste:t.caste||null,sub_caste:t.sub_caste||null,photo_url:t.photo_url||null,cert_url:t.cert_url||null,status:t.status||"PENDING"}),uj=(t={})=>({id:t.id??t.student_id,student_id:t.student_id,hall_ticket_no:t.hall_ticket_no||t.hallticket_no,hallticket_no:t.hall_ticket_no||t.hallticket_no,full_name:t.full_name,academic_year:t.academic_year,group:t.group_name||t.group,course_id:t.course_name||t.course_id,course_name:t.course_name,gender:t.gender,dob:t.date_of_birth||t.dob,mobile:t.phone_number||t.mobile,email:t.email,address:t.address,father_name:t.father_name,mother_name:t.mother_name,nationality:t.nationality,state:t.state,aadhar_no:t.aadhar_number||t.aadhar_no,postal_code:t.pincode||t.postal_code,religion:t.religion,caste:t.caste,sub_caste:t.sub_caste,photo_url:t.photo_url,cert_url:t.cert_url,status:t.status||"ACTIVE",created_at:t.created_at}),cj=(t={})=>({student_id:t.student_id,hall_ticket_no:t.hall_ticket_no||t.hallticket_no||null,academic_year:t.academic_year||null,group_name:t.group||t.group_name||null,course_name:t.course_id||t.course_name||null,full_name:t.full_name||null,gender:t.gender||null,date_of_birth:t.dob||t.date_of_birth||null,father_name:t.father_name||null,mother_name:t.mother_name||null,nationality:t.nationality||null,state:t.state||null,aadhar_number:t.aadhar_no||t.aadhar_number||null,address:t.address||null,pincode:t.postal_code||t.pincode||null,phone_number:t.mobile||t.phone_number||null,religion:t.religion||null,caste:t.caste||null,sub_caste:t.sub_caste||null,photo_url:t.photo_url||null,cert_url:t.cert_url||null,status:t.status||"ACTIVE"}),_2=(t={})=>({id:t.id,name:t.name,created_at:t.created_at}),dj=({name:t})=>({name:t}),hj=(t={})=>({id:t.id,title:t.title,date:t.date||t.exam_date,time:t.time||t.exam_time,venue:t.venue,course_id:t.course_id,created_at:t.created_at}),fj=({title:t,date:e,time:r,venue:n,course_id:i})=>({title:t,exam_date:e,exam_time:r,venue:n,course_id:i||null}),pj=(t={})=>({id:t.id??t.fee_id,academic_year:t.academic_year,group:t.group_code||t.group,group_code:t.group_code,course_code:t.course_code,semester:t.semester_number??t.semester,payment_type:t.payment_type,amount:t.amount}),mj=(t={})=>({academic_year:t.academic_year,group_code:t.group||t.group_code,course_code:t.course_code,semester_number:t.semester,payment_type:t.payment_type,amount:t.amount}),gj=(t={})=>({id:t.id??t.result_id,student_id:t.student_id,exam_id:t.exam_id,total:t.total,grade:t.grade??t.result_status,created_at:t.created_at}),vj=(t={})=>({student_id:t.student_id,exam_id:t.exam_id,total:t.total,grade:t.grade}),yj=(t={})=>({id:t.id,name:t.name,fees:t.fees||[]}),wj=(t={})=>({id:t.id,name:t.name,fees:t.fees||[]}),bj=[{email:"admin@vijayam.edu",role:"ADMIN"},{email:"principal@vijayam.edu",role:"PRINCIPAL"}],Ce={submitApplication:async t=>(await _t(wt.from(bt.applications).insert(lj(t)),"Unable to submit application"),{ok:!0}),login:async t=>{const e=bj.find(r=>r.email.toLowerCase()===String(t).toLowerCase());if(!e)throw new Error("Access denied");return{...e}},listApplications:async()=>(await _t(wt.from(bt.applications).select("*").order("created_at",{ascending:!1}),"Unable to load applications")).map(oj),approveApplication:async(t,e)=>{const r=cj(e);await _t(wt.from(bt.students).insert(r),"Unable to create student record"),await _t(wt.from(bt.applications).update({status:"APPROVED"}).eq("id",t),"Unable to update application status")},deleteApplication:async t=>{await _t(wt.from(bt.applications).delete().eq("id",t),"Unable to delete application")},listAcademicYears:async()=>(await _t(wt.from(bt.academicYears).select("id, academic_year, status").order("academic_year"),"Unable to fetch academic years")).map(np),addAcademicYear:async t=>{const e=await _t(wt.from(bt.academicYears).insert(v2(t)).select("id, academic_year, status").single(),"Unable to add academic year");return np(e)},updateAcademicYear:async(t,e)=>{const r=await _t(wt.from(bt.academicYears).update(v2(e)).eq("id",t).select("id, academic_year, status").single(),"Unable to update academic year");return np(r)},deleteAcademicYear:async t=>{await _t(wt.from(bt.academicYears).delete().eq("id",t),"Unable to delete academic year")},listGroups:async()=>(await _t(wt.from(bt.groups).select("group_id, group_code, group_name, duration_years, number_semesters").order("group_code"),"Unable to fetch groups")).map(ip),addGroup:async t=>{const e=await _t(wt.from(bt.groups).insert(y2(t)).select("group_id, group_code, group_name, duration_years, number_semesters").single(),"Unable to add group");return ip(e)},updateGroup:async(t,e)=>{const r=await _t(wt.from(bt.groups).update(y2(e)).eq("group_id",t).select("group_id, group_code, group_name, duration_years, number_semesters").single(),"Unable to update group");return ip(r)},deleteGroup:async t=>{await _t(wt.from(bt.groups).delete().eq("group_id",t),"Unable to delete group")},listCourses:async()=>(await _t(wt.from(bt.courses).select("course_id, course_code, course_name, group_name, no_of_semesters, duration_years").order("course_code"),"Unable to fetch courses")).map(sp),addCourse:async t=>{const e=await _t(wt.from(bt.courses).insert(w2(t)).select("course_id, course_code, course_name, group_name, no_of_semesters, duration_years").single(),"Unable to add course");return sp(e)},updateCourse:async(t,e)=>{const r=await _t(wt.from(bt.courses).update(w2(e)).eq("course_id",t).select("course_id, course_code, course_name, group_name, no_of_semesters, duration_years").single(),"Unable to update course");return sp(r)},deleteCourse:async t=>{await _t(wt.from(bt.courses).delete().eq("course_id",t),"Unable to delete course")},listSubCategories:async()=>(await _t(wt.from(bt.subCategories).select("category_id, category_name, subjects_name").order("category_name"),"Unable to fetch sub-categories")).map(ap),addSubCategory:async t=>{const e=await _t(wt.from(bt.subCategories).insert(b2({name:t,subjects:[]})).select("category_id, category_name, subjects_name").single(),"Unable to add sub-category");return ap(e)},updateSubCategory:async(t,{name:e,subjects:r})=>{const n=await _t(wt.from(bt.subCategories).update(b2({name:e,subjects:r})).eq("category_id",t).select("category_id, category_name, subjects_name").single(),"Unable to update sub-category");return ap(n)},deleteSubCategory:async t=>{await _t(wt.from(bt.subCategories).delete().eq("category_id",t),"Unable to delete sub-category")},listBatches:async()=>(await _t(wt.from(bt.batches).select("id, name, created_at").order("created_at",{ascending:!1}),"Unable to fetch batches")).map(_2),addBatch:async t=>{const e=await _t(wt.from(bt.batches).insert(dj(t)).select("id, name, created_at").single(),"Unable to add batch");return _2(e)},listStudents:async()=>(await _t(wt.from(bt.students).select("id, student_id, hall_ticket_no, hallticket_no, academic_year, group_name, course_name, full_name, gender, date_of_birth, phone_number, email, address, father_name, mother_name, nationality, state, aadhar_number, pincode, religion, caste, sub_caste, photo_url, cert_url, status, created_at").order("created_at",{ascending:!1}),"Unable to fetch students")).map(uj),listExams:async()=>(await _t(wt.from(bt.exams).select("id, title, exam_date, exam_time, venue, course_id, created_at").order("exam_date",{ascending:!1}),"Unable to fetch exams")).map(hj),addExam:async t=>{await _t(wt.from(bt.exams).insert(fj(t)),"Unable to add exam")},addPayment:async t=>{await _t(wt.from(bt.payments).insert({student_id:t.student_id,amount:Number(t.amount),method:t.method,reference:t.reference||null}),"Unable to record payment")},upsertHallTicket:async({student_id:t,exam_id:e,token:r})=>{const n=await sj(wt.from(bt.hallTickets).select("id").eq("student_id",t).eq("exam_id",e).maybeSingle(),"Unable to load hall ticket");n?await _t(wt.from(bt.hallTickets).update({token:r}).eq("id",n.id),"Unable to update hall ticket"):await _t(wt.from(bt.hallTickets).insert({student_id:t,exam_id:e,token:r}),"Unable to create hall ticket")},addResult:async t=>{await _t(wt.from(bt.results).insert(vj(t)),"Unable to record result")},listResults:async()=>(await _t(wt.from(bt.results).select("id, student_id, exam_id, total, grade, created_at").order("created_at",{ascending:!1}),"Unable to fetch results")).map(gj),listFees:async()=>(await _t(wt.from(bt.feeDefinitions).select("id, academic_year, group_code, course_code, semester_number, payment_type, amount").order("academic_year",{ascending:!1}),"Unable to fetch fee definitions")).map(pj),addFee:async t=>{await _t(wt.from(bt.feeDefinitions).insert(mj(t)),"Unable to add fee definition")},getFeeTypes:async()=>(await _t(wt.from(bt.feeCategories).select("id, name, fees").order("name"),"Unable to fetch fee categories")).map(yj),setFeeTypes:async t=>{const e=await _t(wt.from(bt.feeCategories).select("id"),"Unable to load existing fee categories"),r=new Set(t.map(i=>i.id)),n=e.map(i=>i.id).filter(i=>!r.has(i));n.length&&await _t(wt.from(bt.feeCategories).delete().in("id",n),"Unable to remove old fee categories"),t.length&&await _t(wt.from(bt.feeCategories).upsert(t.map(wj)),"Unable to save fee categories")}};function _j(){const t=["Male","Female","Other"],e=["General","OBC","SC","ST","Others"],r=["Hindu","Muslim","Christian","Sikh","Buddhist","Jain","Others"],n=["Tamil Nadu","Andhra Pradesh","Karnataka","Kerala","Telangana","Maharashtra","Other"],[i,s]=se.useState({student_id:"",admission_no:"",ht_no:"",academic_year:"",group:"",course_id:"",full_name:"",gender:"",dob:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_no:"",postal_code:"",address:"",mobile:"",email:"",religion:"",caste:"",sub_caste:""}),[a,l]=se.useState(null),[o,c]=se.useState(null),[f,m]=se.useState(!1),[v,p]=se.useState(""),[_,S]=se.useState([]),[j,w]=se.useState([]),[x,b]=se.useState([]),P=(I,O)=>s(R=>({...R,[I]:O}));se.useEffect(()=>{(async()=>{var I,O;try{const[R,G,H]=await Promise.all([Ce.listCourses(),((I=Ce.listGroups)==null?void 0:I.call(Ce))||[],((O=Ce.listAcademicYears)==null?void 0:O.call(Ce))||[]]);S(R||[]),w(G||[]),b(H||[])}catch{S([]),w([]),b([])}})()},[]);const D=()=>{s({student_id:"",admission_no:"",ht_no:"",academic_year:"",group:"",course_id:"",full_name:"",gender:"",dob:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_no:"",postal_code:"",address:"",mobile:"",email:"",religion:"",caste:"",sub_caste:""}),l(null),c(null)},Y=(I,O)=>new RegExp(`^\\d{${O}}$`).test(I),$=se.useMemo(()=>!!(i.admission_no&&i.academic_year&&i.full_name&&i.gender&&i.dob&&i.mobile&&Y(i.mobile,10)&&i.postal_code&&Y(i.postal_code,6)&&(!i.aadhar_no||Y(i.aadhar_no,12))&&i.address&&i.group&&i.course_id),[i]),M=(I,O)=>R=>{const G=(R.target.value||"").replace(/\D/g,"").slice(0,O);P(I,G)},te=async I=>{I.preventDefault(),p(""),m(!0);try{const O={};a&&(O.photo_url=URL.createObjectURL(a)),o&&(O.cert_url=URL.createObjectURL(o)),await Ce.submitApplication({...i,...O}),p("Application submitted! Admin/Principal will contact you after approval."),D()}catch(O){p(O.message||"Error submitting form")}finally{m(!1)}};return d.jsx("div",{className:"container py-5",children:d.jsx("div",{className:"row justify-content-center",children:d.jsx("div",{className:"col-lg-10",children:d.jsxs("div",{className:"card card-soft p-4",children:[d.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[d.jsx("img",{src:"/logo-placeholder.png",className:"brand-logo",alt:"logo"}),d.jsxs("div",{children:[d.jsx("h3",{className:"fw-bold mb-0",children:"Vijayam College of Arts & Science"}),d.jsx("div",{className:"text-muted",children:"Chennai"})]})]}),d.jsx("h5",{className:"mt-3",children:"Apply for Admission / Exam"}),d.jsx("form",{onSubmit:te,children:d.jsxs("div",{className:"row g-3",children:[d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Student & Admission"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Student ID"}),d.jsx("input",{className:"form-control",value:i.student_id,onChange:I=>P("student_id",I.target.value),placeholder:"Auto/Optional"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Admission No"}),d.jsx("input",{className:"form-control",value:i.admission_no,onChange:I=>P("admission_no",I.target.value),required:!0})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"HT No"}),d.jsx("input",{className:"form-control",value:i.ht_no,onChange:I=>P("ht_no",I.target.value)})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Academic Year"}),d.jsxs("select",{className:"form-select",value:i.academic_year,onChange:I=>P("academic_year",I.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select"}),x.map(I=>d.jsxs("option",{value:I.name,children:[I.name,I.active?" (Active)":""]},I.id))]})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Group & Course"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Group Code"}),d.jsxs("select",{className:"form-select",value:i.group,onChange:I=>P("group",I.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select Group"}),j.map(I=>d.jsxs("option",{value:I.code,children:[I.code,"  ",I.name]},I.id))]})]}),d.jsxs("div",{className:"col-md-8",children:[d.jsx("label",{className:"form-label",children:"Course"}),d.jsxs("select",{className:"form-select",value:i.course_id,onChange:I=>P("course_id",I.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select Course"}),_.filter(I=>!i.group||!I.group_code||I.group_code===i.group).map(I=>d.jsxs("option",{value:I.id,children:[I.code?`${I.code} - `:"",I.name]},I.id))]})]}),(()=>{const I=_.find(O=>O.id===i.course_id);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Course Code"}),d.jsx("input",{className:"form-control",value:(I==null?void 0:I.code)||"",readOnly:!0,placeholder:"Auto"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Course ID"}),d.jsx("input",{className:"form-control",value:(I==null?void 0:I.id)||"",readOnly:!0,placeholder:"Auto"})]})]})})(),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Personal Details"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Full Name"}),d.jsx("input",{className:"form-control",value:i.full_name,onChange:I=>P("full_name",I.target.value),required:!0})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Gender"}),d.jsxs("select",{className:"form-select",value:i.gender,onChange:I=>P("gender",I.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select"}),t.map(I=>d.jsx("option",{value:I,children:I},I))]})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"DOB"}),d.jsx("input",{type:"date",className:"form-control",value:i.dob,onChange:I=>P("dob",I.target.value),required:!0})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Father's Name"}),d.jsx("input",{className:"form-control",value:i.father_name,onChange:I=>P("father_name",I.target.value)})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Mother's Name"}),d.jsx("input",{className:"form-control",value:i.mother_name,onChange:I=>P("mother_name",I.target.value)})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Contact & Address"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Mobile"}),d.jsx("input",{className:"form-control",inputMode:"tel",maxLength:"10",pattern:"\\\\d{10}",value:i.mobile,onChange:M("mobile",10),required:!0})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Email"}),d.jsx("input",{type:"email",className:"form-control",value:i.email,onChange:I=>P("email",I.target.value)})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Nationality"}),d.jsx("input",{className:"form-control",value:i.nationality,onChange:I=>P("nationality",I.target.value)})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"State"}),d.jsxs("select",{className:"form-select",value:i.state,onChange:I=>P("state",I.target.value),children:[d.jsx("option",{value:"",children:"Select"}),n.map(I=>d.jsx("option",{value:I,children:I},I))]})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Aadhar No"}),d.jsx("input",{className:"form-control",inputMode:"numeric",maxLength:"12",pattern:"\\\\d{12}",placeholder:"12 digits",value:i.aadhar_no,onChange:M("aadhar_no",12)})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Postal Code (PIN)"}),d.jsx("input",{className:"form-control",inputMode:"numeric",maxLength:"6",pattern:"\\\\d{6}",placeholder:"6 digits",value:i.postal_code,onChange:M("postal_code",6),required:!0})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Religion"}),d.jsxs("select",{className:"form-select",value:i.religion,onChange:I=>P("religion",I.target.value),children:[d.jsx("option",{value:"",children:"Select"}),r.map(I=>d.jsx("option",{value:I,children:I},I))]})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Caste"}),d.jsxs("select",{className:"form-select",value:i.caste,onChange:I=>P("caste",I.target.value),children:[d.jsx("option",{value:"",children:"Select"}),e.map(I=>d.jsx("option",{value:I,children:I},I))]})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Sub Caste"}),d.jsx("input",{className:"form-control",value:i.sub_caste,onChange:I=>P("sub_caste",I.target.value)})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("label",{className:"form-label",children:"Address"}),d.jsx("textarea",{className:"form-control",rows:"2",value:i.address,onChange:I=>P("address",I.target.value),required:!0})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Aadhar No"}),d.jsx("input",{className:"form-control",value:i.aadhar_no,onChange:I=>P("aadhar_no",I.target.value)})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Postal code"}),d.jsx("input",{className:"form-control",value:i.aadhar_no,onChange:I=>P("aadhar_no",I.target.value)})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Uploads"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Upload Photo"}),d.jsx("input",{type:"file",accept:"image/*",className:"form-control",onChange:I=>{var O;return l(((O=I.target.files)==null?void 0:O[0])||null)}})]}),d.jsxs("div",{className:"col-12 d-flex justify-content-end gap-2 mt-2",children:[d.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:D,children:"Clear"}),d.jsx("button",{className:"btn btn-brand",disabled:f||!$,children:f?"Submitting...":"Submit"})]})]})}),v&&d.jsx("div",{className:"alert alert-info mt-3 mb-0",children:v})]})})})})}const kw="/assets/images-DpM0kpDs.png";function xj(){const t=Ju(),{setUser:e}=Ch(),[r,n]=se.useState("admin@vijayam.edu"),[i,s]=se.useState(""),[a,l]=se.useState("ADMIN"),[o,c]=se.useState(!1),[f,m]=se.useState(""),v=async p=>{p.preventDefault(),c(!0),m("");try{const _=await Ce.login(r);e({email:_.email,role:_.role}),t("/admin/setup/years")}catch(_){m(_.message||"Login failed")}finally{c(!1)}};return d.jsxs("div",{children:[d.jsx("header",{className:"bg-white py-3 border-bottom",children:d.jsxs("div",{className:"container d-flex align-items-center gap-3",children:[d.jsx("img",{src:kw,alt:"Vijayam Logo",className:"brand-logo"}),d.jsxs("div",{children:[d.jsx("div",{className:"fs-3 fw-bold text-brand",children:"VIJAYAM Science and Arts Degree College"}),d.jsx("div",{className:"text-muted small",children:"Affiliated to S.V. University, Tirupati & Recognized by Govt of A.P. | Accredited by NAAC with A+ Grade"}),d.jsx("div",{className:"fw-bold text-primary",children:"AUTONOMOUS"})]})]})}),d.jsx("section",{className:"container py-4",children:d.jsx("div",{className:"hero-frame p-2",children:d.jsxs("div",{className:"hero-canvas rounded-4 position-relative overflow-hidden",children:[d.jsx("div",{className:"hero-blob-1"}),d.jsx("div",{className:"hero-blob-2"}),d.jsxs("div",{className:"hero-inner p-3 p-md-4 p-lg-5",children:[d.jsxs("div",{className:"glass-card p-4 p-md-5 h-100",children:[d.jsx("div",{className:"heading-font fs-2 fw-700 mb-2",children:"Unlock Your Academic Journey"}),d.jsx("div",{className:"text-muted",children:"Apply, track results, and view exam schedules  all in one simple portal for students."}),d.jsxs("div",{className:"mt-3 d-grid gap-3",style:{maxWidth:"520px"},children:[d.jsx(Go,{to:"/application",className:"home-cta brand w-100",children:"Application Form"}),d.jsx(Go,{to:"/public/results",className:"home-cta brand w-100",children:"Exam Result"}),d.jsx(Go,{to:"/public/timetable",className:"home-cta brand w-100",children:"Exam Time Table"})]})]}),d.jsxs("div",{className:"card card-soft p-4 h-100",children:[d.jsx("div",{className:"fw-600 mb-2",children:"Admin / Principal Login"}),d.jsxs("form",{onSubmit:v,children:[d.jsxs("div",{className:"mb-2",children:[d.jsx("label",{className:"form-label small",children:"Email"}),d.jsx("input",{className:"form-control",value:r,onChange:p=>n(p.target.value),required:!0})]}),d.jsxs("div",{className:"mb-2",children:[d.jsx("label",{className:"form-label small",children:"Password"}),d.jsx("input",{type:"password",className:"form-control",value:i,onChange:p=>s(p.target.value),required:!0})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{className:"form-label small",children:"Login as"}),d.jsxs("select",{className:"form-select",value:a,onChange:p=>l(p.target.value),children:[d.jsx("option",{value:"ADMIN",children:"Admin"}),d.jsx("option",{value:"PRINCIPAL",children:"Principal"})]})]}),f&&d.jsx("div",{className:"alert alert-danger py-2",children:f}),d.jsx("button",{className:"btn btn-brand w-100",disabled:o,children:o?"Signing in...":"Sign In"})]})]})]})]})})})]})}function Nj(){const[t,e]=se.useState([]),[r,n]=se.useState([]),[i,s]=se.useState([]),[a,l]=se.useState(""),[o,c]=se.useState(""),[f,m]=se.useState(null);se.useEffect(()=>{(async()=>(e(await Ce.listStudents()),n(await Ce.listExams()),s(await Ce.listResults())))()},[]);const v=()=>{const p=i.find(_=>_.student_id===a&&_.exam_id===o);m(p||null)};return d.jsx("div",{className:"container py-5",children:d.jsx("div",{className:"row justify-content-center",children:d.jsx("div",{className:"col-lg-8",children:d.jsxs("div",{className:"card card-soft p-4",children:[d.jsx("h4",{className:"mb-3",children:"Exam Results"}),d.jsxs("div",{className:"row g-2 align-items-end",children:[d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Student"}),d.jsxs("select",{className:"form-select",value:a,onChange:p=>l(p.target.value),children:[d.jsx("option",{value:"",children:"Select Student"}),t.map(p=>d.jsxs("option",{value:p.student_id,children:[p.student_id," - ",p.full_name]},p.student_id))]})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Exam"}),d.jsxs("select",{className:"form-select",value:o,onChange:p=>c(p.target.value),children:[d.jsx("option",{value:"",children:"Select Exam"}),r.map(p=>d.jsxs("option",{value:p.id,children:[p.title," (",p.date,")"]},p.id))]})]}),d.jsx("div",{className:"col-md-4 text-end",children:d.jsx("button",{className:"btn btn-brand",onClick:v,children:"View Result"})})]}),f&&d.jsx("div",{className:"mt-4",children:d.jsxs("div",{className:"card p-3 bg-ice",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"Total:"})," ",f.total]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Grade:"})," ",f.grade]})]})}),f===null&&a&&o&&d.jsx("div",{className:"alert alert-warning mt-3",children:"No result found for the selected student and exam."})]})})})})}function Sj(){const[t,e]=se.useState([]);return se.useEffect(()=>{(async()=>e(await Ce.listExams()))()},[]),d.jsx("div",{className:"container py-5",children:d.jsx("div",{className:"row justify-content-center",children:d.jsx("div",{className:"col-lg-8",children:d.jsxs("div",{className:"card card-soft p-4",children:[d.jsx("h4",{className:"mb-3",children:"Exam Time Table"}),t.length===0?d.jsx("div",{className:"text-muted",children:"No exams published yet."}):d.jsx("div",{className:"table-responsive",children:d.jsxs("table",{className:"table mb-0",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Title"}),d.jsx("th",{children:"Date"}),d.jsx("th",{children:"Session"}),d.jsx("th",{children:"Notes"})]})}),d.jsx("tbody",{children:t.map(r=>d.jsxs("tr",{children:[d.jsx("td",{children:r.title}),d.jsx("td",{children:r.date}),d.jsx("td",{children:r.session||"-"}),d.jsx("td",{children:r.notes||"-"})]},r.id))})]})})]})})})})}const jj="modulepreload",Aj=function(t){return"/"+t},x2={},Em=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(o=>{if(o=Aj(o),o in x2)return;x2[o]=!0;const c=o.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":jj,c||(m.as="script"),m.crossOrigin="",m.href=o,l&&m.setAttribute("nonce",l),document.head.appendChild(m),c)return new Promise((v,p)=>{m.addEventListener("load",v),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function Tt(t){"@babel/helpers - typeof";return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(t)}var Xr=Uint8Array,Mn=Uint16Array,K0=Int32Array,Ph=new Xr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Oh=new Xr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Lm=new Xr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Cw=function(t,e){for(var r=new Mn(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new K0(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},Ew=Cw(Ph,2),Lw=Ew.b,Pm=Ew.r;Lw[28]=258,Pm[258]=28;var Pw=Cw(Oh,0),kj=Pw.b,N2=Pw.r,Om=new Mn(32768);for(var Kt=0;Kt<32768;++Kt){var Rs=(Kt&43690)>>1|(Kt&21845)<<1;Rs=(Rs&52428)>>2|(Rs&13107)<<2,Rs=(Rs&61680)>>4|(Rs&3855)<<4,Om[Kt]=((Rs&65280)>>8|(Rs&255)<<8)>>1}var $i=function(t,e,r){for(var n=t.length,i=0,s=new Mn(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new Mn(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var l;if(r){l=new Mn(1<<e);var o=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],f=e-t[i],m=a[t[i]-1]++<<f,v=m|(1<<f)-1;m<=v;++m)l[Om[m]>>o]=c}else for(l=new Mn(n),i=0;i<n;++i)t[i]&&(l[i]=Om[a[t[i]-1]++]>>15-t[i]);return l},na=new Xr(288);for(var Kt=0;Kt<144;++Kt)na[Kt]=8;for(var Kt=144;Kt<256;++Kt)na[Kt]=9;for(var Kt=256;Kt<280;++Kt)na[Kt]=7;for(var Kt=280;Kt<288;++Kt)na[Kt]=8;var $u=new Xr(32);for(var Kt=0;Kt<32;++Kt)$u[Kt]=5;var Cj=$i(na,9,0),Ej=$i(na,9,1),Lj=$i($u,5,0),Pj=$i($u,5,1),op=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},gi=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},lp=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},J0=function(t){return(t+7)/8|0},Ow=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Xr(t.subarray(e,r))},Oj=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ni=function(t,e,r){var n=new Error(e||Oj[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Ni),!r)throw n;return n},Ij=function(t,e,r,n){var i=t.length,s=0;if(!i||e.f&&!e.l)return r||new Xr(0);var a=!r,l=a||e.i!=2,o=e.i;a&&(r=new Xr(i*3));var c=function(je){var De=r.length;if(je>De){var Te=new Xr(Math.max(De*2,je));Te.set(r),r=Te}},f=e.f||0,m=e.p||0,v=e.b||0,p=e.l,_=e.d,S=e.m,j=e.n,w=i*8;do{if(!p){f=gi(t,m,1);var x=gi(t,m+1,3);if(m+=3,x)if(x==1)p=Ej,_=Pj,S=9,j=5;else if(x==2){var Y=gi(t,m,31)+257,$=gi(t,m+10,15)+4,M=Y+gi(t,m+5,31)+1;m+=14;for(var te=new Xr(M),I=new Xr(19),O=0;O<$;++O)I[Lm[O]]=gi(t,m+O*3,7);m+=$*3;for(var R=op(I),G=(1<<R)-1,H=$i(I,R,1),O=0;O<M;){var pe=H[gi(t,m,G)];m+=pe&15;var b=pe>>4;if(b<16)te[O++]=b;else{var oe=0,me=0;for(b==16?(me=3+gi(t,m,3),m+=2,oe=te[O-1]):b==17?(me=3+gi(t,m,7),m+=3):b==18&&(me=11+gi(t,m,127),m+=7);me--;)te[O++]=oe}}var W=te.subarray(0,Y),ne=te.subarray(Y);S=op(W),j=op(ne),p=$i(W,S,1),_=$i(ne,j,1)}else Ni(1);else{var b=J0(m)+4,P=t[b-4]|t[b-3]<<8,D=b+P;if(D>i){o&&Ni(0);break}l&&c(v+P),r.set(t.subarray(b,D),v),e.b=v+=P,e.p=m=D*8,e.f=f;continue}if(m>w){o&&Ni(0);break}}l&&c(v+131072);for(var ae=(1<<S)-1,Ne=(1<<j)-1,C=m;;C=m){var oe=p[lp(t,m)&ae],U=oe>>4;if(m+=oe&15,m>w){o&&Ni(0);break}if(oe||Ni(2),U<256)r[v++]=U;else if(U==256){C=m,p=null;break}else{var q=U-254;if(U>264){var O=U-257,K=Ph[O];q=gi(t,m,(1<<K)-1)+Lw[O],m+=K}var Z=_[lp(t,m)&Ne],le=Z>>4;Z||Ni(3),m+=Z&15;var ne=kj[le];if(le>3){var K=Oh[le];ne+=lp(t,m)&(1<<K)-1,m+=K}if(m>w){o&&Ni(0);break}l&&c(v+131072);var fe=v+q;if(v<ne){var he=s-ne,Ee=Math.min(ne,fe);for(he+v<0&&Ni(3);v<Ee;++v)r[v]=n[he+v]}for(;v<fe;++v)r[v]=r[v-ne]}}e.l=p,e.p=C,e.b=v,e.f=f,p&&(f=1,e.m=S,e.d=_,e.n=j)}while(!f);return v!=r.length&&a?Ow(r,0,v):r.subarray(0,v)},rs=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},eu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},up=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:Rw,l:0};if(i==1){var a=new Xr(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(D,Y){return D.f-Y.f}),r.push({s:-1,f:25001});var l=r[0],o=r[1],c=0,f=1,m=2;for(r[0]={s:-1,f:l.f+o.f,l,r:o};f!=i-1;)l=r[r[c].f<r[m].f?c++:m++],o=r[c!=f&&r[c].f<r[m].f?c++:m++],r[f++]={s:-1,f:l.f+o.f,l,r:o};for(var v=s[0].s,n=1;n<i;++n)s[n].s>v&&(v=s[n].s);var p=new Mn(v+1),_=Im(r[f-1],p,0);if(_>e){var n=0,S=0,j=_-e,w=1<<j;for(s.sort(function(Y,$){return p[$.s]-p[Y.s]||Y.f-$.f});n<i;++n){var x=s[n].s;if(p[x]>e)S+=w-(1<<_-p[x]),p[x]=e;else break}for(S>>=j;S>0;){var b=s[n].s;p[b]<e?S-=1<<e-p[b]++-1:++n}for(;n>=0&&S;--n){var P=s[n].s;p[P]==e&&(--p[P],++S)}_=e}return{t:new Xr(p),l:_}},Im=function(t,e,r){return t.s==-1?Math.max(Im(t.l,e,r+1),Im(t.r,e,r+1)):e[t.s]=r},S2=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Mn(++e),n=0,i=t[0],s=1,a=function(o){r[n++]=o},l=1;l<=e;++l)if(t[l]==i&&l!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[l]}return{c:r.subarray(0,n),n:e}},tu=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Iw=function(t,e,r){var n=r.length,i=J0(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},j2=function(t,e,r,n,i,s,a,l,o,c,f){rs(e,f++,r),++i[256];for(var m=up(i,15),v=m.t,p=m.l,_=up(s,15),S=_.t,j=_.l,w=S2(v),x=w.c,b=w.n,P=S2(S),D=P.c,Y=P.n,$=new Mn(19),M=0;M<x.length;++M)++$[x[M]&31];for(var M=0;M<D.length;++M)++$[D[M]&31];for(var te=up($,7),I=te.t,O=te.l,R=19;R>4&&!I[Lm[R-1]];--R);var G=c+5<<3,H=tu(i,na)+tu(s,$u)+a,pe=tu(i,v)+tu(s,S)+a+14+3*R+tu($,I)+2*$[16]+3*$[17]+7*$[18];if(o>=0&&G<=H&&G<=pe)return Iw(e,f,t.subarray(o,o+c));var oe,me,W,ne;if(rs(e,f,1+(pe<H)),f+=2,pe<H){oe=$i(v,p,0),me=v,W=$i(S,j,0),ne=S;var ae=$i(I,O,0);rs(e,f,b-257),rs(e,f+5,Y-1),rs(e,f+10,R-4),f+=14;for(var M=0;M<R;++M)rs(e,f+3*M,I[Lm[M]]);f+=3*R;for(var Ne=[x,D],C=0;C<2;++C)for(var U=Ne[C],M=0;M<U.length;++M){var q=U[M]&31;rs(e,f,ae[q]),f+=I[q],q>15&&(rs(e,f,U[M]>>5&127),f+=U[M]>>12)}}else oe=Cj,me=na,W=Lj,ne=$u;for(var M=0;M<l;++M){var K=n[M];if(K>255){var q=K>>18&31;eu(e,f,oe[q+257]),f+=me[q+257],q>7&&(rs(e,f,K>>23&31),f+=Ph[q]);var Z=K&31;eu(e,f,W[Z]),f+=ne[Z],Z>3&&(eu(e,f,K>>5&8191),f+=Oh[Z])}else eu(e,f,oe[K]),f+=me[K]}return eu(e,f,oe[256]),f+me[256]},Rj=new K0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Rw=new Xr(0),Tj=function(t,e,r,n,i,s){var a=s.z||t.length,l=new Xr(n+a+5*(1+Math.ceil(a/7e3))+i),o=l.subarray(n,l.length-i),c=s.l,f=(s.r||0)&7;if(e){f&&(o[0]=s.r>>3);for(var m=Rj[e-1],v=m>>13,p=m&8191,_=(1<<r)-1,S=s.p||new Mn(32768),j=s.h||new Mn(_+1),w=Math.ceil(r/3),x=2*w,b=function(Ze){return(t[Ze]^t[Ze+1]<<w^t[Ze+2]<<x)&_},P=new K0(25e3),D=new Mn(288),Y=new Mn(32),$=0,M=0,te=s.i||0,I=0,O=s.w||0,R=0;te+2<a;++te){var G=b(te),H=te&32767,pe=j[G];if(S[H]=pe,j[G]=H,O<=te){var oe=a-te;if(($>7e3||I>24576)&&(oe>423||!c)){f=j2(t,o,0,P,D,Y,M,I,R,te-R,f),I=$=M=0,R=te;for(var me=0;me<286;++me)D[me]=0;for(var me=0;me<30;++me)Y[me]=0}var W=2,ne=0,ae=p,Ne=H-pe&32767;if(oe>2&&G==b(te-Ne))for(var C=Math.min(v,oe)-1,U=Math.min(32767,te),q=Math.min(258,oe);Ne<=U&&--ae&&H!=pe;){if(t[te+W]==t[te+W-Ne]){for(var K=0;K<q&&t[te+K]==t[te+K-Ne];++K);if(K>W){if(W=K,ne=Ne,K>C)break;for(var Z=Math.min(Ne,K-2),le=0,me=0;me<Z;++me){var fe=te-Ne+me&32767,he=S[fe],Ee=fe-he&32767;Ee>le&&(le=Ee,pe=fe)}}}H=pe,pe=S[H],Ne+=H-pe&32767}if(ne){P[I++]=268435456|Pm[W]<<18|N2[ne];var je=Pm[W]&31,De=N2[ne]&31;M+=Ph[je]+Oh[De],++D[257+je],++Y[De],O=te+W,++$}else P[I++]=t[te],++D[t[te]]}}for(te=Math.max(te,O);te<a;++te)P[I++]=t[te],++D[t[te]];f=j2(t,o,c,P,D,Y,M,I,R,te-R,f),c||(s.r=f&7|o[f/8|0]<<3,f-=7,s.h=j,s.p=S,s.i=te,s.w=O)}else{for(var te=s.w||0;te<a+c;te+=65535){var Te=te+65535;Te>=a&&(o[f/8|0]=c,Te=a),f=Iw(o,f+1,t.subarray(te,Te))}s.i=a}return Ow(l,0,n+J0(f)+i)},Tw=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var l=Math.min(a+2655,s);a<l;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Fj=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Xr(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return Tj(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},Fw=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Dj=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Tw();i.p(e.dictionary),Fw(t,2,i.d())}},Mj=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ni(6,"invalid zlib data"),(t[1]>>5&1)==1&&Ni(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Rm(t,e){e||(e={});var r=Tw();r.p(t);var n=Fj(t,e,e.dictionary?6:2,4);return Dj(n,e),Fw(n,n.length-4,r.d()),n}function Bj(t,e){return Ij(t.subarray(Mj(t),-4),{i:2},e,e)}var Uj=typeof TextDecoder<"u"&&new TextDecoder,zj=0;try{Uj.decode(Rw,{stream:!0}),zj=1}catch{}var rt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function cp(){rt.console&&typeof rt.console.log=="function"&&rt.console.log.apply(rt.console,arguments)}var Ut={log:cp,warn:function(t){rt.console&&(typeof rt.console.warn=="function"?rt.console.warn.apply(rt.console,arguments):cp.call(null,arguments))},error:function(t){rt.console&&(typeof rt.console.error=="function"?rt.console.error.apply(rt.console,arguments):cp(t))}};function dp(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){ja(n.response,e,r)},n.onerror=function(){Ut.error("could not download file")},n.send()}function A2(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function dd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var bu,Tm,ja=rt.saveAs||((typeof window>"u"?"undefined":Tt(window))!=="object"||window!==rt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=rt.URL||rt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?A2(i.href)?dp(t,e,r):dd(i,i.target="_blank"):dd(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){dd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(A2(t))dp(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){dd(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Tt(s)!=="object"&&(Ut.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return dp(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(rt.HTMLElement)||rt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Tt(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(t)}else{var o=rt.URL||rt.webkitURL,c=o.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){o.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Dw(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),o=this.g.toString(16),c=this.b.toString(16);return l.length==1&&(l="0"+l),o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),"#"+l+o+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function hp(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=Gr(r,n,i,s,e[0],7,-680876936),s=Gr(s,r,n,i,e[1],12,-389564586),i=Gr(i,s,r,n,e[2],17,606105819),n=Gr(n,i,s,r,e[3],22,-1044525330),r=Gr(r,n,i,s,e[4],7,-176418897),s=Gr(s,r,n,i,e[5],12,1200080426),i=Gr(i,s,r,n,e[6],17,-1473231341),n=Gr(n,i,s,r,e[7],22,-45705983),r=Gr(r,n,i,s,e[8],7,1770035416),s=Gr(s,r,n,i,e[9],12,-1958414417),i=Gr(i,s,r,n,e[10],17,-42063),n=Gr(n,i,s,r,e[11],22,-1990404162),r=Gr(r,n,i,s,e[12],7,1804603682),s=Gr(s,r,n,i,e[13],12,-40341101),i=Gr(i,s,r,n,e[14],17,-1502002290),r=Kr(r,n=Gr(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Kr(s,r,n,i,e[6],9,-1069501632),i=Kr(i,s,r,n,e[11],14,643717713),n=Kr(n,i,s,r,e[0],20,-373897302),r=Kr(r,n,i,s,e[5],5,-701558691),s=Kr(s,r,n,i,e[10],9,38016083),i=Kr(i,s,r,n,e[15],14,-660478335),n=Kr(n,i,s,r,e[4],20,-405537848),r=Kr(r,n,i,s,e[9],5,568446438),s=Kr(s,r,n,i,e[14],9,-1019803690),i=Kr(i,s,r,n,e[3],14,-187363961),n=Kr(n,i,s,r,e[8],20,1163531501),r=Kr(r,n,i,s,e[13],5,-1444681467),s=Kr(s,r,n,i,e[2],9,-51403784),i=Kr(i,s,r,n,e[7],14,1735328473),r=Jr(r,n=Kr(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Jr(s,r,n,i,e[8],11,-2022574463),i=Jr(i,s,r,n,e[11],16,1839030562),n=Jr(n,i,s,r,e[14],23,-35309556),r=Jr(r,n,i,s,e[1],4,-1530992060),s=Jr(s,r,n,i,e[4],11,1272893353),i=Jr(i,s,r,n,e[7],16,-155497632),n=Jr(n,i,s,r,e[10],23,-1094730640),r=Jr(r,n,i,s,e[13],4,681279174),s=Jr(s,r,n,i,e[0],11,-358537222),i=Jr(i,s,r,n,e[3],16,-722521979),n=Jr(n,i,s,r,e[6],23,76029189),r=Jr(r,n,i,s,e[9],4,-640364487),s=Jr(s,r,n,i,e[12],11,-421815835),i=Jr(i,s,r,n,e[15],16,530742520),r=Yr(r,n=Jr(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Yr(s,r,n,i,e[7],10,1126891415),i=Yr(i,s,r,n,e[14],15,-1416354905),n=Yr(n,i,s,r,e[5],21,-57434055),r=Yr(r,n,i,s,e[12],6,1700485571),s=Yr(s,r,n,i,e[3],10,-1894986606),i=Yr(i,s,r,n,e[10],15,-1051523),n=Yr(n,i,s,r,e[1],21,-2054922799),r=Yr(r,n,i,s,e[8],6,1873313359),s=Yr(s,r,n,i,e[15],10,-30611744),i=Yr(i,s,r,n,e[6],15,-1560198380),n=Yr(n,i,s,r,e[13],21,1309151649),r=Yr(r,n,i,s,e[4],6,-145523070),s=Yr(s,r,n,i,e[11],10,-1120210379),i=Yr(i,s,r,n,e[2],15,718787259),n=Yr(n,i,s,r,e[9],21,-343485551),t[0]=Vs(r,t[0]),t[1]=Vs(n,t[1]),t[2]=Vs(i,t[2]),t[3]=Vs(s,t[3])}function Ih(t,e,r,n,i,s){return e=Vs(Vs(e,t),Vs(n,s)),Vs(e<<i|e>>>32-i,r)}function Gr(t,e,r,n,i,s,a){return Ih(e&r|~e&n,t,e,i,s,a)}function Kr(t,e,r,n,i,s,a){return Ih(e&n|r&~n,t,e,i,s,a)}function Jr(t,e,r,n,i,s,a){return Ih(e^r^n,t,e,i,s,a)}function Yr(t,e,r,n,i,s,a){return Ih(r^(e|~n),t,e,i,s,a)}function Mw(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)hp(n,qj(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(hp(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,hp(n,i),n}function qj(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}bu=rt.atob.bind(rt),Tm=rt.btoa.bind(rt);var k2="0123456789abcdef".split("");function $j(t){for(var e="",r=0;r<4;r++)e+=k2[t>>8*r+4&15]+k2[t>>8*r&15];return e}function Vj(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Fm(t){return Mw(t).map(Vj).join("")}var Hj=function(t){for(var e=0;e<t.length;e++)t[e]=$j(t[e]);return t.join("")}(Mw("hello"))!="5d41402abc4b2a76b9719d911017c592";function Vs(t,e){if(Hj){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Dm(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),l=[],o=0;o<256;o++)l[o]=o;var c=0;for(o=0;o<256;o++){var f=l[o];c=(c+f+a.charCodeAt(o))%256,l[o]=l[c],l[c]=f}r=t,n=l}else l=n;var m=e.length,v=0,p=0,_="";for(o=0;o<m;o++)p=(p+(f=l[v=(v+1)%256]))%256,l[v]=l[p],l[p]=f,a=l[(l[v]+l[p])%256],_+=String.fromCharCode(e.charCodeAt(o)^a);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var C2={print:4,modify:8,copy:16,"annot-forms":32};function Ao(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(C2.perm!==void 0)throw new Error("Invalid permission: "+l);i+=C2[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Fm(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Dm(this.encryptionKey,this.padding)}function ko(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function E2(t){if(Tt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(l){rt.console&&Ut.error("jsPDF PubSub Error",l.message,l)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function oh(t){if(!(this instanceof oh))return new oh(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Bw(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ea(t,e,r,n,i){if(!(this instanceof Ea))return new Ea(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Bw.call(this,n,i)}function Uo(t,e,r,n,i){if(!(this instanceof Uo))return new Uo(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Bw.call(this,n,i)}function et(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],l=1,o=16,c="S",f=null;Tt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(o=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,v={},p={internal:{},__private__:{}};p.__private__.PubSub=E2;var _="1.3",S=p.__private__.getPdfVersion=function(){return _};p.__private__.setPdfVersion=function(g){_=g};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return j};var w=p.__private__.getPageFormat=function(g){return j[g]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},b=x.COMPAT;function P(){this.saveGraphicsState(),V(new Qe(Ue,0,0,-Ue,0,bs()*Ue).toString()+" cm"),this.setFontSize(this.getFontSize()/Ue),c="n",b=x.ADVANCED}function D(){this.restoreGraphicsState(),c="S",b=x.COMPAT}var Y=p.__private__.combineFontStyleAndFontWeight=function(g,k){if(g=="bold"&&k=="normal"||g=="bold"&&k==400||g=="normal"&&k=="italic"||g=="bold"&&k=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return k&&(g=k==400||k==="normal"?g==="italic"?"italic":"normal":k!=700&&k!=="bold"||g!=="normal"?(k==700?"bold":k)+""+g:"bold"),g};p.advancedAPI=function(g){var k=b===x.COMPAT;return k&&P.call(this),typeof g!="function"||(g(this),k&&D.call(this)),this},p.compatAPI=function(g){var k=b===x.ADVANCED;return k&&D.call(this),typeof g!="function"||(g(this),k&&P.call(this)),this},p.isAdvancedAPI=function(){return b===x.ADVANCED};var $,M=function(g){if(b!==x.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},te=p.roundToPrecision=p.__private__.roundToPrecision=function(g,k){var z=e||k;if(isNaN(g)||isNaN(z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(z).replace(/0+$/,"")};$=p.hpf=p.__private__.hpf=typeof o=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return te(g,o)}:o==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return te(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return te(g,16)};var I=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return te(g,2)},O=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return te(g,3)},R=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return b===x.COMPAT?g*Ue:b===x.ADVANCED?g:void 0},G=function(g){return b===x.COMPAT?bs()-g:b===x.ADVANCED?g:void 0},H=function(g){return R(G(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var pe,oe="00000000000000000000000000000000",me=p.__private__.getFileId=function(){return oe},W=p.__private__.setFileId=function(g){return oe=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():oe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&($r=new Ao(f.userPermissions,f.userPassword,f.ownerPassword,oe)),oe};p.setFileId=function(g){return W(g),this},p.getFileId=function(){return me()};var ne=p.__private__.convertDateToPDFDate=function(g){var k=g.getTimezoneOffset(),z=k<0?"+":"-",J=Math.floor(Math.abs(k/60)),ie=Math.abs(k%60),ye=[z,q(J),"'",q(ie),"'"].join("");return["D:",g.getFullYear(),q(g.getMonth()+1),q(g.getDate()),q(g.getHours()),q(g.getMinutes()),q(g.getSeconds()),ye].join("")},ae=p.__private__.convertPDFDateToDate=function(g){var k=parseInt(g.substr(2,4),10),z=parseInt(g.substr(6,2),10)-1,J=parseInt(g.substr(8,2),10),ie=parseInt(g.substr(10,2),10),ye=parseInt(g.substr(12,2),10),Se=parseInt(g.substr(14,2),10);return new Date(k,z,J,ie,ye,Se,0)},Ne=p.__private__.setCreationDate=function(g){var k;if(g===void 0&&(g=new Date),g instanceof Date)k=ne(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");k=g}return pe=k},C=p.__private__.getCreationDate=function(g){var k=pe;return g==="jsDate"&&(k=ae(pe)),k};p.setCreationDate=function(g){return Ne(g),this},p.getCreationDate=function(g){return C(g)};var U,q=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},K=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},Z=0,le=[],fe=[],he=0,Ee=[],je=[],De=!1,Te=fe,Ze=function(){Z=0,he=0,fe=[],le=[],Ee=[],li=ir(),hn=ir()};p.__private__.setCustomOutputDestination=function(g){De=!0,Te=g};var ve=function(g){De||(Te=g)};p.__private__.resetCustomOutputDestination=function(){De=!1,Te=fe};var V=p.__private__.out=function(g){return g=g.toString(),he+=g.length+1,Te.push(g),Te},ot=p.__private__.write=function(g){return V(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},We=p.__private__.getArrayBuffer=function(g){for(var k=g.length,z=new ArrayBuffer(k),J=new Uint8Array(z);k--;)J[k]=g.charCodeAt(k);return z},Ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ae};var Oe=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return Oe=b===x.ADVANCED?g/Ue:g,this};var Be,Ie=p.__private__.getFontSize=p.getFontSize=function(){return b===x.COMPAT?Oe:Oe*Ue},Ke=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return Ke=g,this},p.__private__.getR2L=p.getR2L=function(){return Ke};var st,lt=p.__private__.setZoomMode=function(g){var k=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))Be=g;else if(isNaN(g)){if(k.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');Be=g}else Be=parseInt(g,10)};p.__private__.getZoomMode=function(){return Be};var ct,yt=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');st=g};p.__private__.getPageMode=function(){return st};var Pt=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');ct=g};p.__private__.getLayoutMode=function(){return ct},p.__private__.setDisplayMode=p.setDisplayMode=function(g,k,z){return lt(g),Pt(k),yt(z),this};var tt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(tt).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return tt[g]},p.__private__.getDocumentProperties=function(){return tt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var k in tt)tt.hasOwnProperty(k)&&g[k]&&(tt[k]=g[k]);return this},p.__private__.setDocumentProperty=function(g,k){if(Object.keys(tt).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return tt[g]=k};var vt,Ue,kr,jt,Sn,Ot={},Wt={},oi=[],Et={},gs={},Qt={},$n={},jn=null,Dt=0,nt=[],Nt=new E2(p),en=t.hotfixes||[],zt={},Rr={},tn=[],Qe=function g(k,z,J,ie,ye,Se){if(!(this instanceof g))return new g(k,z,J,ie,ye,Se);isNaN(k)&&(k=1),isNaN(z)&&(z=0),isNaN(J)&&(J=0),isNaN(ie)&&(ie=1),isNaN(ye)&&(ye=0),isNaN(Se)&&(Se=0),this._matrix=[k,z,J,ie,ye,Se]};Object.defineProperty(Qe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Qe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Qe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Qe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Qe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Qe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Qe.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Qe.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Qe.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Qe.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Qe.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Qe.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Qe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qe.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map($).join(g)},Qe.prototype.multiply=function(g){var k=g.sx*this.sx+g.shy*this.shx,z=g.sx*this.shy+g.shy*this.sy,J=g.shx*this.sx+g.sy*this.shx,ie=g.shx*this.shy+g.sy*this.sy,ye=g.tx*this.sx+g.ty*this.shx+this.tx,Se=g.tx*this.shy+g.ty*this.sy+this.ty;return new Qe(k,z,J,ie,ye,Se)},Qe.prototype.decompose=function(){var g=this.sx,k=this.shy,z=this.shx,J=this.sy,ie=this.tx,ye=this.ty,Se=Math.sqrt(g*g+k*k),qe=(g/=Se)*z+(k/=Se)*J;z-=g*qe,J-=k*qe;var Ye=Math.sqrt(z*z+J*J);return qe/=Ye,g*(J/=Ye)<k*(z/=Ye)&&(g=-g,k=-k,qe=-qe,Se=-Se),{scale:new Qe(Se,0,0,Ye,0,0),translate:new Qe(1,0,0,1,ie,ye),rotate:new Qe(g,k,-k,g,0,0),skew:new Qe(1,0,qe,1,0,0)}},Qe.prototype.toString=function(g){return this.join(" ")},Qe.prototype.inversed=function(){var g=this.sx,k=this.shy,z=this.shx,J=this.sy,ie=this.tx,ye=this.ty,Se=1/(g*J-k*z),qe=J*Se,Ye=-k*Se,ft=-z*Se,dt=g*Se;return new Qe(qe,Ye,ft,dt,-qe*ie-ft*ye,-Ye*ie-dt*ye)},Qe.prototype.applyToPoint=function(g){var k=g.x*this.sx+g.y*this.shx+this.tx,z=g.x*this.shy+g.y*this.sy+this.ty;return new Za(k,z)},Qe.prototype.applyToRectangle=function(g){var k=this.applyToPoint(g),z=this.applyToPoint(new Za(g.x+g.w,g.y+g.h));return new Al(k.x,k.y,z.x-k.x,z.y-k.y)},Qe.prototype.clone=function(){var g=this.sx,k=this.shy,z=this.shx,J=this.sy,ie=this.tx,ye=this.ty;return new Qe(g,k,z,J,ie,ye)},p.Matrix=Qe;var An=p.matrixMult=function(g,k){return k.multiply(g)},Vn=new Qe(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Vn;var zr=function(g,k){if(!gs[g]){var z=(k instanceof Ea?"Sh":"P")+(Object.keys(Et).length+1).toString(10);k.id=z,gs[g]=z,Et[z]=k,Nt.publish("addPattern",k)}};p.ShadingPattern=Ea,p.TilingPattern=Uo,p.addShadingPattern=function(g,k){return M("addShadingPattern()"),zr(g,k),this},p.beginTilingPattern=function(g){M("beginTilingPattern()"),fc(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,k){M("endTilingPattern()"),k.stream=je[U].join(`
`),zr(g,k),Nt.publish("endTilingPattern",k),tn.pop().restore()};var nr=p.__private__.newObject=function(){var g=ir();return rn(g,!0),g},ir=p.__private__.newObjectDeferred=function(){return Z++,le[Z]=function(){return he},Z},rn=function(g,k){return k=typeof k=="boolean"&&k,le[g]=he,k&&V(g+" 0 obj"),g},vs=p.__private__.newAdditionalObject=function(){var g={objId:ir(),content:""};return Ee.push(g),g},li=ir(),hn=ir(),kn=p.__private__.decodeColorString=function(g){var k=g.split(" ");if(k.length!==2||k[1]!=="g"&&k[1]!=="G")k.length===5&&(k[4]==="k"||k[4]==="K")&&(k=[(1-k[0])*(1-k[3]),(1-k[1])*(1-k[3]),(1-k[2])*(1-k[3]),"r"]);else{var z=parseFloat(k[0]);k=[z,z,z,"r"]}for(var J="#",ie=0;ie<3;ie++)J+=("0"+Math.floor(255*parseFloat(k[ie])).toString(16)).slice(-2);return J},de=p.__private__.encodeColorString=function(g){var k;typeof g=="string"&&(g={ch1:g});var z=g.ch1,J=g.ch2,ie=g.ch3,ye=g.ch4,Se=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof z=="string"&&z.charAt(0)!=="#"){var qe=new Dw(z);if(qe.ok)z=qe.toHex();else if(!/^\d*\.?\d*$/.test(z))throw new Error('Invalid color "'+z+'" passed to jsPDF.encodeColorString.')}if(typeof z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(z)&&(z="#"+z[1]+z[1]+z[2]+z[2]+z[3]+z[3]),typeof z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(z)){var Ye=parseInt(z.substr(1),16);z=Ye>>16&255,J=Ye>>8&255,ie=255&Ye}if(J===void 0||ye===void 0&&z===J&&J===ie)if(typeof z=="string")k=z+" "+Se[0];else switch(g.precision){case 2:k=I(z/255)+" "+Se[0];break;case 3:default:k=O(z/255)+" "+Se[0]}else if(ye===void 0||Tt(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return k=["1.","1.","1.",Se[1]].join(" ");if(typeof z=="string")k=[z,J,ie,Se[1]].join(" ");else switch(g.precision){case 2:k=[I(z/255),I(J/255),I(ie/255),Se[1]].join(" ");break;default:case 3:k=[O(z/255),O(J/255),O(ie/255),Se[1]].join(" ")}}else if(typeof z=="string")k=[z,J,ie,ye,Se[2]].join(" ");else switch(g.precision){case 2:k=[I(z),I(J),I(ie),I(ye),Se[2]].join(" ");break;case 3:default:k=[O(z),O(J),O(ie),O(ye),Se[2]].join(" ")}return k},Le=p.__private__.getFilters=function(){return a},Re=p.__private__.putStream=function(g){var k=(g=g||{}).data||"",z=g.filters||Le(),J=g.alreadyAppliedFilters||[],ie=g.addLength1||!1,ye=k.length,Se=g.objectId,qe=function(Vr){return Vr};if(f!==null&&Se===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(qe=$r.encryptor(Se,0));var Ye={};z===!0&&(z=["FlateEncode"]);var ft=g.additionalKeyValues||[],dt=(Ye=et.API.processDataByFilters!==void 0?et.API.processDataByFilters(k,z):{data:k,reverseChain:[]}).reverseChain+(Array.isArray(J)?J.join(" "):J.toString());if(Ye.data.length!==0&&(ft.push({key:"Length",value:Ye.data.length}),ie===!0&&ft.push({key:"Length1",value:ye})),dt.length!=0)if(dt.split("/").length-1==1)ft.push({key:"Filter",value:dt});else{ft.push({key:"Filter",value:"["+dt+"]"});for(var At=0;At<ft.length;At+=1)if(ft[At].key==="DecodeParms"){for(var Xt=[],sr=0;sr<Ye.reverseChain.split("/").length-1;sr+=1)Xt.push("null");Xt.push(ft[At].value),ft[At].value="["+Xt.join(" ")+"]"}}V("<<");for(var vr=0;vr<ft.length;vr++)V("/"+ft[vr].key+" "+ft[vr].value);V(">>"),Ye.data.length!==0&&(V("stream"),V(qe(Ye.data)),V("endstream"))},Pe=p.__private__.putPage=function(g){var k=g.number,z=g.data,J=g.objId,ie=g.contentsObjId;rn(J,!0),V("<</Type /Page"),V("/Parent "+g.rootDictionaryObjId+" 0 R"),V("/Resources "+g.resourceDictionaryObjId+" 0 R"),V("/MediaBox ["+parseFloat($(g.mediaBox.bottomLeftX))+" "+parseFloat($(g.mediaBox.bottomLeftY))+" "+$(g.mediaBox.topRightX)+" "+$(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&V("/CropBox ["+$(g.cropBox.bottomLeftX)+" "+$(g.cropBox.bottomLeftY)+" "+$(g.cropBox.topRightX)+" "+$(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&V("/BleedBox ["+$(g.bleedBox.bottomLeftX)+" "+$(g.bleedBox.bottomLeftY)+" "+$(g.bleedBox.topRightX)+" "+$(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&V("/TrimBox ["+$(g.trimBox.bottomLeftX)+" "+$(g.trimBox.bottomLeftY)+" "+$(g.trimBox.topRightX)+" "+$(g.trimBox.topRightY)+"]"),g.artBox!==null&&V("/ArtBox ["+$(g.artBox.bottomLeftX)+" "+$(g.artBox.bottomLeftY)+" "+$(g.artBox.topRightX)+" "+$(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&V("/UserUnit "+g.userUnit),Nt.publish("putPage",{objId:J,pageContext:nt[k],pageNumber:k,page:z}),V("/Contents "+ie+" 0 R"),V(">>"),V("endobj");var ye=z.join(`
`);return b===x.ADVANCED&&(ye+=`
Q`),rn(ie,!0),Re({data:ye,filters:Le(),objectId:ie}),V("endobj"),J},ze=p.__private__.putPages=function(){var g,k,z=[];for(g=1;g<=Dt;g++)nt[g].objId=ir(),nt[g].contentsObjId=ir();for(g=1;g<=Dt;g++)z.push(Pe({number:g,data:je[g],objId:nt[g].objId,contentsObjId:nt[g].contentsObjId,mediaBox:nt[g].mediaBox,cropBox:nt[g].cropBox,bleedBox:nt[g].bleedBox,trimBox:nt[g].trimBox,artBox:nt[g].artBox,userUnit:nt[g].userUnit,rootDictionaryObjId:li,resourceDictionaryObjId:hn}));rn(li,!0),V("<</Type /Pages");var J="/Kids [";for(k=0;k<Dt;k++)J+=z[k]+" 0 R ";V(J+"]"),V("/Count "+Dt),V(">>"),V("endobj"),Nt.publish("postPutPages")},pt=function(g){Nt.publish("putFont",{font:g,out:V,newObject:nr,putStream:Re}),g.isAlreadyPutted!==!0&&(g.objectNumber=nr(),V("<<"),V("/Type /Font"),V("/BaseFont /"+ko(g.postScriptName)),V("/Subtype /Type1"),typeof g.encoding=="string"&&V("/Encoding /"+g.encoding),V("/FirstChar 32"),V("/LastChar 255"),V(">>"),V("endobj"))},gt=function(){for(var g in Ot)Ot.hasOwnProperty(g)&&(m===!1||m===!0&&v.hasOwnProperty(g))&&pt(Ot[g])},at=function(g){g.objectNumber=nr();var k=[];k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Form"}),k.push({key:"BBox",value:"["+[$(g.x),$(g.y),$(g.x+g.width),$(g.y+g.height)].join(" ")+"]"}),k.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var z=g.pages[1].join(`
`);Re({data:z,additionalKeyValues:k,objectId:g.objectNumber}),V("endobj")},qr=function(){for(var g in zt)zt.hasOwnProperty(g)&&at(zt[g])},Cn=function(g,k){var z,J=[],ie=1/(k-1);for(z=0;z<1;z+=ie)J.push(z);if(J.push(1),g[0].offset!=0){var ye={offset:0,color:g[0].color};g.unshift(ye)}if(g[g.length-1].offset!=1){var Se={offset:1,color:g[g.length-1].color};g.push(Se)}for(var qe="",Ye=0,ft=0;ft<J.length;ft++){for(z=J[ft];z>g[Ye+1].offset;)Ye++;var dt=g[Ye].offset,At=(z-dt)/(g[Ye+1].offset-dt),Xt=g[Ye].color,sr=g[Ye+1].color;qe+=K(Math.round((1-At)*Xt[0]+At*sr[0]).toString(16))+K(Math.round((1-At)*Xt[1]+At*sr[1]).toString(16))+K(Math.round((1-At)*Xt[2]+At*sr[2]).toString(16))}return qe.trim()},ui=function(g,k){k||(k=21);var z=nr(),J=Cn(g.colors,k),ie=[];ie.push({key:"FunctionType",value:"0"}),ie.push({key:"Domain",value:"[0.0 1.0]"}),ie.push({key:"Size",value:"["+k+"]"}),ie.push({key:"BitsPerSample",value:"8"}),ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Re({data:J,additionalKeyValues:ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:z}),V("endobj"),g.objectNumber=nr(),V("<< /ShadingType "+g.type),V("/ColorSpace /DeviceRGB");var ye="/Coords ["+$(parseFloat(g.coords[0]))+" "+$(parseFloat(g.coords[1]))+" ";g.type===2?ye+=$(parseFloat(g.coords[2]))+" "+$(parseFloat(g.coords[3])):ye+=$(parseFloat(g.coords[2]))+" "+$(parseFloat(g.coords[3]))+" "+$(parseFloat(g.coords[4]))+" "+$(parseFloat(g.coords[5])),V(ye+="]"),g.matrix&&V("/Matrix ["+g.matrix.toString()+"]"),V("/Function "+z+" 0 R"),V("/Extend [true true]"),V(">>"),V("endobj")},Hi=function(g,k){var z=ir(),J=nr();k.push({resourcesOid:z,objectOid:J}),g.objectNumber=J;var ie=[];ie.push({key:"Type",value:"/Pattern"}),ie.push({key:"PatternType",value:"1"}),ie.push({key:"PaintType",value:"1"}),ie.push({key:"TilingType",value:"1"}),ie.push({key:"BBox",value:"["+g.boundingBox.map($).join(" ")+"]"}),ie.push({key:"XStep",value:$(g.xStep)}),ie.push({key:"YStep",value:$(g.yStep)}),ie.push({key:"Resources",value:z+" 0 R"}),g.matrix&&ie.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Re({data:g.stream,additionalKeyValues:ie,objectId:g.objectNumber}),V("endobj")},Pi=function(g){var k;for(k in Et)Et.hasOwnProperty(k)&&(Et[k]instanceof Ea?ui(Et[k]):Et[k]instanceof Uo&&Hi(Et[k],g))},En=function(g){for(var k in g.objectNumber=nr(),V("<<"),g)switch(k){case"opacity":V("/ca "+I(g[k]));break;case"stroke-opacity":V("/CA "+I(g[k]))}V(">>"),V("endobj")},Hn=function(){var g;for(g in Qt)Qt.hasOwnProperty(g)&&En(Qt[g])},Wi=function(){for(var g in V("/XObject <<"),zt)zt.hasOwnProperty(g)&&zt[g].objectNumber>=0&&V("/"+g+" "+zt[g].objectNumber+" 0 R");Nt.publish("putXobjectDict"),V(">>")},Rh=function(){$r.oid=nr(),V("<<"),V("/Filter /Standard"),V("/V "+$r.v),V("/R "+$r.r),V("/U <"+$r.toHexString($r.U)+">"),V("/O <"+$r.toHexString($r.O)+">"),V("/P "+$r.P),V(">>"),V("endobj")},Qu=function(){for(var g in V("/Font <<"),Ot)Ot.hasOwnProperty(g)&&(m===!1||m===!0&&v.hasOwnProperty(g))&&V("/"+g+" "+Ot[g].objectNumber+" 0 R");V(">>")},Th=function(){if(Object.keys(Et).length>0){for(var g in V("/Shading <<"),Et)Et.hasOwnProperty(g)&&Et[g]instanceof Ea&&Et[g].objectNumber>=0&&V("/"+g+" "+Et[g].objectNumber+" 0 R");Nt.publish("putShadingPatternDict"),V(">>")}},Wa=function(g){if(Object.keys(Et).length>0){for(var k in V("/Pattern <<"),Et)Et.hasOwnProperty(k)&&Et[k]instanceof p.TilingPattern&&Et[k].objectNumber>=0&&Et[k].objectNumber<g&&V("/"+k+" "+Et[k].objectNumber+" 0 R");Nt.publish("putTilingPatternDict"),V(">>")}},Fh=function(){if(Object.keys(Qt).length>0){var g;for(g in V("/ExtGState <<"),Qt)Qt.hasOwnProperty(g)&&Qt[g].objectNumber>=0&&V("/"+g+" "+Qt[g].objectNumber+" 0 R");Nt.publish("putGStateDict"),V(">>")}},ur=function(g){rn(g.resourcesOid,!0),V("<<"),V("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Qu(),Th(),Wa(g.objectOid),Fh(),Wi(),V(">>"),V("endobj")},Xu=function(){var g=[];gt(),Hn(),qr(),Pi(g),Nt.publish("putResources"),g.forEach(ur),ur({resourcesOid:hn,objectOid:Number.MAX_SAFE_INTEGER}),Nt.publish("postPutResources")},Zu=function(){Nt.publish("putAdditionalObjects");for(var g=0;g<Ee.length;g++){var k=Ee[g];rn(k.objId,!0),V(k.content),V("endobj")}Nt.publish("postPutAdditionalObjects")},ec=function(g){Wt[g.fontName]=Wt[g.fontName]||{},Wt[g.fontName][g.fontStyle]=g.id},vl=function(g,k,z,J,ie){var ye={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:g,fontName:k,fontStyle:z,encoding:J,isStandardFont:ie||!1,metadata:{}};return Nt.publish("addFont",{font:ye,instance:this}),Ot[ye.id]=ye,ec(ye),ye.id},Dh=function(g){for(var k=0,z=Ae.length;k<z;k++){var J=vl.call(this,g[k][0],g[k][1],g[k][2],Ae[k][3],!0);m===!1&&(v[J]=!0);var ie=g[k][0].split("-");ec({id:J,fontName:ie[0],fontStyle:ie[1]||""})}Nt.publish("addFonts",{fonts:Ot,dictionary:Wt})},ci=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(J){var k=J.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var z="Error in function "+k.split(`
`)[0].split("<")[0]+": "+J.message;if(!rt.console)throw new Error(z);rt.console.error(z,J),rt.alert&&alert(z)}},g.foo.bar=g,g.foo},Ga=function(g,k){var z,J,ie,ye,Se,qe,Ye,ft,dt;if(ie=(k=k||{}).sourceEncoding||"Unicode",Se=k.outputEncoding,(k.autoencode||Se)&&Ot[vt].metadata&&Ot[vt].metadata[ie]&&Ot[vt].metadata[ie].encoding&&(ye=Ot[vt].metadata[ie].encoding,!Se&&Ot[vt].encoding&&(Se=Ot[vt].encoding),!Se&&ye.codePages&&(Se=ye.codePages[0]),typeof Se=="string"&&(Se=ye[Se]),Se)){for(Ye=!1,qe=[],z=0,J=g.length;z<J;z++)(ft=Se[g.charCodeAt(z)])?qe.push(String.fromCharCode(ft)):qe.push(g[z]),qe[z].charCodeAt(0)>>8&&(Ye=!0);g=qe.join("")}for(z=g.length;Ye===void 0&&z!==0;)g.charCodeAt(z-1)>>8&&(Ye=!0),z--;if(!Ye)return g;for(qe=k.noBOM?[]:[254,255],z=0,J=g.length;z<J;z++){if((dt=(ft=g.charCodeAt(z))>>8)>>8)throw new Error("Character at position "+z+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qe.push(dt),qe.push(ft-(dt<<8))}return String.fromCharCode.apply(void 0,qe)},fn=p.__private__.pdfEscape=p.pdfEscape=function(g,k){return Ga(g,k).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yl=p.__private__.beginPage=function(g){je[++Dt]=[],nt[Dt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},rc(Dt),ve(je[U])},tc=function(g,k){var z,J,ie;switch(r=k||r,typeof g=="string"&&(z=w(g.toLowerCase()),Array.isArray(z)&&(J=z[0],ie=z[1])),Array.isArray(g)&&(J=g[0]*Ue,ie=g[1]*Ue),isNaN(J)&&(J=i[0],ie=i[1]),(J>14400||ie>14400)&&(Ut.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),J=Math.min(14400,J),ie=Math.min(14400,ie)),i=[J,ie],r.substr(0,1)){case"l":ie>J&&(i=[ie,J]);break;case"p":J>ie&&(i=[ie,J])}yl(i),lc(xl),V(di),Sl!==0&&V(Sl+" J"),jl!==0&&V(jl+" j"),Nt.publish("addPage",{pageNumber:Dt})},Mh=function(g){g>0&&g<=Dt&&(je.splice(g,1),nt.splice(g,1),Dt--,U>Dt&&(U=Dt),this.setPage(U))},rc=function(g){g>0&&g<=Dt&&(U=g)},Bh=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return je.length-1},nc=function(g,k,z){var J,ie=void 0;return z=z||{},g=g!==void 0?g:Ot[vt].fontName,k=k!==void 0?k:Ot[vt].fontStyle,J=g.toLowerCase(),Wt[J]!==void 0&&Wt[J][k]!==void 0?ie=Wt[J][k]:Wt[g]!==void 0&&Wt[g][k]!==void 0?ie=Wt[g][k]:z.disableWarning===!1&&Ut.warn("Unable to look up font label for font '"+g+"', '"+k+"'. Refer to getFontList() for available fonts."),ie||z.noFallback||(ie=Wt.times[k])==null&&(ie=Wt.times.normal),ie},Uh=p.__private__.putInfo=function(){var g=nr(),k=function(J){return J};for(var z in f!==null&&(k=$r.encryptor(g,0)),V("<<"),V("/Producer ("+fn(k("jsPDF "+et.version))+")"),tt)tt.hasOwnProperty(z)&&tt[z]&&V("/"+z.substr(0,1).toUpperCase()+z.substr(1)+" ("+fn(k(tt[z]))+")");V("/CreationDate ("+fn(k(pe))+")"),V(">>"),V("endobj")},wl=p.__private__.putCatalog=function(g){var k=(g=g||{}).rootDictionaryObjId||li;switch(nr(),V("<<"),V("/Type /Catalog"),V("/Pages "+k+" 0 R"),Be||(Be="fullwidth"),Be){case"fullwidth":V("/OpenAction [3 0 R /FitH null]");break;case"fullheight":V("/OpenAction [3 0 R /FitV null]");break;case"fullpage":V("/OpenAction [3 0 R /Fit]");break;case"original":V("/OpenAction [3 0 R /XYZ null null 1]");break;default:var z=""+Be;z.substr(z.length-1)==="%"&&(Be=parseInt(Be)/100),typeof Be=="number"&&V("/OpenAction [3 0 R /XYZ null null "+I(Be)+"]")}switch(ct||(ct="continuous"),ct){case"continuous":V("/PageLayout /OneColumn");break;case"single":V("/PageLayout /SinglePage");break;case"two":case"twoleft":V("/PageLayout /TwoColumnLeft");break;case"tworight":V("/PageLayout /TwoColumnRight")}st&&V("/PageMode /"+st),Nt.publish("putCatalog"),V(">>"),V("endobj")},zh=p.__private__.putTrailer=function(){V("trailer"),V("<<"),V("/Size "+(Z+1)),V("/Root "+Z+" 0 R"),V("/Info "+(Z-1)+" 0 R"),f!==null&&V("/Encrypt "+$r.oid+" 0 R"),V("/ID [ <"+oe+"> <"+oe+"> ]"),V(">>")},qh=p.__private__.putHeader=function(){V("%PDF-"+_),V("%")},$h=p.__private__.putXRef=function(){var g="0000000000";V("xref"),V("0 "+(Z+1)),V("0000000000 65535 f ");for(var k=1;k<=Z;k++)typeof le[k]=="function"?V((g+le[k]()).slice(-10)+" 00000 n "):le[k]!==void 0?V((g+le[k]).slice(-10)+" 00000 n "):V("0000000000 00000 n ")},Gi=p.__private__.buildDocument=function(){Ze(),ve(fe),Nt.publish("buildDocument"),qh(),ze(),Zu(),Xu(),f!==null&&Rh(),Uh(),wl();var g=he;return $h(),zh(),V("startxref"),V(""+g),V("%%EOF"),ve(je[U]),fe.join(`
`)},Ka=p.__private__.getBlob=function(g){return new Blob([We(g)],{type:"application/pdf"})},Ja=p.output=p.__private__.output=ci(function(g,k){switch(typeof(k=k||{})=="string"?k={filename:k}:k.filename=k.filename||"generated.pdf",g){case void 0:return Gi();case"save":p.save(k.filename);break;case"arraybuffer":return We(Gi());case"blob":return Ka(Gi());case"bloburi":case"bloburl":if(rt.URL!==void 0&&typeof rt.URL.createObjectURL=="function")return rt.URL&&rt.URL.createObjectURL(Ka(Gi()))||void 0;Ut.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var z="",J=Gi();try{z=Tm(J)}catch{z=Tm(unescape(encodeURIComponent(J)))}return"data:application/pdf;filename="+k.filename+";base64,"+z;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';k.pdfObjectUrl&&(ie=k.pdfObjectUrl,ye="");var Se='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ie+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(k)+");<\/script></body></html>",qe=rt.open();return qe!==null&&qe.document.write(Se),qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(k.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+k.filename+'" width="500px" height="400px" /></body></html>',ft=rt.open();if(ft!==null){ft.document.write(Ye);var dt=this;ft.document.documentElement.querySelector("#pdfViewer").onload=function(){ft.document.title=k.filename,ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(dt.output("bloburl"))}}return ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",k)+'"></iframe></body></html>',Xt=rt.open();if(Xt!==null&&(Xt.document.write(At),Xt.document.title=k.filename),Xt||typeof safari>"u")return Xt;break;case"datauri":case"dataurl":return rt.document.location.href=this.output("datauristring",k);default:return null}}),ic=function(g){return Array.isArray(en)===!0&&en.indexOf(g)>-1};switch(n){case"pt":Ue=1;break;case"mm":Ue=72/25.4;break;case"cm":Ue=72/2.54;break;case"in":Ue=72;break;case"px":Ue=ic("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ue=12;break;case"ex":Ue=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ue=n}var $r=null;Ne(),W();var Vh=function(g){return f!==null?$r.encryptor(g,0):function(k){return k}},sc=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nt[g].objId,pageNumber:g,pageContext:nt[g]}},ut=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var k in nt)if(nt[k].objId===g)break;return sc(k)},Hh=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:nt[U].objId,pageNumber:U,pageContext:nt[U]}};p.addPage=function(){return tc.apply(this,arguments),this},p.setPage=function(){return rc.apply(this,arguments),ve.call(this,je[U]),this},p.insertPage=function(g){return this.addPage(),this.movePage(U,g),this},p.movePage=function(g,k){var z,J;if(g>k){z=je[g],J=nt[g];for(var ie=g;ie>k;ie--)je[ie]=je[ie-1],nt[ie]=nt[ie-1];je[k]=z,nt[k]=J,this.setPage(k)}else if(g<k){z=je[g],J=nt[g];for(var ye=g;ye<k;ye++)je[ye]=je[ye+1],nt[ye]=nt[ye+1];je[k]=z,nt[k]=J,this.setPage(k)}return this},p.deletePage=function(){return Mh.apply(this,arguments),this},p.__private__.text=p.text=function(g,k,z,J,ie){var ye,Se,qe,Ye,ft,dt,At,Xt,sr,vr=(J=J||{}).scope||this;if(typeof g=="number"&&typeof k=="number"&&(typeof z=="string"||Array.isArray(z))){var Vr=z;z=k,k=g,g=Vr}if(arguments[3]instanceof Qe?(M("The transform parameter of text() with a Matrix value"),sr=ie):(qe=arguments[4],Ye=arguments[5],Tt(At=arguments[3])==="object"&&At!==null||(typeof qe=="string"&&(Ye=qe,qe=null),typeof At=="string"&&(Ye=At,At=null),typeof At=="number"&&(qe=At,At=null),J={flags:At,angle:qe,align:Ye})),isNaN(k)||isNaN(z)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return vr;var Cr="",hi=!1,Ln=typeof J.lineHeightFactor=="number"?J.lineHeightFactor:da,Ri=vr.internal.scaleFactor;function pc(qt){return qt=qt.split("	").join(Array(J.TabLen||9).join(" ")),fn(qt,At)}function Ll(qt){for(var $t,dr=qt.concat(),xr=[],Xi=dr.length;Xi--;)typeof($t=dr.shift())=="string"?xr.push($t):Array.isArray(qt)&&($t.length===1||$t[1]===void 0&&$t[2]===void 0)?xr.push($t[0]):xr.push([$t[0],$t[1],$t[2]]);return xr}function Pl(qt,$t){var dr;if(typeof qt=="string")dr=$t(qt)[0];else if(Array.isArray(qt)){for(var xr,Xi,Bl=qt.concat(),co=[],wc=Bl.length;wc--;)typeof(xr=Bl.shift())=="string"?co.push($t(xr)[0]):Array.isArray(xr)&&typeof xr[0]=="string"&&(Xi=$t(xr[0],xr[1],xr[2]),co.push([Xi[0],Xi[1],Xi[2]]));dr=co}return dr}var to=!1,Ol=!0;if(typeof g=="string")to=!0;else if(Array.isArray(g)){var Il=g.concat();Se=[];for(var ro,Tr=Il.length;Tr--;)(typeof(ro=Il.shift())!="string"||Array.isArray(ro)&&typeof ro[0]!="string")&&(Ol=!1);to=Ol}if(to===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var no=Oe/vr.internal.scaleFactor,io=no*(Ln-1);switch(J.baseline){case"bottom":z-=io;break;case"top":z+=no-io;break;case"hanging":z+=no-2*io;break;case"middle":z+=no/2-io}if((dt=J.maxWidth||0)>0&&(typeof g=="string"?g=vr.splitTextToSize(g,dt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(qt,$t){return qt.concat(vr.splitTextToSize($t,dt))},[]))),ye={text:g,x:k,y:z,options:J,mutex:{pdfEscape:fn,activeFontKey:vt,fonts:Ot,activeFontSize:Oe}},Nt.publish("preProcessText",ye),g=ye.text,qe=(J=ye.options).angle,!(sr instanceof Qe)&&qe&&typeof qe=="number"){qe*=Math.PI/180,J.rotationDirection===0&&(qe=-qe),b===x.ADVANCED&&(qe=-qe);var so=Math.cos(qe),Rl=Math.sin(qe);sr=new Qe(so,Rl,-Rl,so,0,0)}else qe&&qe instanceof Qe&&(sr=qe);b!==x.ADVANCED||sr||(sr=Vn),(ft=J.charSpace||Xa)!==void 0&&(Cr+=$(R(ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xt=J.horizontalScale)!==void 0&&(Cr+=$(100*Xt)+` Tz
`),J.lang;var pn=-1,tf=J.renderingMode!==void 0?J.renderingMode:J.stroke,Tl=vr.internal.getCurrentPageInfo().pageContext;switch(tf){case 0:case!1:case"fill":pn=0;break;case 1:case!0:case"stroke":pn=1;break;case 2:case"fillThenStroke":pn=2;break;case 3:case"invisible":pn=3;break;case 4:case"fillAndAddForClipping":pn=4;break;case 5:case"strokeAndAddPathForClipping":pn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":pn=6;break;case 7:case"addToPathForClipping":pn=7}var mc=Tl.usedRenderingMode!==void 0?Tl.usedRenderingMode:-1;pn!==-1?Cr+=pn+` Tr
`:mc!==-1&&(Cr+=`0 Tr
`),pn!==-1&&(Tl.usedRenderingMode=pn),Ye=J.align||"left";var Wn,ao=Oe*Ln,gc=vr.internal.pageSize.getWidth(),vc=Ot[vt];ft=J.charSpace||Xa,dt=J.maxWidth||0,At=Object.assign({autoencode:!0,noBOM:!0},J.flags);var _s=[],pa=function(qt){return vr.getStringUnitWidth(qt,{font:vc,charSpace:ft,fontSize:Oe,doKerning:!1})*Oe/Ri};if(Object.prototype.toString.call(g)==="[object Array]"){var mn;Se=Ll(g),Ye!=="left"&&(Wn=Se.map(pa));var nn,xs=0;if(Ye==="right"){k-=Wn[0],g=[],Tr=Se.length;for(var Ji=0;Ji<Tr;Ji++)Ji===0?(nn=Ii(k),mn=Ki(z)):(nn=R(xs-Wn[Ji]),mn=-ao),g.push([Se[Ji],nn,mn]),xs=Wn[Ji]}else if(Ye==="center"){k-=Wn[0]/2,g=[],Tr=Se.length;for(var Yi=0;Yi<Tr;Yi++)Yi===0?(nn=Ii(k),mn=Ki(z)):(nn=R((xs-Wn[Yi])/2),mn=-ao),g.push([Se[Yi],nn,mn]),xs=Wn[Yi]}else if(Ye==="left"){g=[],Tr=Se.length;for(var oo=0;oo<Tr;oo++)g.push(Se[oo])}else if(Ye==="justify"&&vc.encoding==="Identity-H"){g=[],Tr=Se.length,dt=dt!==0?dt:gc;for(var Qi=0,cr=0;cr<Tr;cr++)if(mn=cr===0?Ki(z):-ao,nn=cr===0?Ii(k):Qi,cr<Tr-1){var Fl=R((dt-Wn[cr])/(Se[cr].split(" ").length-1)),sn=Se[cr].split(" ");g.push([sn[0]+" ",nn,mn]),Qi=0;for(var Gn=1;Gn<sn.length;Gn++){var lo=(pa(sn[Gn-1]+" "+sn[Gn])-pa(sn[Gn]))*Ri+Fl;Gn==sn.length-1?g.push([sn[Gn],lo,0]):g.push([sn[Gn]+" ",lo,0]),Qi-=lo}}else g.push([Se[cr],nn,mn]);g.push(["",Qi,0])}else{if(Ye!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],Tr=Se.length,dt=dt!==0?dt:gc,cr=0;cr<Tr;cr++)mn=cr===0?Ki(z):-ao,nn=cr===0?Ii(k):0,cr<Tr-1?_s.push($(R((dt-Wn[cr])/(Se[cr].split(" ").length-1)))):_s.push(0),g.push([Se[cr],nn,mn])}}var yc=typeof J.R2L=="boolean"?J.R2L:Ke;yc===!0&&(g=Pl(g,function(qt,$t,dr){return[qt.split("").reverse().join(""),$t,dr]})),ye={text:g,x:k,y:z,options:J,mutex:{pdfEscape:fn,activeFontKey:vt,fonts:Ot,activeFontSize:Oe}},Nt.publish("postProcessText",ye),g=ye.text,hi=ye.mutex.isHex||!1;var Dl=Ot[vt].encoding;Dl!=="WinAnsiEncoding"&&Dl!=="StandardEncoding"||(g=Pl(g,function(qt,$t,dr){return[pc(qt),$t,dr]})),Se=Ll(g),g=[];for(var ma,ga,Ns,va=0,uo=1,ya=Array.isArray(Se[0])?uo:va,Ss="",Ml=function(qt,$t,dr){var xr="";return dr instanceof Qe?(dr=typeof J.angle=="number"?An(dr,new Qe(1,0,0,1,qt,$t)):An(new Qe(1,0,0,1,qt,$t),dr),b===x.ADVANCED&&(dr=An(new Qe(1,0,0,-1,0,0),dr)),xr=dr.join(" ")+` Tm
`):xr=$(qt)+" "+$($t)+` Td
`,xr},Kn=0;Kn<Se.length;Kn++){switch(Ss="",ya){case uo:Ns=(hi?"<":"(")+Se[Kn][0]+(hi?">":")"),ma=parseFloat(Se[Kn][1]),ga=parseFloat(Se[Kn][2]);break;case va:Ns=(hi?"<":"(")+Se[Kn]+(hi?">":")"),ma=Ii(k),ga=Ki(z)}_s!==void 0&&_s[Kn]!==void 0&&(Ss=_s[Kn]+` Tw
`),Kn===0?g.push(Ss+Ml(ma,ga,sr)+Ns):ya===va?g.push(Ss+Ns):ya===uo&&g.push(Ss+Ml(ma,ga,sr)+Ns)}g=ya===va?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Jn=`BT
/`;return Jn+=vt+" "+Oe+` Tf
`,Jn+=$(Oe*Ln)+` TL
`,Jn+=ha+`
`,Jn+=Cr,Jn+=g,V(Jn+="ET"),v[vt]=!0,vr};var Wh=p.__private__.clip=p.clip=function(g){return V(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Wh("evenodd")},p.__private__.discardPath=p.discardPath=function(){return V("n"),this};var Oi=p.__private__.isValidStyle=function(g){var k=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(k=!0),k};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return Oi(g)&&(c=g),this};var ac=p.__private__.getStyle=p.getStyle=function(g){var k=c;switch(g){case"D":case"S":k="S";break;case"F":k="f";break;case"FD":case"DF":k="B";break;case"f":case"f*":case"B":case"B*":k=g}return k},oc=p.close=function(){return V("h"),this};p.stroke=function(){return V("S"),this},p.fill=function(g){return Ya("f",g),this},p.fillEvenOdd=function(g){return Ya("f*",g),this},p.fillStroke=function(g){return Ya("B",g),this},p.fillStrokeEvenOdd=function(g){return Ya("B*",g),this};var Ya=function(g,k){Tt(k)==="object"?Kh(k,g):V(g)},bl=function(g){g===null||b===x.ADVANCED&&g===void 0||(g=ac(g),V(g))};function Gh(g,k,z,J,ie){var ye=new Uo(k||this.boundingBox,z||this.xStep,J||this.yStep,this.gState,ie||this.matrix);ye.stream=this.stream;var Se=g+"$$"+this.cloneIndex+++"$$";return zr(Se,ye),ye}var Kh=function(g,k){var z=gs[g.key],J=Et[z];if(J instanceof Ea)V("q"),V(Jh(k)),J.gState&&p.setGState(J.gState),V(g.matrix.toString()+" cm"),V("/"+z+" sh"),V("Q");else if(J instanceof Uo){var ie=new Qe(1,0,0,-1,0,bs());g.matrix&&(ie=ie.multiply(g.matrix||Vn),z=Gh.call(J,g.key,g.boundingBox,g.xStep,g.yStep,ie).id),V("q"),V("/Pattern cs"),V("/"+z+" scn"),J.gState&&p.setGState(J.gState),V(k),V("Q")}},Jh=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},_l=p.moveTo=function(g,k){return V($(R(g))+" "+$(H(k))+" m"),this},ca=p.lineTo=function(g,k){return V($(R(g))+" "+$(H(k))+" l"),this},ys=p.curveTo=function(g,k,z,J,ie,ye){return V([$(R(g)),$(H(k)),$(R(z)),$(H(J)),$(R(ie)),$(H(ye)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,k,z,J,ie){if(isNaN(g)||isNaN(k)||isNaN(z)||isNaN(J)||!Oi(ie))throw new Error("Invalid arguments passed to jsPDF.line");return b===x.COMPAT?this.lines([[z-g,J-k]],g,k,[1,1],ie||"S"):this.lines([[z-g,J-k]],g,k,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,k,z,J,ie,ye){var Se,qe,Ye,ft,dt,At,Xt,sr,vr,Vr,Cr,hi;if(typeof g=="number"&&(hi=z,z=k,k=g,g=hi),J=J||[1,1],ye=ye||!1,isNaN(k)||isNaN(z)||!Array.isArray(g)||!Array.isArray(J)||!Oi(ie)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_l(k,z),Se=J[0],qe=J[1],ft=g.length,Vr=k,Cr=z,Ye=0;Ye<ft;Ye++)(dt=g[Ye]).length===2?(Vr=dt[0]*Se+Vr,Cr=dt[1]*qe+Cr,ca(Vr,Cr)):(At=dt[0]*Se+Vr,Xt=dt[1]*qe+Cr,sr=dt[2]*Se+Vr,vr=dt[3]*qe+Cr,Vr=dt[4]*Se+Vr,Cr=dt[5]*qe+Cr,ys(At,Xt,sr,vr,Vr,Cr));return ye&&oc(),bl(ie),this},p.path=function(g){for(var k=0;k<g.length;k++){var z=g[k],J=z.c;switch(z.op){case"m":_l(J[0],J[1]);break;case"l":ca(J[0],J[1]);break;case"c":ys.apply(this,J);break;case"h":oc()}}return this},p.__private__.rect=p.rect=function(g,k,z,J,ie){if(isNaN(g)||isNaN(k)||isNaN(z)||isNaN(J)||!Oi(ie))throw new Error("Invalid arguments passed to jsPDF.rect");return b===x.COMPAT&&(J=-J),V([$(R(g)),$(H(k)),$(R(z)),$(R(J)),"re"].join(" ")),bl(ie),this},p.__private__.triangle=p.triangle=function(g,k,z,J,ie,ye,Se){if(isNaN(g)||isNaN(k)||isNaN(z)||isNaN(J)||isNaN(ie)||isNaN(ye)||!Oi(Se))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[z-g,J-k],[ie-z,ye-J],[g-ie,k-ye]],g,k,[1,1],Se,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,k,z,J,ie,ye,Se){if(isNaN(g)||isNaN(k)||isNaN(z)||isNaN(J)||isNaN(ie)||isNaN(ye)||!Oi(Se))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qe=4/3*(Math.SQRT2-1);return ie=Math.min(ie,.5*z),ye=Math.min(ye,.5*J),this.lines([[z-2*ie,0],[ie*qe,0,ie,ye-ye*qe,ie,ye],[0,J-2*ye],[0,ye*qe,-ie*qe,ye,-ie,ye],[2*ie-z,0],[-ie*qe,0,-ie,-ye*qe,-ie,-ye],[0,2*ye-J],[0,-ye*qe,ie*qe,-ye,ie,-ye]],g+ie,k,[1,1],Se,!0),this},p.__private__.ellipse=p.ellipse=function(g,k,z,J,ie){if(isNaN(g)||isNaN(k)||isNaN(z)||isNaN(J)||!Oi(ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*z,Se=4/3*(Math.SQRT2-1)*J;return _l(g+z,k),ys(g+z,k-Se,g+ye,k-J,g,k-J),ys(g-ye,k-J,g-z,k-Se,g-z,k),ys(g-z,k+Se,g-ye,k+J,g,k+J),ys(g+ye,k+J,g+z,k+Se,g+z,k),bl(ie),this},p.__private__.circle=p.circle=function(g,k,z,J){if(isNaN(g)||isNaN(k)||isNaN(z)||!Oi(J))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,k,z,z,J)},p.setFont=function(g,k,z){return z&&(k=Y(k,z)),vt=nc(g,k,{disableWarning:!1}),this};var Yh=p.__private__.getFont=p.getFont=function(){return Ot[nc.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,k,z={};for(g in Wt)if(Wt.hasOwnProperty(g))for(k in z[g]=[],Wt[g])Wt[g].hasOwnProperty(k)&&z[g].push(k);return z},p.addFont=function(g,k,z,J,ie){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?ie=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&(z=Y(z,J)),ie=ie||"Identity-H",vl.call(this,g,k,z,ie)};var da,xl=t.lineWidth||.200025,Qa=p.__private__.getLineWidth=p.getLineWidth=function(){return xl},lc=p.__private__.setLineWidth=p.setLineWidth=function(g){return xl=g,V($(R(g))+" w"),this};p.__private__.setLineDash=et.API.setLineDash=et.API.setLineDashPattern=function(g,k){if(g=g||[],k=k||0,isNaN(k)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(z){return $(R(z))}).join(" "),k=$(R(k)),V("["+g+"] "+k+" d"),this};var uc=p.__private__.getLineHeight=p.getLineHeight=function(){return Oe*da};p.__private__.getLineHeight=p.getLineHeight=function(){return Oe*da};var cc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(da=g),this},dc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return da};cc(t.lineHeight);var Ii=p.__private__.getHorizontalCoordinate=function(g){return R(g)},Ki=p.__private__.getVerticalCoordinate=function(g){return b===x.ADVANCED?g:nt[U].mediaBox.topRightY-nt[U].mediaBox.bottomLeftY-R(g)},Qh=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return $(Ii(g))},ws=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return $(Ki(g))},di=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return kn(di)},p.__private__.setStrokeColor=p.setDrawColor=function(g,k,z,J){return di=de({ch1:g,ch2:k,ch3:z,ch4:J,pdfColorType:"draw",precision:2}),V(di),this};var Nl=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return kn(Nl)},p.__private__.setFillColor=p.setFillColor=function(g,k,z,J){return Nl=de({ch1:g,ch2:k,ch3:z,ch4:J,pdfColorType:"fill",precision:2}),V(Nl),this};var ha=t.textColor||"0 g",Xh=p.__private__.getTextColor=p.getTextColor=function(){return kn(ha)};p.__private__.setTextColor=p.setTextColor=function(g,k,z,J){return ha=de({ch1:g,ch2:k,ch3:z,ch4:J,pdfColorType:"text",precision:3}),this};var Xa=t.charSpace,Zh=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Xa||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xa=g,this};var Sl=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var k=p.CapJoinStyles[g];if(k===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sl=k,V(k+" J"),this};var jl=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var k=p.CapJoinStyles[g];if(k===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jl=k,V(k+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return V($(R(g))+" M"),this},p.GState=oh,p.setGState=function(g){(g=typeof g=="string"?Qt[$n[g]]:hc(null,g)).equals(jn)||(V("/"+g.id+" gs"),jn=g)};var hc=function(g,k){if(!g||!$n[g]){var z=!1;for(var J in Qt)if(Qt.hasOwnProperty(J)&&Qt[J].equals(k)){z=!0;break}if(z)k=Qt[J];else{var ie="GS"+(Object.keys(Qt).length+1).toString(10);Qt[ie]=k,k.id=ie}return g&&($n[g]=k.id),Nt.publish("addGState",k),k}};p.addGState=function(g,k){return hc(g,k),this},p.saveGraphicsState=function(){return V("q"),oi.push({key:vt,size:Oe,color:ha}),this},p.restoreGraphicsState=function(){V("Q");var g=oi.pop();return vt=g.key,Oe=g.size,ha=g.color,jn=null,this},p.setCurrentTransformationMatrix=function(g){return V(g.toString()+" cm"),this},p.comment=function(g){return V("#"+g),this};var Za=function(g,k){var z=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return z},set:function(ye){isNaN(ye)||(z=parseFloat(ye))}});var J=k||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return J},set:function(ye){isNaN(ye)||(J=parseFloat(ye))}});var ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ie},set:function(ye){ie=ye.toString()}}),this},Al=function(g,k,z,J){Za.call(this,g,k),this.type="rect";var ie=z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ie},set:function(Se){isNaN(Se)||(ie=parseFloat(Se))}});var ye=J||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(Se){isNaN(Se)||(ye=parseFloat(Se))}}),this},kl=function(){this.page=Dt,this.currentPage=U,this.pages=je.slice(0),this.pagesContext=nt.slice(0),this.x=kr,this.y=jt,this.matrix=Sn,this.width=fa(U),this.height=bs(U),this.outputDestination=Te,this.id="",this.objectNumber=-1};kl.prototype.restore=function(){Dt=this.page,U=this.currentPage,nt=this.pagesContext,je=this.pages,kr=this.x,jt=this.y,Sn=this.matrix,Cl(U,this.width),El(U,this.height),Te=this.outputDestination};var fc=function(g,k,z,J,ie){tn.push(new kl),Dt=U=0,je=[],kr=g,jt=k,Sn=ie,yl([z,J])},ef=function(g){if(Rr[g])tn.pop().restore();else{var k=new kl,z="Xo"+(Object.keys(zt).length+1).toString(10);k.id=z,Rr[g]=z,zt[z]=k,Nt.publish("addFormObject",k),tn.pop().restore()}};for(var eo in p.beginFormObject=function(g,k,z,J,ie){return fc(g,k,z,J,ie),this},p.endFormObject=function(g){return ef(g),this},p.doFormObject=function(g,k){var z=zt[Rr[g]];return V("q"),V(k.toString()+" cm"),V("/"+z.id+" Do"),V("Q"),this},p.getFormObject=function(g){var k=zt[Rr[g]];return{x:k.x,y:k.y,width:k.width,height:k.height,matrix:k.matrix}},p.save=function(g,k){return g=g||"generated.pdf",(k=k||{}).returnPromise=k.returnPromise||!1,k.returnPromise===!1?(ja(Ka(Gi()),g),typeof ja.unload=="function"&&rt.setTimeout&&setTimeout(ja.unload,911),this):new Promise(function(z,J){try{var ie=ja(Ka(Gi()),g);typeof ja.unload=="function"&&rt.setTimeout&&setTimeout(ja.unload,911),z(ie)}catch(ye){J(ye.message)}})},et.API)et.API.hasOwnProperty(eo)&&(eo==="events"&&et.API.events.length?function(g,k){var z,J,ie;for(ie=k.length-1;ie!==-1;ie--)z=k[ie][0],J=k[ie][1],g.subscribe.apply(g,[z].concat(typeof J=="function"?[J]:J))}(Nt,et.API.events):p[eo]=et.API[eo]);var fa=p.getPageWidth=function(g){return(nt[g=g||U].mediaBox.topRightX-nt[g].mediaBox.bottomLeftX)/Ue},Cl=p.setPageWidth=function(g,k){nt[g].mediaBox.topRightX=k*Ue+nt[g].mediaBox.bottomLeftX},bs=p.getPageHeight=function(g){return(nt[g=g||U].mediaBox.topRightY-nt[g].mediaBox.bottomLeftY)/Ue},El=p.setPageHeight=function(g,k){nt[g].mediaBox.topRightY=k*Ue+nt[g].mediaBox.bottomLeftY};return p.internal={pdfEscape:fn,getStyle:ac,getFont:Yh,getFontSize:Ie,getCharSpace:Zh,getTextColor:Xh,getLineHeight:uc,getLineHeightFactor:dc,getLineWidth:Qa,write:ot,getHorizontalCoordinate:Ii,getVerticalCoordinate:Ki,getCoordinateString:Qh,getVerticalCoordinateString:ws,collections:{},newObject:nr,newAdditionalObject:vs,newObjectDeferred:ir,newObjectDeferredBegin:rn,getFilters:Le,putStream:Re,events:Nt,scaleFactor:Ue,pageSize:{getWidth:function(){return fa(U)},setWidth:function(g){Cl(U,g)},getHeight:function(){return bs(U)},setHeight:function(g){El(U,g)}},encryptionOptions:f,encryption:$r,getEncryptor:Vh,output:Ja,getNumberOfPages:Bh,pages:je,out:V,f2:I,f3:O,getPageInfo:sc,getPageInfoByObjId:ut,getCurrentPageInfo:Hh,getPDFVersion:S,Point:Za,Rectangle:Al,Matrix:Qe,hasHotfix:ic},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return fa(U)},set:function(g){Cl(U,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return bs(U)},set:function(g){El(U,g)},enumerable:!0,configurable:!0}),Dh.call(p,Ae),vt="F1",tc(i,r),Nt.publish("initialized"),p}Ao.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Ao.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ao.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Ao.prototype.processOwnerPassword=function(t,e){return Dm(Fm(e).substr(0,5),t)},Ao.prototype.encryptor=function(t,e){var r=Fm(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Dm(r,n)}},oh.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Tt(t)!==Tt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},et.API={events:[]},et.version="2.5.2";var or=et.API,Y0=1,Ha=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xo=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ht=function(t){return t.toFixed(2)},Ts=function(t){return t.toFixed(5)};or.__acroform__={};var Nn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},L2=function(t){return t*Y0},Di=function(t){var e=new zw,r=He.internal.getHeight(t)||0,n=He.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ht(n)),Number(ht(r))],e},Wj=or.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Gj=or.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Kj=or.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},fr=or.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Kj(t,e-1)},pr=or.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Wj(t,e-1)},mr=or.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Gj(t,e-1)},Jj=or.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],l=t[3],o={};return o.lowerLeft_X=r(i)||0,o.lowerLeft_Y=n(s+l)||0,o.upperRight_X=r(i+a)||0,o.upperRight_Y=n(s)||0,[Number(ht(o.lowerLeft_X)),Number(ht(o.lowerLeft_Y)),Number(ht(o.upperRight_X)),Number(ht(o.upperRight_Y))]},Yj=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Mm(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+ht(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Di(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Mm=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var s=r,a=He.internal.getHeight(t)||0;a=a<0?-a:a;var l=He.internal.getWidth(t)||0;l=l<0?-l:l;var o=function(O,R,G){if(O+1<i.length){var H=R+" "+i[O+1][0];return hd(H,t,G).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var c,f,m=hd("3",t,s).height,v=t.multiline?a-s:(a-m)/2,p=v+=2,_=0,S=0,j=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+hd(e,t,s=12).width+", FieldWidth:"+l+`
`;break}for(var w="",x=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var P=!1;if(i[b].length!==1&&j!==i[b].length-1){if((m+2)*(x+2)+2>a)continue e;w+=i[b][j],P=!0,S=b,b--}else{w=(w+=i[b][j]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var D=parseInt(b),Y=o(D,w,s),$=b>=i.length-1;if(Y&&!$){w+=" ",j=0;continue}if(Y||$){if($)S=D;else if(t.multiline&&(m+2)*(x+2)+2>a)continue e}else{if(!t.multiline||(m+2)*(x+2)+2>a)continue e;S=D}}for(var M="",te=_;te<=S;te++){var I=i[te];if(t.multiline){if(te===S){M+=I[j]+" ",j=(j+1)%I.length;continue}if(te===_){M+=I[I.length-1]+" ";continue}}M+=I[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,f=hd(M,t,s).width,t.textAlign){case"right":c=l-f-2;break;case"center":c=(l-f)/2;break;case"left":default:c=2}e+=ht(c)+" "+ht(p)+` Td
`,e+="("+Ha(M)+`) Tj
`,e+=-ht(c)+` 0 Td
`,p=-(s+2),f=0,_=P?S:S+1,x++,w=""}break}return n.text=e,n.fontSize=s,n},hd=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Qj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Xj=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Zj=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),Tt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},e6=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ei.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Qj)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Y0=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new qw,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&Xj(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var l=n[a],o=[],c=l.Rect;if(l.Rect&&(l.Rect=Jj(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=He.createDefaultAppearanceStream(l),Tt(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(o=l.getKeyValueListForStream()),l.Rect=c,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=Yj(l);o.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var m="";for(var v in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(v)){var p=l.appearanceStreamContent[v];if(m+="/"+v+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var _=p[a];typeof _=="function"&&(_=_.call(i,l)),m+="/"+a+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=p)=="function"&&(_=_.call(i,l)),m+="/"+a+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);m+=">>"}o.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:o,objectId:l.objId}),i.internal.out("endobj")}s&&Zj(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Uw=or.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Tt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Ha(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},fp=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Ha(n(t))+")"},Ui=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ui.prototype.toString=function(){return this.objId+" 0 R"},Ui.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ui.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:Uw(i,this.objId,this.scope)}):i instanceof Ui?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var zw=function(){Ui.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Nn(zw,Ui);var qw=function(){Ui.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ha(r(t))+")"}},set:function(r){t=r}})};Nn(qw,Ui);var Ei=function t(){Ui.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fr(e,3)},set:function(w){w?this.F=pr(e,3):this.F=mr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof lh)return;s="FieldObject"+t.FieldNum++}var w=function(x){return x};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Ha(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var o=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Y0:c},set:function(w){c=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof lh||this instanceof Fa))return fp(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=w}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Or?v:fp(v,this.objId,this.scope)},set:function(w){w=w.toString(),v=this instanceof Or?w:w.substr(0,1)==="("?xo(w.substr(1,w.length-2)):xo(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Or?xo(v.substr(1,v.length-1)):v},set:function(w){w=w.toString(),v=this instanceof Or?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Or?p:fp(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof Or?w:w.substr(0,1)==="("?xo(w.substr(1,w.length-2)):xo(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Or?xo(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Or?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(w){w=!!w,S=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(w){_=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,1)},set:function(w){w?this.Ff=pr(this.Ff,1):this.Ff=mr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,2)},set:function(w){w?this.Ff=pr(this.Ff,2):this.Ff=mr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,3)},set:function(w){w?this.Ff=pr(this.Ff,3):this.Ff=mr(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');j=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(j){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};Nn(Ei,Ui);var Jo=function(){Ei.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Uw(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,l){l||(l=1);for(var o,c=[];o=a.exec(s);)c.push(o[l]);return c}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,18)},set:function(r){r?this.Ff=pr(this.Ff,18):this.Ff=mr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=pr(this.Ff,19):this.Ff=mr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,20)},set:function(r){r?(this.Ff=pr(this.Ff,20),e.sort()):this.Ff=mr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,22)},set:function(r){r?this.Ff=pr(this.Ff,22):this.Ff=mr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,23)},set:function(r){r?this.Ff=pr(this.Ff,23):this.Ff=mr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,27)},set:function(r){r?this.Ff=pr(this.Ff,27):this.Ff=mr(this.Ff,27)}}),this.hasAppearanceStream=!1};Nn(Jo,Ei);var Yo=function(){Jo.call(this),this.fontName="helvetica",this.combo=!1};Nn(Yo,Jo);var Qo=function(){Yo.call(this),this.combo=!0};Nn(Qo,Yo);var kd=function(){Qo.call(this),this.edit=!0};Nn(kd,Qo);var Or=function(){Ei.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,15)},set:function(r){r?this.Ff=pr(this.Ff,15):this.Ff=mr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,16)},set:function(r){r?this.Ff=pr(this.Ff,16):this.Ff=mr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,17)},set:function(r){r?this.Ff=pr(this.Ff,17):this.Ff=mr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,26)},set:function(r){r?this.Ff=pr(this.Ff,26):this.Ff=mr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Ha(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Tt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Nn(Or,Ei);var Cd=function(){Or.call(this),this.pushButton=!0};Nn(Cd,Or);var Xo=function(){Or.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Nn(Xo,Or);var lh=function(){var t,e;Ei.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Ha(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Tt(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=He.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Nn(lh,Ei),Xo.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Xo.prototype.createOption=function(t){var e=new lh;return e.Parent=this,e.optionName=t,this.Kids.push(e),t6.call(this.scope,e),e};var Ed=function(){Or.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=He.CheckBox.createAppearanceStream()};Nn(Ed,Or);var Fa=function(){Ei.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,13)},set:function(e){e?this.Ff=pr(this.Ff,13):this.Ff=mr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,21)},set:function(e){e?this.Ff=pr(this.Ff,21):this.Ff=mr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,23)},set:function(e){e?this.Ff=pr(this.Ff,23):this.Ff=mr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,24)},set:function(e){e?this.Ff=pr(this.Ff,24):this.Ff=mr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,25)},set:function(e){e?this.Ff=pr(this.Ff,25):this.Ff=mr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,26)},set:function(e){e?this.Ff=pr(this.Ff,26):this.Ff=mr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Nn(Fa,Ei);var Ld=function(){Fa.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,14)},set:function(t){t?this.Ff=pr(this.Ff,14):this.Ff=mr(this.Ff,14)}}),this.password=!0};Nn(Ld,Fa);var He={CheckBox:{createAppearanceStream:function(){return{N:{On:He.CheckBox.YesNormal},D:{On:He.CheckBox.YesPushDown,Off:He.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Di(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Mm(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ht(He.internal.getWidth(t))+" "+ht(He.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ht(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Di(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=He.internal.getHeight(t),a=He.internal.getWidth(t),l=Mm(t,t.caption);return i.push("1 g"),i.push("0 0 "+ht(a)+" "+ht(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ht(a-1)+" "+ht(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+ht(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Di(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ht(He.internal.getWidth(t))+" "+ht(He.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:He.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=He.RadioButton.Circle.YesNormal,e.D[t]=He.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Di(t);e.scope=t.scope;var r=[],n=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=He.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ts(He.internal.getWidth(t)/2)+" "+Ts(He.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Di(t);e.scope=t.scope;var r=[],n=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*He.internal.Bezier_C).toFixed(5)),a=Number((n*He.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ts(He.internal.getWidth(t)/2)+" "+Ts(He.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ts(He.internal.getWidth(t)/2)+" "+Ts(He.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Di(t);e.scope=t.scope;var r=[],n=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*He.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ts(He.internal.getWidth(t)/2)+" "+Ts(He.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:He.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=He.RadioButton.Cross.YesNormal,e.D[t]=He.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Di(t);e.scope=t.scope;var r=[],n=He.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ht(He.internal.getWidth(t)-2)+" "+ht(He.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ht(n.x1.x)+" "+ht(n.x1.y)+" m"),r.push(ht(n.x2.x)+" "+ht(n.x2.y)+" l"),r.push(ht(n.x4.x)+" "+ht(n.x4.y)+" m"),r.push(ht(n.x3.x)+" "+ht(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Di(t);e.scope=t.scope;var r=He.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ht(He.internal.getWidth(t))+" "+ht(He.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ht(He.internal.getWidth(t)-2)+" "+ht(He.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ht(r.x1.x)+" "+ht(r.x1.y)+" m"),n.push(ht(r.x2.x)+" "+ht(r.x2.y)+" l"),n.push(ht(r.x4.x)+" "+ht(r.x4.y)+" m"),n.push(ht(r.x3.x)+" "+ht(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Di(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ht(He.internal.getWidth(t))+" "+ht(He.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};He.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=He.internal.getWidth(t),r=He.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},He.internal.getWidth=function(t){var e=0;return Tt(t)==="object"&&(e=L2(t.Rect[2])),e},He.internal.getHeight=function(t){var e=0;return Tt(t)==="object"&&(e=L2(t.Rect[3])),e};var t6=or.addField=function(t){if(e6(this,t),!(t instanceof Ei))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};or.AcroFormChoiceField=Jo,or.AcroFormListBox=Yo,or.AcroFormComboBox=Qo,or.AcroFormEditBox=kd,or.AcroFormButton=Or,or.AcroFormPushButton=Cd,or.AcroFormRadioButton=Xo,or.AcroFormCheckBox=Ed,or.AcroFormTextField=Fa,or.AcroFormPasswordField=Ld,or.AcroFormAppearance=He,or.AcroForm={ChoiceField:Jo,ListBox:Yo,ComboBox:Qo,EditBox:kd,Button:Or,PushButton:Cd,RadioButton:Xo,CheckBox:Ed,TextField:Fa,PasswordField:Ld,Appearance:He},et.AcroForm={ChoiceField:Jo,ListBox:Yo,ComboBox:Qo,EditBox:kd,Button:Or,PushButton:Cd,RadioButton:Xo,CheckBox:Ed,TextField:Fa,PasswordField:Ld,Appearance:He};et.AcroForm;function $w(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(O,R){var G,H,pe,oe,me,W=e;if((R=R||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(Y(O))for(me in r)for(pe=r[me],G=0;G<pe.length;G+=1){for(oe=!0,H=0;H<pe[G].length;H+=1)if(pe[G][H]!==void 0&&pe[G][H]!==O[H]){oe=!1;break}if(oe===!0){W=me;break}}else for(me in r)for(pe=r[me],G=0;G<pe.length;G+=1){for(oe=!0,H=0;H<pe[G].length;H+=1)if(pe[G][H]!==void 0&&pe[G][H]!==O.charCodeAt(H)){oe=!1;break}if(oe===!0){W=me;break}}return W===e&&R!==e&&(W=R),W},i=function O(R){for(var G=this.internal.write,H=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:R.width}),oe.push({key:"Height",value:R.height}),R.colorSpace===j.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===j.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&oe.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var me="",W=0,ne=R.transparency.length;W<ne;W++)me+=R.transparency[W]+" "+R.transparency[W]+" ";oe.push({key:"Mask",value:"["+me+"]"})}R.sMask!==void 0&&oe.push({key:"SMask",value:R.objectId+1+" 0 R"});var ae=R.filter!==void 0?["/"+R.filter]:void 0;if(H({data:R.data,additionalKeyValues:oe,alreadyAppliedFilters:ae,objectId:R.objectId}),G("endobj"),"sMask"in R&&R.sMask!==void 0){var Ne="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,C={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:Ne,data:R.sMask};"filter"in R&&(C.filter=R.filter),O.call(this,C)}if(R.colorSpace===j.INDEXED){var U=this.internal.newObject();H({data:M(new Uint8Array(R.palette)),objectId:U}),G("endobj")}},s=function(){var O=this.internal.collections.addImage_images;for(var R in O)i.call(this,O[R])},a=function(){var O,R=this.internal.collections.addImage_images,G=this.internal.write;for(var H in R)G("/I"+(O=R[H]).index,O.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},o=function(){var O=this.internal.collections.addImage_images;return l.call(this),O},c=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(O){return typeof t["process"+O.toUpperCase()]=="function"},m=function(O){return Tt(O)==="object"&&O.nodeType===1},v=function(O,R){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var G=""+O.getAttribute("src");if(G.indexOf("data:image/")===0)return bu(unescape(G).split("base64,").pop());var H=t.loadFile(G,!0);if(H!==void 0)return H}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var pe;switch(R){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;case"JPEG":case"JPG":default:pe="image/jpeg"}return bu(O.toDataURL(pe,1).split("base64,").pop())}},p=function(O){var R=this.internal.collections.addImage_images;if(R){for(var G in R)if(O===R[G].alias)return R[G]}},_=function(O,R,G){return O||R||(O=-96,R=-96),O<0&&(O=-1*G.width*72/O/this.internal.scaleFactor),R<0&&(R=-1*G.height*72/R/this.internal.scaleFactor),O===0&&(O=R*G.width/G.height),R===0&&(R=O*G.height/G.width),[O,R]},S=function(O,R,G,H,pe,oe){var me=_.call(this,G,H,pe),W=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,ae=o.call(this);if(G=me[0],H=me[1],ae[pe.index]=pe,oe){oe*=Math.PI/180;var Ne=Math.cos(oe),C=Math.sin(oe),U=function(K){return K.toFixed(4)},q=[U(Ne),U(C),U(-1*C),U(Ne),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,W(O),ne(R+H),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([W(G),"0","0",W(H),"0","0","cm"].join(" "))):this.internal.write([W(G),"0","0",W(H),W(O),ne(R+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},j=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(O){var R,G,H=0;if(typeof O=="string")for(G=O.length,R=0;R<G;R++)H=(H<<5)-H+O.charCodeAt(R),H|=0;else if(Y(O))for(G=O.byteLength/2,R=0;R<G;R++)H=(H<<5)-H+O[R],H|=0;return H},b=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var R=!0;return O.length===0&&(R=!1),O.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(R=!1),R},P=t.__addimage__.extractImageFromDataUrl=function(O){var R=(O=O||"").split("base64,"),G=null;if(R.length===2){var H=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(H)&&(G={mimeType:H[1],charset:H[2],data:R[1]})}return G},D=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(O){return D()&&O instanceof ArrayBuffer};var Y=t.__addimage__.isArrayBufferView=function(O){return D()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},$=t.__addimage__.binaryStringToUint8Array=function(O){for(var R=O.length,G=new Uint8Array(R),H=0;H<R;H++)G[H]=O.charCodeAt(H);return G},M=t.__addimage__.arrayBufferToBinaryString=function(O){for(var R="",G=Y(O)?O:new Uint8Array(O),H=0;H<G.length;H+=8192)R+=String.fromCharCode.apply(null,G.subarray(H,H+8192));return R};t.addImage=function(){var O,R,G,H,pe,oe,me,W,ne;if(typeof arguments[1]=="number"?(R=e,G=arguments[1],H=arguments[2],pe=arguments[3],oe=arguments[4],me=arguments[5],W=arguments[6],ne=arguments[7]):(R=arguments[1],G=arguments[2],H=arguments[3],pe=arguments[4],oe=arguments[5],me=arguments[6],W=arguments[7],ne=arguments[8]),Tt(O=arguments[0])==="object"&&!m(O)&&"imageData"in O){var ae=O;O=ae.imageData,R=ae.format||R||e,G=ae.x||G||0,H=ae.y||H||0,pe=ae.w||ae.width||pe,oe=ae.h||ae.height||oe,me=ae.alias||me,W=ae.compression||W,ne=ae.rotation||ae.angle||ne}var Ne=this.internal.getFilters();if(W===void 0&&Ne.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(G)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var C=te.call(this,O,R,me,W);return S.call(this,G,H,pe,oe,C,ne),this};var te=function(O,R,G,H){var pe,oe,me;if(typeof O=="string"&&n(O)===e){O=unescape(O);var W=I(O,!1);(W!==""||(W=t.loadFile(O,!0))!==void 0)&&(O=W)}if(m(O)&&(O=v(O,R)),R=n(O,R),!f(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((me=G)==null||me.length===0)&&(G=function(ne){return typeof ne=="string"||Y(ne)?x(ne):Y(ne.data)?x(ne.data):null}(O)),(pe=p.call(this,G))||(D()&&(O instanceof Uint8Array||R==="RGBA"||(oe=O,O=$(O))),pe=this["process"+R.toUpperCase()](O,c.call(this),G,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in t.image_compression?ne:w.NONE}(H),oe)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},I=t.__addimage__.convertBase64ToBinaryString=function(O,R){var G;R=typeof R!="boolean"||R;var H,pe="";if(typeof O=="string"){H=(G=P(O))!==null?G.data:O;try{pe=bu(H)}catch(oe){if(R)throw b(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return pe};t.getImageProperties=function(O){var R,G,H="";if(m(O)&&(O=v(O)),typeof O=="string"&&n(O)===e&&((H=I(O,!1))===""&&(H=t.loadFile(O)||""),O=H),G=n(O),!f(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(!D()||O instanceof Uint8Array||(O=$(O)),!(R=this["process"+G.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=G,R}})(et.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};et.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,f=!1,m=0;m<c.length&&!f;m++)switch((n=c[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var v=0;v<c.length;v++){n=c[v];var p=this.internal.pdfEscape,_=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(S.objId),x=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(w(n.contents))+")",s+=" /Popup "+j.objId+" 0 R",s+=" /P "+o.objId+" 0 R",s+=" /T ("+p(w(x))+") >>",S.content=s;var b=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(s+=" /Open true"),s+=" >>",j.content=s,this.internal.write(S.objId,"0 R",j.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var P=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(_(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var D=this.annotations._nameMap[n.options.name];n.options.pageNumber=D.page,n.options.top=D.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(_(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var Y=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+Y+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var l=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:o(r),y:c(n),w:o(r+i),h:c(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,l,o=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var f=this.splitTextToSize(r,l).length;a=Math.ceil(c*f)}else l=o,a=c;return this.text(r,n,i,s),i+=.2*c,s.align==="center"&&(n-=o/2),s.align==="right"&&(n-=o),this.link(n,i-c,l,a,s),o},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(et.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},l=t.__arabicParser__.isArabicEndLetter=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length<=2},o=t.__arabicParser__.isArabicAlfLetter=function(S){return a(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(S){var j=0,w=r,x="",b=0;for(j=0;j<S.length;j+=1)w[S.charCodeAt(j)]!==void 0?(b++,typeof(w=w[S.charCodeAt(j)])=="number"&&(x+=String.fromCharCode(w),w=r,b=0),j===S.length-1&&(w=r,x+=S.charAt(j-(b-1)),j-=b-1,b=0)):(w=r,x+=S.charAt(j-b),j-=b,b=0);return x};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&n[S.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(S,j,w){return a(S)?s(S)===!1?-1:!c(S)||!a(j)&&!a(w)||!a(w)&&l(j)||l(S)&&!a(j)||l(S)&&o(j)||l(S)&&l(j)?0:f(S)&&a(j)&&!l(j)&&a(w)&&c(w)?3:l(S)||!a(w)?1:2:-1},p=function(S){var j=0,w=0,x=0,b="",P="",D="",Y=(S=S||"").split("\\s+"),$=[];for(j=0;j<Y.length;j+=1){for($.push(""),w=0;w<Y[j].length;w+=1)b=Y[j][w],P=Y[j][w-1],D=Y[j][w+1],a(b)?(x=v(b,P,D),$[j]+=x!==-1?String.fromCharCode(e[b.charCodeAt(0)][x]):b):$[j]+=b;$[j]=m($[j])}return $.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var S,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(j)){var x=0;for(w=[],x=0;x<j.length;x+=1)Array.isArray(j[x])?w.push([p(j[x][0]),j[x][1],j[x][2]]):w.push([p(j[x])]);S=w}else S=p(j);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",_])}(et.API),et.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(et.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var o=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return o},set:function(S){o=S}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(S){v=S}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(S){_=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(o){return n.call(this),this.internal.__cell__.headerFunction=typeof o=="function"?o:void 0,this},t.getTextDimensions=function(o,c){n.call(this);var f=(c=c||{}).fontSize||this.getFontSize(),m=c.font||this.getFont(),v=c.scaleFactor||this.internal.scaleFactor,p=0,_=0,S=0,j=this;if(!Array.isArray(o)&&typeof o!="string"){if(typeof o!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");o=String(o)}var w=c.maxWidth;w>0?typeof o=="string"?o=this.splitTextToSize(o,w):Object.prototype.toString.call(o)==="[object Array]"&&(o=o.reduce(function(b,P){return b.concat(j.splitTextToSize(P,w))},[])):o=Array.isArray(o)?o:[o];for(var x=0;x<o.length;x++)p<(S=this.getStringUnitWidth(o[x],{font:m})*f)&&(p=S);return p!==0&&(_=o.length),{w:p/=v,h:Math.max((_*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var o=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(o.left,o.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var o;o=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===o.lineNumber?(o.x=(c.x||0)+(c.width||0),o.y=c.y||0):c.y+c.height+o.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),o.y=m.top,p&&v&&(this.printHeaderRow(o.lineNumber,!0),o.y+=v[0].height)):o.y=c.y+c.height||o.y),o.text[0]!==void 0&&(this.rect(o.x,o.y,o.width,o.height,r===!0?"FD":void 0),o.align==="right"?this.text(o.text,o.x+o.width-f,o.y+f,{align:"right",baseline:"top"}):o.align==="center"?this.text(o.text,o.x+o.width/2,o.y+f,{align:"center",baseline:"top",maxWidth:o.width-f-f}):this.text(o.text,o.x+f,o.y+f,{align:"left",baseline:"top",maxWidth:o.width-f-f})),this.internal.__cell__.lastCell=o,this};t.table=function(o,c,f,m,v){if(n.call(this),!f)throw new Error("No data for PDF table.");var p,_,S,j,w=[],x=[],b=[],P={},D={},Y=[],$=[],M=(v=v||{}).autoSize||!1,te=v.printHeaders!==!1,I=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,O=v.margins||Object.assign({width:this.getPageWidth()},e),R=typeof v.padding=="number"?v.padding:3,G=v.headerBackgroundColor||"#c8c8c8",H=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=te,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=H,this.setFontSize(I),m==null)x=w=Object.keys(f[0]),b=w.map(function(){return"left"});else if(Array.isArray(m)&&Tt(m[0])==="object")for(w=m.map(function(ae){return ae.name}),x=m.map(function(ae){return ae.prompt||ae.name||""}),b=m.map(function(ae){return ae.align||"left"}),p=0;p<m.length;p+=1)D[m[p].name]=m[p].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(x=w=m,b=w.map(function(){return"left"}));if(M||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<w.length;p+=1){for(P[j=w[p]]=f.map(function(ae){return ae[j]}),this.setFont(void 0,"bold"),Y.push(this.getTextDimensions(x[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=P[j],this.setFont(void 0,"normal"),S=0;S<_.length;S+=1)Y.push(this.getTextDimensions(_[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[j]=Math.max.apply(null,Y)+R+R,Y=[]}if(te){var pe={};for(p=0;p<w.length;p+=1)pe[w[p]]={},pe[w[p]].text=x[p],pe[w[p]].align=b[p];var oe=l.call(this,pe,D);$=w.map(function(ae){return new s(o,c,D[ae],oe,pe[ae].text,void 0,pe[ae].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var me=m.reduce(function(ae,Ne){return ae[Ne.name]=Ne.align,ae},{});for(p=0;p<f.length;p+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:p,data:f[p]},this);var W=l.call(this,f[p],D);for(S=0;S<w.length;S+=1){var ne=f[p][w[S]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:p,col:S,data:ne},this),a.call(this,new s(o,c,D[w[S]],W,ne,p+2,me[w[S]]))}}return this.internal.__cell__.table_x=o,this.internal.__cell__.table_y=c,this};var l=function(o,c){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(o).map(function(p){var _=o[p];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,c[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/v+f+f},this).reduce(function(p,_){return Math.max(p,_)},0)};t.setTableHeaderRow=function(o){n.call(this),this.internal.__cell__.tableHeaderRow=o},t.printHeaderRow=function(o,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(f.y=this.internal.__cell__.margins.top||0,v.push(f)),f.lineNumber=o;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(_)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(et.API);var Vw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Hw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Bm=$w(Hw),Ww=[100,200,300,400,500,600,700,800,900],r6=$w(Ww);function Um(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return Vw[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof Bm[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function P2(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var n6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},O2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function I2(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function i6(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},n6,r.genericFontFamilies||{}),s=null,a=null,l=0;l<e.length;++l)if(i[(s=Um(e[l])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+I2(s)+"' and default family '"+n+"'.");if(a=function(o,c){if(c[o])return c[o];var f=Bm[o],m=f<=Bm.normal?-1:1,v=P2(c,Hw,f,m);if(!v)throw new Error("Could not find a matching font-stretch value for "+o);return v}(s.stretch,a),a=function(o,c){if(c[o])return c[o];for(var f=Vw[o],m=0;m<f.length;++m)if(c[f[m]])return c[f[m]];throw new Error("Could not find a matching font-style for "+o)}(s.style,a),!(a=function(o,c){if(c[o])return c[o];if(o===400&&c[500])return c[500];if(o===500&&c[400])return c[400];var f=r6[o],m=P2(c,Ww,f,o<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+o);return m}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+I2(s)+"'.");return a}function R2(t){return t.trimLeft()}function s6(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function a6(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var fd,T2,F2,pp=["times"];(function(t){var e,r,n,i,s,a,l,o,c,f=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new o,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new a,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new a,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,o=this.internal.Matrix,c=new f}]);var m=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=C;Object.defineProperty(this,"pdf",{get:function(){return U}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(ve){q=!!ve}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(ve){K=!!ve}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ve){isNaN(ve)||(Z=ve)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(ve){isNaN(ve)||(le=ve)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ve){var V;typeof ve=="number"?V=[ve,ve,ve,ve]:((V=new Array(4))[0]=ve[0],V[1]=ve.length>=2?ve[1]:V[0],V[2]=ve.length>=3?ve[2]:V[0],V[3]=ve.length>=4?ve[3]:V[1]),c.margin=V}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(ve){fe=ve}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(ve){he=ve}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(ve){Ee=ve}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ve){ve instanceof f&&(c=ve)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ve){c.path=ve}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(ve){je=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var V;V=v(ve),this.ctx.fillStyle=V.style,this.ctx.isFillTransparent=V.a===0,this.ctx.fillOpacity=V.a,this.pdf.setFillColor(V.r,V.g,V.b,{a:V.a}),this.pdf.setTextColor(V.r,V.g,V.b,{a:V.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var V=v(ve);this.ctx.strokeStyle=V.style,this.ctx.isStrokeTransparent=V.a===0,this.ctx.strokeOpacity=V.a,V.a===0?this.pdf.setDrawColor(255,255,255):(V.a,this.pdf.setDrawColor(V.r,V.g,V.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var De=null;function Te(ve,V){if(De===null){var ot=function(We){var Ae=[];return Object.keys(We).forEach(function(Oe){We[Oe].forEach(function(Be){var Ie=null;switch(Be){case"bold":Ie={family:Oe,weight:"bold"};break;case"italic":Ie={family:Oe,style:"italic"};break;case"bolditalic":Ie={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:Oe}}Ie!==null&&(Ie.ref={name:Oe,style:Be},Ae.push(Ie))})}),Ae}(ve.getFontList());De=function(We){for(var Ae={},Oe=0;Oe<We.length;++Oe){var Be=Um(We[Oe]),Ie=Be.family,Ke=Be.stretch,st=Be.style,lt=Be.weight;Ae[Ie]=Ae[Ie]||{},Ae[Ie][Ke]=Ae[Ie][Ke]||{},Ae[Ie][Ke][st]=Ae[Ie][Ke][st]||{},Ae[Ie][Ke][st][lt]=Be}return Ae}(ot.concat(V))}return De}var Ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ze},set:function(ve){De=null,Ze=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var V;if(this.ctx.font=ve,(V=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var ot=V[1],We=(V[2],V[3]),Ae=V[4],Oe=(V[5],V[6]),Be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ae)[2];Ae=Math.floor(Be==="px"?parseFloat(Ae)*this.pdf.internal.scaleFactor:Be==="em"?parseFloat(Ae)*this.pdf.getFontSize():parseFloat(Ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ae);var Ie=function(tt){var vt,Ue,kr=[],jt=tt.trim();if(jt==="")return pp;if(jt in O2)return[O2[jt]];for(;jt!=="";){switch(Ue=null,vt=(jt=R2(jt)).charAt(0)){case'"':case"'":Ue=s6(jt.substring(1),vt);break;default:Ue=a6(jt)}if(Ue===null||(kr.push(Ue[0]),(jt=R2(Ue[1]))!==""&&jt.charAt(0)!==","))return pp;jt=jt.replace(/^,/,"")}return kr}(Oe);if(this.fontFaces){var Ke=i6(Te(this.pdf,this.fontFaces),Ie.map(function(tt){return{family:tt,stretch:"normal",weight:We,style:ot}}));this.pdf.setFont(Ke.ref.name,Ke.ref.style)}else{var st="";(We==="bold"||parseInt(We,10)>=700||ot==="bold")&&(st="bold"),ot==="italic"&&(st+="italic"),st.length===0&&(st="normal");for(var lt="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},yt=0;yt<Ie.length;yt++){if(this.pdf.internal.getFont(Ie[yt],st,{noFallback:!0,disableWarning:!0})!==void 0){lt=Ie[yt];break}if(st==="bolditalic"&&this.pdf.internal.getFont(Ie[yt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)lt=Ie[yt],st="bold";else if(this.pdf.internal.getFont(Ie[yt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){lt=Ie[yt],st="normal";break}}if(lt===""){for(var Pt=0;Pt<Ie.length;Pt++)if(ct[Ie[Pt]]){lt=ct[Ie[Pt]];break}}lt=lt===""?"Times":lt,this.pdf.setFont(lt,st)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,Ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,Ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};m.prototype.setLineDash=function(C){this.lineDash=C},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){P.call(this,"fill",!1)},m.prototype.stroke=function(){P.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(C,U){if(isNaN(C)||isNaN(U))throw Ut.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new a(C,U));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new a(C,U)},m.prototype.closePath=function(){var C=new a(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&Tt(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){C=new a(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(C.x,C.y)},m.prototype.lineTo=function(C,U){if(isNaN(C)||isNaN(U))throw Ut.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new a(C,U));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new a(q.x,q.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},m.prototype.quadraticCurveTo=function(C,U,q,K){if(isNaN(q)||isNaN(K)||isNaN(C)||isNaN(U))throw Ut.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new a(q,K)),le=this.ctx.transform.applyToPoint(new a(C,U));this.path.push({type:"qct",x1:le.x,y1:le.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new a(Z.x,Z.y)},m.prototype.bezierCurveTo=function(C,U,q,K,Z,le){if(isNaN(Z)||isNaN(le)||isNaN(C)||isNaN(U)||isNaN(q)||isNaN(K))throw Ut.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new a(Z,le)),he=this.ctx.transform.applyToPoint(new a(C,U)),Ee=this.ctx.transform.applyToPoint(new a(q,K));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:Ee.x,y2:Ee.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new a(fe.x,fe.y)},m.prototype.arc=function(C,U,q,K,Z,le){if(isNaN(C)||isNaN(U)||isNaN(q)||isNaN(K)||isNaN(Z))throw Ut.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new a(C,U));C=fe.x,U=fe.y;var he=this.ctx.transform.applyToPoint(new a(0,q)),Ee=this.ctx.transform.applyToPoint(new a(0,0));q=Math.sqrt(Math.pow(he.x-Ee.x,2)+Math.pow(he.y-Ee.y,2))}Math.abs(Z-K)>=2*Math.PI&&(K=0,Z=2*Math.PI),this.path.push({type:"arc",x:C,y:U,radius:q,startAngle:K,endAngle:Z,counterclockwise:le})},m.prototype.arcTo=function(C,U,q,K,Z){throw new Error("arcTo not implemented.")},m.prototype.rect=function(C,U,q,K){if(isNaN(C)||isNaN(U)||isNaN(q)||isNaN(K))throw Ut.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,U),this.lineTo(C+q,U),this.lineTo(C+q,U+K),this.lineTo(C,U+K),this.lineTo(C,U),this.lineTo(C+q,U),this.lineTo(C,U)},m.prototype.fillRect=function(C,U,q,K){if(isNaN(C)||isNaN(U)||isNaN(q)||isNaN(K))throw Ut.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,U,q,K),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},m.prototype.strokeRect=function(C,U,q,K){if(isNaN(C)||isNaN(U)||isNaN(q)||isNaN(K))throw Ut.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(C,U,q,K),this.stroke())},m.prototype.clearRect=function(C,U,q,K){if(isNaN(C)||isNaN(U)||isNaN(q)||isNaN(K))throw Ut.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,U,q,K))},m.prototype.save=function(C){C=typeof C!="boolean"||C;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},m.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(U),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(C){var U,q,K,Z;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))U=0,q=0,K=0,Z=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(le!==null)U=parseInt(le[1]),q=parseInt(le[2]),K=parseInt(le[3]),Z=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)U=parseInt(le[1]),q=parseInt(le[2]),K=parseInt(le[3]),Z=parseFloat(le[4]);else{if(Z=1,typeof C=="string"&&C.charAt(0)!=="#"){var fe=new Dw(C);C=fe.ok?fe.toHex():"#000000"}C.length===4?(U=C.substring(1,2),U+=U,q=C.substring(2,3),q+=q,K=C.substring(3,4),K+=K):(U=C.substring(1,3),q=C.substring(3,5),K=C.substring(5,7)),U=parseInt(U,16),q=parseInt(q,16),K=parseInt(K,16)}}return{r:U,g:q,b:K,a:Z,style:C}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(C,U,q,K){if(isNaN(U)||isNaN(q)||typeof C!="string")throw Ut.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!p.call(this)){var Z=W(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;R.call(this,{text:C,x:U,y:q,scale:le,angle:Z,align:this.textAlign,maxWidth:K})}},m.prototype.strokeText=function(C,U,q,K){if(isNaN(U)||isNaN(q)||typeof C!="string")throw Ut.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){K=isNaN(K)?void 0:K;var Z=W(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;R.call(this,{text:C,x:U,y:q,scale:le,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:K})}},m.prototype.measureText=function(C){if(typeof C!="string")throw Ut.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,q=this.pdf.internal.scaleFactor,K=U.internal.getFontSize(),Z=U.getStringUnitWidth(C)*K/U.internal.scaleFactor,le=function(fe){var he=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this};return new le({width:Z*=Math.round(96*q/72*1e4)/1e4})},m.prototype.scale=function(C,U){if(isNaN(C)||isNaN(U))throw Ut.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new o(C,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.rotate=function(C){if(isNaN(C))throw Ut.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new o(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},m.prototype.translate=function(C,U){if(isNaN(C)||isNaN(U))throw Ut.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new o(1,0,0,1,C,U);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.transform=function(C,U,q,K,Z,le){if(isNaN(C)||isNaN(U)||isNaN(q)||isNaN(K)||isNaN(Z)||isNaN(le))throw Ut.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new o(C,U,q,K,Z,le);this.ctx.transform=this.ctx.transform.multiply(fe)},m.prototype.setTransform=function(C,U,q,K,Z,le){C=isNaN(C)?1:C,U=isNaN(U)?0:U,q=isNaN(q)?0:q,K=isNaN(K)?1:K,Z=isNaN(Z)?0:Z,le=isNaN(le)?0:le,this.ctx.transform=new o(C,U,q,K,Z,le)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(C,U,q,K,Z,le,fe,he,Ee){var je=this.pdf.getImageProperties(C),De=1,Te=1,Ze=1,ve=1;K!==void 0&&he!==void 0&&(Ze=he/K,ve=Ee/Z,De=je.width/K*he/K,Te=je.height/Z*Ee/Z),le===void 0&&(le=U,fe=q,U=0,q=0),K!==void 0&&he===void 0&&(he=K,Ee=Z),K===void 0&&he===void 0&&(he=je.width,Ee=je.height);for(var V,ot=this.ctx.transform.decompose(),We=W(ot.rotate.shx),Ae=new o,Oe=(Ae=(Ae=(Ae=Ae.multiply(ot.translate)).multiply(ot.skew)).multiply(ot.scale)).applyToRectangle(new l(le-U*Ze,fe-q*ve,K*De,Z*Te)),Be=j.call(this,Oe),Ie=[],Ke=0;Ke<Be.length;Ke+=1)Ie.indexOf(Be[Ke])===-1&&Ie.push(Be[Ke]);if(b(Ie),this.autoPaging)for(var st=Ie[0],lt=Ie[Ie.length-1],ct=st;ct<lt+1;ct++){this.pdf.setPage(ct);var yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=ct===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=ct===1?0:tt+(ct-2)*vt;if(this.ctx.clip_path.length!==0){var kr=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(V,this.posX+this.margin[3],-Ue+Pt+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=kr}var jt=JSON.parse(JSON.stringify(Oe));jt=x([jt],this.posX+this.margin[3],-Ue+Pt+this.ctx.prevPageLastElemOffset)[0];var Sn=(ct>st||ct<lt)&&S.call(this);Sn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,vt,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",jt.x,jt.y,jt.w,jt.h,null,null,We),Sn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,We)};var j=function(C,U,q){var K=[];U=U||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":K.push(Math.floor((C.y+Z)/q)+1);break;case"arc":K.push(Math.floor((C.y+Z-C.radius)/q)+1),K.push(Math.floor((C.y+Z+C.radius)/q)+1);break;case"qct":var le=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);K.push(Math.floor((le.y+Z)/q)+1),K.push(Math.floor((le.y+le.h+Z)/q)+1);break;case"bct":var fe=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);K.push(Math.floor((fe.y+Z)/q)+1),K.push(Math.floor((fe.y+fe.h+Z)/q)+1);break;case"rect":K.push(Math.floor((C.y+Z)/q)+1),K.push(Math.floor((C.y+C.h+Z)/q)+1)}for(var he=0;he<K.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<K[he];)w.call(this);return K},w=function(){var C=this.fillStyle,U=this.strokeStyle,q=this.font,K=this.lineCap,Z=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=U,this.font=q,this.lineCap=K,this.lineWidth=Z,this.lineJoin=le},x=function(C,U,q){for(var K=0;K<C.length;K++)switch(C[K].type){case"bct":C[K].x2+=U,C[K].y2+=q;case"qct":C[K].x1+=U,C[K].y1+=q;case"mt":case"lt":case"arc":default:C[K].x+=U,C[K].y+=q}return C},b=function(C){return C.sort(function(U,q){return U-q})},P=function(C,U){for(var q,K,Z=this.fillStyle,le=this.strokeStyle,fe=this.lineCap,he=this.lineWidth,Ee=Math.abs(he*this.ctx.transform.scaleX),je=this.lineJoin,De=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),Ze=[],ve=0;ve<Te.length;ve++)if(Te[ve].x!==void 0)for(var V=j.call(this,Te[ve]),ot=0;ot<V.length;ot+=1)Ze.indexOf(V[ot])===-1&&Ze.push(V[ot]);for(var We=0;We<Ze.length;We++)for(;this.pdf.internal.getNumberOfPages()<Ze[We];)w.call(this);if(b(Ze),this.autoPaging)for(var Ae=Ze[0],Oe=Ze[Ze.length-1],Be=Ae;Be<Oe+1;Be++){this.pdf.setPage(Be),this.fillStyle=Z,this.strokeStyle=le,this.lineCap=fe,this.lineWidth=Ee,this.lineJoin=je;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=Be===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=Be===1?0:st+(Be-2)*lt;if(this.ctx.clip_path.length!==0){var yt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(q,this.posX+this.margin[3],-ct+Ke+this.ctx.prevPageLastElemOffset),D.call(this,C,!0),this.path=yt}if(K=JSON.parse(JSON.stringify(De)),this.path=x(K,this.posX+this.margin[3],-ct+Ke+this.ctx.prevPageLastElemOffset),U===!1||Be===0){var Pt=(Be>Ae||Be<Oe)&&S.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,lt,null).clip().discardPath()),D.call(this,C,U),Pt&&this.pdf.restoreGraphicsState()}this.lineWidth=he}else this.lineWidth=Ee,D.call(this,C,U),this.lineWidth=he;this.path=De},D=function(C,U){if((C!=="stroke"||U||!_.call(this))&&(C==="stroke"||U||!p.call(this))){for(var q,K,Z=[],le=this.path,fe=0;fe<le.length;fe++){var he=le[fe];switch(he.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:he,deltas:[],abs:[]});break;case"lt":var Ee=Z.length;if(le[fe-1]&&!isNaN(le[fe-1].x)&&(q=[he.x-le[fe-1].x,he.y-le[fe-1].y],Ee>0)){for(;Ee>=0;Ee--)if(Z[Ee-1].close!==!0&&Z[Ee-1].begin!==!0){Z[Ee-1].deltas.push(q),Z[Ee-1].abs.push(he);break}}break;case"bct":q=[he.x1-le[fe-1].x,he.y1-le[fe-1].y,he.x2-le[fe-1].x,he.y2-le[fe-1].y,he.x-le[fe-1].x,he.y-le[fe-1].y],Z[Z.length-1].deltas.push(q);break;case"qct":var je=le[fe-1].x+2/3*(he.x1-le[fe-1].x),De=le[fe-1].y+2/3*(he.y1-le[fe-1].y),Te=he.x+2/3*(he.x1-he.x),Ze=he.y+2/3*(he.y1-he.y),ve=he.x,V=he.y;q=[je-le[fe-1].x,De-le[fe-1].y,Te-le[fe-1].x,Ze-le[fe-1].y,ve-le[fe-1].x,V-le[fe-1].y],Z[Z.length-1].deltas.push(q);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(he)}}K=U?null:C==="stroke"?"stroke":"fill";for(var ot=!1,We=0;We<Z.length;We++)if(Z[We].arc)for(var Ae=Z[We].abs,Oe=0;Oe<Ae.length;Oe++){var Be=Ae[Oe];Be.type==="arc"?M.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,U,!ot):G.call(this,Be.x,Be.y),ot=!0}else if(Z[We].close===!0)this.pdf.internal.out("h"),ot=!1;else if(Z[We].begin!==!0){var Ie=Z[We].start.x,Ke=Z[We].start.y;H.call(this,Z[We].deltas,Ie,Ke),ot=!0}K&&te.call(this,K),U&&I.call(this)}},Y=function(C){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-q;case"top":return C+U-q;case"hanging":return C+U-2*q;case"middle":return C+U/2-q;case"ideographic":return C;case"alphabetic":default:return C}},$=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(U,q){this.colorStops.push([U,q])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(C,U,q,K,Z,le,fe,he,Ee){for(var je=oe.call(this,q,K,Z,le),De=0;De<je.length;De++){var Te=je[De];De===0&&(Ee?O.call(this,Te.x1+C,Te.y1+U):G.call(this,Te.x1+C,Te.y1+U)),pe.call(this,C,U,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}he?I.call(this):te.call(this,fe)},te=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(C,U){this.pdf.internal.out(r(C)+" "+n(U)+" m")},R=function(C){var U;switch(C.align){case"right":case"end":U="right";break;case"center":U="center";break;case"left":case"start":default:U="left"}var q=this.pdf.getTextDimensions(C.text),K=Y.call(this,C.y),Z=$.call(this,K)-q.h,le=this.ctx.transform.applyToPoint(new a(C.x,K)),fe=this.ctx.transform.decompose(),he=new o;he=(he=(he=he.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var Ee,je,De,Te=this.ctx.transform.applyToRectangle(new l(C.x,K,q.w,q.h)),Ze=he.applyToRectangle(new l(C.x,Z,q.w,q.h)),ve=j.call(this,Ze),V=[],ot=0;ot<ve.length;ot+=1)V.indexOf(ve[ot])===-1&&V.push(ve[ot]);if(b(V),this.autoPaging)for(var We=V[0],Ae=V[V.length-1],Oe=We;Oe<Ae+1;Oe++){this.pdf.setPage(Oe);var Be=Oe===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[2],st=Ke-this.margin[0],lt=this.pdf.internal.pageSize.width-this.margin[1],ct=lt-this.margin[3],yt=Oe===1?0:Ie+(Oe-2)*st;if(this.ctx.clip_path.length!==0){var Pt=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Ee,this.posX+this.margin[3],-1*yt+Be),D.call(this,"fill",!0),this.path=Pt}var tt=x([JSON.parse(JSON.stringify(Ze))],this.posX+this.margin[3],-yt+Be+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*C.scale),De=this.lineWidth,this.lineWidth=De*C.scale);var vt=this.autoPaging!=="text";if(vt||tt.y+tt.h<=Ke){if(vt||tt.y>=Be&&tt.x<=lt){var Ue=vt?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||lt-tt.x)[0],kr=x([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-yt+Be+this.ctx.prevPageLastElemOffset)[0],jt=vt&&(Oe>We||Oe<Ae)&&S.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,st,null).clip().discardPath()),this.pdf.text(Ue,kr.x,kr.y,{angle:C.angle,align:U,renderingMode:C.renderingMode}),jt&&this.pdf.restoreGraphicsState()}}else tt.y<Ke&&(this.ctx.prevPageLastElemOffset+=Ke-tt.y);C.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=De)}else C.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*C.scale),De=this.lineWidth,this.lineWidth=De*C.scale),this.pdf.text(C.text,le.x+this.posX,le.y+this.posY,{angle:C.angle,align:U,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=De)},G=function(C,U,q,K){q=q||0,K=K||0,this.pdf.internal.out(r(C+q)+" "+n(U+K)+" l")},H=function(C,U,q){return this.pdf.lines(C,U,q,null,null)},pe=function(C,U,q,K,Z,le,fe,he){this.pdf.internal.out([e(i(q+C)),e(s(K+U)),e(i(Z+C)),e(s(le+U)),e(i(fe+C)),e(s(he+U)),"c"].join(" "))},oe=function(C,U,q,K){for(var Z=2*Math.PI,le=Math.PI/2;U>q;)U-=Z;var fe=Math.abs(q-U);fe<Z&&K&&(fe=Z-fe);for(var he=[],Ee=K?-1:1,je=U;fe>1e-5;){var De=je+Ee*Math.min(fe,le);he.push(me.call(this,C,je,De)),fe-=Math.abs(De-je),je=De}return he},me=function(C,U,q){var K=(q-U)/2,Z=C*Math.cos(K),le=C*Math.sin(K),fe=Z,he=-le,Ee=fe*fe+he*he,je=Ee+fe*Z+he*le,De=4/3*(Math.sqrt(2*Ee*je)-je)/(fe*le-he*Z),Te=fe-De*he,Ze=he+De*fe,ve=Te,V=-Ze,ot=K+U,We=Math.cos(ot),Ae=Math.sin(ot);return{x1:C*Math.cos(U),y1:C*Math.sin(U),x2:Te*We-Ze*Ae,y2:Te*Ae+Ze*We,x3:ve*We-V*Ae,y3:ve*Ae+V*We,x4:C*Math.cos(q),y4:C*Math.sin(q)}},W=function(C){return 180*C/Math.PI},ne=function(C,U,q,K,Z,le){var fe=C+.5*(q-C),he=U+.5*(K-U),Ee=Z+.5*(q-Z),je=le+.5*(K-le),De=Math.min(C,Z,fe,Ee),Te=Math.max(C,Z,fe,Ee),Ze=Math.min(U,le,he,je),ve=Math.max(U,le,he,je);return new l(De,Ze,Te-De,ve-Ze)},ae=function(C,U,q,K,Z,le,fe,he){var Ee,je,De,Te,Ze,ve,V,ot,We,Ae,Oe,Be,Ie,Ke,st=q-C,lt=K-U,ct=Z-q,yt=le-K,Pt=fe-Z,tt=he-le;for(je=0;je<41;je++)We=(V=(De=C+(Ee=je/40)*st)+Ee*((Ze=q+Ee*ct)-De))+Ee*(Ze+Ee*(Z+Ee*Pt-Ze)-V),Ae=(ot=(Te=U+Ee*lt)+Ee*((ve=K+Ee*yt)-Te))+Ee*(ve+Ee*(le+Ee*tt-ve)-ot),je==0?(Oe=We,Be=Ae,Ie=We,Ke=Ae):(Oe=Math.min(Oe,We),Be=Math.min(Be,Ae),Ie=Math.max(Ie,We),Ke=Math.max(Ke,Ae));return new l(Math.round(Oe),Math.round(Be),Math.round(Ie-Oe),Math.round(Ke-Be))},Ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,U,q=(C=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:U}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(et.API),function(t){var e=function(s){var a,l,o,c,f,m,v,p,_,S;for(l=[],o=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>o;o+=4)(f=(s.charCodeAt(o)<<24)+(s.charCodeAt(o+1)<<16)+(s.charCodeAt(o+2)<<8)+s.charCodeAt(o+3))!==0?(m=(f=((f=((f=((f=(f-(S=f%85))/85)-(_=f%85))/85)-(p=f%85))/85)-(v=f%85))/85)%85,l.push(m+33,v+33,p+33,_+33,S+33)):l.push(122);return function(j,w){for(var x=w;x>0;x--)j.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var a,l,o,c,f,m=String,v="length",p=255,_="charCodeAt",S="slice",j="replace";for(s[S](-2),s=s[S](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),o=[],c=0,f=(s+=a="uuuuu"[S](s[v]%5||5))[v];f>c;c+=5)l=52200625*(s[_](c)-33)+614125*(s[_](c+1)-33)+7225*(s[_](c+2)-33)+85*(s[_](c+3)-33)+(s[_](c+4)-33),o.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(w,x){for(var b=x;b>0;b--)w.pop()}(o,a[v]),m.fromCharCode.apply(m,o)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",o=0;o<s.length;o+=2)l+=String.fromCharCode("0x"+(s[o]+s[o+1]));return l},i=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return s=(a=Rm(a)).reduce(function(o,c){return o+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,a){var l=0,o=s||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":o=r(o),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=e(o),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=n(o),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=o.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=i(o),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:o,reverseChain:c.reverse().join(" ")}}}(et.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(o,c,f){var m=new XMLHttpRequest,v=0,p=function(_){var S=_.length,j=[],w=String.fromCharCode;for(v=0;v<S;v+=1)j.push(w(255&_.charCodeAt(v)));return j.join("")};if(m.open("GET",o,!c),m.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(m.onload=function(){m.status===200?f(p(this.responseText)):f(void 0)}),m.send(null),c&&m.status===200)return p(m.responseText)}(i,s,a)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(et.API),function(t){function e(){return(rt.html2canvas?Promise.resolve(rt.html2canvas):Em(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(rt.DOMPurify?Promise.resolve(rt.DOMPurify):Em(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var l=Tt(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var o=document.createElement(a);for(var c in l.className&&(o.className=l.className),l.innerHTML&&l.dompurify&&(o.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)o.style[c]=l.style[c];return o},s=function a(l){var o=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),o);return c=(c=c.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(o){switch(n(o)){case"string":return"string";case"element":return o.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(o){return this.set({src:i("div",{innerHTML:a,dompurify:o})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function o(c,f){for(var m=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),v=c.firstChild;v;v=v.nextSibling)f!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||m.appendChild(o(v,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(m.width=c.width,m.height=c.height,m.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(m.value=c.value),m.addEventListener("load",function(){m.scrollTop=c.scrollTop,m.scrollLeft=c.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var o=Object.assign({},this.opt.html2canvas);return delete o.onrendered,l(this.prop.container,o)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var o=this.opt.jsPDF,c=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,o.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,o.context2d.posX=this.opt.x,o.context2d.posY=this.opt.y,o.context2d.margin=this.opt.margin,o.context2d.fontFaces=c,c)for(var v=0;v<c.length;++v){var p=c[v],_=p.src.find(function(S){return S.format==="truetype"});_&&o.addFont(_.url,p.ref.name,p.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,o.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,o){return(o=o||"pdf").toLowerCase()==="img"||o.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var l=Object.keys(a||{}).map(function(o){if(o in s.template.prop)return function(){this.prop[o]=a[o]};switch(o){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[o]=a[o]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var o=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(o):o})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(o,c){return Math.floor(o*c/72*96)}return this.then(function(){(a=a||et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,o,c){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),o!=null&&(this.progress.n=o),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,o,c){return this.setProgress(a?this.progress.val+a:null,l||null,o?this.progress.n+o:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,l){var o=this;return this.thenCore(a,l,function(c,f){return o.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(m){return o.updateProgress(null,c),m}).then(c,f).then(function(m){return o.updateProgress(1),m})})},s.prototype.thenCore=function(a,l,o){o=o||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=o.call(c,a,l);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(o){l=l.thenCore(o)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,et.getPageSize=function(a,l,o){if(Tt(a)==="object"){var c=a;a=c.orientation,l=c.unit||l,o=c.format||o}l=l||"mm",o=o||"a4",a=(""+(a||"P")).toLowerCase();var f,m=(""+o).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var p,_=0,S=0;if(v.hasOwnProperty(m))_=v[m][1]/f,S=v[m][0]/f;else try{_=o[1],S=o[0]}catch{throw new Error("Invalid format: "+o)}if(a==="p"||a==="portrait")a="p",S>_&&(p=S,S=_,_=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",_>S&&(p=S,S=_,_=p)}return{width:S,height:_,unit:l,k:f,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Um):null;var o=new s(l);return l.worker?o:o.from(a).doCallback()}}(et.API),et.API.addJS=function(t){return F2=t,this.internal.events.subscribe("postPutResources",function(){fd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(fd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),T2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+F2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){fd!==void 0&&T2!==void 0&&this.internal.out("/Names <</JavaScript "+fd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],l=n.exec(a);if(l!=null){var o=l[1];r.internal.newObjectDeferredBegin(o,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,f=[];for(s=0;s<c;s++){var m=r.internal.newObject();f.push(m);var v=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<f.length;s++)r.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var o=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(et.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,l){var o,c=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(o=function(m){for(var v,p=256*m.charCodeAt(4)+m.charCodeAt(5),_=m.length,S={width:0,height:0,numcomponents:1},j=4;j<_;j+=2){if(j+=p,e.indexOf(m.charCodeAt(j+1))!==-1){v=256*m.charCodeAt(j+5)+m.charCodeAt(j+6),S={width:256*m.charCodeAt(j+7)+m.charCodeAt(j+8),height:v,numcomponents:m.charCodeAt(j+9)};break}p=256*m.charCodeAt(j+2)+m.charCodeAt(j+3)}return S}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:o.width,height:o.height,colorSpace:l,bitsPerComponent:8,filter:c,index:n,alias:i}}return f}}(et.API);var No,pd,D2,M2,B2,o6=function(){var t,e,r;function n(s){var a,l,o,c,f,m,v,p,_,S,j,w,x,b;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(a=this.readUInt32(),_=(function(){var P,D;for(D=[],P=0;P<4;++P)D.push(String.fromCharCode(this.data[this.pos++]));return D}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),c=this.readUInt16()||100,m.delay=1e3*f/c,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(_==="fdAT"&&(this.pos+=4,a-=4),s=(m!=null?m.data:void 0)||this.imgData,w=0;0<=a?w<a:w>a;0<=a?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(o=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>o)throw new Error("More transparent colors than palette size");if((S=o-this.transparency.indexed.length)>0)for(x=0;0<=S?x<S:x>S;0<=S?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":v=(j=this.read(a)).indexOf(0),p=String.fromCharCode.apply(String,j.slice(0,v)),this.text[p]=String.fromCharCode.apply(String,j.slice(v+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,l;for(l=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),o=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(m,v,p,_){var S,j,w,x,b,P,D,Y,$,M,te,I,O,R,G,H,pe,oe,me,W,ne,ae=Math.ceil((c.width-m)/p),Ne=Math.ceil((c.height-v)/_),C=c.width==ae&&c.height==Ne;for(R=a*ae,I=C?l:new Uint8Array(R*Ne),P=s.length,O=0,j=0;O<Ne&&o<P;){switch(s[o++]){case 0:for(x=pe=0;pe<R;x=pe+=1)I[j++]=s[o++];break;case 1:for(x=oe=0;oe<R;x=oe+=1)S=s[o++],b=x<a?0:I[j-a],I[j++]=(S+b)%256;break;case 2:for(x=me=0;me<R;x=me+=1)S=s[o++],w=(x-x%a)/a,G=O&&I[(O-1)*R+w*a+x%a],I[j++]=(G+S)%256;break;case 3:for(x=W=0;W<R;x=W+=1)S=s[o++],w=(x-x%a)/a,b=x<a?0:I[j-a],G=O&&I[(O-1)*R+w*a+x%a],I[j++]=(S+Math.floor((b+G)/2))%256;break;case 4:for(x=ne=0;ne<R;x=ne+=1)S=s[o++],w=(x-x%a)/a,b=x<a?0:I[j-a],O===0?G=H=0:(G=I[(O-1)*R+w*a+x%a],H=w&&I[(O-1)*R+(w-1)*a+x%a]),D=b+G-H,Y=Math.abs(D-b),M=Math.abs(D-G),te=Math.abs(D-H),$=Y<=M&&Y<=te?b:M<=te?G:H,I[j++]=(S+$)%256;break;default:throw new Error("Invalid filter algorithm: "+s[o-1])}if(!C){var U=((v+O*_)*c.width+m)*a,q=O*R;for(x=0;x<ae;x+=1){for(var K=0;K<a;K+=1)l[U++]=I[q++];U+=(p-1)*a}}O++}}return s=Bj(s),c.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),l},n.prototype.decodePalette=function(){var s,a,l,o,c,f,m,v,p;for(l=this.palette,f=this.transparency.indexed||[],c=new Uint8Array((f.length||0)+l.length),o=0,s=0,a=m=0,v=l.length;m<v;a=m+=3)c[o++]=l[a],c[o++]=l[a+1],c[o++]=l[a+2],c[o++]=(p=f[s++])!=null?p:255;return c},n.prototype.copyToImageData=function(s,a){var l,o,c,f,m,v,p,_,S,j,w;if(o=this.colors,S=null,l=this.hasAlphaChannel,this.palette.length&&(S=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),o=4,l=!0),_=(c=s.data||s).length,m=S||a,f=v=0,o===1)for(;f<_;)p=S?4*a[f/4]:v,j=m[p++],c[f++]=j,c[f++]=j,c[f++]=j,c[f++]=l?m[p++]:255,v=p;else for(;f<_;)p=S?4*a[f/4]:v,c[f++]=m[p++],c[f++]=m[p++],c[f++]=m[p++],c[f++]=l?m[p++]:255,v=p},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(rt)==="[object Window]"){try{e=rt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,l,o,c,f,m,v,p;if(this.animation){for(p=[],l=f=0,m=(v=this.animation.frames).length;f<m;l=++f)a=v[l],o=s.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(o,c),a.imageData=o,p.push(a.image=t(o));return p}},n.prototype.renderFrame=function(s,a){var l,o,c;return l=(o=this.animation.frames)[a],c=o[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(s){var a,l,o,c,f,m,v=this;return l=0,m=this.animation,c=m.numFrames,o=m.frames,f=m.numPlays,(a=function(){var p,_;if(p=l++%c,_=o[p],v.renderFrame(s,p),c>1&&l/c<f)return v.animation._timeout=setTimeout(a,_.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function l6(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var l=null,o=null;s&&(l=e,o=a,e+=3*a);var c=!0,f=[],m=0,v=null,p=0,_=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];m=t[e++]|t[e++]<<8,v=t[e++],!(1&S)&&(v=null),p=S>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var j=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,P=t[e++],D=P>>6&1,Y=1<<(7&P)+1,$=l,M=o,te=!1;P>>7&&(te=!0,$=e,M=Y,e+=3*Y);var I=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}f.push({x:j,y:w,width:x,height:b,has_local_palette:te,palette_offset:$,palette_size:M,data_offset:I,data_length:e-I,transparent_index:v,interlaced:!!D,delay:m,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return _},this.frameInfo=function(R){if(R<0||R>=f.length)throw new Error("Frame index out of range.");return f[R]},this.decodeAndBlitFrameBGRA=function(R,G){var H=this.frameInfo(R),pe=H.width*H.height,oe=new Uint8Array(pe);U2(t,H.data_offset,oe,pe);var me=H.palette_offset,W=H.transparent_index;W===null&&(W=256);var ne=H.width,ae=r-ne,Ne=ne,C=4*(H.y*r+H.x),U=4*((H.y+H.height)*r+H.x),q=C,K=4*ae;H.interlaced===!0&&(K+=4*r*7);for(var Z=8,le=0,fe=oe.length;le<fe;++le){var he=oe[le];if(Ne===0&&(Ne=ne,(q+=K)>=U&&(K=4*ae+4*r*(Z-1),q=C+(ne+ae)*(Z<<1),Z>>=1)),he===W)q+=4;else{var Ee=t[me+3*he],je=t[me+3*he+1],De=t[me+3*he+2];G[q++]=De,G[q++]=je,G[q++]=Ee,G[q++]=255}--Ne}},this.decodeAndBlitFrameRGBA=function(R,G){var H=this.frameInfo(R),pe=H.width*H.height,oe=new Uint8Array(pe);U2(t,H.data_offset,oe,pe);var me=H.palette_offset,W=H.transparent_index;W===null&&(W=256);var ne=H.width,ae=r-ne,Ne=ne,C=4*(H.y*r+H.x),U=4*((H.y+H.height)*r+H.x),q=C,K=4*ae;H.interlaced===!0&&(K+=4*r*7);for(var Z=8,le=0,fe=oe.length;le<fe;++le){var he=oe[le];if(Ne===0&&(Ne=ne,(q+=K)>=U&&(K=4*ae+4*r*(Z-1),q=C+(ne+ae)*(Z<<1),Z>>=1)),he===W)q+=4;else{var Ee=t[me+3*he],je=t[me+3*he+1],De=t[me+3*he+2];G[q++]=Ee,G[q++]=je,G[q++]=De,G[q++]=255}--Ne}}}function U2(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,l=a+1,o=i+1,c=(1<<o)-1,f=0,m=0,v=0,p=t[e++],_=new Int32Array(4096),S=null;;){for(;f<16&&p!==0;)m|=t[e++]<<f,f+=8,p===1?p=t[e++]:--p;if(f<o)break;var j=m&c;if(m>>=o,f-=o,j!==s){if(j===a)break;for(var w=j<l?j:S,x=0,b=w;b>s;)b=_[b]>>8,++x;var P=b;if(v+x+(w!==j?1:0)>n)return void Ut.log("Warning, gif stream longer than expected.");r[v++]=P;var D=v+=x;for(w!==j&&(r[v++]=P),b=w;x--;)b=_[b],r[--D]=255&b,b>>=8;S!==null&&l<4096&&(_[l++]=S<<8|P,l>=c+1&&o<12&&(++o,c=c<<1|1)),S=j}else l=a+1,c=(1<<(o=i+1))-1,S=null}return v!==n&&Ut.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function mp(t){var e,r,n,i,s,a=Math.floor,l=new Array(64),o=new Array(64),c=new Array(64),f=new Array(64),m=new Array(65535),v=new Array(65535),p=new Array(64),_=new Array(64),S=[],j=0,w=7,x=new Array(64),b=new Array(64),P=new Array(64),D=new Array(256),Y=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe(C,U){for(var q=0,K=0,Z=new Array,le=1;le<=16;le++){for(var fe=1;fe<=C[le];fe++)Z[U[K]]=[],Z[U[K]][0]=q,Z[U[K]][1]=le,K++,q++;q*=2}return Z}function me(C){for(var U=C[0],q=C[1]-1;q>=0;)U&1<<q&&(j|=1<<w),q--,--w<0&&(j==255?(W(255),W(0)):W(j),w=7,j=0)}function W(C){S.push(C)}function ne(C){W(C>>8&255),W(255&C)}function ae(C,U,q,K,Z){for(var le,fe=Z[0],he=Z[240],Ee=function(Ae,Oe){var Be,Ie,Ke,st,lt,ct,yt,Pt,tt,vt,Ue=0;for(tt=0;tt<8;++tt){Be=Ae[Ue],Ie=Ae[Ue+1],Ke=Ae[Ue+2],st=Ae[Ue+3],lt=Ae[Ue+4],ct=Ae[Ue+5],yt=Ae[Ue+6];var kr=Be+(Pt=Ae[Ue+7]),jt=Be-Pt,Sn=Ie+yt,Ot=Ie-yt,Wt=Ke+ct,oi=Ke-ct,Et=st+lt,gs=st-lt,Qt=kr+Et,$n=kr-Et,jn=Sn+Wt,Dt=Sn-Wt;Ae[Ue]=Qt+jn,Ae[Ue+4]=Qt-jn;var nt=.707106781*(Dt+$n);Ae[Ue+2]=$n+nt,Ae[Ue+6]=$n-nt;var Nt=.382683433*((Qt=gs+oi)-(Dt=Ot+jt)),en=.5411961*Qt+Nt,zt=1.306562965*Dt+Nt,Rr=.707106781*(jn=oi+Ot),tn=jt+Rr,Qe=jt-Rr;Ae[Ue+5]=Qe+en,Ae[Ue+3]=Qe-en,Ae[Ue+1]=tn+zt,Ae[Ue+7]=tn-zt,Ue+=8}for(Ue=0,tt=0;tt<8;++tt){Be=Ae[Ue],Ie=Ae[Ue+8],Ke=Ae[Ue+16],st=Ae[Ue+24],lt=Ae[Ue+32],ct=Ae[Ue+40],yt=Ae[Ue+48];var An=Be+(Pt=Ae[Ue+56]),Vn=Be-Pt,zr=Ie+yt,nr=Ie-yt,ir=Ke+ct,rn=Ke-ct,vs=st+lt,li=st-lt,hn=An+vs,kn=An-vs,de=zr+ir,Le=zr-ir;Ae[Ue]=hn+de,Ae[Ue+32]=hn-de;var Re=.707106781*(Le+kn);Ae[Ue+16]=kn+Re,Ae[Ue+48]=kn-Re;var Pe=.382683433*((hn=li+rn)-(Le=nr+Vn)),ze=.5411961*hn+Pe,pt=1.306562965*Le+Pe,gt=.707106781*(de=rn+nr),at=Vn+gt,qr=Vn-gt;Ae[Ue+40]=qr+ze,Ae[Ue+24]=qr-ze,Ae[Ue+8]=at+pt,Ae[Ue+56]=at-pt,Ue++}for(tt=0;tt<64;++tt)vt=Ae[tt]*Oe[tt],p[tt]=vt>0?vt+.5|0:vt-.5|0;return p}(C,U),je=0;je<64;++je)_[$[je]]=Ee[je];var De=_[0]-q;q=_[0],De==0?me(K[0]):(me(K[v[le=32767+De]]),me(m[le]));for(var Te=63;Te>0&&_[Te]==0;)Te--;if(Te==0)return me(fe),q;for(var Ze,ve=1;ve<=Te;){for(var V=ve;_[ve]==0&&ve<=Te;)++ve;var ot=ve-V;if(ot>=16){Ze=ot>>4;for(var We=1;We<=Ze;++We)me(he);ot&=15}le=32767+_[ve],me(Z[(ot<<4)+v[le]]),me(m[le]),ve++}return Te!=63&&me(fe),q}function Ne(C){C=Math.min(Math.max(C,1),100),s!=C&&(function(U){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var Z=a((q[K]*U+50)/100);Z=Math.min(Math.max(Z,1),255),l[$[K]]=Z}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var he=a((le[fe]*U+50)/100);he=Math.min(Math.max(he,1),255),o[$[fe]]=he}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,De=0;De<8;De++)for(var Te=0;Te<8;Te++)c[je]=1/(l[$[je]]*Ee[De]*Ee[Te]*8),f[je]=1/(o[$[je]]*Ee[De]*Ee[Te]*8),je++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,U){U&&Ne(U),S=new Array,j=0,w=7,ne(65496),ne(65504),ne(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),ne(1),ne(1),W(0),W(0),function(){ne(65499),ne(132),W(0);for(var Ie=0;Ie<64;Ie++)W(l[Ie]);W(1);for(var Ke=0;Ke<64;Ke++)W(o[Ke])}(),function(Ie,Ke){ne(65472),ne(17),W(8),ne(Ke),ne(Ie),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(C.width,C.height),function(){ne(65476),ne(418),W(0);for(var Ie=0;Ie<16;Ie++)W(M[Ie+1]);for(var Ke=0;Ke<=11;Ke++)W(te[Ke]);W(16);for(var st=0;st<16;st++)W(I[st+1]);for(var lt=0;lt<=161;lt++)W(O[lt]);W(1);for(var ct=0;ct<16;ct++)W(R[ct+1]);for(var yt=0;yt<=11;yt++)W(G[yt]);W(17);for(var Pt=0;Pt<16;Pt++)W(H[Pt+1]);for(var tt=0;tt<=161;tt++)W(pe[tt])}(),ne(65498),ne(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var q=0,K=0,Z=0;j=0,w=7,this.encode.displayName="_encode_";for(var le,fe,he,Ee,je,De,Te,Ze,ve,V=C.data,ot=C.width,We=C.height,Ae=4*ot,Oe=0;Oe<We;){for(le=0;le<Ae;){for(je=Ae*Oe+le,Te=-1,Ze=0,ve=0;ve<64;ve++)De=je+(Ze=ve>>3)*Ae+(Te=4*(7&ve)),Oe+Ze>=We&&(De-=Ae*(Oe+1+Ze-We)),le+Te>=Ae&&(De-=le+Te-Ae+4),fe=V[De++],he=V[De++],Ee=V[De++],x[ve]=(Y[fe]+Y[he+256>>0]+Y[Ee+512>>0]>>16)-128,b[ve]=(Y[fe+768>>0]+Y[he+1024>>0]+Y[Ee+1280>>0]>>16)-128,P[ve]=(Y[fe+1280>>0]+Y[he+1536>>0]+Y[Ee+1792>>0]>>16)-128;q=ae(x,c,q,e,n),K=ae(b,f,K,r,i),Z=ae(P,f,Z,r,i),le+=32}Oe+=8}if(w>=0){var Be=[];Be[1]=w+1,Be[0]=(1<<w+1)-1,me(Be)}return ne(65497),new Uint8Array(S)},t=t||50,function(){for(var C=String.fromCharCode,U=0;U<256;U++)D[U]=C(U)}(),e=oe(M,te),r=oe(R,G),n=oe(I,O),i=oe(H,pe),function(){for(var C=1,U=2,q=1;q<=15;q++){for(var K=C;K<U;K++)v[32767+K]=q,m[32767+K]=[],m[32767+K][1]=q,m[32767+K][0]=K;for(var Z=-(U-1);Z<=-C;Z++)v[32767+Z]=q,m[32767+Z]=[],m[32767+Z][1]=q,m[32767+Z][0]=U-1+Z;C<<=1,U<<=1}}(),function(){for(var C=0;C<256;C++)Y[C]=19595*C,Y[C+256>>0]=38470*C,Y[C+512>>0]=7471*C+32768,Y[C+768>>0]=-11059*C,Y[C+1024>>0]=-21709*C,Y[C+1280>>0]=32768*C+8421375,Y[C+1536>>0]=-27439*C,Y[C+1792>>0]=-5329*C}(),Ne(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function vi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function z2(t){function e(M){if(!M)throw Error("assert :P")}function r(M,te,I){for(var O=0;4>O;O++)if(M[te+O]!=I.charCodeAt(O))return!0;return!1}function n(M,te,I,O,R){for(var G=0;G<R;G++)M[te+G]=I[O+G]}function i(M,te,I,O){for(var R=0;R<O;R++)M[te+R]=I}function s(M){return new Int32Array(M)}function a(M,te){for(var I=[],O=0;O<M;O++)I.push(new te);return I}function l(M,te){var I=[];return function O(R,G,H){for(var pe=H[G],oe=0;oe<pe&&(R.push(H.length>G+1?[]:new te),!(H.length<G+1));oe++)O(R[oe],G+1,H)}(I,0,M),I}var o=function(){var M=this;function te(u,h){for(var y=1<<h-1>>>0;u&y;)y>>>=1;return y?(u&y-1)+y:u}function I(u,h,y,N,A){e(!(N%y));do u[h+(N-=y)]=A;while(0<N)}function O(u,h,y,N,A){if(e(2328>=A),512>=A)var E=s(512);else if((E=s(A))==null)return 0;return function(L,T,F,B,Q,ue){var ce,re,_e=T,ge=1<<F,X=s(16),ee=s(16);for(e(Q!=0),e(B!=null),e(L!=null),e(0<F),re=0;re<Q;++re){if(15<B[re])return 0;++X[B[re]]}if(X[0]==Q)return 0;for(ee[1]=0,ce=1;15>ce;++ce){if(X[ce]>1<<ce)return 0;ee[ce+1]=ee[ce]+X[ce]}for(re=0;re<Q;++re)ce=B[re],0<B[re]&&(ue[ee[ce]++]=re);if(ee[15]==1)return(B=new R).g=0,B.value=ue[0],I(L,_e,1,ge,B),ge;var we,xe=-1,be=ge-1,$e=0,Fe=1,Xe=1,Me=1<<F;for(re=0,ce=1,Q=2;ce<=F;++ce,Q<<=1){if(Fe+=Xe<<=1,0>(Xe-=X[ce]))return 0;for(;0<X[ce];--X[ce])(B=new R).g=ce,B.value=ue[re++],I(L,_e+$e,Q,Me,B),$e=te($e,ce)}for(ce=F+1,Q=2;15>=ce;++ce,Q<<=1){if(Fe+=Xe<<=1,0>(Xe-=X[ce]))return 0;for(;0<X[ce];--X[ce]){if(B=new R,($e&be)!=xe){for(_e+=Me,we=1<<(xe=ce)-F;15>xe&&!(0>=(we-=X[xe]));)++xe,we<<=1;ge+=Me=1<<(we=xe-F),L[T+(xe=$e&be)].g=we+F,L[T+xe].value=_e-T-xe}B.g=ce-F,B.value=ue[re++],I(L,_e+($e>>F),Q,Me,B),$e=te($e,ce)}}return Fe!=2*ee[15]-1?0:ge}(u,h,y,N,A,E)}function R(){this.value=this.g=0}function G(){this.value=this.g=0}function H(){this.G=a(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Tr,G)}function pe(u,h,y,N){e(u!=null),e(h!=null),e(2147483648>N),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=y,u.Jd=h,u.Yc=y+N,u.Zc=4<=N?y+N-4+1:y,le(u)}function oe(u,h){for(var y=0;0<h--;)y|=he(u,128)<<h;return y}function me(u,h){var y=oe(u,h);return fe(u)?-y:y}function W(u,h,y,N){var A,E=0;for(e(u!=null),e(h!=null),e(4294967288>N),u.Sb=N,u.Ra=0,u.u=0,u.h=0,4<N&&(N=4),A=0;A<N;++A)E+=h[y+A]<<8*A;u.Ra=E,u.bb=N,u.oa=h,u.pa=y}function ne(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<so-8>>>0,++u.bb,u.u-=8;q(u)&&(u.h=1,u.u=0)}function ae(u,h){if(e(0<=h),!u.h&&h<=io){var y=U(u)&no[h];return u.u+=h,ne(u),y}return u.h=1,u.u=0}function Ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(u){return u.Ra>>>(u.u&so-1)>>>0}function q(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>so}function K(u,h){u.u=h,u.h=q(u)}function Z(u){u.u>=Rl&&(e(u.u>=Rl),ne(u))}function le(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function fe(u){return oe(u,1)}function he(u,h){var y=u.Ca;0>u.b&&le(u);var N=u.b,A=y*h>>>8,E=(u.I>>>N>A)+0;for(E?(y-=A,u.I-=A+1<<N>>>0):y=A+1,N=y,A=0;256<=N;)A+=8,N>>=8;return N=7^A+pn[N],u.b-=N,u.Ca=(y<<N)-1,E}function Ee(u,h,y){u[h+0]=y>>24&255,u[h+1]=y>>16&255,u[h+2]=y>>8&255,u[h+3]=y>>0&255}function je(u,h){return u[h+0]<<0|u[h+1]<<8}function De(u,h){return je(u,h)|u[h+2]<<16}function Te(u,h){return je(u,h)|je(u,h+2)<<16}function Ze(u,h){var y=1<<h;return e(u!=null),e(0<h),u.X=s(y),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function ve(u,h){e(u!=null),e(h!=null),e(u.Xa==h.Xa),n(h.X,0,u.X,0,1<<h.Xa)}function V(){this.X=[],this.Xa=this.Mb=0}function ot(u,h,y,N){e(y!=null),e(N!=null);var A=y[0],E=N[0];return A==0&&(A=(u*E+h/2)/h),E==0&&(E=(h*A+u/2)/u),0>=A||0>=E?0:(y[0]=A,N[0]=E,1)}function We(u,h){return u+(1<<h)-1>>>h}function Ae(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function Oe(u,h){M[h]=function(y,N,A,E,L,T,F){var B;for(B=0;B<L;++B){var Q=M[u](T[F+B-1],A,E+B);T[F+B]=Ae(y[N+B],Q)}}}function Be(){this.ud=this.hd=this.jd=0}function Ie(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function Ke(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function st(u,h){return Ke(u+(u-h+.5>>1))}function lt(u,h,y){return Math.abs(h-y)-Math.abs(u-y)}function ct(u,h,y,N,A,E,L){for(N=E[L-1],y=0;y<A;++y)E[L+y]=N=Ae(u[h+y],N)}function yt(u,h,y,N,A){var E;for(E=0;E<y;++E){var L=u[h+E],T=L>>8&255,F=16711935&(F=(F=16711935&L)+((T<<16)+T));N[A+E]=(4278255360&L)+F>>>0}}function Pt(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function tt(u,h,y,N,A,E){var L;for(L=0;L<N;++L){var T=h[y+L],F=T>>>8,B=T,Q=255&(Q=(Q=T>>>16)+((u.jd<<24>>24)*(F<<24>>24)>>>5));B=255&(B=(B=B+((u.hd<<24>>24)*(F<<24>>24)>>>5))+((u.ud<<24>>24)*(Q<<24>>24)>>>5)),A[E+L]=(4278255360&T)+(Q<<16)+B}}function vt(u,h,y,N,A){M[h]=function(E,L,T,F,B,Q,ue,ce,re){for(F=ue;F<ce;++F)for(ue=0;ue<re;++ue)B[Q++]=A(T[N(E[L++])])},M[u]=function(E,L,T,F,B,Q,ue){var ce=8>>E.b,re=E.Ea,_e=E.K[0],ge=E.w;if(8>ce)for(E=(1<<E.b)-1,ge=(1<<ce)-1;L<T;++L){var X,ee=0;for(X=0;X<re;++X)X&E||(ee=N(F[B++])),Q[ue++]=A(_e[ee&ge]),ee>>=ce}else M["VP8LMapColor"+y](F,B,_e,ge,Q,ue,L,T,re)}}function Ue(u,h,y,N,A){for(y=h+y;h<y;){var E=u[h++];N[A++]=E>>16&255,N[A++]=E>>8&255,N[A++]=E>>0&255}}function kr(u,h,y,N,A){for(y=h+y;h<y;){var E=u[h++];N[A++]=E>>16&255,N[A++]=E>>8&255,N[A++]=E>>0&255,N[A++]=E>>24&255}}function jt(u,h,y,N,A){for(y=h+y;h<y;){var E=(L=u[h++])>>16&240|L>>12&15,L=L>>0&240|L>>28&15;N[A++]=E,N[A++]=L}}function Sn(u,h,y,N,A){for(y=h+y;h<y;){var E=(L=u[h++])>>16&248|L>>13&7,L=L>>5&224|L>>3&31;N[A++]=E,N[A++]=L}}function Ot(u,h,y,N,A){for(y=h+y;h<y;){var E=u[h++];N[A++]=E>>0&255,N[A++]=E>>8&255,N[A++]=E>>16&255}}function Wt(u,h,y,N,A,E){if(E==0)for(y=h+y;h<y;)Ee(N,((E=u[h++])[0]>>24|E[1]>>8&65280|E[2]<<8&16711680|E[3]<<24)>>>0),A+=32;else n(N,A,u,h,y)}function oi(u,h){M[h][0]=M[u+"0"],M[h][1]=M[u+"1"],M[h][2]=M[u+"2"],M[h][3]=M[u+"3"],M[h][4]=M[u+"4"],M[h][5]=M[u+"5"],M[h][6]=M[u+"6"],M[h][7]=M[u+"7"],M[h][8]=M[u+"8"],M[h][9]=M[u+"9"],M[h][10]=M[u+"10"],M[h][11]=M[u+"11"],M[h][12]=M[u+"12"],M[h][13]=M[u+"13"],M[h][14]=M[u+"0"],M[h][15]=M[u+"0"]}function Et(u){return u==sf||u==af||u==jc||u==of}function gs(){this.eb=[],this.size=this.A=this.fb=0}function Qt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function $n(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new gs,this.f.kb=new Qt,this.sd=null}function jn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function nt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Nt(u,h){var y=u.T,N=h.ba.f.RGBA,A=N.eb,E=N.fb+u.ka*N.A,L=Qn[h.ba.S],T=u.y,F=u.O,B=u.f,Q=u.N,ue=u.ea,ce=u.W,re=h.cc,_e=h.dc,ge=h.Mc,X=h.Nc,ee=u.ka,we=u.ka+u.T,xe=u.U,be=xe+1>>1;for(ee==0?L(T,F,null,null,B,Q,ue,ce,B,Q,ue,ce,A,E,null,null,xe):(L(h.ec,h.fc,T,F,re,_e,ge,X,B,Q,ue,ce,A,E-N.A,A,E,xe),++y);ee+2<we;ee+=2)re=B,_e=Q,ge=ue,X=ce,Q+=u.Rc,ce+=u.Rc,E+=2*N.A,L(T,(F+=2*u.fa)-u.fa,T,F,re,_e,ge,X,B,Q,ue,ce,A,E-N.A,A,E,xe);return F+=u.fa,u.j+we<u.o?(n(h.ec,h.fc,T,F,xe),n(h.cc,h.dc,B,Q,be),n(h.Mc,h.Nc,ue,ce,be),y--):1&we||L(T,F,null,null,B,Q,ue,ce,B,Q,ue,ce,A,E+N.A,null,null,xe),y}function en(u,h,y){var N=u.F,A=[u.J];if(N!=null){var E=u.U,L=h.ba.S,T=L==Sc||L==jc;h=h.ba.f.RGBA;var F=[0],B=u.ka;F[0]=u.T,u.Kb&&(B==0?--F[0]:(--B,A[0]-=u.width),u.j+u.ka+u.T==u.o&&(F[0]=u.o-u.j-B));var Q=h.eb;B=h.fb+B*h.A,u=$t(N,A[0],u.width,E,F,Q,B+(T?0:3),h.A),e(y==F),u&&Et(L)&&Jn(Q,B,T,E,F,h.A)}return 0}function zt(u){var h=u.ma,y=h.ba.S,N=11>y,A=y==xc||y==Nc||y==Sc||y==nf||y==12||Et(y);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!Ol(h.Oa,u,A?11:12))return 0;if(A&&Et(y)&&Se(),u.da)alert("todo:use_scaling");else{if(N){if(h.Ib=nt,u.Kb){if(y=u.U+1>>1,h.memory=s(u.U+2*y),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+y,h.Ib=Nt,Se()}}else alert("todo:EmitYUV");A&&(h.Jb=en,N&&ie())}if(N&&!a1){for(u=0;256>u;++u)gb[u]=89858*(u-128)+kc>>Ac,wb[u]=-22014*(u-128)+kc,yb[u]=-45773*(u-128),vb[u]=113618*(u-128)+kc>>Ac;for(u=zl;u<cf;++u)h=76283*(u-16)+kc>>Ac,bb[u-zl]=Ln(h,255),_b[u-zl]=Ln(h+8>>4,15);a1=1}return 1}function Rr(u){var h=u.ma,y=u.U,N=u.T;return e(!(1&u.ka)),0>=y||0>=N?0:(y=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,y),h.Dc+=y,1)}function tn(u){u.ma.memory=null}function Qe(u,h,y,N){return ae(u,8)!=47?0:(h[0]=ae(u,14)+1,y[0]=ae(u,14)+1,N[0]=ae(u,1),ae(u,3)!=0?0:!u.h)}function An(u,h){if(4>u)return u+1;var y=u-2>>1;return(2+(1&u)<<y)+ae(h,y)+1}function Vn(u,h){return 120<h?h-120:1<=(y=((y=rb[h-1])>>4)*u+(8-(15&y)))?y:1;var y}function zr(u,h,y){var N=U(y),A=u[h+=255&N].g-8;return 0<A&&(K(y,y.u+8),N=U(y),h+=u[h].value,h+=N&(1<<A)-1),K(y,y.u+u[h].g),u[h].value}function nr(u,h,y){return y.g+=u.g,y.value+=u.value<<h>>>0,e(8>=y.g),u.g}function ir(u,h,y){var N=u.xc;return e((h=N==0?0:u.vc[u.md*(y>>N)+(h>>N)])<u.Wb),u.Ya[h]}function rn(u,h,y,N){var A=u.ab,E=u.c*h,L=u.C;h=L+h;var T=y,F=N;for(N=u.Ta,y=u.Ua;0<A--;){var B=u.gc[A],Q=L,ue=h,ce=T,re=F,_e=(F=N,T=y,B.Ea);switch(e(Q<ue),e(ue<=B.nc),B.hc){case 2:mc(ce,re,(ue-Q)*_e,F,T);break;case 0:var ge=Q,X=ue,ee=F,we=T,xe=(Me=B).Ea;ge==0&&(tf(ce,re,null,null,1,ee,we),ct(ce,re+1,0,0,xe-1,ee,we+1),re+=xe,we+=xe,++ge);for(var be=1<<Me.b,$e=be-1,Fe=We(xe,Me.b),Xe=Me.K,Me=Me.w+(ge>>Me.b)*Fe;ge<X;){var Lt=Xe,It=Me,kt=1;for(Tl(ce,re,ee,we-xe,1,ee,we);kt<xe;){var St=(kt&~$e)+be;St>xe&&(St=xe),(0,_s[Lt[It++]>>8&15])(ce,re+ +kt,ee,we+kt-xe,St-kt,ee,we+kt),kt=St}re+=xe,we+=xe,++ge&$e||(Me+=Fe)}ue!=B.nc&&n(F,T-_e,F,T+(ue-Q-1)*_e,_e);break;case 1:for(_e=ce,X=re,xe=(ce=B.Ea)-(we=ce&~(ee=(re=1<<B.b)-1)),ge=We(ce,B.b),be=B.K,B=B.w+(Q>>B.b)*ge;Q<ue;){for($e=be,Fe=B,Xe=new Be,Me=X+we,Lt=X+ce;X<Me;)Pt($e[Fe++],Xe),pa(Xe,_e,X,re,F,T),X+=re,T+=re;X<Lt&&(Pt($e[Fe++],Xe),pa(Xe,_e,X,xe,F,T),X+=xe,T+=xe),++Q&ee||(B+=ge)}break;case 3:if(ce==F&&re==T&&0<B.b){for(X=F,ce=_e=T+(ue-Q)*_e-(we=(ue-Q)*We(B.Ea,B.b)),re=F,ee=T,ge=[],we=(xe=we)-1;0<=we;--we)ge[we]=re[ee+we];for(we=xe-1;0<=we;--we)X[ce+we]=ge[we];Wn(B,Q,ue,F,_e,F,T)}else Wn(B,Q,ue,ce,re,F,T)}T=N,F=y}F!=y&&n(N,y,T,F,E)}function vs(u,h){var y=u.V,N=u.Ba+u.c*u.C,A=h-u.C;if(e(h<=u.l.o),e(16>=A),0<A){var E=u.l,L=u.Ta,T=u.Ua,F=E.width;if(rn(u,A,y,N),A=T=[T],e((y=u.C)<(N=h)),e(E.v<E.va),N>E.o&&(N=E.o),y<E.j){var B=E.j-y;y=E.j,A[0]+=B*F}if(y>=N?y=0:(A[0]+=4*E.v,E.ka=y-E.j,E.U=E.va-E.v,E.T=N-y,y=1),y){if(T=T[0],11>(y=u.ca).S){var Q=y.f.RGBA,ue=(N=y.S,A=E.U,E=E.T,B=Q.eb,Q.A),ce=E;for(Q=Q.fb+u.Ma*Q.A;0<ce--;){var re=L,_e=T,ge=A,X=B,ee=Q;switch(N){case _c:mn(re,_e,ge,X,ee);break;case xc:nn(re,_e,ge,X,ee);break;case sf:nn(re,_e,ge,X,ee),Jn(X,ee,0,ge,1,0);break;case Q0:Yi(re,_e,ge,X,ee);break;case Nc:Wt(re,_e,ge,X,ee,1);break;case af:Wt(re,_e,ge,X,ee,1),Jn(X,ee,0,ge,1,0);break;case Sc:Wt(re,_e,ge,X,ee,0);break;case jc:Wt(re,_e,ge,X,ee,0),Jn(X,ee,1,ge,1,0);break;case nf:xs(re,_e,ge,X,ee);break;case of:xs(re,_e,ge,X,ee),qt(X,ee,ge,1,0);break;case X0:Ji(re,_e,ge,X,ee);break;default:e(0)}T+=F,Q+=ue}u.Ma+=E}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=y.height)}}u.C=h,e(u.C<=u.i)}function li(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var y=u.Ya[h].G,N=u.Ya[h].H;if(0<y[1][N[1]+0].g||0<y[2][N[2]+0].g||0<y[3][N[3]+0].g)return 0}return 1}function hn(u,h,y,N,A,E){if(u.Z!=0){var L=u.qd,T=u.rd;for(e(As[u.Z]!=null);h<y;++h)As[u.Z](L,T,N,A,N,A,E),L=N,T=A,A+=E;u.qd=L,u.rd=T}}function kn(u,h){var y=u.l.ma,N=y.Z==0||y.Z==1?u.l.j:u.C;if(N=u.C<N?N:u.C,e(h<=u.l.o),h>N){var A=u.l.width,E=y.ca,L=y.tb+A*N,T=u.V,F=u.Ba+u.c*N,B=u.gc;e(u.ab==1),e(B[0].hc==3),gc(B[0],N,h,T,F,E,L),hn(y,N,h,E,L,A)}u.C=u.Ma=h}function de(u,h,y,N,A,E,L){var T=u.$/N,F=u.$%N,B=u.m,Q=u.s,ue=y+u.$,ce=ue;A=y+N*A;var re=y+N*E,_e=280+Q.ua,ge=u.Pb?T:16777216,X=0<Q.ua?Q.Wa:null,ee=Q.wc,we=ue<re?ir(Q,F,T):null;e(u.C<E),e(re<=A);var xe=!1;e:for(;;){for(;xe||ue<re;){var be=0;if(T>=ge){var $e=ue-y;e((ge=u).Pb),ge.wd=ge.m,ge.xd=$e,0<ge.s.ua&&ve(ge.s.Wa,ge.s.vb),ge=T+ib}if(F&ee||(we=ir(Q,F,T)),e(we!=null),we.Qb&&(h[ue]=we.qb,xe=!0),!xe)if(Z(B),we.jc){be=B,$e=h;var Fe=ue,Xe=we.pd[U(be)&Tr-1];e(we.jc),256>Xe.g?(K(be,be.u+Xe.g),$e[Fe]=Xe.value,be=0):(K(be,be.u+Xe.g-256),e(256<=Xe.value),be=Xe.value),be==0&&(xe=!0)}else be=zr(we.G[0],we.H[0],B);if(B.h)break;if(xe||256>be){if(!xe)if(we.nd)h[ue]=(we.qb|be<<8)>>>0;else{if(Z(B),xe=zr(we.G[1],we.H[1],B),Z(B),$e=zr(we.G[2],we.H[2],B),Fe=zr(we.G[3],we.H[3],B),B.h)break;h[ue]=(Fe<<24|xe<<16|be<<8|$e)>>>0}if(xe=!1,++ue,++F>=N&&(F=0,++T,L!=null&&T<=E&&!(T%16)&&L(u,T),X!=null))for(;ce<ue;)be=h[ce++],X.X[(506832829*be&4294967295)>>>X.Mb]=be}else if(280>be){if(be=An(be-256,B),$e=zr(we.G[4],we.H[4],B),Z(B),$e=Vn(N,$e=An($e,B)),B.h)break;if(ue-y<$e||A-ue<be)break e;for(Fe=0;Fe<be;++Fe)h[ue+Fe]=h[ue+Fe-$e];for(ue+=be,F+=be;F>=N;)F-=N,++T,L!=null&&T<=E&&!(T%16)&&L(u,T);if(e(ue<=A),F&ee&&(we=ir(Q,F,T)),X!=null)for(;ce<ue;)be=h[ce++],X.X[(506832829*be&4294967295)>>>X.Mb]=be}else{if(!(be<_e))break e;for(xe=be-280,e(X!=null);ce<ue;)be=h[ce++],X.X[(506832829*be&4294967295)>>>X.Mb]=be;be=ue,e(!(xe>>>($e=X).Xa)),h[be]=$e.X[xe],xe=!0}xe||e(B.h==q(B))}if(u.Pb&&B.h&&ue<A)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ve(u.s.vb,u.s.Wa);else{if(B.h)break e;L!=null&&L(u,T>E?E:T),u.a=0,u.$=ue-y}return 1}return u.a=3,0}function Le(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,e(u!=null)}function Re(){var u=new ef;return u==null?null:(u.a=0,u.xb=t1,oi("Predictor","VP8LPredictors"),oi("Predictor","VP8LPredictors_C"),oi("PredictorAdd","VP8LPredictorsAdd"),oi("PredictorAdd","VP8LPredictorsAdd_C"),mc=yt,pa=tt,mn=Ue,nn=kr,xs=jt,Ji=Sn,Yi=Ot,M.VP8LMapColor32b=ao,M.VP8LMapColor8b=vc,u)}function Pe(u,h,y,N,A){var E=1,L=[u],T=[h],F=N.m,B=N.s,Q=null,ue=0;e:for(;;){if(y)for(;E&&ae(F,1);){var ce=L,re=T,_e=N,ge=1,X=_e.m,ee=_e.gc[_e.ab],we=ae(X,2);if(_e.Oc&1<<we)E=0;else{switch(_e.Oc|=1<<we,ee.hc=we,ee.Ea=ce[0],ee.nc=re[0],ee.K=[null],++_e.ab,e(4>=_e.ab),we){case 0:case 1:ee.b=ae(X,3)+2,ge=Pe(We(ee.Ea,ee.b),We(ee.nc,ee.b),0,_e,ee.K),ee.K=ee.K[0];break;case 3:var xe,be=ae(X,8)+1,$e=16<be?0:4<be?1:2<be?2:3;if(ce[0]=We(ee.Ea,$e),ee.b=$e,xe=ge=Pe(be,1,0,_e,ee.K)){var Fe,Xe=be,Me=ee,Lt=1<<(8>>Me.b),It=s(Lt);if(It==null)xe=0;else{var kt=Me.K[0],St=Me.w;for(It[0]=Me.K[0][0],Fe=1;Fe<1*Xe;++Fe)It[Fe]=Ae(kt[St+Fe],It[Fe-1]);for(;Fe<4*Lt;++Fe)It[Fe]=0;Me.K[0]=null,Me.K[0]=It,xe=1}}ge=xe;break;case 2:break;default:e(0)}E=ge}}if(L=L[0],T=T[0],E&&ae(F,1)&&!(E=1<=(ue=ae(F,4))&&11>=ue)){N.a=3;break e}var Bt;if(Bt=E)t:{var Mt,mt,yr,gn=N,wr=L,vn=T,Rt=ue,On=y,In=gn.m,Er=gn.s,Fr=[null],an=1,Xn=0,Ti=nb[Rt];r:for(;;){if(On&&ae(In,1)){var Lr=ae(In,3)+2,es=We(wr,Lr),wa=We(vn,Lr),ho=es*wa;if(!Pe(es,wa,0,gn,Fr))break r;for(Fr=Fr[0],Er.xc=Lr,Mt=0;Mt<ho;++Mt){var ks=Fr[Mt]>>8&65535;Fr[Mt]=ks,ks>=an&&(an=ks+1)}}if(In.h)break r;for(mt=0;5>mt;++mt){var ar=Z0[mt];!mt&&0<Rt&&(ar+=1<<Rt),Xn<ar&&(Xn=ar)}var df=a(an*Ti,R),u1=an,c1=a(u1,H);if(c1==null)var Ec=null;else e(65536>=u1),Ec=c1;var ql=s(Xn);if(Ec==null||ql==null||df==null){gn.a=1;break r}var Lc=df;for(Mt=yr=0;Mt<an;++Mt){var pi=Ec[Mt],fo=pi.G,po=pi.H,d1=0,Pc=1,h1=0;for(mt=0;5>mt;++mt){ar=Z0[mt],fo[mt]=Lc,po[mt]=yr,!mt&&0<Rt&&(ar+=1<<Rt);i:{var Oc,hf=ar,Ic=gn,$l=ql,Sb=Lc,jb=yr,ff=0,Cs=Ic.m,Ab=ae(Cs,1);if(i($l,0,0,hf),Ab){var kb=ae(Cs,1)+1,Cb=ae(Cs,1),f1=ae(Cs,Cb==0?1:8);$l[f1]=1,kb==2&&($l[f1=ae(Cs,8)]=1);var Rc=1}else{var p1=s(19),m1=ae(Cs,4)+4;if(19<m1){Ic.a=3;var Tc=0;break i}for(Oc=0;Oc<m1;++Oc)p1[tb[Oc]]=ae(Cs,3);var pf=void 0,Vl=void 0,g1=Ic,Eb=p1,Fc=hf,v1=$l,mf=0,Es=g1.m,y1=8,w1=a(128,R);n:for(;O(w1,0,7,Eb,19);){if(ae(Es,1)){var Lb=2+2*ae(Es,3);if((pf=2+ae(Es,Lb))>Fc)break n}else pf=Fc;for(Vl=0;Vl<Fc&&pf--;){Z(Es);var b1=w1[0+(127&U(Es))];K(Es,Es.u+b1.g);var mo=b1.value;if(16>mo)v1[Vl++]=mo,mo!=0&&(y1=mo);else{var Pb=mo==16,_1=mo-16,Ob=Zw[_1],x1=ae(Es,Xw[_1])+Ob;if(Vl+x1>Fc)break n;for(var Ib=Pb?y1:0;0<x1--;)v1[Vl++]=Ib}}mf=1;break n}mf||(g1.a=3),Rc=mf}(Rc=Rc&&!Cs.h)&&(ff=O(Sb,jb,8,$l,hf)),Rc&&ff!=0?Tc=ff:(Ic.a=3,Tc=0)}if(Tc==0)break r;if(Pc&&eb[mt]==1&&(Pc=Lc[yr].g==0),d1+=Lc[yr].g,yr+=Tc,3>=mt){var Hl,gf=ql[0];for(Hl=1;Hl<ar;++Hl)ql[Hl]>gf&&(gf=ql[Hl]);h1+=gf}}if(pi.nd=Pc,pi.Qb=0,Pc&&(pi.qb=(fo[3][po[3]+0].value<<24|fo[1][po[1]+0].value<<16|fo[2][po[2]+0].value)>>>0,d1==0&&256>fo[0][po[0]+0].value&&(pi.Qb=1,pi.qb+=fo[0][po[0]+0].value<<8)),pi.jc=!pi.Qb&&6>h1,pi.jc){var Dc,ts=pi;for(Dc=0;Dc<Tr;++Dc){var Ls=Dc,Ps=ts.pd[Ls],Mc=ts.G[0][ts.H[0]+Ls];256<=Mc.value?(Ps.g=Mc.g+256,Ps.value=Mc.value):(Ps.g=0,Ps.value=0,Ls>>=nr(Mc,8,Ps),Ls>>=nr(ts.G[1][ts.H[1]+Ls],16,Ps),Ls>>=nr(ts.G[2][ts.H[2]+Ls],0,Ps),nr(ts.G[3][ts.H[3]+Ls],24,Ps))}}}Er.vc=Fr,Er.Wb=an,Er.Ya=Ec,Er.yc=df,Bt=1;break t}Bt=0}if(!(E=Bt)){N.a=3;break e}if(0<ue){if(B.ua=1<<ue,!Ze(B.Wa,ue)){N.a=1,E=0;break e}}else B.ua=0;var vf=N,N1=L,Rb=T,yf=vf.s,wf=yf.xc;if(vf.c=N1,vf.i=Rb,yf.md=We(N1,wf),yf.wc=wf==0?-1:(1<<wf)-1,y){N.xb=db;break e}if((Q=s(L*T))==null){N.a=1,E=0;break e}E=(E=de(N,Q,0,L,T,T,null))&&!F.h;break e}return E?(A!=null?A[0]=Q:(e(Q==null),e(y)),N.$=0,y||Le(B)):Le(B),E}function ze(u,h){var y=u.c*u.i,N=y+h+16*h;return e(u.c<=h),u.V=s(N),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+y+h,1)}function pt(u,h){var y=u.C,N=h-y,A=u.V,E=u.Ba+u.c*y;for(e(h<=u.l.o);0<N;){var L=16<N?16:N,T=u.l.ma,F=u.l.width,B=F*L,Q=T.ca,ue=T.tb+F*y,ce=u.Ta,re=u.Ua;rn(u,L,A,E),dr(ce,re,Q,ue,B),hn(T,y,y+L,Q,ue,F),N-=L,A+=L*u.c,y+=L}e(y==h),u.C=u.Ma=h}function gt(){this.ub=this.yd=this.td=this.Rb=0}function at(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qr(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Cn(){this.Yb=function(){var u=[];return function h(y,N,A){for(var E=A[N],L=0;L<E&&(y.push(A.length>N+1?[]:0),!(A.length<N+1));L++)h(y[L],N+1,A)}(u,0,[3,11]),u}()}function ui(){this.jb=s(3),this.Wc=l([4,8],Cn),this.Xc=l([4,17],Cn)}function Hi(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Pi(){this.ld=this.La=this.dd=this.tc=0}function En(){this.Na=this.la=0}function Hn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Wi(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Rh(){this.uc=this.M=this.Nb=0,this.wa=Array(new Pi),this.Y=0,this.ya=Array(new Wi),this.aa=0,this.l=new Wa}function Qu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Th(){this.cb=this.a=0,this.sc="",this.m=new Ne,this.Od=new gt,this.Kc=new at,this.ed=new Hi,this.Qa=new qr,this.Ic=this.$c=this.Aa=0,this.D=new Rh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Ne),this.ia=0,this.pb=a(4,Hn),this.Pa=new ui,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qu),this.Hd=0,this.rb=Array(new En),this.sb=0,this.wa=Array(new Pi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Wi),this.L=this.aa=0,this.gd=l([4,2],Pi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Fh(){var u=new Th;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Ul||(Ul=ec)),u}function ur(u,h,y){return u.a==0&&(u.a=h,u.sc=y,u.cb=0),0}function Xu(u,h,y){return 3<=y&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function Zu(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return ur(u,2,"null VP8Io passed to VP8GetHeaders()");var y=h.data,N=h.w,A=h.ha;if(4>A)return ur(u,7,"Truncated header.");var E=y[N+0]|y[N+1]<<8|y[N+2]<<16,L=u.Od;if(L.Rb=!(1&E),L.td=E>>1&7,L.yd=E>>4&1,L.ub=E>>5,3<L.td)return ur(u,3,"Incorrect keyframe parameters.");if(!L.yd)return ur(u,4,"Frame not displayable.");N+=3,A-=3;var T=u.Kc;if(L.Rb){if(7>A)return ur(u,7,"cannot parse picture header");if(!Xu(y,N,A))return ur(u,3,"Bad code word");T.c=16383&(y[N+4]<<8|y[N+3]),T.Td=y[N+4]>>6,T.i=16383&(y[N+6]<<8|y[N+5]),T.Ud=y[N+6]>>6,N+=7,A-=7,u.za=T.c+15>>4,u.Ub=T.i+15>>4,h.width=T.c,h.height=T.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((E=u.Pa).jb,0,255,E.jb.length),e((E=u.Qa)!=null),E.Cb=0,E.Bb=0,E.Fb=1,i(E.Zb,0,0,E.Zb.length),i(E.Lb,0,0,E.Lb)}if(L.ub>A)return ur(u,7,"bad partition length");pe(E=u.m,y,N,L.ub),N+=L.ub,A-=L.ub,L.Rb&&(T.Ld=fe(E),T.Kd=fe(E)),T=u.Qa;var F,B=u.Pa;if(e(E!=null),e(T!=null),T.Cb=fe(E),T.Cb){if(T.Bb=fe(E),fe(E)){for(T.Fb=fe(E),F=0;4>F;++F)T.Zb[F]=fe(E)?me(E,7):0;for(F=0;4>F;++F)T.Lb[F]=fe(E)?me(E,6):0}if(T.Bb)for(F=0;3>F;++F)B.jb[F]=fe(E)?oe(E,8):255}else T.Bb=0;if(E.Ka)return ur(u,3,"cannot parse segment header");if((T=u.ed).zd=fe(E),T.Tb=oe(E,6),T.wb=oe(E,3),T.Pc=fe(E),T.Pc&&fe(E)){for(B=0;4>B;++B)fe(E)&&(T.vd[B]=me(E,6));for(B=0;4>B;++B)fe(E)&&(T.od[B]=me(E,6))}if(u.L=T.Tb==0?0:T.zd?1:2,E.Ka)return ur(u,3,"cannot parse filter header");var Q=A;if(A=F=N,N=F+Q,T=Q,u.Xb=(1<<oe(u.m,2))-1,Q<3*(B=u.Xb))y=7;else{for(F+=3*B,T-=3*B,Q=0;Q<B;++Q){var ue=y[A+0]|y[A+1]<<8|y[A+2]<<16;ue>T&&(ue=T),pe(u.Jc[+Q],y,F,ue),F+=ue,T-=ue,A+=3}pe(u.Jc[+B],y,F,T),y=F<N?0:5}if(y!=0)return ur(u,y,"cannot parse partitions");for(y=oe(F=u.m,7),A=fe(F)?me(F,4):0,N=fe(F)?me(F,4):0,T=fe(F)?me(F,4):0,B=fe(F)?me(F,4):0,F=fe(F)?me(F,4):0,Q=u.Qa,ue=0;4>ue;++ue){if(Q.Cb){var ce=Q.Zb[ue];Q.Fb||(ce+=y)}else{if(0<ue){u.pb[ue]=u.pb[0];continue}ce=y}var re=u.pb[ue];re.Sc[0]=lf[Ln(ce+A,127)],re.Sc[1]=uf[Ln(ce+0,127)],re.Eb[0]=2*lf[Ln(ce+N,127)],re.Eb[1]=101581*uf[Ln(ce+T,127)]>>16,8>re.Eb[1]&&(re.Eb[1]=8),re.Qc[0]=lf[Ln(ce+B,117)],re.Qc[1]=uf[Ln(ce+F,127)],re.lc=ce+F}if(!L.Rb)return ur(u,4,"Not a key frame.");for(fe(E),L=u.Pa,y=0;4>y;++y){for(A=0;8>A;++A)for(N=0;3>N;++N)for(T=0;11>T;++T)B=he(E,ub[y][A][N][T])?oe(E,8):ob[y][A][N][T],L.Wc[y][A].Yb[N][T]=B;for(A=0;17>A;++A)L.Xc[y][A]=L.Wc[y][cb[A]]}return u.kc=fe(E),u.kc&&(u.Bd=oe(E,8)),u.cb=1}function ec(u,h,y,N,A,E,L){var T=h[A].Yb[y];for(y=0;16>A;++A){if(!he(u,T[y+0]))return A;for(;!he(u,T[y+1]);)if(T=h[++A].Yb[0],y=0,A==16)return 16;var F=h[A+1].Yb;if(he(u,T[y+2])){var B=u,Q=0;if(he(B,(ce=T)[(ue=y)+3]))if(he(B,ce[ue+6])){for(T=0,ue=2*(Q=he(B,ce[ue+8]))+(ce=he(B,ce[ue+9+Q])),Q=0,ce=sb[ue];ce[T];++T)Q+=Q+he(B,ce[T]);Q+=3+(8<<ue)}else he(B,ce[ue+7])?(Q=7+2*he(B,165),Q+=he(B,145)):Q=5+he(B,159);else Q=he(B,ce[ue+4])?3+he(B,ce[ue+5]):2;T=F[2]}else Q=1,T=F[1];F=L+ab[A],0>(B=u).b&&le(B);var ue,ce=B.b,re=(ue=B.Ca>>1)-(B.I>>ce)>>31;--B.b,B.Ca+=re,B.Ca|=1,B.I-=(ue+1&re)<<ce,E[F]=((Q^re)-re)*N[(0<A)+0]}return 16}function vl(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function Dh(u,h){if(u==null)return 0;if(h==null)return ur(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!Zu(u,h))return 0;if(e(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var y=Cc[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-y>>4,u.zb=h.j-y>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+y>>4,u.Hb=h.va+15+y>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var N=u.ed;for(y=0;4>y;++y){var A;if(u.Qa.Cb){var E=u.Qa.Lb[y];u.Qa.Fb||(E+=N.Tb)}else E=N.Tb;for(A=0;1>=A;++A){var L=u.gd[y][A],T=E;if(N.Pc&&(T+=N.vd[0],A&&(T+=N.od[0])),0<(T=0>T?0:63<T?63:T)){var F=T;0<N.wb&&(F=4<N.wb?F>>2:F>>1)>9-N.wb&&(F=9-N.wb),1>F&&(F=1),L.dd=F,L.tc=2*T+F,L.ld=40<=T?2:15<=T?1:0}else L.tc=0;L.La=A}}}y=0}else ur(u,6,"Frame setup failed"),y=u.a;if(y=y==0){if(y){u.$c=0,0<u.Aa||(u.Ic=Nb);e:{y=u.Ic,N=4*(F=u.za);var B=32*F,Q=F+1,ue=0<u.L?F*(0<u.Aa?2:1):0,ce=(u.Aa==2?2:1)*F;if((L=N+832+(A=3*(16*y+Cc[u.L])/2*B)+(E=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=L)y=0;else{if(L>u.Vb){if(u.Vb=0,u.Ec=s(L),u.Fc=0,u.Ec==null){y=ur(u,1,"no memory during frame initialization.");break e}u.Vb=L}L=u.Ec,T=u.Fc,u.Ac=L,u.Bc=T,T+=N,u.Gd=a(B,Qu),u.Hd=0,u.rb=a(Q+1,En),u.sb=1,u.wa=ue?a(ue,Pi):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=F),e(!0),u.oc=L,u.pc=T,T+=832,u.ya=a(ce,Wi),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=F),u.R=16*F,u.B=8*F,F=(B=Cc[u.L])*u.R,B=B/2*u.B,u.sa=L,u.ta=T+F,u.qa=u.sa,u.ra=u.ta+16*y*u.R+B,u.Ha=u.qa,u.Ia=u.ra+8*y*u.B+B,u.$c=0,T+=A,u.mb=E?L:null,u.nb=E?T:null,e(T+E<=u.Fc+u.Vb),vl(u),i(u.Ac,u.Bc,0,N),y=1}}if(y){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!wc){for(y=-255;255>=y;++y)xr[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)Xi[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)Bl[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)co[255+y]=0>y?0:255<y?255:y;wc=1}oo=Uh,Qi=Mh,Fl=rc,sn=Bh,Gn=nc,cr=tc,lo=Nl,yc=ha,Dl=Zh,ma=Sl,ga=Xh,Ns=Xa,va=jl,uo=hc,ya=dc,Ss=Ii,Ml=Ki,Kn=Qh,fi[0]=Oi,fi[1]=zh,fi[2]=Hh,fi[3]=Wh,fi[4]=ac,fi[5]=Ya,fi[6]=oc,fi[7]=bl,fi[8]=Kh,fi[9]=Gh,js[0]=ic,js[1]=$h,js[2]=Gi,js[3]=Ka,js[4]=$r,js[5]=Vh,js[6]=sc,Zi[0]=ys,Zi[1]=qh,Zi[2]=Jh,Zi[3]=_l,Zi[4]=da,Zi[5]=Yh,Zi[6]=xl,y=1}else y=0}y&&(y=function(re,_e){for(re.M=0;re.M<re.Va;++re.M){var ge,X=re.Jc[re.M&re.Xb],ee=re.m,we=re;for(ge=0;ge<we.za;++ge){var xe=ee,be=we,$e=be.Ac,Fe=be.Bc+4*ge,Xe=be.zc,Me=be.ya[be.aa+ge];if(be.Qa.Bb?Me.$b=he(xe,be.Pa.jb[0])?2+he(xe,be.Pa.jb[2]):he(xe,be.Pa.jb[1]):Me.$b=0,be.kc&&(Me.Ad=he(xe,be.Bd)),Me.Za=!he(xe,145)+0,Me.Za){var Lt=Me.Ob,It=0;for(be=0;4>be;++be){var kt,St=Xe[0+be];for(kt=0;4>kt;++kt){St=lb[$e[Fe+kt]][St];for(var Bt=e1[he(xe,St[0])];0<Bt;)Bt=e1[2*Bt+he(xe,St[Bt])];St=-Bt,$e[Fe+kt]=St}n(Lt,It,$e,Fe,4),It+=4,Xe[0+be]=St}}else St=he(xe,156)?he(xe,128)?1:3:he(xe,163)?2:0,Me.Ob[0]=St,i($e,Fe,St,4),i(Xe,0,St,4);Me.Dd=he(xe,142)?he(xe,114)?he(xe,183)?1:3:2:0}if(we.m.Ka)return ur(re,7,"Premature end-of-partition0 encountered.");for(;re.ja<re.za;++re.ja){if(we=X,xe=(ee=re).rb[ee.sb-1],$e=ee.rb[ee.sb+ee.ja],ge=ee.ya[ee.aa+ee.ja],Fe=ee.kc?ge.Ad:0)xe.la=$e.la=0,ge.Za||(xe.Na=$e.Na=0),ge.Hc=0,ge.Gc=0,ge.ia=0;else{var Mt,mt;if(xe=$e,$e=we,Fe=ee.Pa.Xc,Xe=ee.ya[ee.aa+ee.ja],Me=ee.pb[Xe.$b],be=Xe.ad,Lt=0,It=ee.rb[ee.sb-1],St=kt=0,i(be,Lt,0,384),Xe.Za)var yr=0,gn=Fe[3];else{Bt=s(16);var wr=xe.Na+It.Na;if(wr=Ul($e,Fe[1],wr,Me.Eb,0,Bt,0),xe.Na=It.Na=(0<wr)+0,1<wr)oo(Bt,0,be,Lt);else{var vn=Bt[0]+3>>3;for(Bt=0;256>Bt;Bt+=16)be[Lt+Bt]=vn}yr=1,gn=Fe[0]}var Rt=15&xe.la,On=15&It.la;for(Bt=0;4>Bt;++Bt){var In=1&On;for(vn=mt=0;4>vn;++vn)Rt=Rt>>1|(In=(wr=Ul($e,gn,wr=In+(1&Rt),Me.Sc,yr,be,Lt))>yr)<<7,mt=mt<<2|(3<wr?3:1<wr?2:be[Lt+0]!=0),Lt+=16;Rt>>=4,On=On>>1|In<<7,kt=(kt<<8|mt)>>>0}for(gn=Rt,yr=On>>4,Mt=0;4>Mt;Mt+=2){for(mt=0,Rt=xe.la>>4+Mt,On=It.la>>4+Mt,Bt=0;2>Bt;++Bt){for(In=1&On,vn=0;2>vn;++vn)wr=In+(1&Rt),Rt=Rt>>1|(In=0<(wr=Ul($e,Fe[2],wr,Me.Qc,0,be,Lt)))<<3,mt=mt<<2|(3<wr?3:1<wr?2:be[Lt+0]!=0),Lt+=16;Rt>>=2,On=On>>1|In<<5}St|=mt<<4*Mt,gn|=Rt<<4<<Mt,yr|=(240&On)<<Mt}xe.la=gn,It.la=yr,Xe.Hc=kt,Xe.Gc=St,Xe.ia=43690&St?0:Me.ia,Fe=!(kt|St)}if(0<ee.L&&(ee.wa[ee.Y+ee.ja]=ee.gd[ge.$b][ge.Za],ee.wa[ee.Y+ee.ja].La|=!Fe),we.Ka)return ur(re,7,"Premature end-of-file encountered.")}if(vl(re),ee=_e,we=1,ge=(X=re).D,xe=0<X.L&&X.M>=X.zb&&X.M<=X.Va,X.Aa==0)e:{if(ge.M=X.M,ge.uc=xe,Pl(X,ge),we=1,ge=(mt=X.D).Nb,xe=(St=Cc[X.L])*X.R,$e=St/2*X.B,Bt=16*ge*X.R,vn=8*ge*X.B,Fe=X.sa,Xe=X.ta-xe+Bt,Me=X.qa,be=X.ra-$e+vn,Lt=X.Ha,It=X.Ia-$e+vn,On=(Rt=mt.M)==0,kt=Rt>=X.Va-1,X.Aa==2&&Pl(X,mt),mt.uc)for(In=(wr=X).D.M,e(wr.D.uc),mt=wr.yb;mt<wr.Hb;++mt){yr=mt,gn=In;var Er=(Fr=(ar=wr).D).Nb;Mt=ar.R;var Fr=Fr.wa[Fr.Y+yr],an=ar.sa,Xn=ar.ta+16*Er*Mt+16*yr,Ti=Fr.dd,Lr=Fr.tc;if(Lr!=0)if(e(3<=Lr),ar.L==1)0<yr&&Ss(an,Xn,Mt,Lr+4),Fr.La&&Kn(an,Xn,Mt,Lr),0<gn&&ya(an,Xn,Mt,Lr+4),Fr.La&&Ml(an,Xn,Mt,Lr);else{var es=ar.B,wa=ar.qa,ho=ar.ra+8*Er*es+8*yr,ks=ar.Ha,ar=ar.Ia+8*Er*es+8*yr;Er=Fr.ld,0<yr&&(yc(an,Xn,Mt,Lr+4,Ti,Er),ma(wa,ho,ks,ar,es,Lr+4,Ti,Er)),Fr.La&&(Ns(an,Xn,Mt,Lr,Ti,Er),uo(wa,ho,ks,ar,es,Lr,Ti,Er)),0<gn&&(lo(an,Xn,Mt,Lr+4,Ti,Er),Dl(wa,ho,ks,ar,es,Lr+4,Ti,Er)),Fr.La&&(ga(an,Xn,Mt,Lr,Ti,Er),va(wa,ho,ks,ar,es,Lr,Ti,Er))}}if(X.ia&&alert("todo:DitherRow"),ee.put!=null){if(mt=16*Rt,Rt=16*(Rt+1),On?(ee.y=X.sa,ee.O=X.ta+Bt,ee.f=X.qa,ee.N=X.ra+vn,ee.ea=X.Ha,ee.W=X.Ia+vn):(mt-=St,ee.y=Fe,ee.O=Xe,ee.f=Me,ee.N=be,ee.ea=Lt,ee.W=It),kt||(Rt-=St),Rt>ee.o&&(Rt=ee.o),ee.F=null,ee.J=null,X.Fa!=null&&0<X.Fa.length&&mt<Rt&&(ee.J=El(X,ee,mt,Rt-mt),ee.F=X.mb,ee.F==null&&ee.F.length==0)){we=ur(X,3,"Could not decode alpha data.");break e}mt<ee.j&&(St=ee.j-mt,mt=ee.j,e(!(1&St)),ee.O+=X.R*St,ee.N+=X.B*(St>>1),ee.W+=X.B*(St>>1),ee.F!=null&&(ee.J+=ee.width*St)),mt<Rt&&(ee.O+=ee.v,ee.N+=ee.v>>1,ee.W+=ee.v>>1,ee.F!=null&&(ee.J+=ee.v),ee.ka=mt-ee.j,ee.U=ee.va-ee.v,ee.T=Rt-mt,we=ee.put(ee))}ge+1!=X.Ic||kt||(n(X.sa,X.ta-xe,Fe,Xe+16*X.R,xe),n(X.qa,X.ra-$e,Me,be+8*X.B,$e),n(X.Ha,X.Ia-$e,Lt,It+8*X.B,$e))}if(!we)return ur(re,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),y&=1}return y?(u.cb=0,y):0}function ci(u,h,y,N,A){A=u[h+y+32*N]+(A>>3),u[h+y+32*N]=-256&A?0>A?0:255:A}function Ga(u,h,y,N,A,E){ci(u,h,0,y,N+A),ci(u,h,1,y,N+E),ci(u,h,2,y,N-E),ci(u,h,3,y,N-A)}function fn(u){return(20091*u>>16)+u}function yl(u,h,y,N){var A,E=0,L=s(16);for(A=0;4>A;++A){var T=u[h+0]+u[h+8],F=u[h+0]-u[h+8],B=(35468*u[h+4]>>16)-fn(u[h+12]),Q=fn(u[h+4])+(35468*u[h+12]>>16);L[E+0]=T+Q,L[E+1]=F+B,L[E+2]=F-B,L[E+3]=T-Q,E+=4,h++}for(A=E=0;4>A;++A)T=(u=L[E+0]+4)+L[E+8],F=u-L[E+8],B=(35468*L[E+4]>>16)-fn(L[E+12]),ci(y,N,0,0,T+(Q=fn(L[E+4])+(35468*L[E+12]>>16))),ci(y,N,1,0,F+B),ci(y,N,2,0,F-B),ci(y,N,3,0,T-Q),E++,N+=32}function tc(u,h,y,N){var A=u[h+0]+4,E=35468*u[h+4]>>16,L=fn(u[h+4]),T=35468*u[h+1]>>16;Ga(y,N,0,A+L,u=fn(u[h+1]),T),Ga(y,N,1,A+E,u,T),Ga(y,N,2,A-E,u,T),Ga(y,N,3,A-L,u,T)}function Mh(u,h,y,N,A){yl(u,h,y,N),A&&yl(u,h+16,y,N+4)}function rc(u,h,y,N){Qi(u,h+0,y,N,1),Qi(u,h+32,y,N+128,1)}function Bh(u,h,y,N){var A;for(u=u[h+0]+4,A=0;4>A;++A)for(h=0;4>h;++h)ci(y,N,h,A,u)}function nc(u,h,y,N){u[h+0]&&sn(u,h+0,y,N),u[h+16]&&sn(u,h+16,y,N+4),u[h+32]&&sn(u,h+32,y,N+128),u[h+48]&&sn(u,h+48,y,N+128+4)}function Uh(u,h,y,N){var A,E=s(16);for(A=0;4>A;++A){var L=u[h+0+A]+u[h+12+A],T=u[h+4+A]+u[h+8+A],F=u[h+4+A]-u[h+8+A],B=u[h+0+A]-u[h+12+A];E[0+A]=L+T,E[8+A]=L-T,E[4+A]=B+F,E[12+A]=B-F}for(A=0;4>A;++A)L=(u=E[0+4*A]+3)+E[3+4*A],T=E[1+4*A]+E[2+4*A],F=E[1+4*A]-E[2+4*A],B=u-E[3+4*A],y[N+0]=L+T>>3,y[N+16]=B+F>>3,y[N+32]=L-T>>3,y[N+48]=B-F>>3,N+=64}function wl(u,h,y){var N,A=h-32,E=Pn,L=255-u[A-1];for(N=0;N<y;++N){var T,F=E,B=L+u[h-1];for(T=0;T<y;++T)u[h+T]=F[B+u[A+T]];h+=32}}function zh(u,h){wl(u,h,4)}function qh(u,h){wl(u,h,8)}function $h(u,h){wl(u,h,16)}function Gi(u,h){var y;for(y=0;16>y;++y)n(u,h+32*y,u,h-32,16)}function Ka(u,h){var y;for(y=16;0<y;--y)i(u,h,u[h-1],16),h+=32}function Ja(u,h,y){var N;for(N=0;16>N;++N)i(h,y+32*N,u,16)}function ic(u,h){var y,N=16;for(y=0;16>y;++y)N+=u[h-1+32*y]+u[h+y-32];Ja(N>>5,u,h)}function $r(u,h){var y,N=8;for(y=0;16>y;++y)N+=u[h-1+32*y];Ja(N>>4,u,h)}function Vh(u,h){var y,N=8;for(y=0;16>y;++y)N+=u[h+y-32];Ja(N>>4,u,h)}function sc(u,h){Ja(128,u,h)}function ut(u,h,y){return u+2*h+y+2>>2}function Hh(u,h){var y,N=h-32;for(N=new Uint8Array([ut(u[N-1],u[N+0],u[N+1]),ut(u[N+0],u[N+1],u[N+2]),ut(u[N+1],u[N+2],u[N+3]),ut(u[N+2],u[N+3],u[N+4])]),y=0;4>y;++y)n(u,h+32*y,N,0,N.length)}function Wh(u,h){var y=u[h-1],N=u[h-1+32],A=u[h-1+64],E=u[h-1+96];Ee(u,h+0,16843009*ut(u[h-1-32],y,N)),Ee(u,h+32,16843009*ut(y,N,A)),Ee(u,h+64,16843009*ut(N,A,E)),Ee(u,h+96,16843009*ut(A,E,E))}function Oi(u,h){var y,N=4;for(y=0;4>y;++y)N+=u[h+y-32]+u[h-1+32*y];for(N>>=3,y=0;4>y;++y)i(u,h+32*y,N,4)}function ac(u,h){var y=u[h-1+0],N=u[h-1+32],A=u[h-1+64],E=u[h-1-32],L=u[h+0-32],T=u[h+1-32],F=u[h+2-32],B=u[h+3-32];u[h+0+96]=ut(N,A,u[h-1+96]),u[h+1+96]=u[h+0+64]=ut(y,N,A),u[h+2+96]=u[h+1+64]=u[h+0+32]=ut(E,y,N),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=ut(L,E,y),u[h+3+64]=u[h+2+32]=u[h+1+0]=ut(T,L,E),u[h+3+32]=u[h+2+0]=ut(F,T,L),u[h+3+0]=ut(B,F,T)}function oc(u,h){var y=u[h+1-32],N=u[h+2-32],A=u[h+3-32],E=u[h+4-32],L=u[h+5-32],T=u[h+6-32],F=u[h+7-32];u[h+0+0]=ut(u[h+0-32],y,N),u[h+1+0]=u[h+0+32]=ut(y,N,A),u[h+2+0]=u[h+1+32]=u[h+0+64]=ut(N,A,E),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=ut(A,E,L),u[h+3+32]=u[h+2+64]=u[h+1+96]=ut(E,L,T),u[h+3+64]=u[h+2+96]=ut(L,T,F),u[h+3+96]=ut(T,F,F)}function Ya(u,h){var y=u[h-1+0],N=u[h-1+32],A=u[h-1+64],E=u[h-1-32],L=u[h+0-32],T=u[h+1-32],F=u[h+2-32],B=u[h+3-32];u[h+0+0]=u[h+1+64]=E+L+1>>1,u[h+1+0]=u[h+2+64]=L+T+1>>1,u[h+2+0]=u[h+3+64]=T+F+1>>1,u[h+3+0]=F+B+1>>1,u[h+0+96]=ut(A,N,y),u[h+0+64]=ut(N,y,E),u[h+0+32]=u[h+1+96]=ut(y,E,L),u[h+1+32]=u[h+2+96]=ut(E,L,T),u[h+2+32]=u[h+3+96]=ut(L,T,F),u[h+3+32]=ut(T,F,B)}function bl(u,h){var y=u[h+0-32],N=u[h+1-32],A=u[h+2-32],E=u[h+3-32],L=u[h+4-32],T=u[h+5-32],F=u[h+6-32],B=u[h+7-32];u[h+0+0]=y+N+1>>1,u[h+1+0]=u[h+0+64]=N+A+1>>1,u[h+2+0]=u[h+1+64]=A+E+1>>1,u[h+3+0]=u[h+2+64]=E+L+1>>1,u[h+0+32]=ut(y,N,A),u[h+1+32]=u[h+0+96]=ut(N,A,E),u[h+2+32]=u[h+1+96]=ut(A,E,L),u[h+3+32]=u[h+2+96]=ut(E,L,T),u[h+3+64]=ut(L,T,F),u[h+3+96]=ut(T,F,B)}function Gh(u,h){var y=u[h-1+0],N=u[h-1+32],A=u[h-1+64],E=u[h-1+96];u[h+0+0]=y+N+1>>1,u[h+2+0]=u[h+0+32]=N+A+1>>1,u[h+2+32]=u[h+0+64]=A+E+1>>1,u[h+1+0]=ut(y,N,A),u[h+3+0]=u[h+1+32]=ut(N,A,E),u[h+3+32]=u[h+1+64]=ut(A,E,E),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=E}function Kh(u,h){var y=u[h-1+0],N=u[h-1+32],A=u[h-1+64],E=u[h-1+96],L=u[h-1-32],T=u[h+0-32],F=u[h+1-32],B=u[h+2-32];u[h+0+0]=u[h+2+32]=y+L+1>>1,u[h+0+32]=u[h+2+64]=N+y+1>>1,u[h+0+64]=u[h+2+96]=A+N+1>>1,u[h+0+96]=E+A+1>>1,u[h+3+0]=ut(T,F,B),u[h+2+0]=ut(L,T,F),u[h+1+0]=u[h+3+32]=ut(y,L,T),u[h+1+32]=u[h+3+64]=ut(N,y,L),u[h+1+64]=u[h+3+96]=ut(A,N,y),u[h+1+96]=ut(E,A,N)}function Jh(u,h){var y;for(y=0;8>y;++y)n(u,h+32*y,u,h-32,8)}function _l(u,h){var y;for(y=0;8>y;++y)i(u,h,u[h-1],8),h+=32}function ca(u,h,y){var N;for(N=0;8>N;++N)i(h,y+32*N,u,8)}function ys(u,h){var y,N=8;for(y=0;8>y;++y)N+=u[h+y-32]+u[h-1+32*y];ca(N>>4,u,h)}function Yh(u,h){var y,N=4;for(y=0;8>y;++y)N+=u[h+y-32];ca(N>>3,u,h)}function da(u,h){var y,N=4;for(y=0;8>y;++y)N+=u[h-1+32*y];ca(N>>3,u,h)}function xl(u,h){ca(128,u,h)}function Qa(u,h,y){var N=u[h-y],A=u[h+0],E=3*(A-N)+rf[1020+u[h-2*y]-u[h+y]],L=bc[112+(E+4>>3)];u[h-y]=Pn[255+N+bc[112+(E+3>>3)]],u[h+0]=Pn[255+A-L]}function lc(u,h,y,N){var A=u[h+0],E=u[h+y];return Yn[255+u[h-2*y]-u[h-y]]>N||Yn[255+E-A]>N}function uc(u,h,y,N){return 4*Yn[255+u[h-y]-u[h+0]]+Yn[255+u[h-2*y]-u[h+y]]<=N}function cc(u,h,y,N,A){var E=u[h-3*y],L=u[h-2*y],T=u[h-y],F=u[h+0],B=u[h+y],Q=u[h+2*y],ue=u[h+3*y];return 4*Yn[255+T-F]+Yn[255+L-B]>N?0:Yn[255+u[h-4*y]-E]<=A&&Yn[255+E-L]<=A&&Yn[255+L-T]<=A&&Yn[255+ue-Q]<=A&&Yn[255+Q-B]<=A&&Yn[255+B-F]<=A}function dc(u,h,y,N){var A=2*N+1;for(N=0;16>N;++N)uc(u,h+N,y,A)&&Qa(u,h+N,y)}function Ii(u,h,y,N){var A=2*N+1;for(N=0;16>N;++N)uc(u,h+N*y,1,A)&&Qa(u,h+N*y,1)}function Ki(u,h,y,N){var A;for(A=3;0<A;--A)dc(u,h+=4*y,y,N)}function Qh(u,h,y,N){var A;for(A=3;0<A;--A)Ii(u,h+=4,y,N)}function ws(u,h,y,N,A,E,L,T){for(E=2*E+1;0<A--;){if(cc(u,h,y,E,L))if(lc(u,h,y,T))Qa(u,h,y);else{var F=u,B=h,Q=y,ue=F[B-2*Q],ce=F[B-Q],re=F[B+0],_e=F[B+Q],ge=F[B+2*Q],X=27*(we=rf[1020+3*(re-ce)+rf[1020+ue-_e]])+63>>7,ee=18*we+63>>7,we=9*we+63>>7;F[B-3*Q]=Pn[255+F[B-3*Q]+we],F[B-2*Q]=Pn[255+ue+ee],F[B-Q]=Pn[255+ce+X],F[B+0]=Pn[255+re-X],F[B+Q]=Pn[255+_e-ee],F[B+2*Q]=Pn[255+ge-we]}h+=N}}function di(u,h,y,N,A,E,L,T){for(E=2*E+1;0<A--;){if(cc(u,h,y,E,L))if(lc(u,h,y,T))Qa(u,h,y);else{var F=u,B=h,Q=y,ue=F[B-Q],ce=F[B+0],re=F[B+Q],_e=bc[112+((ge=3*(ce-ue))+4>>3)],ge=bc[112+(ge+3>>3)],X=_e+1>>1;F[B-2*Q]=Pn[255+F[B-2*Q]+X],F[B-Q]=Pn[255+ue+ge],F[B+0]=Pn[255+ce-_e],F[B+Q]=Pn[255+re-X]}h+=N}}function Nl(u,h,y,N,A,E){ws(u,h,y,1,16,N,A,E)}function ha(u,h,y,N,A,E){ws(u,h,1,y,16,N,A,E)}function Xh(u,h,y,N,A,E){var L;for(L=3;0<L;--L)di(u,h+=4*y,y,1,16,N,A,E)}function Xa(u,h,y,N,A,E){var L;for(L=3;0<L;--L)di(u,h+=4,1,y,16,N,A,E)}function Zh(u,h,y,N,A,E,L,T){ws(u,h,A,1,8,E,L,T),ws(y,N,A,1,8,E,L,T)}function Sl(u,h,y,N,A,E,L,T){ws(u,h,1,A,8,E,L,T),ws(y,N,1,A,8,E,L,T)}function jl(u,h,y,N,A,E,L,T){di(u,h+4*A,A,1,8,E,L,T),di(y,N+4*A,A,1,8,E,L,T)}function hc(u,h,y,N,A,E,L,T){di(u,h+4,1,A,8,E,L,T),di(y,N+4,1,A,8,E,L,T)}function Za(){this.ba=new $n,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Al(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function kl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function fc(){this.ua=0,this.Wa=new V,this.vb=new V,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new R}function ef(){this.xb=this.a=0,this.l=new Wa,this.ca=new $n,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new fc,this.ab=0,this.gc=a(4,kl),this.Oc=0}function eo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Wa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fa(u,h,y,N,A,E,L){for(u=u==null?0:u[h+0],h=0;h<L;++h)A[E+h]=u+y[N+h]&255,u=A[E+h]}function Cl(u,h,y,N,A,E,L){var T;if(u==null)fa(null,null,y,N,A,E,L);else for(T=0;T<L;++T)A[E+T]=u[h+T]+y[N+T]&255}function bs(u,h,y,N,A,E,L){if(u==null)fa(null,null,y,N,A,E,L);else{var T,F=u[h+0],B=F,Q=F;for(T=0;T<L;++T)B=Q+(F=u[h+T])-B,Q=y[N+T]+(-256&B?0>B?0:255:B)&255,B=F,A[E+T]=Q}}function El(u,h,y,N){var A=h.width,E=h.o;if(e(u!=null&&h!=null),0>y||0>=N||y+N>E)return null;if(!u.Cc){if(u.ga==null){var L;if(u.ga=new eo,(L=u.ga==null)||(L=h.width*h.o,e(u.Gb.length==0),u.Gb=s(L),u.Uc=0,u.Gb==null?L=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,L=1),L=!L),!L){L=u.ga;var T=u.Fa,F=u.P,B=u.qc,Q=u.mb,ue=u.nb,ce=F+1,re=B-1,_e=L.l;if(e(T!=null&&Q!=null&&h!=null),As[0]=null,As[1]=fa,As[2]=Cl,As[3]=bs,L.ca=Q,L.tb=ue,L.c=h.width,L.i=h.height,e(0<L.c&&0<L.i),1>=B)h=0;else if(L.$a=T[F+0]>>0&3,L.Z=T[F+0]>>2&3,L.Lc=T[F+0]>>4&3,F=T[F+0]>>6&3,0>L.$a||1<L.$a||4<=L.Z||1<L.Lc||F)h=0;else if(_e.put=Rr,_e.ac=zt,_e.bc=tn,_e.ma=L,_e.width=h.width,_e.height=h.height,_e.Da=h.Da,_e.v=h.v,_e.va=h.va,_e.j=h.j,_e.o=h.o,L.$a)e:{e(L.$a==1),h=Re();t:for(;;){if(h==null){h=0;break e}if(e(L!=null),L.mc=h,h.c=L.c,h.i=L.i,h.l=L.l,h.l.ma=L,h.l.width=L.c,h.l.height=L.i,h.a=0,W(h.m,T,ce,re),!Pe(L.c,L.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&li(h.s)?(L.ic=1,T=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(T),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(L.ic=0,h=ze(h,L.c)),!h))break t;h=1;break e}L.mc=null,h=0}else h=re>=L.c*L.i;L=!h}if(L)return null;u.ga.Lc!=1?u.Ga=0:N=E-y}e(u.ga!=null),e(y+N<=E);e:{if(h=(T=u.ga).c,E=T.l.o,T.$a==0){if(ce=u.rc,re=u.Vc,_e=u.Fa,F=u.P+1+y*h,B=u.mb,Q=u.nb+y*h,e(F<=u.P+u.qc),T.Z!=0)for(e(As[T.Z]!=null),L=0;L<N;++L)As[T.Z](ce,re,_e,F,B,Q,h),ce=B,re=Q,Q+=h,F+=h;else for(L=0;L<N;++L)n(B,Q,_e,F,h),ce=B,re=Q,Q+=h,F+=h;u.rc=ce,u.Vc=re}else{if(e(T.mc!=null),h=y+N,e((L=T.mc)!=null),e(h<=L.i),L.C>=h)h=1;else if(T.ic||ie(),T.ic){T=L.V,ce=L.Ba,re=L.c;var ge=L.i,X=(_e=1,F=L.$/re,B=L.$%re,Q=L.m,ue=L.s,L.$),ee=re*ge,we=re*h,xe=ue.wc,be=X<we?ir(ue,B,F):null;e(X<=ee),e(h<=ge),e(li(ue));t:for(;;){for(;!Q.h&&X<we;){if(B&xe||(be=ir(ue,B,F)),e(be!=null),Z(Q),256>(ge=zr(be.G[0],be.H[0],Q)))T[ce+X]=ge,++X,++B>=re&&(B=0,++F<=h&&!(F%16)&&kn(L,F));else{if(!(280>ge)){_e=0;break t}ge=An(ge-256,Q);var $e,Fe=zr(be.G[4],be.H[4],Q);if(Z(Q),!(X>=(Fe=Vn(re,Fe=An(Fe,Q)))&&ee-X>=ge)){_e=0;break t}for($e=0;$e<ge;++$e)T[ce+X+$e]=T[ce+X+$e-Fe];for(X+=ge,B+=ge;B>=re;)B-=re,++F<=h&&!(F%16)&&kn(L,F);X<we&&B&xe&&(be=ir(ue,B,F))}e(Q.h==q(Q))}kn(L,F>h?h:F);break t}!_e||Q.h&&X<ee?(_e=0,L.a=Q.h?5:3):L.$=X,h=_e}else h=de(L,L.V,L.Ba,L.c,L.i,h,pt);if(!h){N=0;break e}}y+N>=E&&(u.Cc=1),N=1}if(!N)return null;if(u.Cc&&((N=u.ga)!=null&&(N.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+y*A}function g(u,h,y,N,A,E){for(;0<A--;){var L,T=u,F=h+(y?1:0),B=u,Q=h+(y?0:3);for(L=0;L<N;++L){var ue=B[Q+4*L];ue!=255&&(ue*=32897,T[F+4*L+0]=T[F+4*L+0]*ue>>23,T[F+4*L+1]=T[F+4*L+1]*ue>>23,T[F+4*L+2]=T[F+4*L+2]*ue>>23)}h+=E}}function k(u,h,y,N,A){for(;0<N--;){var E;for(E=0;E<y;++E){var L=u[h+2*E+0],T=15&(B=u[h+2*E+1]),F=4369*T,B=(240&B|B>>4)*F>>16;u[h+2*E+0]=(240&L|L>>4)*F>>16&240|(15&L|L<<4)*F>>16>>4&15,u[h+2*E+1]=240&B|T}h+=A}}function z(u,h,y,N,A,E,L,T){var F,B,Q=255;for(B=0;B<A;++B){for(F=0;F<N;++F){var ue=u[h+F];E[L+4*F]=ue,Q&=ue}h+=y,L+=T}return Q!=255}function J(u,h,y,N,A){var E;for(E=0;E<A;++E)y[N+E]=u[h+E]>>8}function ie(){Jn=g,qt=k,$t=z,dr=J}function ye(u,h,y){M[u]=function(N,A,E,L,T,F,B,Q,ue,ce,re,_e,ge,X,ee,we,xe){var be,$e=xe-1>>1,Fe=T[F+0]|B[Q+0]<<16,Xe=ue[ce+0]|re[_e+0]<<16;e(N!=null);var Me=3*Fe+Xe+131074>>2;for(h(N[A+0],255&Me,Me>>16,ge,X),E!=null&&(Me=3*Xe+Fe+131074>>2,h(E[L+0],255&Me,Me>>16,ee,we)),be=1;be<=$e;++be){var Lt=T[F+be]|B[Q+be]<<16,It=ue[ce+be]|re[_e+be]<<16,kt=Fe+Lt+Xe+It+524296,St=kt+2*(Lt+Xe)>>3;Me=St+Fe>>1,Fe=(kt=kt+2*(Fe+It)>>3)+Lt>>1,h(N[A+2*be-1],255&Me,Me>>16,ge,X+(2*be-1)*y),h(N[A+2*be-0],255&Fe,Fe>>16,ge,X+(2*be-0)*y),E!=null&&(Me=kt+Xe>>1,Fe=St+It>>1,h(E[L+2*be-1],255&Me,Me>>16,ee,we+(2*be-1)*y),h(E[L+2*be+0],255&Fe,Fe>>16,ee,we+(2*be+0)*y)),Fe=Lt,Xe=It}1&xe||(Me=3*Fe+Xe+131074>>2,h(N[A+xe-1],255&Me,Me>>16,ge,X+(xe-1)*y),E!=null&&(Me=3*Xe+Fe+131074>>2,h(E[L+xe-1],255&Me,Me>>16,ee,we+(xe-1)*y)))}}function Se(){Qn[_c]=hb,Qn[xc]=r1,Qn[Q0]=fb,Qn[Nc]=n1,Qn[Sc]=i1,Qn[nf]=s1,Qn[X0]=pb,Qn[sf]=r1,Qn[af]=n1,Qn[jc]=i1,Qn[of]=s1}function qe(u){return u&-16384?0>u?0:255:u>>mb}function Ye(u,h){return qe((19077*u>>8)+(26149*h>>8)-14234)}function ft(u,h,y){return qe((19077*u>>8)-(6419*h>>8)-(13320*y>>8)+8708)}function dt(u,h){return qe((19077*u>>8)+(33050*h>>8)-17685)}function At(u,h,y,N,A){N[A+0]=Ye(u,y),N[A+1]=ft(u,h,y),N[A+2]=dt(u,h)}function Xt(u,h,y,N,A){N[A+0]=dt(u,h),N[A+1]=ft(u,h,y),N[A+2]=Ye(u,y)}function sr(u,h,y,N,A){var E=ft(u,h,y);h=E<<3&224|dt(u,h)>>3,N[A+0]=248&Ye(u,y)|E>>5,N[A+1]=h}function vr(u,h,y,N,A){var E=240&dt(u,h)|15;N[A+0]=240&Ye(u,y)|ft(u,h,y)>>4,N[A+1]=E}function Vr(u,h,y,N,A){N[A+0]=255,At(u,h,y,N,A+1)}function Cr(u,h,y,N,A){Xt(u,h,y,N,A),N[A+3]=255}function hi(u,h,y,N,A){At(u,h,y,N,A),N[A+3]=255}function Ln(u,h){return 0>u?0:u>h?h:u}function Ri(u,h,y){M[u]=function(N,A,E,L,T,F,B,Q,ue){for(var ce=Q+(-2&ue)*y;Q!=ce;)h(N[A+0],E[L+0],T[F+0],B,Q),h(N[A+1],E[L+0],T[F+0],B,Q+y),A+=2,++L,++F,Q+=2*y;1&ue&&h(N[A+0],E[L+0],T[F+0],B,Q)}}function pc(u,h,y){return y==0?u==0?h==0?6:5:h==0?4:0:y}function Ll(u,h,y,N,A){switch(u>>>30){case 3:Qi(h,y,N,A,0);break;case 2:cr(h,y,N,A);break;case 1:sn(h,y,N,A)}}function Pl(u,h){var y,N,A=h.M,E=h.Nb,L=u.oc,T=u.pc+40,F=u.oc,B=u.pc+584,Q=u.oc,ue=u.pc+600;for(y=0;16>y;++y)L[T+32*y-1]=129;for(y=0;8>y;++y)F[B+32*y-1]=129,Q[ue+32*y-1]=129;for(0<A?L[T-1-32]=F[B-1-32]=Q[ue-1-32]=129:(i(L,T-32-1,127,21),i(F,B-32-1,127,9),i(Q,ue-32-1,127,9)),N=0;N<u.za;++N){var ce=h.ya[h.aa+N];if(0<N){for(y=-1;16>y;++y)n(L,T+32*y-4,L,T+32*y+12,4);for(y=-1;8>y;++y)n(F,B+32*y-4,F,B+32*y+4,4),n(Q,ue+32*y-4,Q,ue+32*y+4,4)}var re=u.Gd,_e=u.Hd+N,ge=ce.ad,X=ce.Hc;if(0<A&&(n(L,T-32,re[_e].y,0,16),n(F,B-32,re[_e].f,0,8),n(Q,ue-32,re[_e].ea,0,8)),ce.Za){var ee=L,we=T-32+16;for(0<A&&(N>=u.za-1?i(ee,we,re[_e].y[15],4):n(ee,we,re[_e+1].y,0,4)),y=0;4>y;y++)ee[we+128+y]=ee[we+256+y]=ee[we+384+y]=ee[we+0+y];for(y=0;16>y;++y,X<<=2)ee=L,we=T+o1[y],fi[ce.Ob[y]](ee,we),Ll(X,ge,16*+y,ee,we)}else if(ee=pc(N,A,ce.Ob[0]),js[ee](L,T),X!=0)for(y=0;16>y;++y,X<<=2)Ll(X,ge,16*+y,L,T+o1[y]);for(y=ce.Gc,ee=pc(N,A,ce.Dd),Zi[ee](F,B),Zi[ee](Q,ue),X=ge,ee=F,we=B,255&(ce=y>>0)&&(170&ce?Fl(X,256,ee,we):Gn(X,256,ee,we)),ce=Q,X=ue,255&(y>>=8)&&(170&y?Fl(ge,320,ce,X):Gn(ge,320,ce,X)),A<u.Ub-1&&(n(re[_e].y,0,L,T+480,16),n(re[_e].f,0,F,B+224,8),n(re[_e].ea,0,Q,ue+224,8)),y=8*E*u.B,re=u.sa,_e=u.ta+16*N+16*E*u.R,ge=u.qa,ce=u.ra+8*N+y,X=u.Ha,ee=u.Ia+8*N+y,y=0;16>y;++y)n(re,_e+y*u.R,L,T+32*y,16);for(y=0;8>y;++y)n(ge,ce+y*u.B,F,B+32*y,8),n(X,ee+y*u.B,Q,ue+32*y,8)}}function to(u,h,y,N,A,E,L,T,F){var B=[0],Q=[0],ue=0,ce=F!=null?F.kd:0,re=F??new Al;if(u==null||12>y)return 7;re.data=u,re.w=h,re.ha=y,h=[h],y=[y],re.gb=[re.gb];e:{var _e=h,ge=y,X=re.gb;if(e(u!=null),e(ge!=null),e(X!=null),X[0]=0,12<=ge[0]&&!r(u,_e[0],"RIFF")){if(r(u,_e[0]+8,"WEBP")){X=3;break e}var ee=Te(u,_e[0]+4);if(12>ee||4294967286<ee){X=3;break e}if(ce&&ee>ge[0]-8){X=7;break e}X[0]=ee,_e[0]+=12,ge[0]-=12}X=0}if(X!=0)return X;for(ee=0<re.gb[0],y=y[0];;){e:{var we=u;ge=h,X=y;var xe=B,be=Q,$e=_e=[0];if((Me=ue=[ue])[0]=0,8>X[0])X=7;else{if(!r(we,ge[0],"VP8X")){if(Te(we,ge[0]+4)!=10){X=3;break e}if(18>X[0]){X=7;break e}var Fe=Te(we,ge[0]+8),Xe=1+De(we,ge[0]+12);if(2147483648<=Xe*(we=1+De(we,ge[0]+15))){X=3;break e}$e!=null&&($e[0]=Fe),xe!=null&&(xe[0]=Xe),be!=null&&(be[0]=we),ge[0]+=18,X[0]-=18,Me[0]=1}X=0}}if(ue=ue[0],_e=_e[0],X!=0)return X;if(ge=!!(2&_e),!ee&&ue)return 3;if(E!=null&&(E[0]=!!(16&_e)),L!=null&&(L[0]=ge),T!=null&&(T[0]=0),L=B[0],_e=Q[0],ue&&ge&&F==null){X=0;break}if(4>y){X=7;break}if(ee&&ue||!ee&&!ue&&!r(u,h[0],"ALPH")){y=[y],re.na=[re.na],re.P=[re.P],re.Sa=[re.Sa];e:{Fe=u,X=h,ee=y;var Me=re.gb;xe=re.na,be=re.P,$e=re.Sa,Xe=22,e(Fe!=null),e(ee!=null),we=X[0];var Lt=ee[0];for(e(xe!=null),e($e!=null),xe[0]=null,be[0]=null,$e[0]=0;;){if(X[0]=we,ee[0]=Lt,8>Lt){X=7;break e}var It=Te(Fe,we+4);if(4294967286<It){X=3;break e}var kt=8+It+1&-2;if(Xe+=kt,0<Me&&Xe>Me){X=3;break e}if(!r(Fe,we,"VP8 ")||!r(Fe,we,"VP8L")){X=0;break e}if(Lt[0]<kt){X=7;break e}r(Fe,we,"ALPH")||(xe[0]=Fe,be[0]=we+8,$e[0]=It),we+=kt,Lt-=kt}}if(y=y[0],re.na=re.na[0],re.P=re.P[0],re.Sa=re.Sa[0],X!=0)break}y=[y],re.Ja=[re.Ja],re.xa=[re.xa];e:if(Me=u,X=h,ee=y,xe=re.gb[0],be=re.Ja,$e=re.xa,Fe=X[0],we=!r(Me,Fe,"VP8 "),Xe=!r(Me,Fe,"VP8L"),e(Me!=null),e(ee!=null),e(be!=null),e($e!=null),8>ee[0])X=7;else{if(we||Xe){if(Me=Te(Me,Fe+4),12<=xe&&Me>xe-12){X=3;break e}if(ce&&Me>ee[0]-8){X=7;break e}be[0]=Me,X[0]+=8,ee[0]-=8,$e[0]=Xe}else $e[0]=5<=ee[0]&&Me[Fe+0]==47&&!(Me[Fe+4]>>5),be[0]=ee[0];X=0}if(y=y[0],re.Ja=re.Ja[0],re.xa=re.xa[0],h=h[0],X!=0)break;if(4294967286<re.Ja)return 3;if(T==null||ge||(T[0]=re.xa?2:1),L=[L],_e=[_e],re.xa){if(5>y){X=7;break}T=L,ce=_e,ge=E,u==null||5>y?u=0:5<=y&&u[h+0]==47&&!(u[h+4]>>5)?(ee=[0],Me=[0],xe=[0],W(be=new C,u,h,y),Qe(be,ee,Me,xe)?(T!=null&&(T[0]=ee[0]),ce!=null&&(ce[0]=Me[0]),ge!=null&&(ge[0]=xe[0]),u=1):u=0):u=0}else{if(10>y){X=7;break}T=_e,u==null||10>y||!Xu(u,h+3,y-3)?u=0:(ce=u[h+0]|u[h+1]<<8|u[h+2]<<16,ge=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&ce||3<(ce>>1&7)||!(ce>>4&1)||ce>>5>=re.Ja||!ge||!u?u=0:(L&&(L[0]=ge),T&&(T[0]=u),u=1))}if(!u||(L=L[0],_e=_e[0],ue&&(B[0]!=L||Q[0]!=_e)))return 3;F!=null&&(F[0]=re,F.offset=h-F.w,e(4294967286>h-F.w),e(F.offset==F.ha-y));break}return X==0||X==7&&ue&&F==null?(E!=null&&(E[0]|=re.na!=null&&0<re.na.length),N!=null&&(N[0]=L),A!=null&&(A[0]=_e),0):X}function Ol(u,h,y){var N=h.width,A=h.height,E=0,L=0,T=N,F=A;if(h.Da=u!=null&&0<u.Da,h.Da&&(T=u.cd,F=u.bd,E=u.v,L=u.j,11>y||(E&=-2,L&=-2),0>E||0>L||0>=T||0>=F||E+T>N||L+F>A))return 0;if(h.v=E,h.j=L,h.va=E+T,h.o=L+F,h.U=T,h.T=F,h.da=u!=null&&0<u.da,h.da){if(!ot(T,F,y=[u.ib],E=[u.hb]))return 0;h.ib=y[0],h.hb=E[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*N/4&&h.hb<3*A/4,h.Kb=0),1}function Il(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function ro(u,h,y,N){if(N==null||0>=u||0>=h)return 2;if(y!=null){if(y.Da){var A=y.cd,E=y.bd,L=-2&y.v,T=-2&y.j;if(0>L||0>T||0>=A||0>=E||L+A>u||T+E>h)return 2;u=A,h=E}if(y.da){if(!ot(u,h,A=[y.ib],E=[y.hb]))return 2;u=A[0],h=E[0]}}N.width=u,N.height=h;e:{var F=N.width,B=N.height;if(u=N.S,0>=F||0>=B||!(u>=_c&&13>u))u=2;else{if(0>=N.Rd&&N.sd==null){L=E=A=h=0;var Q=(T=F*l1[u])*B;if(11>u||(E=(B+1)/2*(h=(F+1)/2),u==12&&(L=(A=F)*B)),(B=s(Q+2*E+L))==null){u=1;break e}N.sd=B,11>u?((F=N.f.RGBA).eb=B,F.fb=0,F.A=T,F.size=Q):((F=N.f.kb).y=B,F.O=0,F.fa=T,F.Fd=Q,F.f=B,F.N=0+Q,F.Ab=h,F.Cd=E,F.ea=B,F.W=0+Q+E,F.Db=h,F.Ed=E,u==12&&(F.F=B,F.J=0+Q+2*E),F.Tc=L,F.lb=A)}if(h=1,A=N.S,E=N.width,L=N.height,A>=_c&&13>A)if(11>A)u=N.f.RGBA,h&=(T=Math.abs(u.A))*(L-1)+E<=u.size,h&=T>=E*l1[A],h&=u.eb!=null;else{u=N.f.kb,T=(E+1)/2,Q=(L+1)/2,F=Math.abs(u.fa),B=Math.abs(u.Ab);var ue=Math.abs(u.Db),ce=Math.abs(u.lb),re=ce*(L-1)+E;h&=F*(L-1)+E<=u.Fd,h&=B*(Q-1)+T<=u.Cd,h=(h&=ue*(Q-1)+T<=u.Ed)&F>=E&B>=T&ue>=T,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,A==12&&(h&=ce>=E,h&=re<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||y!=null&&y.fd&&(u=Il(N)),u}var Tr=64,no=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],io=24,so=32,Rl=8,pn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Oe("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(u){return u},M.Predictor2=function(u,h,y){return h[y+0]},M.Predictor3=function(u,h,y){return h[y+1]},M.Predictor4=function(u,h,y){return h[y-1]},M.Predictor5=function(u,h,y){return Ie(Ie(u,h[y+1]),h[y+0])},M.Predictor6=function(u,h,y){return Ie(u,h[y-1])},M.Predictor7=function(u,h,y){return Ie(u,h[y+0])},M.Predictor8=function(u,h,y){return Ie(h[y-1],h[y+0])},M.Predictor9=function(u,h,y){return Ie(h[y+0],h[y+1])},M.Predictor10=function(u,h,y){return Ie(Ie(u,h[y-1]),Ie(h[y+0],h[y+1]))},M.Predictor11=function(u,h,y){var N=h[y+0];return 0>=lt(N>>24&255,u>>24&255,(h=h[y-1])>>24&255)+lt(N>>16&255,u>>16&255,h>>16&255)+lt(N>>8&255,u>>8&255,h>>8&255)+lt(255&N,255&u,255&h)?N:u},M.Predictor12=function(u,h,y){var N=h[y+0];return(Ke((u>>24&255)+(N>>24&255)-((h=h[y-1])>>24&255))<<24|Ke((u>>16&255)+(N>>16&255)-(h>>16&255))<<16|Ke((u>>8&255)+(N>>8&255)-(h>>8&255))<<8|Ke((255&u)+(255&N)-(255&h)))>>>0},M.Predictor13=function(u,h,y){var N=h[y-1];return(st((u=Ie(u,h[y+0]))>>24&255,N>>24&255)<<24|st(u>>16&255,N>>16&255)<<16|st(u>>8&255,N>>8&255)<<8|st(u>>0&255,N>>0&255))>>>0};var tf=M.PredictorAdd0;M.PredictorAdd1=ct,Oe("Predictor2","PredictorAdd2"),Oe("Predictor3","PredictorAdd3"),Oe("Predictor4","PredictorAdd4"),Oe("Predictor5","PredictorAdd5"),Oe("Predictor6","PredictorAdd6"),Oe("Predictor7","PredictorAdd7"),Oe("Predictor8","PredictorAdd8"),Oe("Predictor9","PredictorAdd9"),Oe("Predictor10","PredictorAdd10"),Oe("Predictor11","PredictorAdd11"),Oe("Predictor12","PredictorAdd12"),Oe("Predictor13","PredictorAdd13");var Tl=M.PredictorAdd2;vt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var mc,Wn=M.ColorIndexInverseTransform,ao=M.MapARGB,gc=M.VP8LColorIndexInverseTransformAlpha,vc=M.MapAlpha,_s=M.VP8LPredictorsAdd=[];_s.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var pa,mn,nn,xs,Ji,Yi,oo,Qi,cr,Fl,sn,Gn,lo,yc,Dl,ma,ga,Ns,va,uo,ya,Ss,Ml,Kn,Jn,qt,$t,dr,xr=s(511),Xi=s(2041),Bl=s(225),co=s(767),wc=0,rf=Xi,bc=Bl,Pn=co,Yn=xr,_c=0,xc=1,Q0=2,Nc=3,Sc=4,nf=5,X0=6,sf=7,af=8,jc=9,of=10,Xw=[2,3,7],Zw=[3,3,11],Z0=[280,256,256,256,40],eb=[0,1,1,1,0],tb=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],rb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],nb=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ib=8,lf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],uf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ul=null,sb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ab=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],e1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ob=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],lb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ub=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],cb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],js=[],fi=[],Zi=[],db=1,t1=2,As=[],Qn=[];ye("UpsampleRgbLinePair",At,3),ye("UpsampleBgrLinePair",Xt,3),ye("UpsampleRgbaLinePair",hi,4),ye("UpsampleBgraLinePair",Cr,4),ye("UpsampleArgbLinePair",Vr,4),ye("UpsampleRgba4444LinePair",vr,2),ye("UpsampleRgb565LinePair",sr,2);var hb=M.UpsampleRgbLinePair,fb=M.UpsampleBgrLinePair,r1=M.UpsampleRgbaLinePair,n1=M.UpsampleBgraLinePair,i1=M.UpsampleArgbLinePair,s1=M.UpsampleRgba4444LinePair,pb=M.UpsampleRgb565LinePair,Ac=16,kc=1<<Ac-1,zl=-227,cf=482,mb=6,a1=0,gb=s(256),vb=s(256),yb=s(256),wb=s(256),bb=s(cf-zl),_b=s(cf-zl);Ri("YuvToRgbRow",At,3),Ri("YuvToBgrRow",Xt,3),Ri("YuvToRgbaRow",hi,4),Ri("YuvToBgraRow",Cr,4),Ri("YuvToArgbRow",Vr,4),Ri("YuvToRgba4444Row",vr,2),Ri("YuvToRgb565Row",sr,2);var o1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Cc=[0,2,8],xb=[8,7,6,4,4,2,2,2,1,1,1,1],Nb=1;this.WebPDecodeRGBA=function(u,h,y,N,A){var E=xc,L=new Za,T=new $n;L.ba=T,T.S=E,T.width=[T.width],T.height=[T.height];var F=T.width,B=T.height,Q=new jn;if(Q==null||u==null)var ue=2;else e(Q!=null),ue=to(u,h,y,Q.width,Q.height,Q.Pd,Q.Qd,Q.format,null);if(ue!=0?F=0:(F!=null&&(F[0]=Q.width[0]),B!=null&&(B[0]=Q.height[0]),F=1),F){T.width=T.width[0],T.height=T.height[0],N!=null&&(N[0]=T.width),A!=null&&(A[0]=T.height);e:{if(N=new Wa,(A=new Al).data=u,A.w=h,A.ha=y,A.kd=1,h=[0],e(A!=null),((u=to(A.data,A.w,A.ha,null,null,null,h,null,A))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(e(L!=null),N.data=A.data,N.w=A.w+A.offset,N.ha=A.ha-A.offset,N.put=Rr,N.ac=zt,N.bc=tn,N.ma=L,A.xa){if((u=Re())==null){L=1;break e}if(function(ce,re){var _e=[0],ge=[0],X=[0];t:for(;;){if(ce==null)return 0;if(re==null)return ce.a=2,0;if(ce.l=re,ce.a=0,W(ce.m,re.data,re.w,re.ha),!Qe(ce.m,_e,ge,X)){ce.a=3;break t}if(ce.xb=t1,re.width=_e[0],re.height=ge[0],!Pe(_e[0],ge[0],1,ce,null))break t;return 1}return e(ce.a!=0),0}(u,N)){if(N=(h=ro(N.width,N.height,L.Oa,L.ba))==0){t:{N=u;r:for(;;){if(N==null){N=0;break t}if(e(N.s.yc!=null),e(N.s.Ya!=null),e(0<N.s.Wb),e((y=N.l)!=null),e((A=y.ma)!=null),N.xb!=0){if(N.ca=A.ba,N.tb=A.tb,e(N.ca!=null),!Ol(A.Oa,y,Nc)){N.a=2;break r}if(!ze(N,y.width)||y.da)break r;if((y.da||Et(N.ca.S))&&ie(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&ie()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!Ze(N.s.vb,N.s.Wa.Xa)){N.a=1;break r}N.xb=0}if(!de(N,N.V,N.Ba,N.c,N.i,y.o,vs))break r;A.Dc=N.Ma,N=1;break t}e(N.a!=0),N=0}N=!N}N&&(h=u.a)}else h=u.a}else{if((u=new Fh)==null){L=1;break e}if(u.Fa=A.na,u.P=A.P,u.qc=A.Sa,Zu(u,N)){if((h=ro(N.width,N.height,L.Oa,L.ba))==0){if(u.Aa=0,y=L.Oa,e((A=u)!=null),y!=null){if(0<(F=0>(F=y.Md)?0:100<F?255:255*F/100)){for(B=Q=0;4>B;++B)12>(ue=A.pb[B]).lc&&(ue.ia=F*xb[0>ue.lc?0:ue.lc]>>3),Q|=ue.ia;Q&&(alert("todo:VP8InitRandom"),A.ia=1)}A.Ga=y.Id,100<A.Ga?A.Ga=100:0>A.Ga&&(A.Ga=0)}Dh(u,N)||(h=u.a)}}else h=u.a}h==0&&L.Oa!=null&&L.Oa.fd&&(h=Il(L.ba))}L=h}E=L!=0?null:11>E?T.f.RGBA.eb:T.f.kb.y}else E=null;return E};var l1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(M,te){for(var I="",O=0;O<4;O++)I+=String.fromCharCode(M[te++]);return I}function f(M,te){return(M[te+0]<<0|M[te+1]<<8|M[te+2]<<16)>>>0}function m(M,te){return(M[te+0]<<0|M[te+1]<<8|M[te+2]<<16|M[te+3]<<24)>>>0}new o;var v=[0],p=[0],_=[],S=new o,j=t,w=function(M,te){var I={},O=0,R=!1,G=0,H=0;if(I.frames=[],!function(U,q,K,Z){for(var le=0;le<Z;le++)if(U[q+le]!=K.charCodeAt(le))return!0;return!1}(M,te,"RIFF",4)){var pe,oe;for(m(M,te+=4),te+=8;te<M.length;){var me=c(M,te),W=m(M,te+=4);te+=4;var ne=W+(1&W);switch(me){case"VP8 ":case"VP8L":I.frames[O]===void 0&&(I.frames[O]={}),(C=I.frames[O]).src_off=R?H:te-8,C.src_size=G+W+8,O++,R&&(R=!1,G=0,H=0);break;case"VP8X":(C=I.header={}).feature_flags=M[te];var ae=te+4;C.canvas_width=1+f(M,ae),ae+=3,C.canvas_height=1+f(M,ae),ae+=3;break;case"ALPH":R=!0,G=ne+8,H=te-8;break;case"ANIM":(C=I.header).bgcolor=m(M,te),ae=te+4,C.loop_count=(pe=M)[(oe=ae)+0]<<0|pe[oe+1]<<8,ae+=2;break;case"ANMF":var Ne,C;(C=I.frames[O]={}).offset_x=2*f(M,te),te+=3,C.offset_y=2*f(M,te),te+=3,C.width=1+f(M,te),te+=3,C.height=1+f(M,te),te+=3,C.duration=f(M,te),te+=3,Ne=M[te++],C.dispose=1&Ne,C.blend=Ne>>1&1}me!="ANMF"&&(te+=ne)}return I}}(j,0);w.response=j,w.rgbaoutput=!0,w.dataurl=!1;var x=w.header?w.header:null,b=w.frames?w.frames:null;if(x){x.loop_counter=x.loop_count,v=[x.canvas_height],p=[x.canvas_width];for(var P=0;P<b.length&&b[P].blend!=0;P++);}var D=b[0],Y=S.WebPDecodeRGBA(j,D.src_off,D.src_size,p,v);D.rgba=Y,D.imgwidth=p[0],D.imgheight=v[0];for(var $=0;$<p[0]*v[0]*4;$++)_[$]=Y[$];return this.width=p,this.height=v,this.data=_,this}(function(t){var e=function(){return typeof Rm=="function"},r=function(v,p,_,S){var j=4,w=a;switch(S){case t.image_compression.FAST:j=1,w=s;break;case t.image_compression.MEDIUM:j=6,w=l;break;case t.image_compression.SLOW:j=9,w=o}v=n(v,p,_,w);var x=Rm(v,{level:j});return t.__addimage__.arrayBufferToBinaryString(x)},n=function(v,p,_,S){for(var j,w,x,b=v.length/p,P=new Uint8Array(v.length+b),D=f(),Y=0;Y<b;Y+=1){if(x=Y*p,j=v.subarray(x,x+p),S)P.set(S(j,_,w),x+Y);else{for(var $,M=D.length,te=[];$<M;$+=1)te[$]=D[$](j,_,w);var I=m(te.concat());P.set(te[I],x+Y)}w=j}return P},i=function(v){var p=Array.apply([],v);return p.unshift(0),p},s=function(v,p){var _,S=[],j=v.length;S[0]=1;for(var w=0;w<j;w+=1)_=v[w-p]||0,S[w+1]=v[w]-_+256&255;return S},a=function(v,p,_){var S,j=[],w=v.length;j[0]=2;for(var x=0;x<w;x+=1)S=_&&_[x]||0,j[x+1]=v[x]-S+256&255;return j},l=function(v,p,_){var S,j,w=[],x=v.length;w[0]=3;for(var b=0;b<x;b+=1)S=v[b-p]||0,j=_&&_[b]||0,w[b+1]=v[b]+256-(S+j>>>1)&255;return w},o=function(v,p,_){var S,j,w,x,b=[],P=v.length;b[0]=4;for(var D=0;D<P;D+=1)S=v[D-p]||0,j=_&&_[D]||0,w=_&&_[D-p]||0,x=c(S,j,w),b[D+1]=v[D]-x+256&255;return b},c=function(v,p,_){if(v===p&&p===_)return v;var S=Math.abs(p-_),j=Math.abs(v-_),w=Math.abs(v+p-_-_);return S<=j&&S<=w?v:j<=w?p:_},f=function(){return[i,s,a,l,o]},m=function(v){var p=v.map(function(_){return _.reduce(function(S,j){return S+Math.abs(j)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(v,p,_,S){var j,w,x,b,P,D,Y,$,M,te,I,O,R,G,H,pe=this.decode.FLATE_DECODE,oe="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(x=new o6(v)).imgData,w=x.bits,j=x.colorSpace,P=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){M=($=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,I=new Uint8Array(M*x.colors),te=new Uint8Array(M);var me,W=x.pixelBitlength-x.bits;for(G=0,H=0;G<M;G++){for(R=$[G],me=0;me<W;)I[H++]=R>>>me&255,me+=x.bits;te[G]=R>>>me&255}}if(x.bits===16){M=($=new Uint32Array(x.decodePixels().buffer)).length,I=new Uint8Array(M*(32/x.pixelBitlength)*x.colors),te=new Uint8Array(M*(32/x.pixelBitlength)),O=x.colors>1,G=0,H=0;for(var ne=0;G<M;)R=$[G++],I[H++]=R>>>0&255,O&&(I[H++]=R>>>16&255,R=$[G++],I[H++]=R>>>0&255),te[ne++]=R>>>16&255;w=8}S!==t.image_compression.NONE&&e()?(v=r(I,x.width*x.colors,x.colors,S),Y=r(te,x.width,1,S)):(v=I,Y=te,pe=void 0)}if(x.colorType===3&&(j=this.color_spaces.INDEXED,D=x.palette,x.transparency.indexed)){var ae=x.transparency.indexed,Ne=0;for(G=0,M=ae.length;G<M;++G)Ne+=ae[G];if((Ne/=255)===M-1&&ae.indexOf(0)!==-1)b=[ae.indexOf(0)];else if(Ne!==M){for($=x.decodePixels(),te=new Uint8Array($.length),G=0,M=$.length;G<M;G++)te[G]=ae[$[G]];Y=r(te,x.width,1)}}var C=function(U){var q;switch(U){case t.image_compression.FAST:q=11;break;case t.image_compression.MEDIUM:q=13;break;case t.image_compression.SLOW:q=14;break;default:q=12}return q}(S);return pe===this.decode.FLATE_DECODE&&(oe="/Predictor "+C+" "),oe+="/Colors "+P+" /BitsPerComponent "+w+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(Y&&this.__addimage__.isArrayBuffer(Y)||this.__addimage__.isArrayBufferView(Y))&&(Y=this.__addimage__.arrayBufferToBinaryString(Y)),{alias:_,data:v,index:p,filter:pe,decodeParameters:oe,transparency:b,palette:D,sMask:Y,predictor:C,width:x.width,height:x.height,bitsPerComponent:w,colorSpace:j}}}})(et.API),function(t){t.processGIF89A=function(e,r,n,i){var s=new l6(e),a=s.width,l=s.height,o=[];s.decodeAndBlitFrameRGBA(0,o);var c={data:o,width:a,height:l},f=new mp(100).encode(c,100);return t.processJPEG.call(this,f,r,n,i)},t.processGIF87A=t.processGIF89A}(et.API),vi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Ut.log("bit decode error:"+r)}},vi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var o=this.palette[s>>7-l&1];this.data[a+4*l]=o.blue,this.data[a+4*l+1]=o.green,this.data[a+4*l+2]=o.red,this.data[a+4*l+3]=255}r!==0&&(this.pos+=4-r)}},vi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,l=s>>4,o=15&s,c=this.palette[l];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[o],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},vi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},vi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,o=(s>>10&e)/e*255|0,c=s>>15?255:0,f=n*this.width*4+4*i;this.data[f]=o,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=c}this.pos+=t}},vi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,o=(a>>5&r)/r*255|0,c=(a>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=c,this.data[f+1]=o,this.data[f+2]=l,this.data[f+3]=255}this.pos+=t}},vi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},vi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=a}},vi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new vi(e,!1),a=s.width,l=s.height,o={data:s.getData(),width:a,height:l},c=new mp(100).encode(o,100);return t.processJPEG.call(this,c,r,n,i)}}(et.API),z2.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new z2(e),a=s.width,l=s.height,o={data:s.getData(),width:a,height:l},c=new mp(100).encode(o,100);return t.processJPEG.call(this,c,r,n,i)}}(et.API),et.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),l=0,o=0,c=0;c<i;c+=4){var f=n[c],m=n[c+1],v=n[c+2],p=n[c+3];s[l++]=f,s[l++]=m,s[l++]=v,a[o++]=p}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:_,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},et.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},No=et.API,pd=No.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,o=l.fof?l.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=c.fof?c.fof:1,m=e.doKerning!==!1,v=0,p=t.length,_=0,S=l[0]||o,j=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?j.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(v=m&&Tt(c[n])==="object"&&!isNaN(parseInt(c[n][_],10))?c[n][_]/f:0,j.push((l[n]||S)/o+v)),_=n;return j},D2=No.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return No.processArabic&&(t=No.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:pd.apply(this,arguments).reduce(function(s,a){return s+a},0)},M2=function(t,e,r,n){for(var i=[],s=0,a=t.length,l=0;s!==a&&l+e[s]<r;)l+=e[s],s++;i.push(t.slice(0,s));var o=s;for(l=0;s!==a;)l+e[s]>n&&(i.push(t.slice(o,s)),l=0,o=s),l+=e[s],s++;return o!==s&&i.push(t.slice(o,s)),i},B2=function(t,e,r){r||(r={});var n,i,s,a,l,o,c,f=[],m=[f],v=r.textIndent||0,p=0,_=0,S=t.split(" "),j=pd.apply(this,[" ",r])[0];if(o=r.lineIndent===-1?S[0].length+2:r.lineIndent||0){var w=Array(o).join(" "),x=[];S.map(function(P){(P=P.split(/\s*\n/)).length>1?x=x.concat(P.map(function(D,Y){return(Y&&D.length?`
`:"")+D})):x.push(P[0])}),S=x,o=D2.apply(this,[w,r])}for(s=0,a=S.length;s<a;s++){var b=0;if(n=S[s],o&&n[0]==`
`&&(n=n.substr(1),b=1),v+p+(_=(i=pd.apply(this,[n,r])).reduce(function(P,D){return P+D},0))>e||b){if(_>e){for(l=M2.apply(this,[n,i,e-(v+p),e]),f.push(l.shift()),f=[l.pop()];l.length;)m.push([l.shift()]);_=i.slice(n.length-(f[0]?f[0].length:0)).reduce(function(P,D){return P+D},0)}else f=[n];m.push(f),v=_+o,p=j}else f.push(n),v+=p+_,p=j}return c=o?function(P,D){return(D?w:"")+P.join(" ")}:function(P){return P.join(" ")},m.map(c)},No.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var l,o,c=[];for(l=0,o=n.length;l<o;l++)c=c.concat(B2.apply(this,[n[l],a,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(m){return"0x"+parseInt(m,10).toString(16)},a=t.__fontmetrics__.compress=function(m){var v,p,_,S,j=["{"];for(var w in m){if(v=m[w],isNaN(parseInt(w,10))?p="'"+w+"'":(w=parseInt(w,10),p=(p=s(w).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof v=="number")v<0?(_=s(v).slice(3),S="-"):(_=s(v).slice(2),S=""),_=S+_.slice(0,-1)+n[_.slice(-1)];else{if(Tt(v)!=="object")throw new Error("Don't know what to do with value type "+Tt(v)+".");_=a(v)}j.push(p+_)}return j.push("}"),j.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,p,_,S,j={},w=1,x=j,b=[],P="",D="",Y=m.length-1,$=1;$<Y;$+=1)(S=m[$])=="'"?v?(_=v.join(""),v=void 0):v=[]:v?v.push(S):S=="{"?(b.push([x,_]),x={},_=void 0):S=="}"?((p=b.pop())[0][p[1]]=x,_=void 0,x=p[0]):S=="-"?w=-1:_===void 0?r.hasOwnProperty(S)?(P+=r[S],_=parseInt(P,16)*w,w=1,P=""):P+=S:r.hasOwnProperty(S)?(D+=r[S],x[_]=parseInt(D,16)*w,w=1,_=void 0,D=""):D+=S;return j},o={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:o,"Courier-Bold":o,"Courier-BoldOblique":o,"Courier-Oblique":o,Helvetica:o,"Helvetica-Bold":o,"Helvetica-BoldOblique":o,"Helvetica-Oblique":o,"Times-Roman":o,"Times-Bold":o,"Times-BoldItalic":o,"Times-Italic":o}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var v=m.font,p=f.Unicode[v.postScriptName];p&&(v.metadata.Unicode={},v.metadata.Unicode.widths=p.widths,v.metadata.Unicode.kerning=p.kerning);var _=c.Unicode[v.postScriptName];_&&(v.metadata.Unicode.encoding=_,v.encoding=_.codePages[0])}])}(et.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(bu(l)),a.metadata=t.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(et),function(t){function e(){return(rt.canvg?Promise.resolve(rt.canvg):Em(()=>import("./index.es-TLKZNIJ9.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}et.API.addSvgAsImage=function(r,n,i,s,a,l,o,c){if(isNaN(n)||isNaN(i))throw Ut.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Ut.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=a;var m=f.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,f.width,f.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(_){return _.fromString(m,r,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(v)}).then(function(){p.addImage(f.toDataURL("image/jpeg",1),n,i,s,a,o,c)})}}(),et.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},et.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),o=[],c=0,f=0,m=0;function v(_,S){var j,w=!1;for(j=0;j<_.length;j+=1)_[j]===S&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=l.length;for(m=0;m<p;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(Tt(t)==="object"){for(i in t)if(s=t[i],v(l,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&v(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")o.push(String(s[c]-1));else if(s[c].length>1){for(f=0;f<s[c].length;f+=1)typeof s[c][f]!="number"&&(n=!1);n===!0&&o.push([s[c][0]-1,s[c][1]-1].join(" "))}r[i].value="["+o.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,S=[];for(_ in r)r[_].explicitSet===!0&&(r[_].type==="name"?S.push("/"+_+" /"+r[_].value):S.push("/"+_+" "+r[_].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+l.length+i.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+l+o),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(et.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var l,o=a.metadata.Unicode.widths,c=["","0","00","000","0000"],f=[""],m=0,v=s.length;m<v;++m){if(l=a.metadata.characterToGlyph(s.charCodeAt(m)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=s.charCodeAt(m),o.indexOf(l)==-1&&(o.push(l),o.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(c[4-l.length],l)}return f.join("")},n=function(s){var a,l,o,c,f,m,v;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,o=[],m=0,v=(l=Object.keys(s).sort(function(p,_){return p-_})).length;m<v;m++)a=l[m],o.length>=100&&(f+=`
`+o.length+` beginbfchar
`+o.join(`
`)+`
endbfchar`,o=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),o.push("<"+a+"><"+c+">"));return o.length&&(f+=`
`+o.length+` beginbfchar
`+o.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var l=a.font,o=a.out,c=a.newObject,f=a.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,v=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",_=0;_<v.length;_++)p+=String.fromCharCode(v[_]);var S=c();f({data:p,addLength1:!0,objectId:S}),o("endobj");var j=c();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:j}),o("endobj");var w=c();o("<<"),o("/Type /FontDescriptor"),o("/FontName /"+ko(l.fontName)),o("/FontFile2 "+S+" 0 R"),o("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),o("/Flags "+l.metadata.flags),o("/StemV "+l.metadata.stemV),o("/ItalicAngle "+l.metadata.italicAngle),o("/Ascent "+l.metadata.ascender),o("/Descent "+l.metadata.decender),o("/CapHeight "+l.metadata.capHeight),o(">>"),o("endobj");var x=c();o("<<"),o("/Type /Font"),o("/BaseFont /"+ko(l.fontName)),o("/FontDescriptor "+w+" 0 R"),o("/W "+t.API.PDFObject.convert(m)),o("/CIDToGIDMap /Identity"),o("/DW 1000"),o("/Subtype /CIDFontType2"),o("/CIDSystemInfo"),o("<<"),o("/Supplement 0"),o("/Registry (Adobe)"),o("/Ordering ("+l.encoding+")"),o(">>"),o(">>"),o("endobj"),l.objectNumber=c(),o("<<"),o("/Type /Font"),o("/Subtype /Type0"),o("/ToUnicode "+j+" 0 R"),o("/BaseFont /"+ko(l.fontName)),o("/Encoding /"+l.encoding),o("/DescendantFonts ["+x+" 0 R]"),o(">>"),o("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var l=a.font,o=a.out,c=a.newObject,f=a.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,v="",p=0;p<m.length;p++)v+=String.fromCharCode(m[p]);var _=c();f({data:v,addLength1:!0,objectId:_}),o("endobj");var S=c();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:S}),o("endobj");var j=c();o("<<"),o("/Descent "+l.metadata.decender),o("/CapHeight "+l.metadata.capHeight),o("/StemV "+l.metadata.stemV),o("/Type /FontDescriptor"),o("/FontFile2 "+_+" 0 R"),o("/Flags 96"),o("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),o("/FontName /"+ko(l.fontName)),o("/ItalicAngle "+l.metadata.italicAngle),o("/Ascent "+l.metadata.ascender),o(">>"),o("endobj"),l.objectNumber=c();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));o("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+ko(l.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),o("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,l=s.text||"",o=s.x,c=s.y,f=s.options||{},m=s.mutex||{},v=m.pdfEscape,p=m.activeFontKey,_=m.fonts,S=p,j="",w=0,x="",b=_[S].encoding;if(_[S].encoding!=="Identity-H")return{text:l,x:o,y:c,options:f,mutex:m};for(x=l,S=p,Array.isArray(l)&&(x=l[0]),w=0;w<x.length;w+=1)_[S].metadata.hasOwnProperty("cmap")&&(a=_[S].metadata.cmap.unicode.codeMap[x[w].charCodeAt(0)]),a||x[w].charCodeAt(0)<256&&_[S].metadata.hasOwnProperty("Unicode")?j+=x[w]:j+="";var P="";return parseInt(S.slice(1))<14||b==="WinAnsiEncoding"?P=v(j,S).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(P=r(j,_[S])),m.isHex=!0,{text:P,x:o,y:c,options:f,mutex:m}};e.events.push(["postProcessText",function(s){var a=s.text||"",l=[],o={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?l.push([i(Object.assign({},o,{text:a[c][0]})).text,a[c][1],a[c][2]]):l.push(i(Object.assign({},o,{text:a[c]})).text);s.text=l}else s.text=i(Object.assign({},o,{text:a})).text}])}(et),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(et.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,l,o,c,f,m=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,b=0;this.__bidiEngine__={};var P=function(O){var R=O.charCodeAt(),G=R>>8,H=S[G];return H!==void 0?m[256*H+(255&R)]:G===252||G===253?"AL":w.test(G)?"L":G===8?"R":"N"},D=function(O){for(var R,G=0;G<O.length;G++){if((R=P(O.charAt(G)))==="L")return!1;if(R==="R")return!0}return!1},Y=function(O,R,G,H){var pe,oe,me,W,ne=R[H];switch(ne){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(ne="AN");break;case"AL":x=!0,ne="R";break;case"WS":ne="N";break;case"CS":H<1||H+1>=R.length||(pe=G[H-1])!=="EN"&&pe!=="AN"||(oe=R[H+1])!=="EN"&&oe!=="AN"?ne="N":x&&(oe="AN"),ne=oe===pe?oe:"N";break;case"ES":ne=(pe=H>0?G[H-1]:"B")==="EN"&&H+1<R.length&&R[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&G[H-1]==="EN"){ne="EN";break}if(x){ne="N";break}for(me=H+1,W=R.length;me<W&&R[me]==="ET";)me++;ne=me<W&&R[me]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(W=R.length,me=H+1;me<W&&R[me]==="NSM";)me++;if(me<W){var ae=O[H],Ne=ae>=1425&&ae<=2303||ae===64286;if(pe=R[me],Ne&&(pe==="R"||pe==="AL")){ne="R";break}}}ne=H<1||(pe=R[H-1])==="B"?"N":G[H-1];break;case"B":x=!1,i=!0,ne=b;break;case"S":s=!0,ne="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":ne="N"}return ne},$=function(O,R,G){var H=O.split("");return G&&M(H,G,{hiLevel:b}),H.reverse(),R&&R.reverse(),H.join("")},M=function(O,R,G){var H,pe,oe,me,W,ne=-1,ae=O.length,Ne=0,C=[],U=b?p:v,q=[];for(x=!1,i=!1,s=!1,pe=0;pe<ae;pe++)q[pe]=P(O[pe]);for(oe=0;oe<ae;oe++){if(W=Ne,C[oe]=Y(O,q,C,oe),H=240&(Ne=U[W][_[C[oe]]]),Ne&=15,R[oe]=me=U[Ne][5],H>0)if(H===16){for(pe=ne;pe<oe;pe++)R[pe]=1;ne=-1}else ne=-1;if(U[Ne][6])ne===-1&&(ne=oe);else if(ne>-1){for(pe=ne;pe<oe;pe++)R[pe]=me;ne=-1}q[oe]==="B"&&(R[oe]=0),G.hiLevel|=me}s&&function(K,Z,le){for(var fe=0;fe<le;fe++)if(K[fe]==="S"){Z[fe]=b;for(var he=fe-1;he>=0&&K[he]==="WS";he--)Z[he]=b}}(q,R,ae)},te=function(O,R,G,H,pe){if(!(pe.hiLevel<O)){if(O===1&&b===1&&!i)return R.reverse(),void(G&&G.reverse());for(var oe,me,W,ne,ae=R.length,Ne=0;Ne<ae;){if(H[Ne]>=O){for(W=Ne+1;W<ae&&H[W]>=O;)W++;for(ne=Ne,me=W-1;ne<me;ne++,me--)oe=R[ne],R[ne]=R[me],R[me]=oe,G&&(oe=G[ne],G[ne]=G[me],G[me]=oe);Ne=W}Ne++}}},I=function(O,R,G){var H=O.split(""),pe={hiLevel:b};return G||(G=[]),M(H,G,pe),function(oe,me,W){if(W.hiLevel!==0&&f)for(var ne,ae=0;ae<oe.length;ae++)me[ae]===1&&(ne=j.indexOf(oe[ae]))>=0&&(oe[ae]=j[ne+1])}(H,G,pe),te(2,H,R,G,pe),te(1,H,R,G,pe),H.join("")};return this.__bidiEngine__.doBidiReorder=function(O,R,G){if(function(pe,oe){if(oe)for(var me=0;me<pe.length;me++)oe[me]=me;l===void 0&&(l=D(pe)),c===void 0&&(c=D(pe))}(O,R),a||!o||c)if(a&&o&&l^c)b=l?1:0,O=$(O,R,G);else if(!a&&o&&c)b=l?1:0,O=I(O,R,G),O=$(O,R);else if(!a||l||o||c){if(a&&!o&&l^c)O=$(O,R),l?(b=0,O=I(O,R,G)):(b=1,O=I(O,R,G),O=$(O,R));else if(a&&l&&!o&&c)b=1,O=I(O,R,G),O=$(O,R);else if(!a&&!o&&l^c){var H=f;l?(b=1,O=I(O,R,G),b=0,f=!1,O=I(O,R,G),f=H):(b=0,O=I(O,R,G),O=$(O,R),b=1,f=!1,O=I(O,R,G),f=H,O=$(O,R))}}else b=0,O=I(O,R,G);else b=l?1:0,O=I(O,R,G);return O},this.__bidiEngine__.setOptions=function(O){O&&(a=O.isInputVisual,o=O.isOutputVisual,l=O.isInputRtl,c=O.isOutputRtl,f=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text,s=(n.x,n.y,n.options||{}),a=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(a=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?a.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):a.push([r.doBidiReorder(i[l])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(et),et.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new ia(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new N6(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new u6(this.contents),this.head=new d6(this),this.name=new g6(this),this.cmap=new Gw(this),this.toUnicode={},this.hhea=new h6(this),this.maxp=new v6(this),this.hmtx=new y6(this),this.post=new p6(this),this.os2=new f6(this),this.loca=new x6(this),this.glyf=new w6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,o,c;for(c=[],a=0,l=(o=this.bbox).length;a<l;a++)e=o[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,l;for(a=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Li,ia=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,l,o;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^l)+(255^o)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*l+o},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),u6=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,l,o,c,f,m,v,p,_,S;for(S in p=Object.keys(r).length,o=Math.log(2),m=16*Math.floor(Math.log(p)/o),a=Math.floor(m/o),f=16*p-m,(i=new ia).writeInt(this.scalarType),i.writeShort(p),i.writeShort(m),i.writeShort(a),i.writeShort(f),s=16*p,c=i.pos+s,l=null,_=[],r)for(v=r[S],i.writeString(S),i.writeInt(t(v)),i.writeInt(c),i.writeInt(v.length),_=_.concat(v),S==="head"&&(l=c),c+=v.length;c%4;)_.push(0),c++;return i.write(_),n=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=Kw.call(r);r.length%4;)r.push(0);for(s=new ia(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),c6={}.hasOwnProperty,Vi=function(t,e){for(var r in e)c6.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Li=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var d6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vi(e,Li),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new ia).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),q2=function(){function t(e,r){var n,i,s,a,l,o,c,f,m,v,p,_,S,j,w,x,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(p=e.readUInt16(),v=p/2,e.pos+=6,s=function(){var P,D;for(D=[],o=P=0;0<=v?P<v:P>v;o=0<=v?++P:--P)D.push(e.readUInt16());return D}(),e.pos+=2,S=function(){var P,D;for(D=[],o=P=0;0<=v?P<v:P>v;o=0<=v?++P:--P)D.push(e.readUInt16());return D}(),c=function(){var P,D;for(D=[],o=P=0;0<=v?P<v:P>v;o=0<=v?++P:--P)D.push(e.readUInt16());return D}(),f=function(){var P,D;for(D=[],o=P=0;0<=v?P<v:P>v;o=0<=v?++P:--P)D.push(e.readUInt16());return D}(),i=(this.length-e.pos+this.offset)/2,l=function(){var P,D;for(D=[],o=P=0;0<=i?P<i:P>i;o=0<=i?++P:--P)D.push(e.readUInt16());return D}(),o=w=0,b=s.length;w<b;o=++w)for(j=s[o],n=x=_=S[o];_<=j?x<=j:x>=j;n=_<=j?++x:--x)f[o]===0?a=n+c[o]:(a=l[f[o]/2+(n-_)-(v-o)]||0)!==0&&(a+=c[o]),this.codeMap[n]=65535&a}e.pos=m}return t.encode=function(e,r){var n,i,s,a,l,o,c,f,m,v,p,_,S,j,w,x,b,P,D,Y,$,M,te,I,O,R,G,H,pe,oe,me,W,ne,ae,Ne,C,U,q,K,Z,le,fe,he,Ee,je,De;switch(H=new ia,a=Object.keys(e).sort(function(Te,Ze){return Te-Ze}),r){case"macroman":for(S=0,j=function(){var Te=[];for(_=0;_<256;++_)Te.push(0);return Te}(),x={0:0},s={},pe=0,ne=a.length;pe<ne;pe++)x[he=e[i=a[pe]]]==null&&(x[he]=++S),s[i]={old:e[i],new:x[e[i]]},j[i]=x[e[i]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(j),{charMap:s,subtable:H.data,maxGlyphID:S+1};case"unicode":for(R=[],m=[],b=0,x={},n={},w=c=null,oe=0,ae=a.length;oe<ae;oe++)x[D=e[i=a[oe]]]==null&&(x[D]=++b),n[i]={old:D,new:x[D]},l=x[D]-i,w!=null&&l===c||(w&&m.push(w),R.push(i),c=l),w=i;for(w&&m.push(w),m.push(65535),R.push(65535),I=2*(te=R.length),M=2*Math.pow(Math.log(te)/Math.LN2,2),v=Math.log(M/2)/Math.LN2,$=2*te-M,o=[],Y=[],p=[],_=me=0,Ne=R.length;me<Ne;_=++me){if(O=R[_],f=m[_],O===65535){o.push(0),Y.push(0);break}if(O-(G=n[O].new)>=32768)for(o.push(0),Y.push(2*(p.length+te-_)),i=W=O;O<=f?W<=f:W>=f;i=O<=f?++W:--W)p.push(n[i].new);else o.push(G-O),Y.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*te+2*p.length),H.writeUInt16(0),H.writeUInt16(I),H.writeUInt16(M),H.writeUInt16(v),H.writeUInt16($),le=0,C=m.length;le<C;le++)i=m[le],H.writeUInt16(i);for(H.writeUInt16(0),fe=0,U=R.length;fe<U;fe++)i=R[fe],H.writeUInt16(i);for(Ee=0,q=o.length;Ee<q;Ee++)l=o[Ee],H.writeUInt16(l);for(je=0,K=Y.length;je<K;je++)P=Y[je],H.writeUInt16(P);for(De=0,Z=p.length;De<Z;De++)S=p[De],H.writeUInt16(S);return{charMap:n,subtable:H.data,maxGlyphID:b+1}}},t}(),Gw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vi(e,Li),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new q2(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=q2.encode(r,n),(s=new ia).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),h6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vi(e,Li),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),f6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vi(e,Li),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),p6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vi(e,Li),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(i=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var l,o,c;for(c=[],a=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;a=0<=o?++l:--l)c.push(r.readUInt32());return c}).call(this)}},e}(),m6=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},g6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vi(e,Li),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,a,l,o,c,f,m,v,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),o=r.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+o+r.readShort()});for(c={},a=m=0,v=i.length;m<v;a=++m)s=i[a],r.pos=s.offset,f=r.readString(s.length),l=new m6(f,s),c[p=s.nameID]==null&&(c[p]=[]),c[s.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),v6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vi(e,Li),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),y6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vi(e,Li),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,a,l,o,c;for(r.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,m;for(m=[],n=f=0;0<=s?f<s:f>s;n=0<=s?++f:--f)m.push(r.readInt16());return m}(),this.widths=(function(){var f,m,v,p;for(p=[],f=0,m=(v=this.metrics).length;f<m;f++)a=v[f],p.push(a.advance);return p}).call(this),i=this.widths[this.widths.length-1],c=[],n=l=0;0<=s?l<s:l>s;n=0<=s?++l:--l)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),Kw=[].slice,w6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vi(e,Li),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,a,l,o,c,f,m,v;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(r),(s=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,l=(o=new ia(n.read(s))).readShort(),f=o.readShort(),v=o.readShort(),c=o.readShort(),m=o.readShort(),this.cache[r]=l===-1?new _6(o,f,v,c,m):new b6(o,l,f,v,c,m),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,a,l,o,c;for(l=[],a=[],o=0,c=n.length;o<c;o++)s=r[n[o]],a.push(l.length),s&&(l=l.concat(s.encode(i)));return a.push(l.length),{table:l,offsets:a}},e}(),b6=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),_6=function(){function t(e,r,n,i,s){var a,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new ia(Kw.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),x6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vi(e,Li),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,l=0;l<i.length;++l)if(i[l]=s,a<n.length&&n[a]==l){++a,i[l]=s;var o=this.offsets[l],c=this.offsets[l+1]-o;c>0&&(s+=c)}for(var f=new Array(4*i.length),m=0;m<i.length;++m)f[4*m+3]=255&i[m],f[4*m+2]=(65280&i[m])>>8,f[4*m+1]=(16711680&i[m])>>16,f[4*m]=(4278190080&i[m])>>24;return f},e}(),N6=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,l,o;for(i={},a=0,l=e.length;a<l;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in o=this.glyphsFor(r))n=o[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,l,o,c,f,m,v,p,_,S,j,w;for(i in n=Gw.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},w=n.charMap)p[(o=w[i]).old]=o.new;for(_ in v=n.maxGlyphID,a)_ in p||(p[_]=v++);return f=function(x){var b,P;for(b in P={},x)P[x[b]]=b;return P}(p),m=Object.keys(f).sort(function(x,b){return x-b}),S=function(){var x,b,P;for(P=[],x=0,b=m.length;x<b;x++)l=m[x],P.push(f[l]);return P}(),s=this.font.glyf.encode(a,S,p),c=this.font.loca.encode(s.offsets,S),j={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},t}();et.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var l,o,c;for(c=[],l=0,o=r.length;l<o;l++)n=r[l],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();function S6(){const t=()=>{const e=new et;let r=16;e.setFontSize(16),e.text("Vijayam Science and Arts Degree College",12,r),r+=8,e.setFontSize(12),e.text("Manual Application Form (Blank)",12,r),r+=10;const n=i=>{e.text(i,12,r),e.line(70,r+1,200,r+1),r+=10};["Student ID","Admission No","HT No","Academic Year","Group","Course Code","Course Name","Full Name","DOB","Gender","Father's Name","Mother's Name","Mobile","Email","Nationality","State","Aadhar No","Postal Code","Religion","Caste","Sub Caste","Address"].forEach(n),e.save("Application-Form-Blank.pdf")};return d.jsx("div",{className:"container py-5",children:d.jsx("div",{className:"row justify-content-center",children:d.jsx("div",{className:"col-lg-10",children:d.jsxs("div",{className:"card card-soft p-4",children:[d.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[d.jsxs("div",{className:"d-flex align-items-center gap-2",children:[d.jsx("img",{src:"/image.png",className:"brand-logo",alt:"logo"}),d.jsxs("div",{children:[d.jsx("h3",{className:"fw-bold mb-0",children:"Vijayam College of Arts & Science"}),d.jsx("div",{className:"text-muted",children:"Chennai"})]})]}),d.jsx(Go,{to:"/",className:"btn btn-brand",children:"Back to Home"})]}),d.jsx("h5",{className:"mt-1",children:"Application Form"}),d.jsxs("div",{className:"mt-3 d-flex gap-2",children:[d.jsx("button",{className:"btn btn-brand btn-sm",onClick:t,children:"Download Blank PDF"}),d.jsx("button",{className:"btn btn-outline-brand btn-sm",onClick:()=>window.print(),children:"Print This Page"})]}),d.jsxs("div",{className:"row g-3 mt-1",children:[d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Student & Admission"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Student ID"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Admission No"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Academic Year"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Group & Course"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Group"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Course Code"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Course Name"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Personal Details"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Full Name"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Gender"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"DOB"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Father's Name"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Mother's Name"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Contact & Address"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Mobile"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Email"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Nationality"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"State"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Aadhar No"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Postal Code (PIN)"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Religion"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Caste"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Sub Caste"}),d.jsx("input",{className:"form-control"})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("label",{className:"form-label",children:"Address"}),d.jsx("textarea",{className:"form-control",rows:"2"})]}),d.jsxs("div",{className:"col-12 d-flex justify-content-end gap-2 mt-2",children:[d.jsx("button",{className:"btn btn-outline-secondary",onClick:e=>{e.preventDefault(),window.print()},children:"Print"}),d.jsx("button",{className:"btn btn-brand",onClick:e=>{e.preventDefault(),t()},children:"Download PDF"})]})]})]})})})})}function j6(){const t=["Male","Female","Other"],e=["General","OBC","SC","ST","Others"],r=["Hindu","Muslim","Christian","Sikh","Buddhist","Jain","Others"],n=["Tamil Nadu","Andhra Pradesh","Karnataka","Kerala","Telangana","Maharashtra","Other"],[i,s]=se.useState({student_id:"",admission_no:"",ht_no:"",academic_year:"",group:"",course_id:"",full_name:"",gender:"",dob:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_no:"",postal_code:"",address:"",mobile:"",email:"",religion:"",caste:"",sub_caste:""}),[a,l]=se.useState(null),[o,c]=se.useState(null),[f,m]=se.useState(!1),[v,p]=se.useState(""),[_,S]=se.useState([]),[j,w]=se.useState([]),[x,b]=se.useState([]),P=(I,O)=>s(R=>({...R,[I]:O}));se.useEffect(()=>{(async()=>{var I,O;try{const[R,G,H]=await Promise.all([Ce.listCourses(),((I=Ce.listGroups)==null?void 0:I.call(Ce))||[],((O=Ce.listAcademicYears)==null?void 0:O.call(Ce))||[]]);S(R||[]),w(G||[]),b(H||[])}catch{S([]),w([]),b([])}})()},[]);const D=()=>{s({student_id:"",admission_no:"",ht_no:"",academic_year:"",group:"",course_id:"",full_name:"",gender:"",dob:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_no:"",postal_code:"",address:"",mobile:"",email:"",religion:"",caste:"",sub_caste:""}),l(null),c(null)},Y=(I,O)=>new RegExp(`^\\d{${O}}$`).test(I),$=se.useMemo(()=>!!(i.admission_no&&i.academic_year&&i.full_name&&i.gender&&i.dob&&i.mobile&&Y(i.mobile,10)&&i.postal_code&&Y(i.postal_code,6)&&(!i.aadhar_no||Y(i.aadhar_no,12))&&i.address&&i.group&&i.course_id),[i]),M=(I,O)=>R=>{const G=(R.target.value||"").replace(/\D/g,"").slice(0,O);P(I,G)},te=async I=>{I.preventDefault(),p(""),m(!0);try{const O={};a&&(O.photo_url=URL.createObjectURL(a)),o&&(O.cert_url=URL.createObjectURL(o)),await Ce.submitApplication({...i,...O}),p("Application submitted! Admin/Principal will contact you after approval."),D()}catch(O){p(O.message||"Error submitting form")}finally{m(!1)}};return d.jsx("div",{className:"container py-5",children:d.jsx("div",{className:"row justify-content-center",children:d.jsx("div",{className:"col-lg-10",children:d.jsxs("div",{className:"card card-soft p-4",children:[d.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[d.jsx("img",{src:"/logo-placeholder.png",className:"brand-logo",alt:"logo"}),d.jsxs("div",{children:[d.jsx("h3",{className:"fw-bold mb-0",children:"Vijayam College of Arts & Science"}),d.jsx("div",{className:"text-muted",children:"Chennai"})]})]}),d.jsx("h5",{className:"mt-3",children:"Apply for Admission / Exam"}),d.jsx("form",{onSubmit:te,children:d.jsxs("div",{className:"row g-3",children:[d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Student & Admission"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Student ID"}),d.jsx("input",{className:"form-control",value:i.student_id,onChange:I=>P("student_id",I.target.value),placeholder:"Auto/Optional"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Admission No"}),d.jsx("input",{className:"form-control",value:i.admission_no,onChange:I=>P("admission_no",I.target.value),required:!0})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"HT No"}),d.jsx("input",{className:"form-control",value:i.ht_no,onChange:I=>P("ht_no",I.target.value)})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Academic Year"}),d.jsxs("select",{className:"form-select",value:i.academic_year,onChange:I=>P("academic_year",I.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select"}),x.map(I=>d.jsxs("option",{value:I.name,children:[I.name,I.active?" (Active)":""]},I.id))]})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Group & Course"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Group Code"}),d.jsxs("select",{className:"form-select",value:i.group,onChange:I=>P("group",I.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select Group"}),j.map(I=>d.jsxs("option",{value:I.code,children:[I.code,"  ",I.name]},I.id))]})]}),d.jsxs("div",{className:"col-md-8",children:[d.jsx("label",{className:"form-label",children:"Course"}),d.jsxs("select",{className:"form-select",value:i.course_id,onChange:I=>P("course_id",I.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select Course"}),_.filter(I=>!i.group||!I.group_code||I.group_code===i.group).map(I=>d.jsxs("option",{value:I.id,children:[I.code?`${I.code} - `:"",I.name]},I.id))]})]}),(()=>{const I=_.find(O=>O.id===i.course_id);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Course Code"}),d.jsx("input",{className:"form-control",value:(I==null?void 0:I.code)||"",readOnly:!0,placeholder:"Auto"})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Course ID"}),d.jsx("input",{className:"form-control",value:(I==null?void 0:I.id)||"",readOnly:!0,placeholder:"Auto"})]})]})})(),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Personal Details"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Full Name"}),d.jsx("input",{className:"form-control",value:i.full_name,onChange:I=>P("full_name",I.target.value),required:!0})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Gender"}),d.jsxs("select",{className:"form-select",value:i.gender,onChange:I=>P("gender",I.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select"}),t.map(I=>d.jsx("option",{value:I,children:I},I))]})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"DOB"}),d.jsx("input",{type:"date",className:"form-control",value:i.dob,onChange:I=>P("dob",I.target.value),required:!0})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Father's Name"}),d.jsx("input",{className:"form-control",value:i.father_name,onChange:I=>P("father_name",I.target.value)})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Mother's Name"}),d.jsx("input",{className:"form-control",value:i.mother_name,onChange:I=>P("mother_name",I.target.value)})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Contact & Address"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Mobile"}),d.jsx("input",{className:"form-control",inputMode:"tel",maxLength:"10",pattern:"\\\\d{10}",value:i.mobile,onChange:M("mobile",10),required:!0})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Email"}),d.jsx("input",{type:"email",className:"form-control",value:i.email,onChange:I=>P("email",I.target.value)})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"Nationality"}),d.jsx("input",{className:"form-control",value:i.nationality,onChange:I=>P("nationality",I.target.value)})]}),d.jsxs("div",{className:"col-md-3",children:[d.jsx("label",{className:"form-label",children:"State"}),d.jsxs("select",{className:"form-select",value:i.state,onChange:I=>P("state",I.target.value),children:[d.jsx("option",{value:"",children:"Select"}),n.map(I=>d.jsx("option",{value:I,children:I},I))]})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Aadhar No"}),d.jsx("input",{className:"form-control",inputMode:"numeric",maxLength:"12",pattern:"\\\\d{12}",placeholder:"12 digits",value:i.aadhar_no,onChange:M("aadhar_no",12)})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Postal Code (PIN)"}),d.jsx("input",{className:"form-control",inputMode:"numeric",maxLength:"6",pattern:"\\\\d{6}",placeholder:"6 digits",value:i.postal_code,onChange:M("postal_code",6),required:!0})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Religion"}),d.jsxs("select",{className:"form-select",value:i.religion,onChange:I=>P("religion",I.target.value),children:[d.jsx("option",{value:"",children:"Select"}),r.map(I=>d.jsx("option",{value:I,children:I},I))]})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Caste"}),d.jsxs("select",{className:"form-select",value:i.caste,onChange:I=>P("caste",I.target.value),children:[d.jsx("option",{value:"",children:"Select"}),e.map(I=>d.jsx("option",{value:I,children:I},I))]})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Sub Caste"}),d.jsx("input",{className:"form-control",value:i.sub_caste,onChange:I=>P("sub_caste",I.target.value)})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("label",{className:"form-label",children:"Address"}),d.jsx("textarea",{className:"form-control",rows:"2",value:i.address,onChange:I=>P("address",I.target.value),required:!0})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Aadhar No"}),d.jsx("input",{className:"form-control",value:i.aadhar_no,onChange:I=>P("aadhar_no",I.target.value)})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label",children:"Postal code"}),d.jsx("input",{className:"form-control",value:i.aadhar_no,onChange:I=>P("aadhar_no",I.target.value)})]}),d.jsxs("div",{className:"col-12",children:[d.jsx("h6",{className:"fw-bold mb-1",children:"Uploads"}),d.jsx("hr",{className:"hr-soft"})]}),d.jsxs("div",{className:"col-md-6",children:[d.jsx("label",{className:"form-label",children:"Upload Photo"}),d.jsx("input",{type:"file",accept:"image/*",className:"form-control",onChange:I=>{var O;return l(((O=I.target.files)==null?void 0:O[0])||null)}})]}),d.jsxs("div",{className:"col-12 d-flex justify-content-end gap-2 mt-2",children:[d.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:D,children:"Clear"}),d.jsx("button",{className:"btn btn-brand",disabled:f||!$,children:f?"Submitting...":"Submit"})]})]})}),v&&d.jsx("div",{className:"alert alert-info mt-3 mb-0",children:v})]})})})})}function A6(){const t=Ju(),{setUser:e}=Ch(),[r,n]=se.useState("admin@vijayam.edu"),[i,s]=se.useState("admin123"),[a,l]=se.useState("ADMIN"),[o,c]=se.useState(!1),[f,m]=se.useState(""),v=async p=>{p.preventDefault(),c(!0),m("");try{const _=await Ce.login(r);e({email:_.email,role:_.role}),t("/admin")}catch(_){m(_.message)}finally{c(!1)}};return d.jsx("div",{className:"container py-5",children:d.jsx("div",{className:"row justify-content-center",children:d.jsx("div",{className:"col-md-5",children:d.jsxs("div",{className:"card card-soft p-4",children:[d.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[d.jsx("img",{src:"/logo-placeholder.png",className:"brand-logo",alt:"logo"}),d.jsxs("div",{children:[d.jsx("h4",{className:"fw-bold mb-0",children:"Vijayam College"}),d.jsx("div",{className:"text-muted",children:"Chennai"})]})]}),d.jsx("h5",{children:"Admin / Principal Login"}),d.jsxs("form",{onSubmit:v,className:"mt-3",children:[d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{className:"form-label",children:"Email"}),d.jsx("input",{className:"form-control",value:r,onChange:p=>n(p.target.value),required:!0})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{className:"form-label",children:"Password"}),d.jsx("input",{type:"password",className:"form-control",value:i,onChange:p=>s(p.target.value),required:!0})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{className:"form-label",children:"Login as"}),d.jsxs("select",{className:"form-select",value:a,onChange:p=>l(p.target.value),children:[d.jsx("option",{value:"ADMIN",children:"Admin"}),d.jsx("option",{value:"PRINCIPAL",children:"Principal"})]})]}),f&&d.jsx("div",{className:"alert alert-danger py-2",children:f}),d.jsx("button",{className:"btn btn-brand w-100",disabled:o,children:o?"Signing in...":"Sign In"})]})]})})})})}const k6=[{to:"/admin/applications",label:"Applications",icon:"bi-inboxes"},{to:"/admin/setup/years",label:"Academic Years",icon:"bi-calendar3"},{to:"/admin/setup/groups",label:"Groups & Courses",icon:"bi-diagram-3"},{to:"/admin/setup/subcats",label:"Sub-categories",icon:"bi-list-ul"},{to:"/admin/setup/subjects",label:"Subjects",icon:"bi-journal-text"},{to:"/admin/departments",label:"Departments",icon:"bi-mortarboard"},{to:"/admin/batches",label:"Batches",icon:"bi-people"},{to:"/admin/courses",label:"Courses",icon:"bi-book"},{to:"/admin/students",label:"Students",icon:"bi-person-badge"},{to:"/admin/exams",label:"Exams",icon:"bi-journal-check"},{to:"/admin/payments",label:"Payments",icon:"bi-credit-card"},{to:"/admin/hall-tickets",label:"Hall Tickets",icon:"bi-ticket-perforated"},{to:"/admin/results",label:"Results",icon:"bi-award"}];function ms({children:t,onSignOut:e}){const{pathname:r}=fl(),n=Ju(),{signOut:i}=Ch(),[s,a]=se.useState(!1),l=()=>{if(typeof e=="function")e();else try{i()}catch{}n("/")};return d.jsxs("div",{className:"admin-shell d-grid",style:{gridTemplateColumns:s?"88px 1fr":"280px 1fr"},children:[d.jsxs("aside",{className:`sidebar-modern p-3 ${s?"collapsed":""}`,children:[d.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3 brand-row",children:[d.jsxs("div",{className:"d-flex align-items-center gap-2",children:[d.jsx("img",{src:kw,alt:"Vijayam Logo",className:"brand-logo rounded-circle border"}),d.jsxs("div",{className:"brand-text",children:[d.jsx("div",{className:"heading-font fw-800",children:"Vijayam College of Arts & Science"}),d.jsx("div",{className:"small text-muted",children:"Chennai"})]})]}),d.jsx("button",{className:"btn btn-sm btn-toggle",onClick:()=>a(!s),title:s?"Expand":"Collapse",children:d.jsx("i",{className:`bi ${s?"bi-chevron-double-right":"bi-chevron-double-left"}`})})]}),d.jsx("nav",{className:"d-flex flex-column gap-1 modern-nav",children:k6.map(o=>d.jsxs(Go,{to:o.to,title:o.label,className:`nav-item-modern ${r===o.to?"active":""}`,children:[d.jsx("i",{className:`bi ${o.icon}`}),d.jsx("span",{className:"label",children:o.label})]},o.to))})]}),d.jsxs("main",{className:"admin-main p-4",children:[d.jsxs("div",{className:"brandbar rounded px-3 py-2 mb-3 d-flex align-items-center justify-content-between header-shadow",children:[d.jsx("div",{className:"brandbar-title",children:"Smart Examination & Hall Ticket Management"}),d.jsxs("button",{className:"btn btn-outline-secondary modern-signout",onClick:l,title:"Sign out",children:[d.jsx("i",{className:"bi bi-box-arrow-right me-2"}),"Sign out"]})]}),d.jsx("div",{className:"admin-main-scroll",children:t})]})]})}function C6(){const[t,e]=se.useState([]),[r,n]=se.useState(""),i=async()=>e(await Ce.listBatches());se.useEffect(()=>{i()},[]);const s=async()=>{r&&(await Ce.addBatch({name:r}),n(""),i())};return d.jsxs(ms,{children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Batches"}),d.jsxs("div",{className:"row g-3",children:[d.jsx("div",{className:"col-lg-4",children:d.jsxs("div",{className:"card card-soft p-3",children:[d.jsx("label",{className:"form-label",children:"Batch Name"}),d.jsx("input",{className:"form-control mb-2",value:r,onChange:a=>n(a.target.value),placeholder:"e.g., 2025-CS-A"}),d.jsx("button",{className:"btn btn-brand",onClick:s,children:"Add Batch"})]})}),d.jsx("div",{className:"col-lg-8",children:d.jsx("div",{className:"card card-soft p-0",children:d.jsxs("table",{className:"table mb-0",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Name"}),d.jsx("th",{children:"Created"})]})}),d.jsx("tbody",{children:t.map(a=>d.jsxs("tr",{children:[d.jsx("td",{children:a.name}),d.jsx("td",{children:new Date(a.created_at).toLocaleString()})]},a.id))})]})})})]})]})}function E6(){const[t,e]=se.useState([]),[r,n]=se.useState({code:"",name:"",duration_years:3}),i=async()=>e(await Ce.listCourses());se.useEffect(()=>{i()},[]);const s=async()=>{await Ce.addCourse(r),n({code:"",name:"",duration_years:3}),i()};return d.jsxs(ms,{children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Courses"}),d.jsxs("div",{className:"row g-3",children:[d.jsx("div",{className:"col-lg-4",children:d.jsxs("div",{className:"card card-soft p-3",children:[d.jsx("input",{className:"form-control mb-2",placeholder:"Code",value:r.code,onChange:a=>n({...r,code:a.target.value})}),d.jsx("input",{className:"form-control mb-2",placeholder:"Name",value:r.name,onChange:a=>n({...r,name:a.target.value})}),d.jsxs("select",{className:"form-select mb-2",value:r.duration_years,onChange:a=>n({...r,duration_years:Number(a.target.value)}),children:[d.jsx("option",{value:"3",children:"3 years"}),d.jsx("option",{value:"5",children:"5 years"})]}),d.jsx("button",{className:"btn btn-brand",onClick:s,children:"Add Course"})]})}),d.jsx("div",{className:"col-lg-8",children:d.jsx("div",{className:"card card-soft p-0",children:d.jsxs("table",{className:"table mb-0",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Code"}),d.jsx("th",{children:"Name"}),d.jsx("th",{children:"Duration"})]})}),d.jsx("tbody",{children:t.map(a=>d.jsxs("tr",{children:[d.jsx("td",{children:a.code}),d.jsx("td",{children:a.name}),d.jsxs("td",{children:[a.duration_years," years"]})]},a.id))})]})})})]})]})}function L6(t="SID"){const e=new Date().getFullYear(),r=Math.floor(Math.random()*1e6).toString().padStart(6,"0");return`${t}-${e}-${r}`}function P6(t){const e=Math.floor(Math.random()*99999).toString().padStart(5,"0");return`HT-${t}-${e}`}function O6(){const[t,e]=se.useState([]),r=async()=>e(await Ce.listApplications());se.useEffect(()=>{r()},[]);const n=async i=>{const s=new Date().getFullYear(),a={student_id:L6(),hall_ticket_no:P6(s),full_name:i.full_name,dob:i.dob,gender:i.gender,mobile:i.mobile,email:i.email,address:i.address,course_id:i.course_id,group:i.group,academic_year:i.academic_year,father_name:i.father_name,mother_name:i.mother_name,nationality:i.nationality,state:i.state,aadhar_no:i.aadhar_no,postal_code:i.postal_code,religion:i.religion,caste:i.caste,sub_caste:i.sub_caste,photo_url:i.photo_url,cert_url:i.cert_url};await Ce.approveApplication(i.id,a),r()};return d.jsxs(ms,{children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Student Applications"}),d.jsx("div",{className:"card card-soft p-0",children:d.jsxs("table",{className:"table mb-0",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Name"}),d.jsx("th",{children:"Course"}),d.jsx("th",{children:"Status"}),d.jsx("th",{children:"Action"})]})}),d.jsx("tbody",{children:t.map(i=>d.jsxs("tr",{children:[d.jsx("td",{children:i.full_name}),d.jsx("td",{children:i.course_id}),d.jsx("td",{children:d.jsx("span",{className:"badge bg-light text-dark",children:i.status})}),d.jsx("td",{children:i.status==="PENDING"?d.jsx("button",{className:"btn btn-brand btn-sm",onClick:()=>n(i),children:"Approve"}):"Approved"})]},i.id))})]})})]})}function I6(){const[t,e]=se.useState([]),[r,n]=se.useState({title:"",date:"",time:"",venue:"",course_id:""}),i=async()=>e(await Ce.listExams());se.useEffect(()=>{i()},[]);const s=async()=>{!r.title||!r.date||!r.time||!r.venue||(await Ce.addExam(r),n({title:"",date:"",time:"",venue:"",course_id:""}),i())};return d.jsxs(ms,{children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Exam Scheduling"}),d.jsxs("div",{className:"row g-3",children:[d.jsx("div",{className:"col-lg-4",children:d.jsxs("div",{className:"card card-soft p-3",children:[d.jsx("input",{className:"form-control mb-2",placeholder:"Title (e.g., EX1 Semester 1)",value:r.title,onChange:a=>n({...r,title:a.target.value})}),d.jsxs("div",{className:"row g-2",children:[d.jsx("div",{className:"col",children:d.jsx("input",{type:"date",className:"form-control",value:r.date,onChange:a=>n({...r,date:a.target.value})})}),d.jsx("div",{className:"col",children:d.jsx("input",{type:"time",className:"form-control",value:r.time,onChange:a=>n({...r,time:a.target.value})})})]}),d.jsx("input",{className:"form-control my-2",placeholder:"Venue",value:r.venue,onChange:a=>n({...r,venue:a.target.value})}),d.jsx("input",{className:"form-control mb-2",placeholder:"Course Id",value:r.course_id,onChange:a=>n({...r,course_id:a.target.value})}),d.jsx("button",{className:"btn btn-brand w-100",onClick:s,children:"Create Schedule"})]})}),d.jsx("div",{className:"col-lg-8",children:d.jsx("div",{className:"card card-soft p-0",children:d.jsxs("table",{className:"table mb-0",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Title"}),d.jsx("th",{children:"Date"}),d.jsx("th",{children:"Time"}),d.jsx("th",{children:"Venue"})]})}),d.jsx("tbody",{children:t.map(a=>d.jsxs("tr",{children:[d.jsx("td",{children:a.title}),d.jsx("td",{children:a.date}),d.jsx("td",{children:a.time}),d.jsx("td",{children:a.venue})]},a.id))})]})})})]})]})}function R6(){const[t,e]=se.useState([]),[r,n]=se.useState({student_id:"",amount:"",method:"CASH",reference:""}),[i,s]=se.useState(!1);se.useEffect(()=>{(async()=>e(await Ce.listStudents()))()},[]);const a=async()=>{!r.student_id||!r.amount||(s(!0),await Ce.addPayment({...r,amount:Number(r.amount)}),n({student_id:"",amount:"",method:"CASH",reference:""}),s(!1))};return d.jsxs(ms,{children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Record Payment"}),d.jsxs("div",{className:"card card-soft p-3",children:[d.jsxs("div",{className:"row g-2",children:[d.jsx("div",{className:"col-md-4",children:d.jsxs("select",{className:"form-select",value:r.student_id,onChange:l=>n({...r,student_id:l.target.value}),children:[d.jsx("option",{value:"",children:"Select Student"}),t.map(l=>d.jsxs("option",{value:l.student_id,children:[l.student_id,"  ",l.full_name]},l.student_id))]})}),d.jsx("div",{className:"col-md-2",children:d.jsx("input",{type:"number",className:"form-control",placeholder:"Amount",value:r.amount,onChange:l=>n({...r,amount:l.target.value})})}),d.jsx("div",{className:"col-md-3",children:d.jsxs("select",{className:"form-select",value:r.method,onChange:l=>n({...r,method:l.target.value}),children:[d.jsx("option",{value:"CASH",children:"Cash"}),d.jsx("option",{value:"CARD",children:"Card"}),d.jsx("option",{value:"UPI",children:"UPI"}),d.jsx("option",{value:"NETBANKING",children:"Net Banking"})]})}),d.jsx("div",{className:"col-md-3",children:d.jsx("input",{className:"form-control",placeholder:"Reference (optional)",value:r.reference,onChange:l=>n({...r,reference:l.target.value})})})]}),d.jsx("div",{className:"mt-3 d-flex justify-content-end",children:d.jsx("button",{className:"btn btn-brand",disabled:i,onClick:a,children:i?"Saving...":"Add Payment"})})]})]})}var T6=Object.defineProperty,uh=Object.getOwnPropertySymbols,Jw=Object.prototype.hasOwnProperty,Yw=Object.prototype.propertyIsEnumerable,$2=(t,e,r)=>e in t?T6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,V2=(t,e)=>{for(var r in e||(e={}))Jw.call(e,r)&&$2(t,r,e[r]);if(uh)for(var r of uh(e))Yw.call(e,r)&&$2(t,r,e[r]);return t},F6=(t,e)=>{var r={};for(var n in t)Jw.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&uh)for(var n of uh(t))e.indexOf(n)<0&&Yw.call(t,n)&&(r[n]=t[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var qa;(t=>{const e=class{constructor(o,c,f,m){if(this.version=o,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=o*4+17;let v=[];for(let _=0;_<this.size;_++)v.push(!1);for(let _=0;_<this.size;_++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(f);if(this.drawCodewords(p),m==-1){let _=1e9;for(let S=0;S<8;S++){this.applyMask(S),this.drawFormatBits(S);const j=this.getPenaltyScore();j<_&&(m=S,_=j),this.applyMask(S)}}s(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(o,c){const f=t.QrSegment.makeSegments(o);return e.encodeSegments(f,c)}static encodeBinary(o,c){const f=t.QrSegment.makeBytes(o);return e.encodeSegments([f],c)}static encodeSegments(o,c,f=1,m=40,v=-1,p=!0){if(!(e.MIN_VERSION<=f&&f<=m&&m<=e.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let _,S;for(_=f;;_++){const b=e.getNumDataCodewords(_,c)*8,P=l.getTotalBits(o,_);if(P<=b){S=P;break}if(_>=m)throw new RangeError("Data too long")}for(const b of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])p&&S<=e.getNumDataCodewords(_,b)*8&&(c=b);let j=[];for(const b of o){n(b.mode.modeBits,4,j),n(b.numChars,b.mode.numCharCountBits(_),j);for(const P of b.getData())j.push(P)}s(j.length==S);const w=e.getNumDataCodewords(_,c)*8;s(j.length<=w),n(0,Math.min(4,w-j.length),j),n(0,(8-j.length%8)%8,j),s(j.length%8==0);for(let b=236;j.length<w;b^=253)n(b,8,j);let x=[];for(;x.length*8<j.length;)x.push(0);return j.forEach((b,P)=>x[P>>>3]|=b<<7-(P&7)),new e(_,c,x,v)}getModule(o,c){return 0<=o&&o<this.size&&0<=c&&c<this.size&&this.modules[c][o]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const o=this.getAlignmentPatternPositions(),c=o.length;for(let f=0;f<c;f++)for(let m=0;m<c;m++)f==0&&m==0||f==0&&m==c-1||f==c-1&&m==0||this.drawAlignmentPattern(o[f],o[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(o){const c=this.errorCorrectionLevel.formatBits<<3|o;let f=c;for(let v=0;v<10;v++)f=f<<1^(f>>>9)*1335;const m=(c<<10|f)^21522;s(m>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,i(m,v));this.setFunctionModule(8,7,i(m,6)),this.setFunctionModule(8,8,i(m,7)),this.setFunctionModule(7,8,i(m,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,i(m,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,i(m,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,i(m,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let o=this.version;for(let f=0;f<12;f++)o=o<<1^(o>>>11)*7973;const c=this.version<<12|o;s(c>>>18==0);for(let f=0;f<18;f++){const m=i(c,f),v=this.size-11+f%3,p=Math.floor(f/3);this.setFunctionModule(v,p,m),this.setFunctionModule(p,v,m)}}drawFinderPattern(o,c){for(let f=-4;f<=4;f++)for(let m=-4;m<=4;m++){const v=Math.max(Math.abs(m),Math.abs(f)),p=o+m,_=c+f;0<=p&&p<this.size&&0<=_&&_<this.size&&this.setFunctionModule(p,_,v!=2&&v!=4)}}drawAlignmentPattern(o,c){for(let f=-2;f<=2;f++)for(let m=-2;m<=2;m++)this.setFunctionModule(o+m,c+f,Math.max(Math.abs(m),Math.abs(f))!=1)}setFunctionModule(o,c,f){this.modules[c][o]=f,this.isFunction[c][o]=!0}addEccAndInterleave(o){const c=this.version,f=this.errorCorrectionLevel;if(o.length!=e.getNumDataCodewords(c,f))throw new RangeError("Invalid argument");const m=e.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][c],v=e.ECC_CODEWORDS_PER_BLOCK[f.ordinal][c],p=Math.floor(e.getNumRawDataModules(c)/8),_=m-p%m,S=Math.floor(p/m);let j=[];const w=e.reedSolomonComputeDivisor(v);for(let b=0,P=0;b<m;b++){let D=o.slice(P,P+S-v+(b<_?0:1));P+=D.length;const Y=e.reedSolomonComputeRemainder(D,w);b<_&&D.push(0),j.push(D.concat(Y))}let x=[];for(let b=0;b<j[0].length;b++)j.forEach((P,D)=>{(b!=S-v||D>=_)&&x.push(P[b])});return s(x.length==p),x}drawCodewords(o){if(o.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let m=0;m<this.size;m++)for(let v=0;v<2;v++){const p=f-v,S=(f+1&2)==0?this.size-1-m:m;!this.isFunction[S][p]&&c<o.length*8&&(this.modules[S][p]=i(o[c>>>3],7-(c&7)),c++)}}s(c==o.length*8)}applyMask(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let f=0;f<this.size;f++){let m;switch(o){case 0:m=(f+c)%2==0;break;case 1:m=c%2==0;break;case 2:m=f%3==0;break;case 3:m=(f+c)%3==0;break;case 4:m=(Math.floor(f/3)+Math.floor(c/2))%2==0;break;case 5:m=f*c%2+f*c%3==0;break;case 6:m=(f*c%2+f*c%3)%2==0;break;case 7:m=((f+c)%2+f*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][f]&&m&&(this.modules[c][f]=!this.modules[c][f])}}getPenaltyScore(){let o=0;for(let v=0;v<this.size;v++){let p=!1,_=0,S=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[v][j]==p?(_++,_==5?o+=e.PENALTY_N1:_>5&&o++):(this.finderPenaltyAddHistory(_,S),p||(o+=this.finderPenaltyCountPatterns(S)*e.PENALTY_N3),p=this.modules[v][j],_=1);o+=this.finderPenaltyTerminateAndCount(p,_,S)*e.PENALTY_N3}for(let v=0;v<this.size;v++){let p=!1,_=0,S=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[j][v]==p?(_++,_==5?o+=e.PENALTY_N1:_>5&&o++):(this.finderPenaltyAddHistory(_,S),p||(o+=this.finderPenaltyCountPatterns(S)*e.PENALTY_N3),p=this.modules[j][v],_=1);o+=this.finderPenaltyTerminateAndCount(p,_,S)*e.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let p=0;p<this.size-1;p++){const _=this.modules[v][p];_==this.modules[v][p+1]&&_==this.modules[v+1][p]&&_==this.modules[v+1][p+1]&&(o+=e.PENALTY_N2)}let c=0;for(const v of this.modules)c=v.reduce((p,_)=>p+(_?1:0),c);const f=this.size*this.size,m=Math.ceil(Math.abs(c*20-f*10)/f)-1;return s(0<=m&&m<=9),o+=m*e.PENALTY_N4,s(0<=o&&o<=2568888),o}getAlignmentPatternPositions(){if(this.version==1)return[];{const o=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(o*2-2))*2;let f=[6];for(let m=this.size-7;f.length<o;m-=c)f.splice(1,0,m);return f}}static getNumRawDataModules(o){if(o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*o+128)*o+64;if(o>=2){const f=Math.floor(o/7)+2;c-=(25*f-10)*f-55,o>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(o,c){return Math.floor(e.getNumRawDataModules(o)/8)-e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][o]*e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][o]}static reedSolomonComputeDivisor(o){if(o<1||o>255)throw new RangeError("Degree out of range");let c=[];for(let m=0;m<o-1;m++)c.push(0);c.push(1);let f=1;for(let m=0;m<o;m++){for(let v=0;v<c.length;v++)c[v]=e.reedSolomonMultiply(c[v],f),v+1<c.length&&(c[v]^=c[v+1]);f=e.reedSolomonMultiply(f,2)}return c}static reedSolomonComputeRemainder(o,c){let f=c.map(m=>0);for(const m of o){const v=m^f.shift();f.push(0),c.forEach((p,_)=>f[_]^=e.reedSolomonMultiply(p,v))}return f}static reedSolomonMultiply(o,c){if(o>>>8||c>>>8)throw new RangeError("Byte out of range");let f=0;for(let m=7;m>=0;m--)f=f<<1^(f>>>7)*285,f^=(c>>>m&1)*o;return s(f>>>8==0),f}finderPenaltyCountPatterns(o){const c=o[1];s(c<=this.size*3);const f=c>0&&o[2]==c&&o[3]==c*3&&o[4]==c&&o[5]==c;return(f&&o[0]>=c*4&&o[6]>=c?1:0)+(f&&o[6]>=c*4&&o[0]>=c?1:0)}finderPenaltyTerminateAndCount(o,c,f){return o&&(this.finderPenaltyAddHistory(c,f),c=0),c+=this.size,this.finderPenaltyAddHistory(c,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(o,c){c[0]==0&&(o+=this.size),c.pop(),c.unshift(o)}};let r=e;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=r;function n(o,c,f){if(c<0||c>31||o>>>c)throw new RangeError("Value out of range");for(let m=c-1;m>=0;m--)f.push(o>>>m&1)}function i(o,c){return(o>>>c&1)!=0}function s(o){if(!o)throw new Error("Assertion error")}const a=class{constructor(o,c,f){if(this.mode=o,this.numChars=c,this.bitData=f,c<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(o){let c=[];for(const f of o)n(f,8,c);return new a(a.Mode.BYTE,o.length,c)}static makeNumeric(o){if(!a.isNumeric(o))throw new RangeError("String contains non-numeric characters");let c=[];for(let f=0;f<o.length;){const m=Math.min(o.length-f,3);n(parseInt(o.substr(f,m),10),m*3+1,c),f+=m}return new a(a.Mode.NUMERIC,o.length,c)}static makeAlphanumeric(o){if(!a.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],f;for(f=0;f+2<=o.length;f+=2){let m=a.ALPHANUMERIC_CHARSET.indexOf(o.charAt(f))*45;m+=a.ALPHANUMERIC_CHARSET.indexOf(o.charAt(f+1)),n(m,11,c)}return f<o.length&&n(a.ALPHANUMERIC_CHARSET.indexOf(o.charAt(f)),6,c),new a(a.Mode.ALPHANUMERIC,o.length,c)}static makeSegments(o){return o==""?[]:a.isNumeric(o)?[a.makeNumeric(o)]:a.isAlphanumeric(o)?[a.makeAlphanumeric(o)]:[a.makeBytes(a.toUtf8ByteArray(o))]}static makeEci(o){let c=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)n(o,8,c);else if(o<16384)n(2,2,c),n(o,14,c);else if(o<1e6)n(6,3,c),n(o,21,c);else throw new RangeError("ECI assignment value out of range");return new a(a.Mode.ECI,0,c)}static isNumeric(o){return a.NUMERIC_REGEX.test(o)}static isAlphanumeric(o){return a.ALPHANUMERIC_REGEX.test(o)}getData(){return this.bitData.slice()}static getTotalBits(o,c){let f=0;for(const m of o){const v=m.mode.numCharCountBits(c);if(m.numChars>=1<<v)return 1/0;f+=4+v+m.bitData.length}return f}static toUtf8ByteArray(o){o=encodeURI(o);let c=[];for(let f=0;f<o.length;f++)o.charAt(f)!="%"?c.push(o.charCodeAt(f)):(c.push(parseInt(o.substr(f+1,2),16)),f+=2);return c}};let l=a;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=l})(qa||(qa={}));(t=>{(e=>{const r=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(qa||(qa={}));(t=>{(e=>{const r=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(qa||(qa={}));var lu=qa;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var D6={L:lu.QrCode.Ecc.LOW,M:lu.QrCode.Ecc.MEDIUM,Q:lu.QrCode.Ecc.QUARTILE,H:lu.QrCode.Ecc.HIGH},M6=128,B6="L",U6="#FFFFFF",z6="#000000",q6=!1,Qw=4,$6=.1;function V6(t,e=0){const r=[];return t.forEach(function(n,i){let s=null;n.forEach(function(a,l){if(!a&&s!==null){r.push(`M${s+e} ${i+e}h${l-s}v1H${s+e}z`),s=null;return}if(l===n.length-1){if(!a)return;s===null?r.push(`M${l+e},${i+e} h1v1H${l+e}z`):r.push(`M${s+e},${i+e} h${l+1-s}v1H${s+e}z`);return}a&&s===null&&(s=l)})}),r.join("")}function H6(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function W6(t,e,r,n){if(n==null)return null;const i=r?Qw:0,s=t.length+i*2,a=Math.floor(e*$6),l=s/e,o=(n.width||a)*l,c=(n.height||a)*l,f=n.x==null?t.length/2-o/2:n.x*l,m=n.y==null?t.length/2-c/2:n.y*l;let v=null;if(n.excavate){let p=Math.floor(f),_=Math.floor(m),S=Math.ceil(o+f-p),j=Math.ceil(c+m-_);v={x:p,y:_,w:S,h:j}}return{x:f,y:m,h:c,w:o,excavation:v}}var G6=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function K6(t){const e=t,{value:r,size:n=M6,level:i=B6,bgColor:s=U6,fgColor:a=z6,includeMargin:l=q6,style:o,imageSettings:c}=e,f=F6(e,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),m=c==null?void 0:c.src,v=bi.useRef(null),p=bi.useRef(null),[_,S]=bi.useState(!1);bi.useEffect(()=>{if(v.current!=null){const x=v.current,b=x.getContext("2d");if(!b)return;let P=lu.QrCode.encodeText(r,D6[i]).getModules();const D=l?Qw:0,Y=P.length+D*2,$=W6(P,n,l,c),M=p.current,te=$!=null&&M!==null&&M.complete&&M.naturalHeight!==0&&M.naturalWidth!==0;te&&$.excavation!=null&&(P=H6(P,$.excavation));const I=window.devicePixelRatio||1;x.height=x.width=n*I;const O=n/Y*I;b.scale(O,O),b.fillStyle=s,b.fillRect(0,0,Y,Y),b.fillStyle=a,G6?b.fill(new Path2D(V6(P,D))):P.forEach(function(R,G){R.forEach(function(H,pe){H&&b.fillRect(pe+D,G+D,1,1)})}),te&&b.drawImage(M,$.x+D,$.y+D,$.w,$.h)}}),bi.useEffect(()=>{S(!1)},[m]);const j=V2({height:n,width:n},o);let w=null;return m!=null&&(w=bi.createElement("img",{src:m,key:m,style:{display:"none"},onLoad:()=>{S(!0)},ref:p})),bi.createElement(bi.Fragment,null,bi.createElement("canvas",V2({style:j,height:n,width:n,ref:v},f)),w)}function J6(t="EX1"){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let r="";for(let n=0;n<6;n++)r+=e[Math.floor(Math.random()*e.length)];return`${t}-${r}`}function Y6(){const[t,e]=se.useState([]),[r,n]=se.useState([]),[i,s]=se.useState({student_id:"",exam_id:""}),[a,l]=se.useState(""),o=se.useRef(null);se.useEffect(()=>{(async()=>(e(await Ce.listStudents()),n(await Ce.listExams())))()},[]);const c=async()=>{if(!i.student_id||!i.exam_id)return alert("Select student & exam");const m=(await Ce.listExams()).find(_=>String(_.id)===String(i.exam_id)),v=((m==null?void 0:m.title)||"EX").split(" ")[0],p=J6(v);l(p),await Ce.upsertHallTicket({student_id:i.student_id,exam_id:i.exam_id,token:p})},f=async()=>{var w;const m=(await Ce.listStudents()).find(x=>x.student_id===i.student_id),v=(await Ce.listExams()).find(x=>String(x.id)===String(i.exam_id));if(!m||!v||!a)return alert("Generate first");const p=new et({unit:"pt",format:"a4"});p.setFontSize(16),p.text("Vijayam College of Arts & Science  Chennai",40,40),p.roundedRect(32,56,530,300,8,8),p.setFontSize(18),p.text("Hall Ticket",40,80),p.setFontSize(12),p.text(`Name: ${m.full_name}`,48,110),p.text(`Permanent HT No: ${m.hall_ticket_no}`,48,132),p.text(`Exam: ${v.title}`,48,154),p.text(`Date: ${v.date}  Time: ${v.time}`,48,176),p.text(`Venue: ${v.venue}`,48,198),p.setTextColor("#1FAA59"),p.text(`Encoded Token: ${a}`,48,220),p.setTextColor("#000");const _=(w=o.current)==null?void 0:w.querySelector("canvas");if(_){const x=_.toDataURL("image/png");p.addImage(x,"PNG",420,110,120,120)}p.setFontSize(11);const S=["Carry a valid photo ID.","Report 30 minutes before the exam.","No mobile phones/smart devices.","Use permitted stationery only."];let j=250;p.text("Rules:",48,j),j+=16,S.forEach(x=>{p.text(` ${x}`,56,j),j+=16}),p.text("Signature (Controller of Examinations) ____________________",48,340),p.save(`HallTicket_${m.hall_ticket_no}_${v.title}.pdf`)};return d.jsxs(ms,{children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Hall Ticket Generator"}),d.jsxs("div",{className:"card card-soft p-3",children:[d.jsxs("div",{className:"row g-2",children:[d.jsx("div",{className:"col-md-4",children:d.jsxs("select",{className:"form-select",value:i.student_id,onChange:m=>s({...i,student_id:m.target.value}),children:[d.jsx("option",{value:"",children:"Select Student"}),t.map(m=>d.jsxs("option",{value:m.student_id,children:[m.student_id,"  ",m.full_name]},m.student_id))]})}),d.jsx("div",{className:"col-md-4",children:d.jsxs("select",{className:"form-select",value:i.exam_id,onChange:m=>s({...i,exam_id:m.target.value}),children:[d.jsx("option",{value:"",children:"Select Exam"}),r.map(m=>d.jsxs("option",{value:m.id,children:[m.title," (",m.date,")"]},m.id))]})}),d.jsx("div",{className:"col-md-4",children:d.jsx("button",{className:"btn btn-brand w-100",onClick:c,children:"Generate Token"})})]}),a&&d.jsxs("div",{className:"mt-3 p-3 border rounded",ref:o,children:[d.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-muted small",children:"Encoded Token"}),d.jsx("div",{className:"fw-bold",children:a})]}),d.jsx(K6,{value:a,size:128,includeMargin:!0})]}),d.jsx("div",{className:"mt-2 d-flex justify-content-end",children:d.jsx("button",{className:"btn btn-accent",onClick:f,children:"Print / Download PDF"})})]})]})]})}function Q6(){const[t,e]=se.useState([]),[r,n]=se.useState([]),[i,s]=se.useState({student_id:"",exam_id:"",total:"",grade:""}),[a,l]=se.useState(!1);se.useEffect(()=>{(async()=>(e(await Ce.listStudents()),n(await Ce.listExams())))()},[]);const o=async()=>{!i.student_id||!i.exam_id||!i.total||!i.grade||(l(!0),await Ce.addResult({student_id:i.student_id,exam_id:i.exam_id,total:Number(i.total),grade:i.grade}),s({student_id:"",exam_id:"",total:"",grade:""}),l(!1))};return d.jsxs(ms,{children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Publish Results"}),d.jsxs("div",{className:"card card-soft p-3",children:[d.jsxs("div",{className:"row g-2",children:[d.jsx("div",{className:"col-md-4",children:d.jsxs("select",{className:"form-select",value:i.student_id,onChange:c=>s({...i,student_id:c.target.value}),children:[d.jsx("option",{value:"",children:"Select Student"}),t.map(c=>d.jsxs("option",{value:c.student_id,children:[c.student_id,"  ",c.full_name]},c.student_id))]})}),d.jsx("div",{className:"col-md-4",children:d.jsxs("select",{className:"form-select",value:i.exam_id,onChange:c=>s({...i,exam_id:c.target.value}),children:[d.jsx("option",{value:"",children:"Select Exam"}),r.map(c=>d.jsxs("option",{value:c.id,children:[c.title," (",c.date,")"]},c.id))]})}),d.jsx("div",{className:"col-md-2",children:d.jsx("input",{type:"number",className:"form-control",placeholder:"Total",value:i.total,onChange:c=>s({...i,total:c.target.value})})}),d.jsx("div",{className:"col-md-2",children:d.jsx("input",{className:"form-control",placeholder:"Grade (e.g., A)",value:i.grade,onChange:c=>s({...i,grade:c.target.value})})})]}),d.jsx("div",{className:"mt-3 d-flex justify-content-end",children:d.jsx("button",{className:"btn btn-brand",disabled:a,onClick:o,children:a?"Saving...":"Add Result"})})]})]})}function X6({yearForm:t,setYearForm:e,academicYears:r,editingYearId:n,addYear:i,editYear:s,deleteYear:a,onCancelEdit:l}){return d.jsxs("section",{className:"setup-section mb-4",children:[d.jsx("h5",{className:"section-title",children:"Academic Years"}),d.jsxs("div",{className:"row g-2",children:[d.jsx("div",{className:"col-md-5",children:d.jsx("input",{className:"form-control",placeholder:"e.g., 2022-2025",value:t.name,onChange:o=>e({...t,name:o.target.value})})}),d.jsx("div",{className:"col-md-3 d-flex align-items-center",children:d.jsxs("div",{className:"form-check",children:[d.jsx("input",{className:"form-check-input",type:"checkbox",id:"activeYear",checked:t.active,onChange:o=>e({...t,active:o.target.checked})}),d.jsx("label",{className:"form-check-label ms-2",htmlFor:"activeYear",children:"Active"})]})}),d.jsxs("div",{className:"col-md-4 text-end",children:[d.jsx("button",{className:"btn btn-brand me-2",onClick:i,children:n?"Update Year":"Add Year"}),n&&d.jsx("button",{className:"btn btn-outline-secondary",onClick:l,children:"Cancel"})]})]}),r.length>0&&d.jsx("div",{className:"setup-list mt-3",children:r.map(o=>d.jsxs("div",{className:"setup-list-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setup-list-title",children:o.name}),d.jsx("div",{className:"setup-list-meta",children:"Created"})]}),d.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[d.jsx("span",{className:`status-pill ${o.active?"status-pill--active":"status-pill--inactive"}`,children:o.active?"Active":"Inactive"}),d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>s(o),children:"Edit"}),d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>a(o.id),children:"Delete"})]})]},o.id))})]})}function Z6({groupForm:t,setGroupForm:e,editingGroupId:r,setEditingGroupId:n,groups:i,saveGroup:s,editGroup:a,deleteGroup:l,courseForm:o,setCourseForm:c,editingCourseId:f,setEditingCourseId:m,courses:v,saveCourse:p,editCourse:_,deleteCourse:S}){const j={borderRadius:"18px",border:"1px solid #e2e8f0",background:"linear-gradient(180deg, #ffffff 0%, #f7f9fc 100%)",boxShadow:"0 18px 35px rgba(15,23,42,0.08)"},w={backgroundColor:"#ecf0ff",color:"#1d3ecf",fontWeight:600,borderRadius:"999px",padding:"0.35rem 0.9rem"},x={borderRadius:"999px",border:"1px solid #e2e8f0",backgroundColor:"#ffffff",fontWeight:600,color:"#0f172a"},b={borderRadius:"18px",border:"1px solid #e1e7ef",background:"linear-gradient(180deg, #ffffff 0%, #f3f6fb 100%)",boxShadow:"0 16px 32px rgba(15,23,42,0.07)"},P={backgroundColor:"#e0f2fe",color:"#0369a1",fontWeight:600,borderRadius:"999px",padding:"0.35rem 0.9rem"};return d.jsxs(d.Fragment,{children:[d.jsxs("section",{className:"setup-section mb-4",children:[d.jsx("h5",{className:"section-title",children:"Groups"}),d.jsx("div",{className:"row",children:d.jsxs("div",{className:"col-12",children:[d.jsxs("div",{className:"row g-2",children:[d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Group Name"}),d.jsx("input",{className:"form-control",placeholder:"Group Name",value:t.name,onChange:D=>e({...t,name:D.target.value})})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Group Code"}),d.jsx("input",{className:"form-control",placeholder:"Group Code",value:t.code,onChange:D=>e({...t,code:D.target.value.toUpperCase()})})]}),d.jsxs("div",{className:"col-md-4 col-lg-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Duration (years)"}),d.jsx("input",{type:"number",className:"form-control no-spinner",placeholder:"Years",value:t.years,onChange:D=>e({...t,years:D.target.value}),style:{"-moz-appearance":"textfield"},onWheel:D=>D.target.blur()})]}),d.jsxs("div",{className:"col-md-4 col-lg-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Number of semesters"}),d.jsx("input",{type:"number",className:"form-control no-spinner",placeholder:"No. of Semesters",value:t.semesters,onChange:D=>e({...t,semesters:D.target.value}),style:{"-moz-appearance":"textfield"},onWheel:D=>D.target.blur()})]})]}),d.jsxs("div",{className:"mt-3",children:[d.jsx("button",{className:"btn btn-brand me-2",onClick:s,children:r?"Update Group":"Add Group"}),r&&d.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>{e({id:"",code:"",name:"",years:0,semesters:0}),n("")},children:"Cancel"})]})]})}),i.length>0&&d.jsxs("div",{className:"mt-4",children:[d.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:d.jsxs("span",{className:"text-muted text-uppercase fw-semibold small",style:{letterSpacing:"0.08em"},children:["Showing ",i.length," group",i.length===1?"":"s"]})}),d.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-3",children:i.map(D=>d.jsx("div",{className:"col",children:d.jsx("div",{className:"card border-0 h-100",style:j,children:d.jsxs("div",{className:"card-body d-flex flex-column",children:[d.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-uppercase text-muted small mb-1",children:"Group Name"}),d.jsx("div",{className:"fs-5 fw-bold",children:D.name||"-"}),d.jsx("div",{className:"text-muted small",children:D.code||"-"})]}),d.jsxs("span",{style:w,children:[D.years||0," yrs"]})]}),d.jsxs("div",{className:"d-flex flex-wrap gap-4 mb-4 text-muted",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-uppercase small",children:"Duration"}),d.jsxs("div",{className:"fw-semibold text-dark",children:[D.years||"-"," Years"]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-uppercase small",children:"Semesters"}),d.jsx("div",{className:"fw-semibold text-dark",children:D.semesters||"-"})]})]}),d.jsxs("div",{className:"mt-auto d-flex gap-2",children:[d.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:x,onClick:()=>a(D),children:"Edit"}),d.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:{...x,color:"#b91c1c",borderColor:"#fde2e1",backgroundColor:"#fff5f5"},onClick:()=>l(D.id),children:"Delete"})]})]})})},D.id))})]})]}),d.jsxs("section",{className:"setup-section mb-4",children:[d.jsx("h5",{className:"section-title",children:"Courses"}),d.jsx("div",{className:"row",children:d.jsxs("div",{className:"col-md-8",children:[d.jsxs("div",{className:"row g-2",children:[d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Select Group"}),d.jsxs("select",{className:"form-select",value:o.groupCode,onChange:D=>c({...o,groupCode:D.target.value}),children:[d.jsx("option",{value:"",children:"Select Group"}),i.map(D=>d.jsx("option",{value:D.code,children:D.name||D.code},D.id))]})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Course Name"}),d.jsx("input",{className:"form-control",placeholder:"Enter Course Name",value:o.courseName,onChange:D=>c({...o,courseName:D.target.value})})]}),d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Course Code"}),d.jsx("input",{className:"form-control",placeholder:"Enter Course Code",value:o.courseCode,onChange:D=>c({...o,courseCode:D.target.value.toUpperCase()})})]})]}),d.jsxs("div",{className:"mt-3",children:[d.jsx("button",{className:"btn btn-brand me-2",onClick:p,children:f?"Update Course":"Add Course"}),f&&d.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>{c({id:"",groupCode:"",courseCode:"",courseName:"",semesters:6}),m("")},children:"Cancel"})]})]})}),v.length>0&&d.jsxs("div",{className:"mt-4",children:[d.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:d.jsxs("span",{className:"text-muted text-uppercase fw-semibold small",style:{letterSpacing:"0.08em"},children:["Showing ",v.length," course",v.length===1?"":"s"]})}),d.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-3",children:v.map(D=>d.jsx("div",{className:"col",children:d.jsx("div",{className:"card border-0 h-100",style:b,children:d.jsxs("div",{className:"card-body d-flex flex-column",children:[d.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-uppercase text-muted small mb-1",children:"Course Name"}),d.jsx("div",{className:"fs-5 fw-bold",children:D.courseName})]}),d.jsxs("span",{style:P,children:[D.semesters," sems"]})]}),d.jsxs("div",{className:"mb-2",children:[d.jsx("div",{className:"text-muted text-uppercase small mb-1",children:"Course Code"}),d.jsx("div",{className:"fw-semibold text-dark",children:D.courseCode})]}),d.jsx("p",{className:"text-muted text-uppercase small mb-1",children:"Group"}),d.jsx("p",{className:"fw-semibold text-dark mb-4",children:D.groupCode}),d.jsxs("div",{className:"mt-auto d-flex gap-2",children:[d.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:x,onClick:()=>_(D),children:"Edit"}),d.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:{...x,color:"#b91c1c",borderColor:"#fde2e1",backgroundColor:"#fff5f5"},onClick:()=>S(D.id),children:"Delete"})]})]})})},D.id))})]})]})]})}function eA({categories:t,categoryName:e,setCategoryName:r,editingCategory:n,setEditingCategory:i,catItems:s,catCounts:a,tempCatInputs:l,viewCat:o,isEditingView:c,openViewCat:f,closeViewCat:m,handleSubjectAmountChange:v,handleTempSubjectChange:p,clearCategoryInputs:_,commitCategorySubjects:S,deleteCategory:j,saveCategory:w,feeCategories:x,feeCategoryName:b,setFeeCategoryName:P,editingFeeCategoryId:D,setEditingFeeCategoryId:Y,saveFeeCategory:$,editFeeCategory:M,deleteFeeCategory:te,setIsEditingView:I,updateCategoryItems:O}){return d.jsxs(d.Fragment,{children:[d.jsxs("section",{className:"setup-section mb-4",children:[d.jsx("h5",{className:"section-title",children:"Sub-categories"}),d.jsxs("div",{className:"subcat-input-panel",children:[d.jsxs("div",{className:"flex-grow-1",children:[d.jsx("p",{className:"text-uppercase text-muted small mb-1",children:n?"Update existing sub-category":"Add a new sub-category"}),d.jsxs("div",{className:"d-flex gap-2 flex-wrap",children:[d.jsx("input",{className:"form-control flex-grow-1",placeholder:"e.g., English",value:e,onChange:R=>r(R.target.value),onKeyDown:R=>{R.key==="Enter"&&(R.preventDefault(),w())}}),d.jsx("button",{type:"button",className:"btn btn-brand",onClick:w,children:n?"Update":"Add"}),n&&d.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{r(""),i("")},children:"Cancel"})]})]}),d.jsxs("div",{className:"subcat-input-copy text-muted",children:[d.jsx("div",{className:"fw-semibold text-dark",children:"Organise subjects into sub-categories"}),d.jsx("div",{className:"small",children:"Create descriptive buckets (e.g., Languages, Labs) to streamline subject assignment."})]})]}),t.length===0&&d.jsx("div",{className:"alert alert-info mb-0",children:"Add a sub-category to begin creating subjects."}),d.jsx("div",{className:"subcat-grid",children:t.map(R=>{const G=l[R]||[],H=(s[R]||[]).length,pe=s[R]||[],oe=pe.length,me=H===0||n===R;return d.jsxs("div",{className:"subcat-panel",children:[d.jsxs("div",{className:"subcat-panel-header",children:[d.jsxs("div",{children:[d.jsx("div",{className:"subcat-panel-title",children:R}),d.jsxs("div",{className:"subcat-panel-meta",children:[H," subject",H===1?"":"s"," configured"]})]}),d.jsxs("div",{className:"subcat-panel-actions",children:[d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-brand",onClick:()=>f(R),children:"View list"}),d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>{r(R),i(R)},children:"Rename"}),d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>j(R),children:"Delete"})]})]}),me&&d.jsxs("div",{className:"row g-3 mt-2",children:[d.jsxs("div",{className:"col-md-4",children:[d.jsx("label",{className:"form-label text-muted fw-600 mb-1",children:"Generate subjects"}),d.jsx("input",{type:"number",min:"0",className:"form-control",placeholder:"Count",value:a[R]??"",onChange:W=>v(R,W.target.value)})]}),H>0&&d.jsx("div",{className:"col-md-8 d-flex align-items-center",children:d.jsx("span",{className:"text-muted small",children:"Edit the existing subjects inline."})})]}),me&&H>0&&d.jsxs("div",{className:"row g-2 mt-3",children:[d.jsx("div",{className:"col-12 text-muted fw-600 small",children:"Existing subjects"}),pe.map(W=>d.jsx("div",{className:"col-md-3",children:d.jsx("input",{className:"form-control",value:W.name,onChange:ne=>O(R,ae=>ae.map(Ne=>Ne.id===W.id?{...Ne,name:ne.target.value}:Ne))})},W.id))]}),me&&G.length>0&&d.jsxs("div",{className:"row g-2 mt-3",children:[G.map((W,ne)=>d.jsx("div",{className:"col-md-3",children:d.jsx("input",{className:"form-control",placeholder:`Subject ${oe+ne+1}`,value:W,onChange:ae=>p(R,ne,ae.target.value)})},ne)),d.jsxs("div",{className:"col-12 text-end",children:[d.jsx("button",{type:"button",className:"btn btn-brand me-2",onClick:()=>S(R),children:"Add Subjects"}),d.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>_(R),children:"Clear"})]})]})]},R)})}),o&&d.jsxs("div",{className:"drawer-open",children:[d.jsx("div",{className:"drawer-backdrop",onClick:m}),d.jsxs("div",{className:"drawer-panel",role:"dialog","aria-modal":"true",children:[d.jsxs("div",{className:"drawer-header align-items-start",children:[d.jsxs("div",{children:[d.jsx("div",{className:"drawer-eyebrow text-uppercase",children:"Sub-category"}),d.jsxs("div",{className:"drawer-title",children:["Subjects in ",o]}),d.jsxs("div",{className:"drawer-meta",children:[(s[o]||[]).length," subject",(s[o]||[]).length===1?"":"s"," configured"]})]}),d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:m,children:d.jsx("i",{className:"bi bi-x"})})]}),d.jsxs("div",{className:"drawer-body",children:[(s[o]||[]).length>0&&d.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[d.jsxs("div",{className:"drawer-helper-text",children:["Manage the subject list for ",o]}),d.jsx("button",{type:"button",className:"btn btn-sm btn-brand btn-hover-lift",onClick:()=>I(R=>!R),children:c?"Done Editing":"Edit Subjects"})]}),(s[o]||[]).length===0?d.jsx("div",{className:"text-muted",children:"No subjects added yet."}):d.jsx("div",{className:"subject-tiles",children:s[o].map((R,G)=>d.jsxs("div",{className:"subject-tile",children:[d.jsx("div",{className:"subject-index",children:(G+1).toString().padStart(2,"0")}),c?d.jsxs("div",{className:"d-flex gap-2 w-100",children:[d.jsx("input",{className:"form-control",value:R.name,onChange:H=>O(o,pe=>pe.map(oe=>oe.id===R.id?{...oe,name:H.target.value}:oe))}),d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>O(o,H=>H.filter(pe=>pe.id!==R.id)),children:"Delete"})]}):d.jsx("div",{className:"subject-name",children:R.name})]},R.id))})]}),d.jsx("div",{className:"drawer-footer d-flex justify-content-end",children:d.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:m,children:"Close"})})]})]})]}),d.jsxs("section",{className:"setup-section mb-4",children:[d.jsx("h5",{className:"section-title",children:"Fee Categories"}),d.jsxs("div",{className:"row g-2 align-items-end mb-3",children:[d.jsxs("div",{className:"col-md-5 col-lg-4",children:[d.jsx("label",{className:"form-label text-muted fw-600",children:D?"Edit fee category":"Add a fee category"}),d.jsx("input",{className:"form-control",placeholder:"e.g., Tuition",value:b,onChange:R=>P(R.target.value),onKeyDown:R=>{R.key==="Enter"&&(R.preventDefault(),$())}})]}),d.jsx("div",{className:"col-md-3 col-lg-2",children:d.jsx("button",{type:"button",className:"btn btn-brand w-100 mt-md-4",onClick:$,children:D?"Update Category":"Add Category"})}),D&&d.jsx("div",{className:"col-md-3 col-lg-2",children:d.jsx("button",{type:"button",className:"btn btn-outline-secondary w-100 mt-md-4",onClick:()=>{P(""),Y("")},children:"Cancel"})})]}),d.jsx("div",{className:"fee-grid",children:x.map(R=>{var G;return d.jsx("div",{className:"fee-panel",children:d.jsxs("div",{className:"d-flex justify-content-between flex-wrap gap-2 mb-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"fee-panel-title",children:R.name}),d.jsx("div",{className:"fee-panel-meta",children:(G=R.fees)!=null&&G.length?`${R.fees.length} entry${R.fees.length===1?"":"ies"}`:"Category available"})]}),d.jsxs("div",{className:"d-flex gap-2",children:[d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>M(R),children:"Rename"}),d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>te(R.id),children:"Delete"})]})]})},R.id)})})]})]})}function tA({subjectForm:t,setSubjectForm:e,academicYears:r,groups:n,coursesForGroup:i,semForCourse:s,feeCategories:a,categories:l,catItems:o,pendingSubjects:c,subjects:f,editingSubjectId:m,saveSubject:v,submitPendingSubjects:p,editPendingSubject:_,deletePendingSubject:S,editSubject:j,deleteSubject:w,onCancelSubjectEdit:x}){return d.jsxs("section",{className:"setup-section mb-4",children:[d.jsx("h5",{className:"section-title",children:"Subjects"}),d.jsxs("div",{className:"row g-3",children:[d.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Academic Year"}),d.jsxs("select",{className:"form-select",value:t.academicYearId,onChange:b=>e({...t,academicYearId:b.target.value}),children:[d.jsx("option",{value:"",children:"Select Year"}),r.map(b=>d.jsx("option",{value:b.id,children:b.name},b.id))]})]}),d.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Group"}),d.jsxs("select",{className:"form-select",value:t.groupCode,onChange:b=>e({...t,groupCode:b.target.value,courseCode:"",semester:""}),children:[d.jsx("option",{value:"",children:"Select Group"}),n.map(b=>d.jsx("option",{value:b.code,children:b.name||b.code},b.id))]})]}),d.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Course"}),d.jsxs("select",{className:"form-select",value:t.courseCode,onChange:b=>e({...t,courseCode:b.target.value,semester:""}),children:[d.jsx("option",{value:"",children:"Select Course"}),i.map(b=>d.jsxs("option",{value:b.courseCode,children:[b.courseCode," - ",b.courseName]},b.id))]})]}),d.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Semester"}),d.jsxs("select",{className:"form-select",value:t.semester,onChange:b=>e({...t,semester:b.target.value}),children:[d.jsx("option",{value:"",children:"Select Semester"}),s.map(b=>d.jsxs("option",{value:b.number,children:["Semester ",b.number]},b.id))]})]}),d.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Fee Type"}),d.jsxs("select",{className:"form-select",value:t.feeCategory,onChange:b=>e({...t,feeCategory:b.target.value,feeAmount:""}),children:[d.jsx("option",{value:"",children:"Select Fee Type"}),a.map(b=>d.jsx("option",{value:b.name,children:b.name},b.id))]})]}),t.feeCategory&&d.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Fee Amount"}),d.jsx("input",{type:"number",className:"form-control",placeholder:"Amount",value:t.feeAmount,onChange:b=>e({...t,feeAmount:b.target.value})})]}),d.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Sub-category"}),d.jsxs("select",{className:"form-select",value:t.category,onChange:b=>e({...t,category:b.target.value,subjectSelections:[],subjectName:""}),children:[d.jsx("option",{value:"",children:"Select Sub-category"}),l.map(b=>d.jsx("option",{value:b,children:b},b))]})]}),d.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[d.jsx("label",{className:"form-label fw-bold mb-1",children:"Subject Name"}),(o[t.category]||[]).length?d.jsxs("div",{className:"subject-checkbox-group",children:[o[t.category].map(b=>{var D;const P=`subject-${b.id}`;return d.jsxs("div",{className:"form-check",children:[d.jsx("input",{className:"form-check-input",type:"checkbox",id:P,checked:(D=t.subjectSelections)==null?void 0:D.includes(b.name),onChange:()=>e(Y=>{const $=new Set(Y.subjectSelections||[]);return $.has(b.name)?$.delete(b.name):$.add(b.name),{...Y,subjectSelections:Array.from($),subjectName:""}})}),d.jsx("label",{className:"form-check-label",htmlFor:P,children:b.name})]},b.id)}),d.jsx("input",{className:"form-control mt-2",placeholder:"Or type custom subject",value:t.subjectName,onChange:b=>e({...t,subjectName:b.target.value,subjectSelections:[]})})]}):d.jsx("input",{className:"form-control",placeholder:"Subject Name",value:t.subjectName,onChange:b=>e({...t,subjectName:b.target.value})})]})]}),d.jsxs("div",{className:"mt-2 text-end",children:[d.jsx("button",{type:"button",className:"btn btn-accent",onClick:v,children:m?"Update Entry":"Add Entry"}),m&&d.jsx("button",{type:"button",className:"btn btn-outline-secondary ms-2",onClick:x,children:"Cancel"})]}),c.length>0&&d.jsxs("div",{className:"card card-soft p-3 mt-3",children:[d.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[d.jsxs("h6",{className:"section-title mb-0",children:["Pending Subjects (",c.length,")"]}),d.jsx("button",{type:"button",className:"btn btn-brand",onClick:p,children:"Submit All"})]}),d.jsx("div",{className:"table-responsive",children:d.jsxs("table",{className:"table mb-0",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Year"}),d.jsx("th",{children:"Group"}),d.jsx("th",{children:"Course"}),d.jsx("th",{children:"Sem"}),d.jsx("th",{children:"Category"}),d.jsx("th",{children:"Subject"}),d.jsx("th",{children:"Fee"}),d.jsx("th",{children:"Amount"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:c.map(b=>{var P;return d.jsxs("tr",{children:[d.jsx("td",{children:(P=r.find(D=>D.id===b.academicYearId))==null?void 0:P.name}),d.jsx("td",{children:b.groupCode}),d.jsx("td",{children:b.courseCode}),d.jsx("td",{children:b.semester}),d.jsx("td",{children:b.category}),d.jsx("td",{children:b.subjectName}),d.jsx("td",{children:b.feeCategory||"-"}),d.jsx("td",{children:b.feeAmount!==void 0&&b.feeAmount!==""?b.feeAmount:"-"}),d.jsxs("td",{children:[d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary me-2",onClick:()=>_(b),children:"Edit"}),d.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>S(b.id),children:"Remove"})]})]},b.id)})})]})})]}),f.length>0&&d.jsx("div",{className:"table-responsive mt-3",children:d.jsxs("table",{className:"table mb-0",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Year"}),d.jsx("th",{children:"Group"}),d.jsx("th",{children:"Course"}),d.jsx("th",{children:"Sem"}),d.jsx("th",{children:"Category"}),d.jsx("th",{children:"Subject Name"}),d.jsx("th",{children:"Fee"}),d.jsx("th",{children:"Amount"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:f.map(b=>{var P;return d.jsxs("tr",{children:[d.jsx("td",{children:(P=r.find(D=>D.id===b.academicYearId))==null?void 0:P.name}),d.jsx("td",{children:b.groupCode}),d.jsx("td",{children:b.courseCode}),d.jsx("td",{children:b.semester}),d.jsx("td",{children:b.category}),d.jsx("td",{children:b.subjectName}),d.jsx("td",{children:b.feeCategory||"-"}),d.jsx("td",{children:b.feeAmount!==void 0&&b.feeAmount!==""?b.feeAmount:"-"}),d.jsxs("td",{children:[d.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>j(b),children:"Edit"}),d.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>w(b.id),children:"Delete"})]})]},b.id)})})]})}),f.length>0&&d.jsxs("div",{className:"card card-soft p-3 mt-3",children:[d.jsx("h6",{className:"section-title",children:"By Category (Preview)"}),d.jsx("div",{className:"row g-3",children:l.map(b=>{const P=f.filter(D=>(!t.academicYearId||D.academicYearId===t.academicYearId)&&(!t.groupCode||D.groupCode===t.groupCode)&&(!t.courseCode||D.courseCode===t.courseCode)&&(!t.semester||D.semester===Number(t.semester))&&D.category===b);return P.length===0?null:d.jsx("div",{className:"col-md-6",children:d.jsxs("div",{className:"card p-3 bg-ice",children:[d.jsx("div",{className:"fw-600 mb-2",children:b}),d.jsx("ul",{className:"list-unstyled mb-0",children:P.map(D=>d.jsxs("li",{className:"d-flex justify-content-between align-items-center py-1",children:[d.jsx("span",{children:D.subjectName}),d.jsxs("span",{className:"small text-muted",children:["Sem ",D.semester]})]},D.id))})]})},b)})})]})]})}const Hs=()=>Math.random().toString(36).slice(2),gp=(t,e,r,n)=>{if(e===r)return t;const{[e]:i=n,...s}=t;return{...s,[r]:i??n}},ru=(t,e)=>{if(!Object.prototype.hasOwnProperty.call(t,e))return t;const{[e]:r,...n}=t;return n},vp=(t="")=>({academicYearId:"",groupCode:"",courseCode:"",semester:"",category:t,subjectName:"",subjectSelections:[],feeCategory:"",feeAmount:""}),H2=(t=[])=>(t||[]).map(e=>((e==null?void 0:e.name)||"").trim()).filter(Boolean),W2=(t=[])=>Array.isArray(t)?t.map((e,r)=>({id:`${r}-${Hs()}`,name:e})).filter(e=>e.name):[],yp=[{key:"years",label:"Academic Years",tagline:"Define academic timelines and activation status."},{key:"groups",label:"Groups & Courses",tagline:"Manage programme structures and duration."},{key:"subcats",label:"Sub-categories",tagline:"Organise subjects and fee classifications."},{key:"subjects",label:"Subjects",tagline:"Control curriculum details semester by semester."}],rA=new Set(["Academic","Exam","Library","Bus","Lab"]),G2=t=>!t||!t.length?t:t.every(r=>{var n;return rA.has(r.name)&&(((n=r.fees)==null?void 0:n.length)||0)<=1})?[]:t,nA=t=>Array.isArray(t)?t.some(r=>Array.isArray(r==null?void 0:r.fees)||Array.isArray(r==null?void 0:r.items))?G2(t.map(r=>({id:(r==null?void 0:r.id)||Hs(),name:((r==null?void 0:r.name)||"").toString(),fees:((r==null?void 0:r.fees)||(r==null?void 0:r.items)||[]).map(n=>({id:(n==null?void 0:n.id)||Hs(),name:((n==null?void 0:n.name)||"").toString(),amount:(n==null?void 0:n.amount)===0||n!=null&&n.amount?String(n.amount):""})).filter(n=>n.name.trim())})).filter(r=>r.name.trim()||r.fees.length)):G2(t.map(r=>{const n=((r==null?void 0:r.name)||"").toString();return n.trim()?{id:(r==null?void 0:r.id)||Hs(),name:n,fees:[{id:Hs(),name:`${n} Fee`,amount:(r==null?void 0:r.amount)===0||r!=null&&r.amount?String(r.amount):""}]}:null}).filter(Boolean)):[];function iA(){const{tab:t}=Mx(),e=["years","groups","subcats","subjects"].includes(t)?t:"years",[r,n]=se.useState({name:"",active:!0}),[i,s]=se.useState([]),[a,l]=se.useState(""),o=async()=>{var de;if(r.name.trim()){try{if(a){const Le=await((de=Ce.updateAcademicYear)==null?void 0:de.call(Ce,a,{name:r.name,active:r.active}));Le&&s(Re=>Re.map(Pe=>Pe.id===a?Le:Pe)),l("")}else{const Le=await Ce.addAcademicYear({name:r.name,active:r.active});Le&&s(Re=>[...Re,Le])}}catch(Le){console.error("Failed to save academic year",Le)}n({name:"",active:!0})}},c=de=>{n({name:de.name,active:de.active}),l(de.id)},f=async de=>{var Le;s(Re=>Re.filter(Pe=>Pe.id!==de));try{await((Le=Ce.deleteAcademicYear)==null?void 0:Le.call(Ce,de))}catch(Re){console.error("Failed to delete academic year",Re)}a===de&&(n({name:"",active:!0}),l(""))},m=()=>{n({name:"",active:!0}),l("")},[v,p]=se.useState([]),[_,S]=se.useState({id:"",code:"",name:"",years:0,semesters:0}),[j,w]=se.useState(""),x=async()=>{var Re;if(!_.code||!_.name)return;const de=_.code.toUpperCase(),Le={code:de,name:_.name,years:Number(_.years)||0,semesters:Number(_.semesters)||0};if(j){try{const Pe=await((Re=Ce.updateGroup)==null?void 0:Re.call(Ce,j,Le));Pe&&p(ze=>ze.map(pt=>pt.id===j?Pe:pt))}catch(Pe){console.error("Error updating group:",Pe)}w("")}else{if(v.some(Pe=>Pe.code===de))return;try{const Pe=await Ce.addGroup(Le);Pe&&p(ze=>[...ze,Pe])}catch(Pe){console.error("Error adding group:",Pe)}}S({id:"",code:"",name:"",years:0,semesters:0})},b=de=>{S(de),w(de.id)},P=async de=>{var Le;p(Re=>Re.filter(Pe=>Pe.id!==de));try{await((Le=Ce.deleteGroup)==null?void 0:Le.call(Ce,de))}catch(Re){console.error("Error deleting group:",Re)}},[D,Y]=se.useState([]),[$,M]=se.useState({id:"",groupCode:"",courseCode:"",courseName:"",semesters:6}),[te,I]=se.useState(""),[O,R]=se.useState([]);se.useEffect(()=>{const de=D.flatMap(Le=>{const Re=Le.courseCode||Le.code,Pe=Number(Le.semesters||0);return!Re||!Pe?[]:Array.from({length:Pe},(ze,pt)=>({id:`${Re}-${pt+1}`,courseCode:Re,number:pt+1}))});R(de)},[D]);const G=async()=>{var gt;const{groupCode:de,courseCode:Le,courseName:Re,semesters:Pe}=$;if(!de||!Le||!Re||!Pe)return;const ze=Le.toUpperCase(),pt={code:ze,name:Re,group_code:de,semesters:Number(Pe)||0};if(te){try{const at=await((gt=Ce.updateCourse)==null?void 0:gt.call(Ce,te,pt));at&&Y(qr=>qr.map(Cn=>Cn.id===te?at:Cn))}catch(at){console.error("Error updating course:",at)}I("")}else{if(D.some(at=>(at.courseCode||at.code)===ze))return;try{const at=await Ce.addCourse(pt);at&&Y(qr=>[...qr,at])}catch(at){console.error("Error adding course:",at)}}M({id:"",groupCode:"",courseCode:"",courseName:"",semesters:6})},H=de=>{M(de),I(de.id)},pe=async de=>{var Re;const Le=D.find(Pe=>Pe.id===de);if(Y(D.filter(Pe=>Pe.id!==de)),Le){const Pe=Le.courseCode||Le.code;R(O.filter(ze=>ze.courseCode!==Pe))}try{await((Re=Ce.deleteCourse)==null?void 0:Re.call(Ce,de))}catch(Pe){console.error("Error deleting course:",Pe)}},[oe,me]=se.useState([]),[W,ne]=se.useState({}),[ae,Ne]=se.useState(""),[C,U]=se.useState(""),[q,K]=se.useState({}),[Z,le]=se.useState({}),[fe,he]=se.useState({}),[Ee,je]=se.useState(""),[De,Te]=se.useState(!1),Ze=async(de,Le)=>{var ze;const Re=W[de];if(!Re)return;const Pe=H2(Le);try{await((ze=Ce.updateSubCategory)==null?void 0:ze.call(Ce,Re,{name:de,subjects:Pe}))}catch(pt){console.error(`Failed to save subjects for ${de}`,pt)}},ve=(de,Le)=>{K(Re=>{const Pe=Re[de]||[],ze=typeof Le=="function"?Le(Pe):Array.isArray(Le)?Le:[],pt={...Re,[de]:ze};return Ze(de,ze),pt})},V=de=>{je(de),Te(!1)},ot=()=>{je(""),Te(!1)},We=(de,Le)=>{le(Pe=>({...Pe,[de]:Le}));const Re=Math.max(0,Number(Le)||0);he(Pe=>{const ze=Pe[de]||[],pt=Array.from({length:Re},(gt,at)=>ze[at]??"");return{...Pe,[de]:pt}})},Ae=(de,Le,Re)=>{he(Pe=>{const ze=[...Pe[de]||[]];return ze[Le]=Re,{...Pe,[de]:ze}})},Oe=de=>{he(Le=>({...Le,[de]:[]})),le(Le=>({...Le,[de]:""}))},Be=de=>{const Le=(fe[de]||[]).map(Pe=>Pe.trim()).filter(Boolean);if(!Le.length)return;const Re=Le.map(Pe=>({id:Hs(),name:Pe}));ve(de,Pe=>[...Pe,...Re]),Oe(de)},[Ie,Ke]=se.useState([]),[st,lt]=se.useState(""),[ct,yt]=se.useState(""),[Pt,tt]=se.useState({}),vt=async de=>{var Le;try{await((Le=Ce.setFeeTypes)==null?void 0:Le.call(Ce,de))}catch(Re){console.error("Failed to save fee categories",Re)}};se.useEffect(()=>{(async()=>{var de,Le,Re,Pe,ze;try{const[pt,gt,at,qr,Cn]=await Promise.all([((de=Ce.listAcademicYears)==null?void 0:de.call(Ce))||[],((Le=Ce.listGroups)==null?void 0:Le.call(Ce))||[],((Re=Ce.listCourses)==null?void 0:Re.call(Ce))||[],((Pe=Ce.getFeeTypes)==null?void 0:Pe.call(Ce))||[],((ze=Ce.listSubCategories)==null?void 0:ze.call(Ce))||[]]);if(pt.length&&s(pt),gt.length&&p(gt),at.length&&Y(at),qr){const ui=nA(qr);Ke(ui)}if(Cn.length){const ui=[],Hi={},Pi={};Cn.forEach(En=>{ui.push(En.name),Pi[En.name]=En.id,Hi[En.name]=W2(En.subjects)}),me(ui),K(Hi),ne(Pi)}else me([]),K({}),ne({})}catch(pt){console.error("Failed to load setup data",pt)}})()},[]);const Ue=async()=>{const de=st.trim();if(!de||Ie.some(Pe=>Pe.name.trim().toLowerCase()===de.toLowerCase()&&Pe.id!==ct))return;let Re=[];ct?Re=Ie.map(Pe=>Pe.id===ct?{...Pe,name:de}:Pe):Re=[...Ie,{id:Hs(),name:de,fees:[]}],Ke(Re),await vt(Re),lt(""),yt("")},kr=de=>{lt(de.name),yt(de.id)},jt=async de=>{const Le=Ie.filter(Re=>Re.id!==de);Ke(Le),await vt(Le),tt(Re=>ru(Re,de)),ct===de&&(lt(""),yt(""))},Sn=async()=>{var Re,Pe;const de=ae.trim();if(!(!de||oe.some(ze=>ze.toLowerCase()===de.toLowerCase()&&ze!==C))){if(C){me(oe.map(gt=>gt===C?de:gt)),K(gt=>gp(gt,C,de,[])),le(gt=>gp(gt,C,de,"")),he(gt=>gp(gt,C,de,[])),Dt(gt=>gt.map(at=>at.category===C?{...at,category:de}:at)),Ee===C&&je(de),en.category===C&&zt(gt=>({...gt,category:de}));const ze=W[C],pt=q[C]||[];if(ze){try{await((Re=Ce.updateSubCategory)==null?void 0:Re.call(Ce,ze,{name:de,subjects:H2(pt)}))}catch(gt){console.error("Failed to rename sub-category",gt)}ne(gt=>{const at={...gt};return delete at[C],{...at,[de]:ze}})}}else try{const ze=await((Pe=Ce.addSubCategory)==null?void 0:Pe.call(Ce,de)),pt=(ze==null?void 0:ze.name)||de,gt=ze==null?void 0:ze.id;me(at=>[...at,pt]),K(at=>({...at,[pt]:W2((ze==null?void 0:ze.subjects)||[])})),le(at=>({...at,[pt]:""})),he(at=>({...at,[pt]:[]})),gt&&ne(at=>({...at,[pt]:gt}))}catch(ze){console.error("Failed to add sub-category",ze);return}Ne(""),U("")}},Ot=async de=>{var Pe;const Le=W[de];if(Le)try{await((Pe=Ce.deleteSubCategory)==null?void 0:Pe.call(Ce,Le))}catch(ze){console.error("Failed to delete sub-category",ze);return}const Re=oe.filter(ze=>ze!==de);Re.length!==oe.length&&(me(Re),K(ze=>ru(ze,de)),le(ze=>ru(ze,de)),he(ze=>ru(ze,de)),ne(ze=>ru(ze,de)),Dt(ze=>{const pt=Re[0]||"";return ze.reduce((gt,at)=>at.category!==de?(gt.push(at),gt):(pt&&gt.push({...at,category:pt}),gt),[])}),en.category===de&&zt(ze=>({...ze,category:Re[0]||""})),Ee===de&&ot(),C===de&&(Ne(""),U("")))},[Wt,oi]=se.useState([]),[Et,gs]=se.useState(0),[Qt,$n]=se.useState([]),[jn,Dt]=se.useState([]),[nt,Nt]=se.useState([]),[en,zt]=se.useState(()=>vp(""));se.useEffect(()=>{zt(de=>oe.length?oe.includes(de.category)?de:{...de,category:oe[0]}:de.category?{...de,category:""}:de)},[oe]);const[Rr,tn]=se.useState(""),Qe=D.filter(de=>{const Le=de.groupCode||de.group_code;return en.groupCode?Le===en.groupCode:!1}),An=O.filter(de=>de.courseCode===en.courseCode),Vn=()=>{const{academicYearId:de,groupCode:Le,courseCode:Re,semester:Pe,category:ze,subjectName:pt,subjectSelections:gt=[],feeCategory:at,feeAmount:qr}=en,Cn=Array.isArray(gt)?gt:[],ui=Cn.length>0,Hi=pt?pt.trim():"";if(!de||!Le||!Re||!Pe||!ze||!ui&&!Hi)return;const En=(ui?Cn:[Hi]).map((Hn,Wi)=>({id:Rr&&Wi===0?Rr:Hs(),academicYearId:de,groupCode:Le,courseCode:Re,semester:Number(Pe),category:ze,subjectCode:Hn,subjectName:Hn,feeCategory:at,feeAmount:qr?Number(qr):""}));Rr?(Nt(Hn=>[...Hn.filter(Wi=>Wi.id!==Rr),...En]),tn("")):Nt(Hn=>[...Hn,...En]),zt(Hn=>({...Hn,subjectName:"",subjectSelections:[],feeCategory:"",feeAmount:""}))},zr=()=>{nt.length&&(Dt(de=>[...de,...nt]),Nt([]))},nr=de=>{var Pe;Nt(ze=>ze.filter(pt=>pt.id!==de.id));const Re=(q[de.category]||[]).some(ze=>ze.name===de.subjectName);zt({...de,semester:de.semester.toString(),feeCategory:de.feeCategory||"",feeAmount:((Pe=de.feeAmount)==null?void 0:Pe.toString())||"",subjectName:Re?"":de.subjectName,subjectSelections:Re?[de.subjectName]:[]}),tn(de.id)},ir=de=>{Dt(Le=>Le.filter(Re=>Re.id!==de.id)),nr(de)},rn=de=>{Nt(Le=>Le.filter(Re=>Re.id!==de)),Rr===de&&(zt(vp(oe[0]||"")),tn(""))},vs=de=>Dt(jn.filter(Le=>Le.id!==de)),li=()=>{tn(""),zt(vp(oe[0]||""))},hn=yp.find(de=>de.key===e)||yp[0],kn=[{label:"Academic Years",value:i.length||0,meta:"records"},{label:"Groups",value:v.length||0,meta:"active"},{label:"Courses",value:D.length||0,meta:"listed"},{label:"Subjects",value:jn.length||0,meta:"published"}];return d.jsx(ms,{children:d.jsxs("div",{className:"desktop-container",children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Admin Setup"}),d.jsx("section",{className:"setup-hero mb-4",children:d.jsxs("div",{className:"setup-hero-grid",children:[d.jsxs("div",{className:"setup-hero-copywrap",children:[d.jsx("p",{className:"setup-hero-eyebrow text-uppercase mb-2",children:"Administration  Setup Console"}),d.jsx("h3",{className:"setup-hero-title mb-2",children:hn.label}),d.jsx("p",{className:"setup-hero-copy mb-3",children:hn.tagline}),d.jsxs("div",{className:"setup-hero-chips d-flex flex-wrap gap-2",children:[d.jsx("span",{className:"setup-hero-chip",children:"Smart Examination Platform"}),d.jsx("span",{className:"setup-hero-chip",children:"Hall Ticket Management"})]})]}),d.jsx("div",{className:"setup-stat-grid",children:kn.map(de=>d.jsxs("div",{className:"setup-stat-card",children:[d.jsx("div",{className:"setup-stat-label",children:de.label}),d.jsx("div",{className:"setup-stat-value",children:de.value}),d.jsx("div",{className:"setup-stat-meta",children:de.meta})]},de.label))})]})}),d.jsx("nav",{className:"setup-tab-nav d-flex flex-wrap gap-2 mb-4",children:yp.map(de=>d.jsxs(Go,{to:`/admin/setup/${de.key}`,className:`setup-tab-pill ${e===de.key?"active":""}`,children:[d.jsx("div",{className:"setup-pill-label",children:de.label}),d.jsx("div",{className:"setup-pill-meta",children:de.tagline})]},de.key))}),e==="years"&&d.jsx(X6,{yearForm:r,setYearForm:n,academicYears:i,editingYearId:a,addYear:o,editYear:c,deleteYear:f,onCancelEdit:m}),e==="groups"&&d.jsx(Z6,{groupForm:_,setGroupForm:S,editingGroupId:j,setEditingGroupId:w,groups:v,saveGroup:x,editGroup:b,deleteGroup:P,courseForm:$,setCourseForm:M,editingCourseId:te,setEditingCourseId:I,courses:D,saveCourse:G,editCourse:H,deleteCourse:pe}),e==="subcats"&&d.jsx(eA,{categories:oe,categoryName:ae,setCategoryName:Ne,editingCategory:C,setEditingCategory:U,catItems:q,catCounts:Z,tempCatInputs:fe,viewCat:Ee,isEditingView:De,openViewCat:V,closeViewCat:ot,handleSubjectAmountChange:We,handleTempSubjectChange:Ae,clearCategoryInputs:Oe,commitCategorySubjects:Be,updateCategoryItems:ve,deleteCategory:Ot,saveCategory:Sn,feeCategories:Ie,feeCategoryName:st,setFeeCategoryName:lt,editingFeeCategoryId:ct,setEditingFeeCategoryId:yt,saveFeeCategory:Ue,editFeeCategory:kr,deleteFeeCategory:jt,setIsEditingView:Te}),e==="subjects"&&d.jsx(tA,{subjectForm:en,setSubjectForm:zt,academicYears:i,groups:v,coursesForGroup:Qe,semForCourse:An,feeCategories:Ie,categories:oe,catItems:q,pendingSubjects:nt,subjects:jn,editingSubjectId:Rr,saveSubject:Vn,submitPendingSubjects:zr,editPendingSubject:nr,deletePendingSubject:rn,editSubject:ir,deleteSubject:vs,onCancelSubjectEdit:li})]})})}function sA(){return d.jsxs(ms,{children:[d.jsx("h2",{className:"fw-bold mb-3",children:"Departments"}),d.jsx("div",{className:"card card-soft p-4",children:d.jsx("div",{className:"text-muted",children:"Departments management coming soon."})})]})}function Zn({isAuthed:t,children:e}){return t?e:d.jsx(fm,{to:"/admin/login",replace:!0})}function aA(){const{user:t,signOut:e}=Ch(),r=!!t;return d.jsxs(e4,{children:[d.jsx(Nr,{path:"/",element:d.jsx(xj,{})}),d.jsx(Nr,{path:"/apply",element:d.jsx(_j,{})}),d.jsx(Nr,{path:"/application",element:d.jsx(S6,{})}),d.jsx(Nr,{path:"/public/results",element:d.jsx(Nj,{})}),d.jsx(Nr,{path:"/public/timetable",element:d.jsx(Sj,{})}),d.jsx(Nr,{path:"/admin/login",element:d.jsx(A6,{})}),d.jsx(Nr,{path:"/admin",element:d.jsx(Zn,{isAuthed:r,children:d.jsx(fm,{to:"/admin/setup/years",replace:!0})})}),d.jsx(Nr,{path:"/admin/batches",element:d.jsx(Zn,{isAuthed:r,children:d.jsx(C6,{})})}),d.jsx(Nr,{path:"/admin/courses",element:d.jsx(Zn,{isAuthed:r,children:d.jsx(E6,{})})}),d.jsx(Nr,{path:"/admin/students",element:d.jsx(Zn,{isAuthed:r,children:d.jsx(O6,{})})}),d.jsx(Nr,{path:"/admin/exams",element:d.jsx(Zn,{isAuthed:r,children:d.jsx(I6,{})})}),d.jsx(Nr,{path:"/admin/payments",element:d.jsx(Zn,{isAuthed:r,children:d.jsx(R6,{})})}),d.jsx(Nr,{path:"/admin/hall-tickets",element:d.jsx(Zn,{isAuthed:r,children:d.jsx(Y6,{})})}),d.jsx(Nr,{path:"/admin/results",element:d.jsx(Zn,{isAuthed:r,children:d.jsx(Q6,{})})}),d.jsx(Nr,{path:"/admin/departments",element:d.jsx(Zn,{isAuthed:r,children:d.jsx(sA,{})})}),d.jsx(Nr,{path:"/admin/setup",element:d.jsx(Zn,{isAuthed:r,children:d.jsx(fm,{to:"/admin/setup/years",replace:!0})})}),d.jsx(Nr,{path:"/admin/setup/:tab",element:d.jsx(Zn,{isAuthed:r,children:d.jsx(iA,{})})}),d.jsx(Nr,{path:"/admin/applications",element:d.jsx(Zn,{isAuthed:r,children:d.jsx(j6,{})})})]})}document.body.classList.remove("theme-red");document.body.classList.add("theme-blue");wp.createRoot(document.getElementById("root")).render(d.jsx(o4,{children:d.jsx(aA,{})}));export{Tt as _,oA as c,J2 as g};
