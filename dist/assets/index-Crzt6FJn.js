function b2(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var nA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function dw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var w2={exports:{}},Sh={},x2={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc=Symbol.for("react.element"),hw=Symbol.for("react.portal"),fw=Symbol.for("react.fragment"),pw=Symbol.for("react.strict_mode"),mw=Symbol.for("react.profiler"),gw=Symbol.for("react.provider"),vw=Symbol.for("react.context"),yw=Symbol.for("react.forward_ref"),bw=Symbol.for("react.suspense"),_w=Symbol.for("react.memo"),ww=Symbol.for("react.lazy"),$0=Symbol.iterator;function xw(e){return e===null||typeof e!="object"?null:(e=$0&&e[$0]||e["@@iterator"],typeof e=="function"?e:null)}var N2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S2=Object.assign,j2={};function hl(e,t,r){this.props=e,this.context=t,this.refs=j2,this.updater=r||N2}hl.prototype.isReactComponent={};hl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function k2(){}k2.prototype=hl.prototype;function ng(e,t,r){this.props=e,this.context=t,this.refs=j2,this.updater=r||N2}var sg=ng.prototype=new k2;sg.constructor=ng;S2(sg,hl.prototype);sg.isPureReactComponent=!0;var V0=Array.isArray,A2=Object.prototype.hasOwnProperty,ig={current:null},C2={key:!0,ref:!0,__self:!0,__source:!0};function E2(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)A2.call(t,n)&&!C2.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var o=Array(l),d=0;d<l;d++)o[d]=arguments[d+2];s.children=o}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Qc,type:e,key:i,ref:a,props:s,_owner:ig.current}}function Nw(e,t){return{$$typeof:Qc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ag(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qc}function Sw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var H0=/\/+/g;function Ff(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sw(""+e.key):t.toString(36)}function Cd(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Qc:case hw:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Ff(a,0):n,V0(s)?(r="",e!=null&&(r=e.replace(H0,"$&/")+"/"),Cd(s,t,r,"",function(d){return d})):s!=null&&(ag(s)&&(s=Nw(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(H0,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",V0(e))for(var l=0;l<e.length;l++){i=e[l];var o=n+Ff(i,l);a+=Cd(i,t,r,o,s)}else if(o=xw(e),typeof o=="function")for(e=o.call(e),l=0;!(i=e.next()).done;)i=i.value,o=n+Ff(i,l++),a+=Cd(i,t,r,o,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Gu(e,t,r){if(e==null)return e;var n=[],s=0;return Cd(e,n,"","",function(i){return t.call(r,i,s++)}),n}function jw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mn={current:null},Ed={transition:null},kw={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Ed,ReactCurrentOwner:ig};function P2(){throw Error("act(...) is not supported in production builds of React.")}Et.Children={map:Gu,forEach:function(e,t,r){Gu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gu(e,function(){t++}),t},toArray:function(e){return Gu(e,function(t){return t})||[]},only:function(e){if(!ag(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Et.Component=hl;Et.Fragment=fw;Et.Profiler=mw;Et.PureComponent=ng;Et.StrictMode=pw;Et.Suspense=bw;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kw;Et.act=P2;Et.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=S2({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=ig.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(o in t)A2.call(t,o)&&!C2.hasOwnProperty(o)&&(n[o]=t[o]===void 0&&l!==void 0?l[o]:t[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){l=Array(o);for(var d=0;d<o;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Qc,type:e.type,key:s,ref:i,props:n,_owner:a}};Et.createContext=function(e){return e={$$typeof:vw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gw,_context:e},e.Consumer=e};Et.createElement=E2;Et.createFactory=function(e){var t=E2.bind(null,e);return t.type=e,t};Et.createRef=function(){return{current:null}};Et.forwardRef=function(e){return{$$typeof:yw,render:e}};Et.isValidElement=ag;Et.lazy=function(e){return{$$typeof:ww,_payload:{_status:-1,_result:e},_init:jw}};Et.memo=function(e,t){return{$$typeof:_w,type:e,compare:t===void 0?null:t}};Et.startTransition=function(e){var t=Ed.transition;Ed.transition={};try{e()}finally{Ed.transition=t}};Et.unstable_act=P2;Et.useCallback=function(e,t){return mn.current.useCallback(e,t)};Et.useContext=function(e){return mn.current.useContext(e)};Et.useDebugValue=function(){};Et.useDeferredValue=function(e){return mn.current.useDeferredValue(e)};Et.useEffect=function(e,t){return mn.current.useEffect(e,t)};Et.useId=function(){return mn.current.useId()};Et.useImperativeHandle=function(e,t,r){return mn.current.useImperativeHandle(e,t,r)};Et.useInsertionEffect=function(e,t){return mn.current.useInsertionEffect(e,t)};Et.useLayoutEffect=function(e,t){return mn.current.useLayoutEffect(e,t)};Et.useMemo=function(e,t){return mn.current.useMemo(e,t)};Et.useReducer=function(e,t,r){return mn.current.useReducer(e,t,r)};Et.useRef=function(e){return mn.current.useRef(e)};Et.useState=function(e){return mn.current.useState(e)};Et.useSyncExternalStore=function(e,t,r){return mn.current.useSyncExternalStore(e,t,r)};Et.useTransition=function(){return mn.current.useTransition()};Et.version="18.3.1";x2.exports=Et;var X=x2.exports;const ws=_2(X),Aw=b2({__proto__:null,default:ws},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw=X,Ew=Symbol.for("react.element"),Pw=Symbol.for("react.fragment"),Lw=Object.prototype.hasOwnProperty,Tw=Cw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Iw={key:!0,ref:!0,__self:!0,__source:!0};function L2(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Lw.call(t,n)&&!Iw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Ew,type:e,key:i,ref:a,props:s,_owner:Tw.current}}Sh.Fragment=Pw;Sh.jsx=L2;Sh.jsxs=L2;w2.exports=Sh;var c=w2.exports,Ip={},T2={exports:{}},zn={},I2={exports:{}},O2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,se){var ce=W.length;W.push(se);e:for(;0<ce;){var we=ce-1>>>1,C=W[we];if(0<s(C,se))W[we]=se,W[ce]=C,ce=we;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var se=W[0],ce=W.pop();if(ce!==se){W[0]=ce;e:for(var we=0,C=W.length,z=C>>>1;we<z;){var L=2*(we+1)-1,V=W[L],Y=L+1,ie=W[Y];if(0>s(V,ce))Y<C&&0>s(ie,V)?(W[we]=ie,W[Y]=ce,we=Y):(W[we]=V,W[L]=ce,we=L);else if(Y<C&&0>s(ie,ce))W[we]=ie,W[Y]=ce,we=Y;else break e}}return se}function s(W,se){var ce=W.sortIndex-se.sortIndex;return ce!==0?ce:W.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var o=[],d=[],f=1,m=null,g=3,p=!1,b=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(W){for(var se=r(d);se!==null;){if(se.callback===null)n(d);else if(se.startTime<=W)n(d),se.sortIndex=se.expirationTime,t(o,se);else break;se=r(d)}}function D(W){if(N=!1,S(W),!b)if(r(o)!==null)b=!0,re(B);else{var se=r(d);se!==null&&de(D,se.startTime-W)}}function B(W,se){b=!1,N&&(N=!1,_(I),I=-1),p=!0;var ce=g;try{for(S(se),m=r(o);m!==null&&(!(m.expirationTime>se)||W&&!E());){var we=m.callback;if(typeof we=="function"){m.callback=null,g=m.priorityLevel;var C=we(m.expirationTime<=se);se=e.unstable_now(),typeof C=="function"?m.callback=C:m===r(o)&&n(o),S(se)}else n(o);m=r(o)}if(m!==null)var z=!0;else{var L=r(d);L!==null&&de(D,L.startTime-se),z=!1}return z}finally{m=null,g=ce,p=!1}}var ee=!1,R=null,I=-1,U=5,q=-1;function E(){return!(e.unstable_now()-q<U)}function O(){if(R!==null){var W=e.unstable_now();q=W;var se=!0;try{se=R(!0,W)}finally{se?Q():(ee=!1,R=null)}}else ee=!1}var Q;if(typeof w=="function")Q=function(){w(O)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,G=K.port2;K.port1.onmessage=O,Q=function(){G.postMessage(null)}}else Q=function(){j(O,0)};function re(W){R=W,ee||(ee=!0,Q())}function de(W,se){I=j(function(){W(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,re(B))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(o)},e.unstable_next=function(W){switch(g){case 1:case 2:case 3:var se=3;break;default:se=g}var ce=g;g=se;try{return W()}finally{g=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ce=g;g=W;try{return se()}finally{g=ce}},e.unstable_scheduleCallback=function(W,se,ce){var we=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?we+ce:we):ce=we,W){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ce+C,W={id:f++,callback:se,priorityLevel:W,startTime:ce,expirationTime:C,sortIndex:-1},ce>we?(W.sortIndex=ce,t(d,W),r(o)===null&&W===r(d)&&(N?(_(I),I=-1):N=!0,de(D,ce-we))):(W.sortIndex=C,t(o,W),b||p||(b=!0,re(B))),W},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(W){var se=g;return function(){var ce=g;g=se;try{return W.apply(this,arguments)}finally{g=ce}}}})(O2);I2.exports=O2;var Ow=I2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw=X,qn=Ow;function Ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R2=new Set,kc={};function Wa(e,t){nl(e,t),nl(e+"Capture",t)}function nl(e,t){for(kc[e]=t,e=0;e<t.length;e++)R2.add(t[e])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Op=Object.prototype.hasOwnProperty,Fw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W0={},G0={};function Dw(e){return Op.call(G0,e)?!0:Op.call(W0,e)?!1:Fw.test(e)?G0[e]=!0:(W0[e]=!0,!1)}function Mw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bw(e,t,r,n){if(t===null||typeof t>"u"||Mw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gn(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Yr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yr[e]=new gn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yr[t]=new gn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yr[e]=new gn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yr[e]=new gn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yr[e]=new gn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yr[e]=new gn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yr[e]=new gn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yr[e]=new gn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yr[e]=new gn(e,5,!1,e.toLowerCase(),null,!1,!1)});var og=/[\-:]([a-z])/g;function lg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(og,lg);Yr[t]=new gn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(og,lg);Yr[t]=new gn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(og,lg);Yr[t]=new gn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yr[e]=new gn(e,1,!1,e.toLowerCase(),null,!1,!1)});Yr.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yr[e]=new gn(e,1,!1,e.toLowerCase(),null,!0,!0)});function cg(e,t,r,n){var s=Yr.hasOwnProperty(t)?Yr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bw(t,r,s,n)&&(r=null),n||s===null?Dw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var vi=Rw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yu=Symbol.for("react.element"),Io=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),ug=Symbol.for("react.strict_mode"),Rp=Symbol.for("react.profiler"),F2=Symbol.for("react.provider"),D2=Symbol.for("react.context"),dg=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),Dp=Symbol.for("react.suspense_list"),hg=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),M2=Symbol.for("react.offscreen"),Y0=Symbol.iterator;function Xl(e){return e===null||typeof e!="object"?null:(e=Y0&&e[Y0]||e["@@iterator"],typeof e=="function"?e:null)}var or=Object.assign,Df;function lc(e){if(Df===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Df=t&&t[1]||""}return`
`+Df+e}var Mf=!1;function Bf(e,t){if(!e||Mf)return"";Mf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var o=`
`+s[a].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=a&&0<=l);break}}}finally{Mf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?lc(e):""}function Uw(e){switch(e.tag){case 5:return lc(e.type);case 16:return lc("Lazy");case 13:return lc("Suspense");case 19:return lc("SuspenseList");case 0:case 2:case 15:return e=Bf(e.type,!1),e;case 11:return e=Bf(e.type.render,!1),e;case 1:return e=Bf(e.type,!0),e;default:return""}}function Mp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oo:return"Fragment";case Io:return"Portal";case Rp:return"Profiler";case ug:return"StrictMode";case Fp:return"Suspense";case Dp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D2:return(e.displayName||"Context")+".Consumer";case F2:return(e._context.displayName||"Context")+".Provider";case dg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hg:return t=e.displayName||null,t!==null?t:Mp(e.type)||"Memo";case Mi:t=e._payload,e=e._init;try{return Mp(e(t))}catch{}}return null}function qw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mp(t);case 8:return t===ug?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function B2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zw(e){var t=B2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ku(e){e._valueTracker||(e._valueTracker=zw(e))}function U2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=B2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bp(e,t){var r=t.checked;return or({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function K0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=sa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function q2(e,t){t=t.checked,t!=null&&cg(e,"checked",t,!1)}function Up(e,t){q2(e,t);var r=sa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qp(e,t.type,r):t.hasOwnProperty("defaultValue")&&qp(e,t.type,sa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function J0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function qp(e,t,r){(t!=="number"||Hd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var cc=Array.isArray;function Wo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+sa(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function zp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return or({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Q0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ie(92));if(cc(r)){if(1<r.length)throw Error(Ie(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:sa(r)}}function z2(e,t){var r=sa(t.value),n=sa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function X0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $p(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ju,V2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ju=Ju||document.createElement("div"),Ju.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ju.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ac(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$w=["Webkit","ms","Moz","O"];Object.keys(pc).forEach(function(e){$w.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pc[t]=pc[e]})});function H2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||pc.hasOwnProperty(e)&&pc[e]?(""+t).trim():t+"px"}function W2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=H2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Vw=or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vp(e,t){if(t){if(Vw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ie(62))}}function Hp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wp=null;function fg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gp=null,Go=null,Yo=null;function Z0(e){if(e=eu(e)){if(typeof Gp!="function")throw Error(Ie(280));var t=e.stateNode;t&&(t=Eh(t),Gp(e.stateNode,e.type,t))}}function G2(e){Go?Yo?Yo.push(e):Yo=[e]:Go=e}function Y2(){if(Go){var e=Go,t=Yo;if(Yo=Go=null,Z0(e),t)for(e=0;e<t.length;e++)Z0(t[e])}}function K2(e,t){return e(t)}function J2(){}var Uf=!1;function Q2(e,t,r){if(Uf)return e(t,r);Uf=!0;try{return K2(e,t,r)}finally{Uf=!1,(Go!==null||Yo!==null)&&(J2(),Y2())}}function Cc(e,t){var r=e.stateNode;if(r===null)return null;var n=Eh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ie(231,t,typeof r));return r}var Yp=!1;if(fi)try{var Zl={};Object.defineProperty(Zl,"passive",{get:function(){Yp=!0}}),window.addEventListener("test",Zl,Zl),window.removeEventListener("test",Zl,Zl)}catch{Yp=!1}function Hw(e,t,r,n,s,i,a,l,o){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(f){this.onError(f)}}var mc=!1,Wd=null,Gd=!1,Kp=null,Ww={onError:function(e){mc=!0,Wd=e}};function Gw(e,t,r,n,s,i,a,l,o){mc=!1,Wd=null,Hw.apply(Ww,arguments)}function Yw(e,t,r,n,s,i,a,l,o){if(Gw.apply(this,arguments),mc){if(mc){var d=Wd;mc=!1,Wd=null}else throw Error(Ie(198));Gd||(Gd=!0,Kp=d)}}function Ga(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function X2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function e1(e){if(Ga(e)!==e)throw Error(Ie(188))}function Kw(e){var t=e.alternate;if(!t){if(t=Ga(e),t===null)throw Error(Ie(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return e1(s),e;if(i===n)return e1(s),t;i=i.sibling}throw Error(Ie(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(Ie(189))}}if(r.alternate!==n)throw Error(Ie(190))}if(r.tag!==3)throw Error(Ie(188));return r.stateNode.current===r?e:t}function Z2(e){return e=Kw(e),e!==null?ey(e):null}function ey(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ey(e);if(t!==null)return t;e=e.sibling}return null}var ty=qn.unstable_scheduleCallback,t1=qn.unstable_cancelCallback,Jw=qn.unstable_shouldYield,Qw=qn.unstable_requestPaint,gr=qn.unstable_now,Xw=qn.unstable_getCurrentPriorityLevel,pg=qn.unstable_ImmediatePriority,ry=qn.unstable_UserBlockingPriority,Yd=qn.unstable_NormalPriority,Zw=qn.unstable_LowPriority,ny=qn.unstable_IdlePriority,jh=null,Vs=null;function ex(e){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(jh,e,void 0,(e.current.flags&128)===128)}catch{}}var As=Math.clz32?Math.clz32:nx,tx=Math.log,rx=Math.LN2;function nx(e){return e>>>=0,e===0?32:31-(tx(e)/rx|0)|0}var Qu=64,Xu=4194304;function uc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=uc(l):(i&=a,i!==0&&(n=uc(i)))}else a=r&~s,a!==0?n=uc(a):i!==0&&(n=uc(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-As(t),s=1<<r,n|=e[r],t&=~s;return n}function sx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ix(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-As(i),l=1<<a,o=s[a];o===-1?(!(l&r)||l&n)&&(s[a]=sx(l,t)):o<=t&&(e.expiredLanes|=l),i&=~l}}function Jp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sy(){var e=Qu;return Qu<<=1,!(Qu&4194240)&&(Qu=64),e}function qf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Xc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-As(t),e[t]=r}function ax(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-As(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function mg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-As(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var qt=0;function iy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ay,gg,oy,ly,cy,Qp=!1,Zu=[],Yi=null,Ki=null,Ji=null,Ec=new Map,Pc=new Map,Ui=[],ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r1(e,t){switch(e){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Ec.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(t.pointerId)}}function ec(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=eu(t),t!==null&&gg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function lx(e,t,r,n,s){switch(t){case"focusin":return Yi=ec(Yi,e,t,r,n,s),!0;case"dragenter":return Ki=ec(Ki,e,t,r,n,s),!0;case"mouseover":return Ji=ec(Ji,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ec.set(i,ec(Ec.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Pc.set(i,ec(Pc.get(i)||null,e,t,r,n,s)),!0}return!1}function uy(e){var t=Ia(e.target);if(t!==null){var r=Ga(t);if(r!==null){if(t=r.tag,t===13){if(t=X2(r),t!==null){e.blockedOn=t,cy(e.priority,function(){oy(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Xp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Wp=n,r.target.dispatchEvent(n),Wp=null}else return t=eu(r),t!==null&&gg(t),e.blockedOn=r,!1;t.shift()}return!0}function n1(e,t,r){Pd(e)&&r.delete(t)}function cx(){Qp=!1,Yi!==null&&Pd(Yi)&&(Yi=null),Ki!==null&&Pd(Ki)&&(Ki=null),Ji!==null&&Pd(Ji)&&(Ji=null),Ec.forEach(n1),Pc.forEach(n1)}function tc(e,t){e.blockedOn===t&&(e.blockedOn=null,Qp||(Qp=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,cx)))}function Lc(e){function t(s){return tc(s,e)}if(0<Zu.length){tc(Zu[0],e);for(var r=1;r<Zu.length;r++){var n=Zu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yi!==null&&tc(Yi,e),Ki!==null&&tc(Ki,e),Ji!==null&&tc(Ji,e),Ec.forEach(t),Pc.forEach(t),r=0;r<Ui.length;r++)n=Ui[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ui.length&&(r=Ui[0],r.blockedOn===null);)uy(r),r.blockedOn===null&&Ui.shift()}var Ko=vi.ReactCurrentBatchConfig,Jd=!0;function ux(e,t,r,n){var s=qt,i=Ko.transition;Ko.transition=null;try{qt=1,vg(e,t,r,n)}finally{qt=s,Ko.transition=i}}function dx(e,t,r,n){var s=qt,i=Ko.transition;Ko.transition=null;try{qt=4,vg(e,t,r,n)}finally{qt=s,Ko.transition=i}}function vg(e,t,r,n){if(Jd){var s=Xp(e,t,r,n);if(s===null)Qf(e,t,n,Qd,r),r1(e,n);else if(lx(s,e,t,r,n))n.stopPropagation();else if(r1(e,n),t&4&&-1<ox.indexOf(e)){for(;s!==null;){var i=eu(s);if(i!==null&&ay(i),i=Xp(e,t,r,n),i===null&&Qf(e,t,n,Qd,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Qf(e,t,n,null,r)}}var Qd=null;function Xp(e,t,r,n){if(Qd=null,e=fg(n),e=Ia(e),e!==null)if(t=Ga(e),t===null)e=null;else if(r=t.tag,r===13){if(e=X2(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qd=e,null}function dy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xw()){case pg:return 1;case ry:return 4;case Yd:case Zw:return 16;case ny:return 536870912;default:return 16}default:return 16}}var $i=null,yg=null,Ld=null;function hy(){if(Ld)return Ld;var e,t=yg,r=t.length,n,s="value"in $i?$i.value:$i.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Ld=s.slice(e,1<n?1-n:void 0)}function Td(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ed(){return!0}function s1(){return!1}function $n(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ed:s1,this.isPropagationStopped=s1,this}return or(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ed)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ed)},persist:function(){},isPersistent:ed}),t}var fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bg=$n(fl),Zc=or({},fl,{view:0,detail:0}),hx=$n(Zc),zf,$f,rc,kh=or({},Zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_g,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rc&&(rc&&e.type==="mousemove"?(zf=e.screenX-rc.screenX,$f=e.screenY-rc.screenY):$f=zf=0,rc=e),zf)},movementY:function(e){return"movementY"in e?e.movementY:$f}}),i1=$n(kh),fx=or({},kh,{dataTransfer:0}),px=$n(fx),mx=or({},Zc,{relatedTarget:0}),Vf=$n(mx),gx=or({},fl,{animationName:0,elapsedTime:0,pseudoElement:0}),vx=$n(gx),yx=or({},fl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bx=$n(yx),_x=or({},fl,{data:0}),a1=$n(_x),wx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nx[e])?!!t[e]:!1}function _g(){return Sx}var jx=or({},Zc,{key:function(e){if(e.key){var t=wx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Td(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_g,charCode:function(e){return e.type==="keypress"?Td(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Td(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kx=$n(jx),Ax=or({},kh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),o1=$n(Ax),Cx=or({},Zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_g}),Ex=$n(Cx),Px=or({},fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lx=$n(Px),Tx=or({},kh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ix=$n(Tx),Ox=[9,13,27,32],wg=fi&&"CompositionEvent"in window,gc=null;fi&&"documentMode"in document&&(gc=document.documentMode);var Rx=fi&&"TextEvent"in window&&!gc,fy=fi&&(!wg||gc&&8<gc&&11>=gc),l1=" ",c1=!1;function py(e,t){switch(e){case"keyup":return Ox.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function my(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ro=!1;function Fx(e,t){switch(e){case"compositionend":return my(t);case"keypress":return t.which!==32?null:(c1=!0,l1);case"textInput":return e=t.data,e===l1&&c1?null:e;default:return null}}function Dx(e,t){if(Ro)return e==="compositionend"||!wg&&py(e,t)?(e=hy(),Ld=yg=$i=null,Ro=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fy&&t.locale!=="ko"?null:t.data;default:return null}}var Mx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mx[e.type]:t==="textarea"}function gy(e,t,r,n){G2(n),t=Xd(t,"onChange"),0<t.length&&(r=new bg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vc=null,Tc=null;function Bx(e){Ay(e,0)}function Ah(e){var t=Mo(e);if(U2(t))return e}function Ux(e,t){if(e==="change")return t}var vy=!1;if(fi){var Hf;if(fi){var Wf="oninput"in document;if(!Wf){var d1=document.createElement("div");d1.setAttribute("oninput","return;"),Wf=typeof d1.oninput=="function"}Hf=Wf}else Hf=!1;vy=Hf&&(!document.documentMode||9<document.documentMode)}function h1(){vc&&(vc.detachEvent("onpropertychange",yy),Tc=vc=null)}function yy(e){if(e.propertyName==="value"&&Ah(Tc)){var t=[];gy(t,Tc,e,fg(e)),Q2(Bx,t)}}function qx(e,t,r){e==="focusin"?(h1(),vc=t,Tc=r,vc.attachEvent("onpropertychange",yy)):e==="focusout"&&h1()}function zx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ah(Tc)}function $x(e,t){if(e==="click")return Ah(t)}function Vx(e,t){if(e==="input"||e==="change")return Ah(t)}function Hx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Es=typeof Object.is=="function"?Object.is:Hx;function Ic(e,t){if(Es(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Op.call(t,s)||!Es(e[s],t[s]))return!1}return!0}function f1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function p1(e,t){var r=f1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=f1(r)}}function by(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?by(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _y(){for(var e=window,t=Hd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hd(e.document)}return t}function xg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wx(e){var t=_y(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&by(r.ownerDocument.documentElement,r)){if(n!==null&&xg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=p1(r,i);var a=p1(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gx=fi&&"documentMode"in document&&11>=document.documentMode,Fo=null,Zp=null,yc=null,em=!1;function m1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;em||Fo==null||Fo!==Hd(n)||(n=Fo,"selectionStart"in n&&xg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yc&&Ic(yc,n)||(yc=n,n=Xd(Zp,"onSelect"),0<n.length&&(t=new bg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fo)))}function td(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Do={animationend:td("Animation","AnimationEnd"),animationiteration:td("Animation","AnimationIteration"),animationstart:td("Animation","AnimationStart"),transitionend:td("Transition","TransitionEnd")},Gf={},wy={};fi&&(wy=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function Ch(e){if(Gf[e])return Gf[e];if(!Do[e])return e;var t=Do[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in wy)return Gf[e]=t[r];return e}var xy=Ch("animationend"),Ny=Ch("animationiteration"),Sy=Ch("animationstart"),jy=Ch("transitionend"),ky=new Map,g1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function la(e,t){ky.set(e,t),Wa(t,[e])}for(var Yf=0;Yf<g1.length;Yf++){var Kf=g1[Yf],Yx=Kf.toLowerCase(),Kx=Kf[0].toUpperCase()+Kf.slice(1);la(Yx,"on"+Kx)}la(xy,"onAnimationEnd");la(Ny,"onAnimationIteration");la(Sy,"onAnimationStart");la("dblclick","onDoubleClick");la("focusin","onFocus");la("focusout","onBlur");la(jy,"onTransitionEnd");nl("onMouseEnter",["mouseout","mouseover"]);nl("onMouseLeave",["mouseout","mouseover"]);nl("onPointerEnter",["pointerout","pointerover"]);nl("onPointerLeave",["pointerout","pointerover"]);Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jx=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function v1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Yw(n,t,void 0,e),e.currentTarget=null}function Ay(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],o=l.instance,d=l.currentTarget;if(l=l.listener,o!==i&&s.isPropagationStopped())break e;v1(s,l,d),i=o}else for(a=0;a<n.length;a++){if(l=n[a],o=l.instance,d=l.currentTarget,l=l.listener,o!==i&&s.isPropagationStopped())break e;v1(s,l,d),i=o}}}if(Gd)throw e=Kp,Gd=!1,Kp=null,e}function Xt(e,t){var r=t[im];r===void 0&&(r=t[im]=new Set);var n=e+"__bubble";r.has(n)||(Cy(t,e,2,!1),r.add(n))}function Jf(e,t,r){var n=0;t&&(n|=4),Cy(r,e,n,t)}var rd="_reactListening"+Math.random().toString(36).slice(2);function Oc(e){if(!e[rd]){e[rd]=!0,R2.forEach(function(r){r!=="selectionchange"&&(Jx.has(r)||Jf(r,!1,e),Jf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rd]||(t[rd]=!0,Jf("selectionchange",!1,t))}}function Cy(e,t,r,n){switch(dy(t)){case 1:var s=ux;break;case 4:s=dx;break;default:s=vg}r=s.bind(null,t,r,e),s=void 0,!Yp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Qf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var o=a.tag;if((o===3||o===4)&&(o=a.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Ia(l),a===null)return;if(o=a.tag,o===5||o===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Q2(function(){var d=i,f=fg(r),m=[];e:{var g=ky.get(e);if(g!==void 0){var p=bg,b=e;switch(e){case"keypress":if(Td(r)===0)break e;case"keydown":case"keyup":p=kx;break;case"focusin":b="focus",p=Vf;break;case"focusout":b="blur",p=Vf;break;case"beforeblur":case"afterblur":p=Vf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=i1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=px;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Ex;break;case xy:case Ny:case Sy:p=vx;break;case jy:p=Lx;break;case"scroll":p=hx;break;case"wheel":p=Ix;break;case"copy":case"cut":case"paste":p=bx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=o1}var N=(t&4)!==0,j=!N&&e==="scroll",_=N?g!==null?g+"Capture":null:g;N=[];for(var w=d,S;w!==null;){S=w;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,_!==null&&(D=Cc(w,_),D!=null&&N.push(Rc(w,D,S)))),j)break;w=w.return}0<N.length&&(g=new p(g,b,null,r,f),m.push({event:g,listeners:N}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",g&&r!==Wp&&(b=r.relatedTarget||r.fromElement)&&(Ia(b)||b[pi]))break e;if((p||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=d,b=b?Ia(b):null,b!==null&&(j=Ga(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=d),p!==b)){if(N=i1,D="onMouseLeave",_="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(N=o1,D="onPointerLeave",_="onPointerEnter",w="pointer"),j=p==null?g:Mo(p),S=b==null?g:Mo(b),g=new N(D,w+"leave",p,r,f),g.target=j,g.relatedTarget=S,D=null,Ia(f)===d&&(N=new N(_,w+"enter",b,r,f),N.target=S,N.relatedTarget=j,D=N),j=D,p&&b)t:{for(N=p,_=b,w=0,S=N;S;S=wo(S))w++;for(S=0,D=_;D;D=wo(D))S++;for(;0<w-S;)N=wo(N),w--;for(;0<S-w;)_=wo(_),S--;for(;w--;){if(N===_||_!==null&&N===_.alternate)break t;N=wo(N),_=wo(_)}N=null}else N=null;p!==null&&y1(m,g,p,N,!1),b!==null&&j!==null&&y1(m,j,b,N,!0)}}e:{if(g=d?Mo(d):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var B=Ux;else if(u1(g))if(vy)B=Vx;else{B=zx;var ee=qx}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(B=$x);if(B&&(B=B(e,d))){gy(m,B,r,f);break e}ee&&ee(e,g,d),e==="focusout"&&(ee=g._wrapperState)&&ee.controlled&&g.type==="number"&&qp(g,"number",g.value)}switch(ee=d?Mo(d):window,e){case"focusin":(u1(ee)||ee.contentEditable==="true")&&(Fo=ee,Zp=d,yc=null);break;case"focusout":yc=Zp=Fo=null;break;case"mousedown":em=!0;break;case"contextmenu":case"mouseup":case"dragend":em=!1,m1(m,r,f);break;case"selectionchange":if(Gx)break;case"keydown":case"keyup":m1(m,r,f)}var R;if(wg)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ro?py(e,r)&&(I="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(fy&&r.locale!=="ko"&&(Ro||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ro&&(R=hy()):($i=f,yg="value"in $i?$i.value:$i.textContent,Ro=!0)),ee=Xd(d,I),0<ee.length&&(I=new a1(I,e,null,r,f),m.push({event:I,listeners:ee}),R?I.data=R:(R=my(r),R!==null&&(I.data=R)))),(R=Rx?Fx(e,r):Dx(e,r))&&(d=Xd(d,"onBeforeInput"),0<d.length&&(f=new a1("onBeforeInput","beforeinput",null,r,f),m.push({event:f,listeners:d}),f.data=R))}Ay(m,t)})}function Rc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Xd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Cc(e,r),i!=null&&n.unshift(Rc(e,i,s)),i=Cc(e,t),i!=null&&n.push(Rc(e,i,s))),e=e.return}return n}function wo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function y1(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,o=l.alternate,d=l.stateNode;if(o!==null&&o===n)break;l.tag===5&&d!==null&&(l=d,s?(o=Cc(r,i),o!=null&&a.unshift(Rc(r,o,l))):s||(o=Cc(r,i),o!=null&&a.push(Rc(r,o,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Qx=/\r\n?/g,Xx=/\u0000|\uFFFD/g;function b1(e){return(typeof e=="string"?e:""+e).replace(Qx,`
`).replace(Xx,"")}function nd(e,t,r){if(t=b1(t),b1(e)!==t&&r)throw Error(Ie(425))}function Zd(){}var tm=null,rm=null;function nm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sm=typeof setTimeout=="function"?setTimeout:void 0,Zx=typeof clearTimeout=="function"?clearTimeout:void 0,_1=typeof Promise=="function"?Promise:void 0,e3=typeof queueMicrotask=="function"?queueMicrotask:typeof _1<"u"?function(e){return _1.resolve(null).then(e).catch(t3)}:sm;function t3(e){setTimeout(function(){throw e})}function Xf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Lc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Lc(t)}function Qi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function w1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var pl=Math.random().toString(36).slice(2),zs="__reactFiber$"+pl,Fc="__reactProps$"+pl,pi="__reactContainer$"+pl,im="__reactEvents$"+pl,r3="__reactListeners$"+pl,n3="__reactHandles$"+pl;function Ia(e){var t=e[zs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pi]||r[zs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=w1(e);e!==null;){if(r=e[zs])return r;e=w1(e)}return t}e=r,r=e.parentNode}return null}function eu(e){return e=e[zs]||e[pi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ie(33))}function Eh(e){return e[Fc]||null}var am=[],Bo=-1;function ca(e){return{current:e}}function er(e){0>Bo||(e.current=am[Bo],am[Bo]=null,Bo--)}function Kt(e,t){Bo++,am[Bo]=e.current,e.current=t}var ia={},ln=ca(ia),Sn=ca(!1),Ua=ia;function sl(e,t){var r=e.type.contextTypes;if(!r)return ia;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function jn(e){return e=e.childContextTypes,e!=null}function eh(){er(Sn),er(ln)}function x1(e,t,r){if(ln.current!==ia)throw Error(Ie(168));Kt(ln,t),Kt(Sn,r)}function Ey(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Ie(108,qw(e)||"Unknown",s));return or({},r,n)}function th(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ia,Ua=ln.current,Kt(ln,e),Kt(Sn,Sn.current),!0}function N1(e,t,r){var n=e.stateNode;if(!n)throw Error(Ie(169));r?(e=Ey(e,t,Ua),n.__reactInternalMemoizedMergedChildContext=e,er(Sn),er(ln),Kt(ln,e)):er(Sn),Kt(Sn,r)}var li=null,Ph=!1,Zf=!1;function Py(e){li===null?li=[e]:li.push(e)}function s3(e){Ph=!0,Py(e)}function ua(){if(!Zf&&li!==null){Zf=!0;var e=0,t=qt;try{var r=li;for(qt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}li=null,Ph=!1}catch(s){throw li!==null&&(li=li.slice(e+1)),ty(pg,ua),s}finally{qt=t,Zf=!1}}return null}var Uo=[],qo=0,rh=null,nh=0,rs=[],ns=0,qa=null,ci=1,ui="";function ja(e,t){Uo[qo++]=nh,Uo[qo++]=rh,rh=e,nh=t}function Ly(e,t,r){rs[ns++]=ci,rs[ns++]=ui,rs[ns++]=qa,qa=e;var n=ci;e=ui;var s=32-As(n)-1;n&=~(1<<s),r+=1;var i=32-As(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,ci=1<<32-As(t)+s|r<<s|n,ui=i+e}else ci=1<<i|r<<s|n,ui=e}function Ng(e){e.return!==null&&(ja(e,1),Ly(e,1,0))}function Sg(e){for(;e===rh;)rh=Uo[--qo],Uo[qo]=null,nh=Uo[--qo],Uo[qo]=null;for(;e===qa;)qa=rs[--ns],rs[ns]=null,ui=rs[--ns],rs[ns]=null,ci=rs[--ns],rs[ns]=null}var Un=null,Mn=null,rr=!1,ks=null;function Ty(e,t){var r=ss(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function S1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Un=e,Mn=Qi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Un=e,Mn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=qa!==null?{id:ci,overflow:ui}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ss(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Un=e,Mn=null,!0):!1;default:return!1}}function om(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lm(e){if(rr){var t=Mn;if(t){var r=t;if(!S1(e,t)){if(om(e))throw Error(Ie(418));t=Qi(r.nextSibling);var n=Un;t&&S1(e,t)?Ty(n,r):(e.flags=e.flags&-4097|2,rr=!1,Un=e)}}else{if(om(e))throw Error(Ie(418));e.flags=e.flags&-4097|2,rr=!1,Un=e}}}function j1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Un=e}function sd(e){if(e!==Un)return!1;if(!rr)return j1(e),rr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nm(e.type,e.memoizedProps)),t&&(t=Mn)){if(om(e))throw Iy(),Error(Ie(418));for(;t;)Ty(e,t),t=Qi(t.nextSibling)}if(j1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mn=Qi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mn=null}}else Mn=Un?Qi(e.stateNode.nextSibling):null;return!0}function Iy(){for(var e=Mn;e;)e=Qi(e.nextSibling)}function il(){Mn=Un=null,rr=!1}function jg(e){ks===null?ks=[e]:ks.push(e)}var i3=vi.ReactCurrentBatchConfig;function nc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ie(309));var n=r.stateNode}if(!n)throw Error(Ie(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ie(284));if(!r._owner)throw Error(Ie(290,e))}return e}function id(e,t){throw e=Object.prototype.toString.call(t),Error(Ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function k1(e){var t=e._init;return t(e._payload)}function Oy(e){function t(_,w){if(e){var S=_.deletions;S===null?(_.deletions=[w],_.flags|=16):S.push(w)}}function r(_,w){if(!e)return null;for(;w!==null;)t(_,w),w=w.sibling;return null}function n(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function s(_,w){return _=ta(_,w),_.index=0,_.sibling=null,_}function i(_,w,S){return _.index=S,e?(S=_.alternate,S!==null?(S=S.index,S<w?(_.flags|=2,w):S):(_.flags|=2,w)):(_.flags|=1048576,w)}function a(_){return e&&_.alternate===null&&(_.flags|=2),_}function l(_,w,S,D){return w===null||w.tag!==6?(w=ap(S,_.mode,D),w.return=_,w):(w=s(w,S),w.return=_,w)}function o(_,w,S,D){var B=S.type;return B===Oo?f(_,w,S.props.children,D,S.key):w!==null&&(w.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Mi&&k1(B)===w.type)?(D=s(w,S.props),D.ref=nc(_,w,S),D.return=_,D):(D=Bd(S.type,S.key,S.props,null,_.mode,D),D.ref=nc(_,w,S),D.return=_,D)}function d(_,w,S,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=op(S,_.mode,D),w.return=_,w):(w=s(w,S.children||[]),w.return=_,w)}function f(_,w,S,D,B){return w===null||w.tag!==7?(w=Ma(S,_.mode,D,B),w.return=_,w):(w=s(w,S),w.return=_,w)}function m(_,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ap(""+w,_.mode,S),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yu:return S=Bd(w.type,w.key,w.props,null,_.mode,S),S.ref=nc(_,null,w),S.return=_,S;case Io:return w=op(w,_.mode,S),w.return=_,w;case Mi:var D=w._init;return m(_,D(w._payload),S)}if(cc(w)||Xl(w))return w=Ma(w,_.mode,S,null),w.return=_,w;id(_,w)}return null}function g(_,w,S,D){var B=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return B!==null?null:l(_,w,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yu:return S.key===B?o(_,w,S,D):null;case Io:return S.key===B?d(_,w,S,D):null;case Mi:return B=S._init,g(_,w,B(S._payload),D)}if(cc(S)||Xl(S))return B!==null?null:f(_,w,S,D,null);id(_,S)}return null}function p(_,w,S,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return _=_.get(S)||null,l(w,_,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Yu:return _=_.get(D.key===null?S:D.key)||null,o(w,_,D,B);case Io:return _=_.get(D.key===null?S:D.key)||null,d(w,_,D,B);case Mi:var ee=D._init;return p(_,w,S,ee(D._payload),B)}if(cc(D)||Xl(D))return _=_.get(S)||null,f(w,_,D,B,null);id(w,D)}return null}function b(_,w,S,D){for(var B=null,ee=null,R=w,I=w=0,U=null;R!==null&&I<S.length;I++){R.index>I?(U=R,R=null):U=R.sibling;var q=g(_,R,S[I],D);if(q===null){R===null&&(R=U);break}e&&R&&q.alternate===null&&t(_,R),w=i(q,w,I),ee===null?B=q:ee.sibling=q,ee=q,R=U}if(I===S.length)return r(_,R),rr&&ja(_,I),B;if(R===null){for(;I<S.length;I++)R=m(_,S[I],D),R!==null&&(w=i(R,w,I),ee===null?B=R:ee.sibling=R,ee=R);return rr&&ja(_,I),B}for(R=n(_,R);I<S.length;I++)U=p(R,_,I,S[I],D),U!==null&&(e&&U.alternate!==null&&R.delete(U.key===null?I:U.key),w=i(U,w,I),ee===null?B=U:ee.sibling=U,ee=U);return e&&R.forEach(function(E){return t(_,E)}),rr&&ja(_,I),B}function N(_,w,S,D){var B=Xl(S);if(typeof B!="function")throw Error(Ie(150));if(S=B.call(S),S==null)throw Error(Ie(151));for(var ee=B=null,R=w,I=w=0,U=null,q=S.next();R!==null&&!q.done;I++,q=S.next()){R.index>I?(U=R,R=null):U=R.sibling;var E=g(_,R,q.value,D);if(E===null){R===null&&(R=U);break}e&&R&&E.alternate===null&&t(_,R),w=i(E,w,I),ee===null?B=E:ee.sibling=E,ee=E,R=U}if(q.done)return r(_,R),rr&&ja(_,I),B;if(R===null){for(;!q.done;I++,q=S.next())q=m(_,q.value,D),q!==null&&(w=i(q,w,I),ee===null?B=q:ee.sibling=q,ee=q);return rr&&ja(_,I),B}for(R=n(_,R);!q.done;I++,q=S.next())q=p(R,_,I,q.value,D),q!==null&&(e&&q.alternate!==null&&R.delete(q.key===null?I:q.key),w=i(q,w,I),ee===null?B=q:ee.sibling=q,ee=q);return e&&R.forEach(function(O){return t(_,O)}),rr&&ja(_,I),B}function j(_,w,S,D){if(typeof S=="object"&&S!==null&&S.type===Oo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Yu:e:{for(var B=S.key,ee=w;ee!==null;){if(ee.key===B){if(B=S.type,B===Oo){if(ee.tag===7){r(_,ee.sibling),w=s(ee,S.props.children),w.return=_,_=w;break e}}else if(ee.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Mi&&k1(B)===ee.type){r(_,ee.sibling),w=s(ee,S.props),w.ref=nc(_,ee,S),w.return=_,_=w;break e}r(_,ee);break}else t(_,ee);ee=ee.sibling}S.type===Oo?(w=Ma(S.props.children,_.mode,D,S.key),w.return=_,_=w):(D=Bd(S.type,S.key,S.props,null,_.mode,D),D.ref=nc(_,w,S),D.return=_,_=D)}return a(_);case Io:e:{for(ee=S.key;w!==null;){if(w.key===ee)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){r(_,w.sibling),w=s(w,S.children||[]),w.return=_,_=w;break e}else{r(_,w);break}else t(_,w);w=w.sibling}w=op(S,_.mode,D),w.return=_,_=w}return a(_);case Mi:return ee=S._init,j(_,w,ee(S._payload),D)}if(cc(S))return b(_,w,S,D);if(Xl(S))return N(_,w,S,D);id(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(r(_,w.sibling),w=s(w,S),w.return=_,_=w):(r(_,w),w=ap(S,_.mode,D),w.return=_,_=w),a(_)):r(_,w)}return j}var al=Oy(!0),Ry=Oy(!1),sh=ca(null),ih=null,zo=null,kg=null;function Ag(){kg=zo=ih=null}function Cg(e){var t=sh.current;er(sh),e._currentValue=t}function cm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Jo(e,t){ih=e,kg=zo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nn=!0),e.firstContext=null)}function as(e){var t=e._currentValue;if(kg!==e)if(e={context:e,memoizedValue:t,next:null},zo===null){if(ih===null)throw Error(Ie(308));zo=e,ih.dependencies={lanes:0,firstContext:e}}else zo=zo.next=e;return t}var Oa=null;function Eg(e){Oa===null?Oa=[e]:Oa.push(e)}function Fy(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Eg(t)):(r.next=s.next,s.next=r),t.interleaved=r,mi(e,n)}function mi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bi=!1;function Pg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Rt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,mi(e,r)}return s=n.interleaved,s===null?(t.next=t,Eg(n)):(t.next=s.next,s.next=t),n.interleaved=t,mi(e,r)}function Id(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,mg(e,r)}}function A1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ah(e,t,r,n){var s=e.updateQueue;Bi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var o=l,d=o.next;o.next=null,a===null?i=d:a.next=d,a=o;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=o))}if(i!==null){var m=s.baseState;a=0,f=d=o=null,l=i;do{var g=l.lane,p=l.eventTime;if((n&g)===g){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,N=l;switch(g=t,p=r,N.tag){case 1:if(b=N.payload,typeof b=="function"){m=b.call(p,m,g);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=N.payload,g=typeof b=="function"?b.call(p,m,g):b,g==null)break e;m=or({},m,g);break e;case 2:Bi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else p={eventTime:p,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=p,o=m):f=f.next=p,a|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(f===null&&(o=m),s.baseState=o,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);$a|=a,e.lanes=a,e.memoizedState=m}}function C1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Ie(191,s));s.call(n)}}}var tu={},Hs=ca(tu),Dc=ca(tu),Mc=ca(tu);function Ra(e){if(e===tu)throw Error(Ie(174));return e}function Lg(e,t){switch(Kt(Mc,t),Kt(Dc,e),Kt(Hs,tu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$p(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$p(t,e)}er(Hs),Kt(Hs,t)}function ol(){er(Hs),er(Dc),er(Mc)}function My(e){Ra(Mc.current);var t=Ra(Hs.current),r=$p(t,e.type);t!==r&&(Kt(Dc,e),Kt(Hs,r))}function Tg(e){Dc.current===e&&(er(Hs),er(Dc))}var ir=ca(0);function oh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ep=[];function Ig(){for(var e=0;e<ep.length;e++)ep[e]._workInProgressVersionPrimary=null;ep.length=0}var Od=vi.ReactCurrentDispatcher,tp=vi.ReactCurrentBatchConfig,za=0,ar=null,Tr=null,Mr=null,lh=!1,bc=!1,Bc=0,a3=0;function Zr(){throw Error(Ie(321))}function Og(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Es(e[r],t[r]))return!1;return!0}function Rg(e,t,r,n,s,i){if(za=i,ar=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Od.current=e===null||e.memoizedState===null?u3:d3,e=r(n,s),bc){i=0;do{if(bc=!1,Bc=0,25<=i)throw Error(Ie(301));i+=1,Mr=Tr=null,t.updateQueue=null,Od.current=h3,e=r(n,s)}while(bc)}if(Od.current=ch,t=Tr!==null&&Tr.next!==null,za=0,Mr=Tr=ar=null,lh=!1,t)throw Error(Ie(300));return e}function Fg(){var e=Bc!==0;return Bc=0,e}function qs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?ar.memoizedState=Mr=e:Mr=Mr.next=e,Mr}function os(){if(Tr===null){var e=ar.alternate;e=e!==null?e.memoizedState:null}else e=Tr.next;var t=Mr===null?ar.memoizedState:Mr.next;if(t!==null)Mr=t,Tr=e;else{if(e===null)throw Error(Ie(310));Tr=e,e={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},Mr===null?ar.memoizedState=Mr=e:Mr=Mr.next=e}return Mr}function Uc(e,t){return typeof t=="function"?t(e):t}function rp(e){var t=os(),r=t.queue;if(r===null)throw Error(Ie(311));r.lastRenderedReducer=e;var n=Tr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,o=null,d=i;do{var f=d.lane;if((za&f)===f)o!==null&&(o=o.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};o===null?(l=o=m,a=n):o=o.next=m,ar.lanes|=f,$a|=f}d=d.next}while(d!==null&&d!==i);o===null?a=n:o.next=l,Es(n,t.memoizedState)||(Nn=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=o,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ar.lanes|=i,$a|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function np(e){var t=os(),r=t.queue;if(r===null)throw Error(Ie(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Es(i,t.memoizedState)||(Nn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function By(){}function Uy(e,t){var r=ar,n=os(),s=t(),i=!Es(n.memoizedState,s);if(i&&(n.memoizedState=s,Nn=!0),n=n.queue,Dg($y.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Mr!==null&&Mr.memoizedState.tag&1){if(r.flags|=2048,qc(9,zy.bind(null,r,n,s,t),void 0,null),Ur===null)throw Error(Ie(349));za&30||qy(r,t,s)}return s}function qy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ar.updateQueue,t===null?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zy(e,t,r,n){t.value=r,t.getSnapshot=n,Vy(t)&&Hy(e)}function $y(e,t,r){return r(function(){Vy(t)&&Hy(e)})}function Vy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Es(e,r)}catch{return!0}}function Hy(e){var t=mi(e,1);t!==null&&Cs(t,e,1,-1)}function E1(e){var t=qs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:e},t.queue=e,e=e.dispatch=c3.bind(null,ar,e),[t.memoizedState,e]}function qc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ar.updateQueue,t===null?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Wy(){return os().memoizedState}function Rd(e,t,r,n){var s=qs();ar.flags|=e,s.memoizedState=qc(1|t,r,void 0,n===void 0?null:n)}function Lh(e,t,r,n){var s=os();n=n===void 0?null:n;var i=void 0;if(Tr!==null){var a=Tr.memoizedState;if(i=a.destroy,n!==null&&Og(n,a.deps)){s.memoizedState=qc(t,r,i,n);return}}ar.flags|=e,s.memoizedState=qc(1|t,r,i,n)}function P1(e,t){return Rd(8390656,8,e,t)}function Dg(e,t){return Lh(2048,8,e,t)}function Gy(e,t){return Lh(4,2,e,t)}function Yy(e,t){return Lh(4,4,e,t)}function Ky(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jy(e,t,r){return r=r!=null?r.concat([e]):null,Lh(4,4,Ky.bind(null,t,e),r)}function Mg(){}function Qy(e,t){var r=os();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Og(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Xy(e,t){var r=os();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Og(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Zy(e,t,r){return za&21?(Es(r,t)||(r=sy(),ar.lanes|=r,$a|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nn=!0),e.memoizedState=r)}function o3(e,t){var r=qt;qt=r!==0&&4>r?r:4,e(!0);var n=tp.transition;tp.transition={};try{e(!1),t()}finally{qt=r,tp.transition=n}}function e5(){return os().memoizedState}function l3(e,t,r){var n=ea(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},t5(e))r5(t,r);else if(r=Fy(e,t,r,n),r!==null){var s=pn();Cs(r,e,n,s),n5(r,t,n)}}function c3(e,t,r){var n=ea(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(t5(e))r5(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Es(l,a)){var o=t.interleaved;o===null?(s.next=s,Eg(t)):(s.next=o.next,o.next=s),t.interleaved=s;return}}catch{}finally{}r=Fy(e,t,s,n),r!==null&&(s=pn(),Cs(r,e,n,s),n5(r,t,n))}}function t5(e){var t=e.alternate;return e===ar||t!==null&&t===ar}function r5(e,t){bc=lh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function n5(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,mg(e,r)}}var ch={readContext:as,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useInsertionEffect:Zr,useLayoutEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useMutableSource:Zr,useSyncExternalStore:Zr,useId:Zr,unstable_isNewReconciler:!1},u3={readContext:as,useCallback:function(e,t){return qs().memoizedState=[e,t===void 0?null:t],e},useContext:as,useEffect:P1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Rd(4194308,4,Ky.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Rd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rd(4,2,e,t)},useMemo:function(e,t){var r=qs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=qs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=l3.bind(null,ar,e),[n.memoizedState,e]},useRef:function(e){var t=qs();return e={current:e},t.memoizedState=e},useState:E1,useDebugValue:Mg,useDeferredValue:function(e){return qs().memoizedState=e},useTransition:function(){var e=E1(!1),t=e[0];return e=o3.bind(null,e[1]),qs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ar,s=qs();if(rr){if(r===void 0)throw Error(Ie(407));r=r()}else{if(r=t(),Ur===null)throw Error(Ie(349));za&30||qy(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,P1($y.bind(null,n,i,e),[e]),n.flags|=2048,qc(9,zy.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=qs(),t=Ur.identifierPrefix;if(rr){var r=ui,n=ci;r=(n&~(1<<32-As(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Bc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=a3++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},d3={readContext:as,useCallback:Qy,useContext:as,useEffect:Dg,useImperativeHandle:Jy,useInsertionEffect:Gy,useLayoutEffect:Yy,useMemo:Xy,useReducer:rp,useRef:Wy,useState:function(){return rp(Uc)},useDebugValue:Mg,useDeferredValue:function(e){var t=os();return Zy(t,Tr.memoizedState,e)},useTransition:function(){var e=rp(Uc)[0],t=os().memoizedState;return[e,t]},useMutableSource:By,useSyncExternalStore:Uy,useId:e5,unstable_isNewReconciler:!1},h3={readContext:as,useCallback:Qy,useContext:as,useEffect:Dg,useImperativeHandle:Jy,useInsertionEffect:Gy,useLayoutEffect:Yy,useMemo:Xy,useReducer:np,useRef:Wy,useState:function(){return np(Uc)},useDebugValue:Mg,useDeferredValue:function(e){var t=os();return Tr===null?t.memoizedState=e:Zy(t,Tr.memoizedState,e)},useTransition:function(){var e=np(Uc)[0],t=os().memoizedState;return[e,t]},useMutableSource:By,useSyncExternalStore:Uy,useId:e5,unstable_isNewReconciler:!1};function xs(e,t){if(e&&e.defaultProps){t=or({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function um(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:or({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Th={isMounted:function(e){return(e=e._reactInternals)?Ga(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=pn(),s=ea(e),i=hi(n,s);i.payload=t,r!=null&&(i.callback=r),t=Xi(e,i,s),t!==null&&(Cs(t,e,s,n),Id(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=pn(),s=ea(e),i=hi(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Xi(e,i,s),t!==null&&(Cs(t,e,s,n),Id(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=pn(),n=ea(e),s=hi(r,n);s.tag=2,t!=null&&(s.callback=t),t=Xi(e,s,n),t!==null&&(Cs(t,e,n,r),Id(t,e,n))}};function L1(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ic(r,n)||!Ic(s,i):!0}function s5(e,t,r){var n=!1,s=ia,i=t.contextType;return typeof i=="object"&&i!==null?i=as(i):(s=jn(t)?Ua:ln.current,n=t.contextTypes,i=(n=n!=null)?sl(e,s):ia),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Th,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function T1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Th.enqueueReplaceState(t,t.state,null)}function dm(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Pg(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=as(i):(i=jn(t)?Ua:ln.current,s.context=sl(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(um(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Th.enqueueReplaceState(s,s.state,null),ah(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ll(e,t){try{var r="",n=t;do r+=Uw(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function sp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function hm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var f3=typeof WeakMap=="function"?WeakMap:Map;function i5(e,t,r){r=hi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){dh||(dh=!0,xm=n),hm(e,t)},r}function a5(e,t,r){r=hi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){hm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){hm(e,t),typeof n!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function I1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new f3;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=A3.bind(null,e,t,r),t.then(e,e))}function O1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function R1(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=hi(-1,1),t.tag=2,Xi(r,t,1))),r.lanes|=1),e)}var p3=vi.ReactCurrentOwner,Nn=!1;function hn(e,t,r,n){t.child=e===null?Ry(t,null,r,n):al(t,e.child,r,n)}function F1(e,t,r,n,s){r=r.render;var i=t.ref;return Jo(t,s),n=Rg(e,t,r,n,i,s),r=Fg(),e!==null&&!Nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gi(e,t,s)):(rr&&r&&Ng(t),t.flags|=1,hn(e,t,n,s),t.child)}function D1(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Wg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,o5(e,t,i,n,s)):(e=Bd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ic,r(a,n)&&e.ref===t.ref)return gi(e,t,s)}return t.flags|=1,e=ta(i,n),e.ref=t.ref,e.return=t,t.child=e}function o5(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ic(i,n)&&e.ref===t.ref)if(Nn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Nn=!0);else return t.lanes=e.lanes,gi(e,t,s)}return fm(e,t,r,n,s)}function l5(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(Vo,Rn),Rn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Kt(Vo,Rn),Rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Kt(Vo,Rn),Rn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Kt(Vo,Rn),Rn|=n;return hn(e,t,s,r),t.child}function c5(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function fm(e,t,r,n,s){var i=jn(r)?Ua:ln.current;return i=sl(t,i),Jo(t,s),r=Rg(e,t,r,n,i,s),n=Fg(),e!==null&&!Nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gi(e,t,s)):(rr&&n&&Ng(t),t.flags|=1,hn(e,t,r,s),t.child)}function M1(e,t,r,n,s){if(jn(r)){var i=!0;th(t)}else i=!1;if(Jo(t,s),t.stateNode===null)Fd(e,t),s5(t,r,n),dm(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var o=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=as(d):(d=jn(r)?Ua:ln.current,d=sl(t,d));var f=r.getDerivedStateFromProps,m=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||o!==d)&&T1(t,a,n,d),Bi=!1;var g=t.memoizedState;a.state=g,ah(t,n,a,s),o=t.memoizedState,l!==n||g!==o||Sn.current||Bi?(typeof f=="function"&&(um(t,r,f,n),o=t.memoizedState),(l=Bi||L1(t,r,l,n,g,o,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),a.props=n,a.state=o,a.context=d,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Dy(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:xs(t.type,l),a.props=d,m=t.pendingProps,g=a.context,o=r.contextType,typeof o=="object"&&o!==null?o=as(o):(o=jn(r)?Ua:ln.current,o=sl(t,o));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||g!==o)&&T1(t,a,n,o),Bi=!1,g=t.memoizedState,a.state=g,ah(t,n,a,s);var b=t.memoizedState;l!==m||g!==b||Sn.current||Bi?(typeof p=="function"&&(um(t,r,p,n),b=t.memoizedState),(d=Bi||L1(t,r,d,n,g,b,o)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,b,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,b,o)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),a.props=n,a.state=b,a.context=o,n=d):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return pm(e,t,r,n,i,s)}function pm(e,t,r,n,s,i){c5(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&N1(t,r,!1),gi(e,t,i);n=t.stateNode,p3.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=al(t,e.child,null,i),t.child=al(t,null,l,i)):hn(e,t,l,i),t.memoizedState=n.state,s&&N1(t,r,!0),t.child}function u5(e){var t=e.stateNode;t.pendingContext?x1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&x1(e,t.context,!1),Lg(e,t.containerInfo)}function B1(e,t,r,n,s){return il(),jg(s),t.flags|=256,hn(e,t,r,n),t.child}var mm={dehydrated:null,treeContext:null,retryLane:0};function gm(e){return{baseLanes:e,cachePool:null,transitions:null}}function d5(e,t,r){var n=t.pendingProps,s=ir.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Kt(ir,s&1),e===null)return lm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Rh(a,n,0,null),e=Ma(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=gm(r),t.memoizedState=mm,e):Bg(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return m3(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var o={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=o,t.deletions=null):(n=ta(s,o),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ta(l,i):(i=Ma(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?gm(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=mm,n}return i=e.child,e=i.sibling,n=ta(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Bg(e,t){return t=Rh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ad(e,t,r,n){return n!==null&&jg(n),al(t,e.child,null,r),e=Bg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m3(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=sp(Error(Ie(422))),ad(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Rh({mode:"visible",children:n.children},s,0,null),i=Ma(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&al(t,e.child,null,a),t.child.memoizedState=gm(a),t.memoizedState=mm,i);if(!(t.mode&1))return ad(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Ie(419)),n=sp(i,n,void 0),ad(e,t,a,n)}if(l=(a&e.childLanes)!==0,Nn||l){if(n=Ur,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mi(e,s),Cs(n,e,s,-1))}return Hg(),n=sp(Error(Ie(421))),ad(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=C3.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Mn=Qi(s.nextSibling),Un=t,rr=!0,ks=null,e!==null&&(rs[ns++]=ci,rs[ns++]=ui,rs[ns++]=qa,ci=e.id,ui=e.overflow,qa=t),t=Bg(t,n.children),t.flags|=4096,t)}function U1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),cm(e.return,t,r)}function ip(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function h5(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(hn(e,t,n.children,r),n=ir.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&U1(e,r,t);else if(e.tag===19)U1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Kt(ir,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&oh(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ip(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&oh(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ip(t,!0,r,null,i);break;case"together":ip(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$a|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ie(153));if(t.child!==null){for(e=t.child,r=ta(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ta(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function g3(e,t,r){switch(t.tag){case 3:u5(t),il();break;case 5:My(t);break;case 1:jn(t.type)&&th(t);break;case 4:Lg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Kt(sh,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Kt(ir,ir.current&1),t.flags|=128,null):r&t.child.childLanes?d5(e,t,r):(Kt(ir,ir.current&1),e=gi(e,t,r),e!==null?e.sibling:null);Kt(ir,ir.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return h5(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Kt(ir,ir.current),n)break;return null;case 22:case 23:return t.lanes=0,l5(e,t,r)}return gi(e,t,r)}var f5,vm,p5,m5;f5=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vm=function(){};p5=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ra(Hs.current);var i=null;switch(r){case"input":s=Bp(e,s),n=Bp(e,n),i=[];break;case"select":s=or({},s,{value:void 0}),n=or({},n,{value:void 0}),i=[];break;case"textarea":s=zp(e,s),n=zp(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Zd)}Vp(r,n);var a;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(kc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var o=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&o!==l&&(o!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in o)o.hasOwnProperty(a)&&l[a]!==o[a]&&(r||(r={}),r[a]=o[a])}else r||(i||(i=[]),i.push(d,r)),r=o;else d==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,l=l?l.__html:void 0,o!=null&&l!==o&&(i=i||[]).push(d,o)):d==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(d,""+o):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(kc.hasOwnProperty(d)?(o!=null&&d==="onScroll"&&Xt("scroll",e),i||l===o||(i=[])):(i=i||[]).push(d,o))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};m5=function(e,t,r,n){r!==n&&(t.flags|=4)};function sc(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function en(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function v3(e,t,r){var n=t.pendingProps;switch(Sg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(t),null;case 1:return jn(t.type)&&eh(),en(t),null;case 3:return n=t.stateNode,ol(),er(Sn),er(ln),Ig(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ks!==null&&(jm(ks),ks=null))),vm(e,t),en(t),null;case 5:Tg(t);var s=Ra(Mc.current);if(r=t.type,e!==null&&t.stateNode!=null)p5(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ie(166));return en(t),null}if(e=Ra(Hs.current),sd(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[zs]=t,n[Fc]=i,e=(t.mode&1)!==0,r){case"dialog":Xt("cancel",n),Xt("close",n);break;case"iframe":case"object":case"embed":Xt("load",n);break;case"video":case"audio":for(s=0;s<dc.length;s++)Xt(dc[s],n);break;case"source":Xt("error",n);break;case"img":case"image":case"link":Xt("error",n),Xt("load",n);break;case"details":Xt("toggle",n);break;case"input":K0(n,i),Xt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Xt("invalid",n);break;case"textarea":Q0(n,i),Xt("invalid",n)}Vp(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&nd(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&nd(n.textContent,l,e),s=["children",""+l]):kc.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Xt("scroll",n)}switch(r){case"input":Ku(n),J0(n,i,!0);break;case"textarea":Ku(n),X0(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Zd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[zs]=t,e[Fc]=n,f5(e,t,!1,!1),t.stateNode=e;e:{switch(a=Hp(r,n),r){case"dialog":Xt("cancel",e),Xt("close",e),s=n;break;case"iframe":case"object":case"embed":Xt("load",e),s=n;break;case"video":case"audio":for(s=0;s<dc.length;s++)Xt(dc[s],e);s=n;break;case"source":Xt("error",e),s=n;break;case"img":case"image":case"link":Xt("error",e),Xt("load",e),s=n;break;case"details":Xt("toggle",e),s=n;break;case"input":K0(e,n),s=Bp(e,n),Xt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=or({},n,{value:void 0}),Xt("invalid",e);break;case"textarea":Q0(e,n),s=zp(e,n),Xt("invalid",e);break;default:s=n}Vp(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="style"?W2(e,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&V2(e,o)):i==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&Ac(e,o):typeof o=="number"&&Ac(e,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kc.hasOwnProperty(i)?o!=null&&i==="onScroll"&&Xt("scroll",e):o!=null&&cg(e,i,o,a))}switch(r){case"input":Ku(e),J0(e,n,!1);break;case"textarea":Ku(e),X0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+sa(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Wo(e,!!n.multiple,i,!1):n.defaultValue!=null&&Wo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Zd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return en(t),null;case 6:if(e&&t.stateNode!=null)m5(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ie(166));if(r=Ra(Mc.current),Ra(Hs.current),sd(t)){if(n=t.stateNode,r=t.memoizedProps,n[zs]=t,(i=n.nodeValue!==r)&&(e=Un,e!==null))switch(e.tag){case 3:nd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nd(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zs]=t,t.stateNode=n}return en(t),null;case 13:if(er(ir),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rr&&Mn!==null&&t.mode&1&&!(t.flags&128))Iy(),il(),t.flags|=98560,i=!1;else if(i=sd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Ie(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ie(317));i[zs]=t}else il(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;en(t),i=!1}else ks!==null&&(jm(ks),ks=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ir.current&1?Ir===0&&(Ir=3):Hg())),t.updateQueue!==null&&(t.flags|=4),en(t),null);case 4:return ol(),vm(e,t),e===null&&Oc(t.stateNode.containerInfo),en(t),null;case 10:return Cg(t.type._context),en(t),null;case 17:return jn(t.type)&&eh(),en(t),null;case 19:if(er(ir),i=t.memoizedState,i===null)return en(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)sc(i,!1);else{if(Ir!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=oh(e),a!==null){for(t.flags|=128,sc(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Kt(ir,ir.current&1|2),t.child}e=e.sibling}i.tail!==null&&gr()>cl&&(t.flags|=128,n=!0,sc(i,!1),t.lanes=4194304)}else{if(!n)if(e=oh(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),sc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!rr)return en(t),null}else 2*gr()-i.renderingStartTime>cl&&r!==1073741824&&(t.flags|=128,n=!0,sc(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=gr(),t.sibling=null,r=ir.current,Kt(ir,n?r&1|2:r&1),t):(en(t),null);case 22:case 23:return Vg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Rn&1073741824&&(en(t),t.subtreeFlags&6&&(t.flags|=8192)):en(t),null;case 24:return null;case 25:return null}throw Error(Ie(156,t.tag))}function y3(e,t){switch(Sg(t),t.tag){case 1:return jn(t.type)&&eh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ol(),er(Sn),er(ln),Ig(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tg(t),null;case 13:if(er(ir),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ie(340));il()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return er(ir),null;case 4:return ol(),null;case 10:return Cg(t.type._context),null;case 22:case 23:return Vg(),null;case 24:return null;default:return null}}var od=!1,an=!1,b3=typeof WeakSet=="function"?WeakSet:Set,Je=null;function $o(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){hr(e,t,n)}else r.current=null}function ym(e,t,r){try{r()}catch(n){hr(e,t,n)}}var q1=!1;function _3(e,t){if(tm=Jd,e=_y(),xg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,o=-1,d=0,f=0,m=e,g=null;t:for(;;){for(var p;m!==r||s!==0&&m.nodeType!==3||(l=a+s),m!==i||n!==0&&m.nodeType!==3||(o=a+n),m.nodeType===3&&(a+=m.nodeValue.length),(p=m.firstChild)!==null;)g=m,m=p;for(;;){if(m===e)break t;if(g===r&&++d===s&&(l=a),g===i&&++f===n&&(o=a),(p=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=p}r=l===-1||o===-1?null:{start:l,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(rm={focusedElem:e,selectionRange:r},Jd=!1,Je=t;Je!==null;)if(t=Je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Je=e;else for(;Je!==null;){t=Je;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var N=b.memoizedProps,j=b.memoizedState,_=t.stateNode,w=_.getSnapshotBeforeUpdate(t.elementType===t.type?N:xs(t.type,N),j);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(D){hr(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,Je=e;break}Je=t.return}return b=q1,q1=!1,b}function _c(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ym(t,r,i)}s=s.next}while(s!==n)}}function Ih(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function bm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function g5(e){var t=e.alternate;t!==null&&(e.alternate=null,g5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zs],delete t[Fc],delete t[im],delete t[r3],delete t[n3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function v5(e){return e.tag===5||e.tag===3||e.tag===4}function z1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||v5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _m(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zd));else if(n!==4&&(e=e.child,e!==null))for(_m(e,t,r),e=e.sibling;e!==null;)_m(e,t,r),e=e.sibling}function wm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(wm(e,t,r),e=e.sibling;e!==null;)wm(e,t,r),e=e.sibling}var Wr=null,js=!1;function Oi(e,t,r){for(r=r.child;r!==null;)y5(e,t,r),r=r.sibling}function y5(e,t,r){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(jh,r)}catch{}switch(r.tag){case 5:an||$o(r,t);case 6:var n=Wr,s=js;Wr=null,Oi(e,t,r),Wr=n,js=s,Wr!==null&&(js?(e=Wr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Wr.removeChild(r.stateNode));break;case 18:Wr!==null&&(js?(e=Wr,r=r.stateNode,e.nodeType===8?Xf(e.parentNode,r):e.nodeType===1&&Xf(e,r),Lc(e)):Xf(Wr,r.stateNode));break;case 4:n=Wr,s=js,Wr=r.stateNode.containerInfo,js=!0,Oi(e,t,r),Wr=n,js=s;break;case 0:case 11:case 14:case 15:if(!an&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ym(r,t,a),s=s.next}while(s!==n)}Oi(e,t,r);break;case 1:if(!an&&($o(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){hr(r,t,l)}Oi(e,t,r);break;case 21:Oi(e,t,r);break;case 22:r.mode&1?(an=(n=an)||r.memoizedState!==null,Oi(e,t,r),an=n):Oi(e,t,r);break;default:Oi(e,t,r)}}function $1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new b3),t.forEach(function(n){var s=E3.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function gs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Wr=l.stateNode,js=!1;break e;case 3:Wr=l.stateNode.containerInfo,js=!0;break e;case 4:Wr=l.stateNode.containerInfo,js=!0;break e}l=l.return}if(Wr===null)throw Error(Ie(160));y5(i,a,s),Wr=null,js=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(d){hr(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)b5(t,e),t=t.sibling}function b5(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gs(t,e),Ms(e),n&4){try{_c(3,e,e.return),Ih(3,e)}catch(N){hr(e,e.return,N)}try{_c(5,e,e.return)}catch(N){hr(e,e.return,N)}}break;case 1:gs(t,e),Ms(e),n&512&&r!==null&&$o(r,r.return);break;case 5:if(gs(t,e),Ms(e),n&512&&r!==null&&$o(r,r.return),e.flags&32){var s=e.stateNode;try{Ac(s,"")}catch(N){hr(e,e.return,N)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&q2(s,i),Hp(l,a);var d=Hp(l,i);for(a=0;a<o.length;a+=2){var f=o[a],m=o[a+1];f==="style"?W2(s,m):f==="dangerouslySetInnerHTML"?V2(s,m):f==="children"?Ac(s,m):cg(s,f,m,d)}switch(l){case"input":Up(s,i);break;case"textarea":z2(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Wo(s,!!i.multiple,p,!1):g!==!!i.multiple&&(i.defaultValue!=null?Wo(s,!!i.multiple,i.defaultValue,!0):Wo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fc]=i}catch(N){hr(e,e.return,N)}}break;case 6:if(gs(t,e),Ms(e),n&4){if(e.stateNode===null)throw Error(Ie(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(N){hr(e,e.return,N)}}break;case 3:if(gs(t,e),Ms(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Lc(t.containerInfo)}catch(N){hr(e,e.return,N)}break;case 4:gs(t,e),Ms(e);break;case 13:gs(t,e),Ms(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(zg=gr())),n&4&&$1(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(an=(d=an)||f,gs(t,e),an=d):gs(t,e),Ms(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(Je=e,f=e.child;f!==null;){for(m=Je=f;Je!==null;){switch(g=Je,p=g.child,g.tag){case 0:case 11:case 14:case 15:_c(4,g,g.return);break;case 1:$o(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(N){hr(n,r,N)}}break;case 5:$o(g,g.return);break;case 22:if(g.memoizedState!==null){H1(m);continue}}p!==null?(p.return=g,Je=p):H1(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,o=m.memoizedProps.style,a=o!=null&&o.hasOwnProperty("display")?o.display:null,l.style.display=H2("display",a))}catch(N){hr(e,e.return,N)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(N){hr(e,e.return,N)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:gs(t,e),Ms(e),n&4&&$1(e);break;case 21:break;default:gs(t,e),Ms(e)}}function Ms(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(v5(r)){var n=r;break e}r=r.return}throw Error(Ie(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ac(s,""),n.flags&=-33);var i=z1(e);wm(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=z1(e);_m(e,l,a);break;default:throw Error(Ie(161))}}catch(o){hr(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function w3(e,t,r){Je=e,_5(e)}function _5(e,t,r){for(var n=(e.mode&1)!==0;Je!==null;){var s=Je,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||od;if(!a){var l=s.alternate,o=l!==null&&l.memoizedState!==null||an;l=od;var d=an;if(od=a,(an=o)&&!d)for(Je=s;Je!==null;)a=Je,o=a.child,a.tag===22&&a.memoizedState!==null?W1(s):o!==null?(o.return=a,Je=o):W1(s);for(;i!==null;)Je=i,_5(i),i=i.sibling;Je=s,od=l,an=d}V1(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Je=i):V1(e)}}function V1(e){for(;Je!==null;){var t=Je;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:an||Ih(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!an)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:xs(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&C1(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}C1(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Lc(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}an||t.flags&512&&bm(t)}catch(g){hr(t,t.return,g)}}if(t===e){Je=null;break}if(r=t.sibling,r!==null){r.return=t.return,Je=r;break}Je=t.return}}function H1(e){for(;Je!==null;){var t=Je;if(t===e){Je=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Je=r;break}Je=t.return}}function W1(e){for(;Je!==null;){var t=Je;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ih(4,t)}catch(o){hr(t,r,o)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(o){hr(t,s,o)}}var i=t.return;try{bm(t)}catch(o){hr(t,i,o)}break;case 5:var a=t.return;try{bm(t)}catch(o){hr(t,a,o)}}}catch(o){hr(t,t.return,o)}if(t===e){Je=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Je=l;break}Je=t.return}}var x3=Math.ceil,uh=vi.ReactCurrentDispatcher,Ug=vi.ReactCurrentOwner,is=vi.ReactCurrentBatchConfig,Rt=0,Ur=null,kr=null,Gr=0,Rn=0,Vo=ca(0),Ir=0,zc=null,$a=0,Oh=0,qg=0,wc=null,xn=null,zg=0,cl=1/0,ai=null,dh=!1,xm=null,Zi=null,ld=!1,Vi=null,hh=0,xc=0,Nm=null,Dd=-1,Md=0;function pn(){return Rt&6?gr():Dd!==-1?Dd:Dd=gr()}function ea(e){return e.mode&1?Rt&2&&Gr!==0?Gr&-Gr:i3.transition!==null?(Md===0&&(Md=sy()),Md):(e=qt,e!==0||(e=window.event,e=e===void 0?16:dy(e.type)),e):1}function Cs(e,t,r,n){if(50<xc)throw xc=0,Nm=null,Error(Ie(185));Xc(e,r,n),(!(Rt&2)||e!==Ur)&&(e===Ur&&(!(Rt&2)&&(Oh|=r),Ir===4&&qi(e,Gr)),kn(e,n),r===1&&Rt===0&&!(t.mode&1)&&(cl=gr()+500,Ph&&ua()))}function kn(e,t){var r=e.callbackNode;ix(e,t);var n=Kd(e,e===Ur?Gr:0);if(n===0)r!==null&&t1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&t1(r),t===1)e.tag===0?s3(G1.bind(null,e)):Py(G1.bind(null,e)),e3(function(){!(Rt&6)&&ua()}),r=null;else{switch(iy(n)){case 1:r=pg;break;case 4:r=ry;break;case 16:r=Yd;break;case 536870912:r=ny;break;default:r=Yd}r=C5(r,w5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function w5(e,t){if(Dd=-1,Md=0,Rt&6)throw Error(Ie(327));var r=e.callbackNode;if(Qo()&&e.callbackNode!==r)return null;var n=Kd(e,e===Ur?Gr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=fh(e,n);else{t=n;var s=Rt;Rt|=2;var i=N5();(Ur!==e||Gr!==t)&&(ai=null,cl=gr()+500,Da(e,t));do try{j3();break}catch(l){x5(e,l)}while(!0);Ag(),uh.current=i,Rt=s,kr!==null?t=0:(Ur=null,Gr=0,t=Ir)}if(t!==0){if(t===2&&(s=Jp(e),s!==0&&(n=s,t=Sm(e,s))),t===1)throw r=zc,Da(e,0),qi(e,n),kn(e,gr()),r;if(t===6)qi(e,n);else{if(s=e.current.alternate,!(n&30)&&!N3(s)&&(t=fh(e,n),t===2&&(i=Jp(e),i!==0&&(n=i,t=Sm(e,i))),t===1))throw r=zc,Da(e,0),qi(e,n),kn(e,gr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Ie(345));case 2:ka(e,xn,ai);break;case 3:if(qi(e,n),(n&130023424)===n&&(t=zg+500-gr(),10<t)){if(Kd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){pn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=sm(ka.bind(null,e,xn,ai),t);break}ka(e,xn,ai);break;case 4:if(qi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-As(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=gr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*x3(n/1960))-n,10<n){e.timeoutHandle=sm(ka.bind(null,e,xn,ai),n);break}ka(e,xn,ai);break;case 5:ka(e,xn,ai);break;default:throw Error(Ie(329))}}}return kn(e,gr()),e.callbackNode===r?w5.bind(null,e):null}function Sm(e,t){var r=wc;return e.current.memoizedState.isDehydrated&&(Da(e,t).flags|=256),e=fh(e,t),e!==2&&(t=xn,xn=r,t!==null&&jm(t)),e}function jm(e){xn===null?xn=e:xn.push.apply(xn,e)}function N3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Es(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qi(e,t){for(t&=~qg,t&=~Oh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-As(t),n=1<<r;e[r]=-1,t&=~n}}function G1(e){if(Rt&6)throw Error(Ie(327));Qo();var t=Kd(e,0);if(!(t&1))return kn(e,gr()),null;var r=fh(e,t);if(e.tag!==0&&r===2){var n=Jp(e);n!==0&&(t=n,r=Sm(e,n))}if(r===1)throw r=zc,Da(e,0),qi(e,t),kn(e,gr()),r;if(r===6)throw Error(Ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ka(e,xn,ai),kn(e,gr()),null}function $g(e,t){var r=Rt;Rt|=1;try{return e(t)}finally{Rt=r,Rt===0&&(cl=gr()+500,Ph&&ua())}}function Va(e){Vi!==null&&Vi.tag===0&&!(Rt&6)&&Qo();var t=Rt;Rt|=1;var r=is.transition,n=qt;try{if(is.transition=null,qt=1,e)return e()}finally{qt=n,is.transition=r,Rt=t,!(Rt&6)&&ua()}}function Vg(){Rn=Vo.current,er(Vo)}function Da(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Zx(r)),kr!==null)for(r=kr.return;r!==null;){var n=r;switch(Sg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&eh();break;case 3:ol(),er(Sn),er(ln),Ig();break;case 5:Tg(n);break;case 4:ol();break;case 13:er(ir);break;case 19:er(ir);break;case 10:Cg(n.type._context);break;case 22:case 23:Vg()}r=r.return}if(Ur=e,kr=e=ta(e.current,null),Gr=Rn=t,Ir=0,zc=null,qg=Oh=$a=0,xn=wc=null,Oa!==null){for(t=0;t<Oa.length;t++)if(r=Oa[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Oa=null}return e}function x5(e,t){do{var r=kr;try{if(Ag(),Od.current=ch,lh){for(var n=ar.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}lh=!1}if(za=0,Mr=Tr=ar=null,bc=!1,Bc=0,Ug.current=null,r===null||r.return===null){Ir=1,zc=t,kr=null;break}e:{var i=e,a=r.return,l=r,o=t;if(t=Gr,l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=o,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=O1(a);if(p!==null){p.flags&=-257,R1(p,a,l,i,t),p.mode&1&&I1(i,d,t),t=p,o=d;var b=t.updateQueue;if(b===null){var N=new Set;N.add(o),t.updateQueue=N}else b.add(o);break e}else{if(!(t&1)){I1(i,d,t),Hg();break e}o=Error(Ie(426))}}else if(rr&&l.mode&1){var j=O1(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),R1(j,a,l,i,t),jg(ll(o,l));break e}}i=o=ll(o,l),Ir!==4&&(Ir=2),wc===null?wc=[i]:wc.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var _=i5(i,o,t);A1(i,_);break e;case 1:l=o;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Zi===null||!Zi.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var D=a5(i,l,t);A1(i,D);break e}}i=i.return}while(i!==null)}j5(r)}catch(B){t=B,kr===r&&r!==null&&(kr=r=r.return);continue}break}while(!0)}function N5(){var e=uh.current;return uh.current=ch,e===null?ch:e}function Hg(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),Ur===null||!($a&268435455)&&!(Oh&268435455)||qi(Ur,Gr)}function fh(e,t){var r=Rt;Rt|=2;var n=N5();(Ur!==e||Gr!==t)&&(ai=null,Da(e,t));do try{S3();break}catch(s){x5(e,s)}while(!0);if(Ag(),Rt=r,uh.current=n,kr!==null)throw Error(Ie(261));return Ur=null,Gr=0,Ir}function S3(){for(;kr!==null;)S5(kr)}function j3(){for(;kr!==null&&!Jw();)S5(kr)}function S5(e){var t=A5(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?j5(e):kr=t,Ug.current=null}function j5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=y3(r,t),r!==null){r.flags&=32767,kr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ir=6,kr=null;return}}else if(r=v3(r,t,Rn),r!==null){kr=r;return}if(t=t.sibling,t!==null){kr=t;return}kr=t=e}while(t!==null);Ir===0&&(Ir=5)}function ka(e,t,r){var n=qt,s=is.transition;try{is.transition=null,qt=1,k3(e,t,r,n)}finally{is.transition=s,qt=n}return null}function k3(e,t,r,n){do Qo();while(Vi!==null);if(Rt&6)throw Error(Ie(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ie(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(ax(e,i),e===Ur&&(kr=Ur=null,Gr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ld||(ld=!0,C5(Yd,function(){return Qo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=is.transition,is.transition=null;var a=qt;qt=1;var l=Rt;Rt|=4,Ug.current=null,_3(e,r),b5(r,e),Wx(rm),Jd=!!tm,rm=tm=null,e.current=r,w3(r),Qw(),Rt=l,qt=a,is.transition=i}else e.current=r;if(ld&&(ld=!1,Vi=e,hh=s),i=e.pendingLanes,i===0&&(Zi=null),ex(r.stateNode),kn(e,gr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(dh)throw dh=!1,e=xm,xm=null,e;return hh&1&&e.tag!==0&&Qo(),i=e.pendingLanes,i&1?e===Nm?xc++:(xc=0,Nm=e):xc=0,ua(),null}function Qo(){if(Vi!==null){var e=iy(hh),t=is.transition,r=qt;try{if(is.transition=null,qt=16>e?16:e,Vi===null)var n=!1;else{if(e=Vi,Vi=null,hh=0,Rt&6)throw Error(Ie(331));var s=Rt;for(Rt|=4,Je=e.current;Je!==null;){var i=Je,a=i.child;if(Je.flags&16){var l=i.deletions;if(l!==null){for(var o=0;o<l.length;o++){var d=l[o];for(Je=d;Je!==null;){var f=Je;switch(f.tag){case 0:case 11:case 15:_c(8,f,i)}var m=f.child;if(m!==null)m.return=f,Je=m;else for(;Je!==null;){f=Je;var g=f.sibling,p=f.return;if(g5(f),f===d){Je=null;break}if(g!==null){g.return=p,Je=g;break}Je=p}}}var b=i.alternate;if(b!==null){var N=b.child;if(N!==null){b.child=null;do{var j=N.sibling;N.sibling=null,N=j}while(N!==null)}}Je=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Je=a;else e:for(;Je!==null;){if(i=Je,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_c(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,Je=_;break e}Je=i.return}}var w=e.current;for(Je=w;Je!==null;){a=Je;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,Je=S;else e:for(a=w;Je!==null;){if(l=Je,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ih(9,l)}}catch(B){hr(l,l.return,B)}if(l===a){Je=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,Je=D;break e}Je=l.return}}if(Rt=s,ua(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(jh,e)}catch{}n=!0}return n}finally{qt=r,is.transition=t}}return!1}function Y1(e,t,r){t=ll(r,t),t=i5(e,t,1),e=Xi(e,t,1),t=pn(),e!==null&&(Xc(e,1,t),kn(e,t))}function hr(e,t,r){if(e.tag===3)Y1(e,e,r);else for(;t!==null;){if(t.tag===3){Y1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zi===null||!Zi.has(n))){e=ll(r,e),e=a5(t,e,1),t=Xi(t,e,1),e=pn(),t!==null&&(Xc(t,1,e),kn(t,e));break}}t=t.return}}function A3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=pn(),e.pingedLanes|=e.suspendedLanes&r,Ur===e&&(Gr&r)===r&&(Ir===4||Ir===3&&(Gr&130023424)===Gr&&500>gr()-zg?Da(e,0):qg|=r),kn(e,t)}function k5(e,t){t===0&&(e.mode&1?(t=Xu,Xu<<=1,!(Xu&130023424)&&(Xu=4194304)):t=1);var r=pn();e=mi(e,t),e!==null&&(Xc(e,t,r),kn(e,r))}function C3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),k5(e,r)}function E3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ie(314))}n!==null&&n.delete(t),k5(e,r)}var A5;A5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Sn.current)Nn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Nn=!1,g3(e,t,r);Nn=!!(e.flags&131072)}else Nn=!1,rr&&t.flags&1048576&&Ly(t,nh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fd(e,t),e=t.pendingProps;var s=sl(t,ln.current);Jo(t,r),s=Rg(null,t,n,e,s,r);var i=Fg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jn(n)?(i=!0,th(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pg(t),s.updater=Th,t.stateNode=s,s._reactInternals=t,dm(t,n,e,r),t=pm(null,t,n,!0,i,r)):(t.tag=0,rr&&i&&Ng(t),hn(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=L3(n),e=xs(n,e),s){case 0:t=fm(null,t,n,e,r);break e;case 1:t=M1(null,t,n,e,r);break e;case 11:t=F1(null,t,n,e,r);break e;case 14:t=D1(null,t,n,xs(n.type,e),r);break e}throw Error(Ie(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xs(n,s),fm(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xs(n,s),M1(e,t,n,s,r);case 3:e:{if(u5(t),e===null)throw Error(Ie(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Dy(e,t),ah(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ll(Error(Ie(423)),t),t=B1(e,t,n,r,s);break e}else if(n!==s){s=ll(Error(Ie(424)),t),t=B1(e,t,n,r,s);break e}else for(Mn=Qi(t.stateNode.containerInfo.firstChild),Un=t,rr=!0,ks=null,r=Ry(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(il(),n===s){t=gi(e,t,r);break e}hn(e,t,n,r)}t=t.child}return t;case 5:return My(t),e===null&&lm(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,nm(n,s)?a=null:i!==null&&nm(n,i)&&(t.flags|=32),c5(e,t),hn(e,t,a,r),t.child;case 6:return e===null&&lm(t),null;case 13:return d5(e,t,r);case 4:return Lg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=al(t,null,n,r):hn(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xs(n,s),F1(e,t,n,s,r);case 7:return hn(e,t,t.pendingProps,r),t.child;case 8:return hn(e,t,t.pendingProps.children,r),t.child;case 12:return hn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Kt(sh,n._currentValue),n._currentValue=a,i!==null)if(Es(i.value,a)){if(i.children===s.children&&!Sn.current){t=gi(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var o=l.firstContext;o!==null;){if(o.context===n){if(i.tag===1){o=hi(-1,r&-r),o.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?o.next=o:(o.next=f.next,f.next=o),d.pending=o}}i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),cm(i.return,r,t),l.lanes|=r;break}o=o.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Ie(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),cm(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}hn(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Jo(t,r),s=as(s),n=n(s),t.flags|=1,hn(e,t,n,r),t.child;case 14:return n=t.type,s=xs(n,t.pendingProps),s=xs(n.type,s),D1(e,t,n,s,r);case 15:return o5(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xs(n,s),Fd(e,t),t.tag=1,jn(n)?(e=!0,th(t)):e=!1,Jo(t,r),s5(t,n,s),dm(t,n,s,r),pm(null,t,n,!0,e,r);case 19:return h5(e,t,r);case 22:return l5(e,t,r)}throw Error(Ie(156,t.tag))};function C5(e,t){return ty(e,t)}function P3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(e,t,r,n){return new P3(e,t,r,n)}function Wg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function L3(e){if(typeof e=="function")return Wg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dg)return 11;if(e===hg)return 14}return 2}function ta(e,t){var r=e.alternate;return r===null?(r=ss(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Bd(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Wg(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Oo:return Ma(r.children,s,i,t);case ug:a=8,s|=8;break;case Rp:return e=ss(12,r,t,s|2),e.elementType=Rp,e.lanes=i,e;case Fp:return e=ss(13,r,t,s),e.elementType=Fp,e.lanes=i,e;case Dp:return e=ss(19,r,t,s),e.elementType=Dp,e.lanes=i,e;case M2:return Rh(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F2:a=10;break e;case D2:a=9;break e;case dg:a=11;break e;case hg:a=14;break e;case Mi:a=16,n=null;break e}throw Error(Ie(130,e==null?e:typeof e,""))}return t=ss(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Ma(e,t,r,n){return e=ss(7,e,n,t),e.lanes=r,e}function Rh(e,t,r,n){return e=ss(22,e,n,t),e.elementType=M2,e.lanes=r,e.stateNode={isHidden:!1},e}function ap(e,t,r){return e=ss(6,e,null,t),e.lanes=r,e}function op(e,t,r){return t=ss(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function T3(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qf(0),this.expirationTimes=qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gg(e,t,r,n,s,i,a,l,o){return e=new T3(e,t,r,l,o),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ss(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pg(i),e}function I3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function E5(e){if(!e)return ia;e=e._reactInternals;e:{if(Ga(e)!==e||e.tag!==1)throw Error(Ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ie(171))}if(e.tag===1){var r=e.type;if(jn(r))return Ey(e,r,t)}return t}function P5(e,t,r,n,s,i,a,l,o){return e=Gg(r,n,!0,e,s,i,a,l,o),e.context=E5(null),r=e.current,n=pn(),s=ea(r),i=hi(n,s),i.callback=t??null,Xi(r,i,s),e.current.lanes=s,Xc(e,s,n),kn(e,n),e}function Fh(e,t,r,n){var s=t.current,i=pn(),a=ea(s);return r=E5(r),t.context===null?t.context=r:t.pendingContext=r,t=hi(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Xi(s,t,a),e!==null&&(Cs(e,s,a,i),Id(e,s,a)),a}function ph(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function K1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Yg(e,t){K1(e,t),(e=e.alternate)&&K1(e,t)}function O3(){return null}var L5=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kg(e){this._internalRoot=e}Dh.prototype.render=Kg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ie(409));Fh(e,t,null,null)};Dh.prototype.unmount=Kg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Va(function(){Fh(null,e,null,null)}),t[pi]=null}};function Dh(e){this._internalRoot=e}Dh.prototype.unstable_scheduleHydration=function(e){if(e){var t=ly();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ui.length&&t!==0&&t<Ui[r].priority;r++);Ui.splice(r,0,e),r===0&&uy(e)}};function Jg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function J1(){}function R3(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=ph(a);i.call(d)}}var a=P5(t,n,e,0,null,!1,!1,"",J1);return e._reactRootContainer=a,e[pi]=a.current,Oc(e.nodeType===8?e.parentNode:e),Va(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=ph(o);l.call(d)}}var o=Gg(e,0,!1,null,null,!1,!1,"",J1);return e._reactRootContainer=o,e[pi]=o.current,Oc(e.nodeType===8?e.parentNode:e),Va(function(){Fh(t,o,r,n)}),o}function Bh(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var o=ph(a);l.call(o)}}Fh(t,a,e,s)}else a=R3(r,t,e,s,n);return ph(a)}ay=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=uc(t.pendingLanes);r!==0&&(mg(t,r|1),kn(t,gr()),!(Rt&6)&&(cl=gr()+500,ua()))}break;case 13:Va(function(){var n=mi(e,1);if(n!==null){var s=pn();Cs(n,e,1,s)}}),Yg(e,1)}};gg=function(e){if(e.tag===13){var t=mi(e,134217728);if(t!==null){var r=pn();Cs(t,e,134217728,r)}Yg(e,134217728)}};oy=function(e){if(e.tag===13){var t=ea(e),r=mi(e,t);if(r!==null){var n=pn();Cs(r,e,t,n)}Yg(e,t)}};ly=function(){return qt};cy=function(e,t){var r=qt;try{return qt=e,t()}finally{qt=r}};Gp=function(e,t,r){switch(t){case"input":if(Up(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Eh(n);if(!s)throw Error(Ie(90));U2(n),Up(n,s)}}}break;case"textarea":z2(e,r);break;case"select":t=r.value,t!=null&&Wo(e,!!r.multiple,t,!1)}};K2=$g;J2=Va;var F3={usingClientEntryPoint:!1,Events:[eu,Mo,Eh,G2,Y2,$g]},ic={findFiberByHostInstance:Ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D3={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Z2(e),e===null?null:e.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance||O3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{jh=cd.inject(D3),Vs=cd}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F3;zn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jg(t))throw Error(Ie(200));return I3(e,t,null,r)};zn.createRoot=function(e,t){if(!Jg(e))throw Error(Ie(299));var r=!1,n="",s=L5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Gg(e,1,!1,null,null,r,!1,n,s),e[pi]=t.current,Oc(e.nodeType===8?e.parentNode:e),new Kg(t)};zn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ie(188)):(e=Object.keys(e).join(","),Error(Ie(268,e)));return e=Z2(t),e=e===null?null:e.stateNode,e};zn.flushSync=function(e){return Va(e)};zn.hydrate=function(e,t,r){if(!Mh(t))throw Error(Ie(200));return Bh(null,e,t,!0,r)};zn.hydrateRoot=function(e,t,r){if(!Jg(e))throw Error(Ie(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=L5;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=P5(t,null,e,1,r??null,s,!1,i,a),e[pi]=t.current,Oc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Dh(t)};zn.render=function(e,t,r){if(!Mh(t))throw Error(Ie(200));return Bh(null,e,t,!1,r)};zn.unmountComponentAtNode=function(e){if(!Mh(e))throw Error(Ie(40));return e._reactRootContainer?(Va(function(){Bh(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0):!1};zn.unstable_batchedUpdates=$g;zn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Mh(r))throw Error(Ie(200));if(e==null||e._reactInternals===void 0)throw Error(Ie(38));return Bh(e,t,r,!1,n)};zn.version="18.3.1-next-f1338f8080-20240426";function T5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T5)}catch(e){console.error(e)}}T5(),T2.exports=zn;var M3=T2.exports,Q1=M3;Ip.createRoot=Q1.createRoot,Ip.hydrateRoot=Q1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$c.apply(this,arguments)}var Hi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hi||(Hi={}));const X1="popstate";function B3(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:l}=n.location;return km("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:mh(s)}return q3(t,r,null,e)}function _r(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function I5(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function U3(){return Math.random().toString(36).substr(2,8)}function Z1(e,t){return{usr:e.state,key:e.key,idx:t}}function km(e,t,r,n){return r===void 0&&(r=null),$c({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ml(t):t,{state:r,key:t&&t.key||n||U3()})}function mh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ml(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function q3(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=Hi.Pop,o=null,d=f();d==null&&(d=0,a.replaceState($c({},a.state,{idx:d}),""));function f(){return(a.state||{idx:null}).idx}function m(){l=Hi.Pop;let j=f(),_=j==null?null:j-d;d=j,o&&o({action:l,location:N.location,delta:_})}function g(j,_){l=Hi.Push;let w=km(N.location,j,_);d=f()+1;let S=Z1(w,d),D=N.createHref(w);try{a.pushState(S,"",D)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(D)}i&&o&&o({action:l,location:N.location,delta:1})}function p(j,_){l=Hi.Replace;let w=km(N.location,j,_);d=f();let S=Z1(w,d),D=N.createHref(w);a.replaceState(S,"",D),i&&o&&o({action:l,location:N.location,delta:0})}function b(j){let _=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof j=="string"?j:mh(j);return w=w.replace(/ $/,"%20"),_r(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let N={get action(){return l},get location(){return e(s,a)},listen(j){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(X1,m),o=j,()=>{s.removeEventListener(X1,m),o=null}},createHref(j){return t(s,j)},createURL:b,encodeLocation(j){let _=b(j);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:p,go(j){return a.go(j)}};return N}var ev;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ev||(ev={}));function z3(e,t,r){return r===void 0&&(r="/"),$3(e,t,r)}function $3(e,t,r,n){let s=typeof t=="string"?ml(t):t,i=Qg(s.pathname||"/",r);if(i==null)return null;let a=O5(e);V3(a);let l=null;for(let o=0;l==null&&o<a.length;++o){let d=rN(i);l=Z3(a[o],d)}return l}function O5(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let o={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};o.relativePath.startsWith("/")&&(_r(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(n.length));let d=ra([n,o.relativePath]),f=r.concat(o);i.children&&i.children.length>0&&(_r(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),O5(i.children,t,f,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Q3(d,i.index),routesMeta:f})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let o of R5(i.path))s(i,a,o)}),t}function R5(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=R5(n.join("/")),l=[];return l.push(...a.map(o=>o===""?i:[i,o].join("/"))),s&&l.push(...a),l.map(o=>e.startsWith("/")&&o===""?"/":o)}function V3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:X3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const H3=/^:[\w-]+$/,W3=3,G3=2,Y3=1,K3=10,J3=-2,tv=e=>e==="*";function Q3(e,t){let r=e.split("/"),n=r.length;return r.some(tv)&&(n+=J3),t&&(n+=G3),r.filter(s=>!tv(s)).reduce((s,i)=>s+(H3.test(i)?W3:i===""?Y3:K3),n)}function X3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Z3(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let l=0;l<n.length;++l){let o=n[l],d=l===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",m=eN({path:o.relativePath,caseSensitive:o.caseSensitive,end:d},f),g=o.route;if(!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:ra([i,m.pathname]),pathnameBase:aN(ra([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=ra([i,m.pathnameBase]))}return a}function eN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=tN(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,f,m)=>{let{paramName:g,isOptional:p}=f;if(g==="*"){let N=l[m]||"";a=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const b=l[m];return p&&!b?d[g]=void 0:d[g]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:e}}function tN(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),I5(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,o)=>(n.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function rN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return I5(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Qg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function nN(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ml(e):e;return{pathname:r?r.startsWith("/")?r:sN(r,t):t,search:oN(n),hash:lN(s)}}function sN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function lp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iN(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Xg(e,t){let r=iN(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Zg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ml(e):(s=$c({},e),_r(!s.pathname||!s.pathname.includes("?"),lp("?","pathname","search",s)),_r(!s.pathname||!s.pathname.includes("#"),lp("#","pathname","hash",s)),_r(!s.search||!s.search.includes("#"),lp("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let m=t.length-1;if(!n&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}l=m>=0?t[m]:"/"}let o=nN(s,l),d=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(d||f)&&(o.pathname+="/"),o}const ra=e=>e.join("/").replace(/\/\/+/g,"/"),aN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const F5=["post","put","patch","delete"];new Set(F5);const uN=["get",...F5];new Set(uN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vc.apply(this,arguments)}const e0=X.createContext(null),dN=X.createContext(null),da=X.createContext(null),Uh=X.createContext(null),yi=X.createContext({outlet:null,matches:[],isDataRoute:!1}),D5=X.createContext(null);function hN(e,t){let{relative:r}=t===void 0?{}:t;gl()||_r(!1);let{basename:n,navigator:s}=X.useContext(da),{hash:i,pathname:a,search:l}=B5(e,{relative:r}),o=a;return n!=="/"&&(o=a==="/"?n:ra([n,a])),s.createHref({pathname:o,search:l,hash:i})}function gl(){return X.useContext(Uh)!=null}function Ya(){return gl()||_r(!1),X.useContext(Uh).location}function M5(e){X.useContext(da).static||X.useLayoutEffect(e)}function vl(){let{isDataRoute:e}=X.useContext(yi);return e?kN():fN()}function fN(){gl()||_r(!1);let e=X.useContext(e0),{basename:t,future:r,navigator:n}=X.useContext(da),{matches:s}=X.useContext(yi),{pathname:i}=Ya(),a=JSON.stringify(Xg(s,r.v7_relativeSplatPath)),l=X.useRef(!1);return M5(()=>{l.current=!0}),X.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=Zg(d,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ra([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,a,i,e])}function pN(){let{matches:e}=X.useContext(yi),t=e[e.length-1];return t?t.params:{}}function B5(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=X.useContext(da),{matches:s}=X.useContext(yi),{pathname:i}=Ya(),a=JSON.stringify(Xg(s,n.v7_relativeSplatPath));return X.useMemo(()=>Zg(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function mN(e,t){return gN(e,t)}function gN(e,t,r,n){gl()||_r(!1);let{navigator:s}=X.useContext(da),{matches:i}=X.useContext(yi),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let o=a?a.pathnameBase:"/";a&&a.route;let d=Ya(),f;if(t){var m;let j=typeof t=="string"?ml(t):t;o==="/"||(m=j.pathname)!=null&&m.startsWith(o)||_r(!1),f=j}else f=d;let g=f.pathname||"/",p=g;if(o!=="/"){let j=o.replace(/^\//,"").split("/");p="/"+g.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=z3(e,{pathname:p}),N=wN(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:ra([o,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?o:ra([o,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,r,n);return t&&N?X.createElement(Uh.Provider,{value:{location:Vc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Hi.Pop}},N):N}function vN(){let e=jN(),t=cN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},t),r?X.createElement("pre",{style:s},r):null,null)}const yN=X.createElement(vN,null);class bN extends X.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?X.createElement(yi.Provider,{value:this.props.routeContext},X.createElement(D5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _N(e){let{routeContext:t,match:r,children:n}=e,s=X.useContext(e0);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),X.createElement(yi.Provider,{value:t},n)}function wN(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||_r(!1),a=a.slice(0,Math.min(a.length,f+1))}let o=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:g,errors:p}=r,b=m.route.loader&&g[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||b){o=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,m,g)=>{let p,b=!1,N=null,j=null;r&&(p=l&&m.route.id?l[m.route.id]:void 0,N=m.route.errorElement||yN,o&&(d<0&&g===0?(AN("route-fallback"),b=!0,j=null):d===g&&(b=!0,j=m.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,g+1)),w=()=>{let S;return p?S=N:b?S=j:m.route.Component?S=X.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=f,X.createElement(_N,{match:m,routeContext:{outlet:f,matches:_,isDataRoute:r!=null},children:S})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?X.createElement(bN,{location:r.location,revalidation:r.revalidation,component:N,error:p,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var U5=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(U5||{}),q5=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(q5||{});function xN(e){let t=X.useContext(e0);return t||_r(!1),t}function NN(e){let t=X.useContext(dN);return t||_r(!1),t}function SN(e){let t=X.useContext(yi);return t||_r(!1),t}function z5(e){let t=SN(),r=t.matches[t.matches.length-1];return r.route.id||_r(!1),r.route.id}function jN(){var e;let t=X.useContext(D5),r=NN(),n=z5();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function kN(){let{router:e}=xN(U5.UseNavigateStable),t=z5(q5.UseNavigateStable),r=X.useRef(!1);return M5(()=>{r.current=!0}),X.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Vc({fromRouteId:t},i)))},[e,t])}const rv={};function AN(e,t,r){rv[e]||(rv[e]=!0)}function CN(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Am(e){let{to:t,replace:r,state:n,relative:s}=e;gl()||_r(!1);let{future:i,static:a}=X.useContext(da),{matches:l}=X.useContext(yi),{pathname:o}=Ya(),d=vl(),f=Zg(t,Xg(l,i.v7_relativeSplatPath),o,s==="path"),m=JSON.stringify(f);return X.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:s}),[d,m,s,r,n]),null}function Sr(e){_r(!1)}function EN(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Hi.Pop,navigator:i,static:a=!1,future:l}=e;gl()&&_r(!1);let o=t.replace(/^\/*/,"/"),d=X.useMemo(()=>({basename:o,navigator:i,static:a,future:Vc({v7_relativeSplatPath:!1},l)}),[o,l,i,a]);typeof n=="string"&&(n=ml(n));let{pathname:f="/",search:m="",hash:g="",state:p=null,key:b="default"}=n,N=X.useMemo(()=>{let j=Qg(f,o);return j==null?null:{location:{pathname:j,search:m,hash:g,state:p,key:b},navigationType:s}},[o,f,m,g,p,b,s]);return N==null?null:X.createElement(da.Provider,{value:d},X.createElement(Uh.Provider,{children:r,value:N}))}function PN(e){let{children:t,location:r}=e;return mN(Cm(t),r)}new Promise(()=>{});function Cm(e,t){t===void 0&&(t=[]);let r=[];return X.Children.forEach(e,(n,s)=>{if(!X.isValidElement(n))return;let i=[...t,s];if(n.type===X.Fragment){r.push.apply(r,Cm(n.props.children,i));return}n.type!==Sr&&_r(!1),!n.props.index||!n.props.children||_r(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Cm(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Em.apply(this,arguments)}function LN(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function TN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function IN(e,t){return e.button===0&&(!t||t==="_self")&&!TN(e)}const ON=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RN="6";try{window.__reactRouterVersion=RN}catch{}const FN="startTransition",nv=Aw[FN];function DN(e){let{basename:t,children:r,future:n,window:s}=e,i=X.useRef();i.current==null&&(i.current=B3({window:s,v5Compat:!0}));let a=i.current,[l,o]=X.useState({action:a.action,location:a.location}),{v7_startTransition:d}=n||{},f=X.useCallback(m=>{d&&nv?nv(()=>o(m)):o(m)},[o,d]);return X.useLayoutEffect(()=>a.listen(f),[a,f]),X.useEffect(()=>CN(n),[n]),X.createElement(EN,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const MN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wi=X.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:o,to:d,preventScrollReset:f,viewTransition:m}=t,g=LN(t,ON),{basename:p}=X.useContext(da),b,N=!1;if(typeof d=="string"&&BN.test(d)&&(b=d,MN))try{let S=new URL(window.location.href),D=d.startsWith("//")?new URL(S.protocol+d):new URL(d),B=Qg(D.pathname,p);D.origin===S.origin&&B!=null?d=B+D.search+D.hash:N=!0}catch{}let j=hN(d,{relative:s}),_=UN(d,{replace:a,state:l,target:o,preventScrollReset:f,relative:s,viewTransition:m});function w(S){n&&n(S),S.defaultPrevented||_(S)}return X.createElement("a",Em({},g,{href:b||j,onClick:N||i?n:w,ref:r,target:o}))});var sv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sv||(sv={}));var iv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(iv||(iv={}));function UN(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,o=vl(),d=Ya(),f=B5(e,{relative:a});return X.useCallback(m=>{if(IN(m,r)){m.preventDefault();let g=n!==void 0?n:mh(d)===mh(f);o(e,{replace:g,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[d,o,f,n,s,r,e,i,a,l])}const qN={},av=e=>{let t;const r=new Set,n=(f,m)=>{const g=typeof f=="function"?f(t):f;if(!Object.is(g,t)){const p=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),r.forEach(b=>b(t,p))}},s=()=>t,o={setState:n,getState:s,getInitialState:()=>d,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(qN?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=t=e(n,s,o);return o},zN=e=>e?av(e):av;var $5={exports:{}},V5={},H5={exports:{}},W5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ul=X;function $N(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VN=typeof Object.is=="function"?Object.is:$N,HN=ul.useState,WN=ul.useEffect,GN=ul.useLayoutEffect,YN=ul.useDebugValue;function KN(e,t){var r=t(),n=HN({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return GN(function(){s.value=r,s.getSnapshot=t,cp(s)&&i({inst:s})},[e,r,t]),WN(function(){return cp(s)&&i({inst:s}),e(function(){cp(s)&&i({inst:s})})},[e]),YN(r),r}function cp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!VN(e,r)}catch{return!0}}function JN(e,t){return t()}var QN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?JN:KN;W5.useSyncExternalStore=ul.useSyncExternalStore!==void 0?ul.useSyncExternalStore:QN;H5.exports=W5;var XN=H5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh=X,ZN=XN;function e4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var t4=typeof Object.is=="function"?Object.is:e4,r4=ZN.useSyncExternalStore,n4=qh.useRef,s4=qh.useEffect,i4=qh.useMemo,a4=qh.useDebugValue;V5.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=n4(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=i4(function(){function o(p){if(!d){if(d=!0,f=p,p=n(p),s!==void 0&&a.hasValue){var b=a.value;if(s(b,p))return m=b}return m=p}if(b=m,t4(f,p))return b;var N=n(p);return s!==void 0&&s(b,N)?(f=p,b):(f=p,m=N)}var d=!1,f,m,g=r===void 0?null:r;return[function(){return o(t())},g===null?void 0:function(){return o(g())}]},[t,r,n,s]);var l=r4(e,i[0],i[1]);return s4(function(){a.hasValue=!0,a.value=l},[l]),a4(l),l};$5.exports=V5;var o4=$5.exports;const l4=_2(o4),G5={},{useDebugValue:c4}=ws,{useSyncExternalStoreWithSelector:u4}=l4;let ov=!1;const d4=e=>e;function h4(e,t=d4,r){(G5?"production":void 0)!=="production"&&r&&!ov&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ov=!0);const n=u4(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return c4(n),n}const lv=e=>{(G5?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?zN(e):e,r=(n,s)=>h4(t,n,s);return Object.assign(r,t),r},Y5=e=>e?lv(e):lv,Ud="admin-auth",f4=()=>{if(typeof window>"u")return null;try{const e=localStorage.getItem(Ud);return e?JSON.parse(e):null}catch(e){return console.error("Failed to read auth storage",e),null}},t0=Y5(e=>({user:f4(),setUser:t=>{if(e({user:t}),t)try{localStorage.setItem(Ud,JSON.stringify(t))}catch(r){console.error("Failed to persist auth",r)}else localStorage.removeItem(Ud)},signOut:()=>{e({user:null}),localStorage.removeItem(Ud)}}));var Pm=function(e,t){return Pm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Pm(e,t)};function K5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Pm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var gh=function(){return gh=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},gh.apply(this,arguments)};function yl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function J5(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function Q5(e,t){return function(r,n){t(r,n,e)}}function X5(e,t,r,n,s,i){function a(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var l=n.kind,o=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,f=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),m,g=!1,p=r.length-1;p>=0;p--){var b={};for(var N in n)b[N]=N==="access"?{}:n[N];for(var N in n.access)b.access[N]=n.access[N];b.addInitializer=function(_){if(g)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(_||null))};var j=(0,r[p])(l==="accessor"?{get:f.get,set:f.set}:f[o],b);if(l==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(m=a(j.get))&&(f.get=m),(m=a(j.set))&&(f.set=m),(m=a(j.init))&&s.unshift(m)}else(m=a(j))&&(l==="field"?s.unshift(m):f[o]=m)}d&&Object.defineProperty(d,n.name,f),g=!0}function Z5(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function eb(e){return typeof e=="symbol"?e:"".concat(e)}function tb(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function rb(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function et(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(f){try{d(n.next(f))}catch(m){a(m)}}function o(f){try{d(n.throw(f))}catch(m){a(m)}}function d(f){f.done?i(f.value):s(f.value).then(l,o)}d((n=n.apply(e,t||[])).next())})}function nb(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(f){return o([d,f])}}function o(d){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(f){d=[6,f],s=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var zh=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function sb(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zh(t,e,r)}function vh(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function r0(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function ib(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r0(arguments[t]));return e}function ab(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,s++)n[s]=i[a];return n}function ob(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function dl(e){return this instanceof dl?(this.v=e,this):new dl(e)}function lb(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(p){return function(b){return Promise.resolve(b).then(p,m)}}function l(p,b){n[p]&&(s[p]=function(N){return new Promise(function(j,_){i.push([p,N,j,_])>1||o(p,N)})},b&&(s[p]=b(s[p])))}function o(p,b){try{d(n[p](b))}catch(N){g(i[0][3],N)}}function d(p){p.value instanceof dl?Promise.resolve(p.value.v).then(f,m):g(i[0][2],p)}function f(p){o("next",p)}function m(p){o("throw",p)}function g(p,b){p(b),i.shift(),i.length&&o(i[0][0],i[0][1])}}function cb(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(a){return(r=!r)?{value:dl(e[s](a)),done:!1}:i?i(a):a}:i}}function ub(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof vh=="function"?vh(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(l,o){a=e[i](a),s(l,o,a.done,a.value)})}}function s(i,a,l,o){Promise.resolve(o).then(function(d){i({value:d,done:l})},a)}}function db(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var p4=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Lm=function(e){return Lm=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Lm(e)};function hb(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Lm(e),n=0;n<r.length;n++)r[n]!=="default"&&zh(t,e,r[n]);return p4(t,e),t}function fb(e){return e&&e.__esModule?e:{default:e}}function pb(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function mb(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function gb(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function vb(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var m4=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function yb(e){function t(i){e.error=e.hasError?new m4(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return t(a),s()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function bb(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?t?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):e}const g4={__extends:K5,__assign:gh,__rest:yl,__decorate:J5,__param:Q5,__esDecorate:X5,__runInitializers:Z5,__propKey:eb,__setFunctionName:tb,__metadata:rb,__awaiter:et,__generator:nb,__createBinding:zh,__exportStar:sb,__values:vh,__read:r0,__spread:ib,__spreadArrays:ab,__spreadArray:ob,__await:dl,__asyncGenerator:lb,__asyncDelegator:cb,__asyncValues:ub,__makeTemplateObject:db,__importStar:hb,__importDefault:fb,__classPrivateFieldGet:pb,__classPrivateFieldSet:mb,__classPrivateFieldIn:gb,__addDisposableResource:vb,__disposeResources:yb,__rewriteRelativeImportExtension:bb},v4=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:vb,get __assign(){return gh},__asyncDelegator:cb,__asyncGenerator:lb,__asyncValues:ub,__await:dl,__awaiter:et,__classPrivateFieldGet:pb,__classPrivateFieldIn:gb,__classPrivateFieldSet:mb,__createBinding:zh,__decorate:J5,__disposeResources:yb,__esDecorate:X5,__exportStar:sb,__extends:K5,__generator:nb,__importDefault:fb,__importStar:hb,__makeTemplateObject:db,__metadata:rb,__param:Q5,__propKey:eb,__read:r0,__rest:yl,__rewriteRelativeImportExtension:bb,__runInitializers:Z5,__setFunctionName:tb,__spread:ib,__spreadArray:ob,__spreadArrays:ab,__values:vh,default:g4},Symbol.toStringTag,{value:"Module"})),y4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class n0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class b4 extends n0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cv extends n0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class uv extends n0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Tm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Tm||(Tm={}));class _4{constructor(t,{headers:r={},customFetch:n,region:s=Tm.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=y4(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return et(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:o,body:d,signal:f,timeout:m}=n;let g={},{region:p}=n;p||(p=this.region);const b=new URL(`${this.url}/${r}`);p&&p!=="any"&&(g["x-region"]=p,b.searchParams.set("forceFunctionRegion",p));let N;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",N=d):typeof d=="string"?(g["Content-Type"]="text/plain",N=d):typeof FormData<"u"&&d instanceof FormData?N=d:(g["Content-Type"]="application/json",N=JSON.stringify(d)):N=d;let j=f;m&&(a=new AbortController,i=setTimeout(()=>a.abort(),m),f?(j=a.signal,f.addEventListener("abort",()=>a.abort())):j=a.signal);const _=yield this.fetch(b.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:N,signal:j}).catch(B=>{throw new b4(B)}),w=_.headers.get("x-relay-error");if(w&&w==="true")throw new cv(_);if(!_.ok)throw new uv(_);let S=((s=_.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),D;return S==="application/json"?D=yield _.json():S==="application/octet-stream"||S==="application/pdf"?D=yield _.blob():S==="text/event-stream"?D=_:S==="multipart/form-data"?D=yield _.formData():D=yield _.text(),{data:D,error:null,response:_}}catch(l){return{data:null,error:l,response:l instanceof uv||l instanceof cv?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var fn={};const bl=dw(v4);var ud={},dd={},hd={},fd={},pd={},md={},dv;function _b(){if(dv)return md;dv=1,Object.defineProperty(md,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return md.default=e,md}var hv;function wb(){if(hv)return pd;hv=1,Object.defineProperty(pd,"__esModule",{value:!0});const t=bl.__importDefault(_b());class r{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var d,f,m,g;let p=null,b=null,N=null,j=o.status,_=o.statusText;if(o.ok){if(this.method!=="HEAD"){const B=await o.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?b=B:b=JSON.parse(B))}const S=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),D=(m=o.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");S&&D&&D.length>1&&(N=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(p={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,N=null,j=406,_="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const S=await o.text();try{p=JSON.parse(S),Array.isArray(p)&&o.status===404&&(b=[],p=null,j=200,_="OK")}catch{o.status===404&&S===""?(j=204,_="No Content"):p={message:S}}if(p&&this.isMaybeSingle&&(!((g=p==null?void 0:p.details)===null||g===void 0)&&g.includes("0 rows"))&&(p=null,j=200,_="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:b,count:N,status:j,statusText:_}});return this.shouldThrowOnError||(l=l.catch(o=>{var d,f,m;return{error:{message:`${(d=o==null?void 0:o.name)!==null&&d!==void 0?d:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(f=o==null?void 0:o.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=o==null?void 0:o.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return pd.default=r,pd}var fv;function xb(){if(fv)return fd;fv=1,Object.defineProperty(fd,"__esModule",{value:!0});const t=bl.__importDefault(wb());class r extends t.default{select(s){let i=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:l,referencedTable:o=l}={}){const d=o?`${o}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:l=a}={}){const o=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${s}`),this.url.searchParams.set(d,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:l=!1,wal:o=!1,format:d="text"}={}){var f;const m=[s?"analyze":null,i?"verbose":null,a?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return fd.default=r,fd}var pv;function s0(){if(pv)return hd;pv=1,Object.defineProperty(hd,"__esModule",{value:!0});const t=bl.__importDefault(xb()),r=new RegExp("[,()]");class n extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(o=>typeof o=="string"&&r.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:o}={}){let d="";o==="plain"?d="pl":o==="phrase"?d="ph":o==="websearch"&&(d="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${f}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return hd.default=n,hd}var mv;function Nb(){if(mv)return dd;mv=1,Object.defineProperty(dd,"__esModule",{value:!0});const t=bl.__importDefault(s0());class r{constructor(s,{headers:i={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=l}select(s,i){const{head:a=!1,count:l}=i??{},o=a?"HEAD":"GET";let d=!1;const f=(s??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var l;const o="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(d.length>0){const f=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:l,defaultToNull:o=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(m.length>0){const g=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:i}={}){var a;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return dd.default=r,dd}var gv;function w4(){if(gv)return ud;gv=1,Object.defineProperty(ud,"__esModule",{value:!0});const e=bl,t=e.__importDefault(Nb()),r=e.__importDefault(s0());class n{constructor(i,{headers:a={},schema:l,fetch:o}={}){this.url=i,this.headers=new Headers(a),this.schemaName=l,this.fetch=o}from(i){const a=new URL(`${this.url}/${i}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:o=!1,count:d}={}){var f;let m;const g=new URL(`${this.url}/rpc/${i}`);let p;l||o?(m=l?"HEAD":"GET",Object.entries(a).filter(([N,j])=>j!==void 0).map(([N,j])=>[N,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([N,j])=>{g.searchParams.append(N,j)})):(m="POST",p=a);const b=new Headers(this.headers);return d&&b.set("Prefer",`count=${d}`),new r.default({method:m,url:g,headers:b,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return ud.default=n,ud}Object.defineProperty(fn,"__esModule",{value:!0});var Sb=fn.PostgrestError=Ob=fn.PostgrestBuilder=Tb=fn.PostgrestTransformBuilder=Pb=fn.PostgrestFilterBuilder=Cb=fn.PostgrestQueryBuilder=kb=fn.PostgrestClient=void 0;const _l=bl,jb=_l.__importDefault(w4());var kb=fn.PostgrestClient=jb.default;const Ab=_l.__importDefault(Nb());var Cb=fn.PostgrestQueryBuilder=Ab.default;const Eb=_l.__importDefault(s0());var Pb=fn.PostgrestFilterBuilder=Eb.default;const Lb=_l.__importDefault(xb());var Tb=fn.PostgrestTransformBuilder=Lb.default;const Ib=_l.__importDefault(wb());var Ob=fn.PostgrestBuilder=Ib.default;const Rb=_l.__importDefault(_b());Sb=fn.PostgrestError=Rb.default;var Fb=fn.default={PostgrestClient:jb.default,PostgrestQueryBuilder:Ab.default,PostgrestFilterBuilder:Eb.default,PostgrestTransformBuilder:Lb.default,PostgrestBuilder:Ib.default,PostgrestError:Rb.default};const x4=b2({__proto__:null,get PostgrestBuilder(){return Ob},get PostgrestClient(){return kb},get PostgrestError(){return Sb},get PostgrestFilterBuilder(){return Pb},get PostgrestQueryBuilder(){return Cb},get PostgrestTransformBuilder(){return Tb},default:Fb},[fn]),{PostgrestClient:N4,PostgrestQueryBuilder:sA,PostgrestFilterBuilder:iA,PostgrestTransformBuilder:aA,PostgrestBuilder:oA,PostgrestError:lA}=Fb||x4;class S4{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const j4="2.81.1",k4=`realtime-js/${j4}`,Db="1.0.0",A4="2.0.0",vv=Db,Im=1e4,C4=1e3,E4=100;var Ea;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ea||(Ea={}));var Lr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Lr||(Lr={}));var ts;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ts||(ts={}));var Om;(function(e){e.websocket="websocket"})(Om||(Om={}));var Pa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Pa||(Pa={}));class P4{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){const{join_ref:r,ref:n,event:s,topic:i,payload:a}=t,l=this.META_LENGTH+r.length+n.length+i.length+s.length,o=new ArrayBuffer(this.HEADER_LENGTH+l);let d=new DataView(o),f=0;d.setUint8(f++,this.KINDS.push),d.setUint8(f++,r.length),d.setUint8(f++,n.length),d.setUint8(f++,i.length),d.setUint8(f++,s.length),Array.from(r,g=>d.setUint8(f++,g.charCodeAt(0))),Array.from(n,g=>d.setUint8(f++,g.charCodeAt(0))),Array.from(i,g=>d.setUint8(f++,g.charCodeAt(0))),Array.from(s,g=>d.setUint8(f++,g.charCodeAt(0)));var m=new Uint8Array(o.byteLength+a.byteLength);return m.set(new Uint8Array(o),0),m.set(new Uint8Array(a),o.byteLength),m.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const{join_ref:s,ref:i,topic:a}=t,l=t.payload.event,o=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+a.length+l.length,f=new ArrayBuffer(this.HEADER_LENGTH+d);let m=new DataView(f),g=0;m.setUint8(g++,this.KINDS.userBroadcastPush),m.setUint8(g++,s.length),m.setUint8(g++,i.length),m.setUint8(g++,a.length),m.setUint8(g++,l.length),m.setUint8(g++,this.BINARY_ENCODING),Array.from(s,b=>m.setUint8(g++,b.charCodeAt(0))),Array.from(i,b=>m.setUint8(g++,b.charCodeAt(0))),Array.from(a,b=>m.setUint8(g++,b.charCodeAt(0))),Array.from(l,b=>m.setUint8(g++,b.charCodeAt(0)));var p=new Uint8Array(f.byteLength+o.byteLength);return p.set(new Uint8Array(f),0),p.set(new Uint8Array(o),f.byteLength),p.buffer}_encodeJsonUserBroadcastPush(t){var r,n;const{join_ref:s,ref:i,topic:a}=t,l=t.payload.event,o=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer,m=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+a.length+l.length,g=new ArrayBuffer(this.HEADER_LENGTH+m);let p=new DataView(g),b=0;p.setUint8(b++,this.KINDS.userBroadcastPush),p.setUint8(b++,s.length),p.setUint8(b++,i.length),p.setUint8(b++,a.length),p.setUint8(b++,l.length),p.setUint8(b++,this.JSON_ENCODING),Array.from(s,j=>p.setUint8(b++,j.charCodeAt(0))),Array.from(i,j=>p.setUint8(b++,j.charCodeAt(0))),Array.from(a,j=>p.setUint8(b++,j.charCodeAt(0))),Array.from(l,j=>p.setUint8(b++,j.charCodeAt(0)));var N=new Uint8Array(g.byteLength+f.byteLength);return N.set(new Uint8Array(g),0),N.set(new Uint8Array(f),g.byteLength),N.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,l,o]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:o})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,s);case this.KINDS.reply:return this._decodeReply(t,r,s);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodePush(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const o=n.decode(t.slice(l,l+s));l=l+s;const d=n.decode(t.slice(l,l+i));l=l+i;const f=n.decode(t.slice(l,l+a));l=l+a;const m=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{join_ref:o,ref:null,topic:d,event:f,payload:m}}_decodeReply(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let o=this.HEADER_LENGTH+this.META_LENGTH;const d=n.decode(t.slice(o,o+s));o=o+s;const f=n.decode(t.slice(o,o+i));o=o+i;const m=n.decode(t.slice(o,o+a));o=o+a;const g=n.decode(t.slice(o,o+l));o=o+l;const p=JSON.parse(n.decode(t.slice(o,t.byteLength))),b={status:g,response:p};return{join_ref:d,ref:f,topic:m,event:ts.reply,payload:b}}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const o=n.decode(t.slice(a,a+i));a=a+i;const d=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{join_ref:null,ref:null,topic:l,event:o,payload:d}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let o=this.HEADER_LENGTH+4;const d=n.decode(t.slice(o,o+s));o=o+s;const f=n.decode(t.slice(o,o+i));o=o+i;const m=n.decode(t.slice(o,o+a));o=o+a;const g=t.slice(o,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,b={type:this.BROADCAST,event:f,payload:p};return a>0&&(b.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Mb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const yv=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=L4(a,e,t,s),i),{}):{}},L4=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Bb(i,a):Rm(a)},Bb=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return R4(t,r)}switch(e){case Yt.bool:return T4(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return I4(t);case Yt.json:case Yt.jsonb:return O4(t);case Yt.timestamp:return F4(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return Rm(t);default:return Rm(t)}},Rm=e=>e,T4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},I4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},O4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},R4=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Bb(t,l))}return e},F4=e=>typeof e=="string"?e.replace(" ","T"):e,Ub=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class up{constructor(t,r,n={},s=Im){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var bv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(bv||(bv={}));class Nc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nc.syncState(this.state,s,i,a),this.pendingDiffs.forEach(o=>{this.state=Nc.syncDiff(this.state,o,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Nc.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},o={};return this.map(i,(d,f)=>{a[d]||(o[d]=f)}),this.map(a,(d,f)=>{const m=i[d];if(m){const g=f.map(j=>j.presence_ref),p=m.map(j=>j.presence_ref),b=f.filter(j=>p.indexOf(j.presence_ref)<0),N=m.filter(j=>g.indexOf(j.presence_ref)<0);b.length>0&&(l[d]=b),N.length>0&&(o[d]=N)}else l[d]=f}),this.syncDiff(i,{joins:l,leaves:o},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,o)=>{var d;const f=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(o),f.length>0){const m=t[l].map(p=>p.presence_ref),g=f.filter(p=>m.indexOf(p.presence_ref)<0);t[l].unshift(...g)}n(l,f,o)}),this.map(a,(l,o)=>{let d=t[l];if(!d)return;const f=o.map(m=>m.presence_ref);d=d.filter(m=>f.indexOf(m.presence_ref)<0),t[l]=d,s(l,d,o),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _v;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(_v||(_v={}));var Sc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Sc||(Sc={}));var oi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(oi||(oi={}));class i0{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Lr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new up(this,ts.join,this.params,this.timeout),this.rejoinTimer=new Mb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Lr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ts.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Nc(this),this.broadcastEndpointURL=Ub(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Lr.closed){const{config:{broadcast:a,presence:l,private:o}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[Sc.PRESENCE]&&this.bindings[Sc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},g={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:d,private:o};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(oi.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(oi.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket.setAuth(),p===void 0){t==null||t(oi.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,j=(b=N==null?void 0:N.length)!==null&&b!==void 0?b:0,_=[];for(let w=0;w<j;w++){const S=N[w],{filter:{event:D,schema:B,table:ee,filter:R}}=S,I=p&&p[w];if(I&&I.event===D&&I.schema===B&&I.table===ee&&I.filter===R)_.push(Object.assign(Object.assign({},S),{id:I.id}));else{this.unsubscribe(),this.state=Lr.errored,t==null||t(oi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(oi.SUBSCRIBED);return}}).receive("error",p=>{this.state=Lr.errored,t==null||t(oi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(oi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Lr.joined&&t===Sc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const d=await l.json();o=d.error||d.message||o}catch{}return Promise.reject(new Error(o))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,o;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Lr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ts.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new up(this,ts.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Lr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new up(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>E4){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:o,leave:d,join:f}=ts;if(n&&[l,o,d,f].indexOf(a)>=0&&n!==this._joinRef())return;let g=this._onMessage(a,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var b,N,j;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((j=(N=p.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===a}).map(p=>p.callback(g,n)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var b,N,j,_,w,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const D=p.id,B=(b=p.filter)===null||b===void 0?void 0:b.event;return D&&((N=r.ids)===null||N===void 0?void 0:N.includes(D))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const D=(w=(_=p==null?void 0:p.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return D==="*"||D===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:N,table:j,commit_timestamp:_,type:w,errors:S}=b;g=Object.assign(Object.assign({},{schema:N,table:j,commit_timestamp:_,eventType:w,new:{},old:{},errors:S}),this._getPayloadRecords(b))}p.callback(g,n)})}_isClosed(){return this.state===Lr.closed}_isJoined(){return this.state===Lr.joined}_isJoining(){return this.state===Lr.joining}_isLeaving(){return this.state===Lr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&i0.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ts.close,{},t)}_onError(t){this._on(ts.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=yv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=yv(t.columns,t.old_record)),r}}const dp=()=>{},gd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},D4=[1e3,2e3,5e3,1e4],M4=1e4,B4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class U4{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Im,this.transport=null,this.heartbeatIntervalMs=gd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dp,this.ref=0,this.reconnectTimer=null,this.vsn=vv,this.logger=dp,this.conn=null,this.sendBuffer=[],this.serializer=new P4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Om.websocket}`,this.httpEndpoint=Ub(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=S4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ea.connecting:return Pa.Connecting;case Ea.open:return Pa.Open;case Ea.closing:return Pa.Closing;default:return Pa.Closed}}isConnected(){return this.connectionState()===Pa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new i0(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(C4,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",o=i.status||"";this.log("receive",`${o} ${n} ${s} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ea.open||this.conn.readyState===Ea.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ts.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([B4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:k4};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(ts.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Mb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,o,d,f,m,g,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Im,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:gd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:dp,this.vsn=(o=t==null?void 0:t.vsn)!==null&&o!==void 0?o:vv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:b=>D4[b-1]||M4,this.vsn){case Db:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:(b,N)=>N(JSON.stringify(b)),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:(b,N)=>N(JSON.parse(b));break;case A4:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class a0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function sr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class q4 extends a0{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fm extends a0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const o0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),z4=()=>Response,Dm=e=>{if(Array.isArray(e))return e.map(r=>Dm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Dm(n)}),t},$4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},V4=(e,t,r)=>et(void 0,void 0,void 0,function*(){const n=yield z4();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new q4(hp(s),i,a))}).catch(s=>{t(new Fm(hp(s),s))}):t(new Fm(hp(e),e))}),H4=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:($4(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function ru(e,t,r,n,s,i){return et(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,H4(t,n,s,i)).then(o=>{if(!o.ok)throw o;return n!=null&&n.noResolveJson?o:o.json()}).then(o=>a(o)).catch(o=>V4(o,l,n))})})}function Hc(e,t,r,n){return et(this,void 0,void 0,function*(){return ru(e,"GET",t,r,n)})}function Ns(e,t,r,n,s){return et(this,void 0,void 0,function*(){return ru(e,"POST",t,n,s,r)})}function Mm(e,t,r,n,s){return et(this,void 0,void 0,function*(){return ru(e,"PUT",t,n,s,r)})}function W4(e,t,r,n){return et(this,void 0,void 0,function*(){return ru(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function l0(e,t,r,n,s){return et(this,void 0,void 0,function*(){return ru(e,"DELETE",t,n,s,r)})}class G4{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return et(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}})}}var qb;class Y4{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[qb]="BlobDownloadBuilder",this.promise=null}asStream(){return new G4(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return et(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}})}}qb=Symbol.toStringTag;const K4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class J4{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=o0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return et(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},wv),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const o=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),o&&i.append("metadata",this.encodeMetadata(o)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),o&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(o))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),m=yield(t=="PUT"?Mm:Ns)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return et(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let o;const d=Object.assign({upsert:wv.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",d.cacheControl),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",d.cacheControl)):(o=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const m=yield Mm(this.fetch,l.toString(),o,{headers:f});return{data:{path:i,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(sr(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,r){return et(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ns(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new a0("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}})}update(t,r,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return et(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}})}copy(t,r,n){return et(this,void 0,void 0,function*(){try{return{data:{path:(yield Ns(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return et(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ns(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return et(this,void 0,void 0,function*(){try{const s=yield Ns(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(t),o=()=>Hc(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new Y4(o,this.shouldThrowOnError)}info(t){return et(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Hc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Dm(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}})}exists(t){return et(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield W4(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sr(n)&&n instanceof Fm){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});o!==""&&s.push(o);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return et(this,void 0,void 0,function*(){try{return{data:yield l0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}})}list(t,r,n){return et(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},K4),r),{prefix:t||""});return{data:yield Ns(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}})}listV2(t,r){return et(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ns(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const zb="2.81.1",$b={"X-Client-Info":`storage-js/${zb}`};class Q4{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$b),r),this.fetch=o0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return et(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Hc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}})}getBucket(t){return et(this,void 0,void 0,function*(){try{return{data:yield Hc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}})}createBucket(t){return et(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ns(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return et(this,void 0,void 0,function*(){try{return{data:yield Mm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return et(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return et(this,void 0,void 0,function*(){try{return{data:yield l0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class X4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$b),r),this.fetch=o0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return et(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}})}listBuckets(t){return et(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Hc(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return et(this,void 0,void 0,function*(){try{return{data:yield l0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}})}}const c0={"X-Client-Info":`storage-js/${zb}`,"Content-Type":"application/json"};class Vb extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Fn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class fp extends Vb{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Z4 extends Vb{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var xv;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(xv||(xv={}));const u0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Nv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tS=(e,t,r)=>et(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";t(new fp(Nv(a),s,l))}).catch(()=>{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new fp(l,s,a))});else{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new fp(l,s,a))}}else t(new Z4(Nv(e),e))}),rS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(eS(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function nS(e,t,r,n,s,i){return et(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,rS(t,n,s,i)).then(o=>{if(!o.ok)throw o;if(n!=null&&n.noResolveJson)return o;const d=o.headers.get("content-type");return!d||!d.includes("application/json")?{}:o.json()}).then(o=>a(o)).catch(o=>tS(o,l,n))})})}function Dn(e,t,r,n,s){return et(this,void 0,void 0,function*(){return nS(e,"POST",t,n,s,r)})}class sS{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},c0),r),this.fetch=u0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return et(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fn(r))return{data:null,error:r};throw r}})}getIndex(t,r){return et(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fn(n))return{data:null,error:n};throw n}})}listIndexes(t){return et(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fn(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return et(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fn(n))return{data:null,error:n};throw n}})}}class iS{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},c0),r),this.fetch=u0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return et(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Dn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fn(r))return{data:null,error:r};throw r}})}getVectors(t){return et(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fn(r))return{data:null,error:r};throw r}})}listVectors(t){return et(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Dn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fn(r))return{data:null,error:r};throw r}})}queryVectors(t){return et(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fn(r))return{data:null,error:r};throw r}})}deleteVectors(t){return et(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Dn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fn(r))return{data:null,error:r};throw r}})}}class aS{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},c0),r),this.fetch=u0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return et(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fn(r))return{data:null,error:r};throw r}})}getBucket(t){return et(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fn(r))return{data:null,error:r};throw r}})}listBuckets(){return et(this,arguments,void 0,function*(t={}){try{return{data:yield Dn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return et(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fn(r))return{data:null,error:r};throw r}})}}class oS extends aS{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new lS(this.url,this.headers,t,this.fetch)}}class lS extends sS{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return et(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return et(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return et(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return et(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new cS(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class cS extends iS{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return et(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return et(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return et(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return et(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return et(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class uS extends Q4{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new J4(this.url,this.headers,t,this.fetch)}get vectors(){return new oS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new X4(this.url+"/iceberg",this.headers,this.fetch)}}const dS="2.81.1";let hc="";typeof Deno<"u"?hc="deno":typeof document<"u"?hc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hc="react-native":hc="node";const hS={"X-Client-Info":`supabase-js-${hc}/${dS}`},fS={headers:hS},pS={schema:"public"},mS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gS={},vS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),yS=()=>Headers,bS=(e,t,r)=>{const n=vS(r),s=yS();return async(i,a)=>{var l;const o=(l=await t())!==null&&l!==void 0?l:e;let d=new s(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${o}`),n(i,Object.assign(Object.assign({},a),{headers:d}))}};function _S(e){return e.endsWith("/")?e:e+"/"}function wS(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:o,auth:d,realtime:f,global:m}=t,g={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function xS(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_S(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Hb="2.81.1",Eo=30*1e3,Bm=3,pp=Bm*Eo,NS="http://localhost:9999",SS="supabase.auth.token",jS={"X-Client-Info":`gotrue-js/${Hb}`},Um="X-Supabase-Api-Version",Wb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AS=10*60*1e3;class Wc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function it(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class CS extends Wc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ES(e){return it(e)&&e.name==="AuthApiError"}class La extends Wc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ha extends Wc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class bs extends ha{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function PS(e){return it(e)&&e.name==="AuthSessionMissingError"}class xo extends ha{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vd extends ha{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class yd extends ha{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function LS(e){return it(e)&&e.name==="AuthImplicitGrantRedirectError"}class Sv extends ha{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qm extends ha{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function mp(e){return it(e)&&e.name==="AuthRetryableFetchError"}class jv extends ha{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class zm extends ha{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kv=` 	
\r=`.split(""),TS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kv.length;t+=1)e[kv[t].charCodeAt(0)]=-2;for(let t=0;t<yh.length;t+=1)e[yh[t].charCodeAt(0)]=t;return e})();function Av(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yh[n]),t.queuedBits-=6}}function Gb(e,t,r){const n=TS[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Cv(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{RS(a,n,r)};for(let a=0;a<e.length;a+=1)Gb(e.charCodeAt(a),s,i);return t.join("")}function IS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function OS(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}IS(n,t)}}function RS(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Xo(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Gb(e.charCodeAt(s),r,n);return new Uint8Array(t)}function FS(e){const t=[];return OS(e,r=>t.push(r)),new Uint8Array(t)}function Fa(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Av(s,r,n)),Av(null,r,n),t.join("")}function DS(e){return Math.round(Date.now()/1e3)+e}function MS(){return Symbol("auth-callback")}const Hr=()=>typeof window<"u"&&typeof document<"u",Na={tested:!1,writable:!1},Yb=()=>{if(!Hr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Na.tested)return Na.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Na.tested=!0,Na.writable=!0}catch{Na.tested=!0,Na.writable=!1}return Na.writable};function BS(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Kb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),US=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Po=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Sa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ri=async(e,t)=>{await e.removeItem(t)};class $h{constructor(){this.promise=new $h.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}$h.promiseConstructor=Promise;function gp(e){const t=e.split(".");if(t.length!==3)throw new zm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!kS.test(t[n]))throw new zm("JWT not in base64url format");return{header:JSON.parse(Cv(t[0])),payload:JSON.parse(Cv(t[1])),signature:Xo(t[2]),raw:{header:t[0],payload:t[1]}}}async function qS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zS(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function $S(e){return("0"+e.toString(16)).substr(-2)}function VS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,$S).join("")}async function HS(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function WS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await HS(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function No(e,t,r=!1){const n=VS();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Po(e,`${t}-code-verifier`,s);const i=await WS(n);return[i,n===i?"plain":"s256"]}const GS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YS(e){const t=e.headers.get(Um);if(!t||!t.match(GS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function KS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function JS(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const QS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function So(e){if(!QS.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function XS(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Ev(e){return JSON.parse(JSON.stringify(e))}const Aa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZS=[502,503,504];async function Pv(e){var t;if(!US(e))throw new qm(Aa(e),0);if(ZS.includes(e.status))throw new qm(Aa(e),e.status);let r;try{r=await e.json()}catch(i){throw new La(Aa(i),i)}let n;const s=YS(e);if(s&&s.getTime()>=Wb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new jv(Aa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new bs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new jv(Aa(r),e.status,r.weak_password.reasons);throw new CS(Aa(r),e.status||500,n)}const ej=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ht(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Um]||(i[Um]=Wb["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",o=await tj(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(o):{data:Object.assign({},o),error:null}}async function tj(e,t,r,n,s,i){const a=ej(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(o){throw console.error(o),new qm(Aa(o),0)}if(l.ok||await Pv(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(o){await Pv(o)}}function _s(e){var t;let r=null;sj(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=DS(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Lv(e){const t=_s(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function rj(e){return{data:e,error:null}}function nj(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=yl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},o=Object.assign({},a);return{data:{properties:l,user:o},error:null}}function Tv(e){return e}function sj(e){return e.access_token&&e.refresh_token&&e.expires_in}const yp=["global","local","others"];class ij{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Kb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=yp[0]){if(yp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yp.join(", ")}`);try{return await ht(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ht(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zi})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=yl(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ht(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:nj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(it(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zi})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,o;try{const d={nextPage:null,lastPage:0,total:0},f=await ht(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Tv});if(f.error)throw f.error;const m=await f.json(),g=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return p.length>0&&(p.forEach(b=>{const N=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);d[`${j}Page`]=N}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(it(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){So(t);try{return await ht(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zi})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){So(t);try{return await ht(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zi})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){So(t);try{return await ht(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zi})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){So(t.userId);try{const{data:r,error:n}=await ht(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _deleteFactor(t){So(t.userId),So(t.id);try{return{data:await ht(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,o;try{const d={nextPage:null,lastPage:0,total:0},f=await ht(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Tv});if(f.error)throw f.error;const m=await f.json(),g=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return p.length>0&&(p.forEach(b=>{const N=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);d[`${j}Page`]=N}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(it(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ht(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ht(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(it(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ht(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}}function Iv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const jo={debug:!!(globalThis&&Yb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class aj extends Jb{}async function oj(e,t,r){jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),jo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new aj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(jo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function lj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function cj(e){return parseInt(e,16)}function uj(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function dj(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:o,resources:d,scheme:f,uri:m,version:g}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=Qb(e.address),b=f?`${f}://${n}`:n,N=e.statement?`${e.statement}
`:"",j=`${b} wants you to sign in with your Ethereum account:
${p}

${N}`;let _=`URI: ${m}
Version: ${g}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(_+=`
Expiration Time: ${s.toISOString()}`),l&&(_+=`
Not Before: ${l.toISOString()}`),o&&(_+=`
Request ID: ${o}`),d){let w=`
Resources:`;for(const S of d){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);w+=`
- ${S}`}_+=w}return`${j}
${_}`}class jr extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class bh extends jr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function hj({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new jr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new jr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new jr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new jr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new jr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new jr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new jr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Xb(a)){if(i.rp.id!==a)return new jr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new jr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new jr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function fj({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new jr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Xb(n)){if(r.rpId!==n)return new jr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new jr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class pj{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const mj=new pj;function gj(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=yl(e,["challenge","user","excludeCredentials"]),i=Xo(t).buffer,a=Object.assign(Object.assign({},r),{id:Xo(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const d=n[o];l.excludeCredentials[o]=Object.assign(Object.assign({},d),{id:Xo(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function vj(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=yl(e,["challenge","allowCredentials"]),s=Xo(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Xo(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function yj(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Fa(new Uint8Array(e.response.attestationObject)),clientDataJSON:Fa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function bj(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Fa(new Uint8Array(s.authenticatorData)),clientDataJSON:Fa(new Uint8Array(s.clientDataJSON)),signature:Fa(new Uint8Array(s.signature)),userHandle:s.userHandle?Fa(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Xb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ov(){var e,t;return!!(Hr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function _j(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bh("Browser returned unexpected credential type",t)}:{data:null,error:new bh("Empty credential response",t)}}catch(t){return{data:null,error:hj({error:t,options:e})}}}async function wj(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bh("Browser returned unexpected credential type",t)}:{data:null,error:new bh("Empty credential response",t)}}catch(t){return{data:null,error:fj({error:t,options:e})}}}const xj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Nj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _h(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=_h(l,a):n[i]=_h(a)}else n[i]=a}return n}function Sj(e,t){return _h(xj,e,t||{})}function jj(e,t){return _h(Nj,e,t||{})}class kj{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const o=s??mj.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=Sj(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:m}=await _j({publicKey:d,signal:o});return f?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}case"request":{const d=jj(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:m}=await wj(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:o}));return f?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}}}catch(a){return it(a)?{data:null,error:a}:{data:null,error:new La("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Wc("rpId is required for WebAuthn authentication")};try{if(!Ov())return{data:null,error:new La("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:o}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:o.type,rpId:r,rpOrigins:n,credential_response:o.credential_response}})}catch(a){return it(a)?{data:null,error:a}:{data:null,error:new La("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Wc("rpId is required for WebAuthn registration")};try{if(!Ov())return{data:null,error:new La("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(f=>{var m;return(m=f.data)===null||m===void 0?void 0:m.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:o,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return o?this._verify({factorId:a.id,challengeId:o.challengeId,webauthn:{rpId:r,rpOrigins:n,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:d}}catch(a){return it(a)?{data:null,error:a}:{data:null,error:new La("Unexpected error in register",a)}}}}lj();const Aj={url:NS,storageKey:SS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Rv(e,t,r){return await r()}const ko={};class Gc{get jwks(){var t,r;return(r=(t=ko[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ko[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Aj),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Gc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Gc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Hr()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ij({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Kb(i.fetch),this.lock=i.lock||Rv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Hr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=oj:this.lock=Rv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Yb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Iv(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Iv(this.memoryStorage)),Hr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Hb}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Hr()&&(r=BS(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Hr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),LS(i)){const o=(t=i.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return it(r)?this._returnResult({error:r}):this._returnResult({error:new La("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:_s}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const o=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:d,session:o},error:null})}catch(i){if(it(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:f,password:m,options:g}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await No(this.storage,this.storageKey)),i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:f,password:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:b},xform:_s})}else if("phone"in t){const{phone:f,password:m,options:g}=t;i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:_s})}else throw new vd("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const o=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:d,session:o},error:null})}catch(i){if(it(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lv})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lv})}else throw new vd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new xo;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,o,d,f,m,g;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:N,wallet:j,statement:_,options:w}=t;let S;if(Hr())if(typeof j=="object")S=j;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")S=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=j}const D=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),B=await S.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ee=Qb(B[0]);let R=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!R){const U=await S.request({method:"eth_chainId"});R=cj(U)}const I={domain:D.host,address:ee,statement:_,uri:D.href,version:"1",chainId:R,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=w==null?void 0:w.signInWithEthereum)===null||f===void 0?void 0:f.resources};p=dj(I),b=await S.request({method:"personal_sign",params:[uj(p),ee]})}try{const{data:N,error:j}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:b},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:_s});if(j)throw j;if(!N||!N.session||!N.user){const _=new xo;return this._returnResult({data:{user:null,session:null},error:_})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:j})}catch(N){if(it(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(t){var r,n,s,i,a,l,o,d,f,m,g,p;let b,N;if("message"in t)b=t.message,N=t.signature;else{const{chain:j,wallet:_,statement:w,options:S}=t;let D;if(Hr())if(typeof _=="object")D=_;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))D=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=_}const B=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in D&&D.signIn){const ee=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),w?{statement:w}:null));let R;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")R=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)R=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)b=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),N=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${B.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(s=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((m=(f=S==null?void 0:S.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...S.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const ee=await D.signMessage(new TextEncoder().encode(b),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=ee}}try{const{data:j,error:_}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Fa(N)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:_s});if(_)throw _;if(!j||!j.session||!j.user){const w=new xo;return this._returnResult({data:{user:null,session:null},error:w})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:_})}catch(j){if(it(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(t){const r=await Sa(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:_s});if(await Ri(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new xo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(it(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_s}),{data:o,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!o||!o.session||!o.user){const f=new xo;return this._returnResult({data:{user:null,session:null},error:f})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:d})}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:o}=t;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await No(this.storage,this.storageKey));const{error:m}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(n=o==null?void 0:o.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:o}=t,{data:d,error:f}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=o==null?void 0:o.data)!==null&&s!==void 0?s:{},create_user:(i=o==null?void 0:o.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(a=o==null?void 0:o.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new vd("You must provide either an email or phone number.")}catch(l){if(it(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await ht(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:_s});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,d=a.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:d,session:o},error:null})}catch(s){if(it(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let l=null,o=null;this.flowType==="pkce"&&([l,o]=await No(this.storage,this.storageKey));const d=await ht(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:o}),headers:this.headers,xform:rj});return!((i=d.data)===null||i===void 0)&&i.url&&Hr()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(it(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new bs;const{error:s}=await ht(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(it(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await ht(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await ht(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new vd("You must provide either an email or phone number and a type")}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Sa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<pp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Sa(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=vp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=XS(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zi}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bs}:await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:zi})})}catch(r){if(it(r))return PS(r)&&(await this._removeSession(),await Ri(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new bs;const a=s.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await No(this.storage,this.storageKey));const{data:d,error:f}=await ht(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:a.access_token,xform:zi});if(f)throw f;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(it(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bs;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=gp(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(it(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new bs;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Hr())throw new yd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new yd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Sv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Sv("No code detected.");const{data:w,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:o,token_type:d}=t;if(!i||!l||!a||!d)throw new yd("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(l);let g=f+m;o&&(g=parseInt(o));const p=g-f;p*1e3<=Eo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const b=g-m;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,f);const{data:N,error:j}=await this._getUser(i);if(j)throw j;const _={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:m,expires_at:g,refresh_token:a,token_type:d,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:t.type},error:null})}catch(n){if(it(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Sa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(ES(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Ri(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=MS(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await No(this.storage,this.storageKey,!0));try{return await ht(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(it(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,o,d,f;const{data:m,error:g}=i;if(g)throw g;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await ht(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Hr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(it(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:o,access_token:d,nonce:f}=t,m=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:o,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_s}),{data:g,error:p}=m;return p?this._returnResult({data:{user:null,session:null},error:p}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new xo}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:p}))}catch(s){if(it(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await ht(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await zS(async s=>(s>0&&await qS(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ht(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_s})),(s,i)=>{const a=200*Math.pow(2,s);return i&&mp(i)&&Date.now()+a-n<Eo})}catch(n){if(this._debug(r,"error",n),it(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Hr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Sa(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Sa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Po(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:vp()}else if(s&&!s.user&&!s.user){const a=await Sa(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Ri(this.storage,this.storageKey+"-user"),await Po(this.storage,this.storageKey,s)):s.user=vp()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<pp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${pp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),mp(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new bs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new $h;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new bs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),it(i)){const a={data:null,error:i};return mp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(o){i.push(o)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Po(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Ev(s);await Po(this.storage,this.storageKey,i)}else{const s=Ev(r);await Po(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ri(this.storage,this.storageKey),await Ri(this.storage,this.storageKey+"-code-verifier"),await Ri(this.storage,this.storageKey+"-user"),this.userStorage&&await Ri(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Hr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Eo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Eo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Eo}ms, refresh threshold is ${Bm} ticks`),s<=Bm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Jb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Hr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await No(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await ht(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:d}=await ht(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&o.type==="totp"&&(!((s=o==null?void 0:o.totp)===null||s===void 0)&&s.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?yj(t.webauthn.credential_response):bj(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:o}=await ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:o}))})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:gj(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:vj(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=gp(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await ht(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new bs})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new bs});const a=await ht(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Hr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new bs});const a=await ht(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Hr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+AS>s)return n;const{data:i,error:a}=await ht(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return this._returnResult({data:null,error:b});n=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:o}}=gp(n);r!=null&&r.allowExpired||KS(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const f=JS(s.alg),m=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,a,FS(`${l}.${o}`)))throw new zm("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}}Gc.nextInstanceID={};const Cj=Gc;class Ej extends Cj{constructor(t){super(t)}}class Pj{constructor(t,r,n){var s,i,a;this.supabaseUrl=t,this.supabaseKey=r;const l=xS(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:pS,realtime:gS,auth:Object.assign(Object.assign({},mS),{storageKey:o}),global:fS},f=wS(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=bS(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new N4(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new uS(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new _4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:l,lock:o,debug:d,throwOnError:f},m,g){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ej({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),m),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:o,debug:d,throwOnError:f,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new U4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Lj=(e,t,r)=>new Pj(e,t,r);function Tj(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Tj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ij="https://wfxdvgwlfpqkadkvwbzg.supabase.co",Oj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndmeGR2Z3dsZnBxa2Fka3Z3YnpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NDgxNTIsImV4cCI6MjA3ODQyNDE1Mn0.svO7O2XMoCOHDCt6zxchQOzQD05X1Y3onxqcXplA5gk",Ye=Lj(Ij,Oj),Rj=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():Math.random().toString(36).slice(2),Yc=Y5(e=>({pendingRequests:0,toasts:[],startRequest:()=>e(t=>({pendingRequests:t.pendingRequests+1})),finishRequest:()=>e(t=>({pendingRequests:Math.max(0,t.pendingRequests-1)})),pushToast:t=>e(r=>{const n={id:t.id||Rj(),type:t.type||"info",title:t.title||"",message:t.message||"",duration:typeof t.duration=="number"?t.duration:5e3};return{toasts:[...r.toasts,n]}}),dismissToast:t=>e(r=>({toasts:r.toasts.filter(n=>n.id!==t)})),clearToasts:()=>e({toasts:[]})})),d0=async e=>{const{startRequest:t,finishRequest:r}=Yc.getState();t();try{return await e}finally{r()}},nt=(e,t={})=>{const{pushToast:r}=Yc.getState();r({message:e,...t})},Xe={applications:"applications",academicYears:"academic_year",groups:"groups",courses:"courses",subCategories:"subject_category",subjects:"subjects",batches:"batches",students:"students",exams:"exams",payments:"payments",hallTickets:"hall_tickets",results:"results",feeDefinitions:"fee_structure",feeCategories:"fee_categories"},_t=async(e,t)=>{const{data:r,error:n}=await d0(e);if(n)throw console.error(t??"Supabase query failed",n),new Error(t||n.message);return r},$m=async(e,t)=>{const{data:r,error:n}=await d0(e);if(n&&n.code!=="PGRST116")throw console.error(t??"Supabase query failed",n),new Error(t||n.message);return r??null},Fj={[Xe.academicYears]:{cols:["academic_year"],pk:"id"},[Xe.groups]:{cols:["group_code","group_name"],pk:"group_id"},[Xe.courses]:{cols:["course_code","course_name"],pk:"course_id"},[Xe.subCategories]:{cols:["category_name"],pk:"category_id"},[Xe.subjects]:{composite:["academic_year","course_name","semester_number","category_id"],pk:"subject_id"},[Xe.batches]:{cols:["name"],pk:"id"},[Xe.students]:{cols:["student_id","hall_ticket_no","aadhar_number","email"],pk:"id"},[Xe.feeCategories]:{cols:["name"],pk:"id"},[Xe.feeDefinitions]:{composite:["academic_year","group","course","semester","fee_cat"],pk:"id"}},In=async(e,t={},r={})=>{const n=Fj[e];if(!n)return;const s=r.excludeIdCol||n.pk;if(n.composite){const i={};for(const a of n.composite)t[a]!==void 0&&t[a]!==null&&t[a]!==""&&(i[a]=t[a]);if(Object.keys(i).length===n.composite.length)try{let a=Ye.from(e).select(s);for(const o of Object.keys(i))a=a.eq(o,i[o]);if(r.excludeId&&(a=a.neq(s,r.excludeId)),await $m(a.maybeSingle(),"Duplicate check"))throw new Error("Duplicate fee definition already exists")}catch{try{const l=[...n.composite,s];if((await _t(Ye.from(e).select(l.join(",")),"Duplicate check fallback")||[]).find(f=>r.excludeId&&String(f[s])===String(r.excludeId)?!1:n.composite.every(m=>{const g=f[m],p=i[m];return String(g)===String(p)})))throw new Error("Duplicate fee definition already exists")}catch(l){throw console.error("Duplicate check failed (fallback)",l),l}}return}for(const i of n.cols||[]){const a=t[i];if(!(a==null||a===""))try{let l=Ye.from(e).select(s);if(l=l.eq(i,a),r.excludeId&&(l=l.neq(s,r.excludeId)),await $m(l.maybeSingle(),"Duplicate check")){const d=i.replace(/_/g," ");throw new Error(`${d} already exists`)}}catch{try{if((await _t(Ye.from(e).select(`${i},${s}`),"Duplicate check fallback")||[]).find(f=>r.excludeId&&String(f[s])===String(r.excludeId)?!1:String(f[i])===String(a))){const f=i.replace(/_/g," ");throw new Error(`${f} already exists`)}}catch(o){throw console.error("Duplicate check failed (fallback)",o),o}}}},bp=(e={})=>{const t=e.status,r=t===0||t==="0"||t===!1,n=e.academic_year??e.name??"";return{id:e.id,academic_year:n,name:n,active:!r}},bd=({name:e,active:t})=>({academic_year:e,status:t?1:0}),_p=(e={})=>({id:e.group_id??e.id,code:e.group_code,name:e.group_name,category:e.category||e.Category||"",years:e.duration_years??0,semesters:e.number_semesters??0}),_d=({code:e,name:t,years:r,semesters:n,category:s})=>({group_code:e,group_name:t,category:s??null,duration_years:r??null,number_semesters:n??null}),wp=(e={})=>{const t=e.course_code||e.code,r=e.course_name||e.name,n=e.group_name||e.group_code||e.groupCode||"",s=Number(e.no_of_semesters??e.semesters??0)||0,i=e.duration_years??(s?Math.ceil(s/2):null);return{id:e.course_id??e.id,code:t,name:r,courseCode:t,courseName:r,group_code:n,groupCode:n,semesters:s,duration_years:i}},wd=({code:e,name:t,group_code:r,groupCode:n,semesters:s,duration_years:i})=>({course_code:e,course_name:t,group_name:r||n||null,no_of_semesters:s??null,duration_years:i??(s?Math.ceil(s/2):null)}),Zb=e=>{if(!e&&e!==0)return[];if(Array.isArray(e))return e.filter(Boolean);if(typeof e=="string"){const t=e.trim();if(!t)return[];try{const r=JSON.parse(t);if(Array.isArray(r))return r.filter(Boolean)}catch{}return t.split(/[\r\n,]+/).map(r=>r.trim()).filter(Boolean)}try{const t=JSON.parse(e);if(Array.isArray(t))return t.filter(Boolean)}catch{}return[]},xp=(e={})=>({id:e.category_id??e.id,name:e.category_name,subjects:Zb(e.subjects_name)}),xd=({name:e,subjects:t})=>({category_name:e,category_count:Array.isArray(t)?t.length:0,subjects_name:JSON.stringify(Array.isArray(t)?t:[])}),Fv=(e={})=>{var i;const t=e.semester_number??e.semester??"",r=e.amount??e.fee_amount,n=e.subject_code||e.subjectName||e.subject_name||"",s=e.subject_name||e.subjectName||n;return{id:e.subject_id??e.id,subjectId:e.subject_id??e.id??"",academicYearId:e.academic_year_id||e.academicYearId||"",academicYearName:e.academic_year_name||e.academic_year||e.academicYearName||"",groupCode:e.group_code||e.groupCode||"",courseCode:e.course_code||e.courseCode||e.course_name||"",courseName:e.course_name||e.courseName||e.course_code||"",semester:t===""||t===void 0||t===null?"":Number(t),categoryId:e.category_id??e.categoryId??"",category:e.category||e.category_name||((i=e.subject_category)==null?void 0:i.category_name)||"",subjectCode:n,subjectName:s,subjectNames:Zb(e.subjects_name||e.subject_name||e.subjectName),feeCategory:e.fee_category||e.feeCategory||e.fees_category||"",feeAmount:r==null||r===""?"":Number(r)}},Dv=(e={})=>{const t=e.semester??e.semester_number??e.semesterNumber??null,r=t===""||t===void 0||t===null?null:Number(t),n=e.amount??e.feeAmount??e.fee_amount,s=n===""||n===void 0||n===null?null:Number(n),i=e.subject_id||e.subjectId||e.id,a={academic_year:e.academic_year||e.academicYearName||e.academicYear||null,course_name:e.course_name||e.courseName||e.courseCode||null,semester_number:r,category_id:e.category_id??e.categoryId??null,subject_code:e.subject_code||e.subjectCode||e.subject_name||e.subjectName||null,subject_name:e.subject_name||e.subjectName||e.subject_code||e.subjectCode||null,fees_category:e.fees_category||e.feeCategory||null,amount:s};return i&&(a.subject_id=i),a},Dj=(e={})=>({id:e.id,student_id:e.student_id,admission_no:e.admission_no,ht_no:e.ht_no,academic_year:e.academic_year,group:e.group_code||e.group,course_id:e.course_code||e.course_id,full_name:e.full_name,gender:e.gender,dob:e.dob,father_name:e.father_name,mother_name:e.mother_name,nationality:e.nationality,state:e.state,aadhar_no:e.aadhar_number,postal_code:e.postal_code,address:e.address,mobile:e.mobile,email:e.email,religion:e.religion,caste:e.caste,sub_caste:e.sub_caste,photo_url:e.photo_url,cert_url:e.cert_url,status:e.status||"PENDING",created_at:e.created_at}),Mj=(e={})=>({student_id:e.student_id||null,admission_no:e.admission_no||null,ht_no:e.ht_no||null,academic_year:e.academic_year||null,group_code:e.group||e.group_code||null,course_code:e.course_id||e.course_code||null,full_name:e.full_name||null,gender:e.gender||null,dob:e.dob||null,father_name:e.father_name||null,mother_name:e.mother_name||null,nationality:e.nationality||null,state:e.state||null,aadhar_number:e.aadhar_no||null,postal_code:e.postal_code||null,address:e.address||null,mobile:e.mobile||null,email:e.email||null,religion:e.religion||null,caste:e.caste||null,sub_caste:e.sub_caste||null,photo_url:e.photo_url||null,cert_url:e.cert_url||null,status:e.status||"PENDING"}),Bj=(e={})=>({id:e.id??e.student_id,student_id:e.student_id,hall_ticket_no:e.hall_ticket_no||e.hallticket_no,hallticket_no:e.hall_ticket_no||e.hallticket_no,full_name:e.full_name,academic_year:e.academic_year,group:e.group_name||e.group,course_id:e.course_name||e.course_id,course_name:e.course_name,gender:e.gender,dob:e.date_of_birth||e.dob,mobile:e.phone_number||e.mobile,email:e.email,address:e.address,father_name:e.father_name,mother_name:e.mother_name,nationality:e.nationality,state:e.state,aadhar_no:e.aadhar_number||e.aadhar_no,postal_code:e.pincode||e.postal_code,religion:e.religion,caste:e.caste,sub_caste:e.sub_caste,photo_url:e.photo_url,cert_url:e.cert_url,status:e.status||"ACTIVE",created_at:e.created_at}),Uj=(e={})=>({student_id:e.student_id,hall_ticket_no:e.hall_ticket_no||e.hallticket_no||null,academic_year:e.academic_year||null,group_name:e.group||e.group_name||null,course_name:e.course_id||e.course_name||null,full_name:e.full_name||null,gender:e.gender||null,date_of_birth:e.dob||e.date_of_birth||null,father_name:e.father_name||null,mother_name:e.mother_name||null,nationality:e.nationality||null,state:e.state||null,aadhar_number:e.aadhar_no||e.aadhar_number||null,address:e.address||null,pincode:e.postal_code||e.pincode||null,phone_number:e.mobile||e.phone_number||null,religion:e.religion||null,caste:e.caste||null,sub_caste:e.sub_caste||null,photo_url:e.photo_url||null,cert_url:e.cert_url||null,status:e.status||"ACTIVE"}),Mv=(e={})=>({id:e.id,name:e.name,created_at:e.created_at}),Bv=({name:e})=>({name:e}),qj=(e={})=>({id:e.id,title:e.title,date:e.date||e.exam_date,time:e.time||e.exam_time,venue:e.venue,course_id:e.course_id,created_at:e.created_at}),zj=({title:e,date:t,time:r,venue:n,course_id:s})=>({title:e,exam_date:t,exam_time:r,venue:n,course_id:s||null}),$j=(e={})=>{const t=e.group??e.group_code??e.group_name,r=e.course??e.course_code??e.course_name,n=e.semester??e.semester_number;return{id:e.id??e.fee_id,academic_year:e.academic_year,group:t,group_code:t,group_name:e.group_name??t,course_code:r,course_name:e.course_name??r,semester:n,semester_number:n,payment_type:e.payment_type??e.fee_cat,amount:e.amount}},Uv=(e={})=>({academic_year:e.academic_year,group:e.group||e.group_code,course:e.course_code||e.course,semester:e.semester??e.semester_number,fee_cat:e.payment_type??e.fee_cat,amount:e.amount}),Vj=(e={})=>({id:e.id??e.result_id,student_id:e.student_id,exam_id:e.exam_id,total:e.total,grade:e.grade??e.result_status,created_at:e.created_at}),Hj=(e={})=>({student_id:e.student_id,exam_id:e.exam_id,total:e.total,grade:e.grade}),Wj=(e={})=>({id:e.id,name:e.name,fees:e.fees||[]}),qv=(e={})=>({id:e.id,name:e.name,fees:e.fees||[]}),Gj=[{email:"admin@vijayam.edu",role:"ADMIN"},{email:"principal@vijayam.edu",role:"PRINCIPAL"}],xe={submitApplication:async e=>(await _t(Ye.from(Xe.applications).insert(Mj(e)),"Unable to submit application"),{ok:!0}),login:async e=>{const t=Gj.find(r=>r.email.toLowerCase()===String(e).toLowerCase());if(!t)throw new Error("Access denied");return{...t}},listApplications:async()=>(await _t(Ye.from(Xe.applications).select("*").order("created_at",{ascending:!1}),"Unable to load applications")).map(Dj),approveApplication:async(e,t)=>{const r=Uj(t);await In(Xe.students,r),await _t(Ye.from(Xe.students).insert(r),"Unable to create student record"),await _t(Ye.from(Xe.applications).update({status:"APPROVED"}).eq("id",e),"Unable to update application status")},deleteApplication:async e=>{await _t(Ye.from(Xe.applications).delete().eq("id",e),"Unable to delete application")},listAcademicYears:async()=>(await _t(Ye.from(Xe.academicYears).select("id, academic_year, status").order("academic_year"),"Unable to fetch academic years")).map(bp),addAcademicYear:async e=>{await In(Xe.academicYears,bd(e));const t=await _t(Ye.from(Xe.academicYears).insert(bd(e)).select("id, academic_year, status").single(),"Unable to add academic year");return bp(t)},updateAcademicYear:async(e,t)=>{await In(Xe.academicYears,bd(t),{excludeId:e});const r=await _t(Ye.from(Xe.academicYears).update(bd(t)).eq("id",e).select("id, academic_year, status").single(),"Unable to update academic year");return bp(r)},deleteAcademicYear:async e=>{await _t(Ye.from(Xe.academicYears).delete().eq("id",e),"Unable to delete academic year")},listGroups:async()=>(await _t(Ye.from(Xe.groups).select("*").order("group_code"),"Unable to fetch groups")).map(_p),addGroup:async e=>{await In(Xe.groups,_d(e));const t=await _t(Ye.from(Xe.groups).insert(_d(e)).select("*").single(),"Unable to add group");return _p(t)},updateGroup:async(e,t)=>{await In(Xe.groups,_d(t),{excludeId:e});const r=await _t(Ye.from(Xe.groups).update(_d(t)).eq("group_id",e).select("*").single(),"Unable to update group");return _p(r)},deleteGroup:async e=>{await _t(Ye.from(Xe.groups).delete().eq("group_id",e),"Unable to delete group")},listCourses:async()=>(await _t(Ye.from(Xe.courses).select("course_id, course_code, course_name, group_name, no_of_semesters, duration_years").order("course_code"),"Unable to fetch courses")).map(wp),addCourse:async e=>{await In(Xe.courses,wd(e));const t=await _t(Ye.from(Xe.courses).insert(wd(e)).select("course_id, course_code, course_name, group_name, no_of_semesters, duration_years").single(),"Unable to add course");return wp(t)},updateCourse:async(e,t)=>{await In(Xe.courses,wd(t),{excludeId:e});const r=await _t(Ye.from(Xe.courses).update(wd(t)).eq("course_id",e).select("course_id, course_code, course_name, group_name, no_of_semesters, duration_years").single(),"Unable to update course");return wp(r)},deleteCourse:async e=>{await _t(Ye.from(Xe.courses).delete().eq("course_id",e),"Unable to delete course")},listSubCategories:async()=>(await _t(Ye.from(Xe.subCategories).select("category_id, category_name, subjects_name").order("category_name"),"Unable to fetch sub-categories")).map(xp),addSubCategory:async e=>{await In(Xe.subCategories,xd({name:e,subjects:[]}));const t=await _t(Ye.from(Xe.subCategories).insert(xd({name:e,subjects:[]})).select("category_id, category_name, subjects_name").single(),"Unable to add sub-category");return xp(t)},updateSubCategory:async(e,{name:t,subjects:r})=>{await In(Xe.subCategories,xd({name:t,subjects:r}),{excludeId:e});const n=await _t(Ye.from(Xe.subCategories).update(xd({name:t,subjects:r})).eq("category_id",e).select("category_id, category_name, subjects_name").single(),"Unable to update sub-category");return xp(n)},deleteSubCategory:async e=>{e&&(await _t(Ye.from(Xe.subjects).delete().eq("category_id",e),"Unable to delete linked subjects for sub-category"),await _t(Ye.from(Xe.subCategories).delete().eq("category_id",e),"Unable to delete sub-category"))},listSubjects:async()=>(await _t(Ye.from(Xe.subjects).select("subject_id, academic_year, course_name, semester_number, category_id, subject_code, subject_name, fees_category, amount, subject_category:subject_category(category_name)").order("academic_year",{ascending:!1}).order("course_name").order("semester_number"),"Unable to fetch subjects")).map(Fv),addSubjects:async(e=[])=>{if(!Array.isArray(e)||!e.length)return[];for(const s of e){const i=Dv(s),a=s.subject_id||s.subjectId||s.id||null,l=a!=null&&a!==""?Number(a):null;await In(Xe.subjects,i,{excludeId:isNaN(l)?void 0:l})}const t=e.map(s=>{const i=Dv(s);return i.subject_id!==void 0&&delete i.subject_id,i}),r=["academic_year","course_name","semester_number","category_id"].join(",");return(await _t(Ye.from(Xe.subjects).upsert(t,{onConflict:r}).select("subject_id, academic_year, course_name, semester_number, category_id, subject_code, subject_name, fees_category, amount, subject_category:subject_category(category_name)"),"Unable to save subjects")).map(Fv)},deleteSubject:async e=>{e&&await _t(Ye.from(Xe.subjects).delete().eq("subject_id",e),"Unable to delete subject")},listBatches:async()=>(await _t(Ye.from(Xe.batches).select("id, name, created_at").order("created_at",{ascending:!1}),"Unable to fetch batches")).map(Mv),addBatch:async e=>{await In(Xe.batches,Bv(e));const t=await _t(Ye.from(Xe.batches).insert(Bv(e)).select("id, name, created_at").single(),"Unable to add batch");return Mv(t)},listStudents:async()=>(await _t(Ye.from(Xe.students).select("id, student_id, hall_ticket_no, academic_year, group_name, course_name, full_name, gender, date_of_birth, phone_number, email, address, father_name, mother_name, nationality, state, aadhar_number, pincode, religion, caste, sub_caste, photo_url, cert_url, status, created_at").order("created_at",{ascending:!1}),"Unable to fetch students")).map(Bj),deleteStudent:async e=>{e&&await _t(Ye.from(Xe.students).delete().eq("id",e),"Unable to delete student")},listExams:async()=>(await _t(Ye.from(Xe.exams).select("id, name, created_at").order("created_at",{ascending:!1}),"Unable to fetch exams")).map(qj),addExam:async e=>{await _t(Ye.from(Xe.exams).insert(zj(e)),"Unable to add exam")},addPayment:async e=>{await _t(Ye.from(Xe.payments).insert({student_id:e.student_id,amount:Number(e.amount),method:e.method,reference:e.reference||null}),"Unable to record payment")},upsertHallTicket:async({student_id:e,exam_id:t,token:r})=>{const n=await $m(Ye.from(Xe.hallTickets).select("id").eq("student_id",e).eq("exam_id",t).maybeSingle(),"Unable to load hall ticket");n?await _t(Ye.from(Xe.hallTickets).update({token:r}).eq("id",n.id),"Unable to update hall ticket"):await _t(Ye.from(Xe.hallTickets).insert({student_id:e,exam_id:t,token:r}),"Unable to create hall ticket")},addResult:async e=>{await _t(Ye.from(Xe.results).insert(Hj(e)),"Unable to record result")},listResults:async()=>(await _t(Ye.from(Xe.results).select("id, student_id, exam_id, total, grade, created_at").order("created_at",{ascending:!1}),"Unable to fetch results")).map(Vj),listFees:async()=>(await _t(Ye.from(Xe.feeDefinitions).select('id, academic_year, "group", course, semester, fee_cat, amount').order("academic_year",{ascending:!1}),"Unable to fetch fee definitions")).map($j),addFee:async e=>{await In(Xe.feeDefinitions,Uv(e)),await _t(Ye.from(Xe.feeDefinitions).insert(Uv(e)),"Unable to add fee definition")},getFeeTypes:async()=>(await _t(Ye.from(Xe.feeCategories).select("id, name, fees").order("name"),"Unable to fetch fee categories")).map(Wj),setFeeTypes:async e=>{const t=e.map(a=>String(a.name||"").trim().toLowerCase());if(t.findIndex((a,l)=>a&&t.indexOf(a)!==l)!==-1)throw new Error("Duplicate fee category names in payload");const n=await _t(Ye.from(Xe.feeCategories).select("id, name"),"Unable to load existing fee categories"),s=new Set(e.map(a=>a.id)),i=n.map(a=>a.id).filter(a=>!s.has(a));if(i.length&&await _t(Ye.from(Xe.feeCategories).delete().in("id",i),"Unable to remove old fee categories"),e.length){for(const a of e)await In(Xe.feeCategories,qv(a),{excludeId:a.id});await _t(Ye.from(Xe.feeCategories).upsert(e.map(qv)),"Unable to save fee categories")}}},Yj=e=>e==null?!0:typeof e=="string"?e.trim().length===0:typeof e=="number"?Number.isNaN(e):Array.isArray(e)?e.length===0:e instanceof Set||e instanceof Map?e.size===0:typeof e=="object"?Object.keys(e).length===0:!1,na=(e={},t={})=>{const r=Object.entries(e).filter(([,i])=>Yj(i));if(r.length===0)return!0;const n=t.message||`Please fill the required field${r.length>1?"s":""}: ${r.map(([i])=>i).join(", ")}.`,s=t.title||"Missing information";return typeof t.notify=="function"?t.notify({title:s,message:n,missing:r}):nt(n,{type:"warning",title:s}),!1};function Kj(){const e=["Male","Female","Other"],t=["General","OBC","SC","ST","Others"],r=["Hindu","Muslim","Christian","Sikh","Buddhist","Jain","Others"],n=["Tamil Nadu","Andhra Pradesh","Karnataka","Kerala","Telangana","Maharashtra","Other"],[s,i]=X.useState({student_id:"",admission_no:"",ht_no:"",academic_year:"",group:"",course_id:"",full_name:"",gender:"",dob:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_no:"",postal_code:"",address:"",mobile:"",email:"",religion:"",caste:"",sub_caste:""}),[a,l]=X.useState(null),[o,d]=X.useState(null),[f,m]=X.useState(!1),[g,p]=X.useState(""),[b,N]=X.useState([]),[j,_]=X.useState([]),[w,S]=X.useState([]),D=(U,q)=>i(E=>({...E,[U]:q}));X.useEffect(()=>{(async()=>{var U,q;try{const[E,O,Q]=await Promise.all([xe.listCourses(),((U=xe.listGroups)==null?void 0:U.call(xe))||[],((q=xe.listAcademicYears)==null?void 0:q.call(xe))||[]]);N(E||[]),_(O||[]),S((Q||[]).filter(K=>(K==null?void 0:K.active)!==!1))}catch{N([]),_([]),S([])}})()},[]);const B=()=>{i({student_id:"",admission_no:"",ht_no:"",academic_year:"",group:"",course_id:"",full_name:"",gender:"",dob:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_no:"",postal_code:"",address:"",mobile:"",email:"",religion:"",caste:"",sub_caste:""}),l(null),d(null)},ee=(U,q)=>new RegExp(`^\\d{${q}}$`).test(U),R=(U,q)=>E=>{const O=(E.target.value||"").replace(/\D/g,"").slice(0,q);D(U,O)},I=async U=>{U.preventDefault(),p(""),m(!0);const q={"Admission No":s.admission_no,"Academic Year":s.academic_year,"Full Name":s.full_name,Gender:s.gender,"Date of Birth":s.dob,"Mobile Number":s.mobile,"Postal Code":s.postal_code,Address:s.address,Group:s.group,Course:s.course_id};if(!na(q,{title:"Incomplete application"})){m(!1);return}if(!ee(s.mobile,10)){nt("Enter a valid 10-digit mobile number.",{type:"warning",title:"Invalid mobile"}),m(!1);return}if(!ee(s.postal_code,6)){nt("Postal code must be 6 digits.",{type:"warning",title:"Invalid postal code"}),m(!1);return}if(s.aadhar_no&&!ee(s.aadhar_no,12)){nt("Aadhar number must contain 12 digits.",{type:"warning",title:"Invalid Aadhar"}),m(!1);return}try{const E={};a&&(E.photo_url=URL.createObjectURL(a)),o&&(E.cert_url=URL.createObjectURL(o)),await xe.submitApplication({...s,...E}),p("Application submitted! Admin/Principal will contact you after approval."),B()}catch(E){p(E.message||"Error submitting form")}finally{m(!1)}};return c.jsx("div",{className:"container py-5",children:c.jsx("div",{className:"row justify-content-center",children:c.jsx("div",{className:"col-lg-10",children:c.jsxs("div",{className:"card card-soft p-4",children:[c.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[c.jsx("img",{src:"/logo-placeholder.png",className:"brand-logo",alt:"logo"}),c.jsxs("div",{children:[c.jsx("h3",{className:"fw-bold mb-0",children:"Vijayam College of Arts & Science"}),c.jsx("div",{className:"text-muted",children:"Chennai"})]})]}),c.jsx("h5",{className:"mt-3",children:"Apply for Admission / Exam"}),c.jsx("form",{onSubmit:I,children:c.jsxs("div",{className:"row g-3",children:[c.jsxs("div",{className:"col-12",children:[c.jsx("h6",{className:"fw-bold mb-1",children:"Student & Admission"}),c.jsx("hr",{className:"hr-soft"})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Student ID"}),c.jsx("input",{className:"form-control",value:s.student_id,onChange:U=>D("student_id",U.target.value),placeholder:"Auto/Optional"})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Admission No"}),c.jsx("input",{className:"form-control",value:s.admission_no,onChange:U=>D("admission_no",U.target.value),required:!0})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"HT No"}),c.jsx("input",{className:"form-control",value:s.ht_no,onChange:U=>D("ht_no",U.target.value)})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Academic Year"}),c.jsxs("select",{className:"form-select",value:s.academic_year,onChange:U=>D("academic_year",U.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select"}),w.map(U=>{const q=U.name||U.academic_year;return c.jsx("option",{value:q,children:q},U.id)})]})]}),c.jsxs("div",{className:"col-12",children:[c.jsx("h6",{className:"fw-bold mb-1",children:"Group & Course"}),c.jsx("hr",{className:"hr-soft"})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Group Code"}),c.jsxs("select",{className:"form-select",value:s.group,onChange:U=>D("group",U.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select Group"}),j.map(U=>c.jsxs("option",{value:U.code,children:[U.code,"  ",U.name]},U.id))]})]}),c.jsxs("div",{className:"col-md-8",children:[c.jsx("label",{className:"form-label",children:"Course"}),c.jsxs("select",{className:"form-select",value:s.course_id,onChange:U=>D("course_id",U.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select Course"}),b.filter(U=>!s.group||!U.group_code||U.group_code===s.group).map(U=>c.jsxs("option",{value:U.id,children:[U.code?`${U.code} - `:"",U.name]},U.id))]})]}),(()=>{const U=b.find(q=>q.id===s.course_id);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Course Code"}),c.jsx("input",{className:"form-control",value:(U==null?void 0:U.code)||"",readOnly:!0,placeholder:"Auto"})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Course ID"}),c.jsx("input",{className:"form-control",value:(U==null?void 0:U.id)||"",readOnly:!0,placeholder:"Auto"})]})]})})(),c.jsxs("div",{className:"col-12",children:[c.jsx("h6",{className:"fw-bold mb-1",children:"Personal Details"}),c.jsx("hr",{className:"hr-soft"})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{className:"form-label",children:"Full Name"}),c.jsx("input",{className:"form-control",value:s.full_name,onChange:U=>D("full_name",U.target.value),required:!0})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Gender"}),c.jsxs("select",{className:"form-select",value:s.gender,onChange:U=>D("gender",U.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select"}),e.map(U=>c.jsx("option",{value:U,children:U},U))]})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"DOB"}),c.jsx("input",{type:"date",className:"form-control",value:s.dob,onChange:U=>D("dob",U.target.value),required:!0})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{className:"form-label",children:"Father's Name"}),c.jsx("input",{className:"form-control",value:s.father_name,onChange:U=>D("father_name",U.target.value)})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{className:"form-label",children:"Mother's Name"}),c.jsx("input",{className:"form-control",value:s.mother_name,onChange:U=>D("mother_name",U.target.value)})]}),c.jsxs("div",{className:"col-12",children:[c.jsx("h6",{className:"fw-bold mb-1",children:"Contact & Address"}),c.jsx("hr",{className:"hr-soft"})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Mobile"}),c.jsx("input",{className:"form-control",inputMode:"tel",maxLength:"10",pattern:"\\\\d{10}",value:s.mobile,onChange:R("mobile",10),required:!0})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Email"}),c.jsx("input",{type:"email",className:"form-control",value:s.email,onChange:U=>D("email",U.target.value)})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Nationality"}),c.jsx("input",{className:"form-control",value:s.nationality,onChange:U=>D("nationality",U.target.value)})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"State"}),c.jsxs("select",{className:"form-select",value:s.state,onChange:U=>D("state",U.target.value),children:[c.jsx("option",{value:"",children:"Select"}),n.map(U=>c.jsx("option",{value:U,children:U},U))]})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Aadhar No"}),c.jsx("input",{className:"form-control",inputMode:"numeric",maxLength:"12",pattern:"\\\\d{12}",placeholder:"12 digits",value:s.aadhar_no,onChange:R("aadhar_no",12)})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Postal Code (PIN)"}),c.jsx("input",{className:"form-control",inputMode:"numeric",maxLength:"6",pattern:"\\\\d{6}",placeholder:"6 digits",value:s.postal_code,onChange:R("postal_code",6),required:!0})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Religion"}),c.jsxs("select",{className:"form-select",value:s.religion,onChange:U=>D("religion",U.target.value),children:[c.jsx("option",{value:"",children:"Select"}),r.map(U=>c.jsx("option",{value:U,children:U},U))]})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Caste"}),c.jsxs("select",{className:"form-select",value:s.caste,onChange:U=>D("caste",U.target.value),children:[c.jsx("option",{value:"",children:"Select"}),t.map(U=>c.jsx("option",{value:U,children:U},U))]})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Sub Caste"}),c.jsx("input",{className:"form-control",value:s.sub_caste,onChange:U=>D("sub_caste",U.target.value)})]}),c.jsxs("div",{className:"col-12",children:[c.jsx("label",{className:"form-label",children:"Address"}),c.jsx("textarea",{className:"form-control",rows:"2",value:s.address,onChange:U=>D("address",U.target.value),required:!0})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Aadhar No"}),c.jsx("input",{className:"form-control",value:s.aadhar_no,onChange:U=>D("aadhar_no",U.target.value)})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Postal code"}),c.jsx("input",{className:"form-control",value:s.aadhar_no,onChange:U=>D("aadhar_no",U.target.value)})]}),c.jsxs("div",{className:"col-12",children:[c.jsx("h6",{className:"fw-bold mb-1",children:"Uploads"}),c.jsx("hr",{className:"hr-soft"})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{className:"form-label",children:"Upload Photo"}),c.jsx("input",{type:"file",accept:"image/*",className:"form-control",onChange:U=>{var q;return l(((q=U.target.files)==null?void 0:q[0])||null)}})]}),c.jsxs("div",{className:"col-12 d-flex justify-content-end gap-2 mt-2",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:B,children:"Clear"}),c.jsx("button",{className:"btn btn-brand",disabled:f,children:f?"Submitting...":"Submit"})]})]})}),g&&c.jsx("div",{className:"alert alert-info mt-3 mb-0",children:g})]})})})})}const wl="/assets/images-DpM0kpDs.png",Jj="/assets/EMS2-Dozuuo2K.jpg",Qj="/assets/EMS-BGrnyloG.jpg",Xj=[{value:"38+",label:"UG & PG programmes"},{value:"18K+",label:"Successful alumni"}];function Zj(){return c.jsx("div",{className:"home-shell",children:c.jsxs("header",{className:"home-hero home-hero--modern",children:[c.jsx("div",{className:"home-hero__bg","aria-hidden":"true",style:{"--hero-photo":`url(${Qj})`}}),c.jsx("div",{className:"container",children:c.jsxs("div",{className:"home-hero__grid home-hero__grid--fixed",children:[c.jsxs("section",{className:"home-hero__primary",children:[c.jsx("div",{className:"home-hero__crest",children:c.jsx("img",{src:wl,alt:"Vijayam crest"})}),c.jsx("h1",{className:"home-hero__title",children:"Vijayam Arts & Science College"}),c.jsx("p",{className:"home-hero__subtitle",children:"Exam Management System"}),c.jsxs("p",{className:"home-hero__tagline",children:[c.jsx("span",{className:"home-hero__tagline-text",children:"Student access to applications, results, and timetables."}),c.jsx("span",{className:"home-hero__tagline-arrow","aria-hidden":"true",children:""})]}),c.jsxs("div",{className:"home-hero__actions home-hero__actions--triple",children:[c.jsx(Wi,{to:"/application",className:"btn btn-hero-primary home-hero__action-btn home-hero__action-btn--apply",children:"Application"}),c.jsx(Wi,{to:"/public/results",className:"btn btn-hero-secondary home-hero__action-btn home-hero__action-btn--results",children:"Check Results"}),c.jsx(Wi,{to:"/public/timetable",className:"btn btn-hero-secondary home-hero__action-btn home-hero__action-btn--timetable",children:"Exam Timetable"})]})]}),c.jsxs("aside",{className:"home-hero__control home-hero__control--panel",children:[c.jsx("div",{className:"home-hero__control-badge","aria-hidden":"true",children:c.jsx("img",{src:Jj,alt:"Vijayam alternate crest"})}),c.jsx("div",{className:"home-hero__control-header",children:c.jsx("p",{className:"home-hero__control-label",children:"Exam Control Centre"})}),c.jsxs("div",{className:"home-hero__microcopy",children:[c.jsx("span",{children:"Official control room for approvals & schedules"}),c.jsx("span",{children:"Coordinated support for principals, staff, and students"})]}),c.jsx("p",{className:"home-hero__control-login-label",children:"Admin login"}),c.jsx("div",{className:"home-hero__stats home-hero__stats--stacked",children:Xj.map(e=>c.jsxs("div",{className:"home-hero__stat",children:[c.jsx("span",{className:"home-hero__stat-value",children:e.value}),c.jsx("span",{className:"home-hero__stat-label",children:e.label})]},e.label))}),c.jsx("div",{className:"home-hero__control-footer",children:c.jsx(Wi,{to:"/admin/login",className:"btn btn-hero-contrast home-hero__login-btn",children:"Login"})})]})]})})]})})}function e6(){const[e,t]=X.useState([]),[r,n]=X.useState([]),[s,i]=X.useState([]),[a,l]=X.useState(""),[o,d]=X.useState(""),[f,m]=X.useState(null);X.useEffect(()=>{(async()=>(t(await xe.listStudents()),n(await xe.listExams()),i(await xe.listResults())))()},[]);const g=()=>{const p=s.find(b=>b.student_id===a&&b.exam_id===o);m(p||null)};return c.jsx("div",{className:"container py-5",children:c.jsx("div",{className:"row justify-content-center",children:c.jsx("div",{className:"col-lg-8",children:c.jsxs("div",{className:"card card-soft p-4",children:[c.jsx("h4",{className:"mb-3",children:"Exam Results"}),c.jsxs("div",{className:"row g-2 align-items-end",children:[c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Student"}),c.jsxs("select",{className:"form-select",value:a,onChange:p=>l(p.target.value),children:[c.jsx("option",{value:"",children:"Select Student"}),e.map(p=>c.jsxs("option",{value:p.student_id,children:[p.student_id," - ",p.full_name]},p.student_id))]})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Exam"}),c.jsxs("select",{className:"form-select",value:o,onChange:p=>d(p.target.value),children:[c.jsx("option",{value:"",children:"Select Exam"}),r.map(p=>c.jsxs("option",{value:p.id,children:[p.title," (",p.date,")"]},p.id))]})]}),c.jsx("div",{className:"col-md-4 text-end",children:c.jsx("button",{className:"btn btn-brand",onClick:g,children:"View Result"})})]}),f&&c.jsx("div",{className:"mt-4",children:c.jsxs("div",{className:"card p-3 bg-ice",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Total:"})," ",f.total]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Grade:"})," ",f.grade]})]})}),f===null&&a&&o&&c.jsx("div",{className:"alert alert-warning mt-3",children:"No result found for the selected student and exam."})]})})})})}function t6(){const[e,t]=X.useState([]);return X.useEffect(()=>{(async()=>t(await xe.listExams()))()},[]),c.jsx("div",{className:"container py-5",children:c.jsx("div",{className:"row justify-content-center",children:c.jsx("div",{className:"col-lg-8",children:c.jsxs("div",{className:"card card-soft p-4",children:[c.jsx("h4",{className:"mb-3",children:"Exam Time Table"}),e.length===0?c.jsx("div",{className:"text-muted",children:"No exams published yet."}):c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table mb-0",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Title"}),c.jsx("th",{children:"Date"}),c.jsx("th",{children:"Session"}),c.jsx("th",{children:"Notes"})]})}),c.jsx("tbody",{children:e.map(r=>c.jsxs("tr",{children:[c.jsx("td",{children:r.title}),c.jsx("td",{children:r.date}),c.jsx("td",{children:r.session||"-"}),c.jsx("td",{children:r.notes||"-"})]},r.id))})]})})]})})})})}const r6="modulepreload",n6=function(e){return"/"+e},zv={},Vm=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(o=>{if(o=n6(o),o in zv)return;zv[o]=!0;const d=o.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":r6,d||(m.as="script"),m.crossOrigin="",m.href=o,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((g,p)=>{m.addEventListener("load",g),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Ut(e){"@babel/helpers - typeof";return Ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(e)}var on=Uint8Array,Bn=Uint16Array,h0=Int32Array,Vh=new on([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Hh=new on([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Hm=new on([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e_=function(e,t){for(var r=new Bn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new h0(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},t_=e_(Vh,2),r_=t_.b,Wm=t_.r;r_[28]=258,Wm[258]=28;var n_=e_(Hh,0),s6=n_.b,$v=n_.r,Gm=new Bn(32768);for(var Zt=0;Zt<32768;++Zt){var Fi=(Zt&43690)>>1|(Zt&21845)<<1;Fi=(Fi&52428)>>2|(Fi&13107)<<2,Fi=(Fi&61680)>>4|(Fi&3855)<<4,Gm[Zt]=((Fi&65280)>>8|(Fi&255)<<8)>>1}var Ws=function(e,t,r){for(var n=e.length,s=0,i=new Bn(t);s<n;++s)e[s]&&++i[e[s]-1];var a=new Bn(t);for(s=1;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;var l;if(r){l=new Bn(1<<t);var o=15-t;for(s=0;s<n;++s)if(e[s])for(var d=s<<4|e[s],f=t-e[s],m=a[e[s]-1]++<<f,g=m|(1<<f)-1;m<=g;++m)l[Gm[m]>>o]=d}else for(l=new Bn(n),s=0;s<n;++s)e[s]&&(l[s]=Gm[a[e[s]-1]++]>>15-e[s]);return l},aa=new on(288);for(var Zt=0;Zt<144;++Zt)aa[Zt]=8;for(var Zt=144;Zt<256;++Zt)aa[Zt]=9;for(var Zt=256;Zt<280;++Zt)aa[Zt]=7;for(var Zt=280;Zt<288;++Zt)aa[Zt]=8;var Kc=new on(32);for(var Zt=0;Zt<32;++Zt)Kc[Zt]=5;var i6=Ws(aa,9,0),a6=Ws(aa,9,1),o6=Ws(Kc,5,0),l6=Ws(Kc,5,1),Np=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},vs=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},Sp=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},f0=function(e){return(e+7)/8|0},s_=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new on(e.subarray(t,r))},c6=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ss=function(e,t,r){var n=new Error(t||c6[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Ss),!r)throw n;return n},u6=function(e,t,r,n){var s=e.length,i=0;if(!s||t.f&&!t.l)return r||new on(0);var a=!r,l=a||t.i!=2,o=t.i;a&&(r=new on(s*3));var d=function(ge){var Me=r.length;if(ge>Me){var Fe=new on(Math.max(Me*2,ge));Fe.set(r),r=Fe}},f=t.f||0,m=t.p||0,g=t.b||0,p=t.l,b=t.d,N=t.m,j=t.n,_=s*8;do{if(!p){f=vs(e,m,1);var w=vs(e,m+1,3);if(m+=3,w)if(w==1)p=a6,b=l6,N=9,j=5;else if(w==2){var ee=vs(e,m,31)+257,R=vs(e,m+10,15)+4,I=ee+vs(e,m+5,31)+1;m+=14;for(var U=new on(I),q=new on(19),E=0;E<R;++E)q[Hm[E]]=vs(e,m+E*3,7);m+=R*3;for(var O=Np(q),Q=(1<<O)-1,K=Ws(q,O,1),E=0;E<I;){var G=K[vs(e,m,Q)];m+=G&15;var S=G>>4;if(S<16)U[E++]=S;else{var re=0,de=0;for(S==16?(de=3+vs(e,m,3),m+=2,re=U[E-1]):S==17?(de=3+vs(e,m,7),m+=3):S==18&&(de=11+vs(e,m,127),m+=7);de--;)U[E++]=re}}var W=U.subarray(0,ee),se=U.subarray(ee);N=Np(W),j=Np(se),p=Ws(W,N,1),b=Ws(se,j,1)}else Ss(1);else{var S=f0(m)+4,D=e[S-4]|e[S-3]<<8,B=S+D;if(B>s){o&&Ss(0);break}l&&d(g+D),r.set(e.subarray(S,B),g),t.b=g+=D,t.p=m=B*8,t.f=f;continue}if(m>_){o&&Ss(0);break}}l&&d(g+131072);for(var ce=(1<<N)-1,we=(1<<j)-1,C=m;;C=m){var re=p[Sp(e,m)&ce],z=re>>4;if(m+=re&15,m>_){o&&Ss(0);break}if(re||Ss(2),z<256)r[g++]=z;else if(z==256){C=m,p=null;break}else{var L=z-254;if(z>264){var E=z-257,V=Vh[E];L=vs(e,m,(1<<V)-1)+r_[E],m+=V}var Y=b[Sp(e,m)&we],ie=Y>>4;Y||Ss(3),m+=Y&15;var se=s6[ie];if(ie>3){var V=Hh[ie];se+=Sp(e,m)&(1<<V)-1,m+=V}if(m>_){o&&Ss(0);break}l&&d(g+131072);var he=g+L;if(g<se){var me=i-se,Pe=Math.min(se,he);for(me+g<0&&Ss(3);g<Pe;++g)r[g]=n[me+g]}for(;g<he;++g)r[g]=r[g-se]}}t.l=p,t.p=C,t.b=g,t.f=f,p&&(f=1,t.m=N,t.d=b,t.n=j)}while(!f);return g!=r.length&&a?s_(r,0,g):r.subarray(0,g)},ii=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},ac=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},jp=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:a_,l:0};if(s==1){var a=new on(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(B,ee){return B.f-ee.f}),r.push({s:-1,f:25001});var l=r[0],o=r[1],d=0,f=1,m=2;for(r[0]={s:-1,f:l.f+o.f,l,r:o};f!=s-1;)l=r[r[d].f<r[m].f?d++:m++],o=r[d!=f&&r[d].f<r[m].f?d++:m++],r[f++]={s:-1,f:l.f+o.f,l,r:o};for(var g=i[0].s,n=1;n<s;++n)i[n].s>g&&(g=i[n].s);var p=new Bn(g+1),b=Ym(r[f-1],p,0);if(b>t){var n=0,N=0,j=b-t,_=1<<j;for(i.sort(function(ee,R){return p[R.s]-p[ee.s]||ee.f-R.f});n<s;++n){var w=i[n].s;if(p[w]>t)N+=_-(1<<b-p[w]),p[w]=t;else break}for(N>>=j;N>0;){var S=i[n].s;p[S]<t?N-=1<<t-p[S]++-1:++n}for(;n>=0&&N;--n){var D=i[n].s;p[D]==t&&(--p[D],++N)}b=t}return{t:new on(p),l:b}},Ym=function(e,t,r){return e.s==-1?Math.max(Ym(e.l,t,r+1),Ym(e.r,t,r+1)):t[e.s]=r},Vv=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Bn(++t),n=0,s=e[0],i=1,a=function(o){r[n++]=o},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=e[l]}return{c:r.subarray(0,n),n:t}},oc=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},i_=function(e,t,r){var n=r.length,s=f0(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},Hv=function(e,t,r,n,s,i,a,l,o,d,f){ii(t,f++,r),++s[256];for(var m=jp(s,15),g=m.t,p=m.l,b=jp(i,15),N=b.t,j=b.l,_=Vv(g),w=_.c,S=_.n,D=Vv(N),B=D.c,ee=D.n,R=new Bn(19),I=0;I<w.length;++I)++R[w[I]&31];for(var I=0;I<B.length;++I)++R[B[I]&31];for(var U=jp(R,7),q=U.t,E=U.l,O=19;O>4&&!q[Hm[O-1]];--O);var Q=d+5<<3,K=oc(s,aa)+oc(i,Kc)+a,G=oc(s,g)+oc(i,N)+a+14+3*O+oc(R,q)+2*R[16]+3*R[17]+7*R[18];if(o>=0&&Q<=K&&Q<=G)return i_(t,f,e.subarray(o,o+d));var re,de,W,se;if(ii(t,f,1+(G<K)),f+=2,G<K){re=Ws(g,p,0),de=g,W=Ws(N,j,0),se=N;var ce=Ws(q,E,0);ii(t,f,S-257),ii(t,f+5,ee-1),ii(t,f+10,O-4),f+=14;for(var I=0;I<O;++I)ii(t,f+3*I,q[Hm[I]]);f+=3*O;for(var we=[w,B],C=0;C<2;++C)for(var z=we[C],I=0;I<z.length;++I){var L=z[I]&31;ii(t,f,ce[L]),f+=q[L],L>15&&(ii(t,f,z[I]>>5&127),f+=z[I]>>12)}}else re=i6,de=aa,W=o6,se=Kc;for(var I=0;I<l;++I){var V=n[I];if(V>255){var L=V>>18&31;ac(t,f,re[L+257]),f+=de[L+257],L>7&&(ii(t,f,V>>23&31),f+=Vh[L]);var Y=V&31;ac(t,f,W[Y]),f+=se[Y],Y>3&&(ac(t,f,V>>5&8191),f+=Hh[Y])}else ac(t,f,re[V]),f+=de[V]}return ac(t,f,re[256]),f+de[256]},d6=new h0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),a_=new on(0),h6=function(e,t,r,n,s,i){var a=i.z||e.length,l=new on(n+a+5*(1+Math.ceil(a/7e3))+s),o=l.subarray(n,l.length-s),d=i.l,f=(i.r||0)&7;if(t){f&&(o[0]=i.r>>3);for(var m=d6[t-1],g=m>>13,p=m&8191,b=(1<<r)-1,N=i.p||new Bn(32768),j=i.h||new Bn(b+1),_=Math.ceil(r/3),w=2*_,S=function(ot){return(e[ot]^e[ot+1]<<_^e[ot+2]<<w)&b},D=new h0(25e3),B=new Bn(288),ee=new Bn(32),R=0,I=0,U=i.i||0,q=0,E=i.w||0,O=0;U+2<a;++U){var Q=S(U),K=U&32767,G=j[Q];if(N[K]=G,j[Q]=K,E<=U){var re=a-U;if((R>7e3||q>24576)&&(re>423||!d)){f=Hv(e,o,0,D,B,ee,I,q,O,U-O,f),q=R=I=0,O=U;for(var de=0;de<286;++de)B[de]=0;for(var de=0;de<30;++de)ee[de]=0}var W=2,se=0,ce=p,we=K-G&32767;if(re>2&&Q==S(U-we))for(var C=Math.min(g,re)-1,z=Math.min(32767,U),L=Math.min(258,re);we<=z&&--ce&&K!=G;){if(e[U+W]==e[U+W-we]){for(var V=0;V<L&&e[U+V]==e[U+V-we];++V);if(V>W){if(W=V,se=we,V>C)break;for(var Y=Math.min(we,V-2),ie=0,de=0;de<Y;++de){var he=U-we+de&32767,me=N[he],Pe=he-me&32767;Pe>ie&&(ie=Pe,G=he)}}}K=G,G=N[K],we+=K-G&32767}if(se){D[q++]=268435456|Wm[W]<<18|$v[se];var ge=Wm[W]&31,Me=$v[se]&31;I+=Vh[ge]+Hh[Me],++B[257+ge],++ee[Me],E=U+W,++R}else D[q++]=e[U],++B[e[U]]}}for(U=Math.max(U,E);U<a;++U)D[q++]=e[U],++B[e[U]];f=Hv(e,o,d,D,B,ee,I,q,O,U-O,f),d||(i.r=f&7|o[f/8|0]<<3,f-=7,i.h=j,i.p=N,i.i=U,i.w=E)}else{for(var U=i.w||0;U<a+d;U+=65535){var Fe=U+65535;Fe>=a&&(o[f/8|0]=d,Fe=a),f=i_(o,f+1,e.subarray(U,Fe))}i.i=a}return s_(l,0,n+f0(f)+s)},o_=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,a=0;a!=i;){for(var l=Math.min(a+2655,i);a<l;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},f6=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),a=new on(i.length+e.length);a.set(i),a.set(e,i.length),e=a,s.w=i.length}return h6(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},l_=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},p6=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=o_();s.p(t.dictionary),l_(e,2,s.d())}},m6=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ss(6,"invalid zlib data"),(e[1]>>5&1)==1&&Ss(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Km(e,t){t||(t={});var r=o_();r.p(e);var n=f6(e,t,t.dictionary?6:2,4);return p6(n,t),l_(n,n.length-4,r.d()),n}function g6(e,t){return u6(e.subarray(m6(e),-4),{i:2},t,t)}var v6=typeof TextDecoder<"u"&&new TextDecoder,y6=0;try{v6.decode(a_,{stream:!0}),y6=1}catch{}var dt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function kp(){dt.console&&typeof dt.console.log=="function"&&dt.console.log.apply(dt.console,arguments)}var Ht={log:kp,warn:function(e){dt.console&&(typeof dt.console.warn=="function"?dt.console.warn.apply(dt.console,arguments):kp.call(null,arguments))},error:function(e){dt.console&&(typeof dt.console.error=="function"?dt.console.error.apply(dt.console,arguments):kp(e))}};function Ap(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Ca(n.response,t,r)},n.onerror=function(){Ht.error("could not download file")},n.send()}function Wv(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Nd(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var jc,Jm,Ca=dt.saveAs||((typeof window>"u"?"undefined":Ut(window))!=="object"||window!==dt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=dt.URL||dt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?Wv(s.href)?Ap(e,t,r):Nd(s,s.target="_blank"):Nd(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Nd(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(Wv(e))Ap(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Nd(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Ut(i)!=="object"&&(Ht.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Ap(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(dt.HTMLElement)||dt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Ut(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(e)}else{var o=dt.URL||dt.webkitURL,d=o.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){o.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function c_(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(e);a&&(t=i(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),o=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),o.length==1&&(o="0"+o),d.length==1&&(d="0"+d),"#"+l+o+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Cp(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=tn(r,n,s,i,t[0],7,-680876936),i=tn(i,r,n,s,t[1],12,-389564586),s=tn(s,i,r,n,t[2],17,606105819),n=tn(n,s,i,r,t[3],22,-1044525330),r=tn(r,n,s,i,t[4],7,-176418897),i=tn(i,r,n,s,t[5],12,1200080426),s=tn(s,i,r,n,t[6],17,-1473231341),n=tn(n,s,i,r,t[7],22,-45705983),r=tn(r,n,s,i,t[8],7,1770035416),i=tn(i,r,n,s,t[9],12,-1958414417),s=tn(s,i,r,n,t[10],17,-42063),n=tn(n,s,i,r,t[11],22,-1990404162),r=tn(r,n,s,i,t[12],7,1804603682),i=tn(i,r,n,s,t[13],12,-40341101),s=tn(s,i,r,n,t[14],17,-1502002290),r=rn(r,n=tn(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=rn(i,r,n,s,t[6],9,-1069501632),s=rn(s,i,r,n,t[11],14,643717713),n=rn(n,s,i,r,t[0],20,-373897302),r=rn(r,n,s,i,t[5],5,-701558691),i=rn(i,r,n,s,t[10],9,38016083),s=rn(s,i,r,n,t[15],14,-660478335),n=rn(n,s,i,r,t[4],20,-405537848),r=rn(r,n,s,i,t[9],5,568446438),i=rn(i,r,n,s,t[14],9,-1019803690),s=rn(s,i,r,n,t[3],14,-187363961),n=rn(n,s,i,r,t[8],20,1163531501),r=rn(r,n,s,i,t[13],5,-1444681467),i=rn(i,r,n,s,t[2],9,-51403784),s=rn(s,i,r,n,t[7],14,1735328473),r=nn(r,n=rn(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=nn(i,r,n,s,t[8],11,-2022574463),s=nn(s,i,r,n,t[11],16,1839030562),n=nn(n,s,i,r,t[14],23,-35309556),r=nn(r,n,s,i,t[1],4,-1530992060),i=nn(i,r,n,s,t[4],11,1272893353),s=nn(s,i,r,n,t[7],16,-155497632),n=nn(n,s,i,r,t[10],23,-1094730640),r=nn(r,n,s,i,t[13],4,681279174),i=nn(i,r,n,s,t[0],11,-358537222),s=nn(s,i,r,n,t[3],16,-722521979),n=nn(n,s,i,r,t[6],23,76029189),r=nn(r,n,s,i,t[9],4,-640364487),i=nn(i,r,n,s,t[12],11,-421815835),s=nn(s,i,r,n,t[15],16,530742520),r=sn(r,n=nn(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=sn(i,r,n,s,t[7],10,1126891415),s=sn(s,i,r,n,t[14],15,-1416354905),n=sn(n,s,i,r,t[5],21,-57434055),r=sn(r,n,s,i,t[12],6,1700485571),i=sn(i,r,n,s,t[3],10,-1894986606),s=sn(s,i,r,n,t[10],15,-1051523),n=sn(n,s,i,r,t[1],21,-2054922799),r=sn(r,n,s,i,t[8],6,1873313359),i=sn(i,r,n,s,t[15],10,-30611744),s=sn(s,i,r,n,t[6],15,-1560198380),n=sn(n,s,i,r,t[13],21,1309151649),r=sn(r,n,s,i,t[4],6,-145523070),i=sn(i,r,n,s,t[11],10,-1120210379),s=sn(s,i,r,n,t[2],15,718787259),n=sn(n,s,i,r,t[9],21,-343485551),e[0]=Gi(r,e[0]),e[1]=Gi(n,e[1]),e[2]=Gi(s,e[2]),e[3]=Gi(i,e[3])}function Wh(e,t,r,n,s,i){return t=Gi(Gi(t,e),Gi(n,i)),Gi(t<<s|t>>>32-s,r)}function tn(e,t,r,n,s,i,a){return Wh(t&r|~t&n,e,t,s,i,a)}function rn(e,t,r,n,s,i,a){return Wh(t&n|r&~n,e,t,s,i,a)}function nn(e,t,r,n,s,i,a){return Wh(t^r^n,e,t,s,i,a)}function sn(e,t,r,n,s,i,a){return Wh(r^(t|~n),e,t,s,i,a)}function u_(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Cp(n,b6(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Cp(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,Cp(n,s),n}function b6(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}jc=dt.atob.bind(dt),Jm=dt.btoa.bind(dt);var Gv="0123456789abcdef".split("");function _6(e){for(var t="",r=0;r<4;r++)t+=Gv[e>>8*r+4&15]+Gv[e>>8*r&15];return t}function w6(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Qm(e){return u_(e).map(w6).join("")}var x6=function(e){for(var t=0;t<e.length;t++)e[t]=_6(e[t]);return e.join("")}(u_("hello"))!="5d41402abc4b2a76b9719d911017c592";function Gi(e,t){if(x6){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Xm(e,t){var r,n,s,i;if(e!==r){for(var a=(s=e,i=1+(256/e.length>>0),new Array(i+1).join(s)),l=[],o=0;o<256;o++)l[o]=o;var d=0;for(o=0;o<256;o++){var f=l[o];d=(d+f+a.charCodeAt(o))%256,l[o]=l[d],l[d]=f}r=e,n=l}else l=n;var m=t.length,g=0,p=0,b="";for(o=0;o<m;o++)p=(p+(f=l[g=(g+1)%256]))%256,l[g]=l[p],l[p]=f,a=l[(l[g]+l[p])%256],b+=String.fromCharCode(t.charCodeAt(o)^a);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Yv={print:4,modify:8,copy:16,"annot-forms":32};function Lo(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(Yv.perm!==void 0)throw new Error("Invalid permission: "+l);s+=Yv[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=Qm(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Xm(this.encryptionKey,this.padding)}function To(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[n]}return t}function Kv(e){if(Ut(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var a=t[r][i];try{a[0].apply(e,n)}catch(l){dt.console&&Ht.error("jsPDF PubSub Error",l.message,l)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function wh(e){if(!(this instanceof wh))return new wh(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function d_(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ta(e,t,r,n,s){if(!(this instanceof Ta))return new Ta(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,d_.call(this,n,s)}function Ho(e,t,r,n,s){if(!(this instanceof Ho))return new Ho(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,d_.call(this,n,s)}function ut(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],l=1,o=16,d="S",f=null;Ut(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(o=e.floatPrecision),d=e.defaultPathOperation||"S"),a=e.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=Kv;var b="1.3",N=p.__private__.getPdfVersion=function(){return b};p.__private__.setPdfVersion=function(v){b=v};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return j};var _=p.__private__.getPageFormat=function(v){return j[v]};s=s||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},S=w.COMPAT;function D(){this.saveGraphicsState(),J(new ct(je,0,0,-je,0,xi()*je).toString()+" cm"),this.setFontSize(this.getFontSize()/je),d="n",S=w.ADVANCED}function B(){this.restoreGraphicsState(),d="S",S=w.COMPAT}var ee=p.__private__.combineFontStyleAndFontWeight=function(v,A){if(v=="bold"&&A=="normal"||v=="bold"&&A==400||v=="normal"&&A=="italic"||v=="bold"&&A=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return A&&(v=A==400||A==="normal"?v==="italic"?"italic":"normal":A!=700&&A!=="bold"||v!=="normal"?(A==700?"bold":A)+""+v:"bold"),v};p.advancedAPI=function(v){var A=S===w.COMPAT;return A&&D.call(this),typeof v!="function"||(v(this),A&&B.call(this)),this},p.compatAPI=function(v){var A=S===w.ADVANCED;return A&&B.call(this),typeof v!="function"||(v(this),A&&D.call(this)),this},p.isAdvancedAPI=function(){return S===w.ADVANCED};var R,I=function(v){if(S!==w.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=p.roundToPrecision=p.__private__.roundToPrecision=function(v,A){var H=t||A;if(isNaN(v)||isNaN(H))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(H).replace(/0+$/,"")};R=p.hpf=p.__private__.hpf=typeof o=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return U(v,o)}:o==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return U(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return U(v,16)};var q=p.f2=p.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return U(v,2)},E=p.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return U(v,3)},O=p.scale=p.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return S===w.COMPAT?v*je:S===w.ADVANCED?v:void 0},Q=function(v){return S===w.COMPAT?xi()-v:S===w.ADVANCED?v:void 0},K=function(v){return O(Q(v))};p.__private__.setPrecision=p.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var G,re="00000000000000000000000000000000",de=p.__private__.getFileId=function(){return re},W=p.__private__.setFileId=function(v){return re=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Qr=new Lo(f.userPermissions,f.userPassword,f.ownerPassword,re)),re};p.setFileId=function(v){return W(v),this},p.getFileId=function(){return de()};var se=p.__private__.convertDateToPDFDate=function(v){var A=v.getTimezoneOffset(),H=A<0?"+":"-",Z=Math.floor(Math.abs(A/60)),ue=Math.abs(A%60),be=[H,L(Z),"'",L(ue),"'"].join("");return["D:",v.getFullYear(),L(v.getMonth()+1),L(v.getDate()),L(v.getHours()),L(v.getMinutes()),L(v.getSeconds()),be].join("")},ce=p.__private__.convertPDFDateToDate=function(v){var A=parseInt(v.substr(2,4),10),H=parseInt(v.substr(6,2),10)-1,Z=parseInt(v.substr(8,2),10),ue=parseInt(v.substr(10,2),10),be=parseInt(v.substr(12,2),10),Ee=parseInt(v.substr(14,2),10);return new Date(A,H,Z,ue,be,Ee,0)},we=p.__private__.setCreationDate=function(v){var A;if(v===void 0&&(v=new Date),v instanceof Date)A=se(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");A=v}return G=A},C=p.__private__.getCreationDate=function(v){var A=G;return v==="jsDate"&&(A=ce(G)),A};p.setCreationDate=function(v){return we(v),this},p.getCreationDate=function(v){return C(v)};var z,L=p.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},V=p.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},Y=0,ie=[],he=[],me=0,Pe=[],ge=[],Me=!1,Fe=he,ot=function(){Y=0,me=0,he=[],ie=[],Pe=[],rt=Ke(),Ct=Ke()};p.__private__.setCustomOutputDestination=function(v){Me=!0,Fe=v};var ye=function(v){Me||(Fe=v)};p.__private__.resetCustomOutputDestination=function(){Me=!1,Fe=he};var J=p.__private__.out=function(v){return v=v.toString(),me+=v.length+1,Fe.push(v),Fe},ft=p.__private__.write=function(v){return J(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},Qe=p.__private__.getArrayBuffer=function(v){for(var A=v.length,H=new ArrayBuffer(A),Z=new Uint8Array(H);A--;)Z[A]=v.charCodeAt(A);return H},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Le};var Oe=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(v){return Oe=S===w.ADVANCED?v/je:v,this};var $e,Ue=p.__private__.getFontSize=p.getFontSize=function(){return S===w.COMPAT?Oe:Oe*je},tt=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(v){return tt=v,this},p.__private__.getR2L=p.getR2L=function(){return tt};var pt,yt=p.__private__.setZoomMode=function(v){var A=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))$e=v;else if(isNaN(v)){if(A.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');$e=v}else $e=parseInt(v,10)};p.__private__.getZoomMode=function(){return $e};var Nt,oe=p.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');pt=v};p.__private__.getPageMode=function(){return pt};var Re=p.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');Nt=v};p.__private__.getLayoutMode=function(){return Nt},p.__private__.setDisplayMode=p.setDisplayMode=function(v,A,H){return yt(v),Re(A),oe(H),this};var ze={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(v){if(Object.keys(ze).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ze[v]},p.__private__.getDocumentProperties=function(){return ze},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(v){for(var A in ze)ze.hasOwnProperty(A)&&v[A]&&(ze[A]=v[A]);return this},p.__private__.setDocumentProperty=function(v,A){if(Object.keys(ze).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ze[v]=A};var st,je,mt,Te,Lt,At={},jt={},Kr=[],It={},Vn={},tr={},Cn={},ls=null,Qt=0,gt=[],Ft=new Kv(p),Ks=e.hotfixes||[],Ar={},Hn={},Wn=[],ct=function v(A,H,Z,ue,be,Ee){if(!(this instanceof v))return new v(A,H,Z,ue,be,Ee);isNaN(A)&&(A=1),isNaN(H)&&(H=0),isNaN(Z)&&(Z=0),isNaN(ue)&&(ue=1),isNaN(be)&&(be=0),isNaN(Ee)&&(Ee=0),this._matrix=[A,H,Z,ue,be,Ee]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(v)},ct.prototype.multiply=function(v){var A=v.sx*this.sx+v.shy*this.shx,H=v.sx*this.shy+v.shy*this.sy,Z=v.shx*this.sx+v.sy*this.shx,ue=v.shx*this.shy+v.sy*this.sy,be=v.tx*this.sx+v.ty*this.shx+this.tx,Ee=v.tx*this.shy+v.ty*this.sy+this.ty;return new ct(A,H,Z,ue,be,Ee)},ct.prototype.decompose=function(){var v=this.sx,A=this.shy,H=this.shx,Z=this.sy,ue=this.tx,be=this.ty,Ee=Math.sqrt(v*v+A*A),We=(v/=Ee)*H+(A/=Ee)*Z;H-=v*We,Z-=A*We;var at=Math.sqrt(H*H+Z*Z);return We/=at,v*(Z/=at)<A*(H/=at)&&(v=-v,A=-A,We=-We,Ee=-Ee),{scale:new ct(Ee,0,0,at,0,0),translate:new ct(1,0,0,1,ue,be),rotate:new ct(v,A,-A,v,0,0),skew:new ct(1,0,We,1,0,0)}},ct.prototype.toString=function(v){return this.join(" ")},ct.prototype.inversed=function(){var v=this.sx,A=this.shy,H=this.shx,Z=this.sy,ue=this.tx,be=this.ty,Ee=1/(v*Z-A*H),We=Z*Ee,at=-A*Ee,xt=-H*Ee,bt=v*Ee;return new ct(We,at,xt,bt,-We*ue-xt*be,-at*ue-bt*be)},ct.prototype.applyToPoint=function(v){var A=v.x*this.sx+v.y*this.shx+this.tx,H=v.x*this.shy+v.y*this.sy+this.ty;return new so(A,H)},ct.prototype.applyToRectangle=function(v){var A=this.applyToPoint(v),H=this.applyToPoint(new so(v.x+v.w,v.y+v.h));return new Tl(A.x,A.y,H.x-A.x,H.y-A.y)},ct.prototype.clone=function(){var v=this.sx,A=this.shy,H=this.shx,Z=this.sy,ue=this.tx,be=this.ty;return new ct(v,A,H,Z,ue,be)},p.Matrix=ct;var _e=p.matrixMult=function(v,A){return A.multiply(v)},De=new ct(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=De;var He=function(v,A){if(!Vn[v]){var H=(A instanceof Ta?"Sh":"P")+(Object.keys(It).length+1).toString(10);A.id=H,Vn[v]=H,It[H]=A,Ft.publish("addPattern",A)}};p.ShadingPattern=Ta,p.TilingPattern=Ho,p.addShadingPattern=function(v,A){return I("addShadingPattern()"),He(v,A),this},p.beginTilingPattern=function(v){I("beginTilingPattern()"),wu(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},p.endTilingPattern=function(v,A){I("endTilingPattern()"),A.stream=ge[z].join(`
`),He(v,A),Ft.publish("endTilingPattern",A),Wn.pop().restore()};var Ae=p.__private__.newObject=function(){var v=Ke();return kt(v,!0),v},Ke=p.__private__.newObjectDeferred=function(){return Y++,ie[Y]=function(){return me},Y},kt=function(v,A){return A=typeof A=="boolean"&&A,ie[v]=me,A&&J(v+" 0 obj"),v},Be=p.__private__.newAdditionalObject=function(){var v={objId:Ke(),content:""};return Pe.push(v),v},rt=Ke(),Ct=Ke(),$t=p.__private__.decodeColorString=function(v){var A=v.split(" ");if(A.length!==2||A[1]!=="g"&&A[1]!=="G")A.length===5&&(A[4]==="k"||A[4]==="K")&&(A=[(1-A[0])*(1-A[3]),(1-A[1])*(1-A[3]),(1-A[2])*(1-A[3]),"r"]);else{var H=parseFloat(A[0]);A=[H,H,H,"r"]}for(var Z="#",ue=0;ue<3;ue++)Z+=("0"+Math.floor(255*parseFloat(A[ue])).toString(16)).slice(-2);return Z},Cr=p.__private__.encodeColorString=function(v){var A;typeof v=="string"&&(v={ch1:v});var H=v.ch1,Z=v.ch2,ue=v.ch3,be=v.ch4,Ee=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof H=="string"&&H.charAt(0)!=="#"){var We=new c_(H);if(We.ok)H=We.toHex();else if(!/^\d*\.?\d*$/.test(H))throw new Error('Invalid color "'+H+'" passed to jsPDF.encodeColorString.')}if(typeof H=="string"&&/^#[0-9A-Fa-f]{3}$/.test(H)&&(H="#"+H[1]+H[1]+H[2]+H[2]+H[3]+H[3]),typeof H=="string"&&/^#[0-9A-Fa-f]{6}$/.test(H)){var at=parseInt(H.substr(1),16);H=at>>16&255,Z=at>>8&255,ue=255&at}if(Z===void 0||be===void 0&&H===Z&&Z===ue)if(typeof H=="string")A=H+" "+Ee[0];else switch(v.precision){case 2:A=q(H/255)+" "+Ee[0];break;case 3:default:A=E(H/255)+" "+Ee[0]}else if(be===void 0||Ut(be)==="object"){if(be&&!isNaN(be.a)&&be.a===0)return A=["1.","1.","1.",Ee[1]].join(" ");if(typeof H=="string")A=[H,Z,ue,Ee[1]].join(" ");else switch(v.precision){case 2:A=[q(H/255),q(Z/255),q(ue/255),Ee[1]].join(" ");break;default:case 3:A=[E(H/255),E(Z/255),E(ue/255),Ee[1]].join(" ")}}else if(typeof H=="string")A=[H,Z,ue,be,Ee[2]].join(" ");else switch(v.precision){case 2:A=[q(H),q(Z),q(ue),q(be),Ee[2]].join(" ");break;case 3:default:A=[E(H),E(Z),E(ue),E(be),Ee[2]].join(" ")}return A},Or=p.__private__.getFilters=function(){return a},lr=p.__private__.putStream=function(v){var A=(v=v||{}).data||"",H=v.filters||Or(),Z=v.alreadyAppliedFilters||[],ue=v.addLength1||!1,be=A.length,Ee=v.objectId,We=function(Xr){return Xr};if(f!==null&&Ee===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(We=Qr.encryptor(Ee,0));var at={};H===!0&&(H=["FlateEncode"]);var xt=v.additionalKeyValues||[],bt=(at=ut.API.processDataByFilters!==void 0?ut.API.processDataByFilters(A,H):{data:A,reverseChain:[]}).reverseChain+(Array.isArray(Z)?Z.join(" "):Z.toString());if(at.data.length!==0&&(xt.push({key:"Length",value:at.data.length}),ue===!0&&xt.push({key:"Length1",value:be})),bt.length!=0)if(bt.split("/").length-1==1)xt.push({key:"Filter",value:bt});else{xt.push({key:"Filter",value:"["+bt+"]"});for(var Tt=0;Tt<xt.length;Tt+=1)if(xt[Tt].key==="DecodeParms"){for(var nr=[],cr=0;cr<at.reverseChain.split("/").length-1;cr+=1)nr.push("null");nr.push(xt[Tt].value),xt[Tt].value="["+nr.join(" ")+"]"}}J("<<");for(var wr=0;wr<xt.length;wr++)J("/"+xt[wr].key+" "+xt[wr].value);J(">>"),at.data.length!==0&&(J("stream"),J(We(at.data)),J("endstream"))},Er=p.__private__.putPage=function(v){var A=v.number,H=v.data,Z=v.objId,ue=v.contentsObjId;kt(Z,!0),J("<</Type /Page"),J("/Parent "+v.rootDictionaryObjId+" 0 R"),J("/Resources "+v.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(R(v.mediaBox.bottomLeftX))+" "+parseFloat(R(v.mediaBox.bottomLeftY))+" "+R(v.mediaBox.topRightX)+" "+R(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&J("/CropBox ["+R(v.cropBox.bottomLeftX)+" "+R(v.cropBox.bottomLeftY)+" "+R(v.cropBox.topRightX)+" "+R(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&J("/BleedBox ["+R(v.bleedBox.bottomLeftX)+" "+R(v.bleedBox.bottomLeftY)+" "+R(v.bleedBox.topRightX)+" "+R(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&J("/TrimBox ["+R(v.trimBox.bottomLeftX)+" "+R(v.trimBox.bottomLeftY)+" "+R(v.trimBox.topRightX)+" "+R(v.trimBox.topRightY)+"]"),v.artBox!==null&&J("/ArtBox ["+R(v.artBox.bottomLeftX)+" "+R(v.artBox.bottomLeftY)+" "+R(v.artBox.topRightX)+" "+R(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&J("/UserUnit "+v.userUnit),Ft.publish("putPage",{objId:Z,pageContext:gt[A],pageNumber:A,page:H}),J("/Contents "+ue+" 0 R"),J(">>"),J("endobj");var be=H.join(`
`);return S===w.ADVANCED&&(be+=`
Q`),kt(ue,!0),lr({data:be,filters:Or(),objectId:ue}),J("endobj"),Z},Gn=p.__private__.putPages=function(){var v,A,H=[];for(v=1;v<=Qt;v++)gt[v].objId=Ke(),gt[v].contentsObjId=Ke();for(v=1;v<=Qt;v++)H.push(Er({number:v,data:ge[v],objId:gt[v].objId,contentsObjId:gt[v].contentsObjId,mediaBox:gt[v].mediaBox,cropBox:gt[v].cropBox,bleedBox:gt[v].bleedBox,trimBox:gt[v].trimBox,artBox:gt[v].artBox,userUnit:gt[v].userUnit,rootDictionaryObjId:rt,resourceDictionaryObjId:Ct}));kt(rt,!0),J("<</Type /Pages");var Z="/Kids [";for(A=0;A<Qt;A++)Z+=H[A]+" 0 R ";J(Z+"]"),J("/Count "+Qt),J(">>"),J("endobj"),Ft.publish("postPutPages")},Is=function(v){Ft.publish("putFont",{font:v,out:J,newObject:Ae,putStream:lr}),v.isAlreadyPutted!==!0&&(v.objectNumber=Ae(),J("<<"),J("/Type /Font"),J("/BaseFont /"+To(v.postScriptName)),J("/Subtype /Type1"),typeof v.encoding=="string"&&J("/Encoding /"+v.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},qr=function(){for(var v in At)At.hasOwnProperty(v)&&(m===!1||m===!0&&g.hasOwnProperty(v))&&Is(At[v])},cs=function(v){v.objectNumber=Ae();var A=[];A.push({key:"Type",value:"/XObject"}),A.push({key:"Subtype",value:"/Form"}),A.push({key:"BBox",value:"["+[R(v.x),R(v.y),R(v.x+v.width),R(v.y+v.height)].join(" ")+"]"}),A.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var H=v.pages[1].join(`
`);lr({data:H,additionalKeyValues:A,objectId:v.objectNumber}),J("endobj")},us=function(){for(var v in Ar)Ar.hasOwnProperty(v)&&cs(Ar[v])},Jr=function(v,A){var H,Z=[],ue=1/(A-1);for(H=0;H<1;H+=ue)Z.push(H);if(Z.push(1),v[0].offset!=0){var be={offset:0,color:v[0].color};v.unshift(be)}if(v[v.length-1].offset!=1){var Ee={offset:1,color:v[v.length-1].color};v.push(Ee)}for(var We="",at=0,xt=0;xt<Z.length;xt++){for(H=Z[xt];H>v[at+1].offset;)at++;var bt=v[at].offset,Tt=(H-bt)/(v[at+1].offset-bt),nr=v[at].color,cr=v[at+1].color;We+=V(Math.round((1-Tt)*nr[0]+Tt*cr[0]).toString(16))+V(Math.round((1-Tt)*nr[1]+Tt*cr[1]).toString(16))+V(Math.round((1-Tt)*nr[2]+Tt*cr[2]).toString(16))}return We.trim()},zr=function(v,A){A||(A=21);var H=Ae(),Z=Jr(v.colors,A),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+A+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),lr({data:Z,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:H}),J("endobj"),v.objectNumber=Ae(),J("<< /ShadingType "+v.type),J("/ColorSpace /DeviceRGB");var be="/Coords ["+R(parseFloat(v.coords[0]))+" "+R(parseFloat(v.coords[1]))+" ";v.type===2?be+=R(parseFloat(v.coords[2]))+" "+R(parseFloat(v.coords[3])):be+=R(parseFloat(v.coords[2]))+" "+R(parseFloat(v.coords[3]))+" "+R(parseFloat(v.coords[4]))+" "+R(parseFloat(v.coords[5])),J(be+="]"),v.matrix&&J("/Matrix ["+v.matrix.toString()+"]"),J("/Function "+H+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},bi=function(v,A){var H=Ke(),Z=Ae();A.push({resourcesOid:H,objectOid:Z}),v.objectNumber=Z;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+v.boundingBox.map(R).join(" ")+"]"}),ue.push({key:"XStep",value:R(v.xStep)}),ue.push({key:"YStep",value:R(v.yStep)}),ue.push({key:"Resources",value:H+" 0 R"}),v.matrix&&ue.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),lr({data:v.stream,additionalKeyValues:ue,objectId:v.objectNumber}),J("endobj")},Ja=function(v){var A;for(A in It)It.hasOwnProperty(A)&&(It[A]instanceof Ta?zr(It[A]):It[A]instanceof Ho&&bi(It[A],v))},su=function(v){for(var A in v.objectNumber=Ae(),J("<<"),v)switch(A){case"opacity":J("/ca "+q(v[A]));break;case"stroke-opacity":J("/CA "+q(v[A]))}J(">>"),J("endobj")},Kh=function(){var v;for(v in tr)tr.hasOwnProperty(v)&&su(tr[v])},xl=function(){for(var v in J("/XObject <<"),Ar)Ar.hasOwnProperty(v)&&Ar[v].objectNumber>=0&&J("/"+v+" "+Ar[v].objectNumber+" 0 R");Ft.publish("putXobjectDict"),J(">>")},Jh=function(){Qr.oid=Ae(),J("<<"),J("/Filter /Standard"),J("/V "+Qr.v),J("/R "+Qr.r),J("/U <"+Qr.toHexString(Qr.U)+">"),J("/O <"+Qr.toHexString(Qr.O)+">"),J("/P "+Qr.P),J(">>"),J("endobj")},iu=function(){for(var v in J("/Font <<"),At)At.hasOwnProperty(v)&&(m===!1||m===!0&&g.hasOwnProperty(v))&&J("/"+v+" "+At[v].objectNumber+" 0 R");J(">>")},Qh=function(){if(Object.keys(It).length>0){for(var v in J("/Shading <<"),It)It.hasOwnProperty(v)&&It[v]instanceof Ta&&It[v].objectNumber>=0&&J("/"+v+" "+It[v].objectNumber+" 0 R");Ft.publish("putShadingPatternDict"),J(">>")}},Qa=function(v){if(Object.keys(It).length>0){for(var A in J("/Pattern <<"),It)It.hasOwnProperty(A)&&It[A]instanceof p.TilingPattern&&It[A].objectNumber>=0&&It[A].objectNumber<v&&J("/"+A+" "+It[A].objectNumber+" 0 R");Ft.publish("putTilingPatternDict"),J(">>")}},Xh=function(){if(Object.keys(tr).length>0){var v;for(v in J("/ExtGState <<"),tr)tr.hasOwnProperty(v)&&tr[v].objectNumber>=0&&J("/"+v+" "+tr[v].objectNumber+" 0 R");Ft.publish("putGStateDict"),J(">>")}},fr=function(v){kt(v.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),iu(),Qh(),Qa(v.objectOid),Xh(),xl(),J(">>"),J("endobj")},au=function(){var v=[];qr(),Kh(),us(),Ja(v),Ft.publish("putResources"),v.forEach(fr),fr({resourcesOid:Ct,objectOid:Number.MAX_SAFE_INTEGER}),Ft.publish("postPutResources")},ou=function(){Ft.publish("putAdditionalObjects");for(var v=0;v<Pe.length;v++){var A=Pe[v];kt(A.objId,!0),J(A.content),J("endobj")}Ft.publish("postPutAdditionalObjects")},lu=function(v){jt[v.fontName]=jt[v.fontName]||{},jt[v.fontName][v.fontStyle]=v.id},Nl=function(v,A,H,Z,ue){var be={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:v,fontName:A,fontStyle:H,encoding:Z,isStandardFont:ue||!1,metadata:{}};return Ft.publish("addFont",{font:be,instance:this}),At[be.id]=be,lu(be),be.id},Zh=function(v){for(var A=0,H=Le.length;A<H;A++){var Z=Nl.call(this,v[A][0],v[A][1],v[A][2],Le[A][3],!0);m===!1&&(g[Z]=!0);var ue=v[A][0].split("-");lu({id:Z,fontName:ue[0],fontStyle:ue[1]||""})}Ft.publish("addFonts",{fonts:At,dictionary:jt})},ds=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(Z){var A=Z.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var H="Error in function "+A.split(`
`)[0].split("<")[0]+": "+Z.message;if(!dt.console)throw new Error(H);dt.console.error(H,Z),dt.alert&&alert(H)}},v.foo.bar=v,v.foo},Xa=function(v,A){var H,Z,ue,be,Ee,We,at,xt,bt;if(ue=(A=A||{}).sourceEncoding||"Unicode",Ee=A.outputEncoding,(A.autoencode||Ee)&&At[st].metadata&&At[st].metadata[ue]&&At[st].metadata[ue].encoding&&(be=At[st].metadata[ue].encoding,!Ee&&At[st].encoding&&(Ee=At[st].encoding),!Ee&&be.codePages&&(Ee=be.codePages[0]),typeof Ee=="string"&&(Ee=be[Ee]),Ee)){for(at=!1,We=[],H=0,Z=v.length;H<Z;H++)(xt=Ee[v.charCodeAt(H)])?We.push(String.fromCharCode(xt)):We.push(v[H]),We[H].charCodeAt(0)>>8&&(at=!0);v=We.join("")}for(H=v.length;at===void 0&&H!==0;)v.charCodeAt(H-1)>>8&&(at=!0),H--;if(!at)return v;for(We=A.noBOM?[]:[254,255],H=0,Z=v.length;H<Z;H++){if((bt=(xt=v.charCodeAt(H))>>8)>>8)throw new Error("Character at position "+H+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");We.push(bt),We.push(xt-(bt<<8))}return String.fromCharCode.apply(void 0,We)},vn=p.__private__.pdfEscape=p.pdfEscape=function(v,A){return Xa(v,A).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sl=p.__private__.beginPage=function(v){ge[++Qt]=[],gt[Qt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},uu(Qt),ye(ge[z])},cu=function(v,A){var H,Z,ue;switch(r=A||r,typeof v=="string"&&(H=_(v.toLowerCase()),Array.isArray(H)&&(Z=H[0],ue=H[1])),Array.isArray(v)&&(Z=v[0]*je,ue=v[1]*je),isNaN(Z)&&(Z=s[0],ue=s[1]),(Z>14400||ue>14400)&&(Ht.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Z=Math.min(14400,Z),ue=Math.min(14400,ue)),s=[Z,ue],r.substr(0,1)){case"l":ue>Z&&(s=[ue,Z]);break;case"p":Z>ue&&(s=[ue,Z])}Sl(s),gu(Cl),J(hs),Pl!==0&&J(Pl+" J"),Ll!==0&&J(Ll+" j"),Ft.publish("addPage",{pageNumber:Qt})},ef=function(v){v>0&&v<=Qt&&(ge.splice(v,1),gt.splice(v,1),Qt--,z>Qt&&(z=Qt),this.setPage(z))},uu=function(v){v>0&&v<=Qt&&(z=v)},tf=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ge.length-1},du=function(v,A,H){var Z,ue=void 0;return H=H||{},v=v!==void 0?v:At[st].fontName,A=A!==void 0?A:At[st].fontStyle,Z=v.toLowerCase(),jt[Z]!==void 0&&jt[Z][A]!==void 0?ue=jt[Z][A]:jt[v]!==void 0&&jt[v][A]!==void 0?ue=jt[v][A]:H.disableWarning===!1&&Ht.warn("Unable to look up font label for font '"+v+"', '"+A+"'. Refer to getFontList() for available fonts."),ue||H.noFallback||(ue=jt.times[A])==null&&(ue=jt.times.normal),ue},rf=p.__private__.putInfo=function(){var v=Ae(),A=function(Z){return Z};for(var H in f!==null&&(A=Qr.encryptor(v,0)),J("<<"),J("/Producer ("+vn(A("jsPDF "+ut.version))+")"),ze)ze.hasOwnProperty(H)&&ze[H]&&J("/"+H.substr(0,1).toUpperCase()+H.substr(1)+" ("+vn(A(ze[H]))+")");J("/CreationDate ("+vn(A(G))+")"),J(">>"),J("endobj")},jl=p.__private__.putCatalog=function(v){var A=(v=v||{}).rootDictionaryObjId||rt;switch(Ae(),J("<<"),J("/Type /Catalog"),J("/Pages "+A+" 0 R"),$e||($e="fullwidth"),$e){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var H=""+$e;H.substr(H.length-1)==="%"&&($e=parseInt($e)/100),typeof $e=="number"&&J("/OpenAction [3 0 R /XYZ null null "+q($e)+"]")}switch(Nt||(Nt="continuous"),Nt){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}pt&&J("/PageMode /"+pt),Ft.publish("putCatalog"),J(">>"),J("endobj")},nf=p.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(Y+1)),J("/Root "+Y+" 0 R"),J("/Info "+(Y-1)+" 0 R"),f!==null&&J("/Encrypt "+Qr.oid+" 0 R"),J("/ID [ <"+re+"> <"+re+"> ]"),J(">>")},sf=p.__private__.putHeader=function(){J("%PDF-"+b),J("%")},af=p.__private__.putXRef=function(){var v="0000000000";J("xref"),J("0 "+(Y+1)),J("0000000000 65535 f ");for(var A=1;A<=Y;A++)typeof ie[A]=="function"?J((v+ie[A]()).slice(-10)+" 00000 n "):ie[A]!==void 0?J((v+ie[A]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Js=p.__private__.buildDocument=function(){ot(),ye(he),Ft.publish("buildDocument"),sf(),Gn(),ou(),au(),f!==null&&Jh(),rf(),jl();var v=me;return af(),nf(),J("startxref"),J(""+v),J("%%EOF"),ye(ge[z]),he.join(`
`)},Za=p.__private__.getBlob=function(v){return new Blob([Qe(v)],{type:"application/pdf"})},eo=p.output=p.__private__.output=ds(function(v,A){switch(typeof(A=A||{})=="string"?A={filename:A}:A.filename=A.filename||"generated.pdf",v){case void 0:return Js();case"save":p.save(A.filename);break;case"arraybuffer":return Qe(Js());case"blob":return Za(Js());case"bloburi":case"bloburl":if(dt.URL!==void 0&&typeof dt.URL.createObjectURL=="function")return dt.URL&&dt.URL.createObjectURL(Za(Js()))||void 0;Ht.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var H="",Z=Js();try{H=Jm(Z)}catch{H=Jm(unescape(encodeURIComponent(Z)))}return"data:application/pdf;filename="+A.filename+";base64,"+H;case"pdfobjectnewwindow":if(Object.prototype.toString.call(dt)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';A.pdfObjectUrl&&(ue=A.pdfObjectUrl,be="");var Ee='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(A)+");<\/script></body></html>",We=dt.open();return We!==null&&We.document.write(Ee),We}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(dt)==="[object Window]"){var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(A.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+A.filename+'" width="500px" height="400px" /></body></html>',xt=dt.open();if(xt!==null){xt.document.write(at);var bt=this;xt.document.documentElement.querySelector("#pdfViewer").onload=function(){xt.document.title=A.filename,xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(bt.output("bloburl"))}}return xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(dt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",A)+'"></iframe></body></html>',nr=dt.open();if(nr!==null&&(nr.document.write(Tt),nr.document.title=A.filename),nr||typeof safari>"u")return nr;break;case"datauri":case"dataurl":return dt.document.location.href=this.output("datauristring",A);default:return null}}),hu=function(v){return Array.isArray(Ks)===!0&&Ks.indexOf(v)>-1};switch(n){case"pt":je=1;break;case"mm":je=72/25.4;break;case"cm":je=72/2.54;break;case"in":je=72;break;case"px":je=hu("px_scaling")==1?.75:96/72;break;case"pc":case"em":je=12;break;case"ex":je=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);je=n}var Qr=null;we(),W();var of=function(v){return f!==null?Qr.encryptor(v,0):function(A){return A}},fu=p.__private__.getPageInfo=p.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:gt[v].objId,pageNumber:v,pageContext:gt[v]}},vt=p.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var A in gt)if(gt[A].objId===v)break;return fu(A)},lf=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:gt[z].objId,pageNumber:z,pageContext:gt[z]}};p.addPage=function(){return cu.apply(this,arguments),this},p.setPage=function(){return uu.apply(this,arguments),ye.call(this,ge[z]),this},p.insertPage=function(v){return this.addPage(),this.movePage(z,v),this},p.movePage=function(v,A){var H,Z;if(v>A){H=ge[v],Z=gt[v];for(var ue=v;ue>A;ue--)ge[ue]=ge[ue-1],gt[ue]=gt[ue-1];ge[A]=H,gt[A]=Z,this.setPage(A)}else if(v<A){H=ge[v],Z=gt[v];for(var be=v;be<A;be++)ge[be]=ge[be+1],gt[be]=gt[be+1];ge[A]=H,gt[A]=Z,this.setPage(A)}return this},p.deletePage=function(){return ef.apply(this,arguments),this},p.__private__.text=p.text=function(v,A,H,Z,ue){var be,Ee,We,at,xt,bt,Tt,nr,cr,wr=(Z=Z||{}).scope||this;if(typeof v=="number"&&typeof A=="number"&&(typeof H=="string"||Array.isArray(H))){var Xr=H;H=A,A=v,v=Xr}if(arguments[3]instanceof ct?(I("The transform parameter of text() with a Matrix value"),cr=ue):(We=arguments[4],at=arguments[5],Ut(Tt=arguments[3])==="object"&&Tt!==null||(typeof We=="string"&&(at=We,We=null),typeof Tt=="string"&&(at=Tt,Tt=null),typeof Tt=="number"&&(We=Tt,Tt=null),Z={flags:Tt,angle:We,align:at})),isNaN(A)||isNaN(H)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return wr;var Rr="",fs=!1,En=typeof Z.lineHeightFactor=="number"?Z.lineHeightFactor:pa,Fs=wr.internal.scaleFactor;function xu(Wt){return Wt=Wt.split("	").join(Array(Z.TabLen||9).join(" ")),vn(Wt,Tt)}function Fl(Wt){for(var Gt,mr=Wt.concat(),Pr=[],ti=mr.length;ti--;)typeof(Gt=mr.shift())=="string"?Pr.push(Gt):Array.isArray(Wt)&&(Gt.length===1||Gt[1]===void 0&&Gt[2]===void 0)?Pr.push(Gt[0]):Pr.push([Gt[0],Gt[1],Gt[2]]);return Pr}function Dl(Wt,Gt){var mr;if(typeof Wt=="string")mr=Gt(Wt)[0];else if(Array.isArray(Wt)){for(var Pr,ti,Hl=Wt.concat(),go=[],Au=Hl.length;Au--;)typeof(Pr=Hl.shift())=="string"?go.push(Gt(Pr)[0]):Array.isArray(Pr)&&typeof Pr[0]=="string"&&(ti=Gt(Pr[0],Pr[1],Pr[2]),go.push([ti[0],ti[1],ti[2]]));mr=go}return mr}var ao=!1,Ml=!0;if(typeof v=="string")ao=!0;else if(Array.isArray(v)){var Bl=v.concat();Ee=[];for(var oo,$r=Bl.length;$r--;)(typeof(oo=Bl.shift())!="string"||Array.isArray(oo)&&typeof oo[0]!="string")&&(Ml=!1);ao=Ml}if(ao===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var lo=Oe/wr.internal.scaleFactor,co=lo*(En-1);switch(Z.baseline){case"bottom":H-=co;break;case"top":H+=lo-co;break;case"hanging":H+=lo-2*co;break;case"middle":H+=lo/2-co}if((bt=Z.maxWidth||0)>0&&(typeof v=="string"?v=wr.splitTextToSize(v,bt):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(Wt,Gt){return Wt.concat(wr.splitTextToSize(Gt,bt))},[]))),be={text:v,x:A,y:H,options:Z,mutex:{pdfEscape:vn,activeFontKey:st,fonts:At,activeFontSize:Oe}},Ft.publish("preProcessText",be),v=be.text,We=(Z=be.options).angle,!(cr instanceof ct)&&We&&typeof We=="number"){We*=Math.PI/180,Z.rotationDirection===0&&(We=-We),S===w.ADVANCED&&(We=-We);var uo=Math.cos(We),Ul=Math.sin(We);cr=new ct(uo,Ul,-Ul,uo,0,0)}else We&&We instanceof ct&&(cr=We);S!==w.ADVANCED||cr||(cr=De),(xt=Z.charSpace||no)!==void 0&&(Rr+=R(O(xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(nr=Z.horizontalScale)!==void 0&&(Rr+=R(100*nr)+` Tz
`),Z.lang;var yn=-1,yf=Z.renderingMode!==void 0?Z.renderingMode:Z.stroke,ql=wr.internal.getCurrentPageInfo().pageContext;switch(yf){case 0:case!1:case"fill":yn=0;break;case 1:case!0:case"stroke":yn=1;break;case 2:case"fillThenStroke":yn=2;break;case 3:case"invisible":yn=3;break;case 4:case"fillAndAddForClipping":yn=4;break;case 5:case"strokeAndAddPathForClipping":yn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":yn=6;break;case 7:case"addToPathForClipping":yn=7}var Nu=ql.usedRenderingMode!==void 0?ql.usedRenderingMode:-1;yn!==-1?Rr+=yn+` Tr
`:Nu!==-1&&(Rr+=`0 Tr
`),yn!==-1&&(ql.usedRenderingMode=yn),at=Z.align||"left";var Yn,ho=Oe*En,Su=wr.internal.pageSize.getWidth(),ju=At[st];xt=Z.charSpace||no,bt=Z.maxWidth||0,Tt=Object.assign({autoencode:!0,noBOM:!0},Z.flags);var Ni=[],va=function(Wt){return wr.getStringUnitWidth(Wt,{font:ju,charSpace:xt,fontSize:Oe,doKerning:!1})*Oe/Fs};if(Object.prototype.toString.call(v)==="[object Array]"){var bn;Ee=Fl(v),at!=="left"&&(Yn=Ee.map(va));var cn,Si=0;if(at==="right"){A-=Yn[0],v=[],$r=Ee.length;for(var Xs=0;Xs<$r;Xs++)Xs===0?(cn=Rs(A),bn=Qs(H)):(cn=O(Si-Yn[Xs]),bn=-ho),v.push([Ee[Xs],cn,bn]),Si=Yn[Xs]}else if(at==="center"){A-=Yn[0]/2,v=[],$r=Ee.length;for(var Zs=0;Zs<$r;Zs++)Zs===0?(cn=Rs(A),bn=Qs(H)):(cn=O((Si-Yn[Zs])/2),bn=-ho),v.push([Ee[Zs],cn,bn]),Si=Yn[Zs]}else if(at==="left"){v=[],$r=Ee.length;for(var fo=0;fo<$r;fo++)v.push(Ee[fo])}else if(at==="justify"&&ju.encoding==="Identity-H"){v=[],$r=Ee.length,bt=bt!==0?bt:Su;for(var ei=0,pr=0;pr<$r;pr++)if(bn=pr===0?Qs(H):-ho,cn=pr===0?Rs(A):ei,pr<$r-1){var zl=O((bt-Yn[pr])/(Ee[pr].split(" ").length-1)),un=Ee[pr].split(" ");v.push([un[0]+" ",cn,bn]),ei=0;for(var Kn=1;Kn<un.length;Kn++){var po=(va(un[Kn-1]+" "+un[Kn])-va(un[Kn]))*Fs+zl;Kn==un.length-1?v.push([un[Kn],po,0]):v.push([un[Kn]+" ",po,0]),ei-=po}}else v.push([Ee[pr],cn,bn]);v.push(["",ei,0])}else{if(at!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],$r=Ee.length,bt=bt!==0?bt:Su,pr=0;pr<$r;pr++)bn=pr===0?Qs(H):-ho,cn=pr===0?Rs(A):0,pr<$r-1?Ni.push(R(O((bt-Yn[pr])/(Ee[pr].split(" ").length-1)))):Ni.push(0),v.push([Ee[pr],cn,bn])}}var ku=typeof Z.R2L=="boolean"?Z.R2L:tt;ku===!0&&(v=Dl(v,function(Wt,Gt,mr){return[Wt.split("").reverse().join(""),Gt,mr]})),be={text:v,x:A,y:H,options:Z,mutex:{pdfEscape:vn,activeFontKey:st,fonts:At,activeFontSize:Oe}},Ft.publish("postProcessText",be),v=be.text,fs=be.mutex.isHex||!1;var $l=At[st].encoding;$l!=="WinAnsiEncoding"&&$l!=="StandardEncoding"||(v=Dl(v,function(Wt,Gt,mr){return[xu(Wt),Gt,mr]})),Ee=Fl(v),v=[];for(var ya,ba,ji,_a=0,mo=1,wa=Array.isArray(Ee[0])?mo:_a,ki="",Vl=function(Wt,Gt,mr){var Pr="";return mr instanceof ct?(mr=typeof Z.angle=="number"?_e(mr,new ct(1,0,0,1,Wt,Gt)):_e(new ct(1,0,0,1,Wt,Gt),mr),S===w.ADVANCED&&(mr=_e(new ct(1,0,0,-1,0,0),mr)),Pr=mr.join(" ")+` Tm
`):Pr=R(Wt)+" "+R(Gt)+` Td
`,Pr},Jn=0;Jn<Ee.length;Jn++){switch(ki="",wa){case mo:ji=(fs?"<":"(")+Ee[Jn][0]+(fs?">":")"),ya=parseFloat(Ee[Jn][1]),ba=parseFloat(Ee[Jn][2]);break;case _a:ji=(fs?"<":"(")+Ee[Jn]+(fs?">":")"),ya=Rs(A),ba=Qs(H)}Ni!==void 0&&Ni[Jn]!==void 0&&(ki=Ni[Jn]+` Tw
`),Jn===0?v.push(ki+Vl(ya,ba,cr)+ji):wa===_a?v.push(ki+ji):wa===mo&&v.push(ki+Vl(ya,ba,cr)+ji)}v=wa===_a?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Qn=`BT
/`;return Qn+=st+" "+Oe+` Tf
`,Qn+=R(Oe*En)+` TL
`,Qn+=ma+`
`,Qn+=Rr,Qn+=v,J(Qn+="ET"),g[st]=!0,wr};var cf=p.__private__.clip=p.clip=function(v){return J(v==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return cf("evenodd")},p.__private__.discardPath=p.discardPath=function(){return J("n"),this};var Os=p.__private__.isValidStyle=function(v){var A=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(A=!0),A};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(v){return Os(v)&&(d=v),this};var pu=p.__private__.getStyle=p.getStyle=function(v){var A=d;switch(v){case"D":case"S":A="S";break;case"F":A="f";break;case"FD":case"DF":A="B";break;case"f":case"f*":case"B":case"B*":A=v}return A},mu=p.close=function(){return J("h"),this};p.stroke=function(){return J("S"),this},p.fill=function(v){return to("f",v),this},p.fillEvenOdd=function(v){return to("f*",v),this},p.fillStroke=function(v){return to("B",v),this},p.fillStrokeEvenOdd=function(v){return to("B*",v),this};var to=function(v,A){Ut(A)==="object"?df(A,v):J(v)},kl=function(v){v===null||S===w.ADVANCED&&v===void 0||(v=pu(v),J(v))};function uf(v,A,H,Z,ue){var be=new Ho(A||this.boundingBox,H||this.xStep,Z||this.yStep,this.gState,ue||this.matrix);be.stream=this.stream;var Ee=v+"$$"+this.cloneIndex+++"$$";return He(Ee,be),be}var df=function(v,A){var H=Vn[v.key],Z=It[H];if(Z instanceof Ta)J("q"),J(hf(A)),Z.gState&&p.setGState(Z.gState),J(v.matrix.toString()+" cm"),J("/"+H+" sh"),J("Q");else if(Z instanceof Ho){var ue=new ct(1,0,0,-1,0,xi());v.matrix&&(ue=ue.multiply(v.matrix||De),H=uf.call(Z,v.key,v.boundingBox,v.xStep,v.yStep,ue).id),J("q"),J("/Pattern cs"),J("/"+H+" scn"),Z.gState&&p.setGState(Z.gState),J(A),J("Q")}},hf=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Al=p.moveTo=function(v,A){return J(R(O(v))+" "+R(K(A))+" m"),this},fa=p.lineTo=function(v,A){return J(R(O(v))+" "+R(K(A))+" l"),this},_i=p.curveTo=function(v,A,H,Z,ue,be){return J([R(O(v)),R(K(A)),R(O(H)),R(K(Z)),R(O(ue)),R(K(be)),"c"].join(" ")),this};p.__private__.line=p.line=function(v,A,H,Z,ue){if(isNaN(v)||isNaN(A)||isNaN(H)||isNaN(Z)||!Os(ue))throw new Error("Invalid arguments passed to jsPDF.line");return S===w.COMPAT?this.lines([[H-v,Z-A]],v,A,[1,1],ue||"S"):this.lines([[H-v,Z-A]],v,A,[1,1]).stroke()},p.__private__.lines=p.lines=function(v,A,H,Z,ue,be){var Ee,We,at,xt,bt,Tt,nr,cr,wr,Xr,Rr,fs;if(typeof v=="number"&&(fs=H,H=A,A=v,v=fs),Z=Z||[1,1],be=be||!1,isNaN(A)||isNaN(H)||!Array.isArray(v)||!Array.isArray(Z)||!Os(ue)||typeof be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Al(A,H),Ee=Z[0],We=Z[1],xt=v.length,Xr=A,Rr=H,at=0;at<xt;at++)(bt=v[at]).length===2?(Xr=bt[0]*Ee+Xr,Rr=bt[1]*We+Rr,fa(Xr,Rr)):(Tt=bt[0]*Ee+Xr,nr=bt[1]*We+Rr,cr=bt[2]*Ee+Xr,wr=bt[3]*We+Rr,Xr=bt[4]*Ee+Xr,Rr=bt[5]*We+Rr,_i(Tt,nr,cr,wr,Xr,Rr));return be&&mu(),kl(ue),this},p.path=function(v){for(var A=0;A<v.length;A++){var H=v[A],Z=H.c;switch(H.op){case"m":Al(Z[0],Z[1]);break;case"l":fa(Z[0],Z[1]);break;case"c":_i.apply(this,Z);break;case"h":mu()}}return this},p.__private__.rect=p.rect=function(v,A,H,Z,ue){if(isNaN(v)||isNaN(A)||isNaN(H)||isNaN(Z)||!Os(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return S===w.COMPAT&&(Z=-Z),J([R(O(v)),R(K(A)),R(O(H)),R(O(Z)),"re"].join(" ")),kl(ue),this},p.__private__.triangle=p.triangle=function(v,A,H,Z,ue,be,Ee){if(isNaN(v)||isNaN(A)||isNaN(H)||isNaN(Z)||isNaN(ue)||isNaN(be)||!Os(Ee))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[H-v,Z-A],[ue-H,be-Z],[v-ue,A-be]],v,A,[1,1],Ee,!0),this},p.__private__.roundedRect=p.roundedRect=function(v,A,H,Z,ue,be,Ee){if(isNaN(v)||isNaN(A)||isNaN(H)||isNaN(Z)||isNaN(ue)||isNaN(be)||!Os(Ee))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var We=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*H),be=Math.min(be,.5*Z),this.lines([[H-2*ue,0],[ue*We,0,ue,be-be*We,ue,be],[0,Z-2*be],[0,be*We,-ue*We,be,-ue,be],[2*ue-H,0],[-ue*We,0,-ue,-be*We,-ue,-be],[0,2*be-Z],[0,-be*We,ue*We,-be,ue,-be]],v+ue,A,[1,1],Ee,!0),this},p.__private__.ellipse=p.ellipse=function(v,A,H,Z,ue){if(isNaN(v)||isNaN(A)||isNaN(H)||isNaN(Z)||!Os(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var be=4/3*(Math.SQRT2-1)*H,Ee=4/3*(Math.SQRT2-1)*Z;return Al(v+H,A),_i(v+H,A-Ee,v+be,A-Z,v,A-Z),_i(v-be,A-Z,v-H,A-Ee,v-H,A),_i(v-H,A+Ee,v-be,A+Z,v,A+Z),_i(v+be,A+Z,v+H,A+Ee,v+H,A),kl(ue),this},p.__private__.circle=p.circle=function(v,A,H,Z){if(isNaN(v)||isNaN(A)||isNaN(H)||!Os(Z))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,A,H,H,Z)},p.setFont=function(v,A,H){return H&&(A=ee(A,H)),st=du(v,A,{disableWarning:!1}),this};var ff=p.__private__.getFont=p.getFont=function(){return At[du.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var v,A,H={};for(v in jt)if(jt.hasOwnProperty(v))for(A in H[v]=[],jt[v])jt[v].hasOwnProperty(A)&&H[v].push(A);return H},p.addFont=function(v,A,H,Z,ue){var be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&be.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&be.indexOf(arguments[3])==-1&&(H=ee(H,Z)),ue=ue||"Identity-H",Nl.call(this,v,A,H,ue)};var pa,Cl=e.lineWidth||.200025,ro=p.__private__.getLineWidth=p.getLineWidth=function(){return Cl},gu=p.__private__.setLineWidth=p.setLineWidth=function(v){return Cl=v,J(R(O(v))+" w"),this};p.__private__.setLineDash=ut.API.setLineDash=ut.API.setLineDashPattern=function(v,A){if(v=v||[],A=A||0,isNaN(A)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(H){return R(O(H))}).join(" "),A=R(O(A)),J("["+v+"] "+A+" d"),this};var vu=p.__private__.getLineHeight=p.getLineHeight=function(){return Oe*pa};p.__private__.getLineHeight=p.getLineHeight=function(){return Oe*pa};var yu=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(pa=v),this},bu=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return pa};yu(e.lineHeight);var Rs=p.__private__.getHorizontalCoordinate=function(v){return O(v)},Qs=p.__private__.getVerticalCoordinate=function(v){return S===w.ADVANCED?v:gt[z].mediaBox.topRightY-gt[z].mediaBox.bottomLeftY-O(v)},pf=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(v){return R(Rs(v))},wi=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(v){return R(Qs(v))},hs=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return $t(hs)},p.__private__.setStrokeColor=p.setDrawColor=function(v,A,H,Z){return hs=Cr({ch1:v,ch2:A,ch3:H,ch4:Z,pdfColorType:"draw",precision:2}),J(hs),this};var El=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return $t(El)},p.__private__.setFillColor=p.setFillColor=function(v,A,H,Z){return El=Cr({ch1:v,ch2:A,ch3:H,ch4:Z,pdfColorType:"fill",precision:2}),J(El),this};var ma=e.textColor||"0 g",mf=p.__private__.getTextColor=p.getTextColor=function(){return $t(ma)};p.__private__.setTextColor=p.setTextColor=function(v,A,H,Z){return ma=Cr({ch1:v,ch2:A,ch3:H,ch4:Z,pdfColorType:"text",precision:3}),this};var no=e.charSpace,gf=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(no||0)};p.__private__.setCharSpace=p.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return no=v,this};var Pl=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(v){var A=p.CapJoinStyles[v];if(A===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pl=A,J(A+" J"),this};var Ll=0;p.__private__.setLineJoin=p.setLineJoin=function(v){var A=p.CapJoinStyles[v];if(A===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ll=A,J(A+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(R(O(v))+" M"),this},p.GState=wh,p.setGState=function(v){(v=typeof v=="string"?tr[Cn[v]]:_u(null,v)).equals(ls)||(J("/"+v.id+" gs"),ls=v)};var _u=function(v,A){if(!v||!Cn[v]){var H=!1;for(var Z in tr)if(tr.hasOwnProperty(Z)&&tr[Z].equals(A)){H=!0;break}if(H)A=tr[Z];else{var ue="GS"+(Object.keys(tr).length+1).toString(10);tr[ue]=A,A.id=ue}return v&&(Cn[v]=A.id),Ft.publish("addGState",A),A}};p.addGState=function(v,A){return _u(v,A),this},p.saveGraphicsState=function(){return J("q"),Kr.push({key:st,size:Oe,color:ma}),this},p.restoreGraphicsState=function(){J("Q");var v=Kr.pop();return st=v.key,Oe=v.size,ma=v.color,ls=null,this},p.setCurrentTransformationMatrix=function(v){return J(v.toString()+" cm"),this},p.comment=function(v){return J("#"+v),this};var so=function(v,A){var H=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return H},set:function(be){isNaN(be)||(H=parseFloat(be))}});var Z=A||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Z},set:function(be){isNaN(be)||(Z=parseFloat(be))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(be){ue=be.toString()}}),this},Tl=function(v,A,H,Z){so.call(this,v,A),this.type="rect";var ue=H||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(Ee){isNaN(Ee)||(ue=parseFloat(Ee))}});var be=Z||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return be},set:function(Ee){isNaN(Ee)||(be=parseFloat(Ee))}}),this},Il=function(){this.page=Qt,this.currentPage=z,this.pages=ge.slice(0),this.pagesContext=gt.slice(0),this.x=mt,this.y=Te,this.matrix=Lt,this.width=ga(z),this.height=xi(z),this.outputDestination=Fe,this.id="",this.objectNumber=-1};Il.prototype.restore=function(){Qt=this.page,z=this.currentPage,gt=this.pagesContext,ge=this.pages,mt=this.x,Te=this.y,Lt=this.matrix,Ol(z,this.width),Rl(z,this.height),Fe=this.outputDestination};var wu=function(v,A,H,Z,ue){Wn.push(new Il),Qt=z=0,ge=[],mt=v,Te=A,Lt=ue,Sl([H,Z])},vf=function(v){if(Hn[v])Wn.pop().restore();else{var A=new Il,H="Xo"+(Object.keys(Ar).length+1).toString(10);A.id=H,Hn[v]=H,Ar[H]=A,Ft.publish("addFormObject",A),Wn.pop().restore()}};for(var io in p.beginFormObject=function(v,A,H,Z,ue){return wu(v,A,H,Z,ue),this},p.endFormObject=function(v){return vf(v),this},p.doFormObject=function(v,A){var H=Ar[Hn[v]];return J("q"),J(A.toString()+" cm"),J("/"+H.id+" Do"),J("Q"),this},p.getFormObject=function(v){var A=Ar[Hn[v]];return{x:A.x,y:A.y,width:A.width,height:A.height,matrix:A.matrix}},p.save=function(v,A){return v=v||"generated.pdf",(A=A||{}).returnPromise=A.returnPromise||!1,A.returnPromise===!1?(Ca(Za(Js()),v),typeof Ca.unload=="function"&&dt.setTimeout&&setTimeout(Ca.unload,911),this):new Promise(function(H,Z){try{var ue=Ca(Za(Js()),v);typeof Ca.unload=="function"&&dt.setTimeout&&setTimeout(Ca.unload,911),H(ue)}catch(be){Z(be.message)}})},ut.API)ut.API.hasOwnProperty(io)&&(io==="events"&&ut.API.events.length?function(v,A){var H,Z,ue;for(ue=A.length-1;ue!==-1;ue--)H=A[ue][0],Z=A[ue][1],v.subscribe.apply(v,[H].concat(typeof Z=="function"?[Z]:Z))}(Ft,ut.API.events):p[io]=ut.API[io]);var ga=p.getPageWidth=function(v){return(gt[v=v||z].mediaBox.topRightX-gt[v].mediaBox.bottomLeftX)/je},Ol=p.setPageWidth=function(v,A){gt[v].mediaBox.topRightX=A*je+gt[v].mediaBox.bottomLeftX},xi=p.getPageHeight=function(v){return(gt[v=v||z].mediaBox.topRightY-gt[v].mediaBox.bottomLeftY)/je},Rl=p.setPageHeight=function(v,A){gt[v].mediaBox.topRightY=A*je+gt[v].mediaBox.bottomLeftY};return p.internal={pdfEscape:vn,getStyle:pu,getFont:ff,getFontSize:Ue,getCharSpace:gf,getTextColor:mf,getLineHeight:vu,getLineHeightFactor:bu,getLineWidth:ro,write:ft,getHorizontalCoordinate:Rs,getVerticalCoordinate:Qs,getCoordinateString:pf,getVerticalCoordinateString:wi,collections:{},newObject:Ae,newAdditionalObject:Be,newObjectDeferred:Ke,newObjectDeferredBegin:kt,getFilters:Or,putStream:lr,events:Ft,scaleFactor:je,pageSize:{getWidth:function(){return ga(z)},setWidth:function(v){Ol(z,v)},getHeight:function(){return xi(z)},setHeight:function(v){Rl(z,v)}},encryptionOptions:f,encryption:Qr,getEncryptor:of,output:eo,getNumberOfPages:tf,pages:ge,out:J,f2:q,f3:E,getPageInfo:fu,getPageInfoByObjId:vt,getCurrentPageInfo:lf,getPDFVersion:N,Point:so,Rectangle:Tl,Matrix:ct,hasHotfix:hu},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ga(z)},set:function(v){Ol(z,v)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return xi(z)},set:function(v){Rl(z,v)},enumerable:!0,configurable:!0}),Zh.call(p,Le),st="F1",cu(s,r),Ft.publish("initialized"),p}Lo.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Lo.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lo.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Lo.prototype.processOwnerPassword=function(e,t){return Xm(Qm(t).substr(0,5),e)},Lo.prototype.encryptor=function(e,t){var r=Qm(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Xm(r,n)}},wh.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Ut(e)!==Ut(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},ut.API={events:[]},ut.version="2.5.2";var dr=ut.API,p0=1,Ka=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ao=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},wt=function(e){return e.toFixed(2)},Di=function(e){return e.toFixed(5)};dr.__acroform__={};var An=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Jv=function(e){return e*p0},Bs=function(e){var t=new f_,r=Ze.internal.getHeight(e)||0,n=Ze.internal.getWidth(e)||0;return t.BBox=[0,0,Number(wt(n)),Number(wt(r))],t},N6=dr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},S6=dr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},j6=dr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},vr=dr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return j6(e,t-1)},yr=dr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return N6(e,t-1)},br=dr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return S6(e,t-1)},k6=dr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],a=e[2],l=e[3],o={};return o.lowerLeft_X=r(s)||0,o.lowerLeft_Y=n(i+l)||0,o.upperRight_X=r(s+a)||0,o.upperRight_Y=n(i)||0,[Number(wt(o.lowerLeft_X)),Number(wt(o.lowerLeft_Y)),Number(wt(o.upperRight_X)),Number(wt(o.upperRight_Y))]},A6=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Zm(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+wt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Bs(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Zm=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(E){return E.split(`
`)}):s.map(function(E){return[E]});var i=r,a=Ze.internal.getHeight(e)||0;a=a<0?-a:a;var l=Ze.internal.getWidth(e)||0;l=l<0?-l:l;var o=function(E,O,Q){if(E+1<s.length){var K=O+" "+s[E+1][0];return Sd(K,e,Q).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var d,f,m=Sd("3",e,i).height,g=e.multiline?a-i:(a-m)/2,p=g+=2,b=0,N=0,j=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Sd(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var _="",w=0,S=0;S<s.length;S++)if(s.hasOwnProperty(S)){var D=!1;if(s[S].length!==1&&j!==s[S].length-1){if((m+2)*(w+2)+2>a)continue e;_+=s[S][j],D=!0,N=S,S--}else{_=(_+=s[S][j]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var B=parseInt(S),ee=o(B,_,i),R=S>=s.length-1;if(ee&&!R){_+=" ",j=0;continue}if(ee||R){if(R)N=B;else if(e.multiline&&(m+2)*(w+2)+2>a)continue e}else{if(!e.multiline||(m+2)*(w+2)+2>a)continue e;N=B}}for(var I="",U=b;U<=N;U++){var q=s[U];if(e.multiline){if(U===N){I+=q[j]+" ",j=(j+1)%q.length;continue}if(U===b){I+=q[q.length-1]+" ";continue}}I+=q[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,f=Sd(I,e,i).width,e.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;case"left":default:d=2}t+=wt(d)+" "+wt(p)+` Td
`,t+="("+Ka(I)+`) Tj
`,t+=-wt(d)+` 0 Td
`,p=-(i+2),f=0,b=D?N:N+1,w++,_=""}break}return n.text=t,n.fontSize=i,n},Sd=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},C6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},E6=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},P6=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,s=e[r];t.internal.newObjectDeferredBegin(s.objId,!0),Ut(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[n]}},L6=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ps.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(C6)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");p0=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new p_,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&E6(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var l=n[a],o=[],d=l.Rect;if(l.Rect&&(l.Rect=k6(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ze.createDefaultAppearanceStream(l),Ut(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(o=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=A6(l);o.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var m="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var p=l.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var b=p[a];typeof b=="function"&&(b=b.call(s,l)),m+="/"+a+" "+b+" ",s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b)}}else typeof(b=p)=="function"&&(b=b.call(s,l)),m+="/"+a+" "+b,s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b);m+=">>"}o.push({key:"AP",value:`<<
`+m+">>"})}s.internal.putStream({additionalKeyValues:o,objectId:l.objId}),s.internal.out("endobj")}i&&P6(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},h_=dr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(a){return a};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),Ut(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+Ka(n(e[i].toString()))+")"):s+=e[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ep=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ka(n(e))+")"},$s=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$s.prototype.toString=function(){return this.objId+" 0 R"},$s.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},$s.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:h_(s,this.objId,this.scope)}):s instanceof $s?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var f_=function(){$s.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};An(f_,$s);var p_=function(){$s.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ka(r(e))+")"}},set:function(r){e=r}})};An(p_,$s);var Ps=function e(){$s.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');t=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vr(t,3)},set:function(_){_?this.F=yr(t,3):this.F=br(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof xh)return;i="FieldObject"+e.FieldNum++}var _=function(w){return w};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Ka(_(i))+")"},set:function(_){i=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(_){i=_}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var o=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/p0:d},set:function(_){d=_}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(_){f=_}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof xh||this instanceof Ba))return Ep(m,this.objId,this.scope)},set:function(_){_=_.toString(),m=_}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Br?g:Ep(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=this instanceof Br?_:_.substr(0,1)==="("?Ao(_.substr(1,_.length-2)):Ao(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Br?Ao(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof Br?"/"+_:_}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Br?p:Ep(p,this.objId,this.scope)},set:function(_){_=_.toString(),p=this instanceof Br?_:_.substr(0,1)==="("?Ao(_.substr(1,_.length-2)):Ao(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Br?Ao(p.substr(1,p.length-1)):p},set:function(_){_=_.toString(),p=this instanceof Br?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(_){_=!!_,N=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(_){b=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,1)},set:function(_){_?this.Ff=yr(this.Ff,1):this.Ff=br(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,2)},set:function(_){_?this.Ff=yr(this.Ff,2):this.Ff=br(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,3)},set:function(_){_?this.Ff=yr(this.Ff,3):this.Ff=br(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');j=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(j){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};An(Ps,$s);var Zo=function(){Ps.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return h_(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,l){l||(l=1);for(var o,d=[];o=a.exec(i);)d.push(o[l]);return d}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,18)},set:function(r){r?this.Ff=yr(this.Ff,18):this.Ff=br(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=yr(this.Ff,19):this.Ff=br(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,20)},set:function(r){r?(this.Ff=yr(this.Ff,20),t.sort()):this.Ff=br(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,22)},set:function(r){r?this.Ff=yr(this.Ff,22):this.Ff=br(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,23)},set:function(r){r?this.Ff=yr(this.Ff,23):this.Ff=br(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,27)},set:function(r){r?this.Ff=yr(this.Ff,27):this.Ff=br(this.Ff,27)}}),this.hasAppearanceStream=!1};An(Zo,Ps);var el=function(){Zo.call(this),this.fontName="helvetica",this.combo=!1};An(el,Zo);var tl=function(){el.call(this),this.combo=!0};An(tl,el);var qd=function(){tl.call(this),this.edit=!0};An(qd,tl);var Br=function(){Ps.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,15)},set:function(r){r?this.Ff=yr(this.Ff,15):this.Ff=br(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,16)},set:function(r){r?this.Ff=yr(this.Ff,16):this.Ff=br(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,17)},set:function(r){r?this.Ff=yr(this.Ff,17):this.Ff=br(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,26)},set:function(r){r?this.Ff=yr(this.Ff,26):this.Ff=br(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+Ka(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Ut(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};An(Br,Ps);var zd=function(){Br.call(this),this.pushButton=!0};An(zd,Br);var rl=function(){Br.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};An(rl,Br);var xh=function(){var e,t;Ps.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+Ka(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Ut(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};An(xh,Ps),rl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},rl.prototype.createOption=function(e){var t=new xh;return t.Parent=this,t.optionName=e,this.Kids.push(t),T6.call(this.scope,t),t};var $d=function(){Br.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ze.CheckBox.createAppearanceStream()};An($d,Br);var Ba=function(){Ps.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,13)},set:function(t){t?this.Ff=yr(this.Ff,13):this.Ff=br(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,21)},set:function(t){t?this.Ff=yr(this.Ff,21):this.Ff=br(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,23)},set:function(t){t?this.Ff=yr(this.Ff,23):this.Ff=br(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,24)},set:function(t){t?this.Ff=yr(this.Ff,24):this.Ff=br(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,25)},set:function(t){t?this.Ff=yr(this.Ff,25):this.Ff=br(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,26)},set:function(t){t?this.Ff=yr(this.Ff,26):this.Ff=br(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};An(Ba,Ps);var Vd=function(){Ba.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,14)},set:function(e){e?this.Ff=yr(this.Ff,14):this.Ff=br(this.Ff,14)}}),this.password=!0};An(Vd,Ba);var Ze={CheckBox:{createAppearanceStream:function(){return{N:{On:Ze.CheckBox.YesNormal},D:{On:Ze.CheckBox.YesPushDown,Off:Ze.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Bs(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=Zm(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+wt(Ze.internal.getWidth(e))+" "+wt(Ze.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+wt(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Bs(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=Ze.internal.getHeight(e),a=Ze.internal.getWidth(e),l=Zm(e,e.caption);return s.push("1 g"),s.push("0 0 "+wt(a)+" "+wt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+wt(a-1)+" "+wt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+wt(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Bs(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+wt(Ze.internal.getWidth(e))+" "+wt(Ze.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ze.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ze.RadioButton.Circle.YesNormal,t.D[e]=Ze.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Bs(e);t.scope=e.scope;var r=[],n=Ze.internal.getWidth(e)<=Ze.internal.getHeight(e)?Ze.internal.getWidth(e)/4:Ze.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Ze.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Di(Ze.internal.getWidth(e)/2)+" "+Di(Ze.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Bs(e);t.scope=e.scope;var r=[],n=Ze.internal.getWidth(e)<=Ze.internal.getHeight(e)?Ze.internal.getWidth(e)/4:Ze.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ze.internal.Bezier_C).toFixed(5)),a=Number((n*Ze.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Di(Ze.internal.getWidth(e)/2)+" "+Di(Ze.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Di(Ze.internal.getWidth(e)/2)+" "+Di(Ze.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Bs(e);t.scope=e.scope;var r=[],n=Ze.internal.getWidth(e)<=Ze.internal.getHeight(e)?Ze.internal.getWidth(e)/4:Ze.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ze.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Di(Ze.internal.getWidth(e)/2)+" "+Di(Ze.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ze.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ze.RadioButton.Cross.YesNormal,t.D[e]=Ze.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Bs(e);t.scope=e.scope;var r=[],n=Ze.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+wt(Ze.internal.getWidth(e)-2)+" "+wt(Ze.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(wt(n.x1.x)+" "+wt(n.x1.y)+" m"),r.push(wt(n.x2.x)+" "+wt(n.x2.y)+" l"),r.push(wt(n.x4.x)+" "+wt(n.x4.y)+" m"),r.push(wt(n.x3.x)+" "+wt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Bs(e);t.scope=e.scope;var r=Ze.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+wt(Ze.internal.getWidth(e))+" "+wt(Ze.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+wt(Ze.internal.getWidth(e)-2)+" "+wt(Ze.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(wt(r.x1.x)+" "+wt(r.x1.y)+" m"),n.push(wt(r.x2.x)+" "+wt(r.x2.y)+" l"),n.push(wt(r.x4.x)+" "+wt(r.x4.y)+" m"),n.push(wt(r.x3.x)+" "+wt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Bs(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+wt(Ze.internal.getWidth(e))+" "+wt(Ze.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ze.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ze.internal.getWidth(e),r=Ze.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ze.internal.getWidth=function(e){var t=0;return Ut(e)==="object"&&(t=Jv(e.Rect[2])),t},Ze.internal.getHeight=function(e){var t=0;return Ut(e)==="object"&&(t=Jv(e.Rect[3])),t};var T6=dr.addField=function(e){if(L6(this,e),!(e instanceof Ps))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};dr.AcroFormChoiceField=Zo,dr.AcroFormListBox=el,dr.AcroFormComboBox=tl,dr.AcroFormEditBox=qd,dr.AcroFormButton=Br,dr.AcroFormPushButton=zd,dr.AcroFormRadioButton=rl,dr.AcroFormCheckBox=$d,dr.AcroFormTextField=Ba,dr.AcroFormPasswordField=Vd,dr.AcroFormAppearance=Ze,dr.AcroForm={ChoiceField:Zo,ListBox:el,ComboBox:tl,EditBox:qd,Button:Br,PushButton:zd,RadioButton:rl,CheckBox:$d,TextField:Ba,PasswordField:Vd,Appearance:Ze},ut.AcroForm={ChoiceField:Zo,ListBox:el,ComboBox:tl,EditBox:qd,Button:Br,PushButton:zd,RadioButton:rl,CheckBox:$d,TextField:Ba,PasswordField:Vd,Appearance:Ze};ut.AcroForm;function m_(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(E,O){var Q,K,G,re,de,W=t;if((O=O||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(ee(E))for(de in r)for(G=r[de],Q=0;Q<G.length;Q+=1){for(re=!0,K=0;K<G[Q].length;K+=1)if(G[Q][K]!==void 0&&G[Q][K]!==E[K]){re=!1;break}if(re===!0){W=de;break}}else for(de in r)for(G=r[de],Q=0;Q<G.length;Q+=1){for(re=!0,K=0;K<G[Q].length;K+=1)if(G[Q][K]!==void 0&&G[Q][K]!==E.charCodeAt(K)){re=!1;break}if(re===!0){W=de;break}}return W===t&&O!==t&&(W=O),W},s=function E(O){for(var Q=this.internal.write,K=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:O.width}),re.push({key:"Height",value:O.height}),O.colorSpace===j.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===j.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var de="",W=0,se=O.transparency.length;W<se;W++)de+=O.transparency[W]+" "+O.transparency[W]+" ";re.push({key:"Mask",value:"["+de+"]"})}O.sMask!==void 0&&re.push({key:"SMask",value:O.objectId+1+" 0 R"});var ce=O.filter!==void 0?["/"+O.filter]:void 0;if(K({data:O.data,additionalKeyValues:re,alreadyAppliedFilters:ce,objectId:O.objectId}),Q("endobj"),"sMask"in O&&O.sMask!==void 0){var we="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,C={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:we,data:O.sMask};"filter"in O&&(C.filter=O.filter),E.call(this,C)}if(O.colorSpace===j.INDEXED){var z=this.internal.newObject();K({data:I(new Uint8Array(O.palette)),objectId:z}),Q("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var O in E)s.call(this,E[O])},a=function(){var E,O=this.internal.collections.addImage_images,Q=this.internal.write;for(var K in O)Q("/I"+(E=O[K]).index,E.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},o=function(){var E=this.internal.collections.addImage_images;return l.call(this),E},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(E){return typeof e["process"+E.toUpperCase()]=="function"},m=function(E){return Ut(E)==="object"&&E.nodeType===1},g=function(E,O){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var Q=""+E.getAttribute("src");if(Q.indexOf("data:image/")===0)return jc(unescape(Q).split("base64,").pop());var K=e.loadFile(Q,!0);if(K!==void 0)return K}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var G;switch(O){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return jc(E.toDataURL(G,1).split("base64,").pop())}},p=function(E){var O=this.internal.collections.addImage_images;if(O){for(var Q in O)if(E===O[Q].alias)return O[Q]}},b=function(E,O,Q){return E||O||(E=-96,O=-96),E<0&&(E=-1*Q.width*72/E/this.internal.scaleFactor),O<0&&(O=-1*Q.height*72/O/this.internal.scaleFactor),E===0&&(E=O*Q.width/Q.height),O===0&&(O=E*Q.height/Q.width),[E,O]},N=function(E,O,Q,K,G,re){var de=b.call(this,Q,K,G),W=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,ce=o.call(this);if(Q=de[0],K=de[1],ce[G.index]=G,re){re*=Math.PI/180;var we=Math.cos(re),C=Math.sin(re),z=function(V){return V.toFixed(4)},L=[z(we),z(C),z(-1*C),z(we),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,W(E),se(O+K),"cm"].join(" ")),this.internal.write(L.join(" ")),this.internal.write([W(Q),"0","0",W(K),"0","0","cm"].join(" "))):this.internal.write([W(Q),"0","0",W(K),W(E),se(O+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(E){var O,Q,K=0;if(typeof E=="string")for(Q=E.length,O=0;O<Q;O++)K=(K<<5)-K+E.charCodeAt(O),K|=0;else if(ee(E))for(Q=E.byteLength/2,O=0;O<Q;O++)K=(K<<5)-K+E[O],K|=0;return K},S=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var O=!0;return E.length===0&&(O=!1),E.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(O=!1),O},D=e.__addimage__.extractImageFromDataUrl=function(E){var O=(E=E||"").split("base64,"),Q=null;if(O.length===2){var K=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(O[0]);Array.isArray(K)&&(Q={mimeType:K[1],charset:K[2],data:O[1]})}return Q},B=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return B()&&E instanceof ArrayBuffer};var ee=e.__addimage__.isArrayBufferView=function(E){return B()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},R=e.__addimage__.binaryStringToUint8Array=function(E){for(var O=E.length,Q=new Uint8Array(O),K=0;K<O;K++)Q[K]=E.charCodeAt(K);return Q},I=e.__addimage__.arrayBufferToBinaryString=function(E){for(var O="",Q=ee(E)?E:new Uint8Array(E),K=0;K<Q.length;K+=8192)O+=String.fromCharCode.apply(null,Q.subarray(K,K+8192));return O};e.addImage=function(){var E,O,Q,K,G,re,de,W,se;if(typeof arguments[1]=="number"?(O=t,Q=arguments[1],K=arguments[2],G=arguments[3],re=arguments[4],de=arguments[5],W=arguments[6],se=arguments[7]):(O=arguments[1],Q=arguments[2],K=arguments[3],G=arguments[4],re=arguments[5],de=arguments[6],W=arguments[7],se=arguments[8]),Ut(E=arguments[0])==="object"&&!m(E)&&"imageData"in E){var ce=E;E=ce.imageData,O=ce.format||O||t,Q=ce.x||Q||0,K=ce.y||K||0,G=ce.w||ce.width||G,re=ce.h||ce.height||re,de=ce.alias||de,W=ce.compression||W,se=ce.rotation||ce.angle||se}var we=this.internal.getFilters();if(W===void 0&&we.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(Q)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var C=U.call(this,E,O,de,W);return N.call(this,Q,K,G,re,C,se),this};var U=function(E,O,Q,K){var G,re,de;if(typeof E=="string"&&n(E)===t){E=unescape(E);var W=q(E,!1);(W!==""||(W=e.loadFile(E,!0))!==void 0)&&(E=W)}if(m(E)&&(E=g(E,O)),O=n(E,O),!f(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((de=Q)==null||de.length===0)&&(Q=function(se){return typeof se=="string"||ee(se)?w(se):ee(se.data)?w(se.data):null}(E)),(G=p.call(this,Q))||(B()&&(E instanceof Uint8Array||O==="RGBA"||(re=E,E=R(E))),G=this["process"+O.toUpperCase()](E,d.call(this),Q,function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in e.image_compression?se:_.NONE}(K),re)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},q=e.__addimage__.convertBase64ToBinaryString=function(E,O){var Q;O=typeof O!="boolean"||O;var K,G="";if(typeof E=="string"){K=(Q=D(E))!==null?Q.data:E;try{G=jc(K)}catch(re){if(O)throw S(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};e.getImageProperties=function(E){var O,Q,K="";if(m(E)&&(E=g(E)),typeof E=="string"&&n(E)===t&&((K=q(E,!1))===""&&(K=e.loadFile(E)||""),E=K),Q=n(E),!f(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(!B()||E instanceof Uint8Array||(E=R(E)),!(O=this["process"+Q.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=Q,O}})(ut.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};ut.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,f=!1,m=0;m<d.length&&!f;m++)switch((n=d[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<d.length;g++){n=d[g];var p=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(N.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(_(n.contents))+")",i+=" /Popup "+j.objId+" 0 R",i+=" /P "+o.objId+" 0 R",i+=" /T ("+p(_(w))+") >>",N.content=i;var S=N.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(i+=" /Open true"),i+=" >>",j.content=i,this.internal.write(N.objId,"0 R",j.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var D=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(b(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var B=this.annotations._nameMap[n.options.name];n.options.pageNumber=B.page,n.options.top=B.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var ee=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+ee+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,a){var l=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:o(r),y:d(n),w:o(r+s),h:d(n+i)},options:a,type:"link"})},e.textWithLink=function(r,n,s,i){var a,l,o=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(r,l).length;a=Math.ceil(d*f)}else l=o,a=d;return this.text(r,n,s,i),s+=.2*d,i.align==="center"&&(n-=o/2),i.align==="right"&&(n-=o),this.link(n,s-d,l,a,i),o},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ut.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(N){return t[N.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},l=e.__arabicParser__.isArabicEndLetter=function(N){return a(N)&&i(N)&&t[N.charCodeAt(0)].length<=2},o=e.__arabicParser__.isArabicAlfLetter=function(N){return a(N)&&s.indexOf(N.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return a(N)&&i(N)&&t[N.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(N){return a(N)&&i(N)&&t[N.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(N){return a(N)&&i(N)&&t[N.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(N){return a(N)&&i(N)&&t[N.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(N){var j=0,_=r,w="",S=0;for(j=0;j<N.length;j+=1)_[N.charCodeAt(j)]!==void 0?(S++,typeof(_=_[N.charCodeAt(j)])=="number"&&(w+=String.fromCharCode(_),_=r,S=0),j===N.length-1&&(_=r,w+=N.charAt(j-(S-1)),j-=S-1,S=0)):(_=r,w+=N.charAt(j-S),j-=S,S=0);return w};e.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&n[N.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(N,j,_){return a(N)?i(N)===!1?-1:!d(N)||!a(j)&&!a(_)||!a(_)&&l(j)||l(N)&&!a(j)||l(N)&&o(j)||l(N)&&l(j)?0:f(N)&&a(j)&&!l(j)&&a(_)&&d(_)?3:l(N)||!a(_)?1:2:-1},p=function(N){var j=0,_=0,w=0,S="",D="",B="",ee=(N=N||"").split("\\s+"),R=[];for(j=0;j<ee.length;j+=1){for(R.push(""),_=0;_<ee[j].length;_+=1)S=ee[j][_],D=ee[j][_-1],B=ee[j][_+1],a(S)?(w=g(S,D,B),R[j]+=w!==-1?String.fromCharCode(t[S.charCodeAt(0)][w]):S):R[j]+=S;R[j]=m(R[j])}return R.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var N,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(j)){var w=0;for(_=[],w=0;w<j.length;w+=1)Array.isArray(j[w])?_.push([p(j[w][0]),j[w][1],j[w][2]]):_.push([p(j[w])]);N=_}else N=p(j);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};e.events.push(["preProcessText",b])}(ut.API),ut.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ut.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var o=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return o},set:function(N){o=N}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(N){g=N}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(N){b=N}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(o){return n.call(this),this.internal.__cell__.headerFunction=typeof o=="function"?o:void 0,this},e.getTextDimensions=function(o,d){n.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),g=d.scaleFactor||this.internal.scaleFactor,p=0,b=0,N=0,j=this;if(!Array.isArray(o)&&typeof o!="string"){if(typeof o!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");o=String(o)}var _=d.maxWidth;_>0?typeof o=="string"?o=this.splitTextToSize(o,_):Object.prototype.toString.call(o)==="[object Array]"&&(o=o.reduce(function(S,D){return S.concat(j.splitTextToSize(D,_))},[])):o=Array.isArray(o)?o:[o];for(var w=0;w<o.length;w++)p<(N=this.getStringUnitWidth(o[w],{font:m})*f)&&(p=N);return p!==0&&(b=o.length),{w:p/=g,h:Math.max((b*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var o=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(o.left,o.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var o;o=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===o.lineNumber?(o.x=(d.x||0)+(d.width||0),o.y=d.y||0):d.y+d.height+o.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),o.y=m.top,p&&g&&(this.printHeaderRow(o.lineNumber,!0),o.y+=g[0].height)):o.y=d.y+d.height||o.y),o.text[0]!==void 0&&(this.rect(o.x,o.y,o.width,o.height,r===!0?"FD":void 0),o.align==="right"?this.text(o.text,o.x+o.width-f,o.y+f,{align:"right",baseline:"top"}):o.align==="center"?this.text(o.text,o.x+o.width/2,o.y+f,{align:"center",baseline:"top",maxWidth:o.width-f-f}):this.text(o.text,o.x+f,o.y+f,{align:"left",baseline:"top",maxWidth:o.width-f-f})),this.internal.__cell__.lastCell=o,this};e.table=function(o,d,f,m,g){if(n.call(this),!f)throw new Error("No data for PDF table.");var p,b,N,j,_=[],w=[],S=[],D={},B={},ee=[],R=[],I=(g=g||{}).autoSize||!1,U=g.printHeaders!==!1,q=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,E=g.margins||Object.assign({width:this.getPageWidth()},t),O=typeof g.padding=="number"?g.padding:3,Q=g.headerBackgroundColor||"#c8c8c8",K=g.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=K,this.setFontSize(q),m==null)w=_=Object.keys(f[0]),S=_.map(function(){return"left"});else if(Array.isArray(m)&&Ut(m[0])==="object")for(_=m.map(function(ce){return ce.name}),w=m.map(function(ce){return ce.prompt||ce.name||""}),S=m.map(function(ce){return ce.align||"left"}),p=0;p<m.length;p+=1)B[m[p].name]=m[p].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(w=_=m,S=_.map(function(){return"left"}));if(I||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<_.length;p+=1){for(D[j=_[p]]=f.map(function(ce){return ce[j]}),this.setFont(void 0,"bold"),ee.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=D[j],this.setFont(void 0,"normal"),N=0;N<b.length;N+=1)ee.push(this.getTextDimensions(b[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[j]=Math.max.apply(null,ee)+O+O,ee=[]}if(U){var G={};for(p=0;p<_.length;p+=1)G[_[p]]={},G[_[p]].text=w[p],G[_[p]].align=S[p];var re=l.call(this,G,B);R=_.map(function(ce){return new i(o,d,B[ce],re,G[ce].text,void 0,G[ce].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var de=m.reduce(function(ce,we){return ce[we.name]=we.align,ce},{});for(p=0;p<f.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:f[p]},this);var W=l.call(this,f[p],B);for(N=0;N<_.length;N+=1){var se=f[p][_[N]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:N,data:se},this),a.call(this,new i(o,d,B[_[N]],W,se,p+2,de[_[N]]))}}return this.internal.__cell__.table_x=o,this.internal.__cell__.table_y=d,this};var l=function(o,d){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(o).map(function(p){var b=o[p];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,d[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/g+f+f},this).reduce(function(p,b){return Math.max(p,b)},0)};e.setTableHeaderRow=function(o){n.call(this),this.internal.__cell__.tableHeaderRow=o},e.printHeaderRow=function(o,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=o;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}}(ut.API);var g_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},v_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],eg=m_(v_),y_=[100,200,300,400,500,600,700,800,900],I6=m_(y_);function tg(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return g_[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(i){return typeof eg[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function Qv(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var O6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Xv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Zv(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function R6(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},O6,r.genericFontFamilies||{}),i=null,a=null,l=0;l<t.length;++l)if(s[(i=tg(t[l])).family]&&(i.family=s[i.family]),e.hasOwnProperty(i.family)){a=e[i.family];break}if(!(a=a||e[n]))throw new Error("Could not find a font-family for the rule '"+Zv(i)+"' and default family '"+n+"'.");if(a=function(o,d){if(d[o])return d[o];var f=eg[o],m=f<=eg.normal?-1:1,g=Qv(d,v_,f,m);if(!g)throw new Error("Could not find a matching font-stretch value for "+o);return g}(i.stretch,a),a=function(o,d){if(d[o])return d[o];for(var f=g_[o],m=0;m<f.length;++m)if(d[f[m]])return d[f[m]];throw new Error("Could not find a matching font-style for "+o)}(i.style,a),!(a=function(o,d){if(d[o])return d[o];if(o===400&&d[500])return d[500];if(o===500&&d[400])return d[400];var f=I6[o],m=Qv(d,y_,f,o<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+o);return m}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Zv(i)+"'.");return a}function e2(e){return e.trimLeft()}function F6(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function D6(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var jd,t2,r2,Pp=["times"];(function(e){var t,r,n,s,i,a,l,o,d,f=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new o,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new a,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new a,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,o=this.internal.Matrix,d=new f}]);var m=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=C;Object.defineProperty(this,"pdf",{get:function(){return z}});var L=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return L},set:function(ye){L=!!ye}});var V=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return V},set:function(ye){V=!!ye}});var Y=0;Object.defineProperty(this,"posX",{get:function(){return Y},set:function(ye){isNaN(ye)||(Y=ye)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(ye){isNaN(ye)||(ie=ye)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ye){var J;typeof ye=="number"?J=[ye,ye,ye,ye]:((J=new Array(4))[0]=ye[0],J[1]=ye.length>=2?ye[1]:J[0],J[2]=ye.length>=3?ye[2]:J[0],J[3]=ye.length>=4?ye[3]:J[1]),d.margin=J}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(ye){he=ye}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(ye){me=ye}});var Pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pe},set:function(ye){Pe=ye}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ye){ye instanceof f&&(d=ye)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ye){d.path=ye}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(ye){ge=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var J;J=g(ye),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var J=g(ye);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var Me=null;function Fe(ye,J){if(Me===null){var ft=function(Qe){var Le=[];return Object.keys(Qe).forEach(function(Oe){Qe[Oe].forEach(function($e){var Ue=null;switch($e){case"bold":Ue={family:Oe,weight:"bold"};break;case"italic":Ue={family:Oe,style:"italic"};break;case"bolditalic":Ue={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":Ue={family:Oe}}Ue!==null&&(Ue.ref={name:Oe,style:$e},Le.push(Ue))})}),Le}(ye.getFontList());Me=function(Qe){for(var Le={},Oe=0;Oe<Qe.length;++Oe){var $e=tg(Qe[Oe]),Ue=$e.family,tt=$e.stretch,pt=$e.style,yt=$e.weight;Le[Ue]=Le[Ue]||{},Le[Ue][tt]=Le[Ue][tt]||{},Le[Ue][tt][pt]=Le[Ue][tt][pt]||{},Le[Ue][tt][pt][yt]=$e}return Le}(ft.concat(J))}return Me}var ot=null;Object.defineProperty(this,"fontFaces",{get:function(){return ot},set:function(ye){Me=null,ot=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var J;if(this.ctx.font=ye,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var ft=J[1],Qe=(J[2],J[3]),Le=J[4],Oe=(J[5],J[6]),$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor($e==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var Ue=function(ze){var st,je,mt=[],Te=ze.trim();if(Te==="")return Pp;if(Te in Xv)return[Xv[Te]];for(;Te!=="";){switch(je=null,st=(Te=e2(Te)).charAt(0)){case'"':case"'":je=F6(Te.substring(1),st);break;default:je=D6(Te)}if(je===null||(mt.push(je[0]),(Te=e2(je[1]))!==""&&Te.charAt(0)!==","))return Pp;Te=Te.replace(/^,/,"")}return mt}(Oe);if(this.fontFaces){var tt=R6(Fe(this.pdf,this.fontFaces),Ue.map(function(ze){return{family:ze,stretch:"normal",weight:Qe,style:ft}}));this.pdf.setFont(tt.ref.name,tt.ref.style)}else{var pt="";(Qe==="bold"||parseInt(Qe,10)>=700||ft==="bold")&&(pt="bold"),ft==="italic"&&(pt+="italic"),pt.length===0&&(pt="normal");for(var yt="",Nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},oe=0;oe<Ue.length;oe++){if(this.pdf.internal.getFont(Ue[oe],pt,{noFallback:!0,disableWarning:!0})!==void 0){yt=Ue[oe];break}if(pt==="bolditalic"&&this.pdf.internal.getFont(Ue[oe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yt=Ue[oe],pt="bold";else if(this.pdf.internal.getFont(Ue[oe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yt=Ue[oe],pt="normal";break}}if(yt===""){for(var Re=0;Re<Ue.length;Re++)if(Nt[Ue[Re]]){yt=Nt[Ue[Re]];break}}yt=yt===""?"Times":yt,this.pdf.setFont(yt,pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,we.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,we.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};m.prototype.setLineDash=function(C){this.lineDash=C},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){D.call(this,"fill",!1)},m.prototype.stroke=function(){D.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(C,z){if(isNaN(C)||isNaN(z))throw Ht.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var L=this.ctx.transform.applyToPoint(new a(C,z));this.path.push({type:"mt",x:L.x,y:L.y}),this.ctx.lastPoint=new a(C,z)},m.prototype.closePath=function(){var C=new a(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Ut(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){C=new a(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(C.x,C.y)},m.prototype.lineTo=function(C,z){if(isNaN(C)||isNaN(z))throw Ht.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var L=this.ctx.transform.applyToPoint(new a(C,z));this.path.push({type:"lt",x:L.x,y:L.y}),this.ctx.lastPoint=new a(L.x,L.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},m.prototype.quadraticCurveTo=function(C,z,L,V){if(isNaN(L)||isNaN(V)||isNaN(C)||isNaN(z))throw Ht.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Y=this.ctx.transform.applyToPoint(new a(L,V)),ie=this.ctx.transform.applyToPoint(new a(C,z));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(Y.x,Y.y)},m.prototype.bezierCurveTo=function(C,z,L,V,Y,ie){if(isNaN(Y)||isNaN(ie)||isNaN(C)||isNaN(z)||isNaN(L)||isNaN(V))throw Ht.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new a(Y,ie)),me=this.ctx.transform.applyToPoint(new a(C,z)),Pe=this.ctx.transform.applyToPoint(new a(L,V));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:Pe.x,y2:Pe.y,x:he.x,y:he.y}),this.ctx.lastPoint=new a(he.x,he.y)},m.prototype.arc=function(C,z,L,V,Y,ie){if(isNaN(C)||isNaN(z)||isNaN(L)||isNaN(V)||isNaN(Y))throw Ht.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new a(C,z));C=he.x,z=he.y;var me=this.ctx.transform.applyToPoint(new a(0,L)),Pe=this.ctx.transform.applyToPoint(new a(0,0));L=Math.sqrt(Math.pow(me.x-Pe.x,2)+Math.pow(me.y-Pe.y,2))}Math.abs(Y-V)>=2*Math.PI&&(V=0,Y=2*Math.PI),this.path.push({type:"arc",x:C,y:z,radius:L,startAngle:V,endAngle:Y,counterclockwise:ie})},m.prototype.arcTo=function(C,z,L,V,Y){throw new Error("arcTo not implemented.")},m.prototype.rect=function(C,z,L,V){if(isNaN(C)||isNaN(z)||isNaN(L)||isNaN(V))throw Ht.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,z),this.lineTo(C+L,z),this.lineTo(C+L,z+V),this.lineTo(C,z+V),this.lineTo(C,z),this.lineTo(C+L,z),this.lineTo(C,z)},m.prototype.fillRect=function(C,z,L,V){if(isNaN(C)||isNaN(z)||isNaN(L)||isNaN(V))throw Ht.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Y={};this.lineCap!=="butt"&&(Y.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Y.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,z,L,V),this.fill(),Y.hasOwnProperty("lineCap")&&(this.lineCap=Y.lineCap),Y.hasOwnProperty("lineJoin")&&(this.lineJoin=Y.lineJoin)}},m.prototype.strokeRect=function(C,z,L,V){if(isNaN(C)||isNaN(z)||isNaN(L)||isNaN(V))throw Ht.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(C,z,L,V),this.stroke())},m.prototype.clearRect=function(C,z,L,V){if(isNaN(C)||isNaN(z)||isNaN(L)||isNaN(V))throw Ht.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,z,L,V))},m.prototype.save=function(C){C=typeof C!="boolean"||C;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,L=0;L<this.pdf.internal.getNumberOfPages();L++)this.pdf.setPage(L+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var V=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=V}},m.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,L=0;L<this.pdf.internal.getNumberOfPages();L++)this.pdf.setPage(L+1),this.pdf.internal.out("Q");this.pdf.setPage(z),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(C){var z,L,V,Y;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))z=0,L=0,V=0,Y=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(ie!==null)z=parseInt(ie[1]),L=parseInt(ie[2]),V=parseInt(ie[3]),Y=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)z=parseInt(ie[1]),L=parseInt(ie[2]),V=parseInt(ie[3]),Y=parseFloat(ie[4]);else{if(Y=1,typeof C=="string"&&C.charAt(0)!=="#"){var he=new c_(C);C=he.ok?he.toHex():"#000000"}C.length===4?(z=C.substring(1,2),z+=z,L=C.substring(2,3),L+=L,V=C.substring(3,4),V+=V):(z=C.substring(1,3),L=C.substring(3,5),V=C.substring(5,7)),z=parseInt(z,16),L=parseInt(L,16),V=parseInt(V,16)}}return{r:z,g:L,b:V,a:Y,style:C}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(C,z,L,V){if(isNaN(z)||isNaN(L)||typeof C!="string")throw Ht.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(V=isNaN(V)?void 0:V,!p.call(this)){var Y=W(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;O.call(this,{text:C,x:z,y:L,scale:ie,angle:Y,align:this.textAlign,maxWidth:V})}},m.prototype.strokeText=function(C,z,L,V){if(isNaN(z)||isNaN(L)||typeof C!="string")throw Ht.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){V=isNaN(V)?void 0:V;var Y=W(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;O.call(this,{text:C,x:z,y:L,scale:ie,renderingMode:"stroke",angle:Y,align:this.textAlign,maxWidth:V})}},m.prototype.measureText=function(C){if(typeof C!="string")throw Ht.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,L=this.pdf.internal.scaleFactor,V=z.internal.getFontSize(),Y=z.getStringUnitWidth(C)*V/z.internal.scaleFactor,ie=function(he){var me=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this};return new ie({width:Y*=Math.round(96*L/72*1e4)/1e4})},m.prototype.scale=function(C,z){if(isNaN(C)||isNaN(z))throw Ht.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var L=new o(C,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(L)},m.prototype.rotate=function(C){if(isNaN(C))throw Ht.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new o(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},m.prototype.translate=function(C,z){if(isNaN(C)||isNaN(z))throw Ht.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var L=new o(1,0,0,1,C,z);this.ctx.transform=this.ctx.transform.multiply(L)},m.prototype.transform=function(C,z,L,V,Y,ie){if(isNaN(C)||isNaN(z)||isNaN(L)||isNaN(V)||isNaN(Y)||isNaN(ie))throw Ht.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new o(C,z,L,V,Y,ie);this.ctx.transform=this.ctx.transform.multiply(he)},m.prototype.setTransform=function(C,z,L,V,Y,ie){C=isNaN(C)?1:C,z=isNaN(z)?0:z,L=isNaN(L)?0:L,V=isNaN(V)?1:V,Y=isNaN(Y)?0:Y,ie=isNaN(ie)?0:ie,this.ctx.transform=new o(C,z,L,V,Y,ie)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(C,z,L,V,Y,ie,he,me,Pe){var ge=this.pdf.getImageProperties(C),Me=1,Fe=1,ot=1,ye=1;V!==void 0&&me!==void 0&&(ot=me/V,ye=Pe/Y,Me=ge.width/V*me/V,Fe=ge.height/Y*Pe/Y),ie===void 0&&(ie=z,he=L,z=0,L=0),V!==void 0&&me===void 0&&(me=V,Pe=Y),V===void 0&&me===void 0&&(me=ge.width,Pe=ge.height);for(var J,ft=this.ctx.transform.decompose(),Qe=W(ft.rotate.shx),Le=new o,Oe=(Le=(Le=(Le=Le.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale)).applyToRectangle(new l(ie-z*ot,he-L*ye,V*Me,Y*Fe)),$e=j.call(this,Oe),Ue=[],tt=0;tt<$e.length;tt+=1)Ue.indexOf($e[tt])===-1&&Ue.push($e[tt]);if(S(Ue),this.autoPaging)for(var pt=Ue[0],yt=Ue[Ue.length-1],Nt=pt;Nt<yt+1;Nt++){this.pdf.setPage(Nt);var oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Re=Nt===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=Nt===1?0:ze+(Nt-2)*st;if(this.ctx.clip_path.length!==0){var mt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(J,this.posX+this.margin[3],-je+Re+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=mt}var Te=JSON.parse(JSON.stringify(Oe));Te=w([Te],this.posX+this.margin[3],-je+Re+this.ctx.prevPageLastElemOffset)[0];var Lt=(Nt>pt||Nt<yt)&&N.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],oe,st,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,Qe),Lt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,Qe)};var j=function(C,z,L){var V=[];z=z||this.pdf.internal.pageSize.width,L=L||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Y=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":V.push(Math.floor((C.y+Y)/L)+1);break;case"arc":V.push(Math.floor((C.y+Y-C.radius)/L)+1),V.push(Math.floor((C.y+Y+C.radius)/L)+1);break;case"qct":var ie=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);V.push(Math.floor((ie.y+Y)/L)+1),V.push(Math.floor((ie.y+ie.h+Y)/L)+1);break;case"bct":var he=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);V.push(Math.floor((he.y+Y)/L)+1),V.push(Math.floor((he.y+he.h+Y)/L)+1);break;case"rect":V.push(Math.floor((C.y+Y)/L)+1),V.push(Math.floor((C.y+C.h+Y)/L)+1)}for(var me=0;me<V.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<V[me];)_.call(this);return V},_=function(){var C=this.fillStyle,z=this.strokeStyle,L=this.font,V=this.lineCap,Y=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=z,this.font=L,this.lineCap=V,this.lineWidth=Y,this.lineJoin=ie},w=function(C,z,L){for(var V=0;V<C.length;V++)switch(C[V].type){case"bct":C[V].x2+=z,C[V].y2+=L;case"qct":C[V].x1+=z,C[V].y1+=L;case"mt":case"lt":case"arc":default:C[V].x+=z,C[V].y+=L}return C},S=function(C){return C.sort(function(z,L){return z-L})},D=function(C,z){for(var L,V,Y=this.fillStyle,ie=this.strokeStyle,he=this.lineCap,me=this.lineWidth,Pe=Math.abs(me*this.ctx.transform.scaleX),ge=this.lineJoin,Me=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),ot=[],ye=0;ye<Fe.length;ye++)if(Fe[ye].x!==void 0)for(var J=j.call(this,Fe[ye]),ft=0;ft<J.length;ft+=1)ot.indexOf(J[ft])===-1&&ot.push(J[ft]);for(var Qe=0;Qe<ot.length;Qe++)for(;this.pdf.internal.getNumberOfPages()<ot[Qe];)_.call(this);if(S(ot),this.autoPaging)for(var Le=ot[0],Oe=ot[ot.length-1],$e=Le;$e<Oe+1;$e++){this.pdf.setPage($e),this.fillStyle=Y,this.strokeStyle=ie,this.lineCap=he,this.lineWidth=Pe,this.lineJoin=ge;var Ue=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=$e===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=$e===1?0:pt+($e-2)*yt;if(this.ctx.clip_path.length!==0){var oe=this.path;L=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(L,this.posX+this.margin[3],-Nt+tt+this.ctx.prevPageLastElemOffset),B.call(this,C,!0),this.path=oe}if(V=JSON.parse(JSON.stringify(Me)),this.path=w(V,this.posX+this.margin[3],-Nt+tt+this.ctx.prevPageLastElemOffset),z===!1||$e===0){var Re=($e>Le||$e<Oe)&&N.call(this);Re&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,yt,null).clip().discardPath()),B.call(this,C,z),Re&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=Pe,B.call(this,C,z),this.lineWidth=me;this.path=Me},B=function(C,z){if((C!=="stroke"||z||!b.call(this))&&(C==="stroke"||z||!p.call(this))){for(var L,V,Y=[],ie=this.path,he=0;he<ie.length;he++){var me=ie[he];switch(me.type){case"begin":Y.push({begin:!0});break;case"close":Y.push({close:!0});break;case"mt":Y.push({start:me,deltas:[],abs:[]});break;case"lt":var Pe=Y.length;if(ie[he-1]&&!isNaN(ie[he-1].x)&&(L=[me.x-ie[he-1].x,me.y-ie[he-1].y],Pe>0)){for(;Pe>=0;Pe--)if(Y[Pe-1].close!==!0&&Y[Pe-1].begin!==!0){Y[Pe-1].deltas.push(L),Y[Pe-1].abs.push(me);break}}break;case"bct":L=[me.x1-ie[he-1].x,me.y1-ie[he-1].y,me.x2-ie[he-1].x,me.y2-ie[he-1].y,me.x-ie[he-1].x,me.y-ie[he-1].y],Y[Y.length-1].deltas.push(L);break;case"qct":var ge=ie[he-1].x+2/3*(me.x1-ie[he-1].x),Me=ie[he-1].y+2/3*(me.y1-ie[he-1].y),Fe=me.x+2/3*(me.x1-me.x),ot=me.y+2/3*(me.y1-me.y),ye=me.x,J=me.y;L=[ge-ie[he-1].x,Me-ie[he-1].y,Fe-ie[he-1].x,ot-ie[he-1].y,ye-ie[he-1].x,J-ie[he-1].y],Y[Y.length-1].deltas.push(L);break;case"arc":Y.push({deltas:[],abs:[],arc:!0}),Array.isArray(Y[Y.length-1].abs)&&Y[Y.length-1].abs.push(me)}}V=z?null:C==="stroke"?"stroke":"fill";for(var ft=!1,Qe=0;Qe<Y.length;Qe++)if(Y[Qe].arc)for(var Le=Y[Qe].abs,Oe=0;Oe<Le.length;Oe++){var $e=Le[Oe];$e.type==="arc"?I.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,z,!ft):Q.call(this,$e.x,$e.y),ft=!0}else if(Y[Qe].close===!0)this.pdf.internal.out("h"),ft=!1;else if(Y[Qe].begin!==!0){var Ue=Y[Qe].start.x,tt=Y[Qe].start.y;K.call(this,Y[Qe].deltas,Ue,tt),ft=!0}V&&U.call(this,V),z&&q.call(this)}},ee=function(C){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,L=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-L;case"top":return C+z-L;case"hanging":return C+z-2*L;case"middle":return C+z/2-L;case"ideographic":return C;case"alphabetic":default:return C}},R=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(z,L){this.colorStops.push([z,L])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(C,z,L,V,Y,ie,he,me,Pe){for(var ge=re.call(this,L,V,Y,ie),Me=0;Me<ge.length;Me++){var Fe=ge[Me];Me===0&&(Pe?E.call(this,Fe.x1+C,Fe.y1+z):Q.call(this,Fe.x1+C,Fe.y1+z)),G.call(this,C,z,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}me?q.call(this):U.call(this,he)},U=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(C,z){this.pdf.internal.out(r(C)+" "+n(z)+" m")},O=function(C){var z;switch(C.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var L=this.pdf.getTextDimensions(C.text),V=ee.call(this,C.y),Y=R.call(this,V)-L.h,ie=this.ctx.transform.applyToPoint(new a(C.x,V)),he=this.ctx.transform.decompose(),me=new o;me=(me=(me=me.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Pe,ge,Me,Fe=this.ctx.transform.applyToRectangle(new l(C.x,V,L.w,L.h)),ot=me.applyToRectangle(new l(C.x,Y,L.w,L.h)),ye=j.call(this,ot),J=[],ft=0;ft<ye.length;ft+=1)J.indexOf(ye[ft])===-1&&J.push(ye[ft]);if(S(J),this.autoPaging)for(var Qe=J[0],Le=J[J.length-1],Oe=Qe;Oe<Le+1;Oe++){this.pdf.setPage(Oe);var $e=Oe===1?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[2],pt=tt-this.margin[0],yt=this.pdf.internal.pageSize.width-this.margin[1],Nt=yt-this.margin[3],oe=Oe===1?0:Ue+(Oe-2)*pt;if(this.ctx.clip_path.length!==0){var Re=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Pe,this.posX+this.margin[3],-1*oe+$e),B.call(this,"fill",!0),this.path=Re}var ze=w([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-oe+$e+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*C.scale),Me=this.lineWidth,this.lineWidth=Me*C.scale);var st=this.autoPaging!=="text";if(st||ze.y+ze.h<=tt){if(st||ze.y>=$e&&ze.x<=yt){var je=st?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||yt-ze.x)[0],mt=w([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-oe+$e+this.ctx.prevPageLastElemOffset)[0],Te=st&&(Oe>Qe||Oe<Le)&&N.call(this);Te&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,pt,null).clip().discardPath()),this.pdf.text(je,mt.x,mt.y,{angle:C.angle,align:z,renderingMode:C.renderingMode}),Te&&this.pdf.restoreGraphicsState()}}else ze.y<tt&&(this.ctx.prevPageLastElemOffset+=tt-ze.y);C.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=Me)}else C.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*C.scale),Me=this.lineWidth,this.lineWidth=Me*C.scale),this.pdf.text(C.text,ie.x+this.posX,ie.y+this.posY,{angle:C.angle,align:z,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=Me)},Q=function(C,z,L,V){L=L||0,V=V||0,this.pdf.internal.out(r(C+L)+" "+n(z+V)+" l")},K=function(C,z,L){return this.pdf.lines(C,z,L,null,null)},G=function(C,z,L,V,Y,ie,he,me){this.pdf.internal.out([t(s(L+C)),t(i(V+z)),t(s(Y+C)),t(i(ie+z)),t(s(he+C)),t(i(me+z)),"c"].join(" "))},re=function(C,z,L,V){for(var Y=2*Math.PI,ie=Math.PI/2;z>L;)z-=Y;var he=Math.abs(L-z);he<Y&&V&&(he=Y-he);for(var me=[],Pe=V?-1:1,ge=z;he>1e-5;){var Me=ge+Pe*Math.min(he,ie);me.push(de.call(this,C,ge,Me)),he-=Math.abs(Me-ge),ge=Me}return me},de=function(C,z,L){var V=(L-z)/2,Y=C*Math.cos(V),ie=C*Math.sin(V),he=Y,me=-ie,Pe=he*he+me*me,ge=Pe+he*Y+me*ie,Me=4/3*(Math.sqrt(2*Pe*ge)-ge)/(he*ie-me*Y),Fe=he-Me*me,ot=me+Me*he,ye=Fe,J=-ot,ft=V+z,Qe=Math.cos(ft),Le=Math.sin(ft);return{x1:C*Math.cos(z),y1:C*Math.sin(z),x2:Fe*Qe-ot*Le,y2:Fe*Le+ot*Qe,x3:ye*Qe-J*Le,y3:ye*Le+J*Qe,x4:C*Math.cos(L),y4:C*Math.sin(L)}},W=function(C){return 180*C/Math.PI},se=function(C,z,L,V,Y,ie){var he=C+.5*(L-C),me=z+.5*(V-z),Pe=Y+.5*(L-Y),ge=ie+.5*(V-ie),Me=Math.min(C,Y,he,Pe),Fe=Math.max(C,Y,he,Pe),ot=Math.min(z,ie,me,ge),ye=Math.max(z,ie,me,ge);return new l(Me,ot,Fe-Me,ye-ot)},ce=function(C,z,L,V,Y,ie,he,me){var Pe,ge,Me,Fe,ot,ye,J,ft,Qe,Le,Oe,$e,Ue,tt,pt=L-C,yt=V-z,Nt=Y-L,oe=ie-V,Re=he-Y,ze=me-ie;for(ge=0;ge<41;ge++)Qe=(J=(Me=C+(Pe=ge/40)*pt)+Pe*((ot=L+Pe*Nt)-Me))+Pe*(ot+Pe*(Y+Pe*Re-ot)-J),Le=(ft=(Fe=z+Pe*yt)+Pe*((ye=V+Pe*oe)-Fe))+Pe*(ye+Pe*(ie+Pe*ze-ye)-ft),ge==0?(Oe=Qe,$e=Le,Ue=Qe,tt=Le):(Oe=Math.min(Oe,Qe),$e=Math.min($e,Le),Ue=Math.max(Ue,Qe),tt=Math.max(tt,Le));return new l(Math.round(Oe),Math.round($e),Math.round(Ue-Oe),Math.round(tt-$e))},we=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,z,L=(C=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:z}));this.prevLineDash!==L&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=L)}}})(ut.API),function(e){var t=function(i){var a,l,o,d,f,m,g,p,b,N;for(l=[],o=0,d=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;d>o;o+=4)(f=(i.charCodeAt(o)<<24)+(i.charCodeAt(o+1)<<16)+(i.charCodeAt(o+2)<<8)+i.charCodeAt(o+3))!==0?(m=(f=((f=((f=((f=(f-(N=f%85))/85)-(b=f%85))/85)-(p=f%85))/85)-(g=f%85))/85)%85,l.push(m+33,g+33,p+33,b+33,N+33)):l.push(122);return function(j,_){for(var w=_;w>0;w--)j.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var a,l,o,d,f,m=String,g="length",p=255,b="charCodeAt",N="slice",j="replace";for(i[N](-2),i=i[N](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),o=[],d=0,f=(i+=a="uuuuu"[N](i[g]%5||5))[g];f>d;d+=5)l=52200625*(i[b](d)-33)+614125*(i[b](d+1)-33)+7225*(i[b](d+2)-33)+85*(i[b](d+3)-33)+(i[b](d+4)-33),o.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(_,w){for(var S=w;S>0;S--)_.pop()}(o,a[g]),m.fromCharCode.apply(m,o)},n=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var l="",o=0;o<i.length;o+=2)l+=String.fromCharCode("0x"+(i[o]+i[o+1]));return l},s=function(i){for(var a=new Uint8Array(i.length),l=i.length;l--;)a[l]=i.charCodeAt(l);return i=(a=Km(a)).reduce(function(o,d){return o+String.fromCharCode(d)},"")};e.processDataByFilters=function(i,a){var l=0,o=i||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":o=r(o),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=t(o),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=n(o),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=o.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=s(o),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:o,reverseChain:d.reverse().join(" ")}}}(ut.API),function(e){e.loadFile=function(t,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(o,d,f){var m=new XMLHttpRequest,g=0,p=function(b){var N=b.length,j=[],_=String.fromCharCode;for(g=0;g<N;g+=1)j.push(_(255&b.charCodeAt(g)));return j.join("")};if(m.open("GET",o,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?f(p(this.responseText)):f(void 0)}),m.send(null),d&&m.status===200)return p(m.responseText)}(s,i,a)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(ut.API),function(e){function t(){return(dt.html2canvas?Promise.resolve(dt.html2canvas):Vm(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(dt.DOMPurify?Promise.resolve(dt.DOMPurify):Vm(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var l=Ut(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(a,l){var o=document.createElement(a);for(var d in l.className&&(o.className=l.className),l.innerHTML&&l.dompurify&&(o.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)o.style[d]=l.style[d];return o},i=function a(l){var o=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),o);return d=(d=d.setProgress(1,a,1,[a])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,l){return a.__proto__=l||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(o){switch(n(o)){case"string":return"string";case"element":return o.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(o){return this.set({src:s("div",{innerHTML:a,dompurify:o})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function o(d,f){for(var m=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||m.appendChild(o(g,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(m.width=d.width,m.height=d.height,m.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(m.value=d.value),m.addEventListener("load",function(){m.scrollTop=d.scrollTop,m.scrollLeft=d.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var o=Object.assign({},this.opt.html2canvas);return delete o.onrendered,l(this.prop.container,o)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var o=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,o.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,o.context2d.posX=this.opt.x,o.context2d.posY=this.opt.y,o.context2d.margin=this.opt.margin,o.context2d.fontFaces=d,d)for(var g=0;g<d.length;++g){var p=d[g],b=p.src.find(function(N){return N.format==="truetype"});b&&o.addFont(b.url,p.ref.name,p.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,o.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,l,o){return(o=o||"pdf").toLowerCase()==="img"||o.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},i.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(n(a)!=="object")return this;var l=Object.keys(a||{}).map(function(o){if(o in i.template.prop)return function(){this.prop[o]=a[o]};switch(o){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[o]=a[o]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(a,l){return this.then(function(){var o=a in i.template.prop?this.prop[a]:this.opt[a];return l?l(o):o})},i.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function l(o,d){return Math.floor(o*d/72*96)}return this.then(function(){(a=a||ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,l,o,d){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),o!=null&&(this.progress.n=o),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,l,o,d){return this.setProgress(a?this.progress.val+a:null,l||null,o?this.progress.n+o:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(a,l){var o=this;return this.thenCore(a,l,function(d,f){return o.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return o.updateProgress(null,d),m}).then(d,f).then(function(m){return o.updateProgress(1),m})})},i.prototype.thenCore=function(a,l,o){o=o||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),f=o.call(d,a,l);return i.convert(f,this.__proto__)},i.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},i.prototype.thenList=function(a){var l=this;return a.forEach(function(o){l=l.thenCore(o)}),l},i.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return i.convert(l,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,ut.getPageSize=function(a,l,o){if(Ut(a)==="object"){var d=a;a=d.orientation,l=d.unit||l,o=d.format||o}l=l||"mm",o=o||"a4",a=(""+(a||"P")).toLowerCase();var f,m=(""+o).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var p,b=0,N=0;if(g.hasOwnProperty(m))b=g[m][1]/f,N=g[m][0]/f;else try{b=o[1],N=o[0]}catch{throw new Error("Invalid format: "+o)}if(a==="p"||a==="portrait")a="p",N>b&&(p=N,N=b,b=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",b>N&&(p=N,N=b,b=p)}return{width:N,height:b,unit:l,k:f,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(tg):null;var o=new i(l);return l.worker?o:o.from(a).doCallback()}}(ut.API),ut.API.addJS=function(e){return r2=e,this.internal.events.subscribe("postPutResources",function(){jd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jd!==void 0&&t2!==void 0&&this.internal.out("/Names <</JavaScript "+jd+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],l=n.exec(a);if(l!=null){var o=l[1];r.internal.newObjectDeferredBegin(o,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(i=0;i<d;i++){var m=r.internal.newObject();f.push(m);var g=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<f.length;i++)r.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var o=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(ut.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,a,l){var o,d=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(o=function(m){for(var g,p=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,N={width:0,height:0,numcomponents:1},j=4;j<b;j+=2){if(j+=p,t.indexOf(m.charCodeAt(j+1))!==-1){g=256*m.charCodeAt(j+5)+m.charCodeAt(j+6),N={width:256*m.charCodeAt(j+7)+m.charCodeAt(j+8),height:g,numcomponents:m.charCodeAt(j+9)};break}p=256*m.charCodeAt(j+2)+m.charCodeAt(j+3)}return N}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:o.width,height:o.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:s}}return f}}(ut.API);var Co,kd,n2,s2,i2,M6=function(){var e,t,r;function n(i){var a,l,o,d,f,m,g,p,b,N,j,_,w,S;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(a=this.readUInt32(),b=(function(){var D,B;for(B=[],D=0;D<4;++D)B.push(String.fromCharCode(this.data[this.pos++]));return B}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,m.delay=1e3*f/d,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,a-=4),i=(m!=null?m.data:void 0)||this.imgData,_=0;0<=a?_<a:_>a;0<=a?++_:--_)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(o=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>o)throw new Error("More transparent colors than palette size");if((N=o-this.transparency.indexed.length)>0)for(w=0;0<=N?w<N:w>N;0<=N?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":g=(j=this.read(a)).indexOf(0),p=String.fromCharCode.apply(String,j.slice(0,g)),this.text[p]=String.fromCharCode.apply(String,j.slice(g+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var a,l;for(l=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),o=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function f(m,g,p,b){var N,j,_,w,S,D,B,ee,R,I,U,q,E,O,Q,K,G,re,de,W,se,ce=Math.ceil((d.width-m)/p),we=Math.ceil((d.height-g)/b),C=d.width==ce&&d.height==we;for(O=a*ce,q=C?l:new Uint8Array(O*we),D=i.length,E=0,j=0;E<we&&o<D;){switch(i[o++]){case 0:for(w=G=0;G<O;w=G+=1)q[j++]=i[o++];break;case 1:for(w=re=0;re<O;w=re+=1)N=i[o++],S=w<a?0:q[j-a],q[j++]=(N+S)%256;break;case 2:for(w=de=0;de<O;w=de+=1)N=i[o++],_=(w-w%a)/a,Q=E&&q[(E-1)*O+_*a+w%a],q[j++]=(Q+N)%256;break;case 3:for(w=W=0;W<O;w=W+=1)N=i[o++],_=(w-w%a)/a,S=w<a?0:q[j-a],Q=E&&q[(E-1)*O+_*a+w%a],q[j++]=(N+Math.floor((S+Q)/2))%256;break;case 4:for(w=se=0;se<O;w=se+=1)N=i[o++],_=(w-w%a)/a,S=w<a?0:q[j-a],E===0?Q=K=0:(Q=q[(E-1)*O+_*a+w%a],K=_&&q[(E-1)*O+(_-1)*a+w%a]),B=S+Q-K,ee=Math.abs(B-S),I=Math.abs(B-Q),U=Math.abs(B-K),R=ee<=I&&ee<=U?S:I<=U?Q:K,q[j++]=(N+R)%256;break;default:throw new Error("Invalid filter algorithm: "+i[o-1])}if(!C){var z=((g+E*b)*d.width+m)*a,L=E*O;for(w=0;w<ce;w+=1){for(var V=0;V<a;V+=1)l[z++]=q[L++];z+=(p-1)*a}}E++}}return i=g6(i),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),l},n.prototype.decodePalette=function(){var i,a,l,o,d,f,m,g,p;for(l=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+l.length),o=0,i=0,a=m=0,g=l.length;m<g;a=m+=3)d[o++]=l[a],d[o++]=l[a+1],d[o++]=l[a+2],d[o++]=(p=f[i++])!=null?p:255;return d},n.prototype.copyToImageData=function(i,a){var l,o,d,f,m,g,p,b,N,j,_;if(o=this.colors,N=null,l=this.hasAlphaChannel,this.palette.length&&(N=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),o=4,l=!0),b=(d=i.data||i).length,m=N||a,f=g=0,o===1)for(;f<b;)p=N?4*a[f/4]:g,j=m[p++],d[f++]=j,d[f++]=j,d[f++]=j,d[f++]=l?m[p++]:255,g=p;else for(;f<b;)p=N?4*a[f/4]:g,d[f++]=m[p++],d[f++]=m[p++],d[f++]=m[p++],d[f++]=l?m[p++]:255,g=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(dt)==="[object Window]"){try{t=dt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(i){var a;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var a,l,o,d,f,m,g,p;if(this.animation){for(p=[],l=f=0,m=(g=this.animation.frames).length;f<m;l=++f)a=g[l],o=i.createImageData(a.width,a.height),d=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(o,d),a.imageData=o,p.push(a.image=e(o));return p}},n.prototype.renderFrame=function(i,a){var l,o,d;return l=(o=this.animation.frames)[a],d=o[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var a,l,o,d,f,m,g=this;return l=0,m=this.animation,d=m.numFrames,o=m.frames,f=m.numPlays,(a=function(){var p,b;if(p=l++%d,b=o[p],g.renderFrame(i,p),d>1&&l/d<f)return g.animation._timeout=setTimeout(a,b.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var a,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function B6(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,a=1<<(7&s)+1;e[t++],e[t++];var l=null,o=null;i&&(l=t,o=a,t+=3*a);var d=!0,f=[],m=0,g=null,p=0,b=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var N=e[t++];m=e[t++]|e[t++]<<8,g=e[t++],!(1&N)&&(g=null),p=N>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var j=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,D=e[t++],B=D>>6&1,ee=1<<(7&D)+1,R=l,I=o,U=!1;D>>7&&(U=!0,R=t,I=ee,t+=3*ee);var q=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}f.push({x:j,y:_,width:w,height:S,has_local_palette:U,palette_offset:R,palette_size:I,data_offset:q,data_length:t-q,transparent_index:g,interlaced:!!B,delay:m,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return b},this.frameInfo=function(O){if(O<0||O>=f.length)throw new Error("Frame index out of range.");return f[O]},this.decodeAndBlitFrameBGRA=function(O,Q){var K=this.frameInfo(O),G=K.width*K.height,re=new Uint8Array(G);a2(e,K.data_offset,re,G);var de=K.palette_offset,W=K.transparent_index;W===null&&(W=256);var se=K.width,ce=r-se,we=se,C=4*(K.y*r+K.x),z=4*((K.y+K.height)*r+K.x),L=C,V=4*ce;K.interlaced===!0&&(V+=4*r*7);for(var Y=8,ie=0,he=re.length;ie<he;++ie){var me=re[ie];if(we===0&&(we=se,(L+=V)>=z&&(V=4*ce+4*r*(Y-1),L=C+(se+ce)*(Y<<1),Y>>=1)),me===W)L+=4;else{var Pe=e[de+3*me],ge=e[de+3*me+1],Me=e[de+3*me+2];Q[L++]=Me,Q[L++]=ge,Q[L++]=Pe,Q[L++]=255}--we}},this.decodeAndBlitFrameRGBA=function(O,Q){var K=this.frameInfo(O),G=K.width*K.height,re=new Uint8Array(G);a2(e,K.data_offset,re,G);var de=K.palette_offset,W=K.transparent_index;W===null&&(W=256);var se=K.width,ce=r-se,we=se,C=4*(K.y*r+K.x),z=4*((K.y+K.height)*r+K.x),L=C,V=4*ce;K.interlaced===!0&&(V+=4*r*7);for(var Y=8,ie=0,he=re.length;ie<he;++ie){var me=re[ie];if(we===0&&(we=se,(L+=V)>=z&&(V=4*ce+4*r*(Y-1),L=C+(se+ce)*(Y<<1),Y>>=1)),me===W)L+=4;else{var Pe=e[de+3*me],ge=e[de+3*me+1],Me=e[de+3*me+2];Q[L++]=Pe,Q[L++]=ge,Q[L++]=Me,Q[L++]=255}--we}}}function a2(e,t,r,n){for(var s=e[t++],i=1<<s,a=i+1,l=a+1,o=s+1,d=(1<<o)-1,f=0,m=0,g=0,p=e[t++],b=new Int32Array(4096),N=null;;){for(;f<16&&p!==0;)m|=e[t++]<<f,f+=8,p===1?p=e[t++]:--p;if(f<o)break;var j=m&d;if(m>>=o,f-=o,j!==i){if(j===a)break;for(var _=j<l?j:N,w=0,S=_;S>i;)S=b[S]>>8,++w;var D=S;if(g+w+(_!==j?1:0)>n)return void Ht.log("Warning, gif stream longer than expected.");r[g++]=D;var B=g+=w;for(_!==j&&(r[g++]=D),S=_;w--;)S=b[S],r[--B]=255&S,S>>=8;N!==null&&l<4096&&(b[l++]=N<<8|D,l>=d+1&&o<12&&(++o,d=d<<1|1)),N=j}else l=a+1,d=(1<<(o=s+1))-1,N=null}return g!==n&&Ht.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Lp(e){var t,r,n,s,i,a=Math.floor,l=new Array(64),o=new Array(64),d=new Array(64),f=new Array(64),m=new Array(65535),g=new Array(65535),p=new Array(64),b=new Array(64),N=[],j=0,_=7,w=new Array(64),S=new Array(64),D=new Array(64),B=new Array(256),ee=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(C,z){for(var L=0,V=0,Y=new Array,ie=1;ie<=16;ie++){for(var he=1;he<=C[ie];he++)Y[z[V]]=[],Y[z[V]][0]=L,Y[z[V]][1]=ie,V++,L++;L*=2}return Y}function de(C){for(var z=C[0],L=C[1]-1;L>=0;)z&1<<L&&(j|=1<<_),L--,--_<0&&(j==255?(W(255),W(0)):W(j),_=7,j=0)}function W(C){N.push(C)}function se(C){W(C>>8&255),W(255&C)}function ce(C,z,L,V,Y){for(var ie,he=Y[0],me=Y[240],Pe=function(Le,Oe){var $e,Ue,tt,pt,yt,Nt,oe,Re,ze,st,je=0;for(ze=0;ze<8;++ze){$e=Le[je],Ue=Le[je+1],tt=Le[je+2],pt=Le[je+3],yt=Le[je+4],Nt=Le[je+5],oe=Le[je+6];var mt=$e+(Re=Le[je+7]),Te=$e-Re,Lt=Ue+oe,At=Ue-oe,jt=tt+Nt,Kr=tt-Nt,It=pt+yt,Vn=pt-yt,tr=mt+It,Cn=mt-It,ls=Lt+jt,Qt=Lt-jt;Le[je]=tr+ls,Le[je+4]=tr-ls;var gt=.707106781*(Qt+Cn);Le[je+2]=Cn+gt,Le[je+6]=Cn-gt;var Ft=.382683433*((tr=Vn+Kr)-(Qt=At+Te)),Ks=.5411961*tr+Ft,Ar=1.306562965*Qt+Ft,Hn=.707106781*(ls=Kr+At),Wn=Te+Hn,ct=Te-Hn;Le[je+5]=ct+Ks,Le[je+3]=ct-Ks,Le[je+1]=Wn+Ar,Le[je+7]=Wn-Ar,je+=8}for(je=0,ze=0;ze<8;++ze){$e=Le[je],Ue=Le[je+8],tt=Le[je+16],pt=Le[je+24],yt=Le[je+32],Nt=Le[je+40],oe=Le[je+48];var _e=$e+(Re=Le[je+56]),De=$e-Re,He=Ue+oe,Ae=Ue-oe,Ke=tt+Nt,kt=tt-Nt,Be=pt+yt,rt=pt-yt,Ct=_e+Be,$t=_e-Be,Cr=He+Ke,Or=He-Ke;Le[je]=Ct+Cr,Le[je+32]=Ct-Cr;var lr=.707106781*(Or+$t);Le[je+16]=$t+lr,Le[je+48]=$t-lr;var Er=.382683433*((Ct=rt+kt)-(Or=Ae+De)),Gn=.5411961*Ct+Er,Is=1.306562965*Or+Er,qr=.707106781*(Cr=kt+Ae),cs=De+qr,us=De-qr;Le[je+40]=us+Gn,Le[je+24]=us-Gn,Le[je+8]=cs+Is,Le[je+56]=cs-Is,je++}for(ze=0;ze<64;++ze)st=Le[ze]*Oe[ze],p[ze]=st>0?st+.5|0:st-.5|0;return p}(C,z),ge=0;ge<64;++ge)b[R[ge]]=Pe[ge];var Me=b[0]-L;L=b[0],Me==0?de(V[0]):(de(V[g[ie=32767+Me]]),de(m[ie]));for(var Fe=63;Fe>0&&b[Fe]==0;)Fe--;if(Fe==0)return de(he),L;for(var ot,ye=1;ye<=Fe;){for(var J=ye;b[ye]==0&&ye<=Fe;)++ye;var ft=ye-J;if(ft>=16){ot=ft>>4;for(var Qe=1;Qe<=ot;++Qe)de(me);ft&=15}ie=32767+b[ye],de(Y[(ft<<4)+g[ie]]),de(m[ie]),ye++}return Fe!=63&&de(he),L}function we(C){C=Math.min(Math.max(C,1),100),i!=C&&(function(z){for(var L=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var Y=a((L[V]*z+50)/100);Y=Math.min(Math.max(Y,1),255),l[R[V]]=Y}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var me=a((ie[he]*z+50)/100);me=Math.min(Math.max(me,1),255),o[R[he]]=me}for(var Pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,Me=0;Me<8;Me++)for(var Fe=0;Fe<8;Fe++)d[ge]=1/(l[R[ge]]*Pe[Me]*Pe[Fe]*8),f[ge]=1/(o[R[ge]]*Pe[Me]*Pe[Fe]*8),ge++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),i=C)}this.encode=function(C,z){z&&we(z),N=new Array,j=0,_=7,se(65496),se(65504),se(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),se(1),se(1),W(0),W(0),function(){se(65499),se(132),W(0);for(var Ue=0;Ue<64;Ue++)W(l[Ue]);W(1);for(var tt=0;tt<64;tt++)W(o[tt])}(),function(Ue,tt){se(65472),se(17),W(8),se(tt),se(Ue),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(C.width,C.height),function(){se(65476),se(418),W(0);for(var Ue=0;Ue<16;Ue++)W(I[Ue+1]);for(var tt=0;tt<=11;tt++)W(U[tt]);W(16);for(var pt=0;pt<16;pt++)W(q[pt+1]);for(var yt=0;yt<=161;yt++)W(E[yt]);W(1);for(var Nt=0;Nt<16;Nt++)W(O[Nt+1]);for(var oe=0;oe<=11;oe++)W(Q[oe]);W(17);for(var Re=0;Re<16;Re++)W(K[Re+1]);for(var ze=0;ze<=161;ze++)W(G[ze])}(),se(65498),se(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var L=0,V=0,Y=0;j=0,_=7,this.encode.displayName="_encode_";for(var ie,he,me,Pe,ge,Me,Fe,ot,ye,J=C.data,ft=C.width,Qe=C.height,Le=4*ft,Oe=0;Oe<Qe;){for(ie=0;ie<Le;){for(ge=Le*Oe+ie,Fe=-1,ot=0,ye=0;ye<64;ye++)Me=ge+(ot=ye>>3)*Le+(Fe=4*(7&ye)),Oe+ot>=Qe&&(Me-=Le*(Oe+1+ot-Qe)),ie+Fe>=Le&&(Me-=ie+Fe-Le+4),he=J[Me++],me=J[Me++],Pe=J[Me++],w[ye]=(ee[he]+ee[me+256>>0]+ee[Pe+512>>0]>>16)-128,S[ye]=(ee[he+768>>0]+ee[me+1024>>0]+ee[Pe+1280>>0]>>16)-128,D[ye]=(ee[he+1280>>0]+ee[me+1536>>0]+ee[Pe+1792>>0]>>16)-128;L=ce(w,d,L,t,n),V=ce(S,f,V,r,s),Y=ce(D,f,Y,r,s),ie+=32}Oe+=8}if(_>=0){var $e=[];$e[1]=_+1,$e[0]=(1<<_+1)-1,de($e)}return se(65497),new Uint8Array(N)},e=e||50,function(){for(var C=String.fromCharCode,z=0;z<256;z++)B[z]=C(z)}(),t=re(I,U),r=re(O,Q),n=re(q,E),s=re(K,G),function(){for(var C=1,z=2,L=1;L<=15;L++){for(var V=C;V<z;V++)g[32767+V]=L,m[32767+V]=[],m[32767+V][1]=L,m[32767+V][0]=V;for(var Y=-(z-1);Y<=-C;Y++)g[32767+Y]=L,m[32767+Y]=[],m[32767+Y][1]=L,m[32767+Y][0]=z-1+Y;C<<=1,z<<=1}}(),function(){for(var C=0;C<256;C++)ee[C]=19595*C,ee[C+256>>0]=38470*C,ee[C+512>>0]=7471*C+32768,ee[C+768>>0]=-11059*C,ee[C+1024>>0]=-21709*C,ee[C+1280>>0]=32768*C+8421375,ee[C+1536>>0]=-27439*C,ee[C+1792>>0]=-5329*C}(),we(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ys(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function o2(e){function t(I){if(!I)throw Error("assert :P")}function r(I,U,q){for(var E=0;4>E;E++)if(I[U+E]!=q.charCodeAt(E))return!0;return!1}function n(I,U,q,E,O){for(var Q=0;Q<O;Q++)I[U+Q]=q[E+Q]}function s(I,U,q,E){for(var O=0;O<E;O++)I[U+O]=q}function i(I){return new Int32Array(I)}function a(I,U){for(var q=[],E=0;E<I;E++)q.push(new U);return q}function l(I,U){var q=[];return function E(O,Q,K){for(var G=K[Q],re=0;re<G&&(O.push(K.length>Q+1?[]:new U),!(K.length<Q+1));re++)E(O[re],Q+1,K)}(q,0,I),q}var o=function(){var I=this;function U(u,h){for(var y=1<<h-1>>>0;u&y;)y>>>=1;return y?(u&y-1)+y:u}function q(u,h,y,x,k){t(!(x%y));do u[h+(x-=y)]=k;while(0<x)}function E(u,h,y,x,k){if(t(2328>=k),512>=k)var P=i(512);else if((P=i(k))==null)return 0;return function(T,F,M,$,te,fe){var pe,le,ke=F,ve=1<<M,ne=i(16),ae=i(16);for(t(te!=0),t($!=null),t(T!=null),t(0<M),le=0;le<te;++le){if(15<$[le])return 0;++ne[$[le]]}if(ne[0]==te)return 0;for(ae[1]=0,pe=1;15>pe;++pe){if(ne[pe]>1<<pe)return 0;ae[pe+1]=ae[pe]+ne[pe]}for(le=0;le<te;++le)pe=$[le],0<$[le]&&(fe[ae[pe]++]=le);if(ae[15]==1)return($=new O).g=0,$.value=fe[0],q(T,ke,1,ve,$),ve;var Ne,Ce=-1,Se=ve-1,Ge=0,qe=1,lt=1,Ve=1<<M;for(le=0,pe=1,te=2;pe<=M;++pe,te<<=1){if(qe+=lt<<=1,0>(lt-=ne[pe]))return 0;for(;0<ne[pe];--ne[pe])($=new O).g=pe,$.value=fe[le++],q(T,ke+Ge,te,Ve,$),Ge=U(Ge,pe)}for(pe=M+1,te=2;15>=pe;++pe,te<<=1){if(qe+=lt<<=1,0>(lt-=ne[pe]))return 0;for(;0<ne[pe];--ne[pe]){if($=new O,(Ge&Se)!=Ce){for(ke+=Ve,Ne=1<<(Ce=pe)-M;15>Ce&&!(0>=(Ne-=ne[Ce]));)++Ce,Ne<<=1;ve+=Ve=1<<(Ne=Ce-M),T[F+(Ce=Ge&Se)].g=Ne+M,T[F+Ce].value=ke-F-Ce}$.g=pe-M,$.value=fe[le++],q(T,ke+(Ge>>M),te,Ve,$),Ge=U(Ge,pe)}}return qe!=2*ae[15]-1?0:ve}(u,h,y,x,k,P)}function O(){this.value=this.g=0}function Q(){this.value=this.g=0}function K(){this.G=a(5,O),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a($r,Q)}function G(u,h,y,x){t(u!=null),t(h!=null),t(2147483648>x),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=y,u.Jd=h,u.Yc=y+x,u.Zc=4<=x?y+x-4+1:y,ie(u)}function re(u,h){for(var y=0;0<h--;)y|=me(u,128)<<h;return y}function de(u,h){var y=re(u,h);return he(u)?-y:y}function W(u,h,y,x){var k,P=0;for(t(u!=null),t(h!=null),t(4294967288>x),u.Sb=x,u.Ra=0,u.u=0,u.h=0,4<x&&(x=4),k=0;k<x;++k)P+=h[y+k]<<8*k;u.Ra=P,u.bb=x,u.oa=h,u.pa=y}function se(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<uo-8>>>0,++u.bb,u.u-=8;L(u)&&(u.h=1,u.u=0)}function ce(u,h){if(t(0<=h),!u.h&&h<=co){var y=z(u)&lo[h];return u.u+=h,se(u),y}return u.h=1,u.u=0}function we(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(u){return u.Ra>>>(u.u&uo-1)>>>0}function L(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>uo}function V(u,h){u.u=h,u.h=L(u)}function Y(u){u.u>=Ul&&(t(u.u>=Ul),se(u))}function ie(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function he(u){return re(u,1)}function me(u,h){var y=u.Ca;0>u.b&&ie(u);var x=u.b,k=y*h>>>8,P=(u.I>>>x>k)+0;for(P?(y-=k,u.I-=k+1<<x>>>0):y=k+1,x=y,k=0;256<=x;)k+=8,x>>=8;return x=7^k+yn[x],u.b-=x,u.Ca=(y<<x)-1,P}function Pe(u,h,y){u[h+0]=y>>24&255,u[h+1]=y>>16&255,u[h+2]=y>>8&255,u[h+3]=y>>0&255}function ge(u,h){return u[h+0]<<0|u[h+1]<<8}function Me(u,h){return ge(u,h)|u[h+2]<<16}function Fe(u,h){return ge(u,h)|ge(u,h+2)<<16}function ot(u,h){var y=1<<h;return t(u!=null),t(0<h),u.X=i(y),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function ye(u,h){t(u!=null),t(h!=null),t(u.Xa==h.Xa),n(h.X,0,u.X,0,1<<h.Xa)}function J(){this.X=[],this.Xa=this.Mb=0}function ft(u,h,y,x){t(y!=null),t(x!=null);var k=y[0],P=x[0];return k==0&&(k=(u*P+h/2)/h),P==0&&(P=(h*k+u/2)/u),0>=k||0>=P?0:(y[0]=k,x[0]=P,1)}function Qe(u,h){return u+(1<<h)-1>>>h}function Le(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function Oe(u,h){I[h]=function(y,x,k,P,T,F,M){var $;for($=0;$<T;++$){var te=I[u](F[M+$-1],k,P+$);F[M+$]=Le(y[x+$],te)}}}function $e(){this.ud=this.hd=this.jd=0}function Ue(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function tt(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function pt(u,h){return tt(u+(u-h+.5>>1))}function yt(u,h,y){return Math.abs(h-y)-Math.abs(u-y)}function Nt(u,h,y,x,k,P,T){for(x=P[T-1],y=0;y<k;++y)P[T+y]=x=Le(u[h+y],x)}function oe(u,h,y,x,k){var P;for(P=0;P<y;++P){var T=u[h+P],F=T>>8&255,M=16711935&(M=(M=16711935&T)+((F<<16)+F));x[k+P]=(4278255360&T)+M>>>0}}function Re(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function ze(u,h,y,x,k,P){var T;for(T=0;T<x;++T){var F=h[y+T],M=F>>>8,$=F,te=255&(te=(te=F>>>16)+((u.jd<<24>>24)*(M<<24>>24)>>>5));$=255&($=($=$+((u.hd<<24>>24)*(M<<24>>24)>>>5))+((u.ud<<24>>24)*(te<<24>>24)>>>5)),k[P+T]=(4278255360&F)+(te<<16)+$}}function st(u,h,y,x,k){I[h]=function(P,T,F,M,$,te,fe,pe,le){for(M=fe;M<pe;++M)for(fe=0;fe<le;++fe)$[te++]=k(F[x(P[T++])])},I[u]=function(P,T,F,M,$,te,fe){var pe=8>>P.b,le=P.Ea,ke=P.K[0],ve=P.w;if(8>pe)for(P=(1<<P.b)-1,ve=(1<<pe)-1;T<F;++T){var ne,ae=0;for(ne=0;ne<le;++ne)ne&P||(ae=x(M[$++])),te[fe++]=k(ke[ae&ve]),ae>>=pe}else I["VP8LMapColor"+y](M,$,ke,ve,te,fe,T,F,le)}}function je(u,h,y,x,k){for(y=h+y;h<y;){var P=u[h++];x[k++]=P>>16&255,x[k++]=P>>8&255,x[k++]=P>>0&255}}function mt(u,h,y,x,k){for(y=h+y;h<y;){var P=u[h++];x[k++]=P>>16&255,x[k++]=P>>8&255,x[k++]=P>>0&255,x[k++]=P>>24&255}}function Te(u,h,y,x,k){for(y=h+y;h<y;){var P=(T=u[h++])>>16&240|T>>12&15,T=T>>0&240|T>>28&15;x[k++]=P,x[k++]=T}}function Lt(u,h,y,x,k){for(y=h+y;h<y;){var P=(T=u[h++])>>16&248|T>>13&7,T=T>>5&224|T>>3&31;x[k++]=P,x[k++]=T}}function At(u,h,y,x,k){for(y=h+y;h<y;){var P=u[h++];x[k++]=P>>0&255,x[k++]=P>>8&255,x[k++]=P>>16&255}}function jt(u,h,y,x,k,P){if(P==0)for(y=h+y;h<y;)Pe(x,((P=u[h++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),k+=32;else n(x,k,u,h,y)}function Kr(u,h){I[h][0]=I[u+"0"],I[h][1]=I[u+"1"],I[h][2]=I[u+"2"],I[h][3]=I[u+"3"],I[h][4]=I[u+"4"],I[h][5]=I[u+"5"],I[h][6]=I[u+"6"],I[h][7]=I[u+"7"],I[h][8]=I[u+"8"],I[h][9]=I[u+"9"],I[h][10]=I[u+"10"],I[h][11]=I[u+"11"],I[h][12]=I[u+"12"],I[h][13]=I[u+"13"],I[h][14]=I[u+"0"],I[h][15]=I[u+"0"]}function It(u){return u==wf||u==xf||u==Iu||u==Nf}function Vn(){this.eb=[],this.size=this.A=this.fb=0}function tr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Cn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vn,this.f.kb=new tr,this.sd=null}function ls(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function gt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Ft(u,h){var y=u.T,x=h.ba.f.RGBA,k=x.eb,P=x.fb+u.ka*x.A,T=Zn[h.ba.S],F=u.y,M=u.O,$=u.f,te=u.N,fe=u.ea,pe=u.W,le=h.cc,ke=h.dc,ve=h.Mc,ne=h.Nc,ae=u.ka,Ne=u.ka+u.T,Ce=u.U,Se=Ce+1>>1;for(ae==0?T(F,M,null,null,$,te,fe,pe,$,te,fe,pe,k,P,null,null,Ce):(T(h.ec,h.fc,F,M,le,ke,ve,ne,$,te,fe,pe,k,P-x.A,k,P,Ce),++y);ae+2<Ne;ae+=2)le=$,ke=te,ve=fe,ne=pe,te+=u.Rc,pe+=u.Rc,P+=2*x.A,T(F,(M+=2*u.fa)-u.fa,F,M,le,ke,ve,ne,$,te,fe,pe,k,P-x.A,k,P,Ce);return M+=u.fa,u.j+Ne<u.o?(n(h.ec,h.fc,F,M,Ce),n(h.cc,h.dc,$,te,Se),n(h.Mc,h.Nc,fe,pe,Se),y--):1&Ne||T(F,M,null,null,$,te,fe,pe,$,te,fe,pe,k,P+x.A,null,null,Ce),y}function Ks(u,h,y){var x=u.F,k=[u.J];if(x!=null){var P=u.U,T=h.ba.S,F=T==Tu||T==Iu;h=h.ba.f.RGBA;var M=[0],$=u.ka;M[0]=u.T,u.Kb&&($==0?--M[0]:(--$,k[0]-=u.width),u.j+u.ka+u.T==u.o&&(M[0]=u.o-u.j-$));var te=h.eb;$=h.fb+$*h.A,u=Gt(x,k[0],u.width,P,M,te,$+(F?0:3),h.A),t(y==M),u&&It(T)&&Qn(te,$,F,P,M,h.A)}return 0}function Ar(u){var h=u.ma,y=h.ba.S,x=11>y,k=y==Pu||y==Lu||y==Tu||y==_f||y==12||It(y);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!Ml(h.Oa,u,k?11:12))return 0;if(k&&It(y)&&Ee(),u.da)alert("todo:use_scaling");else{if(x){if(h.Ib=gt,u.Kb){if(y=u.U+1>>1,h.memory=i(u.U+2*y),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+y,h.Ib=Ft,Ee()}}else alert("todo:EmitYUV");k&&(h.Jb=Ks,x&&ue())}if(x&&!j0){for(u=0;256>u;++u)W_[u]=89858*(u-128)+Ru>>Ou,K_[u]=-22014*(u-128)+Ru,Y_[u]=-45773*(u-128),G_[u]=113618*(u-128)+Ru>>Ou;for(u=Gl;u<kf;++u)h=76283*(u-16)+Ru>>Ou,J_[u-Gl]=En(h,255),Q_[u-Gl]=En(h+8>>4,15);j0=1}return 1}function Hn(u){var h=u.ma,y=u.U,x=u.T;return t(!(1&u.ka)),0>=y||0>=x?0:(y=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,y),h.Dc+=y,1)}function Wn(u){u.ma.memory=null}function ct(u,h,y,x){return ce(u,8)!=47?0:(h[0]=ce(u,14)+1,y[0]=ce(u,14)+1,x[0]=ce(u,1),ce(u,3)!=0?0:!u.h)}function _e(u,h){if(4>u)return u+1;var y=u-2>>1;return(2+(1&u)<<y)+ce(h,y)+1}function De(u,h){return 120<h?h-120:1<=(y=((y=T_[h-1])>>4)*u+(8-(15&y)))?y:1;var y}function He(u,h,y){var x=z(y),k=u[h+=255&x].g-8;return 0<k&&(V(y,y.u+8),x=z(y),h+=u[h].value,h+=x&(1<<k)-1),V(y,y.u+u[h].g),u[h].value}function Ae(u,h,y){return y.g+=u.g,y.value+=u.value<<h>>>0,t(8>=y.g),u.g}function Ke(u,h,y){var x=u.xc;return t((h=x==0?0:u.vc[u.md*(y>>x)+(h>>x)])<u.Wb),u.Ya[h]}function kt(u,h,y,x){var k=u.ab,P=u.c*h,T=u.C;h=T+h;var F=y,M=x;for(x=u.Ta,y=u.Ua;0<k--;){var $=u.gc[k],te=T,fe=h,pe=F,le=M,ke=(M=x,F=y,$.Ea);switch(t(te<fe),t(fe<=$.nc),$.hc){case 2:Nu(pe,le,(fe-te)*ke,M,F);break;case 0:var ve=te,ne=fe,ae=M,Ne=F,Ce=(Ve=$).Ea;ve==0&&(yf(pe,le,null,null,1,ae,Ne),Nt(pe,le+1,0,0,Ce-1,ae,Ne+1),le+=Ce,Ne+=Ce,++ve);for(var Se=1<<Ve.b,Ge=Se-1,qe=Qe(Ce,Ve.b),lt=Ve.K,Ve=Ve.w+(ve>>Ve.b)*qe;ve<ne;){var Dt=lt,Mt=Ve,Ot=1;for(ql(pe,le,ae,Ne-Ce,1,ae,Ne);Ot<Ce;){var Pt=(Ot&~Ge)+Se;Pt>Ce&&(Pt=Ce),(0,Ni[Dt[Mt++]>>8&15])(pe,le+ +Ot,ae,Ne+Ot-Ce,Pt-Ot,ae,Ne+Ot),Ot=Pt}le+=Ce,Ne+=Ce,++ve&Ge||(Ve+=qe)}fe!=$.nc&&n(M,F-ke,M,F+(fe-te-1)*ke,ke);break;case 1:for(ke=pe,ne=le,Ce=(pe=$.Ea)-(Ne=pe&~(ae=(le=1<<$.b)-1)),ve=Qe(pe,$.b),Se=$.K,$=$.w+(te>>$.b)*ve;te<fe;){for(Ge=Se,qe=$,lt=new $e,Ve=ne+Ne,Dt=ne+pe;ne<Ve;)Re(Ge[qe++],lt),va(lt,ke,ne,le,M,F),ne+=le,F+=le;ne<Dt&&(Re(Ge[qe++],lt),va(lt,ke,ne,Ce,M,F),ne+=Ce,F+=Ce),++te&ae||($+=ve)}break;case 3:if(pe==M&&le==F&&0<$.b){for(ne=M,pe=ke=F+(fe-te)*ke-(Ne=(fe-te)*Qe($.Ea,$.b)),le=M,ae=F,ve=[],Ne=(Ce=Ne)-1;0<=Ne;--Ne)ve[Ne]=le[ae+Ne];for(Ne=Ce-1;0<=Ne;--Ne)ne[pe+Ne]=ve[Ne];Yn($,te,fe,M,ke,M,F)}else Yn($,te,fe,pe,le,M,F)}F=x,M=y}M!=y&&n(x,y,F,M,P)}function Be(u,h){var y=u.V,x=u.Ba+u.c*u.C,k=h-u.C;if(t(h<=u.l.o),t(16>=k),0<k){var P=u.l,T=u.Ta,F=u.Ua,M=P.width;if(kt(u,k,y,x),k=F=[F],t((y=u.C)<(x=h)),t(P.v<P.va),x>P.o&&(x=P.o),y<P.j){var $=P.j-y;y=P.j,k[0]+=$*M}if(y>=x?y=0:(k[0]+=4*P.v,P.ka=y-P.j,P.U=P.va-P.v,P.T=x-y,y=1),y){if(F=F[0],11>(y=u.ca).S){var te=y.f.RGBA,fe=(x=y.S,k=P.U,P=P.T,$=te.eb,te.A),pe=P;for(te=te.fb+u.Ma*te.A;0<pe--;){var le=T,ke=F,ve=k,ne=$,ae=te;switch(x){case Eu:bn(le,ke,ve,ne,ae);break;case Pu:cn(le,ke,ve,ne,ae);break;case wf:cn(le,ke,ve,ne,ae),Qn(ne,ae,0,ve,1,0);break;case g0:Zs(le,ke,ve,ne,ae);break;case Lu:jt(le,ke,ve,ne,ae,1);break;case xf:jt(le,ke,ve,ne,ae,1),Qn(ne,ae,0,ve,1,0);break;case Tu:jt(le,ke,ve,ne,ae,0);break;case Iu:jt(le,ke,ve,ne,ae,0),Qn(ne,ae,1,ve,1,0);break;case _f:Si(le,ke,ve,ne,ae);break;case Nf:Si(le,ke,ve,ne,ae),Wt(ne,ae,ve,1,0);break;case v0:Xs(le,ke,ve,ne,ae);break;default:t(0)}F+=M,te+=fe}u.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=y.height)}}u.C=h,t(u.C<=u.i)}function rt(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var y=u.Ya[h].G,x=u.Ya[h].H;if(0<y[1][x[1]+0].g||0<y[2][x[2]+0].g||0<y[3][x[3]+0].g)return 0}return 1}function Ct(u,h,y,x,k,P){if(u.Z!=0){var T=u.qd,F=u.rd;for(t(Ci[u.Z]!=null);h<y;++h)Ci[u.Z](T,F,x,k,x,k,P),T=x,F=k,k+=P;u.qd=T,u.rd=F}}function $t(u,h){var y=u.l.ma,x=y.Z==0||y.Z==1?u.l.j:u.C;if(x=u.C<x?x:u.C,t(h<=u.l.o),h>x){var k=u.l.width,P=y.ca,T=y.tb+k*x,F=u.V,M=u.Ba+u.c*x,$=u.gc;t(u.ab==1),t($[0].hc==3),Su($[0],x,h,F,M,P,T),Ct(y,x,h,P,T,k)}u.C=u.Ma=h}function Cr(u,h,y,x,k,P,T){var F=u.$/x,M=u.$%x,$=u.m,te=u.s,fe=y+u.$,pe=fe;k=y+x*k;var le=y+x*P,ke=280+te.ua,ve=u.Pb?F:16777216,ne=0<te.ua?te.Wa:null,ae=te.wc,Ne=fe<le?Ke(te,M,F):null;t(u.C<P),t(le<=k);var Ce=!1;e:for(;;){for(;Ce||fe<le;){var Se=0;if(F>=ve){var Ge=fe-y;t((ve=u).Pb),ve.wd=ve.m,ve.xd=Ge,0<ve.s.ua&&ye(ve.s.Wa,ve.s.vb),ve=F+O_}if(M&ae||(Ne=Ke(te,M,F)),t(Ne!=null),Ne.Qb&&(h[fe]=Ne.qb,Ce=!0),!Ce)if(Y($),Ne.jc){Se=$,Ge=h;var qe=fe,lt=Ne.pd[z(Se)&$r-1];t(Ne.jc),256>lt.g?(V(Se,Se.u+lt.g),Ge[qe]=lt.value,Se=0):(V(Se,Se.u+lt.g-256),t(256<=lt.value),Se=lt.value),Se==0&&(Ce=!0)}else Se=He(Ne.G[0],Ne.H[0],$);if($.h)break;if(Ce||256>Se){if(!Ce)if(Ne.nd)h[fe]=(Ne.qb|Se<<8)>>>0;else{if(Y($),Ce=He(Ne.G[1],Ne.H[1],$),Y($),Ge=He(Ne.G[2],Ne.H[2],$),qe=He(Ne.G[3],Ne.H[3],$),$.h)break;h[fe]=(qe<<24|Ce<<16|Se<<8|Ge)>>>0}if(Ce=!1,++fe,++M>=x&&(M=0,++F,T!=null&&F<=P&&!(F%16)&&T(u,F),ne!=null))for(;pe<fe;)Se=h[pe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se}else if(280>Se){if(Se=_e(Se-256,$),Ge=He(Ne.G[4],Ne.H[4],$),Y($),Ge=De(x,Ge=_e(Ge,$)),$.h)break;if(fe-y<Ge||k-fe<Se)break e;for(qe=0;qe<Se;++qe)h[fe+qe]=h[fe+qe-Ge];for(fe+=Se,M+=Se;M>=x;)M-=x,++F,T!=null&&F<=P&&!(F%16)&&T(u,F);if(t(fe<=k),M&ae&&(Ne=Ke(te,M,F)),ne!=null)for(;pe<fe;)Se=h[pe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se}else{if(!(Se<ke))break e;for(Ce=Se-280,t(ne!=null);pe<fe;)Se=h[pe++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se;Se=fe,t(!(Ce>>>(Ge=ne).Xa)),h[Se]=Ge.X[Ce],Ce=!0}Ce||t($.h==L($))}if(u.Pb&&$.h&&fe<k)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ye(u.s.vb,u.s.Wa);else{if($.h)break e;T!=null&&T(u,F>P?P:F),u.a=0,u.$=fe-y}return 1}return u.a=3,0}function Or(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,t(u!=null)}function lr(){var u=new vf;return u==null?null:(u.a=0,u.xb=_0,Kr("Predictor","VP8LPredictors"),Kr("Predictor","VP8LPredictors_C"),Kr("PredictorAdd","VP8LPredictorsAdd"),Kr("PredictorAdd","VP8LPredictorsAdd_C"),Nu=oe,va=ze,bn=je,cn=mt,Si=Te,Xs=Lt,Zs=At,I.VP8LMapColor32b=ho,I.VP8LMapColor8b=ju,u)}function Er(u,h,y,x,k){var P=1,T=[u],F=[h],M=x.m,$=x.s,te=null,fe=0;e:for(;;){if(y)for(;P&&ce(M,1);){var pe=T,le=F,ke=x,ve=1,ne=ke.m,ae=ke.gc[ke.ab],Ne=ce(ne,2);if(ke.Oc&1<<Ne)P=0;else{switch(ke.Oc|=1<<Ne,ae.hc=Ne,ae.Ea=pe[0],ae.nc=le[0],ae.K=[null],++ke.ab,t(4>=ke.ab),Ne){case 0:case 1:ae.b=ce(ne,3)+2,ve=Er(Qe(ae.Ea,ae.b),Qe(ae.nc,ae.b),0,ke,ae.K),ae.K=ae.K[0];break;case 3:var Ce,Se=ce(ne,8)+1,Ge=16<Se?0:4<Se?1:2<Se?2:3;if(pe[0]=Qe(ae.Ea,Ge),ae.b=Ge,Ce=ve=Er(Se,1,0,ke,ae.K)){var qe,lt=Se,Ve=ae,Dt=1<<(8>>Ve.b),Mt=i(Dt);if(Mt==null)Ce=0;else{var Ot=Ve.K[0],Pt=Ve.w;for(Mt[0]=Ve.K[0][0],qe=1;qe<1*lt;++qe)Mt[qe]=Le(Ot[Pt+qe],Mt[qe-1]);for(;qe<4*Dt;++qe)Mt[qe]=0;Ve.K[0]=null,Ve.K[0]=Mt,Ce=1}}ve=Ce;break;case 2:break;default:t(0)}P=ve}}if(T=T[0],F=F[0],P&&ce(M,1)&&!(P=1<=(fe=ce(M,4))&&11>=fe)){x.a=3;break e}var Vt;if(Vt=P)t:{var zt,St,xr,_n=x,Nr=T,wn=F,Bt=fe,Ln=y,Tn=_n.m,Fr=_n.s,Vr=[null],dn=1,es=0,Ds=I_[Bt];r:for(;;){if(Ln&&ce(Tn,1)){var Dr=ce(Tn,3)+2,ni=Qe(Nr,Dr),xa=Qe(wn,Dr),vo=ni*xa;if(!Er(ni,xa,0,_n,Vr))break r;for(Vr=Vr[0],Fr.xc=Dr,zt=0;zt<vo;++zt){var Ei=Vr[zt]>>8&65535;Vr[zt]=Ei,Ei>=dn&&(dn=Ei+1)}}if(Tn.h)break r;for(St=0;5>St;++St){var ur=y0[St];!St&&0<Bt&&(ur+=1<<Bt),es<ur&&(es=ur)}var Af=a(dn*Ds,O),C0=dn,E0=a(C0,K);if(E0==null)var Du=null;else t(65536>=C0),Du=E0;var Yl=i(es);if(Du==null||Yl==null||Af==null){_n.a=1;break r}var Mu=Af;for(zt=xr=0;zt<dn;++zt){var ms=Du[zt],yo=ms.G,bo=ms.H,P0=0,Bu=1,L0=0;for(St=0;5>St;++St){ur=y0[St],yo[St]=Mu,bo[St]=xr,!St&&0<Bt&&(ur+=1<<Bt);s:{var Uu,Cf=ur,qu=_n,Kl=Yl,ew=Mu,tw=xr,Ef=0,Pi=qu.m,rw=ce(Pi,1);if(s(Kl,0,0,Cf),rw){var nw=ce(Pi,1)+1,sw=ce(Pi,1),T0=ce(Pi,sw==0?1:8);Kl[T0]=1,nw==2&&(Kl[T0=ce(Pi,8)]=1);var zu=1}else{var I0=i(19),O0=ce(Pi,4)+4;if(19<O0){qu.a=3;var $u=0;break s}for(Uu=0;Uu<O0;++Uu)I0[L_[Uu]]=ce(Pi,3);var Pf=void 0,Jl=void 0,R0=qu,iw=I0,Vu=Cf,F0=Kl,Lf=0,Li=R0.m,D0=8,M0=a(128,O);n:for(;E(M0,0,7,iw,19);){if(ce(Li,1)){var aw=2+2*ce(Li,3);if((Pf=2+ce(Li,aw))>Vu)break n}else Pf=Vu;for(Jl=0;Jl<Vu&&Pf--;){Y(Li);var B0=M0[0+(127&z(Li))];V(Li,Li.u+B0.g);var _o=B0.value;if(16>_o)F0[Jl++]=_o,_o!=0&&(D0=_o);else{var ow=_o==16,U0=_o-16,lw=E_[U0],q0=ce(Li,C_[U0])+lw;if(Jl+q0>Vu)break n;for(var cw=ow?D0:0;0<q0--;)F0[Jl++]=cw}}Lf=1;break n}Lf||(R0.a=3),zu=Lf}(zu=zu&&!Pi.h)&&(Ef=E(ew,tw,8,Kl,Cf)),zu&&Ef!=0?$u=Ef:(qu.a=3,$u=0)}if($u==0)break r;if(Bu&&P_[St]==1&&(Bu=Mu[xr].g==0),P0+=Mu[xr].g,xr+=$u,3>=St){var Ql,Tf=Yl[0];for(Ql=1;Ql<ur;++Ql)Yl[Ql]>Tf&&(Tf=Yl[Ql]);L0+=Tf}}if(ms.nd=Bu,ms.Qb=0,Bu&&(ms.qb=(yo[3][bo[3]+0].value<<24|yo[1][bo[1]+0].value<<16|yo[2][bo[2]+0].value)>>>0,P0==0&&256>yo[0][bo[0]+0].value&&(ms.Qb=1,ms.qb+=yo[0][bo[0]+0].value<<8)),ms.jc=!ms.Qb&&6>L0,ms.jc){var Hu,si=ms;for(Hu=0;Hu<$r;++Hu){var Ti=Hu,Ii=si.pd[Ti],Wu=si.G[0][si.H[0]+Ti];256<=Wu.value?(Ii.g=Wu.g+256,Ii.value=Wu.value):(Ii.g=0,Ii.value=0,Ti>>=Ae(Wu,8,Ii),Ti>>=Ae(si.G[1][si.H[1]+Ti],16,Ii),Ti>>=Ae(si.G[2][si.H[2]+Ti],0,Ii),Ae(si.G[3][si.H[3]+Ti],24,Ii))}}}Fr.vc=Vr,Fr.Wb=dn,Fr.Ya=Du,Fr.yc=Af,Vt=1;break t}Vt=0}if(!(P=Vt)){x.a=3;break e}if(0<fe){if($.ua=1<<fe,!ot($.Wa,fe)){x.a=1,P=0;break e}}else $.ua=0;var If=x,z0=T,uw=F,Of=If.s,Rf=Of.xc;if(If.c=z0,If.i=uw,Of.md=Qe(z0,Rf),Of.wc=Rf==0?-1:(1<<Rf)-1,y){x.xb=q_;break e}if((te=i(T*F))==null){x.a=1,P=0;break e}P=(P=Cr(x,te,0,T,F,F,null))&&!M.h;break e}return P?(k!=null?k[0]=te:(t(te==null),t(y)),x.$=0,y||Or($)):Or($),P}function Gn(u,h){var y=u.c*u.i,x=y+h+16*h;return t(u.c<=h),u.V=i(x),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+y+h,1)}function Is(u,h){var y=u.C,x=h-y,k=u.V,P=u.Ba+u.c*y;for(t(h<=u.l.o);0<x;){var T=16<x?16:x,F=u.l.ma,M=u.l.width,$=M*T,te=F.ca,fe=F.tb+M*y,pe=u.Ta,le=u.Ua;kt(u,T,k,P),mr(pe,le,te,fe,$),Ct(F,y,y+T,te,fe,M),x-=T,k+=T*u.c,y+=T}t(y==h),u.C=u.Ma=h}function qr(){this.ub=this.yd=this.td=this.Rb=0}function cs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function us(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Jr(){this.Yb=function(){var u=[];return function h(y,x,k){for(var P=k[x],T=0;T<P&&(y.push(k.length>x+1?[]:0),!(k.length<x+1));T++)h(y[T],x+1,k)}(u,0,[3,11]),u}()}function zr(){this.jb=i(3),this.Wc=l([4,8],Jr),this.Xc=l([4,17],Jr)}function bi(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ja(){this.ld=this.La=this.dd=this.tc=0}function su(){this.Na=this.la=0}function Kh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Jh(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ja),this.Y=0,this.ya=Array(new xl),this.aa=0,this.l=new Qa}function iu(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Qh(){this.cb=this.a=0,this.sc="",this.m=new we,this.Od=new qr,this.Kc=new cs,this.ed=new bi,this.Qa=new us,this.Ic=this.$c=this.Aa=0,this.D=new Jh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,we),this.ia=0,this.pb=a(4,Kh),this.Pa=new zr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new iu),this.Hd=0,this.rb=Array(new su),this.sb=0,this.wa=Array(new Ja),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xl),this.L=this.aa=0,this.gd=l([4,2],Ja),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xh(){var u=new Qh;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Wl||(Wl=lu)),u}function fr(u,h,y){return u.a==0&&(u.a=h,u.sc=y,u.cb=0),0}function au(u,h,y){return 3<=y&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function ou(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return fr(u,2,"null VP8Io passed to VP8GetHeaders()");var y=h.data,x=h.w,k=h.ha;if(4>k)return fr(u,7,"Truncated header.");var P=y[x+0]|y[x+1]<<8|y[x+2]<<16,T=u.Od;if(T.Rb=!(1&P),T.td=P>>1&7,T.yd=P>>4&1,T.ub=P>>5,3<T.td)return fr(u,3,"Incorrect keyframe parameters.");if(!T.yd)return fr(u,4,"Frame not displayable.");x+=3,k-=3;var F=u.Kc;if(T.Rb){if(7>k)return fr(u,7,"cannot parse picture header");if(!au(y,x,k))return fr(u,3,"Bad code word");F.c=16383&(y[x+4]<<8|y[x+3]),F.Td=y[x+4]>>6,F.i=16383&(y[x+6]<<8|y[x+5]),F.Ud=y[x+6]>>6,x+=7,k-=7,u.za=F.c+15>>4,u.Ub=F.i+15>>4,h.width=F.c,h.height=F.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,s((P=u.Pa).jb,0,255,P.jb.length),t((P=u.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,s(P.Zb,0,0,P.Zb.length),s(P.Lb,0,0,P.Lb)}if(T.ub>k)return fr(u,7,"bad partition length");G(P=u.m,y,x,T.ub),x+=T.ub,k-=T.ub,T.Rb&&(F.Ld=he(P),F.Kd=he(P)),F=u.Qa;var M,$=u.Pa;if(t(P!=null),t(F!=null),F.Cb=he(P),F.Cb){if(F.Bb=he(P),he(P)){for(F.Fb=he(P),M=0;4>M;++M)F.Zb[M]=he(P)?de(P,7):0;for(M=0;4>M;++M)F.Lb[M]=he(P)?de(P,6):0}if(F.Bb)for(M=0;3>M;++M)$.jb[M]=he(P)?re(P,8):255}else F.Bb=0;if(P.Ka)return fr(u,3,"cannot parse segment header");if((F=u.ed).zd=he(P),F.Tb=re(P,6),F.wb=re(P,3),F.Pc=he(P),F.Pc&&he(P)){for($=0;4>$;++$)he(P)&&(F.vd[$]=de(P,6));for($=0;4>$;++$)he(P)&&(F.od[$]=de(P,6))}if(u.L=F.Tb==0?0:F.zd?1:2,P.Ka)return fr(u,3,"cannot parse filter header");var te=k;if(k=M=x,x=M+te,F=te,u.Xb=(1<<re(u.m,2))-1,te<3*($=u.Xb))y=7;else{for(M+=3*$,F-=3*$,te=0;te<$;++te){var fe=y[k+0]|y[k+1]<<8|y[k+2]<<16;fe>F&&(fe=F),G(u.Jc[+te],y,M,fe),M+=fe,F-=fe,k+=3}G(u.Jc[+$],y,M,F),y=M<x?0:5}if(y!=0)return fr(u,y,"cannot parse partitions");for(y=re(M=u.m,7),k=he(M)?de(M,4):0,x=he(M)?de(M,4):0,F=he(M)?de(M,4):0,$=he(M)?de(M,4):0,M=he(M)?de(M,4):0,te=u.Qa,fe=0;4>fe;++fe){if(te.Cb){var pe=te.Zb[fe];te.Fb||(pe+=y)}else{if(0<fe){u.pb[fe]=u.pb[0];continue}pe=y}var le=u.pb[fe];le.Sc[0]=Sf[En(pe+k,127)],le.Sc[1]=jf[En(pe+0,127)],le.Eb[0]=2*Sf[En(pe+x,127)],le.Eb[1]=101581*jf[En(pe+F,127)]>>16,8>le.Eb[1]&&(le.Eb[1]=8),le.Qc[0]=Sf[En(pe+$,117)],le.Qc[1]=jf[En(pe+M,127)],le.lc=pe+M}if(!T.Rb)return fr(u,4,"Not a key frame.");for(he(P),T=u.Pa,y=0;4>y;++y){for(k=0;8>k;++k)for(x=0;3>x;++x)for(F=0;11>F;++F)$=me(P,B_[y][k][x][F])?re(P,8):D_[y][k][x][F],T.Wc[y][k].Yb[x][F]=$;for(k=0;17>k;++k)T.Xc[y][k]=T.Wc[y][U_[k]]}return u.kc=he(P),u.kc&&(u.Bd=re(P,8)),u.cb=1}function lu(u,h,y,x,k,P,T){var F=h[k].Yb[y];for(y=0;16>k;++k){if(!me(u,F[y+0]))return k;for(;!me(u,F[y+1]);)if(F=h[++k].Yb[0],y=0,k==16)return 16;var M=h[k+1].Yb;if(me(u,F[y+2])){var $=u,te=0;if(me($,(pe=F)[(fe=y)+3]))if(me($,pe[fe+6])){for(F=0,fe=2*(te=me($,pe[fe+8]))+(pe=me($,pe[fe+9+te])),te=0,pe=R_[fe];pe[F];++F)te+=te+me($,pe[F]);te+=3+(8<<fe)}else me($,pe[fe+7])?(te=7+2*me($,165),te+=me($,145)):te=5+me($,159);else te=me($,pe[fe+4])?3+me($,pe[fe+5]):2;F=M[2]}else te=1,F=M[1];M=T+F_[k],0>($=u).b&&ie($);var fe,pe=$.b,le=(fe=$.Ca>>1)-($.I>>pe)>>31;--$.b,$.Ca+=le,$.Ca|=1,$.I-=(fe+1&le)<<pe,P[M]=((te^le)-le)*x[(0<k)+0]}return 16}function Nl(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,s(u.zc,0,0,u.zc.length),u.ja=0}function Zh(u,h){if(u==null)return 0;if(h==null)return fr(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!ou(u,h))return 0;if(t(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var y=Fu[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-y>>4,u.zb=h.j-y>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+y>>4,u.Hb=h.va+15+y>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var x=u.ed;for(y=0;4>y;++y){var k;if(u.Qa.Cb){var P=u.Qa.Lb[y];u.Qa.Fb||(P+=x.Tb)}else P=x.Tb;for(k=0;1>=k;++k){var T=u.gd[y][k],F=P;if(x.Pc&&(F+=x.vd[0],k&&(F+=x.od[0])),0<(F=0>F?0:63<F?63:F)){var M=F;0<x.wb&&(M=4<x.wb?M>>2:M>>1)>9-x.wb&&(M=9-x.wb),1>M&&(M=1),T.dd=M,T.tc=2*F+M,T.ld=40<=F?2:15<=F?1:0}else T.tc=0;T.La=k}}}y=0}else fr(u,6,"Frame setup failed"),y=u.a;if(y=y==0){if(y){u.$c=0,0<u.Aa||(u.Ic=Z_);e:{y=u.Ic,x=4*(M=u.za);var $=32*M,te=M+1,fe=0<u.L?M*(0<u.Aa?2:1):0,pe=(u.Aa==2?2:1)*M;if((T=x+832+(k=3*(16*y+Fu[u.L])/2*$)+(P=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=T)y=0;else{if(T>u.Vb){if(u.Vb=0,u.Ec=i(T),u.Fc=0,u.Ec==null){y=fr(u,1,"no memory during frame initialization.");break e}u.Vb=T}T=u.Ec,F=u.Fc,u.Ac=T,u.Bc=F,F+=x,u.Gd=a($,iu),u.Hd=0,u.rb=a(te+1,su),u.sb=1,u.wa=fe?a(fe,Ja):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=M),t(!0),u.oc=T,u.pc=F,F+=832,u.ya=a(pe,xl),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=M),u.R=16*M,u.B=8*M,M=($=Fu[u.L])*u.R,$=$/2*u.B,u.sa=T,u.ta=F+M,u.qa=u.sa,u.ra=u.ta+16*y*u.R+$,u.Ha=u.qa,u.Ia=u.ra+8*y*u.B+$,u.$c=0,F+=k,u.mb=P?T:null,u.nb=P?F:null,t(F+P<=u.Fc+u.Vb),Nl(u),s(u.Ac,u.Bc,0,x),y=1}}if(y){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!Au){for(y=-255;255>=y;++y)Pr[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)ti[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)Hl[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)go[255+y]=0>y?0:255<y?255:y;Au=1}fo=rf,ei=ef,zl=uu,un=tf,Kn=du,pr=cu,po=El,ku=ma,$l=gf,ya=Pl,ba=mf,ji=no,_a=Ll,mo=_u,wa=bu,ki=Rs,Vl=Qs,Jn=pf,ps[0]=Os,ps[1]=nf,ps[2]=lf,ps[3]=cf,ps[4]=pu,ps[5]=to,ps[6]=mu,ps[7]=kl,ps[8]=df,ps[9]=uf,Ai[0]=hu,Ai[1]=af,Ai[2]=Js,Ai[3]=Za,Ai[4]=Qr,Ai[5]=of,Ai[6]=fu,ri[0]=_i,ri[1]=sf,ri[2]=hf,ri[3]=Al,ri[4]=pa,ri[5]=ff,ri[6]=Cl,y=1}else y=0}y&&(y=function(le,ke){for(le.M=0;le.M<le.Va;++le.M){var ve,ne=le.Jc[le.M&le.Xb],ae=le.m,Ne=le;for(ve=0;ve<Ne.za;++ve){var Ce=ae,Se=Ne,Ge=Se.Ac,qe=Se.Bc+4*ve,lt=Se.zc,Ve=Se.ya[Se.aa+ve];if(Se.Qa.Bb?Ve.$b=me(Ce,Se.Pa.jb[0])?2+me(Ce,Se.Pa.jb[2]):me(Ce,Se.Pa.jb[1]):Ve.$b=0,Se.kc&&(Ve.Ad=me(Ce,Se.Bd)),Ve.Za=!me(Ce,145)+0,Ve.Za){var Dt=Ve.Ob,Mt=0;for(Se=0;4>Se;++Se){var Ot,Pt=lt[0+Se];for(Ot=0;4>Ot;++Ot){Pt=M_[Ge[qe+Ot]][Pt];for(var Vt=b0[me(Ce,Pt[0])];0<Vt;)Vt=b0[2*Vt+me(Ce,Pt[Vt])];Pt=-Vt,Ge[qe+Ot]=Pt}n(Dt,Mt,Ge,qe,4),Mt+=4,lt[0+Se]=Pt}}else Pt=me(Ce,156)?me(Ce,128)?1:3:me(Ce,163)?2:0,Ve.Ob[0]=Pt,s(Ge,qe,Pt,4),s(lt,0,Pt,4);Ve.Dd=me(Ce,142)?me(Ce,114)?me(Ce,183)?1:3:2:0}if(Ne.m.Ka)return fr(le,7,"Premature end-of-partition0 encountered.");for(;le.ja<le.za;++le.ja){if(Ne=ne,Ce=(ae=le).rb[ae.sb-1],Ge=ae.rb[ae.sb+ae.ja],ve=ae.ya[ae.aa+ae.ja],qe=ae.kc?ve.Ad:0)Ce.la=Ge.la=0,ve.Za||(Ce.Na=Ge.Na=0),ve.Hc=0,ve.Gc=0,ve.ia=0;else{var zt,St;if(Ce=Ge,Ge=Ne,qe=ae.Pa.Xc,lt=ae.ya[ae.aa+ae.ja],Ve=ae.pb[lt.$b],Se=lt.ad,Dt=0,Mt=ae.rb[ae.sb-1],Pt=Ot=0,s(Se,Dt,0,384),lt.Za)var xr=0,_n=qe[3];else{Vt=i(16);var Nr=Ce.Na+Mt.Na;if(Nr=Wl(Ge,qe[1],Nr,Ve.Eb,0,Vt,0),Ce.Na=Mt.Na=(0<Nr)+0,1<Nr)fo(Vt,0,Se,Dt);else{var wn=Vt[0]+3>>3;for(Vt=0;256>Vt;Vt+=16)Se[Dt+Vt]=wn}xr=1,_n=qe[0]}var Bt=15&Ce.la,Ln=15&Mt.la;for(Vt=0;4>Vt;++Vt){var Tn=1&Ln;for(wn=St=0;4>wn;++wn)Bt=Bt>>1|(Tn=(Nr=Wl(Ge,_n,Nr=Tn+(1&Bt),Ve.Sc,xr,Se,Dt))>xr)<<7,St=St<<2|(3<Nr?3:1<Nr?2:Se[Dt+0]!=0),Dt+=16;Bt>>=4,Ln=Ln>>1|Tn<<7,Ot=(Ot<<8|St)>>>0}for(_n=Bt,xr=Ln>>4,zt=0;4>zt;zt+=2){for(St=0,Bt=Ce.la>>4+zt,Ln=Mt.la>>4+zt,Vt=0;2>Vt;++Vt){for(Tn=1&Ln,wn=0;2>wn;++wn)Nr=Tn+(1&Bt),Bt=Bt>>1|(Tn=0<(Nr=Wl(Ge,qe[2],Nr,Ve.Qc,0,Se,Dt)))<<3,St=St<<2|(3<Nr?3:1<Nr?2:Se[Dt+0]!=0),Dt+=16;Bt>>=2,Ln=Ln>>1|Tn<<5}Pt|=St<<4*zt,_n|=Bt<<4<<zt,xr|=(240&Ln)<<zt}Ce.la=_n,Mt.la=xr,lt.Hc=Ot,lt.Gc=Pt,lt.ia=43690&Pt?0:Ve.ia,qe=!(Ot|Pt)}if(0<ae.L&&(ae.wa[ae.Y+ae.ja]=ae.gd[ve.$b][ve.Za],ae.wa[ae.Y+ae.ja].La|=!qe),Ne.Ka)return fr(le,7,"Premature end-of-file encountered.")}if(Nl(le),ae=ke,Ne=1,ve=(ne=le).D,Ce=0<ne.L&&ne.M>=ne.zb&&ne.M<=ne.Va,ne.Aa==0)e:{if(ve.M=ne.M,ve.uc=Ce,Dl(ne,ve),Ne=1,ve=(St=ne.D).Nb,Ce=(Pt=Fu[ne.L])*ne.R,Ge=Pt/2*ne.B,Vt=16*ve*ne.R,wn=8*ve*ne.B,qe=ne.sa,lt=ne.ta-Ce+Vt,Ve=ne.qa,Se=ne.ra-Ge+wn,Dt=ne.Ha,Mt=ne.Ia-Ge+wn,Ln=(Bt=St.M)==0,Ot=Bt>=ne.Va-1,ne.Aa==2&&Dl(ne,St),St.uc)for(Tn=(Nr=ne).D.M,t(Nr.D.uc),St=Nr.yb;St<Nr.Hb;++St){xr=St,_n=Tn;var Fr=(Vr=(ur=Nr).D).Nb;zt=ur.R;var Vr=Vr.wa[Vr.Y+xr],dn=ur.sa,es=ur.ta+16*Fr*zt+16*xr,Ds=Vr.dd,Dr=Vr.tc;if(Dr!=0)if(t(3<=Dr),ur.L==1)0<xr&&ki(dn,es,zt,Dr+4),Vr.La&&Jn(dn,es,zt,Dr),0<_n&&wa(dn,es,zt,Dr+4),Vr.La&&Vl(dn,es,zt,Dr);else{var ni=ur.B,xa=ur.qa,vo=ur.ra+8*Fr*ni+8*xr,Ei=ur.Ha,ur=ur.Ia+8*Fr*ni+8*xr;Fr=Vr.ld,0<xr&&(ku(dn,es,zt,Dr+4,Ds,Fr),ya(xa,vo,Ei,ur,ni,Dr+4,Ds,Fr)),Vr.La&&(ji(dn,es,zt,Dr,Ds,Fr),mo(xa,vo,Ei,ur,ni,Dr,Ds,Fr)),0<_n&&(po(dn,es,zt,Dr+4,Ds,Fr),$l(xa,vo,Ei,ur,ni,Dr+4,Ds,Fr)),Vr.La&&(ba(dn,es,zt,Dr,Ds,Fr),_a(xa,vo,Ei,ur,ni,Dr,Ds,Fr))}}if(ne.ia&&alert("todo:DitherRow"),ae.put!=null){if(St=16*Bt,Bt=16*(Bt+1),Ln?(ae.y=ne.sa,ae.O=ne.ta+Vt,ae.f=ne.qa,ae.N=ne.ra+wn,ae.ea=ne.Ha,ae.W=ne.Ia+wn):(St-=Pt,ae.y=qe,ae.O=lt,ae.f=Ve,ae.N=Se,ae.ea=Dt,ae.W=Mt),Ot||(Bt-=Pt),Bt>ae.o&&(Bt=ae.o),ae.F=null,ae.J=null,ne.Fa!=null&&0<ne.Fa.length&&St<Bt&&(ae.J=Rl(ne,ae,St,Bt-St),ae.F=ne.mb,ae.F==null&&ae.F.length==0)){Ne=fr(ne,3,"Could not decode alpha data.");break e}St<ae.j&&(Pt=ae.j-St,St=ae.j,t(!(1&Pt)),ae.O+=ne.R*Pt,ae.N+=ne.B*(Pt>>1),ae.W+=ne.B*(Pt>>1),ae.F!=null&&(ae.J+=ae.width*Pt)),St<Bt&&(ae.O+=ae.v,ae.N+=ae.v>>1,ae.W+=ae.v>>1,ae.F!=null&&(ae.J+=ae.v),ae.ka=St-ae.j,ae.U=ae.va-ae.v,ae.T=Bt-St,Ne=ae.put(ae))}ve+1!=ne.Ic||Ot||(n(ne.sa,ne.ta-Ce,qe,lt+16*ne.R,Ce),n(ne.qa,ne.ra-Ge,Ve,Se+8*ne.B,Ge),n(ne.Ha,ne.Ia-Ge,Dt,Mt+8*ne.B,Ge))}if(!Ne)return fr(le,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),y&=1}return y?(u.cb=0,y):0}function ds(u,h,y,x,k){k=u[h+y+32*x]+(k>>3),u[h+y+32*x]=-256&k?0>k?0:255:k}function Xa(u,h,y,x,k,P){ds(u,h,0,y,x+k),ds(u,h,1,y,x+P),ds(u,h,2,y,x-P),ds(u,h,3,y,x-k)}function vn(u){return(20091*u>>16)+u}function Sl(u,h,y,x){var k,P=0,T=i(16);for(k=0;4>k;++k){var F=u[h+0]+u[h+8],M=u[h+0]-u[h+8],$=(35468*u[h+4]>>16)-vn(u[h+12]),te=vn(u[h+4])+(35468*u[h+12]>>16);T[P+0]=F+te,T[P+1]=M+$,T[P+2]=M-$,T[P+3]=F-te,P+=4,h++}for(k=P=0;4>k;++k)F=(u=T[P+0]+4)+T[P+8],M=u-T[P+8],$=(35468*T[P+4]>>16)-vn(T[P+12]),ds(y,x,0,0,F+(te=vn(T[P+4])+(35468*T[P+12]>>16))),ds(y,x,1,0,M+$),ds(y,x,2,0,M-$),ds(y,x,3,0,F-te),P++,x+=32}function cu(u,h,y,x){var k=u[h+0]+4,P=35468*u[h+4]>>16,T=vn(u[h+4]),F=35468*u[h+1]>>16;Xa(y,x,0,k+T,u=vn(u[h+1]),F),Xa(y,x,1,k+P,u,F),Xa(y,x,2,k-P,u,F),Xa(y,x,3,k-T,u,F)}function ef(u,h,y,x,k){Sl(u,h,y,x),k&&Sl(u,h+16,y,x+4)}function uu(u,h,y,x){ei(u,h+0,y,x,1),ei(u,h+32,y,x+128,1)}function tf(u,h,y,x){var k;for(u=u[h+0]+4,k=0;4>k;++k)for(h=0;4>h;++h)ds(y,x,h,k,u)}function du(u,h,y,x){u[h+0]&&un(u,h+0,y,x),u[h+16]&&un(u,h+16,y,x+4),u[h+32]&&un(u,h+32,y,x+128),u[h+48]&&un(u,h+48,y,x+128+4)}function rf(u,h,y,x){var k,P=i(16);for(k=0;4>k;++k){var T=u[h+0+k]+u[h+12+k],F=u[h+4+k]+u[h+8+k],M=u[h+4+k]-u[h+8+k],$=u[h+0+k]-u[h+12+k];P[0+k]=T+F,P[8+k]=T-F,P[4+k]=$+M,P[12+k]=$-M}for(k=0;4>k;++k)T=(u=P[0+4*k]+3)+P[3+4*k],F=P[1+4*k]+P[2+4*k],M=P[1+4*k]-P[2+4*k],$=u-P[3+4*k],y[x+0]=T+F>>3,y[x+16]=$+M>>3,y[x+32]=T-F>>3,y[x+48]=$-M>>3,x+=64}function jl(u,h,y){var x,k=h-32,P=Pn,T=255-u[k-1];for(x=0;x<y;++x){var F,M=P,$=T+u[h-1];for(F=0;F<y;++F)u[h+F]=M[$+u[k+F]];h+=32}}function nf(u,h){jl(u,h,4)}function sf(u,h){jl(u,h,8)}function af(u,h){jl(u,h,16)}function Js(u,h){var y;for(y=0;16>y;++y)n(u,h+32*y,u,h-32,16)}function Za(u,h){var y;for(y=16;0<y;--y)s(u,h,u[h-1],16),h+=32}function eo(u,h,y){var x;for(x=0;16>x;++x)s(h,y+32*x,u,16)}function hu(u,h){var y,x=16;for(y=0;16>y;++y)x+=u[h-1+32*y]+u[h+y-32];eo(x>>5,u,h)}function Qr(u,h){var y,x=8;for(y=0;16>y;++y)x+=u[h-1+32*y];eo(x>>4,u,h)}function of(u,h){var y,x=8;for(y=0;16>y;++y)x+=u[h+y-32];eo(x>>4,u,h)}function fu(u,h){eo(128,u,h)}function vt(u,h,y){return u+2*h+y+2>>2}function lf(u,h){var y,x=h-32;for(x=new Uint8Array([vt(u[x-1],u[x+0],u[x+1]),vt(u[x+0],u[x+1],u[x+2]),vt(u[x+1],u[x+2],u[x+3]),vt(u[x+2],u[x+3],u[x+4])]),y=0;4>y;++y)n(u,h+32*y,x,0,x.length)}function cf(u,h){var y=u[h-1],x=u[h-1+32],k=u[h-1+64],P=u[h-1+96];Pe(u,h+0,16843009*vt(u[h-1-32],y,x)),Pe(u,h+32,16843009*vt(y,x,k)),Pe(u,h+64,16843009*vt(x,k,P)),Pe(u,h+96,16843009*vt(k,P,P))}function Os(u,h){var y,x=4;for(y=0;4>y;++y)x+=u[h+y-32]+u[h-1+32*y];for(x>>=3,y=0;4>y;++y)s(u,h+32*y,x,4)}function pu(u,h){var y=u[h-1+0],x=u[h-1+32],k=u[h-1+64],P=u[h-1-32],T=u[h+0-32],F=u[h+1-32],M=u[h+2-32],$=u[h+3-32];u[h+0+96]=vt(x,k,u[h-1+96]),u[h+1+96]=u[h+0+64]=vt(y,x,k),u[h+2+96]=u[h+1+64]=u[h+0+32]=vt(P,y,x),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=vt(T,P,y),u[h+3+64]=u[h+2+32]=u[h+1+0]=vt(F,T,P),u[h+3+32]=u[h+2+0]=vt(M,F,T),u[h+3+0]=vt($,M,F)}function mu(u,h){var y=u[h+1-32],x=u[h+2-32],k=u[h+3-32],P=u[h+4-32],T=u[h+5-32],F=u[h+6-32],M=u[h+7-32];u[h+0+0]=vt(u[h+0-32],y,x),u[h+1+0]=u[h+0+32]=vt(y,x,k),u[h+2+0]=u[h+1+32]=u[h+0+64]=vt(x,k,P),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=vt(k,P,T),u[h+3+32]=u[h+2+64]=u[h+1+96]=vt(P,T,F),u[h+3+64]=u[h+2+96]=vt(T,F,M),u[h+3+96]=vt(F,M,M)}function to(u,h){var y=u[h-1+0],x=u[h-1+32],k=u[h-1+64],P=u[h-1-32],T=u[h+0-32],F=u[h+1-32],M=u[h+2-32],$=u[h+3-32];u[h+0+0]=u[h+1+64]=P+T+1>>1,u[h+1+0]=u[h+2+64]=T+F+1>>1,u[h+2+0]=u[h+3+64]=F+M+1>>1,u[h+3+0]=M+$+1>>1,u[h+0+96]=vt(k,x,y),u[h+0+64]=vt(x,y,P),u[h+0+32]=u[h+1+96]=vt(y,P,T),u[h+1+32]=u[h+2+96]=vt(P,T,F),u[h+2+32]=u[h+3+96]=vt(T,F,M),u[h+3+32]=vt(F,M,$)}function kl(u,h){var y=u[h+0-32],x=u[h+1-32],k=u[h+2-32],P=u[h+3-32],T=u[h+4-32],F=u[h+5-32],M=u[h+6-32],$=u[h+7-32];u[h+0+0]=y+x+1>>1,u[h+1+0]=u[h+0+64]=x+k+1>>1,u[h+2+0]=u[h+1+64]=k+P+1>>1,u[h+3+0]=u[h+2+64]=P+T+1>>1,u[h+0+32]=vt(y,x,k),u[h+1+32]=u[h+0+96]=vt(x,k,P),u[h+2+32]=u[h+1+96]=vt(k,P,T),u[h+3+32]=u[h+2+96]=vt(P,T,F),u[h+3+64]=vt(T,F,M),u[h+3+96]=vt(F,M,$)}function uf(u,h){var y=u[h-1+0],x=u[h-1+32],k=u[h-1+64],P=u[h-1+96];u[h+0+0]=y+x+1>>1,u[h+2+0]=u[h+0+32]=x+k+1>>1,u[h+2+32]=u[h+0+64]=k+P+1>>1,u[h+1+0]=vt(y,x,k),u[h+3+0]=u[h+1+32]=vt(x,k,P),u[h+3+32]=u[h+1+64]=vt(k,P,P),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=P}function df(u,h){var y=u[h-1+0],x=u[h-1+32],k=u[h-1+64],P=u[h-1+96],T=u[h-1-32],F=u[h+0-32],M=u[h+1-32],$=u[h+2-32];u[h+0+0]=u[h+2+32]=y+T+1>>1,u[h+0+32]=u[h+2+64]=x+y+1>>1,u[h+0+64]=u[h+2+96]=k+x+1>>1,u[h+0+96]=P+k+1>>1,u[h+3+0]=vt(F,M,$),u[h+2+0]=vt(T,F,M),u[h+1+0]=u[h+3+32]=vt(y,T,F),u[h+1+32]=u[h+3+64]=vt(x,y,T),u[h+1+64]=u[h+3+96]=vt(k,x,y),u[h+1+96]=vt(P,k,x)}function hf(u,h){var y;for(y=0;8>y;++y)n(u,h+32*y,u,h-32,8)}function Al(u,h){var y;for(y=0;8>y;++y)s(u,h,u[h-1],8),h+=32}function fa(u,h,y){var x;for(x=0;8>x;++x)s(h,y+32*x,u,8)}function _i(u,h){var y,x=8;for(y=0;8>y;++y)x+=u[h+y-32]+u[h-1+32*y];fa(x>>4,u,h)}function ff(u,h){var y,x=4;for(y=0;8>y;++y)x+=u[h+y-32];fa(x>>3,u,h)}function pa(u,h){var y,x=4;for(y=0;8>y;++y)x+=u[h-1+32*y];fa(x>>3,u,h)}function Cl(u,h){fa(128,u,h)}function ro(u,h,y){var x=u[h-y],k=u[h+0],P=3*(k-x)+bf[1020+u[h-2*y]-u[h+y]],T=Cu[112+(P+4>>3)];u[h-y]=Pn[255+x+Cu[112+(P+3>>3)]],u[h+0]=Pn[255+k-T]}function gu(u,h,y,x){var k=u[h+0],P=u[h+y];return Xn[255+u[h-2*y]-u[h-y]]>x||Xn[255+P-k]>x}function vu(u,h,y,x){return 4*Xn[255+u[h-y]-u[h+0]]+Xn[255+u[h-2*y]-u[h+y]]<=x}function yu(u,h,y,x,k){var P=u[h-3*y],T=u[h-2*y],F=u[h-y],M=u[h+0],$=u[h+y],te=u[h+2*y],fe=u[h+3*y];return 4*Xn[255+F-M]+Xn[255+T-$]>x?0:Xn[255+u[h-4*y]-P]<=k&&Xn[255+P-T]<=k&&Xn[255+T-F]<=k&&Xn[255+fe-te]<=k&&Xn[255+te-$]<=k&&Xn[255+$-M]<=k}function bu(u,h,y,x){var k=2*x+1;for(x=0;16>x;++x)vu(u,h+x,y,k)&&ro(u,h+x,y)}function Rs(u,h,y,x){var k=2*x+1;for(x=0;16>x;++x)vu(u,h+x*y,1,k)&&ro(u,h+x*y,1)}function Qs(u,h,y,x){var k;for(k=3;0<k;--k)bu(u,h+=4*y,y,x)}function pf(u,h,y,x){var k;for(k=3;0<k;--k)Rs(u,h+=4,y,x)}function wi(u,h,y,x,k,P,T,F){for(P=2*P+1;0<k--;){if(yu(u,h,y,P,T))if(gu(u,h,y,F))ro(u,h,y);else{var M=u,$=h,te=y,fe=M[$-2*te],pe=M[$-te],le=M[$+0],ke=M[$+te],ve=M[$+2*te],ne=27*(Ne=bf[1020+3*(le-pe)+bf[1020+fe-ke]])+63>>7,ae=18*Ne+63>>7,Ne=9*Ne+63>>7;M[$-3*te]=Pn[255+M[$-3*te]+Ne],M[$-2*te]=Pn[255+fe+ae],M[$-te]=Pn[255+pe+ne],M[$+0]=Pn[255+le-ne],M[$+te]=Pn[255+ke-ae],M[$+2*te]=Pn[255+ve-Ne]}h+=x}}function hs(u,h,y,x,k,P,T,F){for(P=2*P+1;0<k--;){if(yu(u,h,y,P,T))if(gu(u,h,y,F))ro(u,h,y);else{var M=u,$=h,te=y,fe=M[$-te],pe=M[$+0],le=M[$+te],ke=Cu[112+((ve=3*(pe-fe))+4>>3)],ve=Cu[112+(ve+3>>3)],ne=ke+1>>1;M[$-2*te]=Pn[255+M[$-2*te]+ne],M[$-te]=Pn[255+fe+ve],M[$+0]=Pn[255+pe-ke],M[$+te]=Pn[255+le-ne]}h+=x}}function El(u,h,y,x,k,P){wi(u,h,y,1,16,x,k,P)}function ma(u,h,y,x,k,P){wi(u,h,1,y,16,x,k,P)}function mf(u,h,y,x,k,P){var T;for(T=3;0<T;--T)hs(u,h+=4*y,y,1,16,x,k,P)}function no(u,h,y,x,k,P){var T;for(T=3;0<T;--T)hs(u,h+=4,1,y,16,x,k,P)}function gf(u,h,y,x,k,P,T,F){wi(u,h,k,1,8,P,T,F),wi(y,x,k,1,8,P,T,F)}function Pl(u,h,y,x,k,P,T,F){wi(u,h,1,k,8,P,T,F),wi(y,x,1,k,8,P,T,F)}function Ll(u,h,y,x,k,P,T,F){hs(u,h+4*k,k,1,8,P,T,F),hs(y,x+4*k,k,1,8,P,T,F)}function _u(u,h,y,x,k,P,T,F){hs(u,h+4,1,k,8,P,T,F),hs(y,x+4,1,k,8,P,T,F)}function so(){this.ba=new Cn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Tl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Il(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wu(){this.ua=0,this.Wa=new J,this.vb=new J,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new O}function vf(){this.xb=this.a=0,this.l=new Qa,this.ca=new Cn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wu,this.ab=0,this.gc=a(4,Il),this.Oc=0}function io(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ga(u,h,y,x,k,P,T){for(u=u==null?0:u[h+0],h=0;h<T;++h)k[P+h]=u+y[x+h]&255,u=k[P+h]}function Ol(u,h,y,x,k,P,T){var F;if(u==null)ga(null,null,y,x,k,P,T);else for(F=0;F<T;++F)k[P+F]=u[h+F]+y[x+F]&255}function xi(u,h,y,x,k,P,T){if(u==null)ga(null,null,y,x,k,P,T);else{var F,M=u[h+0],$=M,te=M;for(F=0;F<T;++F)$=te+(M=u[h+F])-$,te=y[x+F]+(-256&$?0>$?0:255:$)&255,$=M,k[P+F]=te}}function Rl(u,h,y,x){var k=h.width,P=h.o;if(t(u!=null&&h!=null),0>y||0>=x||y+x>P)return null;if(!u.Cc){if(u.ga==null){var T;if(u.ga=new io,(T=u.ga==null)||(T=h.width*h.o,t(u.Gb.length==0),u.Gb=i(T),u.Uc=0,u.Gb==null?T=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,T=1),T=!T),!T){T=u.ga;var F=u.Fa,M=u.P,$=u.qc,te=u.mb,fe=u.nb,pe=M+1,le=$-1,ke=T.l;if(t(F!=null&&te!=null&&h!=null),Ci[0]=null,Ci[1]=ga,Ci[2]=Ol,Ci[3]=xi,T.ca=te,T.tb=fe,T.c=h.width,T.i=h.height,t(0<T.c&&0<T.i),1>=$)h=0;else if(T.$a=F[M+0]>>0&3,T.Z=F[M+0]>>2&3,T.Lc=F[M+0]>>4&3,M=F[M+0]>>6&3,0>T.$a||1<T.$a||4<=T.Z||1<T.Lc||M)h=0;else if(ke.put=Hn,ke.ac=Ar,ke.bc=Wn,ke.ma=T,ke.width=h.width,ke.height=h.height,ke.Da=h.Da,ke.v=h.v,ke.va=h.va,ke.j=h.j,ke.o=h.o,T.$a)e:{t(T.$a==1),h=lr();t:for(;;){if(h==null){h=0;break e}if(t(T!=null),T.mc=h,h.c=T.c,h.i=T.i,h.l=T.l,h.l.ma=T,h.l.width=T.c,h.l.height=T.i,h.a=0,W(h.m,F,pe,le),!Er(T.c,T.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&rt(h.s)?(T.ic=1,F=h.c*h.i,h.Ta=null,h.Ua=0,h.V=i(F),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(T.ic=0,h=Gn(h,T.c)),!h))break t;h=1;break e}T.mc=null,h=0}else h=le>=T.c*T.i;T=!h}if(T)return null;u.ga.Lc!=1?u.Ga=0:x=P-y}t(u.ga!=null),t(y+x<=P);e:{if(h=(F=u.ga).c,P=F.l.o,F.$a==0){if(pe=u.rc,le=u.Vc,ke=u.Fa,M=u.P+1+y*h,$=u.mb,te=u.nb+y*h,t(M<=u.P+u.qc),F.Z!=0)for(t(Ci[F.Z]!=null),T=0;T<x;++T)Ci[F.Z](pe,le,ke,M,$,te,h),pe=$,le=te,te+=h,M+=h;else for(T=0;T<x;++T)n($,te,ke,M,h),pe=$,le=te,te+=h,M+=h;u.rc=pe,u.Vc=le}else{if(t(F.mc!=null),h=y+x,t((T=F.mc)!=null),t(h<=T.i),T.C>=h)h=1;else if(F.ic||ue(),F.ic){F=T.V,pe=T.Ba,le=T.c;var ve=T.i,ne=(ke=1,M=T.$/le,$=T.$%le,te=T.m,fe=T.s,T.$),ae=le*ve,Ne=le*h,Ce=fe.wc,Se=ne<Ne?Ke(fe,$,M):null;t(ne<=ae),t(h<=ve),t(rt(fe));t:for(;;){for(;!te.h&&ne<Ne;){if($&Ce||(Se=Ke(fe,$,M)),t(Se!=null),Y(te),256>(ve=He(Se.G[0],Se.H[0],te)))F[pe+ne]=ve,++ne,++$>=le&&($=0,++M<=h&&!(M%16)&&$t(T,M));else{if(!(280>ve)){ke=0;break t}ve=_e(ve-256,te);var Ge,qe=He(Se.G[4],Se.H[4],te);if(Y(te),!(ne>=(qe=De(le,qe=_e(qe,te)))&&ae-ne>=ve)){ke=0;break t}for(Ge=0;Ge<ve;++Ge)F[pe+ne+Ge]=F[pe+ne+Ge-qe];for(ne+=ve,$+=ve;$>=le;)$-=le,++M<=h&&!(M%16)&&$t(T,M);ne<Ne&&$&Ce&&(Se=Ke(fe,$,M))}t(te.h==L(te))}$t(T,M>h?h:M);break t}!ke||te.h&&ne<ae?(ke=0,T.a=te.h?5:3):T.$=ne,h=ke}else h=Cr(T,T.V,T.Ba,T.c,T.i,h,Is);if(!h){x=0;break e}}y+x>=P&&(u.Cc=1),x=1}if(!x)return null;if(u.Cc&&((x=u.ga)!=null&&(x.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+y*k}function v(u,h,y,x,k,P){for(;0<k--;){var T,F=u,M=h+(y?1:0),$=u,te=h+(y?0:3);for(T=0;T<x;++T){var fe=$[te+4*T];fe!=255&&(fe*=32897,F[M+4*T+0]=F[M+4*T+0]*fe>>23,F[M+4*T+1]=F[M+4*T+1]*fe>>23,F[M+4*T+2]=F[M+4*T+2]*fe>>23)}h+=P}}function A(u,h,y,x,k){for(;0<x--;){var P;for(P=0;P<y;++P){var T=u[h+2*P+0],F=15&($=u[h+2*P+1]),M=4369*F,$=(240&$|$>>4)*M>>16;u[h+2*P+0]=(240&T|T>>4)*M>>16&240|(15&T|T<<4)*M>>16>>4&15,u[h+2*P+1]=240&$|F}h+=k}}function H(u,h,y,x,k,P,T,F){var M,$,te=255;for($=0;$<k;++$){for(M=0;M<x;++M){var fe=u[h+M];P[T+4*M]=fe,te&=fe}h+=y,T+=F}return te!=255}function Z(u,h,y,x,k){var P;for(P=0;P<k;++P)y[x+P]=u[h+P]>>8}function ue(){Qn=v,Wt=A,Gt=H,mr=Z}function be(u,h,y){I[u]=function(x,k,P,T,F,M,$,te,fe,pe,le,ke,ve,ne,ae,Ne,Ce){var Se,Ge=Ce-1>>1,qe=F[M+0]|$[te+0]<<16,lt=fe[pe+0]|le[ke+0]<<16;t(x!=null);var Ve=3*qe+lt+131074>>2;for(h(x[k+0],255&Ve,Ve>>16,ve,ne),P!=null&&(Ve=3*lt+qe+131074>>2,h(P[T+0],255&Ve,Ve>>16,ae,Ne)),Se=1;Se<=Ge;++Se){var Dt=F[M+Se]|$[te+Se]<<16,Mt=fe[pe+Se]|le[ke+Se]<<16,Ot=qe+Dt+lt+Mt+524296,Pt=Ot+2*(Dt+lt)>>3;Ve=Pt+qe>>1,qe=(Ot=Ot+2*(qe+Mt)>>3)+Dt>>1,h(x[k+2*Se-1],255&Ve,Ve>>16,ve,ne+(2*Se-1)*y),h(x[k+2*Se-0],255&qe,qe>>16,ve,ne+(2*Se-0)*y),P!=null&&(Ve=Ot+lt>>1,qe=Pt+Mt>>1,h(P[T+2*Se-1],255&Ve,Ve>>16,ae,Ne+(2*Se-1)*y),h(P[T+2*Se+0],255&qe,qe>>16,ae,Ne+(2*Se+0)*y)),qe=Dt,lt=Mt}1&Ce||(Ve=3*qe+lt+131074>>2,h(x[k+Ce-1],255&Ve,Ve>>16,ve,ne+(Ce-1)*y),P!=null&&(Ve=3*lt+qe+131074>>2,h(P[T+Ce-1],255&Ve,Ve>>16,ae,Ne+(Ce-1)*y)))}}function Ee(){Zn[Eu]=z_,Zn[Pu]=w0,Zn[g0]=$_,Zn[Lu]=x0,Zn[Tu]=N0,Zn[_f]=S0,Zn[v0]=V_,Zn[wf]=w0,Zn[xf]=x0,Zn[Iu]=N0,Zn[Nf]=S0}function We(u){return u&-16384?0>u?0:255:u>>H_}function at(u,h){return We((19077*u>>8)+(26149*h>>8)-14234)}function xt(u,h,y){return We((19077*u>>8)-(6419*h>>8)-(13320*y>>8)+8708)}function bt(u,h){return We((19077*u>>8)+(33050*h>>8)-17685)}function Tt(u,h,y,x,k){x[k+0]=at(u,y),x[k+1]=xt(u,h,y),x[k+2]=bt(u,h)}function nr(u,h,y,x,k){x[k+0]=bt(u,h),x[k+1]=xt(u,h,y),x[k+2]=at(u,y)}function cr(u,h,y,x,k){var P=xt(u,h,y);h=P<<3&224|bt(u,h)>>3,x[k+0]=248&at(u,y)|P>>5,x[k+1]=h}function wr(u,h,y,x,k){var P=240&bt(u,h)|15;x[k+0]=240&at(u,y)|xt(u,h,y)>>4,x[k+1]=P}function Xr(u,h,y,x,k){x[k+0]=255,Tt(u,h,y,x,k+1)}function Rr(u,h,y,x,k){nr(u,h,y,x,k),x[k+3]=255}function fs(u,h,y,x,k){Tt(u,h,y,x,k),x[k+3]=255}function En(u,h){return 0>u?0:u>h?h:u}function Fs(u,h,y){I[u]=function(x,k,P,T,F,M,$,te,fe){for(var pe=te+(-2&fe)*y;te!=pe;)h(x[k+0],P[T+0],F[M+0],$,te),h(x[k+1],P[T+0],F[M+0],$,te+y),k+=2,++T,++M,te+=2*y;1&fe&&h(x[k+0],P[T+0],F[M+0],$,te)}}function xu(u,h,y){return y==0?u==0?h==0?6:5:h==0?4:0:y}function Fl(u,h,y,x,k){switch(u>>>30){case 3:ei(h,y,x,k,0);break;case 2:pr(h,y,x,k);break;case 1:un(h,y,x,k)}}function Dl(u,h){var y,x,k=h.M,P=h.Nb,T=u.oc,F=u.pc+40,M=u.oc,$=u.pc+584,te=u.oc,fe=u.pc+600;for(y=0;16>y;++y)T[F+32*y-1]=129;for(y=0;8>y;++y)M[$+32*y-1]=129,te[fe+32*y-1]=129;for(0<k?T[F-1-32]=M[$-1-32]=te[fe-1-32]=129:(s(T,F-32-1,127,21),s(M,$-32-1,127,9),s(te,fe-32-1,127,9)),x=0;x<u.za;++x){var pe=h.ya[h.aa+x];if(0<x){for(y=-1;16>y;++y)n(T,F+32*y-4,T,F+32*y+12,4);for(y=-1;8>y;++y)n(M,$+32*y-4,M,$+32*y+4,4),n(te,fe+32*y-4,te,fe+32*y+4,4)}var le=u.Gd,ke=u.Hd+x,ve=pe.ad,ne=pe.Hc;if(0<k&&(n(T,F-32,le[ke].y,0,16),n(M,$-32,le[ke].f,0,8),n(te,fe-32,le[ke].ea,0,8)),pe.Za){var ae=T,Ne=F-32+16;for(0<k&&(x>=u.za-1?s(ae,Ne,le[ke].y[15],4):n(ae,Ne,le[ke+1].y,0,4)),y=0;4>y;y++)ae[Ne+128+y]=ae[Ne+256+y]=ae[Ne+384+y]=ae[Ne+0+y];for(y=0;16>y;++y,ne<<=2)ae=T,Ne=F+k0[y],ps[pe.Ob[y]](ae,Ne),Fl(ne,ve,16*+y,ae,Ne)}else if(ae=xu(x,k,pe.Ob[0]),Ai[ae](T,F),ne!=0)for(y=0;16>y;++y,ne<<=2)Fl(ne,ve,16*+y,T,F+k0[y]);for(y=pe.Gc,ae=xu(x,k,pe.Dd),ri[ae](M,$),ri[ae](te,fe),ne=ve,ae=M,Ne=$,255&(pe=y>>0)&&(170&pe?zl(ne,256,ae,Ne):Kn(ne,256,ae,Ne)),pe=te,ne=fe,255&(y>>=8)&&(170&y?zl(ve,320,pe,ne):Kn(ve,320,pe,ne)),k<u.Ub-1&&(n(le[ke].y,0,T,F+480,16),n(le[ke].f,0,M,$+224,8),n(le[ke].ea,0,te,fe+224,8)),y=8*P*u.B,le=u.sa,ke=u.ta+16*x+16*P*u.R,ve=u.qa,pe=u.ra+8*x+y,ne=u.Ha,ae=u.Ia+8*x+y,y=0;16>y;++y)n(le,ke+y*u.R,T,F+32*y,16);for(y=0;8>y;++y)n(ve,pe+y*u.B,M,$+32*y,8),n(ne,ae+y*u.B,te,fe+32*y,8)}}function ao(u,h,y,x,k,P,T,F,M){var $=[0],te=[0],fe=0,pe=M!=null?M.kd:0,le=M??new Tl;if(u==null||12>y)return 7;le.data=u,le.w=h,le.ha=y,h=[h],y=[y],le.gb=[le.gb];e:{var ke=h,ve=y,ne=le.gb;if(t(u!=null),t(ve!=null),t(ne!=null),ne[0]=0,12<=ve[0]&&!r(u,ke[0],"RIFF")){if(r(u,ke[0]+8,"WEBP")){ne=3;break e}var ae=Fe(u,ke[0]+4);if(12>ae||4294967286<ae){ne=3;break e}if(pe&&ae>ve[0]-8){ne=7;break e}ne[0]=ae,ke[0]+=12,ve[0]-=12}ne=0}if(ne!=0)return ne;for(ae=0<le.gb[0],y=y[0];;){e:{var Ne=u;ve=h,ne=y;var Ce=$,Se=te,Ge=ke=[0];if((Ve=fe=[fe])[0]=0,8>ne[0])ne=7;else{if(!r(Ne,ve[0],"VP8X")){if(Fe(Ne,ve[0]+4)!=10){ne=3;break e}if(18>ne[0]){ne=7;break e}var qe=Fe(Ne,ve[0]+8),lt=1+Me(Ne,ve[0]+12);if(2147483648<=lt*(Ne=1+Me(Ne,ve[0]+15))){ne=3;break e}Ge!=null&&(Ge[0]=qe),Ce!=null&&(Ce[0]=lt),Se!=null&&(Se[0]=Ne),ve[0]+=18,ne[0]-=18,Ve[0]=1}ne=0}}if(fe=fe[0],ke=ke[0],ne!=0)return ne;if(ve=!!(2&ke),!ae&&fe)return 3;if(P!=null&&(P[0]=!!(16&ke)),T!=null&&(T[0]=ve),F!=null&&(F[0]=0),T=$[0],ke=te[0],fe&&ve&&M==null){ne=0;break}if(4>y){ne=7;break}if(ae&&fe||!ae&&!fe&&!r(u,h[0],"ALPH")){y=[y],le.na=[le.na],le.P=[le.P],le.Sa=[le.Sa];e:{qe=u,ne=h,ae=y;var Ve=le.gb;Ce=le.na,Se=le.P,Ge=le.Sa,lt=22,t(qe!=null),t(ae!=null),Ne=ne[0];var Dt=ae[0];for(t(Ce!=null),t(Ge!=null),Ce[0]=null,Se[0]=null,Ge[0]=0;;){if(ne[0]=Ne,ae[0]=Dt,8>Dt){ne=7;break e}var Mt=Fe(qe,Ne+4);if(4294967286<Mt){ne=3;break e}var Ot=8+Mt+1&-2;if(lt+=Ot,0<Ve&&lt>Ve){ne=3;break e}if(!r(qe,Ne,"VP8 ")||!r(qe,Ne,"VP8L")){ne=0;break e}if(Dt[0]<Ot){ne=7;break e}r(qe,Ne,"ALPH")||(Ce[0]=qe,Se[0]=Ne+8,Ge[0]=Mt),Ne+=Ot,Dt-=Ot}}if(y=y[0],le.na=le.na[0],le.P=le.P[0],le.Sa=le.Sa[0],ne!=0)break}y=[y],le.Ja=[le.Ja],le.xa=[le.xa];e:if(Ve=u,ne=h,ae=y,Ce=le.gb[0],Se=le.Ja,Ge=le.xa,qe=ne[0],Ne=!r(Ve,qe,"VP8 "),lt=!r(Ve,qe,"VP8L"),t(Ve!=null),t(ae!=null),t(Se!=null),t(Ge!=null),8>ae[0])ne=7;else{if(Ne||lt){if(Ve=Fe(Ve,qe+4),12<=Ce&&Ve>Ce-12){ne=3;break e}if(pe&&Ve>ae[0]-8){ne=7;break e}Se[0]=Ve,ne[0]+=8,ae[0]-=8,Ge[0]=lt}else Ge[0]=5<=ae[0]&&Ve[qe+0]==47&&!(Ve[qe+4]>>5),Se[0]=ae[0];ne=0}if(y=y[0],le.Ja=le.Ja[0],le.xa=le.xa[0],h=h[0],ne!=0)break;if(4294967286<le.Ja)return 3;if(F==null||ve||(F[0]=le.xa?2:1),T=[T],ke=[ke],le.xa){if(5>y){ne=7;break}F=T,pe=ke,ve=P,u==null||5>y?u=0:5<=y&&u[h+0]==47&&!(u[h+4]>>5)?(ae=[0],Ve=[0],Ce=[0],W(Se=new C,u,h,y),ct(Se,ae,Ve,Ce)?(F!=null&&(F[0]=ae[0]),pe!=null&&(pe[0]=Ve[0]),ve!=null&&(ve[0]=Ce[0]),u=1):u=0):u=0}else{if(10>y){ne=7;break}F=ke,u==null||10>y||!au(u,h+3,y-3)?u=0:(pe=u[h+0]|u[h+1]<<8|u[h+2]<<16,ve=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=le.Ja||!ve||!u?u=0:(T&&(T[0]=ve),F&&(F[0]=u),u=1))}if(!u||(T=T[0],ke=ke[0],fe&&($[0]!=T||te[0]!=ke)))return 3;M!=null&&(M[0]=le,M.offset=h-M.w,t(4294967286>h-M.w),t(M.offset==M.ha-y));break}return ne==0||ne==7&&fe&&M==null?(P!=null&&(P[0]|=le.na!=null&&0<le.na.length),x!=null&&(x[0]=T),k!=null&&(k[0]=ke),0):ne}function Ml(u,h,y){var x=h.width,k=h.height,P=0,T=0,F=x,M=k;if(h.Da=u!=null&&0<u.Da,h.Da&&(F=u.cd,M=u.bd,P=u.v,T=u.j,11>y||(P&=-2,T&=-2),0>P||0>T||0>=F||0>=M||P+F>x||T+M>k))return 0;if(h.v=P,h.j=T,h.va=P+F,h.o=T+M,h.U=F,h.T=M,h.da=u!=null&&0<u.da,h.da){if(!ft(F,M,y=[u.ib],P=[u.hb]))return 0;h.ib=y[0],h.hb=P[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*x/4&&h.hb<3*k/4,h.Kb=0),1}function Bl(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function oo(u,h,y,x){if(x==null||0>=u||0>=h)return 2;if(y!=null){if(y.Da){var k=y.cd,P=y.bd,T=-2&y.v,F=-2&y.j;if(0>T||0>F||0>=k||0>=P||T+k>u||F+P>h)return 2;u=k,h=P}if(y.da){if(!ft(u,h,k=[y.ib],P=[y.hb]))return 2;u=k[0],h=P[0]}}x.width=u,x.height=h;e:{var M=x.width,$=x.height;if(u=x.S,0>=M||0>=$||!(u>=Eu&&13>u))u=2;else{if(0>=x.Rd&&x.sd==null){T=P=k=h=0;var te=(F=M*A0[u])*$;if(11>u||(P=($+1)/2*(h=(M+1)/2),u==12&&(T=(k=M)*$)),($=i(te+2*P+T))==null){u=1;break e}x.sd=$,11>u?((M=x.f.RGBA).eb=$,M.fb=0,M.A=F,M.size=te):((M=x.f.kb).y=$,M.O=0,M.fa=F,M.Fd=te,M.f=$,M.N=0+te,M.Ab=h,M.Cd=P,M.ea=$,M.W=0+te+P,M.Db=h,M.Ed=P,u==12&&(M.F=$,M.J=0+te+2*P),M.Tc=T,M.lb=k)}if(h=1,k=x.S,P=x.width,T=x.height,k>=Eu&&13>k)if(11>k)u=x.f.RGBA,h&=(F=Math.abs(u.A))*(T-1)+P<=u.size,h&=F>=P*A0[k],h&=u.eb!=null;else{u=x.f.kb,F=(P+1)/2,te=(T+1)/2,M=Math.abs(u.fa),$=Math.abs(u.Ab);var fe=Math.abs(u.Db),pe=Math.abs(u.lb),le=pe*(T-1)+P;h&=M*(T-1)+P<=u.Fd,h&=$*(te-1)+F<=u.Cd,h=(h&=fe*(te-1)+F<=u.Ed)&M>=P&$>=F&fe>=F,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,k==12&&(h&=pe>=P,h&=le<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||y!=null&&y.fd&&(u=Bl(x)),u}var $r=64,lo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],co=24,uo=32,Ul=8,yn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Oe("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(u){return u},I.Predictor2=function(u,h,y){return h[y+0]},I.Predictor3=function(u,h,y){return h[y+1]},I.Predictor4=function(u,h,y){return h[y-1]},I.Predictor5=function(u,h,y){return Ue(Ue(u,h[y+1]),h[y+0])},I.Predictor6=function(u,h,y){return Ue(u,h[y-1])},I.Predictor7=function(u,h,y){return Ue(u,h[y+0])},I.Predictor8=function(u,h,y){return Ue(h[y-1],h[y+0])},I.Predictor9=function(u,h,y){return Ue(h[y+0],h[y+1])},I.Predictor10=function(u,h,y){return Ue(Ue(u,h[y-1]),Ue(h[y+0],h[y+1]))},I.Predictor11=function(u,h,y){var x=h[y+0];return 0>=yt(x>>24&255,u>>24&255,(h=h[y-1])>>24&255)+yt(x>>16&255,u>>16&255,h>>16&255)+yt(x>>8&255,u>>8&255,h>>8&255)+yt(255&x,255&u,255&h)?x:u},I.Predictor12=function(u,h,y){var x=h[y+0];return(tt((u>>24&255)+(x>>24&255)-((h=h[y-1])>>24&255))<<24|tt((u>>16&255)+(x>>16&255)-(h>>16&255))<<16|tt((u>>8&255)+(x>>8&255)-(h>>8&255))<<8|tt((255&u)+(255&x)-(255&h)))>>>0},I.Predictor13=function(u,h,y){var x=h[y-1];return(pt((u=Ue(u,h[y+0]))>>24&255,x>>24&255)<<24|pt(u>>16&255,x>>16&255)<<16|pt(u>>8&255,x>>8&255)<<8|pt(u>>0&255,x>>0&255))>>>0};var yf=I.PredictorAdd0;I.PredictorAdd1=Nt,Oe("Predictor2","PredictorAdd2"),Oe("Predictor3","PredictorAdd3"),Oe("Predictor4","PredictorAdd4"),Oe("Predictor5","PredictorAdd5"),Oe("Predictor6","PredictorAdd6"),Oe("Predictor7","PredictorAdd7"),Oe("Predictor8","PredictorAdd8"),Oe("Predictor9","PredictorAdd9"),Oe("Predictor10","PredictorAdd10"),Oe("Predictor11","PredictorAdd11"),Oe("Predictor12","PredictorAdd12"),Oe("Predictor13","PredictorAdd13");var ql=I.PredictorAdd2;st("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),st("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Nu,Yn=I.ColorIndexInverseTransform,ho=I.MapARGB,Su=I.VP8LColorIndexInverseTransformAlpha,ju=I.MapAlpha,Ni=I.VP8LPredictorsAdd=[];Ni.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var va,bn,cn,Si,Xs,Zs,fo,ei,pr,zl,un,Kn,po,ku,$l,ya,ba,ji,_a,mo,wa,ki,Vl,Jn,Qn,Wt,Gt,mr,Pr=i(511),ti=i(2041),Hl=i(225),go=i(767),Au=0,bf=ti,Cu=Hl,Pn=go,Xn=Pr,Eu=0,Pu=1,g0=2,Lu=3,Tu=4,_f=5,v0=6,wf=7,xf=8,Iu=9,Nf=10,C_=[2,3,7],E_=[3,3,11],y0=[280,256,256,256,40],P_=[0,1,1,1,0],L_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],T_=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],I_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],O_=8,Sf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],jf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Wl=null,R_=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],F_=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],b0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],D_=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],M_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],B_=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],U_=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ai=[],ps=[],ri=[],q_=1,_0=2,Ci=[],Zn=[];be("UpsampleRgbLinePair",Tt,3),be("UpsampleBgrLinePair",nr,3),be("UpsampleRgbaLinePair",fs,4),be("UpsampleBgraLinePair",Rr,4),be("UpsampleArgbLinePair",Xr,4),be("UpsampleRgba4444LinePair",wr,2),be("UpsampleRgb565LinePair",cr,2);var z_=I.UpsampleRgbLinePair,$_=I.UpsampleBgrLinePair,w0=I.UpsampleRgbaLinePair,x0=I.UpsampleBgraLinePair,N0=I.UpsampleArgbLinePair,S0=I.UpsampleRgba4444LinePair,V_=I.UpsampleRgb565LinePair,Ou=16,Ru=1<<Ou-1,Gl=-227,kf=482,H_=6,j0=0,W_=i(256),G_=i(256),Y_=i(256),K_=i(256),J_=i(kf-Gl),Q_=i(kf-Gl);Fs("YuvToRgbRow",Tt,3),Fs("YuvToBgrRow",nr,3),Fs("YuvToRgbaRow",fs,4),Fs("YuvToBgraRow",Rr,4),Fs("YuvToArgbRow",Xr,4),Fs("YuvToRgba4444Row",wr,2),Fs("YuvToRgb565Row",cr,2);var k0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Fu=[0,2,8],X_=[8,7,6,4,4,2,2,2,1,1,1,1],Z_=1;this.WebPDecodeRGBA=function(u,h,y,x,k){var P=Pu,T=new so,F=new Cn;T.ba=F,F.S=P,F.width=[F.width],F.height=[F.height];var M=F.width,$=F.height,te=new ls;if(te==null||u==null)var fe=2;else t(te!=null),fe=ao(u,h,y,te.width,te.height,te.Pd,te.Qd,te.format,null);if(fe!=0?M=0:(M!=null&&(M[0]=te.width[0]),$!=null&&($[0]=te.height[0]),M=1),M){F.width=F.width[0],F.height=F.height[0],x!=null&&(x[0]=F.width),k!=null&&(k[0]=F.height);e:{if(x=new Qa,(k=new Tl).data=u,k.w=h,k.ha=y,k.kd=1,h=[0],t(k!=null),((u=ao(k.data,k.w,k.ha,null,null,null,h,null,k))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(t(T!=null),x.data=k.data,x.w=k.w+k.offset,x.ha=k.ha-k.offset,x.put=Hn,x.ac=Ar,x.bc=Wn,x.ma=T,k.xa){if((u=lr())==null){T=1;break e}if(function(pe,le){var ke=[0],ve=[0],ne=[0];t:for(;;){if(pe==null)return 0;if(le==null)return pe.a=2,0;if(pe.l=le,pe.a=0,W(pe.m,le.data,le.w,le.ha),!ct(pe.m,ke,ve,ne)){pe.a=3;break t}if(pe.xb=_0,le.width=ke[0],le.height=ve[0],!Er(ke[0],ve[0],1,pe,null))break t;return 1}return t(pe.a!=0),0}(u,x)){if(x=(h=oo(x.width,x.height,T.Oa,T.ba))==0){t:{x=u;r:for(;;){if(x==null){x=0;break t}if(t(x.s.yc!=null),t(x.s.Ya!=null),t(0<x.s.Wb),t((y=x.l)!=null),t((k=y.ma)!=null),x.xb!=0){if(x.ca=k.ba,x.tb=k.tb,t(x.ca!=null),!Ml(k.Oa,y,Lu)){x.a=2;break r}if(!Gn(x,y.width)||y.da)break r;if((y.da||It(x.ca.S))&&ue(),11>x.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),x.ca.f.kb.F!=null&&ue()),x.Pb&&0<x.s.ua&&x.s.vb.X==null&&!ot(x.s.vb,x.s.Wa.Xa)){x.a=1;break r}x.xb=0}if(!Cr(x,x.V,x.Ba,x.c,x.i,y.o,Be))break r;k.Dc=x.Ma,x=1;break t}t(x.a!=0),x=0}x=!x}x&&(h=u.a)}else h=u.a}else{if((u=new Xh)==null){T=1;break e}if(u.Fa=k.na,u.P=k.P,u.qc=k.Sa,ou(u,x)){if((h=oo(x.width,x.height,T.Oa,T.ba))==0){if(u.Aa=0,y=T.Oa,t((k=u)!=null),y!=null){if(0<(M=0>(M=y.Md)?0:100<M?255:255*M/100)){for($=te=0;4>$;++$)12>(fe=k.pb[$]).lc&&(fe.ia=M*X_[0>fe.lc?0:fe.lc]>>3),te|=fe.ia;te&&(alert("todo:VP8InitRandom"),k.ia=1)}k.Ga=y.Id,100<k.Ga?k.Ga=100:0>k.Ga&&(k.Ga=0)}Zh(u,x)||(h=u.a)}}else h=u.a}h==0&&T.Oa!=null&&T.Oa.fd&&(h=Bl(T.ba))}T=h}P=T!=0?null:11>P?F.f.RGBA.eb:F.f.kb.y}else P=null;return P};var A0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(I,U){for(var q="",E=0;E<4;E++)q+=String.fromCharCode(I[U++]);return q}function f(I,U){return(I[U+0]<<0|I[U+1]<<8|I[U+2]<<16)>>>0}function m(I,U){return(I[U+0]<<0|I[U+1]<<8|I[U+2]<<16|I[U+3]<<24)>>>0}new o;var g=[0],p=[0],b=[],N=new o,j=e,_=function(I,U){var q={},E=0,O=!1,Q=0,K=0;if(q.frames=[],!function(z,L,V,Y){for(var ie=0;ie<Y;ie++)if(z[L+ie]!=V.charCodeAt(ie))return!0;return!1}(I,U,"RIFF",4)){var G,re;for(m(I,U+=4),U+=8;U<I.length;){var de=d(I,U),W=m(I,U+=4);U+=4;var se=W+(1&W);switch(de){case"VP8 ":case"VP8L":q.frames[E]===void 0&&(q.frames[E]={}),(C=q.frames[E]).src_off=O?K:U-8,C.src_size=Q+W+8,E++,O&&(O=!1,Q=0,K=0);break;case"VP8X":(C=q.header={}).feature_flags=I[U];var ce=U+4;C.canvas_width=1+f(I,ce),ce+=3,C.canvas_height=1+f(I,ce),ce+=3;break;case"ALPH":O=!0,Q=se+8,K=U-8;break;case"ANIM":(C=q.header).bgcolor=m(I,U),ce=U+4,C.loop_count=(G=I)[(re=ce)+0]<<0|G[re+1]<<8,ce+=2;break;case"ANMF":var we,C;(C=q.frames[E]={}).offset_x=2*f(I,U),U+=3,C.offset_y=2*f(I,U),U+=3,C.width=1+f(I,U),U+=3,C.height=1+f(I,U),U+=3,C.duration=f(I,U),U+=3,we=I[U++],C.dispose=1&we,C.blend=we>>1&1}de!="ANMF"&&(U+=se)}return q}}(j,0);_.response=j,_.rgbaoutput=!0,_.dataurl=!1;var w=_.header?_.header:null,S=_.frames?_.frames:null;if(w){w.loop_counter=w.loop_count,g=[w.canvas_height],p=[w.canvas_width];for(var D=0;D<S.length&&S[D].blend!=0;D++);}var B=S[0],ee=N.WebPDecodeRGBA(j,B.src_off,B.src_size,p,g);B.rgba=ee,B.imgwidth=p[0],B.imgheight=g[0];for(var R=0;R<p[0]*g[0]*4;R++)b[R]=ee[R];return this.width=p,this.height=g,this.data=b,this}(function(e){var t=function(){return typeof Km=="function"},r=function(g,p,b,N){var j=4,_=a;switch(N){case e.image_compression.FAST:j=1,_=i;break;case e.image_compression.MEDIUM:j=6,_=l;break;case e.image_compression.SLOW:j=9,_=o}g=n(g,p,b,_);var w=Km(g,{level:j});return e.__addimage__.arrayBufferToBinaryString(w)},n=function(g,p,b,N){for(var j,_,w,S=g.length/p,D=new Uint8Array(g.length+S),B=f(),ee=0;ee<S;ee+=1){if(w=ee*p,j=g.subarray(w,w+p),N)D.set(N(j,b,_),w+ee);else{for(var R,I=B.length,U=[];R<I;R+=1)U[R]=B[R](j,b,_);var q=m(U.concat());D.set(U[q],w+ee)}_=j}return D},s=function(g){var p=Array.apply([],g);return p.unshift(0),p},i=function(g,p){var b,N=[],j=g.length;N[0]=1;for(var _=0;_<j;_+=1)b=g[_-p]||0,N[_+1]=g[_]-b+256&255;return N},a=function(g,p,b){var N,j=[],_=g.length;j[0]=2;for(var w=0;w<_;w+=1)N=b&&b[w]||0,j[w+1]=g[w]-N+256&255;return j},l=function(g,p,b){var N,j,_=[],w=g.length;_[0]=3;for(var S=0;S<w;S+=1)N=g[S-p]||0,j=b&&b[S]||0,_[S+1]=g[S]+256-(N+j>>>1)&255;return _},o=function(g,p,b){var N,j,_,w,S=[],D=g.length;S[0]=4;for(var B=0;B<D;B+=1)N=g[B-p]||0,j=b&&b[B]||0,_=b&&b[B-p]||0,w=d(N,j,_),S[B+1]=g[B]-w+256&255;return S},d=function(g,p,b){if(g===p&&p===b)return g;var N=Math.abs(p-b),j=Math.abs(g-b),_=Math.abs(g+p-b-b);return N<=j&&N<=_?g:j<=_?p:b},f=function(){return[s,i,a,l,o]},m=function(g){var p=g.map(function(b){return b.reduce(function(N,j){return N+Math.abs(j)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(g,p,b,N){var j,_,w,S,D,B,ee,R,I,U,q,E,O,Q,K,G=this.decode.FLATE_DECODE,re="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(w=new M6(g)).imgData,_=w.bits,j=w.colorSpace,D=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){I=(R=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,q=new Uint8Array(I*w.colors),U=new Uint8Array(I);var de,W=w.pixelBitlength-w.bits;for(Q=0,K=0;Q<I;Q++){for(O=R[Q],de=0;de<W;)q[K++]=O>>>de&255,de+=w.bits;U[Q]=O>>>de&255}}if(w.bits===16){I=(R=new Uint32Array(w.decodePixels().buffer)).length,q=new Uint8Array(I*(32/w.pixelBitlength)*w.colors),U=new Uint8Array(I*(32/w.pixelBitlength)),E=w.colors>1,Q=0,K=0;for(var se=0;Q<I;)O=R[Q++],q[K++]=O>>>0&255,E&&(q[K++]=O>>>16&255,O=R[Q++],q[K++]=O>>>0&255),U[se++]=O>>>16&255;_=8}N!==e.image_compression.NONE&&t()?(g=r(q,w.width*w.colors,w.colors,N),ee=r(U,w.width,1,N)):(g=q,ee=U,G=void 0)}if(w.colorType===3&&(j=this.color_spaces.INDEXED,B=w.palette,w.transparency.indexed)){var ce=w.transparency.indexed,we=0;for(Q=0,I=ce.length;Q<I;++Q)we+=ce[Q];if((we/=255)===I-1&&ce.indexOf(0)!==-1)S=[ce.indexOf(0)];else if(we!==I){for(R=w.decodePixels(),U=new Uint8Array(R.length),Q=0,I=R.length;Q<I;Q++)U[Q]=ce[R[Q]];ee=r(U,w.width,1)}}var C=function(z){var L;switch(z){case e.image_compression.FAST:L=11;break;case e.image_compression.MEDIUM:L=13;break;case e.image_compression.SLOW:L=14;break;default:L=12}return L}(N);return G===this.decode.FLATE_DECODE&&(re="/Predictor "+C+" "),re+="/Colors "+D+" /BitsPerComponent "+_+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(ee&&this.__addimage__.isArrayBuffer(ee)||this.__addimage__.isArrayBufferView(ee))&&(ee=this.__addimage__.arrayBufferToBinaryString(ee)),{alias:b,data:g,index:p,filter:G,decodeParameters:re,transparency:S,palette:B,sMask:ee,predictor:C,width:w.width,height:w.height,bitsPerComponent:_,colorSpace:j}}}})(ut.API),function(e){e.processGIF89A=function(t,r,n,s){var i=new B6(t),a=i.width,l=i.height,o=[];i.decodeAndBlitFrameRGBA(0,o);var d={data:o,width:a,height:l},f=new Lp(100).encode(d,100);return e.processJPEG.call(this,f,r,n,s)},e.processGIF87A=e.processGIF89A}(ut.API),ys.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ys.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Ht.log("bit decode error:"+r)}},ys.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var o=this.palette[i>>7-l&1];this.data[a+4*l]=o.blue,this.data[a+4*l+1]=o.green,this.data[a+4*l+2]=o.red,this.data[a+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ys.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,l=i>>4,o=15&i,d=this.palette[l];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*s+1>=this.width)break;d=this.palette[o],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},ys.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ys.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,o=(i>>10&t)/t*255|0,d=i>>15?255:0,f=n*this.width*4+4*s;this.data[f]=o,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=d}this.pos+=e}},ys.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,o=(a>>5&r)/r*255|0,d=(a>>11)/t*255|0,f=s*this.width*4+4*i;this.data[f]=d,this.data[f+1]=o,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},ys.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},ys.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=a}},ys.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var i=new ys(t,!1),a=i.width,l=i.height,o={data:i.getData(),width:a,height:l},d=new Lp(100).encode(o,100);return e.processJPEG.call(this,d,r,n,s)}}(ut.API),o2.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var i=new o2(t),a=i.width,l=i.height,o={data:i.getData(),width:a,height:l},d=new Lp(100).encode(o,100);return e.processJPEG.call(this,d,r,n,s)}}(ut.API),ut.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),l=0,o=0,d=0;d<s;d+=4){var f=n[d],m=n[d+1],g=n[d+2],p=n[d+3];i[l++]=f,i[l++]=m,i[l++]=g,a[o++]=p}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:b,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ut.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Co=ut.API,kd=Co.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,o=l.fof?l.fof:1,d=t.kerning?t.kerning:s.metadata.Unicode.kerning,f=d.fof?d.fof:1,m=t.doKerning!==!1,g=0,p=e.length,b=0,N=l[0]||o,j=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?j.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(g=m&&Ut(d[n])==="object"&&!isNaN(parseInt(d[n][b],10))?d[n][b]/f:0,j.push((l[n]||N)/o+g)),b=n;return j},n2=Co.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Co.processArabic&&(e=Co.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:kd.apply(this,arguments).reduce(function(i,a){return i+a},0)},s2=function(e,t,r,n){for(var s=[],i=0,a=e.length,l=0;i!==a&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var o=i;for(l=0;i!==a;)l+t[i]>n&&(s.push(e.slice(o,i)),l=0,o=i),l+=t[i],i++;return o!==i&&s.push(e.slice(o,i)),s},i2=function(e,t,r){r||(r={});var n,s,i,a,l,o,d,f=[],m=[f],g=r.textIndent||0,p=0,b=0,N=e.split(" "),j=kd.apply(this,[" ",r])[0];if(o=r.lineIndent===-1?N[0].length+2:r.lineIndent||0){var _=Array(o).join(" "),w=[];N.map(function(D){(D=D.split(/\s*\n/)).length>1?w=w.concat(D.map(function(B,ee){return(ee&&B.length?`
`:"")+B})):w.push(D[0])}),N=w,o=n2.apply(this,[_,r])}for(i=0,a=N.length;i<a;i++){var S=0;if(n=N[i],o&&n[0]==`
`&&(n=n.substr(1),S=1),g+p+(b=(s=kd.apply(this,[n,r])).reduce(function(D,B){return D+B},0))>t||S){if(b>t){for(l=s2.apply(this,[n,s,t-(g+p),t]),f.push(l.shift()),f=[l.pop()];l.length;)m.push([l.shift()]);b=s.slice(n.length-(f[0]?f[0].length:0)).reduce(function(D,B){return D+B},0)}else f=[n];m.push(f),g=b+o,p=j}else f.push(n),g+=p+b,p=j}return d=o?function(D,B){return(B?_:"")+D.join(" ")}:function(D){return D.join(" ")},m.map(d)},Co.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,o,d=[];for(l=0,o=n.length;l<o;l++)d=d.concat(i2.apply(this,[n[l],a,i]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},s=0;s<t.length;s++)r[t[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=t[s];var i=function(m){return"0x"+parseInt(m,10).toString(16)},a=e.__fontmetrics__.compress=function(m){var g,p,b,N,j=["{"];for(var _ in m){if(g=m[_],isNaN(parseInt(_,10))?p="'"+_+"'":(_=parseInt(_,10),p=(p=i(_).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof g=="number")g<0?(b=i(g).slice(3),N="-"):(b=i(g).slice(2),N=""),b=N+b.slice(0,-1)+n[b.slice(-1)];else{if(Ut(g)!=="object")throw new Error("Don't know what to do with value type "+Ut(g)+".");b=a(g)}j.push(p+b)}return j.push("}"),j.join("")},l=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,p,b,N,j={},_=1,w=j,S=[],D="",B="",ee=m.length-1,R=1;R<ee;R+=1)(N=m[R])=="'"?g?(b=g.join(""),g=void 0):g=[]:g?g.push(N):N=="{"?(S.push([w,b]),w={},b=void 0):N=="}"?((p=S.pop())[0][p[1]]=w,b=void 0,w=p[0]):N=="-"?_=-1:b===void 0?r.hasOwnProperty(N)?(D+=r[N],b=parseInt(D,16)*_,_=1,D=""):D+=N:r.hasOwnProperty(N)?(B+=r[N],w[b]=parseInt(B,16)*_,_=1,b=void 0,B=""):B+=N;return j},o={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:o,"Courier-Bold":o,"Courier-BoldOblique":o,"Courier-Oblique":o,Helvetica:o,"Helvetica-Bold":o,"Helvetica-BoldOblique":o,"Helvetica-Oblique":o,"Times-Roman":o,"Times-Bold":o,"Times-BoldItalic":o,"Times-Italic":o}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var g=m.font,p=f.Unicode[g.postScriptName];p&&(g.metadata.Unicode={},g.metadata.Unicode.widths=p.widths,g.metadata.Unicode.kerning=p.kerning);var b=d.Unicode[g.postScriptName];b&&(g.metadata.Unicode.encoding=b,g.encoding=b.codePages[0])}])}(ut.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(jc(l)),a.metadata=e.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(ut),function(e){function t(){return(dt.canvg?Promise.resolve(dt.canvg):Vm(()=>import("./index.es-CwF0OJUp.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}ut.API.addSvgAsImage=function(r,n,s,i,a,l,o,d){if(isNaN(n)||isNaN(s))throw Ht.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Ht.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=a;var m=f.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(b){return b.fromString(m,r,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(g)}).then(function(){p.addImage(f.toDataURL("image/jpeg",1),n,s,i,a,o,d)})}}(),ut.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},ut.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),o=[],d=0,f=0,m=0;function g(b,N){var j,_=!1;for(j=0;j<b.length;j+=1)b[j]===N&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(m=0;m<p;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(Ut(e)==="object"){for(s in e)if(i=e[s],g(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&g(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")o.push(String(i[d]-1));else if(i[d].length>1){for(f=0;f<i[d].length;f+=1)typeof i[d][f]!="number"&&(n=!1);n===!0&&o.push([i[d][0]-1,i[d][1]-1].join(" "))}r[s].value="["+o.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,N=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?N.push("/"+b+" /"+r[b].value):N.push("/"+b+" "+r[b].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+a.length+l.length+s.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+l+o),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(ut.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,a){for(var l,o=a.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],m=0,g=i.length;m<g;++m){if(l=a.metadata.characterToGlyph(i.charCodeAt(m)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=i.charCodeAt(m),o.indexOf(l)==-1&&(o.push(l),o.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},n=function(i){var a,l,o,d,f,m,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,o=[],m=0,g=(l=Object.keys(i).sort(function(p,b){return p-b})).length;m<g;m++)a=l[m],o.length>=100&&(f+=`
`+o.length+` beginbfchar
`+o.join(`
`)+`
endbfchar`,o=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(d=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),o.push("<"+a+"><"+d+">"));return o.length&&(f+=`
`+o.length+` beginbfchar
`+o.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(a){var l=a.font,o=a.out,d=a.newObject,f=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",b=0;b<g.length;b++)p+=String.fromCharCode(g[b]);var N=d();f({data:p,addLength1:!0,objectId:N}),o("endobj");var j=d();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:j}),o("endobj");var _=d();o("<<"),o("/Type /FontDescriptor"),o("/FontName /"+To(l.fontName)),o("/FontFile2 "+N+" 0 R"),o("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),o("/Flags "+l.metadata.flags),o("/StemV "+l.metadata.stemV),o("/ItalicAngle "+l.metadata.italicAngle),o("/Ascent "+l.metadata.ascender),o("/Descent "+l.metadata.decender),o("/CapHeight "+l.metadata.capHeight),o(">>"),o("endobj");var w=d();o("<<"),o("/Type /Font"),o("/BaseFont /"+To(l.fontName)),o("/FontDescriptor "+_+" 0 R"),o("/W "+e.API.PDFObject.convert(m)),o("/CIDToGIDMap /Identity"),o("/DW 1000"),o("/Subtype /CIDFontType2"),o("/CIDSystemInfo"),o("<<"),o("/Supplement 0"),o("/Registry (Adobe)"),o("/Ordering ("+l.encoding+")"),o(">>"),o(">>"),o("endobj"),l.objectNumber=d(),o("<<"),o("/Type /Font"),o("/Subtype /Type0"),o("/ToUnicode "+j+" 0 R"),o("/BaseFont /"+To(l.fontName)),o("/Encoding /"+l.encoding),o("/DescendantFonts ["+w+" 0 R]"),o(">>"),o("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(a){var l=a.font,o=a.out,d=a.newObject,f=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,g="",p=0;p<m.length;p++)g+=String.fromCharCode(m[p]);var b=d();f({data:g,addLength1:!0,objectId:b}),o("endobj");var N=d();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:N}),o("endobj");var j=d();o("<<"),o("/Descent "+l.metadata.decender),o("/CapHeight "+l.metadata.capHeight),o("/StemV "+l.metadata.stemV),o("/Type /FontDescriptor"),o("/FontFile2 "+b+" 0 R"),o("/Flags 96"),o("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),o("/FontName /"+To(l.fontName)),o("/ItalicAngle "+l.metadata.italicAngle),o("/Ascent "+l.metadata.ascender),o(">>"),o("endobj"),l.objectNumber=d();for(var _=0;_<l.metadata.hmtx.widths.length;_++)l.metadata.hmtx.widths[_]=parseInt(l.metadata.hmtx.widths[_]*(1e3/l.metadata.head.unitsPerEm));o("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+To(l.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),o("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,l=i.text||"",o=i.x,d=i.y,f=i.options||{},m=i.mutex||{},g=m.pdfEscape,p=m.activeFontKey,b=m.fonts,N=p,j="",_=0,w="",S=b[N].encoding;if(b[N].encoding!=="Identity-H")return{text:l,x:o,y:d,options:f,mutex:m};for(w=l,N=p,Array.isArray(l)&&(w=l[0]),_=0;_<w.length;_+=1)b[N].metadata.hasOwnProperty("cmap")&&(a=b[N].metadata.cmap.unicode.codeMap[w[_].charCodeAt(0)]),a||w[_].charCodeAt(0)<256&&b[N].metadata.hasOwnProperty("Unicode")?j+=w[_]:j+="";var D="";return parseInt(N.slice(1))<14||S==="WinAnsiEncoding"?D=g(j,N).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(D=r(j,b[N])),m.isHex=!0,{text:D,x:o,y:d,options:f,mutex:m}};t.events.push(["postProcessText",function(i){var a=i.text||"",l=[],o={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?l.push([s(Object.assign({},o,{text:a[d][0]})).text,a[d][1],a[d][2]]):l.push(s(Object.assign({},o,{text:a[d]})).text);i.text=l}else i.text=s(Object.assign({},o,{text:a})).text}])}(ut),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ut.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,a,l,o,d,f,m=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,S=0;this.__bidiEngine__={};var D=function(E){var O=E.charCodeAt(),Q=O>>8,K=N[Q];return K!==void 0?m[256*K+(255&O)]:Q===252||Q===253?"AL":_.test(Q)?"L":Q===8?"R":"N"},B=function(E){for(var O,Q=0;Q<E.length;Q++){if((O=D(E.charAt(Q)))==="L")return!1;if(O==="R")return!0}return!1},ee=function(E,O,Q,K){var G,re,de,W,se=O[K];switch(se){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(se="AN");break;case"AL":w=!0,se="R";break;case"WS":se="N";break;case"CS":K<1||K+1>=O.length||(G=Q[K-1])!=="EN"&&G!=="AN"||(re=O[K+1])!=="EN"&&re!=="AN"?se="N":w&&(re="AN"),se=re===G?re:"N";break;case"ES":se=(G=K>0?Q[K-1]:"B")==="EN"&&K+1<O.length&&O[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&Q[K-1]==="EN"){se="EN";break}if(w){se="N";break}for(de=K+1,W=O.length;de<W&&O[de]==="ET";)de++;se=de<W&&O[de]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(W=O.length,de=K+1;de<W&&O[de]==="NSM";)de++;if(de<W){var ce=E[K],we=ce>=1425&&ce<=2303||ce===64286;if(G=O[de],we&&(G==="R"||G==="AL")){se="R";break}}}se=K<1||(G=O[K-1])==="B"?"N":Q[K-1];break;case"B":w=!1,s=!0,se=S;break;case"S":i=!0,se="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":se="N"}return se},R=function(E,O,Q){var K=E.split("");return Q&&I(K,Q,{hiLevel:S}),K.reverse(),O&&O.reverse(),K.join("")},I=function(E,O,Q){var K,G,re,de,W,se=-1,ce=E.length,we=0,C=[],z=S?p:g,L=[];for(w=!1,s=!1,i=!1,G=0;G<ce;G++)L[G]=D(E[G]);for(re=0;re<ce;re++){if(W=we,C[re]=ee(E,L,C,re),K=240&(we=z[W][b[C[re]]]),we&=15,O[re]=de=z[we][5],K>0)if(K===16){for(G=se;G<re;G++)O[G]=1;se=-1}else se=-1;if(z[we][6])se===-1&&(se=re);else if(se>-1){for(G=se;G<re;G++)O[G]=de;se=-1}L[re]==="B"&&(O[re]=0),Q.hiLevel|=de}i&&function(V,Y,ie){for(var he=0;he<ie;he++)if(V[he]==="S"){Y[he]=S;for(var me=he-1;me>=0&&V[me]==="WS";me--)Y[me]=S}}(L,O,ce)},U=function(E,O,Q,K,G){if(!(G.hiLevel<E)){if(E===1&&S===1&&!s)return O.reverse(),void(Q&&Q.reverse());for(var re,de,W,se,ce=O.length,we=0;we<ce;){if(K[we]>=E){for(W=we+1;W<ce&&K[W]>=E;)W++;for(se=we,de=W-1;se<de;se++,de--)re=O[se],O[se]=O[de],O[de]=re,Q&&(re=Q[se],Q[se]=Q[de],Q[de]=re);we=W}we++}}},q=function(E,O,Q){var K=E.split(""),G={hiLevel:S};return Q||(Q=[]),I(K,Q,G),function(re,de,W){if(W.hiLevel!==0&&f)for(var se,ce=0;ce<re.length;ce++)de[ce]===1&&(se=j.indexOf(re[ce]))>=0&&(re[ce]=j[se+1])}(K,Q,G),U(2,K,O,Q,G),U(1,K,O,Q,G),K.join("")};return this.__bidiEngine__.doBidiReorder=function(E,O,Q){if(function(G,re){if(re)for(var de=0;de<G.length;de++)re[de]=de;l===void 0&&(l=B(G)),d===void 0&&(d=B(G))}(E,O),a||!o||d)if(a&&o&&l^d)S=l?1:0,E=R(E,O,Q);else if(!a&&o&&d)S=l?1:0,E=q(E,O,Q),E=R(E,O);else if(!a||l||o||d){if(a&&!o&&l^d)E=R(E,O),l?(S=0,E=q(E,O,Q)):(S=1,E=q(E,O,Q),E=R(E,O));else if(a&&l&&!o&&d)S=1,E=q(E,O,Q),E=R(E,O);else if(!a&&!o&&l^d){var K=f;l?(S=1,E=q(E,O,Q),S=0,f=!1,E=q(E,O,Q),f=K):(S=0,E=q(E,O,Q),E=R(E,O),S=1,f=!1,E=q(E,O,Q),f=K,E=R(E,O))}}else S=0,E=q(E,O,Q);else S=l?1:0,E=q(E,O,Q);return E},this.__bidiEngine__.setOptions=function(E){E&&(a=E.isInputVisual,o=E.isOutputVisual,l=E.isInputRtl,d=E.isOutputRtl,f=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),a=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(a=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?a.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):a.push([r.doBidiReorder(s[l])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(ut),ut.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new oa(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new ek(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new U6(this.contents),this.head=new z6(this),this.name=new G6(this),this.cmap=new b_(this),this.toUnicode={},this.hhea=new $6(this),this.maxp=new Y6(this),this.hmtx=new K6(this),this.post=new H6(this),this.os2=new V6(this),this.loca=new Z6(this),this.glyf=new J6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,o,d;for(d=[],a=0,l=(o=this.bbox).length;a<l;a++)t=o[a],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,a,l;for(a=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Ls,oa=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,a,l,o;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),o=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^l)+(255^o)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*l+o},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),U6=function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,a,l,o,d,f,m,g,p,b,N;for(N in p=Object.keys(r).length,o=Math.log(2),m=16*Math.floor(Math.log(p)/o),a=Math.floor(m/o),f=16*p-m,(s=new oa).writeInt(this.scalarType),s.writeShort(p),s.writeShort(m),s.writeShort(a),s.writeShort(f),i=16*p,d=s.pos+i,l=null,b=[],r)for(g=r[N],s.writeString(N),s.writeInt(e(g)),s.writeInt(d),s.writeInt(g.length),b=b.concat(g),N==="head"&&(l=d),d+=g.length;d%4;)b.push(0),d++;return s.write(b),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,a;for(r=__.call(r);r.length%4;)r.push(0);for(i=new oa(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),q6={}.hasOwnProperty,Ys=function(e,t){for(var r in t)q6.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Ls=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var z6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ys(t,Ls),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new oa).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),l2=function(){function e(t,r){var n,s,i,a,l,o,d,f,m,g,p,b,N,j,_,w,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=t.readByte();break;case 4:for(p=t.readUInt16(),g=p/2,t.pos+=6,i=function(){var D,B;for(B=[],o=D=0;0<=g?D<g:D>g;o=0<=g?++D:--D)B.push(t.readUInt16());return B}(),t.pos+=2,N=function(){var D,B;for(B=[],o=D=0;0<=g?D<g:D>g;o=0<=g?++D:--D)B.push(t.readUInt16());return B}(),d=function(){var D,B;for(B=[],o=D=0;0<=g?D<g:D>g;o=0<=g?++D:--D)B.push(t.readUInt16());return B}(),f=function(){var D,B;for(B=[],o=D=0;0<=g?D<g:D>g;o=0<=g?++D:--D)B.push(t.readUInt16());return B}(),s=(this.length-t.pos+this.offset)/2,l=function(){var D,B;for(B=[],o=D=0;0<=s?D<s:D>s;o=0<=s?++D:--D)B.push(t.readUInt16());return B}(),o=_=0,S=i.length;_<S;o=++_)for(j=i[o],n=w=b=N[o];b<=j?w<=j:w>=j;n=b<=j?++w:--w)f[o]===0?a=n+d[o]:(a=l[f[o]/2+(n-b)-(g-o)]||0)!==0&&(a+=d[o]),this.codeMap[n]=65535&a}t.pos=m}return e.encode=function(t,r){var n,s,i,a,l,o,d,f,m,g,p,b,N,j,_,w,S,D,B,ee,R,I,U,q,E,O,Q,K,G,re,de,W,se,ce,we,C,z,L,V,Y,ie,he,me,Pe,ge,Me;switch(K=new oa,a=Object.keys(t).sort(function(Fe,ot){return Fe-ot}),r){case"macroman":for(N=0,j=function(){var Fe=[];for(b=0;b<256;++b)Fe.push(0);return Fe}(),w={0:0},i={},G=0,se=a.length;G<se;G++)w[me=t[s=a[G]]]==null&&(w[me]=++N),i[s]={old:t[s],new:w[t[s]]},j[s]=w[t[s]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(j),{charMap:i,subtable:K.data,maxGlyphID:N+1};case"unicode":for(O=[],m=[],S=0,w={},n={},_=d=null,re=0,ce=a.length;re<ce;re++)w[B=t[s=a[re]]]==null&&(w[B]=++S),n[s]={old:B,new:w[B]},l=w[B]-s,_!=null&&l===d||(_&&m.push(_),O.push(s),d=l),_=s;for(_&&m.push(_),m.push(65535),O.push(65535),q=2*(U=O.length),I=2*Math.pow(Math.log(U)/Math.LN2,2),g=Math.log(I/2)/Math.LN2,R=2*U-I,o=[],ee=[],p=[],b=de=0,we=O.length;de<we;b=++de){if(E=O[b],f=m[b],E===65535){o.push(0),ee.push(0);break}if(E-(Q=n[E].new)>=32768)for(o.push(0),ee.push(2*(p.length+U-b)),s=W=E;E<=f?W<=f:W>=f;s=E<=f?++W:--W)p.push(n[s].new);else o.push(Q-E),ee.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*U+2*p.length),K.writeUInt16(0),K.writeUInt16(q),K.writeUInt16(I),K.writeUInt16(g),K.writeUInt16(R),ie=0,C=m.length;ie<C;ie++)s=m[ie],K.writeUInt16(s);for(K.writeUInt16(0),he=0,z=O.length;he<z;he++)s=O[he],K.writeUInt16(s);for(Pe=0,L=o.length;Pe<L;Pe++)l=o[Pe],K.writeUInt16(l);for(ge=0,V=ee.length;ge<V;ge++)D=ee[ge],K.writeUInt16(D);for(Me=0,Y=p.length;Me<Y;Me++)N=p[Me],K.writeUInt16(N);return{charMap:n,subtable:K.data,maxGlyphID:S+1}}},e}(),b_=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ys(t,Ls),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new l2(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=l2.encode(r,n),(i=new oa).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t}(),$6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ys(t,Ls),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),V6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ys(t,Ls),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),H6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ys(t,Ls),t.prototype.tag="post",t.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(s=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var l,o,d;for(d=[],a=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;a=0<=o?++l:--l)d.push(r.readUInt32());return d}).call(this)}},t}(),W6=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},G6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ys(t,Ls),t.prototype.tag="name",t.prototype.parse=function(r){var n,s,i,a,l,o,d,f,m,g,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),o=r.readShort(),s=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+o+r.readShort()});for(d={},a=m=0,g=s.length;m<g;a=++m)i=s[a],r.pos=i.offset,f=r.readString(i.length),l=new W6(f,i),d[p=i.nameID]==null&&(d[p]=[]),d[i.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),Y6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ys(t,Ls),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),K6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ys(t,Ls),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,s,i,a,l,o,d;for(r.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,m;for(m=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)m.push(r.readInt16());return m}(),this.widths=(function(){var f,m,g,p;for(p=[],f=0,m=(g=this.metrics).length;f<m;f++)a=g[f],p.push(a.advance);return p}).call(this),s=this.widths[this.widths.length-1],d=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)d.push(this.widths.push(s));return d},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),__=[].slice,J6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ys(t,Ls),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,s,i,a,l,o,d,f,m,g;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,s=a.indexOf(r),(i=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,l=(o=new oa(n.read(i))).readShort(),f=o.readShort(),g=o.readShort(),d=o.readShort(),m=o.readShort(),this.cache[r]=l===-1?new X6(o,f,g,d,m):new Q6(o,l,f,g,d,m),this.cache[r]))},t.prototype.encode=function(r,n,s){var i,a,l,o,d;for(l=[],a=[],o=0,d=n.length;o<d;o++)i=r[n[o]],a.push(l.length),i&&(l=l.concat(i.encode(s)));return a.push(l.length),{table:l,offsets:a}},t}(),Q6=function(){function e(t,r,n,s,i,a){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),X6=function(){function e(t,r,n,s,i){var a,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new oa(__.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Z6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ys(t,Ls),t.prototype.tag="loca",t.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(r.readUInt32());return a}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,l=0;l<s.length;++l)if(s[l]=i,a<n.length&&n[a]==l){++a,s[l]=i;var o=this.offsets[l],d=this.offsets[l+1]-o;d>0&&(i+=d)}for(var f=new Array(4*s.length),m=0;m<s.length;++m)f[4*m+3]=255&s[m],f[4*m+2]=(65280&s[m])>>8,f[4*m+1]=(16711680&s[m])>>16,f[4*m]=(4278190080&s[m])>>24;return f},t}(),ek=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,a,l,o;for(s={},a=0,l=t.length;a<l;a++)s[i=t[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in o=this.glyphsFor(r))n=o[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,a,l,o,d,f,m,g,p,b,N,j,_;for(s in n=b_.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),p={0:0},_=n.charMap)p[(o=_[s]).old]=o.new;for(b in g=n.maxGlyphID,a)b in p||(p[b]=g++);return f=function(w){var S,D;for(S in D={},w)D[w[S]]=S;return D}(p),m=Object.keys(f).sort(function(w,S){return w-S}),N=function(){var w,S,D;for(D=[],w=0,S=m.length;w<S;w++)l=m[w],D.push(f[l]);return D}(),i=this.font.glyf.encode(a,N,p),d=this.font.loca.encode(i.offsets,N),j={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},e}();ut.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var l,o,d;for(d=[],l=0,o=r.length;l<o;l++)n=r[l],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+t.convert(a));return i.push(">>"),i.join(`
`)}return""+r},t}();function tk(){const e=()=>{const t=new ut;let r=16;t.setFontSize(16),t.text("Vijayam Science and Arts Degree College",12,r),r+=8,t.setFontSize(12),t.text("Manual Application Form (Blank)",12,r),r+=10;const n=s=>{t.text(s,12,r),t.line(70,r+1,200,r+1),r+=10};["Student ID","Admission No","HT No","Academic Year","Group","Course Code","Course Name","Full Name","DOB","Gender","Father's Name","Mother's Name","Mobile","Email","Nationality","State","Aadhar No","Postal Code","Religion","Caste","Sub Caste","Address"].forEach(n),t.save("Application-Form-Blank.pdf")};return c.jsx("div",{className:"container py-5",children:c.jsx("div",{className:"row justify-content-center",children:c.jsx("div",{className:"col-lg-10",children:c.jsxs("div",{className:"card card-soft p-4",children:[c.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[c.jsxs("div",{className:"d-flex align-items-center gap-2",children:[c.jsx("img",{src:"/image.png",className:"brand-logo",alt:"logo"}),c.jsxs("div",{children:[c.jsx("h3",{className:"fw-bold mb-0",children:"Vijayam College of Arts & Science"}),c.jsx("div",{className:"text-muted",children:"Chennai"})]})]}),c.jsx(Wi,{to:"/",className:"btn btn-brand",children:"Back to Home"})]}),c.jsx("h5",{className:"mt-1",children:"Application Form"}),c.jsxs("div",{className:"mt-3 d-flex gap-2",children:[c.jsx("button",{className:"btn btn-brand btn-sm",onClick:e,children:"Download Blank PDF"}),c.jsx("button",{className:"btn btn-outline-brand btn-sm",onClick:()=>window.print(),children:"Print This Page"})]}),c.jsxs("div",{className:"row g-3 mt-1",children:[c.jsxs("div",{className:"col-12",children:[c.jsx("h6",{className:"fw-bold mb-1",children:"Student & Admission"}),c.jsx("hr",{className:"hr-soft"})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Student ID"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Admission No"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Academic Year"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-12",children:[c.jsx("h6",{className:"fw-bold mb-1",children:"Group & Course"}),c.jsx("hr",{className:"hr-soft"})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Group"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Course Code"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Course Name"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-12",children:[c.jsx("h6",{className:"fw-bold mb-1",children:"Personal Details"}),c.jsx("hr",{className:"hr-soft"})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{className:"form-label",children:"Full Name"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Gender"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"DOB"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{className:"form-label",children:"Father's Name"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{className:"form-label",children:"Mother's Name"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-12",children:[c.jsx("h6",{className:"fw-bold mb-1",children:"Contact & Address"}),c.jsx("hr",{className:"hr-soft"})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Mobile"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Email"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Nationality"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"State"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Aadhar No"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Postal Code (PIN)"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Religion"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Caste"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Sub Caste"}),c.jsx("input",{className:"form-control"})]}),c.jsxs("div",{className:"col-12",children:[c.jsx("label",{className:"form-label",children:"Address"}),c.jsx("textarea",{className:"form-control",rows:"2"})]}),c.jsxs("div",{className:"col-12 d-flex justify-content-end gap-2 mt-2",children:[c.jsx("button",{className:"btn btn-outline-secondary",onClick:t=>{t.preventDefault(),window.print()},children:"Print"}),c.jsx("button",{className:"btn btn-brand",onClick:t=>{t.preventDefault(),e()},children:"Download PDF"})]})]})]})})})})}const rk=[{to:"/admin/applications",label:"Exam Applications",icon:"bi-inboxes"},{to:"/admin/setup/years",label:"Create Academic Years",icon:"bi-calendar3"},{to:"/admin/setup/groups",label:"Create Groups & Courses",icon:"bi-diagram-3"},{to:"/admin/setup/subjects",label:"Create Subjects",icon:"bi-journal-text"},{to:"/admin/departments",label:"Fees Generation",icon:"bi-mortarboard"},{to:"/admin/payments",label:"Payments",icon:"bi-credit-card"},{to:"/admin/students",label:"Students Details",icon:"bi-person-badge"},{to:"/admin/courses",label:"View Courses",icon:"bi-book"},{to:"/admin/hall-tickets",label:"Hall Ticket",icon:"bi-ticket-perforated"},{to:"/admin/exams",label:"Create Exam timetable",icon:"bi-journal-check"},{to:"/admin/results",label:"Result",icon:"bi-award"}];function Ts({children:e,onSignOut:t}){const{pathname:r}=Ya(),n=vl(),{signOut:s}=t0(),[i,a]=X.useState(!1),l=()=>{if(typeof t=="function")t();else try{s()}catch{}n("/")};return c.jsxs("div",{className:"admin-shell d-grid",style:{gridTemplateColumns:i?"92px 1fr":"280px 1fr"},children:[c.jsxs("aside",{className:`sidebar-modern d-flex flex-column ${i?"collapsed":""}`,children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsxs("div",{className:"sidebar-brand d-flex align-items-center gap-2",children:[c.jsx("img",{src:wl,alt:"Vijayam Logo",className:"brand-logo shadow-sm"}),c.jsxs("div",{className:"sidebar-brand-info",children:[c.jsx("div",{className:"heading-font fw-600",children:"Vijayam College"}),c.jsx("small",{className:"sidebar-brand-subtitle text-uppercase",children:"Arts & Science  Chittor"})]})]}),c.jsx("button",{className:"btn btn-sm btn-toggle",onClick:()=>a(!i),title:i?"Expand navigation":"Collapse navigation",children:c.jsx("i",{className:`bi ${i?"bi-chevron-double-right":"bi-chevron-double-left"}`})})]}),c.jsx("div",{className:"sidebar-divider"}),c.jsx("nav",{className:"sidebar-nav flex-grow-1 d-flex flex-column gap-1",children:rk.map(o=>c.jsxs(Wi,{to:o.to,title:o.label,className:`nav-item-modern ${r===o.to?"active":""}`,children:[c.jsx("span",{className:"icon",children:c.jsx("i",{className:`bi ${o.icon}`})}),c.jsx("span",{className:"label",children:o.label})]},o.to))}),c.jsxs("div",{className:"sidebar-footer text-center small text-muted mt-auto",children:[c.jsx("div",{children:"Exam Management Studio"}),c.jsx("div",{children:"Crafted for Vijayam College"})]})]}),c.jsxs("main",{className:"admin-main p-4",children:[c.jsxs("div",{className:"brandbar rounded px-3 py-2 mb-3 d-flex align-items-center justify-content-between header-shadow",children:[c.jsx("div",{className:"brandbar-title",children:"Exam Management System"}),c.jsxs("button",{className:"btn btn-outline-secondary modern-signout",onClick:l,title:"Sign out",children:[c.jsx("i",{className:"bi bi-box-arrow-right me-2"}),"Sign out"]})]}),c.jsx("div",{className:"admin-main-scroll",children:e})]})]})}function nk(){const e=["Male","Female","Other"],t=["General","OBC","SC","ST","Others"],r=["Hindu","Muslim","Christian","Sikh","Buddhist","Jain","Others"],n=["Tamil Nadu","Andhra Pradesh","Karnataka","Kerala","Telangana","Maharashtra","Other"],s={student_id:"",ht_no:"",academic_year:"",group:"",group_code:"",course_id:"",full_name:"",gender:"",dob:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_no:"",postal_code:"",address:"",mobile:"",Parent_no:"",email:"",religion:"",caste:"",sub_caste:""},[i,a]=X.useState({...s,course_name:""}),[l,o]=X.useState(null),[d,f]=X.useState(null),[m,g]=X.useState(!1),[p,b]=X.useState(""),[N,j]=X.useState([]),[_,w]=X.useState([]),[S,D]=X.useState([]),B=(q,E)=>a(O=>({...O,[q]:E}));X.useEffect(()=>{(async()=>{var E,O;try{const[Q,K,G]=await Promise.all([xe.listCourses(),((E=xe.listGroups)==null?void 0:E.call(xe))||[],((O=xe.listAcademicYears)==null?void 0:O.call(xe))||[]]);j(Q||[]),w(K||[]),D((G||[]).filter(re=>(re==null?void 0:re.active)!==!1))}catch(Q){console.error("Failed to load masters",Q),j([]),w([]),D([])}})()},[]);const ee=()=>{a(s),o(null),f(null),b("")},R=(q,E)=>O=>{const Q=(O.target.value||"").replace(/\D/g,"").slice(0,E);B(q,Q)},I=(q,E)=>new RegExp(`^\\d{${E}}$`).test(q),U=async q=>{q.preventDefault(),b("");const E={"Academic Year":i.academic_year,Group:i.group,Course:i.course_id,"Full Name":i.full_name,Gender:i.gender,"Date of Birth":i.dob,"Mobile Number":i.mobile,"Parent Mobile":i.Parent_no,"Postal Code":i.postal_code,Address:i.address};if(na(E,{title:"Incomplete application"})){if(!I(i.mobile,10)){nt("Enter a valid 10-digit mobile number.",{type:"warning",title:"Invalid mobile"});return}if(!I(i.postal_code,6)){nt("Postal code must be 6 digits.",{type:"warning",title:"Invalid postal code"});return}if(i.aadhar_no&&!I(i.aadhar_no,12)){nt("Aadhar number must contain 12 digits.",{type:"warning",title:"Invalid Aadhar"});return}g(!0);try{const O=N.find(de=>String(de.id||de.course_id)===String(i.course_id));if(!O)throw new Error("Select a valid course");const Q=O.courseCode||O.code;if(!Q)throw new Error("Selected course is missing a course code reference");const K=i.course_name||O.courseName||O.course_name||"",G={student_id:i.student_id||`STU${Date.now().toString().slice(-6)}`,hall_ticket_no:i.ht_no||null,academic_year:i.academic_year,group_name:i.group_code||i.group,course_name:Q,full_name:i.full_name,gender:i.gender,date_of_birth:i.dob,father_name:i.father_name||null,mother_name:i.mother_name||null,nationality:i.nationality||null,state:i.state||null,aadhar_number:i.aadhar_no||null,pincode:i.postal_code,address:i.address,phone_number:i.mobile,Parent_no:i.Parent_no,email:i.email||null,religion:i.religion||null,caste:i.caste||null,sub_caste:i.sub_caste||null,photo_url:l?URL.createObjectURL(l):null,cert_url:d?URL.createObjectURL(d):null,status:"ACTIVE",created_at:new Date().toISOString()},{error:re}=await Ye.from("students").insert([G]);if(re)throw re;nt("Application submitted successfully!",{type:"success",title:"Success"}),b("Application saved successfully."),ee()}catch(O){console.error("Unable to submit application",O),b(O.message||"Unable to submit application right now.")}finally{g(!1)}}};return c.jsx(Ts,{children:c.jsxs("div",{className:"desktop-container",style:{overflowX:"hidden"},children:[c.jsx("section",{className:"setup-hero mb-4 text-center",children:c.jsxs("div",{className:"setup-hero-copywrap mx-auto text-center",style:{maxWidth:"640px"},children:[c.jsx("div",{className:"admin-applications__crest mx-auto","aria-hidden":"true",children:c.jsx("img",{src:wl,alt:"Vijayam crest"})}),c.jsx("h3",{className:"setup-hero-title mb-2",children:"Vijayam Arts & Science College"}),c.jsx("p",{className:"setup-hero-copy mb-3",children:"Collect, verify, and onboard applicants with confidence."}),c.jsxs("div",{className:"setup-hero-chips d-flex flex-wrap gap-2 justify-content-center",children:[c.jsx("span",{className:"setup-hero-chip text-uppercase",children:"SMART EXAMINATION PLATFORM"}),c.jsx("span",{className:"setup-hero-chip text-uppercase",children:"ADMISSIONS CONTROL"}),c.jsx("span",{className:"setup-hero-chip text-uppercase",children:"APPLICATIONS ADMIN CONSOLE"})]})]})}),c.jsx("div",{className:"row g-4 justify-content-center mx-0",children:c.jsx("div",{className:"col-12 col-lg-11 col-xl-10",children:c.jsxs("div",{className:"card card-soft p-4 mb-4",children:[c.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"mb-1",children:"Student Application"}),c.jsx("p",{className:"text-muted mb-0",children:"Programme selection, personal profile, and uploads."})]}),c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:ee,children:"Reset Form"})]}),c.jsxs("form",{onSubmit:U,children:[c.jsxs("div",{className:"application-section mb-4",children:[c.jsx("h6",{className:"text-uppercase text-muted fw-bold small",children:"Programme Selection"}),c.jsxs("div",{className:"row g-3 mt-1",children:[c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Academic Year"}),c.jsxs("select",{className:"form-select",value:i.academic_year,onChange:q=>B("academic_year",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select"}),S.map(q=>c.jsx("option",{value:q.academic_year||q.name,children:q.academic_year||q.name},q.id))]})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Group"}),c.jsxs("select",{className:"form-select",value:i.group_code||i.group,onChange:q=>{const E=q.target.value,O=_.find(Q=>Q.code===E||Q.group_code===E);B("group",(O==null?void 0:O.name)||(O==null?void 0:O.group_name)||(O==null?void 0:O.code)||E),a(Q=>({...Q,group_code:E}))},required:!0,children:[c.jsx("option",{value:"",children:"Select"}),_.map(q=>c.jsx("option",{value:q.code||q.group_code,children:q.name||q.group_name||"Group"},q.id||q.group_id))]})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Course"}),c.jsxs("select",{className:"form-select",value:i.course_id,onChange:q=>{const E=N.find(O=>String(O.id||O.course_id)===String(q.target.value));a(O=>({...O,course_id:q.target.value,course_name:(E==null?void 0:E.courseName)||(E==null?void 0:E.course_name)||(E==null?void 0:E.name)||""}))},required:!0,children:[c.jsx("option",{value:"",children:"Select"}),N.filter(q=>!i.group_code||String(q.group_code)===String(i.group_code)).map(q=>c.jsx("option",{value:q.id||q.course_id,children:q.name||q.courseName||q.course_name},q.id||q.course_id))]})]})]})]}),c.jsxs("div",{className:"application-section mb-4",children:[c.jsx("h6",{className:"text-uppercase text-muted fw-bold small",children:"Identity & Guardians"}),c.jsxs("div",{className:"row g-3 mt-1",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{className:"form-label",children:"Student ID"}),c.jsx("input",{className:"form-control",value:i.student_id,onChange:q=>B("student_id",q.target.value),placeholder:"Auto-generated if blank"})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{className:"form-label",children:"Hall Ticket No"}),c.jsx("input",{className:"form-control",value:i.ht_no,onChange:q=>B("ht_no",q.target.value),placeholder:"Optional"})]}),c.jsxs("div",{className:"col-md-8",children:[c.jsx("label",{className:"form-label",children:"Full Name"}),c.jsx("input",{className:"form-control",value:i.full_name,onChange:q=>B("full_name",q.target.value),required:!0})]}),c.jsxs("div",{className:"col-md-2",children:[c.jsx("label",{className:"form-label",children:"Gender"}),c.jsxs("select",{className:"form-select",value:i.gender,onChange:q=>B("gender",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select"}),e.map(q=>c.jsx("option",{value:q,children:q},q))]})]}),c.jsxs("div",{className:"col-md-2",children:[c.jsx("label",{className:"form-label",children:"DOB"}),c.jsx("input",{type:"date",className:"form-control",value:i.dob,onChange:q=>B("dob",q.target.value),required:!0})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{className:"form-label",children:"Father's Name"}),c.jsx("input",{className:"form-control",value:i.father_name,onChange:q=>B("father_name",q.target.value)})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{className:"form-label",children:"Mother's Name"}),c.jsx("input",{className:"form-control",value:i.mother_name,onChange:q=>B("mother_name",q.target.value)})]})]})]}),c.jsxs("div",{className:"application-section mb-4",children:[c.jsx("h6",{className:"text-uppercase text-muted fw-bold small",children:"Contact & Address"}),c.jsxs("div",{className:"row g-3 mt-1",children:[c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Mobile Number"}),c.jsx("input",{type:"tel",className:"form-control",value:i.mobile,onChange:R("mobile",10),required:!0,maxLength:10,placeholder:"10-digit mobile number"})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Parent Mobile"}),c.jsx("input",{type:"tel",className:"form-control",value:i.Parent_no,onChange:R("Parent_no",10),required:!0,maxLength:10,placeholder:"Parent's 10-digit mobile"})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Email"}),c.jsx("input",{type:"email",className:"form-control",value:i.email,onChange:q=>B("email",q.target.value)})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Nationality"}),c.jsx("input",{className:"form-control",value:i.nationality,onChange:q=>B("nationality",q.target.value)})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"State"}),c.jsxs("select",{className:"form-select",value:i.state,onChange:q=>B("state",q.target.value),children:[c.jsx("option",{value:"",children:"Select"}),n.map(q=>c.jsx("option",{value:q,children:q},q))]})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Postal Code"}),c.jsx("input",{className:"form-control",inputMode:"numeric",value:i.postal_code,onChange:R("postal_code",6),placeholder:"6-digit PIN",required:!0})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Aadhaar"}),c.jsx("input",{className:"form-control",inputMode:"numeric",value:i.aadhar_no,onChange:R("aadhar_no",12),placeholder:"12-digit"})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Religion"}),c.jsxs("select",{className:"form-select",value:i.religion,onChange:q=>B("religion",q.target.value),children:[c.jsx("option",{value:"",children:"Select"}),r.map(q=>c.jsx("option",{value:q,children:q},q))]})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Caste"}),c.jsxs("select",{className:"form-select",value:i.caste,onChange:q=>B("caste",q.target.value),children:[c.jsx("option",{value:"",children:"Select"}),t.map(q=>c.jsx("option",{value:q,children:q},q))]})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Sub Caste"}),c.jsx("input",{className:"form-control",value:i.sub_caste,onChange:q=>B("sub_caste",q.target.value)})]}),c.jsxs("div",{className:"col-12",children:[c.jsx("label",{className:"form-label",children:"Permanent Address"}),c.jsx("textarea",{className:"form-control",rows:"2",value:i.address,onChange:q=>B("address",q.target.value),required:!0})]})]})]}),c.jsxs("div",{className:"application-section mb-3",children:[c.jsx("h6",{className:"text-uppercase text-muted fw-bold small",children:"Uploads"}),c.jsxs("div",{className:"row g-3 mt-1",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{className:"form-label",children:"Photograph"}),c.jsx("input",{type:"file",accept:"image/*",className:"form-control",onChange:q=>{var E;return o(((E=q.target.files)==null?void 0:E[0])||null)}})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{className:"form-label",children:"Signature"}),c.jsx("input",{type:"file",accept:"application/pdf,image/*",className:"form-control",onChange:q=>{var E;return f(((E=q.target.files)==null?void 0:E[0])||null)}})]})]})]}),c.jsxs("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:ee,children:"Clear"}),c.jsx("button",{className:"btn btn-brand",disabled:m,children:m?"Submitting...":"Submit Application"})]})]}),p&&c.jsx("div",{className:"alert alert-info mt-3 mb-0",children:p})]})})})]})})}function sk(){X.useEffect(()=>{const p=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=p}},[]);const e=vl(),{setUser:t}=t0(),[r,n]=X.useState("admin@vijayam.edu"),[s,i]=X.useState("admin123"),[a,l]=X.useState("ADMIN"),[o,d]=X.useState(!1),[f,m]=X.useState(""),g=async p=>{p.preventDefault(),d(!0),m("");try{const b=await xe.login(r);t({email:b.email,role:b.role}),e("/admin")}catch(b){m(b.message||"Unable to sign in right now")}finally{d(!1)}};return c.jsx("main",{className:"admin-login-shell",children:c.jsxs("section",{className:"admin-login-card","aria-live":"polite",children:[c.jsxs("div",{className:"admin-login-brand",children:[c.jsx("div",{className:"admin-login-logo","aria-hidden":"true",children:c.jsx("img",{src:wl,alt:"Vijayam crest"})}),c.jsxs("div",{children:[c.jsx("p",{className:"admin-login-eyebrow",children:"Exam Control Centre"}),c.jsx("h1",{className:"admin-login-title",children:"Admin login"}),c.jsx("p",{className:"admin-login-subtitle",children:"Sign in to manage Vijayam exams."})]})]}),c.jsxs("form",{className:"admin-login-form",onSubmit:g,children:[c.jsxs("label",{className:"admin-login-field",children:[c.jsx("span",{children:"Email"}),c.jsx("input",{type:"email",className:"admin-login-input",value:r,autoComplete:"username",onChange:p=>n(p.target.value),required:!0})]}),c.jsxs("label",{className:"admin-login-field",children:[c.jsx("span",{children:"Password"}),c.jsx("input",{type:"password",className:"admin-login-input",value:s,autoComplete:"current-password",onChange:p=>i(p.target.value),required:!0})]}),c.jsxs("label",{className:"admin-login-field",children:[c.jsx("span",{children:"Login as"}),c.jsxs("select",{className:"admin-login-input admin-login-select",value:a,onChange:p=>l(p.target.value),children:[c.jsx("option",{value:"ADMIN",children:"Admin"}),c.jsx("option",{value:"PRINCIPAL",children:"Principal"})]})]}),f&&c.jsx("p",{className:"admin-login-error",children:f}),c.jsx("button",{className:"admin-login-submit",disabled:o,children:o?"Signing in...":"Sign in"})]})]})})}function ik(){const[e,t]=X.useState([]),[r,n]=X.useState(""),s=async()=>t(await xe.listBatches());X.useEffect(()=>{s()},[]);const i=async()=>{na({"Batch name":r})&&(await xe.addBatch({name:r.trim()}),n(""),s())};return c.jsxs(Ts,{children:[c.jsx("h2",{className:"fw-bold mb-3",children:"Batches"}),c.jsxs("div",{className:"row g-3",children:[c.jsx("div",{className:"col-lg-4",children:c.jsxs("div",{className:"card card-soft p-3",children:[c.jsx("label",{className:"form-label",children:"Batch Name"}),c.jsx("input",{className:"form-control mb-2",value:r,required:!0,onChange:a=>n(a.target.value),placeholder:"e.g., 2025-CS-A"}),c.jsx("button",{className:"btn btn-brand",onClick:i,children:"Add Batch"})]})}),c.jsx("div",{className:"col-lg-8",children:c.jsx("div",{className:"card card-soft p-0",children:c.jsxs("table",{className:"table mb-0",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Created"})]})}),c.jsx("tbody",{children:e.map(a=>c.jsxs("tr",{children:[c.jsx("td",{children:a.name}),c.jsx("td",{children:new Date(a.created_at).toLocaleString()})]},a.id))})]})})})]})]})}function ak(){const[e,t]=X.useState([]),r=async()=>t(await xe.listCourses());return X.useEffect(()=>{r()},[]),c.jsxs(Ts,{children:[c.jsx("h2",{className:"fw-bold mb-3",children:"Courses"}),c.jsx("div",{className:"row",children:c.jsx("div",{className:"col-12",children:c.jsx("div",{className:"card card-soft p-0",children:c.jsxs("table",{className:"table mb-0",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Course Code"}),c.jsx("th",{children:"Course Name"}),c.jsx("th",{children:"Duration"})]})}),c.jsx("tbody",{children:e.map(n=>c.jsxs("tr",{children:[c.jsx("td",{children:n.code}),c.jsx("td",{children:n.name}),c.jsxs("td",{children:[n.duration_years," years"]})]},n.id))})]})})})})]})}function ok(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}ok(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var m0=e=>typeof e=="number"&&!isNaN(e),Jc=e=>typeof e=="string",w_=e=>typeof e=="function",lk=e=>Jc(e)||m0(e),ck=e=>X.isValidElement(e)||Jc(e)||w_(e)||m0(e),uk=1,x_=()=>`${uk++}`,Gs=new Map,rg=[],c2=new Set,N_=()=>Gs.size>0,dk=(e,{containerId:t})=>{var r;return(r=Gs.get(t||1))==null?void 0:r.toasts.get(e)};function hk(e,t){var r;if(t)return!!((r=Gs.get(t))!=null&&r.isToastActive(e));let n=!1;return Gs.forEach(s=>{s.isToastActive(e)&&(n=!0)}),n}function fk(e){if(!N_()){rg=rg.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||lk(e))Gs.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Gs.get(e.containerId);t?t.removeToast(e.id):Gs.forEach(r=>{r.removeToast(e.id)})}}var pk=(e={})=>{Gs.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function mk(e,t){ck(e)&&(N_()||rg.push({content:e,options:t}),Gs.forEach(r=>{r.buildToast(e,t)}))}function S_(e,t){Gs.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function gk(e){return c2.add(e),()=>{c2.delete(e)}}function vk(e){return e&&(Jc(e.toastId)||m0(e.toastId))?e.toastId:x_()}function nu(e,t){return mk(e,t),t.toastId}function Gh(e,t){return{...t,type:t&&t.type||e,toastId:vk(t)}}function Yh(e){return(t,r)=>nu(t,Gh(e,r))}function Jt(e,t){return nu(e,Gh("default",t))}Jt.loading=(e,t)=>nu(e,Gh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function yk(e,{pending:t,error:r,success:n},s){let i;t&&(i=Jc(t)?Jt.loading(t,s):Jt.loading(t.render,{...s,...t}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,f,m)=>{if(f==null){Jt.dismiss(i);return}let g={type:d,...a,...s,data:m},p=Jc(f)?{render:f}:f;return i?Jt.update(i,{...g,...p}):Jt(p.render,{...g,...p}),m},o=w_(e)?e():e;return o.then(d=>l("success",n,d)).catch(d=>l("error",r,d)),o}Jt.promise=yk;Jt.success=Yh("success");Jt.info=Yh("info");Jt.error=Yh("error");Jt.warning=Yh("warning");Jt.warn=Jt.warning;Jt.dark=(e,t)=>nu(e,Gh("default",{theme:"dark",...t}));function bk(e){fk(e)}Jt.dismiss=bk;Jt.clearWaitingQueue=pk;Jt.isActive=hk;Jt.update=(e,t={})=>{let r=dk(e,t);if(r){let{props:n,content:s}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:x_()};i.toastId!==e&&(i.staleId=e);let a=i.render||s;delete i.render,nu(a,i)}};Jt.done=e=>{Jt.update(e,{progress:1})};Jt.onChange=gk;Jt.play=e=>S_(!0,e);Jt.pause=e=>S_(!1,e);function _k(){const[e,t]=X.useState([]),[r,n]=X.useState({academic_year:"",group_name:"",course_name:""}),[s,i]=X.useState([]),[a,l]=X.useState([]),[o,d]=X.useState([]),[f,m]=X.useState(!1),[g,p]=X.useState(null),[b,N]=X.useState({student_id:"",hall_ticket_no:"",academic_year:"",group_name:"",group_code:"",course_name:"",course_code:"",full_name:"",gender:"",date_of_birth:"",father_name:"",mother_name:"",nationality:"",state:"",aadhar_number:"",address:"",pincode:"",phone_number:"",email:"",religion:"",caste:"",sub_caste:"",photo_url:"",cert_url:"",status:"ACTIVE"});X.useEffect(()=>{d0((async()=>{m(!0);try{const{data:I,error:U}=await Ye.from("students").select(`
            *,
            group:groups!students_group_name_fkey(group_code, group_name),
            course:courses!students_course_name_fkey(course_code, course_name),
            year:academic_year!students_academic_year_fkey(academic_year)
          `).order("full_name");if(U)throw U;const{data:q,error:E}=await Ye.from("academic_year").select("id, academic_year, status").order("academic_year",{ascending:!1});if(E)throw E;const{data:O,error:Q}=await Ye.from("groups").select("group_id, group_code, group_name").order("group_name");if(Q)throw Q;const{data:K,error:G}=await Ye.from("courses").select("course_id, course_code, course_name").order("course_name");if(G)throw G;const re=I.map(W=>{var se,ce,we,C,z;return{...W,group_name:((se=W.group)==null?void 0:se.group_name)||W.group_name,group_code:(ce=W.group)==null?void 0:ce.group_code,course_name:((we=W.course)==null?void 0:we.course_name)||W.course_name,course_code:(C=W.course)==null?void 0:C.course_code,academic_year:((z=W.year)==null?void 0:z.academic_year)||W.academic_year}});t(re);const de=(q||[]).filter(W=>W.status===void 0?!0:!!W.status);i(de),l(O||[]),d(K||[])}catch(I){console.error("Error loading data:",I)}finally{m(!1)}})())},[]);const j=X.useMemo(()=>e.filter(R=>{const I=!r.academic_year||R.academic_year===r.academic_year,U=!r.group_name||R.group_code===r.group_name,q=!r.course_name||R.course_code===r.course_name;return I&&U&&q}),[e,r]),_=(R,I)=>{n(U=>({...U,[R]:I}))},w=R=>{var I,U,q,E;p(R),N({student_id:R.student_id||"",hall_ticket_no:R.hall_ticket_no||"",academic_year:R.academic_year||"",group_name:((I=R.group)==null?void 0:I.group_name)||R.group_name||R.group||"",group_code:((U=R.group)==null?void 0:U.group_code)||R.group_code||"",course_name:((q=R.course)==null?void 0:q.course_name)||R.course_name||R.course||"",course_code:((E=R.course)==null?void 0:E.course_code)||R.course_code||"",full_name:R.full_name||"",gender:R.gender||"",date_of_birth:R.date_of_birth||"",father_name:R.father_name||"",mother_name:R.mother_name||"",nationality:R.nationality||"",state:R.state||"",aadhar_number:R.aadhar_number||"",address:R.address||"",pincode:R.pincode||"",phone_number:R.phone_number||"",email:R.email||"",religion:R.religion||"",caste:R.caste||"",sub_caste:R.sub_caste||"",photo_url:R.photo_url||"",cert_url:R.cert_url||"",status:R.status||"ACTIVE"})},S=R=>{const{name:I,value:U}=R.target;N(q=>{if(I==="group_code"){const E=a.find(O=>O.group_code===U);return{...q,group_code:U,group_name:(E==null?void 0:E.group_name)||""}}if(I==="course_code"){const E=o.find(O=>O.course_code===U);return{...q,course_code:U,course_name:(E==null?void 0:E.course_name)||""}}return{...q,[I]:U}})},D=async()=>{var U,q;if(!g)return;const R={"Student ID":b.student_id,"Full Name":b.full_name,"Academic Year":b.academic_year,Group:b.group_name,Course:b.course_name};if(na(R,{notify:({message:E})=>Jt.warn(E)}))try{m(!0);const E={student_id:b.student_id,hall_ticket_no:b.hall_ticket_no,academic_year:b.academic_year,group_name:b.group_code,course_name:b.course_code,full_name:b.full_name,gender:b.gender,date_of_birth:b.date_of_birth,father_name:b.father_name,mother_name:b.mother_name,nationality:b.nationality,state:b.state,aadhar_number:b.aadhar_number,address:b.address,pincode:b.pincode,phone_number:b.phone_number,email:b.email,religion:b.religion,caste:b.caste,sub_caste:b.sub_caste,photo_url:b.photo_url,cert_url:b.cert_url,status:b.status},{error:O}=await Ye.from("students").update(E).eq("id",g.id);if(O)throw O;const Q=((U=a.find(G=>G.group_code===b.group_code))==null?void 0:U.group_name)||b.group_code,K=((q=o.find(G=>G.course_code===b.course_code))==null?void 0:q.course_name)||b.course_code;t(G=>G.map(re=>re.id===g.id?{...re,...b,...E,group_name:Q,course_name:K,group_code:b.group_code,course_code:b.course_code}:re)),Jt.success("Student updated successfully"),p(null)}catch(E){console.error("Error updating student:",E),Jt.error("Failed to update student")}finally{m(!1)}},B=()=>{p(null)},ee=async R=>{if(window.confirm("Are you sure you want to delete this student?"))try{await xe.deleteStudent(R),t(e.filter(I=>I.id!==R))}catch(I){console.error("Error deleting student:",I)}};return c.jsxs(Ts,{children:[c.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:c.jsx("h2",{className:"fw-bold mb-0",children:"Student Management"})}),c.jsxs("div",{className:"card card-soft p-3 mb-4",children:[c.jsx("h5",{className:"mb-3",children:"Filter Students"}),c.jsxs("div",{className:"row g-3",children:[c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Academic Year"}),c.jsxs("select",{className:"form-select",value:r.academic_year,onChange:R=>_("academic_year",R.target.value),children:[c.jsx("option",{value:"",children:"All Years"}),s.map(R=>c.jsx("option",{value:R.academic_year,children:R.academic_year},R.id))]})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Group"}),c.jsxs("select",{className:"form-select",value:r.group_name,onChange:R=>_("group_name",R.target.value),children:[c.jsx("option",{value:"",children:"All Groups"}),a.map(R=>c.jsx("option",{value:R.group_code,children:R.group_name},R.group_id))]})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label",children:"Course"}),c.jsxs("select",{className:"form-select",value:r.course_name,onChange:R=>_("course_name",R.target.value),children:[c.jsx("option",{value:"",children:"All Courses"}),o.map(R=>c.jsx("option",{value:R.course_code,children:R.course_name},R.course_id))]})]})]})]}),c.jsx("div",{className:"card card-soft p-0",children:c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-hover mb-0",children:[c.jsx("thead",{className:"table-light",children:c.jsxs("tr",{children:[c.jsx("th",{children:"Student ID"}),c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Hall Ticket No"}),c.jsx("th",{children:"Group"}),c.jsx("th",{children:"Course"}),c.jsx("th",{children:"Academic Year"}),c.jsx("th",{children:"Academic Status"}),c.jsx("th",{children:"Edit Details"})]})}),c.jsx("tbody",{children:f?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",className:"text-center py-4",children:c.jsx("div",{className:"spinner-border text-primary",role:"status",children:c.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):j.length>0?j.map(R=>{var I,U;return c.jsxs("tr",{children:[c.jsx("td",{children:R.student_id}),c.jsx("td",{children:R.full_name}),c.jsx("td",{children:R.hall_ticket_no||"-"}),c.jsx("td",{children:((I=R.group)==null?void 0:I.group_name)||R.group_name}),c.jsx("td",{children:((U=R.course)==null?void 0:U.course_name)||R.course_name}),c.jsx("td",{children:R.academic_year}),c.jsx("td",{children:R.status||"Active"}),c.jsxs("td",{children:[c.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>w(R),children:"Edit"}),c.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>ee(R.id),children:"Delete"})]})]},R.id)}):c.jsx("tr",{children:c.jsx("td",{colSpan:"6",className:"text-center py-4",children:"No students found matching the selected filters."})})})]})})}),g&&c.jsx("div",{className:"modal d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header bg-light",children:[c.jsxs("h5",{className:"modal-title",children:["Edit Student: ",g.student_id," "," ",g.full_name]}),c.jsx("button",{type:"button",className:"btn-close",onClick:B})]}),c.jsxs("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:[c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("h6",{children:"Student Information"}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Student ID"}),c.jsx("input",{type:"text",className:"form-control",name:"student_id",value:b.student_id,onChange:S,required:!0})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Hall Ticket No"}),c.jsx("input",{type:"text",className:"form-control",name:"hall_ticket_no",value:b.hall_ticket_no,onChange:S})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Full Name"}),c.jsx("input",{type:"text",className:"form-control",name:"full_name",value:b.full_name,onChange:S,required:!0})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Date of Birth"}),c.jsx("input",{type:"date",className:"form-control",name:"date_of_birth",value:b.date_of_birth,onChange:S,required:!0})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Gender"}),c.jsxs("select",{className:"form-select",name:"gender",value:b.gender,onChange:S,required:!0,children:[c.jsx("option",{value:"",children:"Select Gender"}),c.jsx("option",{value:"Male",children:"Male"}),c.jsx("option",{value:"Female",children:"Female"}),c.jsx("option",{value:"Other",children:"Other"})]})]})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("h6",{children:"Academic Information"}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Academic Year"}),c.jsxs("select",{className:"form-select",name:"academic_year",value:b.academic_year,onChange:S,required:!0,children:[c.jsx("option",{value:"",children:"Select Year"}),s.map(R=>c.jsx("option",{value:R.academic_year,children:R.academic_year},R.id))]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Group"}),c.jsxs("select",{className:"form-select",name:"group_code",value:b.group_code,onChange:S,required:!0,children:[c.jsx("option",{value:"",children:"Select Group"}),a.map(R=>c.jsx("option",{value:R.group_code,children:R.group_name},R.group_id))]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Course"}),c.jsxs("select",{className:"form-select",name:"course_code",value:b.course_code,onChange:S,required:!0,children:[c.jsx("option",{value:"",children:"Select Course"}),o.map(R=>c.jsx("option",{value:R.course_code,children:R.course_name},R.course_id))]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Status"}),c.jsxs("select",{className:"form-select",name:"status",value:b.status,onChange:S,required:!0,children:[c.jsx("option",{value:"ACTIVE",children:"Active"}),c.jsx("option",{value:"INACTIVE",children:"Inactive"}),c.jsx("option",{value:"GRADUATED",children:"Graduated"}),c.jsx("option",{value:"DROPPED",children:"Dropped"})]})]})]})]}),c.jsxs("div",{className:"row mt-3",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("h6",{children:"Parent Information"}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Father's Name"}),c.jsx("input",{type:"text",className:"form-control",name:"father_name",value:b.father_name,onChange:S})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Mother's Name"}),c.jsx("input",{type:"text",className:"form-control",name:"mother_name",value:b.mother_name,onChange:S})]})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("h6",{children:"Contact Information"}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Phone Number"}),c.jsx("input",{type:"tel",className:"form-control",name:"phone_number",value:b.phone_number,onChange:S})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Email"}),c.jsx("input",{type:"email",className:"form-control",name:"email",value:b.email,onChange:S})]})]})]}),c.jsx("div",{className:"row mt-3",children:c.jsxs("div",{className:"col-12",children:[c.jsx("h6",{children:"Address & Identity"}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Address"}),c.jsx("textarea",{className:"form-control",name:"address",rows:"2",value:b.address,onChange:S})]}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-6",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"State"}),c.jsx("input",{type:"text",className:"form-control",name:"state",value:b.state,onChange:S})]})}),c.jsx("div",{className:"col-md-6",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Pincode"}),c.jsx("input",{type:"text",className:"form-control",name:"pincode",value:b.pincode,onChange:S})]})})]}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-6",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Aadhar Number"}),c.jsx("input",{type:"text",className:"form-control",name:"aadhar_number",value:b.aadhar_number,onChange:S})]})}),c.jsx("div",{className:"col-md-6",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Nationality"}),c.jsx("input",{type:"text",className:"form-control",name:"nationality",value:b.nationality,onChange:S})]})})]})]})}),c.jsxs("div",{className:"row mt-3",children:[c.jsx("div",{className:"col-md-4",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Religion"}),c.jsx("input",{type:"text",className:"form-control",name:"religion",value:b.religion,onChange:S})]})}),c.jsx("div",{className:"col-md-4",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Caste"}),c.jsx("input",{type:"text",className:"form-control",name:"caste",value:b.caste,onChange:S})]})}),c.jsx("div",{className:"col-md-4",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Sub Caste"}),c.jsx("input",{type:"text",className:"form-control",name:"sub_caste",value:b.sub_caste,onChange:S})]})})]}),c.jsxs("div",{className:"row mt-3",children:[c.jsx("div",{className:"col-md-6",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Photo URL"}),c.jsx("input",{type:"text",className:"form-control",name:"photo_url",value:b.photo_url,onChange:S})]})}),c.jsx("div",{className:"col-md-6",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Certificate URL"}),c.jsx("input",{type:"text",className:"form-control",name:"cert_url",value:b.cert_url,onChange:S})]})})]})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary",onClick:B,disabled:f,children:"Cancel"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:D,disabled:f,children:f?"Updating...":"Update Student"})]})]})})})]})}function wk(){const[e,t]=X.useState([]),[r,n]=X.useState({title:"",date:"",time:"",venue:"",course_id:""}),s=async()=>t(await xe.listExams());X.useEffect(()=>{s()},[]);const i=async()=>{!r.title||!r.date||!r.time||!r.venue||(await xe.addExam(r),n({title:"",date:"",time:"",venue:"",course_id:""}),s())};return c.jsxs(Ts,{children:[c.jsx("h2",{className:"fw-bold mb-3",children:"Exam Scheduling"}),c.jsxs("div",{className:"row g-3",children:[c.jsx("div",{className:"col-lg-4",children:c.jsxs("div",{className:"card card-soft p-3",children:[c.jsx("input",{className:"form-control mb-2",placeholder:"Title (e.g., EX1 Semester 1)",value:r.title,onChange:a=>n({...r,title:a.target.value})}),c.jsxs("div",{className:"row g-2",children:[c.jsx("div",{className:"col",children:c.jsx("input",{type:"date",className:"form-control",value:r.date,onChange:a=>n({...r,date:a.target.value})})}),c.jsx("div",{className:"col",children:c.jsx("input",{type:"time",className:"form-control",value:r.time,onChange:a=>n({...r,time:a.target.value})})})]}),c.jsx("input",{className:"form-control my-2",placeholder:"Venue",value:r.venue,onChange:a=>n({...r,venue:a.target.value})}),c.jsx("input",{className:"form-control mb-2",placeholder:"Course Id",value:r.course_id,onChange:a=>n({...r,course_id:a.target.value})}),c.jsx("button",{className:"btn btn-brand w-100",onClick:i,children:"Create Schedule"})]})}),c.jsx("div",{className:"col-lg-8",children:c.jsx("div",{className:"card card-soft p-0",children:c.jsxs("table",{className:"table mb-0",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Title"}),c.jsx("th",{children:"Date"}),c.jsx("th",{children:"Time"}),c.jsx("th",{children:"Venue"})]})}),c.jsx("tbody",{children:e.map(a=>c.jsxs("tr",{children:[c.jsx("td",{children:a.title}),c.jsx("td",{children:a.date}),c.jsx("td",{children:a.time}),c.jsx("td",{children:a.venue})]},a.id))})]})})})]})]})}function xk(){const[e,t]=X.useState([]),[r,n]=X.useState([]),[s,i]=X.useState([]),[a,l]=X.useState([]),[o,d]=X.useState([]),[f,m]=X.useState([]),[g,p]=X.useState({year:"",group:"",group_code:"",courseCode:"",semester:""}),[b,N]=X.useState(""),[j,_]=X.useState(""),[w,S]=X.useState(!1),D=vl(),B=!!(g.year||g.group_code||g.courseCode||g.semester),ee=G=>r.find(re=>re.code===G.group_code||re.code===G.group||re.code===G.group_name||re.name===G.group||re.name===G.group_name),R=G=>s.find(re=>re.courseCode===G.course_code||re.courseCode===G.course_name||re.courseCode===G.courseCode||re.courseName===G.course_name||re.courseName===G.courseCode),I=X.useMemo(()=>a.filter(G=>{const re=!g.year||G.academic_year===g.year,de=!g.group_code||[G.group_code,G.group,G.group_name].includes(g.group_code),W=!g.courseCode||[G.course_code,G.course_name,G.course_id].includes(g.courseCode),se=!g.semester||!G.semester||String(G.semester)===String(g.semester);return re&&de&&W&&se}),[a,g.year,g.group_code,g.courseCode,g.semester]),U=X.useCallback(async()=>{var G,re,de,W,se,ce;try{const[we,C,z,L,V,Y]=await Promise.all([(G=xe.listAcademicYears)==null?void 0:G.call(xe),(re=xe.listGroups)==null?void 0:re.call(xe),(de=xe.listCourses)==null?void 0:de.call(xe),(W=xe.listStudents)==null?void 0:W.call(xe),(se=xe.listFees)==null?void 0:se.call(xe),(ce=xe.listSubjects)==null?void 0:ce.call(xe)]),ie=(we||[]).filter(ge=>(ge==null?void 0:ge.active)!==!1),he=(C||[]).map(ge=>({id:ge.group_id??ge.id,code:ge.group_code??ge.code,name:ge.group_name??ge.name})),me=(z||[]).map(ge=>({id:ge.course_id??ge.id,courseCode:ge.course_code||ge.code,courseName:ge.course_name||ge.name,group_code:ge.group_code||ge.group_name||ge.groupCode,group_name:ge.group_name||ge.groupCode})),Pe=(L||[]).map(ge=>({...ge,academic_year:ge.academic_year||"",group_name:ge.group_name||ge.group||ge.group_code||"",group:ge.group_name||ge.group||ge.group_code||"",group_code:ge.group_code||ge.group||ge.group_name||"",course_name:ge.course_name||ge.course_id||ge.courseCode||"",course_code:ge.course_code||ge.course_name||ge.course_id||"",semester:ge.semester??ge.semester_number??""}));t(ie),n(he),i(me),l(Pe),d(Y||[]),m(V||[])}catch(we){console.error("Error loading payment masters:",we)}},[]);X.useEffect(()=>{U()},[U]);const q=B?I.length:0,E=j?I.filter(G=>`${G.student_id} ${G.full_name||G.name||""}`.toLowerCase().includes(j.toLowerCase())):I,O=b?E.slice(0,Math.min(Number(b),E.length)):E,Q=G=>{if(G===""){N("");return}const re=Number(G);if(Number.isNaN(re)||re<=0){N("");return}N(String(Math.floor(re)))},K=G=>{const re=G.trim().split(" ");return re.length===1?re[0].slice(0,2).toUpperCase():(re[0][0]+re[re.length-1][0]).toUpperCase()};return c.jsxs(Ts,{children:[c.jsx("h2",{className:"fw-bold mb-3",children:"Record Payment"}),c.jsxs("div",{className:"card card-soft p-3 mb-4",children:[c.jsx("h4",{className:"fw-bold mb-3",children:"Filter Students"}),c.jsxs("div",{className:"row g-3",children:[c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label fw-bold",children:"Academic Year"}),c.jsxs("select",{className:"form-select",value:g.year,onChange:G=>p({...g,year:G.target.value,group:"",group_code:"",courseCode:"",semester:"",student_id:""}),children:[c.jsx("option",{value:"",children:"Select Year"}),e.map(G=>c.jsx("option",{value:G.academic_year,children:G.academic_year},G.id))]})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label fw-bold",children:"Group"}),c.jsxs("select",{className:"form-select",value:g.group_code,onChange:G=>{const re=G.target.value,de=r.find(W=>W.code===re||W.group_code===re);p(W=>({...W,group:(de==null?void 0:de.name)||"",group_code:(de==null?void 0:de.code)||re,courseCode:"",semester:"",student_id:""}))},children:[c.jsx("option",{value:"",children:"Select Group"}),r.map(G=>c.jsx("option",{value:G.code,children:G.name},G.id))]})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label fw-bold",children:"Course"}),c.jsxs("select",{className:"form-select",value:g.courseCode,disabled:!g.group_code,onChange:G=>p({...g,courseCode:G.target.value,semester:""}),children:[c.jsx("option",{value:"",children:"Select Course"}),s.filter(G=>g.group_code?G.group_code===g.group_code||G.group_name===g.group_code||G.groupCode===g.group_code:!0).map(G=>c.jsx("option",{value:G.courseCode,children:G.courseName},G.id))]})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label fw-bold",children:"Semester"}),c.jsxs("select",{className:"form-select",value:g.semester,disabled:!g.courseCode,onChange:G=>p({...g,semester:G.target.value}),children:[c.jsx("option",{value:"",children:"Select Semester"}),[1,2,3,4,5,6].map(G=>c.jsxs("option",{value:G,children:["Sem ",G]},G))]})]})]}),c.jsxs("div",{className:"mt-4",children:[B&&c.jsxs("div",{className:"d-flex flex-wrap justify-content-between align-items-center gap-3 mb-2",children:[c.jsxs("div",{className:"d-flex align-items-center gap-2",children:[c.jsx("span",{className:"fw-semibold",children:"Matched students"}),c.jsx("span",{className:"text-muted small",children:"Show"}),c.jsx("input",{type:"number",className:"form-control form-control-sm",min:"1",placeholder:q||"0",value:b,style:{width:"90px"},onChange:G=>Q(G.target.value),"aria-label":"Rows to show"}),c.jsx("span",{className:"text-muted small",children:"entries"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 ms-auto",children:[c.jsx("span",{className:"text-muted small",children:"Search"}),c.jsx("input",{type:"search",className:"form-control form-control-sm",placeholder:"Student ID / Name",value:j,onChange:G=>_(G.target.value),style:{width:"200px"},"aria-label":"Search students"})]})]}),B?O.length===0?c.jsx("div",{className:"text-muted small",children:"No students match the selected filters yet."}):c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-hover align-middle mb-0",children:[c.jsx("thead",{className:"table-light",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",children:"Photo"}),c.jsx("th",{scope:"col",children:"Academic year"}),c.jsx("th",{scope:"col",children:"Student ID"}),c.jsx("th",{scope:"col",children:"Hall ticket"}),c.jsx("th",{scope:"col",children:"Name"}),c.jsx("th",{scope:"col",children:"Group"}),c.jsx("th",{scope:"col",children:"Course"}),c.jsx("th",{scope:"col",className:"text-end",children:"Action"})]})}),c.jsx("tbody",{children:O.map(G=>{const re=G.full_name||G.name||"Unnamed student",de=G.academic_year||"Year not set",W=ee(G),se=R(G),ce=(W==null?void 0:W.name)||G.group_name||G.group||G.group_code||"Group unknown",we=(se==null?void 0:se.courseName)||G.course_name||G.course_code||G.course_id||"Course unknown";W!=null&&W.name||G.department||G.department_name||G.group_name||G.group,G.semester&&`${G.semester}`;const C=G.hall_ticket_number||G.hall_ticket||G.hallTicketNo||G.hall_ticket_no||"N/A",z=G.photo_url||G.photo||G.avatar,L=K(re);return c.jsxs("tr",{children:[c.jsx("td",{children:z?c.jsx("img",{src:z,alt:re,className:"rounded-circle",style:{width:40,height:40,objectFit:"cover"}}):c.jsx("div",{className:"bg-secondary text-white rounded-circle d-inline-flex align-items-center justify-content-center",style:{width:40,height:40,fontSize:12},children:L})}),c.jsx("td",{children:de}),c.jsx("td",{className:"fw-semibold",children:G.student_id}),c.jsx("td",{children:C}),c.jsx("td",{children:re}),c.jsx("td",{children:ce}),c.jsx("td",{children:we}),c.jsx("td",{className:"text-end",children:c.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>D("/admin/studentpayoverview",{state:{studentId:G.student_id}}),children:""})})]},`${G.student_id}-row`)})})]})}):c.jsx("div",{className:"text-muted small",children:"Select Academic Year, Group, Course, or Semester to see matching students."})]})]})]})}var Nk=Object.defineProperty,Nh=Object.getOwnPropertySymbols,j_=Object.prototype.hasOwnProperty,k_=Object.prototype.propertyIsEnumerable,u2=(e,t,r)=>t in e?Nk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d2=(e,t)=>{for(var r in t||(t={}))j_.call(t,r)&&u2(e,r,t[r]);if(Nh)for(var r of Nh(t))k_.call(t,r)&&u2(e,r,t[r]);return e},Sk=(e,t)=>{var r={};for(var n in e)j_.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Nh)for(var n of Nh(e))t.indexOf(n)<0&&k_.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ha;(e=>{const t=class{constructor(o,d,f,m){if(this.version=o,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],o<t.MIN_VERSION||o>t.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=o*4+17;let g=[];for(let b=0;b<this.size;b++)g.push(!1);for(let b=0;b<this.size;b++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(f);if(this.drawCodewords(p),m==-1){let b=1e9;for(let N=0;N<8;N++){this.applyMask(N),this.drawFormatBits(N);const j=this.getPenaltyScore();j<b&&(m=N,b=j),this.applyMask(N)}}i(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(o,d){const f=e.QrSegment.makeSegments(o);return t.encodeSegments(f,d)}static encodeBinary(o,d){const f=e.QrSegment.makeBytes(o);return t.encodeSegments([f],d)}static encodeSegments(o,d,f=1,m=40,g=-1,p=!0){if(!(t.MIN_VERSION<=f&&f<=m&&m<=t.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let b,N;for(b=f;;b++){const S=t.getNumDataCodewords(b,d)*8,D=l.getTotalBits(o,b);if(D<=S){N=D;break}if(b>=m)throw new RangeError("Data too long")}for(const S of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&N<=t.getNumDataCodewords(b,S)*8&&(d=S);let j=[];for(const S of o){n(S.mode.modeBits,4,j),n(S.numChars,S.mode.numCharCountBits(b),j);for(const D of S.getData())j.push(D)}i(j.length==N);const _=t.getNumDataCodewords(b,d)*8;i(j.length<=_),n(0,Math.min(4,_-j.length),j),n(0,(8-j.length%8)%8,j),i(j.length%8==0);for(let S=236;j.length<_;S^=253)n(S,8,j);let w=[];for(;w.length*8<j.length;)w.push(0);return j.forEach((S,D)=>w[D>>>3]|=S<<7-(D&7)),new t(b,d,w,g)}getModule(o,d){return 0<=o&&o<this.size&&0<=d&&d<this.size&&this.modules[d][o]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const o=this.getAlignmentPatternPositions(),d=o.length;for(let f=0;f<d;f++)for(let m=0;m<d;m++)f==0&&m==0||f==0&&m==d-1||f==d-1&&m==0||this.drawAlignmentPattern(o[f],o[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(o){const d=this.errorCorrectionLevel.formatBits<<3|o;let f=d;for(let g=0;g<10;g++)f=f<<1^(f>>>9)*1335;const m=(d<<10|f)^21522;i(m>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,s(m,g));this.setFunctionModule(8,7,s(m,6)),this.setFunctionModule(8,8,s(m,7)),this.setFunctionModule(7,8,s(m,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,s(m,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,s(m,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,s(m,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let o=this.version;for(let f=0;f<12;f++)o=o<<1^(o>>>11)*7973;const d=this.version<<12|o;i(d>>>18==0);for(let f=0;f<18;f++){const m=s(d,f),g=this.size-11+f%3,p=Math.floor(f/3);this.setFunctionModule(g,p,m),this.setFunctionModule(p,g,m)}}drawFinderPattern(o,d){for(let f=-4;f<=4;f++)for(let m=-4;m<=4;m++){const g=Math.max(Math.abs(m),Math.abs(f)),p=o+m,b=d+f;0<=p&&p<this.size&&0<=b&&b<this.size&&this.setFunctionModule(p,b,g!=2&&g!=4)}}drawAlignmentPattern(o,d){for(let f=-2;f<=2;f++)for(let m=-2;m<=2;m++)this.setFunctionModule(o+m,d+f,Math.max(Math.abs(m),Math.abs(f))!=1)}setFunctionModule(o,d,f){this.modules[d][o]=f,this.isFunction[d][o]=!0}addEccAndInterleave(o){const d=this.version,f=this.errorCorrectionLevel;if(o.length!=t.getNumDataCodewords(d,f))throw new RangeError("Invalid argument");const m=t.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d],g=t.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d],p=Math.floor(t.getNumRawDataModules(d)/8),b=m-p%m,N=Math.floor(p/m);let j=[];const _=t.reedSolomonComputeDivisor(g);for(let S=0,D=0;S<m;S++){let B=o.slice(D,D+N-g+(S<b?0:1));D+=B.length;const ee=t.reedSolomonComputeRemainder(B,_);S<b&&B.push(0),j.push(B.concat(ee))}let w=[];for(let S=0;S<j[0].length;S++)j.forEach((D,B)=>{(S!=N-g||B>=b)&&w.push(D[S])});return i(w.length==p),w}drawCodewords(o){if(o.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let m=0;m<this.size;m++)for(let g=0;g<2;g++){const p=f-g,N=(f+1&2)==0?this.size-1-m:m;!this.isFunction[N][p]&&d<o.length*8&&(this.modules[N][p]=s(o[d>>>3],7-(d&7)),d++)}}i(d==o.length*8)}applyMask(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let f=0;f<this.size;f++){let m;switch(o){case 0:m=(f+d)%2==0;break;case 1:m=d%2==0;break;case 2:m=f%3==0;break;case 3:m=(f+d)%3==0;break;case 4:m=(Math.floor(f/3)+Math.floor(d/2))%2==0;break;case 5:m=f*d%2+f*d%3==0;break;case 6:m=(f*d%2+f*d%3)%2==0;break;case 7:m=((f+d)%2+f*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][f]&&m&&(this.modules[d][f]=!this.modules[d][f])}}getPenaltyScore(){let o=0;for(let g=0;g<this.size;g++){let p=!1,b=0,N=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[g][j]==p?(b++,b==5?o+=t.PENALTY_N1:b>5&&o++):(this.finderPenaltyAddHistory(b,N),p||(o+=this.finderPenaltyCountPatterns(N)*t.PENALTY_N3),p=this.modules[g][j],b=1);o+=this.finderPenaltyTerminateAndCount(p,b,N)*t.PENALTY_N3}for(let g=0;g<this.size;g++){let p=!1,b=0,N=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[j][g]==p?(b++,b==5?o+=t.PENALTY_N1:b>5&&o++):(this.finderPenaltyAddHistory(b,N),p||(o+=this.finderPenaltyCountPatterns(N)*t.PENALTY_N3),p=this.modules[j][g],b=1);o+=this.finderPenaltyTerminateAndCount(p,b,N)*t.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let p=0;p<this.size-1;p++){const b=this.modules[g][p];b==this.modules[g][p+1]&&b==this.modules[g+1][p]&&b==this.modules[g+1][p+1]&&(o+=t.PENALTY_N2)}let d=0;for(const g of this.modules)d=g.reduce((p,b)=>p+(b?1:0),d);const f=this.size*this.size,m=Math.ceil(Math.abs(d*20-f*10)/f)-1;return i(0<=m&&m<=9),o+=m*t.PENALTY_N4,i(0<=o&&o<=2568888),o}getAlignmentPatternPositions(){if(this.version==1)return[];{const o=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(o*2-2))*2;let f=[6];for(let m=this.size-7;f.length<o;m-=d)f.splice(1,0,m);return f}}static getNumRawDataModules(o){if(o<t.MIN_VERSION||o>t.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*o+128)*o+64;if(o>=2){const f=Math.floor(o/7)+2;d-=(25*f-10)*f-55,o>=7&&(d-=36)}return i(208<=d&&d<=29648),d}static getNumDataCodewords(o,d){return Math.floor(t.getNumRawDataModules(o)/8)-t.ECC_CODEWORDS_PER_BLOCK[d.ordinal][o]*t.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][o]}static reedSolomonComputeDivisor(o){if(o<1||o>255)throw new RangeError("Degree out of range");let d=[];for(let m=0;m<o-1;m++)d.push(0);d.push(1);let f=1;for(let m=0;m<o;m++){for(let g=0;g<d.length;g++)d[g]=t.reedSolomonMultiply(d[g],f),g+1<d.length&&(d[g]^=d[g+1]);f=t.reedSolomonMultiply(f,2)}return d}static reedSolomonComputeRemainder(o,d){let f=d.map(m=>0);for(const m of o){const g=m^f.shift();f.push(0),d.forEach((p,b)=>f[b]^=t.reedSolomonMultiply(p,g))}return f}static reedSolomonMultiply(o,d){if(o>>>8||d>>>8)throw new RangeError("Byte out of range");let f=0;for(let m=7;m>=0;m--)f=f<<1^(f>>>7)*285,f^=(d>>>m&1)*o;return i(f>>>8==0),f}finderPenaltyCountPatterns(o){const d=o[1];i(d<=this.size*3);const f=d>0&&o[2]==d&&o[3]==d*3&&o[4]==d&&o[5]==d;return(f&&o[0]>=d*4&&o[6]>=d?1:0)+(f&&o[6]>=d*4&&o[0]>=d?1:0)}finderPenaltyTerminateAndCount(o,d,f){return o&&(this.finderPenaltyAddHistory(d,f),d=0),d+=this.size,this.finderPenaltyAddHistory(d,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(o,d){d[0]==0&&(o+=this.size),d.pop(),d.unshift(o)}};let r=t;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;function n(o,d,f){if(d<0||d>31||o>>>d)throw new RangeError("Value out of range");for(let m=d-1;m>=0;m--)f.push(o>>>m&1)}function s(o,d){return(o>>>d&1)!=0}function i(o){if(!o)throw new Error("Assertion error")}const a=class{constructor(o,d,f){if(this.mode=o,this.numChars=d,this.bitData=f,d<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(o){let d=[];for(const f of o)n(f,8,d);return new a(a.Mode.BYTE,o.length,d)}static makeNumeric(o){if(!a.isNumeric(o))throw new RangeError("String contains non-numeric characters");let d=[];for(let f=0;f<o.length;){const m=Math.min(o.length-f,3);n(parseInt(o.substr(f,m),10),m*3+1,d),f+=m}return new a(a.Mode.NUMERIC,o.length,d)}static makeAlphanumeric(o){if(!a.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],f;for(f=0;f+2<=o.length;f+=2){let m=a.ALPHANUMERIC_CHARSET.indexOf(o.charAt(f))*45;m+=a.ALPHANUMERIC_CHARSET.indexOf(o.charAt(f+1)),n(m,11,d)}return f<o.length&&n(a.ALPHANUMERIC_CHARSET.indexOf(o.charAt(f)),6,d),new a(a.Mode.ALPHANUMERIC,o.length,d)}static makeSegments(o){return o==""?[]:a.isNumeric(o)?[a.makeNumeric(o)]:a.isAlphanumeric(o)?[a.makeAlphanumeric(o)]:[a.makeBytes(a.toUtf8ByteArray(o))]}static makeEci(o){let d=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)n(o,8,d);else if(o<16384)n(2,2,d),n(o,14,d);else if(o<1e6)n(6,3,d),n(o,21,d);else throw new RangeError("ECI assignment value out of range");return new a(a.Mode.ECI,0,d)}static isNumeric(o){return a.NUMERIC_REGEX.test(o)}static isAlphanumeric(o){return a.ALPHANUMERIC_REGEX.test(o)}getData(){return this.bitData.slice()}static getTotalBits(o,d){let f=0;for(const m of o){const g=m.mode.numCharCountBits(d);if(m.numChars>=1<<g)return 1/0;f+=4+g+m.bitData.length}return f}static toUtf8ByteArray(o){o=encodeURI(o);let d=[];for(let f=0;f<o.length;f++)o.charAt(f)!="%"?d.push(o.charCodeAt(f)):(d.push(parseInt(o.substr(f+1,2),16)),f+=2);return d}};let l=a;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=l})(Ha||(Ha={}));(e=>{(t=>{const r=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Ha||(Ha={}));(e=>{(t=>{const r=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Ha||(Ha={}));var fc=Ha;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var jk={L:fc.QrCode.Ecc.LOW,M:fc.QrCode.Ecc.MEDIUM,Q:fc.QrCode.Ecc.QUARTILE,H:fc.QrCode.Ecc.HIGH},kk=128,Ak="L",Ck="#FFFFFF",Ek="#000000",Pk=!1,A_=4,Lk=.1;function Tk(e,t=0){const r=[];return e.forEach(function(n,s){let i=null;n.forEach(function(a,l){if(!a&&i!==null){r.push(`M${i+t} ${s+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===n.length-1){if(!a)return;i===null?r.push(`M${l+t},${s+t} h1v1H${l+t}z`):r.push(`M${i+t},${s+t} h${l+1-i}v1H${i+t}z`);return}a&&i===null&&(i=l)})}),r.join("")}function Ik(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((s,i)=>i<t.x||i>=t.x+t.w?s:!1))}function Ok(e,t,r,n){if(n==null)return null;const s=r?A_:0,i=e.length+s*2,a=Math.floor(t*Lk),l=i/t,o=(n.width||a)*l,d=(n.height||a)*l,f=n.x==null?e.length/2-o/2:n.x*l,m=n.y==null?e.length/2-d/2:n.y*l;let g=null;if(n.excavate){let p=Math.floor(f),b=Math.floor(m),N=Math.ceil(o+f-p),j=Math.ceil(d+m-b);g={x:p,y:b,w:N,h:j}}return{x:f,y:m,h:d,w:o,excavation:g}}var Rk=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Fk(e){const t=e,{value:r,size:n=kk,level:s=Ak,bgColor:i=Ck,fgColor:a=Ek,includeMargin:l=Pk,style:o,imageSettings:d}=t,f=Sk(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),m=d==null?void 0:d.src,g=ws.useRef(null),p=ws.useRef(null),[b,N]=ws.useState(!1);ws.useEffect(()=>{if(g.current!=null){const w=g.current,S=w.getContext("2d");if(!S)return;let D=fc.QrCode.encodeText(r,jk[s]).getModules();const B=l?A_:0,ee=D.length+B*2,R=Ok(D,n,l,d),I=p.current,U=R!=null&&I!==null&&I.complete&&I.naturalHeight!==0&&I.naturalWidth!==0;U&&R.excavation!=null&&(D=Ik(D,R.excavation));const q=window.devicePixelRatio||1;w.height=w.width=n*q;const E=n/ee*q;S.scale(E,E),S.fillStyle=i,S.fillRect(0,0,ee,ee),S.fillStyle=a,Rk?S.fill(new Path2D(Tk(D,B))):D.forEach(function(O,Q){O.forEach(function(K,G){K&&S.fillRect(G+B,Q+B,1,1)})}),U&&S.drawImage(I,R.x+B,R.y+B,R.w,R.h)}}),ws.useEffect(()=>{N(!1)},[m]);const j=d2({height:n,width:n},o);let _=null;return m!=null&&(_=ws.createElement("img",{src:m,key:m,style:{display:"none"},onLoad:()=>{N(!0)},ref:p})),ws.createElement(ws.Fragment,null,ws.createElement("canvas",d2({style:j,height:n,width:n,ref:g},f)),_)}function Dk(e="EX1"){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let r="";for(let n=0;n<6;n++)r+=t[Math.floor(Math.random()*t.length)];return`${e}-${r}`}function Mk(){const[e,t]=X.useState([]),[r,n]=X.useState([]),[s,i]=X.useState({student_id:"",exam_id:""}),[a,l]=X.useState(""),o=X.useRef(null);X.useEffect(()=>{(async()=>(t(await xe.listStudents()),n(await xe.listExams())))()},[]);const d=async()=>{if(!s.student_id||!s.exam_id)return alert("Select student & exam");const m=(await xe.listExams()).find(b=>String(b.id)===String(s.exam_id)),g=((m==null?void 0:m.title)||"EX").split(" ")[0],p=Dk(g);l(p),await xe.upsertHallTicket({student_id:s.student_id,exam_id:s.exam_id,token:p})},f=async()=>{var _;const m=(await xe.listStudents()).find(w=>w.student_id===s.student_id),g=(await xe.listExams()).find(w=>String(w.id)===String(s.exam_id));if(!m||!g||!a)return alert("Generate first");const p=new ut({unit:"pt",format:"a4"});p.setFontSize(16),p.text("Vijayam College of Arts & Science  Chennai",40,40),p.roundedRect(32,56,530,300,8,8),p.setFontSize(18),p.text("Hall Ticket",40,80),p.setFontSize(12),p.text(`Name: ${m.full_name}`,48,110),p.text(`Permanent HT No: ${m.hall_ticket_no}`,48,132),p.text(`Exam: ${g.title}`,48,154),p.text(`Date: ${g.date}  Time: ${g.time}`,48,176),p.text(`Venue: ${g.venue}`,48,198),p.setTextColor("#1FAA59"),p.text(`Encoded Token: ${a}`,48,220),p.setTextColor("#000");const b=(_=o.current)==null?void 0:_.querySelector("canvas");if(b){const w=b.toDataURL("image/png");p.addImage(w,"PNG",420,110,120,120)}p.setFontSize(11);const N=["Carry a valid photo ID.","Report 30 minutes before the exam.","No mobile phones/smart devices.","Use permitted stationery only."];let j=250;p.text("Rules:",48,j),j+=16,N.forEach(w=>{p.text(` ${w}`,56,j),j+=16}),p.text("Signature (Controller of Examinations) ____________________",48,340),p.save(`HallTicket_${m.hall_ticket_no}_${g.title}.pdf`)};return c.jsxs(Ts,{children:[c.jsx("h2",{className:"fw-bold mb-3",children:"Hall Ticket Generator"}),c.jsxs("div",{className:"card card-soft p-3",children:[c.jsxs("div",{className:"row g-2",children:[c.jsx("div",{className:"col-md-4",children:c.jsxs("select",{className:"form-select",value:s.student_id,onChange:m=>i({...s,student_id:m.target.value}),children:[c.jsx("option",{value:"",children:"Select Student"}),e.map(m=>c.jsxs("option",{value:m.student_id,children:[m.student_id,"  ",m.full_name]},m.student_id))]})}),c.jsx("div",{className:"col-md-4",children:c.jsxs("select",{className:"form-select",value:s.exam_id,onChange:m=>i({...s,exam_id:m.target.value}),children:[c.jsx("option",{value:"",children:"Select Exam"}),r.map(m=>c.jsxs("option",{value:m.id,children:[m.title," (",m.date,")"]},m.id))]})}),c.jsx("div",{className:"col-md-4",children:c.jsx("button",{className:"btn btn-brand w-100",onClick:d,children:"Generate Token"})})]}),a&&c.jsxs("div",{className:"mt-3 p-3 border rounded",ref:o,children:[c.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-muted small",children:"Encoded Token"}),c.jsx("div",{className:"fw-bold",children:a})]}),c.jsx(Fk,{value:a,size:128,includeMargin:!0})]}),c.jsx("div",{className:"mt-2 d-flex justify-content-end",children:c.jsx("button",{className:"btn btn-accent",onClick:f,children:"Print / Download PDF"})})]})]})]})}function Bk(){const[e,t]=X.useState([]),[r,n]=X.useState([]),[s,i]=X.useState({student_id:"",exam_id:"",total:"",grade:""}),[a,l]=X.useState(!1);X.useEffect(()=>{(async()=>(t(await xe.listStudents()),n(await xe.listExams())))()},[]);const o=async()=>{!s.student_id||!s.exam_id||!s.total||!s.grade||(l(!0),await xe.addResult({student_id:s.student_id,exam_id:s.exam_id,total:Number(s.total),grade:s.grade}),i({student_id:"",exam_id:"",total:"",grade:""}),l(!1))};return c.jsxs(Ts,{children:[c.jsx("h2",{className:"fw-bold mb-3",children:"Publish Results"}),c.jsxs("div",{className:"card card-soft p-3",children:[c.jsxs("div",{className:"row g-2",children:[c.jsx("div",{className:"col-md-4",children:c.jsxs("select",{className:"form-select",value:s.student_id,onChange:d=>i({...s,student_id:d.target.value}),children:[c.jsx("option",{value:"",children:"Select Student"}),e.map(d=>c.jsxs("option",{value:d.student_id,children:[d.student_id,"  ",d.full_name]},d.student_id))]})}),c.jsx("div",{className:"col-md-4",children:c.jsxs("select",{className:"form-select",value:s.exam_id,onChange:d=>i({...s,exam_id:d.target.value}),children:[c.jsx("option",{value:"",children:"Select Exam"}),r.map(d=>c.jsxs("option",{value:d.id,children:[d.title," (",d.date,")"]},d.id))]})}),c.jsx("div",{className:"col-md-2",children:c.jsx("input",{type:"number",className:"form-control",placeholder:"Total",value:s.total,onChange:d=>i({...s,total:d.target.value})})}),c.jsx("div",{className:"col-md-2",children:c.jsx("input",{className:"form-control",placeholder:"Grade (e.g., A)",value:s.grade,onChange:d=>i({...s,grade:d.target.value})})})]}),c.jsx("div",{className:"mt-3 d-flex justify-content-end",children:c.jsx("button",{className:"btn btn-brand",disabled:a,onClick:o,children:a?"Saving...":"Add Result"})})]})]})}function Uk({yearForm:e,setYearForm:t,academicYears:r=[],editingYearId:n,addYear:s,editYear:i,deleteYear:a,onCancelEdit:l}){return c.jsxs("section",{className:"setup-section mb-4",children:[c.jsx("h5",{className:"section-title",children:"Academic Years"}),c.jsxs("div",{className:"row g-2",children:[c.jsxs("div",{className:"col-md-5",children:[c.jsx("label",{className:"form-label fw-bold mb-1",children:"Academic Year Name"}),c.jsx("input",{className:"form-control",placeholder:"e.g., 2022-2025",required:!0,value:e.name,onChange:o=>t({...e,name:o.target.value})})]}),c.jsx("div",{className:"col-md-3 d-flex align-items-center",children:c.jsxs("div",{className:"form-check",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"activeYear",checked:e.active,onChange:o=>t({...e,active:o.target.checked})}),c.jsx("label",{className:"form-check-label ms-2",htmlFor:"activeYear",children:"Active"})]})}),c.jsxs("div",{className:"col-md-4 text-end",children:[c.jsx("button",{className:"btn btn-brand me-2",onClick:s,children:n?"Update Year":"Add Year"}),n&&c.jsx("button",{className:"btn btn-outline-secondary",onClick:l,children:"Cancel"})]})]}),Array.isArray(r)&&r.length>0&&c.jsx("div",{className:"setup-list mt-3",children:r.map(o=>c.jsxs("div",{className:"setup-list-item",children:[c.jsxs("div",{children:[c.jsx("div",{className:"setup-list-title",children:o.name||o.academic_year}),c.jsx("div",{className:"setup-list-meta",children:"Created"})]}),c.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[c.jsx("span",{className:`status-pill ${o.active?"status-pill--active":"status-pill--inactive"}`,children:o.active?"Active":"Inactive"}),c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>i(o),children:"Edit"}),c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>a(o.id),children:"Delete"})]})]},o.id||o.academic_year||o.name))})]})}function qk({groupForm:e,setGroupForm:t,editingGroupId:r,setEditingGroupId:n,groups:s,saveGroup:i,editGroup:a,deleteGroup:l,courseForm:o,setCourseForm:d,editingCourseId:f,setEditingCourseId:m,courses:g,saveCourse:p,editCourse:b,deleteCourse:N}){const j={borderRadius:"18px",border:"1px solid #e2e8f0",background:"linear-gradient(180deg, #ffffff 0%, #f7f9fc 100%)",boxShadow:"0 18px 35px rgba(15,23,42,0.08)"},_={backgroundColor:"#ecf0ff",color:"#1d3ecf",fontWeight:600,borderRadius:"999px",padding:"0.35rem 0.9rem"},w={borderRadius:"999px",border:"1px solid #e2e8f0",backgroundColor:"#ffffff",fontWeight:600,color:"#0f172a"},S={borderRadius:"18px",border:"1px solid #e1e7ef",background:"linear-gradient(180deg, #ffffff 0%, #f3f6fb 100%)",boxShadow:"0 16px 32px rgba(15,23,42,0.07)"},D={backgroundColor:"#e0f2fe",color:"#0369a1",fontWeight:600,borderRadius:"999px",padding:"0.35rem 0.9rem"};return c.jsxs(c.Fragment,{children:[c.jsxs("section",{className:"setup-section mb-4",children:[c.jsx("h5",{className:"section-title",children:"Groups"}),c.jsx("div",{className:"row",children:c.jsxs("div",{className:"col-12",children:[c.jsxs("div",{className:"row g-2",children:[c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label fw-bold mb-1",children:"Category"}),c.jsxs("select",{className:"form-select",value:e.category,onChange:B=>t({...e,category:B.target.value}),required:!0,children:[c.jsx("option",{value:"",children:"Select Category"}),c.jsx("option",{value:"UG",children:"UG"}),c.jsx("option",{value:"PG",children:"PG"})]})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label fw-bold mb-1",children:"Group Code"}),c.jsx("input",{className:"form-control",placeholder:"Group Code",required:!0,value:e.code,onChange:B=>t({...e,code:B.target.value.toUpperCase()})})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label fw-bold mb-1",children:"Group Name"}),c.jsx("input",{className:"form-control",placeholder:"Group Name",required:!0,value:e.name,onChange:B=>t({...e,name:B.target.value})})]}),c.jsxs("div",{className:"col-md-3 col-lg-2",children:[c.jsx("label",{className:"form-label fw-bold mb-1",children:"Duration (years)"}),c.jsx("input",{type:"number",className:"form-control no-spinner",placeholder:"Years",value:e.years,onChange:B=>t({...e,years:B.target.value}),style:{"-moz-appearance":"textfield"},onWheel:B=>B.target.blur()})]}),c.jsxs("div",{className:"col-md-3 col-lg-2",children:[c.jsx("label",{className:"form-label fw-bold mb-1",children:"Number of semesters"}),c.jsx("input",{type:"number",className:"form-control no-spinner",placeholder:"No. of Semesters",value:e.semesters,onChange:B=>t({...e,semesters:B.target.value}),style:{"-moz-appearance":"textfield"},onWheel:B=>B.target.blur()})]})]}),c.jsxs("div",{className:"mt-3",children:[c.jsx("button",{className:"btn btn-brand me-2",onClick:i,children:r?"Update Group":"Add Group"}),r&&c.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>{t({id:"",category:"",code:"",name:"",years:0,semesters:0}),n("")},children:"Cancel"})]})]})}),s.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:c.jsxs("span",{className:"text-muted text-uppercase fw-semibold small",style:{letterSpacing:"0.08em"},children:["Showing ",s.length," group",s.length===1?"":"s"]})}),c.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-3",children:s.map(B=>c.jsx("div",{className:"col",children:c.jsx("div",{className:"card border-0 h-100",style:j,children:c.jsxs("div",{className:"card-body d-flex flex-column",children:[c.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-uppercase text-muted small mb-1",children:"Group Name"}),c.jsx("div",{className:"fs-5 fw-bold",children:B.name||"-"}),c.jsx("div",{className:"text-muted small",children:B.code||"-"})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"0.35rem"},children:B.category?c.jsx("span",{style:_,children:B.category}):null})]}),c.jsxs("div",{className:"d-flex flex-wrap gap-4 mb-4 text-muted",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-uppercase small",children:"Duration"}),c.jsxs("div",{className:"fw-semibold text-dark",children:[B.years||"-"," Years"]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-uppercase small",children:"Semesters"}),c.jsx("div",{className:"fw-semibold text-dark",children:B.semesters||"-"})]})]}),c.jsxs("div",{className:"mt-auto d-flex gap-2",children:[c.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:w,onClick:()=>a(B),children:"Edit"}),c.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:{...w,color:"#b91c1c",borderColor:"#fde2e1",backgroundColor:"#fff5f5"},onClick:()=>l(B.id),children:"Delete"})]})]})})},B.id))})]})]}),c.jsxs("section",{className:"setup-section mb-4",children:[c.jsx("h5",{className:"section-title",children:"Courses"}),c.jsx("div",{className:"row",children:c.jsxs("div",{className:"col-md-8",children:[c.jsxs("div",{className:"row g-2",children:[c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label fw-bold mb-1",children:"Select Group"}),c.jsxs("select",{className:"form-select",required:!0,value:o.groupCode,onChange:B=>d({...o,groupCode:B.target.value}),children:[c.jsx("option",{value:"",children:"Select Group"}),s.map(B=>c.jsx("option",{value:B.code,children:B.name||B.code},B.id))]})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label fw-bold mb-1",children:"Course Code"}),c.jsx("input",{className:"form-control",placeholder:"Enter Course Code",required:!0,value:o.courseCode,onChange:B=>d({...o,courseCode:B.target.value.toUpperCase()})})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{className:"form-label fw-bold mb-1",children:"Course Name"}),c.jsx("input",{className:"form-control",placeholder:"Enter Course Name",required:!0,value:o.courseName,onChange:B=>d({...o,courseName:B.target.value})})]})]}),c.jsxs("div",{className:"mt-3",children:[c.jsx("button",{className:"btn btn-brand me-2",onClick:p,children:f?"Update Course":"Add Course"}),f&&c.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>{d({id:"",groupCode:"",courseCode:"",courseName:"",semesters:6}),m("")},children:"Cancel"})]})]})}),g.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:c.jsxs("span",{className:"text-muted text-uppercase fw-semibold small",style:{letterSpacing:"0.08em"},children:["Showing ",g.length," course",g.length===1?"":"s"]})}),c.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-3",children:g.map(B=>c.jsx("div",{className:"col",children:c.jsx("div",{className:"card border-0 h-100",style:S,children:c.jsxs("div",{className:"card-body d-flex flex-column",children:[c.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-uppercase text-muted small mb-1",children:"Course Name"}),c.jsx("div",{className:"fs-5 fw-bold",children:B.courseName})]}),c.jsxs("span",{style:D,children:[B.semesters," sems"]})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("div",{className:"text-muted text-uppercase small mb-1",children:"Course Code"}),c.jsx("div",{className:"fw-semibold text-dark",children:B.courseCode})]}),c.jsx("p",{className:"text-muted text-uppercase small mb-1",children:"Group"}),c.jsx("p",{className:"fw-semibold text-dark mb-4",children:B.groupCode}),c.jsxs("div",{className:"mt-auto d-flex gap-2",children:[c.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:w,onClick:()=>b(B),children:"Edit"}),c.jsx("button",{type:"button",className:"btn btn-sm flex-fill",style:{...w,color:"#b91c1c",borderColor:"#fde2e1",backgroundColor:"#fff5f5"},onClick:()=>N(B.id),children:"Delete"})]})]})})},B.id))})]})]})]})}function zk({subjectForm:e,setSubjectForm:t,academicYears:r,groups:n,coursesForGroup:s,semForCourse:i,categories:a,setCategories:l,catItems:o,setCatItems:d,categoryName:f,setCategoryName:m,editingCategory:g,setEditingCategory:p,deleteCategory:b,saveCategory:N,pendingSubjects:j,subjects:_,editingSubjectId:w,saveSubject:S,submitPendingSubjects:D,editPendingSubject:B,deletePendingSubject:ee,editSubject:R,deleteSubject:I,onCancelSubjectEdit:U}){const q=r.reduce((L,V)=>((V==null?void 0:V.id)!==void 0&&(L[V.id]=V.name),L),{});q[e.academicYearId];const E=L=>L.academicYearName||q[L.academicYearId]||L.academicYearId||"-",O=(()=>{const L=r.filter(ie=>(ie==null?void 0:ie.active)!==!1);if(!e.academicYearId||L.some(ie=>String(ie.id)===String(e.academicYearId)))return L;const Y=r.find(ie=>String(ie.id)===String(e.academicYearId));return Y?[...L,Y]:L})(),Q=L=>{const V=(L==null?void 0:L.semester)??(L==null?void 0:L.semester_number)??(L==null?void 0:L.semesterNumber)??"";if(V==null||V==="")return"-";const Y=Number(V);return Number.isNaN(Y)?V:Y},K=e.extraSubjectNames||[],G=X.useMemo(()=>n.reduce((L,V)=>{const Y=V.groupCode||V.code||V.group_code||"";return Y&&(L[Y]=V.name||V.group_name||V.groupName||Y),L},{}),[n]),re=L=>G[L]||L||"-",de=(L=[])=>{const V=new Map;return L.forEach(Y=>{var Me;const ie=[Y.academicYearId||Y.academicYearName||"",Y.groupCode||"",Y.courseCode||"",Y.semester===void 0||Y.semester===null?"":Y.semester].join("::"),he=V.get(ie)||{comboKey:ie,academicYear:E(Y),groupCode:Y.groupCode,courseCode:Y.courseCode,courseName:Y.courseName,semester:Q(Y),categories:[]},me=Y.category||"Uncategorised";let Pe=he.categories.find(Fe=>Fe.name===me);Pe||(Pe={name:me,subjects:[],source:Y},he.categories.push(Pe));const ge=(Me=Y.subjectNames)!=null&&Me.length?Y.subjectNames:[Y.subjectName].filter(Boolean);Pe.subjects.push(...ge),V.set(ie,he)}),Array.from(V.values())},W=de(j),se=de(_),ce=(L,V)=>{t(Y=>{const ie=[...Y.extraSubjectNames||[]];return ie[L]=V,{...Y,extraSubjectNames:ie}})},we=L=>{t(V=>{const Y=[...V.extraSubjectNames||[]];return Y.splice(L,1),{...V,extraSubjectNames:Y}})},C=()=>{t(L=>({...L,extraSubjectNames:[...L.extraSubjectNames||[],""]}))},z=c.jsxs(c.Fragment,{children:[K.map((L,V)=>c.jsxs("div",{className:"d-flex gap-2 mt-2",children:[c.jsx("input",{className:"form-control",placeholder:`Subject ${V+2}`,value:L,onChange:Y=>ce(V,Y.target.value)}),c.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>we(V),children:"Remove"})]},`extra-${V}`)),c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mt-3",onClick:C,children:"Add another subject"})]});return c.jsxs(c.Fragment,{children:[c.jsxs("section",{className:"setup-section mb-4",children:[c.jsx("h5",{className:"section-title",children:"Sub-categories"}),c.jsxs("div",{className:"subcat-input-panel",children:[c.jsxs("div",{className:"flex-grow-1",children:[c.jsxs("label",{className:"form-label fw-bold mb-1",children:["Sub-category Name ",c.jsx("span",{className:"text-danger",children:"*"})]}),c.jsx("p",{className:"text-uppercase text-muted small mb-1",children:g?"Update existing sub-category":"Add a new sub-category"}),c.jsxs("div",{className:"d-flex gap-2 flex-wrap",children:[c.jsx("input",{className:"form-control flex-grow-1",placeholder:"e.g., English",required:!0,value:f,onChange:L=>m(L.target.value),onKeyDown:L=>{L.key==="Enter"&&(L.preventDefault(),N())}}),c.jsx("button",{type:"button",className:"btn btn-brand",onClick:N,children:g?"Update":"Add"}),g&&c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{m(""),p("")},children:"Cancel"})]})]}),c.jsxs("div",{className:"subcat-input-copy text-muted",children:[c.jsx("div",{className:"fw-semibold text-dark",children:"Organise subjects into sub-categories"}),c.jsx("div",{className:"small",children:"Create descriptive buckets (e.g., Languages, Labs) to streamline subject assignment."})]})]}),a.length===0&&c.jsx("div",{className:"alert alert-info mb-0",children:"Add a sub-category to begin creating subjects."}),c.jsx("div",{className:"subcat-grid",children:a.map(L=>((o[L]||[]).length,c.jsxs("div",{className:"subcat-panel",children:[c.jsxs("div",{className:"subcat-panel-header",children:[c.jsx("div",{children:c.jsx("div",{className:"subcat-panel-title",children:L})}),c.jsxs("div",{className:"subcat-panel-actions",children:[c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>{m(L),p(L)},children:"Rename"}),c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>b(L),children:"Delete"})]})]}),c.jsx("div",{className:"mt-3 text-muted small",children:"Subjects for this category can be added directly from the Subjects tab."})]},L)))})]}),c.jsxs("section",{className:"setup-section mb-4",children:[c.jsx("h5",{className:"section-title",children:"Subjects"}),c.jsxs("div",{className:"row g-3",children:[c.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[c.jsxs("label",{className:"form-label fw-bold mb-1",children:["Academic Year ",c.jsx("span",{className:"text-danger",children:"*"})]}),c.jsxs("select",{className:"form-select",required:!0,value:e.academicYearId,onChange:L=>{const V=L.target.value,Y=r.find(ie=>String(ie.id)===String(V));t({...e,academicYearId:V,academicYearName:(Y==null?void 0:Y.name)||""})},children:[c.jsx("option",{value:"",children:"Select Year"}),O.map(L=>c.jsx("option",{value:L.id,children:L.name},L.id))]})]}),c.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[c.jsxs("label",{className:"form-label fw-bold mb-1",children:["Group ",c.jsx("span",{className:"text-danger",children:"*"})]}),c.jsxs("select",{className:"form-select",required:!0,value:e.groupCode,onChange:L=>t({...e,groupCode:L.target.value,courseCode:"",semester:""}),children:[c.jsx("option",{value:"",children:"Select Group"}),n.map(L=>c.jsx("option",{value:L.code,children:L.name||L.code},L.id))]})]}),c.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[c.jsxs("label",{className:"form-label fw-bold mb-1",children:["Course ",c.jsx("span",{className:"text-danger",children:"*"})]}),c.jsxs("select",{className:"form-select",required:!0,value:e.courseCode,onChange:L=>{const V=L.target.value,Y=s.find(ie=>ie.courseCode===V);t({...e,courseCode:V,courseName:(Y==null?void 0:Y.courseName)||V,semester:""})},children:[c.jsx("option",{value:"",children:"Select Course"}),s.map(L=>c.jsx("option",{value:L.courseCode,children:L.courseName||L.name||L.courseCode},L.id))]})]}),c.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[c.jsxs("label",{className:"form-label fw-bold mb-1",children:["Semester ",c.jsx("span",{className:"text-danger",children:"*"})]}),c.jsxs("select",{className:"form-select",required:!0,value:e.semester,onChange:L=>t({...e,semester:L.target.value}),children:[c.jsx("option",{value:"",children:"Select Semester"}),i.map(L=>c.jsxs("option",{value:L.number,children:["Semester ",L.number]},L.id))]})]}),c.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[c.jsxs("label",{className:"form-label fw-bold mb-1",children:["Sub-category ",c.jsx("span",{className:"text-danger",children:"*"})]}),c.jsxs("select",{className:"form-select",required:!0,value:e.category,onChange:L=>t({...e,category:L.target.value,subjectSelections:[],subjectName:""}),children:[c.jsx("option",{value:"",children:"Select Sub-category"}),a.map(L=>c.jsx("option",{value:L,children:L},L))]})]}),c.jsxs("div",{className:"col-12 col-sm-6 col-xl-3",children:[c.jsxs("label",{className:"form-label fw-bold mb-1",children:["Subject Name ",c.jsx("span",{className:"text-danger",children:"*"})]}),(o[e.category]||[]).length?c.jsxs("div",{className:"subject-checkbox-group",children:[o[e.category].map(L=>{var Y;const V=`subject-${L.id}`;return c.jsxs("div",{className:"form-check",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:V,checked:(Y=e.subjectSelections)==null?void 0:Y.includes(L.name),onChange:()=>t(ie=>{const he=new Set(ie.subjectSelections||[]);return he.has(L.name)?he.delete(L.name):he.add(L.name),{...ie,subjectSelections:Array.from(he),subjectName:""}})}),c.jsx("label",{className:"form-check-label",htmlFor:V,children:L.name})]},L.id)}),c.jsx("input",{className:"form-control mt-2",placeholder:"Or type custom subject",value:e.subjectName,onChange:L=>t({...e,subjectName:L.target.value,subjectSelections:[]})}),z]}):c.jsxs(c.Fragment,{children:[c.jsx("input",{className:"form-control",placeholder:"Subject Name",value:e.subjectName,onChange:L=>t({...e,subjectName:L.target.value})}),z]})]})]}),c.jsxs("div",{className:"mt-2 text-end",children:[c.jsx("button",{type:"button",className:"btn btn-accent",onClick:S,children:w?"Update Entry":"Add Entry"}),w&&c.jsx("button",{type:"button",className:"btn btn-outline-secondary ms-2",onClick:U,children:"Cancel"})]}),W.length>0&&c.jsxs("div",{className:"card card-soft p-3 mt-3",children:[c.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[c.jsxs("h6",{className:"section-title mb-0",children:["Pending Subjects (",W.length,")"]}),c.jsx("button",{type:"button",className:"btn btn-brand",onClick:D,children:"Submit All"})]}),c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table mb-0",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Year"}),c.jsx("th",{children:"Group"}),c.jsx("th",{children:"Course"}),c.jsx("th",{children:"Sem"}),c.jsx("th",{children:"Details"})]})}),c.jsx("tbody",{children:W.map(L=>c.jsxs("tr",{children:[c.jsx("td",{children:L.academicYear}),c.jsx("td",{children:re(L.groupCode)}),c.jsx("td",{children:L.courseName||L.courseCode||"-"}),c.jsx("td",{children:L.semester}),c.jsx("td",{children:L.categories.map(V=>{const Y=V.subjects.filter(Boolean).join(", ")||"-";return c.jsxs("div",{className:"mb-2",children:[c.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[c.jsx("span",{className:"fw-semibold",children:V.name}),c.jsxs("div",{className:"d-flex gap-2",children:[c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>B(V.source),children:"Edit"}),c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>ee(V.source),children:"Remove"})]})]}),c.jsx("div",{className:"small text-muted",children:Y})]},`${L.comboKey}-${V.name}`)})})]},L.comboKey))})]})})]}),se.length>0&&c.jsx("div",{className:"table-responsive mt-3",children:c.jsxs("table",{className:"table mb-0",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Year"}),c.jsx("th",{children:"Group"}),c.jsx("th",{children:"Course"}),c.jsx("th",{children:"Sem"}),c.jsx("th",{children:"Details"})]})}),c.jsx("tbody",{children:se.map(L=>c.jsxs("tr",{children:[c.jsx("td",{children:L.academicYear}),c.jsx("td",{children:re(L.groupCode)}),c.jsx("td",{children:L.courseName||L.courseCode||"-"}),c.jsx("td",{children:L.semester}),c.jsx("td",{children:L.categories.map(V=>{const Y=V.subjects.filter(Boolean).join(", ")||"-";return c.jsxs("div",{className:"mb-2",children:[c.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[c.jsx("span",{className:"fw-semibold",children:V.name}),c.jsxs("div",{className:"d-flex gap-2",children:[c.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>R(V.source),children:"Edit"}),c.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>I(V.source),children:"Delete"})]})]}),c.jsx("div",{className:"small text-muted",children:Y})]},`${L.comboKey}-${V.name}`)})})]},L.comboKey))})]})})]})]})}const h2=(e={})=>{const t=e.academicYearId||e.academicYearName||e.academic_year||"",r=e.groupCode||e.group||e.group_name||"",n=e.courseCode||e.courseName||e.course_code||e.course_name||"",s=e.semester??e.semester_number??e.semesterNumber??"";return[t,r,n,s].map(i=>i==null?"":String(i)).join("|")},di=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),Ad=(e="")=>({academicYearId:"",academicYearName:"",groupCode:"",courseCode:"",courseName:"",semester:"",category:e,categoryId:"",subjectName:"",extraSubjectNames:[],subjectSelections:[],feeCategory:"",feeAmount:"",subjectId:""}),$k=(e=[])=>(e||[]).map(t=>((t==null?void 0:t.name)||"").trim()).filter(Boolean),Tp=(e=[])=>Array.isArray(e)?e.map(t=>({id:di(),name:t})).filter(t=>t.name):[],f2=(e=[])=>e.reduce((t,r)=>{if(!r)return t;const n=r.courseCode||r.code||r.course_code||"",s=r.courseName||r.name||r.course_name||n,i=r.groupCode||r.group_code||r.group_name||"",a={courseCode:n,courseName:s,groupCode:i};return s&&(t[s]=a),n&&(t[n]=a),t},{}),p2=(e=[])=>e.reduce((t,r)=>(r!=null&&r.name&&(r==null?void 0:r.id)!==void 0&&(t[r.name]=r.id),t),{}),Vk=(e={})=>Object.entries(e).reduce((t,[r,n])=>(n!=null&&n!==""&&(t[n]=r),t),{}),m2=(e={},t={})=>{const{courseLookup:r={},categoryNameById:n={},yearNameToId:s={}}=t,i=e.semester??e.semester_number??e.semesterNo??e.semesterNumber,a=e.amount??e.feeAmount??e.fee_amount,l=e.subjectCode||e.subject_code||e.subjectName||e.subject_name||"",o=e.subjectName||e.subject_name||l,d=e.subjectNames&&Array.isArray(e.subjectNames)?e.subjectNames:e.subjectName?[e.subjectName]:[],f=e.courseName||e.course_name||e.courseCode||e.course_code||"",m=r[f]||{},g=e.academicYearName||e.academic_year_name||e.academic_year||"",p=e.academicYearId||e.academic_year_id||s[g]||"",b=e.category_id??e.categoryId??"",N=e.category||e.category_name||n[b]||"",j=e.subject_id||e.subjectId||e.id||"";return{id:j||e.id||di(),subjectId:j||"",academicYearId:p,academicYearName:g,groupCode:e.groupCode||e.group_code||m.groupCode||"",courseCode:e.courseCode||e.course_code||m.courseCode||f,courseName:m.courseName||f,semester:i==null||i===""?"":Number(i),categoryId:b,category:N,subjectCode:l,subjectName:o,feeCategory:e.feeCategory||e.fee_category||e.fees_category||"",feeAmount:a==null||a===""?"":Number(a),subjectNames:d}},Us=(e={})=>e?e.batchId?e.batchId:[e.academicYearId||e.academicYearName||"",e.groupCode||"",e.courseCode||"",e.semester===void 0||e.semester===null?"":e.semester,e.categoryId||e.category||""].map(n=>n==null?"":String(n)).join("__")||e.subjectId||e.id||"":"",g2=(e={})=>{if(!e||e.batchId)return e;const t=Us(e);return t?{...e,batchId:t}:e},Hk=[{key:"years",label:"Academic Years",tagline:"Define academic timelines and activation status."},{key:"groups",label:"Groups & Courses",tagline:"Manage programme structures and duration."},{key:"subjects",label:"Subjects",tagline:"Control curriculum details semester by semester."},{key:"students",label:"Students",tagline:"Manage student records and information."}],Wk=new Set(["Academic","Exam","Library","Bus","Lab"]),v2=e=>!e||!e.length?e:e.every(r=>{var n;return Wk.has(r.name)&&(((n=r.fees)==null?void 0:n.length)||0)<=1})?[]:e,Gk=e=>Array.isArray(e)?e.some(r=>Array.isArray(r==null?void 0:r.fees)||Array.isArray(r==null?void 0:r.items))?v2(e.map(r=>({id:(r==null?void 0:r.id)||di(),name:((r==null?void 0:r.name)||"").toString(),fees:((r==null?void 0:r.fees)||(r==null?void 0:r.items)||[]).map(n=>({id:(n==null?void 0:n.id)||di(),name:((n==null?void 0:n.name)||"").toString(),amount:(n==null?void 0:n.amount)===0||n!=null&&n.amount?String(n.amount):""})).filter(n=>n.name.trim())})).filter(r=>r.name.trim()||r.fees.length)):v2(e.map(r=>{const n=((r==null?void 0:r.name)||"").toString();return n.trim()?{id:(r==null?void 0:r.id)||di(),name:n,fees:[{id:di(),name:`${n} Fee`,amount:(r==null?void 0:r.amount)===0||r!=null&&r.amount?String(r.amount):""}]}:null}).filter(Boolean)):[];function Yk(){const{tab:e}=pN(),t=["years","groups","subjects","students"].includes(e)?e:"years",[r,n]=X.useState({name:"",active:!0}),[s,i]=X.useState([]),[a,l]=X.useState(""),o=X.useMemo(()=>p2(s),[s]),d=_e=>{if(!_e)return"";const De=s.find(He=>String(He.id)===String(_e));return(De==null?void 0:De.name)||""},f=async()=>{var _e;if(na({"Academic year name":r.name})){try{if(a){const De=await((_e=xe.updateAcademicYear)==null?void 0:_e.call(xe,a,{name:r.name,active:r.active}));De&&i(He=>He.map(Ae=>Ae.id===a?De:Ae)),l("")}else{const De=await xe.addAcademicYear({name:r.name,active:r.active});De&&i(He=>[...He,De])}}catch(De){console.error("Failed to save academic year",De),nt((De==null?void 0:De.message)||"Failed to save academic year",{type:"danger"})}n({name:"",active:!0})}},m=_e=>{n({name:_e.name,active:_e.active}),l(_e.id)},g=async _e=>{var De;i(He=>He.filter(Ae=>Ae.id!==_e));try{await((De=xe.deleteAcademicYear)==null?void 0:De.call(xe,_e))}catch(He){console.error("Failed to delete academic year",He),nt((He==null?void 0:He.message)||"Failed to delete academic year",{type:"danger"})}a===_e&&(n({name:"",active:!0}),l(""))},p=()=>{n({name:"",active:!0}),l("")},[b,N]=X.useState([]),[j,_]=X.useState({id:"",code:"",name:"",years:0,semesters:0}),[w,S]=X.useState(""),D=async()=>{var He;if(!na({"Group code":j.code,"Group name":j.name}))return;const _e=j.code.toUpperCase(),De={code:_e,name:j.name,years:Number(j.years)||0,semesters:Number(j.semesters)||0};if(w){try{const Ae=await((He=xe.updateGroup)==null?void 0:He.call(xe,w,De));Ae&&N(Ke=>Ke.map(kt=>kt.id===w?Ae:kt))}catch(Ae){console.error("Error updating group:",Ae),nt((Ae==null?void 0:Ae.message)||"Error updating group",{type:"danger"})}S("")}else{if(b.some(Ae=>Ae.code===_e)){nt("Group code already exists.",{type:"danger",title:"Duplicate code"});return}try{const Ae=await xe.addGroup(De);Ae&&N(Ke=>[...Ke,Ae])}catch(Ae){console.error("Error adding group:",Ae),nt((Ae==null?void 0:Ae.message)||"Error adding group",{type:"danger"})}}_({id:"",category:"",code:"",name:"",years:0,semesters:0})},B=_e=>{_(_e),S(_e.id)},ee=async _e=>{var De;N(He=>He.filter(Ae=>Ae.id!==_e));try{await((De=xe.deleteGroup)==null?void 0:De.call(xe,_e))}catch(He){console.error("Error deleting group:",He),nt((He==null?void 0:He.message)||"Error deleting group",{type:"danger"})}},[R,I]=X.useState([]),U=X.useMemo(()=>f2(R),[R]),[q,E]=X.useState({id:"",groupCode:"",courseCode:"",courseName:"",semesters:6}),[O,Q]=X.useState(""),[K,G]=X.useState([]);X.useEffect(()=>{const _e=R.flatMap(De=>{const He=De.courseCode||De.code,Ae=Number(De.semesters||0);return!He||!Ae?[]:Array.from({length:Ae},(Ke,kt)=>({id:`${He}-${kt+1}`,courseCode:He,number:kt+1}))});G(_e)},[R]);const re=async()=>{var Be;const{groupCode:_e,courseCode:De,courseName:He,semesters:Ae}=q;if(!na({"Group code":_e,"Course code":De,"Course name":He,"Number of semesters":Ae}))return;const Ke=De.toUpperCase(),kt={code:Ke,name:He,group_code:_e,semesters:Number(Ae)||0};if(O){try{const rt=await((Be=xe.updateCourse)==null?void 0:Be.call(xe,O,kt));rt&&I(Ct=>Ct.map($t=>$t.id===O?rt:$t))}catch(rt){console.error("Error updating course:",rt),nt((rt==null?void 0:rt.message)||"Error updating course",{type:"danger"})}Q("")}else{if(R.some(rt=>(rt.courseCode||rt.code)===Ke))return;try{const rt=await xe.addCourse(kt);rt&&I(Ct=>[...Ct,rt])}catch(rt){console.error("Error adding course:",rt),nt((rt==null?void 0:rt.message)||"Error adding course",{type:"danger"})}}E({id:"",groupCode:"",courseCode:"",courseName:"",semesters:6})},de=_e=>{E(_e),Q(_e.id)},W=async _e=>{var He;const De=R.find(Ae=>Ae.id===_e);if(I(R.filter(Ae=>Ae.id!==_e)),De){const Ae=De.courseCode||De.code;G(K.filter(Ke=>Ke.courseCode!==Ae))}try{await((He=xe.deleteCourse)==null?void 0:He.call(xe,_e))}catch(Ae){console.error("Error deleting course:",Ae),nt((Ae==null?void 0:Ae.message)||"Error deleting course",{type:"danger"})}},[se,ce]=X.useState([]),[we,C]=X.useState({}),z=X.useMemo(()=>Vk(we),[we]),[L,V]=X.useState(""),[Y,ie]=X.useState(""),[he,me]=X.useState({}),[Pe,ge]=X.useState([]),[Me,Fe]=X.useState(""),[ot,ye]=X.useState(""),[J,ft]=X.useState({}),[Qe,Le]=X.useState([]);X.useEffect(()=>{(async()=>{var _e,De,He,Ae,Ke,kt,Be;try{const[rt,Ct,$t,Cr,Or,lr,Er]=await Promise.all([((_e=xe.listAcademicYears)==null?void 0:_e.call(xe))||[],((De=xe.listGroups)==null?void 0:De.call(xe))||[],((He=xe.listCourses)==null?void 0:He.call(xe))||[],((Ae=xe.getFeeTypes)==null?void 0:Ae.call(xe))||[],((Ke=xe.listSubCategories)==null?void 0:Ke.call(xe))||[],((kt=xe.listSubjects)==null?void 0:kt.call(xe))||[],((Be=xe.listStudents)==null?void 0:Be.call(xe))||[]]);if(rt.length&&i(rt),Ct.length&&N(Ct),$t.length&&I($t),Cr){const qr=Gk(Cr);ge(qr)}const Gn={};if(Or.length){const qr=[],cs={},us={};Or.forEach(Jr=>{qr.push(Jr.name),us[Jr.name]=Jr.id,cs[Jr.name]=Tp(Jr.subjects),Jr.id&&(Gn[Jr.id]=Jr.name)}),ce(qr),me(cs),C(us)}else ce([]),me({}),C({});const Is={courseLookup:f2($t),categoryNameById:Gn,yearNameToId:p2(rt)};lr!=null&&lr.length?je(lr.map(qr=>g2(m2(qr,Is)))):je([]),Er!=null&&Er.length?Le(Er):Le([])}catch(rt){console.error("Failed to load setup data",rt),nt((rt==null?void 0:rt.message)||"Failed to load setup data",{type:"danger"})}})()},[]);const Oe=async()=>{var De,He;const _e=(L||"").trim();if(!_e){nt("Enter a sub-category name.",{type:"warning",title:"Required field"});return}if(Y){const Ae=Y,Ke=we[Ae];if(!Ke){nt("Unable to locate the category to update.",{type:"danger"});return}const kt=$k(he[Ae]||[]);try{const Be=await((De=xe.updateSubCategory)==null?void 0:De.call(xe,Ke,{name:_e,subjects:kt}));ce(rt=>rt.map(Ct=>Ct===Ae?Be.name:Ct)),me(rt=>{const Ct={...rt};return Ct[Be.name]=Tp(Be.subjects||[]),Ae!==Be.name&&delete Ct[Ae],Ct}),C(rt=>{const Ct={...rt};return Ae!==Be.name&&delete Ct[Ae],Ct[Be.name]=Be.id,Ct}),V(""),ie(""),nt("Sub-category updated.",{type:"success"})}catch(Be){console.error("Failed to update sub-category",Be),nt((Be==null?void 0:Be.message)||"Unable to update sub-category.",{type:"danger"})}}else try{const Ae=await((He=xe.addSubCategory)==null?void 0:He.call(xe,_e));Ae&&(ce(Ke=>[...Ke,Ae.name]),me(Ke=>({...Ke,[Ae.name]:Tp(Ae.subjects||[])})),C(Ke=>({...Ke,[Ae.name]:Ae.id})),V(""),nt("Sub-category added.",{type:"success"}))}catch(Ae){console.error("Failed to add sub-category",Ae),nt((Ae==null?void 0:Ae.message)||"Unable to add sub-category.",{type:"danger"})}},$e=async _e=>{var He;if(!_e)return;const De=we[_e];ce(Ae=>Ae.filter(Ke=>Ke!==_e)),me(Ae=>{const Ke={...Ae};return delete Ke[_e],Ke}),C(Ae=>{const Ke={...Ae};return delete Ke[_e],Ke});try{De&&await((He=xe.deleteSubCategory)==null?void 0:He.call(xe,De)),nt("Sub-category deleted.",{type:"info"})}catch(Ae){console.error("Failed to delete sub-category",Ae),nt("Unable to delete sub-category.",{type:"danger"})}},[Ue,tt]=X.useState([]),[pt,yt]=X.useState(0),[Nt,oe]=X.useState([]),Re=X.useMemo(()=>({courseLookup:U,categoryNameById:z,yearNameToId:o}),[U,z,o]),ze=X.useCallback(async()=>{var _e;try{const De=await((_e=xe.listSubjects)==null?void 0:_e.call(xe))||[];je(De.map(He=>g2(m2(He,Re))))}catch(De){console.error("Failed to reload subjects",De)}},[Re]),[st,je]=X.useState([]),[mt,Te]=X.useState([]),[Lt,At]=X.useState(()=>Ad(""));X.useEffect(()=>{At(_e=>se.length?se.includes(_e.category)?_e:{..._e,category:se[0]}:_e.category?{..._e,category:""}:_e)},[se]);const[jt,Kr]=X.useState(""),[It,Vn]=X.useState(""),tr=R.filter(_e=>{const De=_e.groupCode||_e.group_code;return Lt.groupCode?De===Lt.groupCode:!1}),Cn=K.filter(_e=>_e.courseCode===Lt.courseCode),ls=()=>{const{academicYearId:_e,groupCode:De,courseCode:He,semester:Ae,category:Ke,subjectName:kt,extraSubjectNames:Be=[],subjectSelections:rt=[],feeCategory:Ct,feeAmount:$t}=Lt,Cr=Array.isArray(rt)?rt:[],Or=Cr.length>0,lr=[kt,...Array.isArray(Be)?Be:[]].map(zr=>(zr||"").trim()).filter(Boolean);if(!_e||!De||!He||!Ae||!Ke){nt("Fill in academic year, group, course, semester and sub-category before adding a subject.",{type:"warning",title:"Missing details"});return}if(!Or&&lr.length===0){nt("Enter at least one subject name.",{type:"warning",title:"Subject name required"});return}const Er=Or?Cr:lr,Gn=d(_e),Is=we[Ke]||"",qr=R.find(zr=>zr.courseCode===He||zr.code===He),cs=(qr==null?void 0:qr.courseName)||He,us=It||di(),Jr=Er.map((zr,bi)=>({id:jt&&bi===0?jt:di(),subjectId:jt&&bi===0?jt:"",batchId:us,academicYearId:_e,academicYearName:Gn,groupCode:De,courseCode:He,courseName:cs,semester:Number(Ae),category:Ke,categoryId:Is,subjectCode:zr,subjectName:zr,feeCategory:Ct,feeAmount:$t?Number($t):""}));jt?(Te(zr=>[...zr.filter(bi=>bi.id!==jt),...Jr]),Kr("")):Te(zr=>[...zr,...Jr]),nt(`${Er.length} subject${Er.length===1?"":"s"} added to pending list.`,{type:"success"}),At(zr=>({...zr,subjectName:"",extraSubjectNames:[],subjectSelections:[],feeCategory:"",feeAmount:""}))},Qt=_e=>{var Be,rt;const De=Us(_e);Te(Ct=>Ct.filter($t=>Us($t)!==De));const He=he[_e.category]||[],Ae=(Be=_e.subjectNames)!=null&&Be.length?_e.subjectNames:[_e.subjectName].filter(Boolean),Ke=Ae.length>0&&Ae.every(Ct=>He.some($t=>$t.name===Ct)),kt=we[_e.category]||_e.categoryId||_e.category_id||"";At({..._e,categoryId:kt,semester:_e.semester===void 0||_e.semester===null?"":_e.semester.toString(),feeCategory:_e.feeCategory||"",feeAmount:((rt=_e.feeAmount)==null?void 0:rt.toString())||"",subjectName:Ke?"":Ae[0]||"",extraSubjectNames:Ke?[]:Ae.slice(1),subjectSelections:Ke?Ae:[]}),Kr(_e.subjectId||_e.id||""),Vn(De||"")},gt=async()=>{var kt;if(!mt.length)return;const _e=mt.map(Be=>({...Be})),De={};for(const Be of _e){const rt=Us(Be)||di();if(!De[rt]){const $t=Be.academicYearName||d(Be.academicYearId),Cr=U[Be.courseCode]||U[Be.courseName]||{},Or=Be.categoryId||we[Be.category]||null,lr=Cr.courseCode||Be.courseCode||Be.courseName||null;De[rt]={rep:Be,academic_year:$t||null,course_name:lr,semester_number:Be.semester?Number(Be.semester):null,category_id:Or,fees_category:Be.feeCategory||null,amount:Be.feeAmount===""||Be.feeAmount===void 0||Be.feeAmount===null?null:Number(Be.feeAmount),names:[],subject_id:Be.subjectId||Be.id||null}}const Ct=(Be.subjectName||Be.subjectCode||"").toString();Ct&&De[rt].names.push(Ct),!De[rt].subject_id&&(Be.subjectId||Be.id)&&(De[rt].subject_id=Be.subjectId||Be.id)}const He=Object.values(De).map(Be=>{const rt={academic_year:Be.academic_year,course_name:Be.course_name,semester_number:Be.semester_number,category_id:Be.category_id,subject_name:JSON.stringify(Be.names||[]),fees_category:Be.fees_category,amount:Be.amount};return Be.subject_id&&(rt.subject_id=Be.subject_id),rt}),Ae=new Set(st.map(h2)),Ke=new Set(Object.values(De).map(Be=>h2(Be.rep)));for(const Be of Ke)if(Ae.has(Be)){nt("These subjects already exist for the selected combination.",{type:"warning",title:"Duplicate combination"});return}try{await((kt=xe.addSubjects)==null?void 0:kt.call(xe,He)),Te([]),await ze(),nt("Subjects submitted.",{type:"success"}),At(Be=>({...Be,academicYearId:"",academicYearName:"",groupCode:"",courseCode:"",courseName:"",semester:"",category:"",categoryId:"",subjectName:"",extraSubjectNames:[],subjectSelections:[]})),Kr(""),Vn("")}catch(Be){console.error("Failed to save subjects",Be),nt((Be==null?void 0:Be.message)||"Failed to save subjects",{type:"danger"})}},Ft=async _e=>{const De=Us(_e);je(He=>He.filter(Ae=>Us(Ae)!==De)),Qt(_e)},Ks=_e=>{const De=Us(_e);Te(He=>He.filter(Ae=>Us(Ae)!==De)),jt===(_e.subjectId||_e.id)&&(At(Ad(se[0]||"")),Kr("")),It===De&&(At(Ad(se[0]||"")),Vn(""))},Ar=async _e=>{var Ae;const De=Us(_e),He=((Ae=_e.subjectIds)!=null&&Ae.length?_e.subjectIds:[_e.subjectId||_e.id]).filter(Boolean);je(Ke=>Ke.filter(kt=>Us(kt)!==De));try{await Promise.all(He.map(Ke=>{var kt;return(kt=xe.deleteSubject)==null?void 0:kt.call(xe,Ke)})),nt("Subject entries deleted.",{type:"info"})}catch(Ke){console.error("Failed to delete subject",Ke),nt("Unable to delete subject.",{type:"danger"})}},Hn=()=>{Kr(""),Vn(""),At(Ad(se[0]||""))},Wn=[{key:"years",label:"Academic Years",value:s.length||0,meta:"records",route:"/admin/setup/years"},{key:"groups",label:"Groups",value:b.length||0,meta:"active",route:"/admin/setup/groups"},{key:"courses",label:"Courses",value:R.length||0,meta:"active",route:"/admin/setup/groups"},{key:"students",label:"Students",value:Qe.length||0,meta:"records",route:"/admin/students"}];return c.jsx(Ts,{children:c.jsxs("div",{className:"desktop-container",children:[c.jsx("h2",{className:"fw-bold mb-3",children:"Admin Setup"}),c.jsx("section",{className:"setup-hero mb-4",children:c.jsxs("div",{className:"setup-hero-grid",children:[c.jsxs("div",{className:"setup-hero-copywrap",children:[c.jsx("div",{className:"setup-hero-crest",children:c.jsx("img",{src:wl,alt:"Vijayam crest"})}),c.jsx("h3",{className:"setup-hero-title mb-2",children:"Vijayam Arts & Science College"}),c.jsx("p",{className:"setup-hero-copy mb-3",children:"Manage programme structures and duration."}),c.jsx("div",{className:"setup-hero-chips d-flex flex-wrap gap-2",children:c.jsx("span",{className:"setup-hero-chip",children:"SMART EXAMINATION PLATFORM"})}),c.jsx("p",{className:"setup-hero-eyebrow text-uppercase mt-3",children:"Administration  Setup Console"})]}),c.jsx("div",{className:"setup-stat-grid",children:Wn.map(_e=>c.jsxs(Wi,{to:_e.route,className:"setup-stat-card",children:[c.jsx("div",{className:"setup-stat-label",children:_e.label}),c.jsx("div",{className:"setup-stat-value",children:_e.value}),c.jsx("div",{className:"setup-stat-meta",children:_e.meta})]},_e.key))})]})}),c.jsx("nav",{className:"setup-tab-nav d-flex flex-wrap gap-2 mb-4",children:Hk.map(_e=>c.jsxs(Wi,{to:`/admin/setup/${_e.key}`,className:`setup-tab-pill ${t===_e.key?"active":""}`,children:[c.jsx("div",{className:"setup-pill-label",children:_e.label}),c.jsx("div",{className:"setup-pill-meta",children:_e.tagline})]},_e.key))}),t==="years"&&c.jsx(Uk,{yearForm:r,setYearForm:n,academicYears:s,editingYearId:a,addYear:f,editYear:m,deleteYear:g,onCancelEdit:p}),t==="groups"&&c.jsx(qk,{groupForm:j,setGroupForm:_,editingGroupId:w,setEditingGroupId:S,groups:b,saveGroup:D,editGroup:B,deleteGroup:ee,courseForm:q,setCourseForm:E,editingCourseId:O,setEditingCourseId:Q,courses:R,saveCourse:re,editCourse:de,deleteCourse:W}),t==="subjects"&&c.jsx(zk,{subjectForm:Lt,setSubjectForm:At,academicYears:s,groups:b,coursesForGroup:tr,semForCourse:Cn,feeCategories:Pe,categories:se,catItems:he,categoryName:L,setCategoryName:V,editingCategory:Y,setEditingCategory:ie,saveCategory:Oe,deleteCategory:$e,pendingSubjects:mt,subjects:st,editingSubjectId:jt,saveSubject:ls,submitPendingSubjects:gt,editPendingSubject:Qt,deletePendingSubject:Ks,editSubject:Ft,deleteSubject:Ar,onCancelSubjectEdit:Hn})]})})}function Kk(){const[e,t]=X.useState([]),[r,n]=X.useState([]),[s,i]=X.useState([]),[a,l]=X.useState([]),[o,d]=X.useState({}),[f,m]=X.useState([]),[g,p]=X.useState(null),[b,N]=X.useState([]),[j,_]=X.useState(""),[w,S]=X.useState(null),[D,B]=X.useState([]),[ee,R]=X.useState(null),[I,U]=X.useState({year:"",group:"",courseCode:"",semester:""}),[q,E]=X.useState([]),[O,Q]=X.useState(""),[K,G]=X.useState(!1),re=X.useRef(null),[de,W]=X.useState(null),[se,ce]=X.useState([]),[we,C]=X.useState(""),[z,L]=X.useState(""),[V,Y]=X.useState(""),[ie,he]=X.useState(null);X.useEffect(()=>{(async()=>{const[Re,ze,st]=await Promise.all([xe.listAcademicYears(),xe.listGroups(),xe.listCourses()]);t((Re||[]).filter(je=>(je==null?void 0:je.active)!==!1)),n(ze||[]),i(st||[])})()},[]),X.useEffect(()=>{me()},[]),X.useEffect(()=>{const oe=Re=>{re.current&&!re.current.contains(Re.target)&&G(!1)};return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[]);const me=async()=>{try{const{data:oe,error:Re}=await Ye.from("fee_categories").select("*").order("name",{ascending:!0});if(Re)throw Re;N(oe||[])}catch(oe){console.error("Error loading fee categories:",oe),nt("Failed to load fee categories.",{type:"danger"})}},Pe=async()=>{if(!j.trim()){nt("Please enter a category name",{type:"warning"});return}try{if(w){const{error:oe}=await Ye.from("fee_categories").update({name:j}).eq("id",w);if(oe)throw oe;nt("Category updated successfully",{type:"success"})}else{const{error:oe}=await Ye.from("fee_categories").insert([{name:j}]);if(oe)throw oe;nt("Category added successfully",{type:"success"})}await me(),_(""),S(null)}catch(oe){console.error("Error saving fee category:",oe),nt("Failed to save category",{type:"danger"})}},ge=oe=>{_(oe.name),S(oe.id)},Me=async oe=>{var Re;nt("Deleting category...",{type:"info",title:"Deleting"});try{const{data:ze,error:st}=await Ye.from("fee_structure").select("id").ilike("fee_cat",`%${(Re=b.find(mt=>mt.id===oe))==null?void 0:Re.name}%`).limit(1);if(st)throw st;if(ze&&ze.length>0){nt("Cannot delete: This category is in use",{type:"danger"});return}const{error:je}=await Ye.from("fee_categories").delete().eq("id",oe);if(je)throw je;nt("Category deleted successfully",{type:"success"}),await me()}catch(ze){console.error("Error deleting fee category:",ze),nt("Failed to delete category",{type:"danger"})}};X.useEffect(()=>{I.courseCode&&I.semester&&Fe()},[I.courseCode,I.semester]);const Fe=async()=>{const oe=await xe.listSubjects({courseCode:I.courseCode,semester:Number(I.semester)});l(oe||[])},ot=oe=>{E(Re=>Re.includes(oe)?Re.filter(ze=>ze!==oe):[...Re,oe])},ye=async()=>{try{const{data:oe,error:Re}=await Ye.from("fee_structure").select("*").order("created_at",{ascending:!1});if(Re)throw Re;const ze=new Map;oe.forEach(je=>{const mt=`${je.academic_year}_${je.group}_${je.course}_${je.semester}`;ze.has(mt)||ze.set(mt,{id:je.id,feeCategories:[],amount:je.amount,academic_year:String(je.academic_year),group:je.group,course_code:je.course,semester:String(je.semester||""),created_at:je.created_at}),je.fee_cat&&ze.get(mt).feeCategories.push({id:je.id,name:je.fee_cat,amount:je.amount})});const st=Array.from(ze.values());B(st)}catch(oe){console.error("Error fetching category fees:",oe),nt("Error loading category fees. Please try again.",{type:"danger",title:"Category fees"})}},J=async()=>{if(q.length===0){nt("Select at least one fee category",{type:"warning"});return}if(!O){nt("Enter amount",{type:"warning"});return}if(!I.year||!I.group||!I.courseCode||!I.semester){nt("Select Academic Year, Group, Course & Semester",{type:"warning"});return}try{const Re=b.filter(je=>q.includes(je.id)).map(je=>je.name).join(", "),ze=Number(O);await Ye.from("fee_structure").delete().eq("academic_year",I.year).eq("group",I.group).eq("course",I.courseCode).eq("semester",I.semester);const{error:st}=await Ye.from("fee_structure").insert([{academic_year:I.year,group:I.group,course:I.courseCode,semester:I.semester,fee_cat:Re,amount:ze,created_at:new Date().toISOString()}]);if(st)throw st;await ye(),E([]),Q(""),nt("Fee saved successfully",{type:"success"})}catch(oe){console.error("Error:",oe),nt("Failed to save fees",{type:"danger",title:"Category fees"})}},ft=async oe=>{nt("Deleting category fee...",{type:"info",title:"Deleting"});try{const{error:Re}=await Ye.from("fee_structure").delete().eq("id",oe);if(Re)throw Re;await ye()}catch(Re){console.error("Error deleting category fee:",Re),nt("Error deleting category fee. Please try again.",{type:"danger",title:"Category fees"})}},Qe=oe=>de?oe.filter(Re=>!(de.year&&Re.academic_year!==de.year||de.group&&Re.group!==de.group||de.courseCode&&Re.course_code!==de.courseCode||de.semester&&Re.semester!==de.semester)):oe;Qe(f);const Le=Qe(D),Oe=b.filter(oe=>q.includes(oe.id)).map(oe=>oe.name),$e=Oe.length?Oe.length>2?`${Oe.length} categories selected`:Oe.join(", "):"Select fee categories",Ue=async()=>{try{const{data:oe,error:Re}=await Ye.from("Supplementary").select("*").order("created_at",{ascending:!1});if(Re)throw Re;ce(oe||[])}catch(oe){console.error("Error fetching supplementary fees:",oe),nt("Error loading supplementary fees. Please try again.",{type:"danger",title:"Supplementary fees"})}},tt=async oe=>{if(oe.preventDefault(),!na({"Paper 1 Fee":we,"Paper 2 Fee":z,"3+ Papers Fee":V},{title:"Enter fee amounts"}))return;const Re=parseFloat(we),ze=parseFloat(z),st=parseFloat(V);if(isNaN(Re)||isNaN(ze)||isNaN(st)){nt("Please enter valid numbers for all fields.",{type:"warning",title:"Supplementary fees"});return}const je={"Paper-1":Re,"Paper-2":ze,"Paper-3":st,created_at:new Date().toISOString()};console.log("Submitting fee data:",{editingFeeId:ie,feeData:je,table:"Supplementary",supabaseConnected:!!Ye});try{if(ie){console.log("Updating existing fee with ID:",ie);const{data:mt,error:Te}=await Ye.from("Supplementary").update(je).eq("id",ie).select();if(Te)throw console.error("Update error details:",Te),Te;console.log("Update successful, updated data:",mt),ce(se.map(Lt=>Lt.id===ie?{...Lt,...je}:Lt)),he(null)}else{console.log("Creating new fee");const{data:mt,error:Te}=await Ye.from("Supplementary").insert([je]).select();if(Te)throw console.error("Insert error details:",Te),Te;console.log("Insert successful, new data:",mt),mt&&mt.length>0?ce([mt[0],...se]):(console.log("No data returned from insert, refetching..."),await Ue())}C(""),L(""),Y("")}catch(mt){console.error("Error in handleSupplementarySubmit:",{message:mt.message,code:mt.code,details:mt.details,hint:mt.hint,error:mt});let Te="Error saving supplementary fee";mt.code==="42P01"?Te="The Supplementary table does not exist in the database. Please create it first.":mt.code==="42501"?Te="Permission denied. Please check your database permissions.":mt.message&&(Te+=`: ${mt.message}`),nt(Te,{type:"danger",title:"Supplementary fees"})}},pt=oe=>{C(oe["Paper-1"].toString()),L(oe["Paper-2"].toString()),Y(oe["Paper-3"].toString()),he(oe.id)},yt=async oe=>{try{const{error:Re}=await Ye.from("Supplementary").delete().eq("id",oe);if(Re)throw Re;ce(se.filter(ze=>ze.id!==oe)),nt("Supplementary fee deleted.",{type:"success",title:"Supplementary fees"})}catch(Re){console.error("Error deleting supplementary fee:",Re),nt("Error deleting supplementary fee. Please try again.",{type:"danger",title:"Supplementary fees"})}},Nt=async oe=>{try{const{data:Re,error:ze}=await Ye.from(oe).select("*").limit(1);return!(ze&&ze.code==="42P01")}catch(Re){return console.error("Error checking table existence:",Re),!1}};return X.useEffect(()=>{(async()=>{const Re=await Nt("Supplementary");console.log("Supplementary table exists:",Re),Re?await Ue():nt("The Supplementary table does not exist in your Supabase database. Please create it with columns id, Paper-1, Paper-2, Paper-3, created_at.",{type:"warning",title:"Supplementary fees"});const ze=await Nt("fee_structure");console.log("Fee structure table exists:",ze),ze?await ye():console.log("Fee structure table does not exist. It will be created when you add your first fee.")})()},[]),c.jsxs(Ts,{children:[c.jsx("h2",{className:"fw-bold mb-4",children:"Fees Management"}),c.jsxs("div",{className:"tab-pane fade show active",id:"fee-structure",role:"tabpanel",children:[c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header",children:c.jsx("h5",{className:"mb-0",children:"Fee Categories"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"row g-2 align-items-end mb-3",children:[c.jsxs("div",{className:"col-md-5 col-lg-4",children:[c.jsx("label",{className:"form-label text-muted fw-600",children:w?"Edit fee category":"Add a fee category"}),c.jsx("input",{className:"form-control",placeholder:"e.g., Tuition",value:j,onChange:oe=>_(oe.target.value),onKeyDown:oe=>{oe.key==="Enter"&&(oe.preventDefault(),Pe())}})]}),c.jsx("div",{className:"col-md-3 col-lg-2",children:c.jsx("button",{type:"button",className:"btn btn-primary w-100 mt-md-4",onClick:Pe,children:w?"Update Category":"Add Category"})}),w&&c.jsx("div",{className:"col-md-3 col-lg-2",children:c.jsx("button",{type:"button",className:"btn btn-outline-secondary w-100 mt-md-4",onClick:()=>{_(""),S(null)},children:"Cancel"})})]}),c.jsxs("div",{className:"row g-3",children:[b.map(oe=>c.jsx("div",{className:"col-md-6 col-lg-4",children:c.jsx("div",{className:"card h-100",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[c.jsx("div",{children:c.jsx("h6",{className:"mb-0",children:oe.name})}),c.jsxs("div",{className:"btn-group",children:[c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>ge(oe),children:"Edit"}),c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>Me(oe.id),children:"Delete"})]})]})})})},oe.id)),b.length===0&&c.jsx("div",{className:"col-12",children:c.jsx("div",{className:"alert alert-info mb-0",children:"No fee categories found. Add one to get started."})})]})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header",children:c.jsx("h5",{className:"mb-0",children:"Fee Structure"})}),c.jsx("div",{className:"card-body"})]})]}),c.jsx("div",{className:"card card-soft p-3 mb-4",children:c.jsxs("div",{className:"row g-3",children:[c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label fw-bold",children:"Academic Year"}),c.jsxs("select",{className:"form-select",value:I.year,onChange:oe=>U({...I,year:oe.target.value}),children:[c.jsx("option",{value:"",children:"Academic Year"}),e.map(oe=>{const Re=oe.name||oe.academic_year;return c.jsx("option",{value:Re,children:Re},oe.id)})]})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label fw-bold",children:"Group"}),c.jsxs("select",{className:"form-select",value:I.group,onChange:oe=>U({...I,group:oe.target.value,courseCode:""}),children:[c.jsx("option",{value:"",children:"Group"}),r.map(oe=>c.jsx("option",{value:oe.code,children:oe.name},oe.id))]})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label fw-bold",children:"Course"}),c.jsxs("select",{className:"form-select",value:I.courseCode,onChange:oe=>U({...I,courseCode:oe.target.value,semester:""}),children:[c.jsx("option",{value:"",children:"Course"}),s.filter(oe=>!I.group||oe.group_code===I.group).map(oe=>c.jsx("option",{value:oe.code,children:oe.name},oe.id))]})]}),c.jsxs("div",{className:"col-md-2",children:[c.jsx("label",{className:"form-label fw-bold",children:"Semester"}),c.jsxs("select",{className:"form-select",value:I.semester,onChange:oe=>U({...I,semester:oe.target.value}),children:[c.jsx("option",{value:"",children:"Semester"}),[1,2,3,4,5,6].map(oe=>c.jsxs("option",{value:oe,children:["Sem ",oe]},oe))]})]}),c.jsxs("div",{className:"col-md-3 position-relative",ref:re,children:[c.jsx("label",{className:"form-label fw-bold",children:"Fee Categories"}),c.jsxs("button",{type:"button",className:"btn btn-outline-secondary w-100 text-start d-flex justify-content-between align-items-center",onClick:oe=>{oe.stopPropagation(),G(Re=>!Re)},"aria-haspopup":"true","aria-expanded":K,children:[c.jsx("span",{className:"me-2",children:$e}),c.jsx("span",{className:"text-muted",children:""})]}),K&&c.jsx("div",{className:"bg-white border rounded mt-2 shadow-sm",style:{position:"absolute",zIndex:50,width:"100%",maxHeight:"300px",overflowY:"auto"},onClick:oe=>oe.stopPropagation(),children:c.jsxs("div",{className:"p-3 d-flex flex-column gap-2",children:[b.map(oe=>c.jsxs("div",{className:"form-check",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:`cat-dropdown-${oe.id}`,checked:q.includes(oe.id),onChange:()=>ot(oe.id)}),c.jsx("label",{className:"form-check-label",htmlFor:`cat-dropdown-${oe.id}`,children:oe.name})]},oe.id)),b.length===0&&c.jsx("div",{className:"text-muted",children:"No categories available"})]})})]}),c.jsxs("div",{className:"col-md-3 d-flex flex-column",children:[c.jsxs("div",{className:"input-group mb-2",children:[c.jsx("span",{className:"input-group-text",children:""}),c.jsx("input",{type:"number",className:"form-control",placeholder:"Amount",value:O,onChange:oe=>Q(oe.target.value)})]}),c.jsx("div",{className:"mt-auto",children:c.jsx("button",{className:"btn btn-primary w-100",onClick:J,children:"Submit"})})]})]})}),Le.length>0&&c.jsxs("div",{className:"card card-soft p-4 mb-4",children:[c.jsx("h4",{className:"fw-bold mb-3",children:"Fee Category Records"}),Le.map((oe,Re)=>{var st,je,mt;oe.academic_year,oe.group,oe.course_code,oe.semester;const ze=oe.feeCategories||[];return c.jsx("div",{className:"mb-4",children:c.jsxs("table",{className:"table table-bordered align-middle",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"YEAR"}),c.jsx("th",{children:"GROUP"}),c.jsx("th",{children:"COURSE"}),c.jsx("th",{children:"SEMESTER"}),c.jsx("th",{children:"FEE CATEGORIES"}),c.jsx("th",{children:"FEE AMOUNT"}),c.jsx("th",{children:"ACTIONS"})]})}),c.jsx("tbody",{children:ee===oe.id?c.jsx("tr",{children:c.jsx("td",{colSpan:"7",className:"p-0",children:c.jsxs("div",{className:"p-3 bg-light",children:[c.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[c.jsx("h6",{className:"mb-0",children:"Edit Fee Categories"}),c.jsxs("div",{className:"d-flex gap-2",children:[c.jsx("button",{className:"btn btn-sm btn-success",onClick:()=>{const Te=D.map(Lt=>Lt.academic_year===oe.academic_year&&Lt.group===oe.group&&Lt.course_code===oe.course_code&&Lt.semester===oe.semester?{...Lt,academic_year:I.year,group:I.group,course_code:I.courseCode,semester:I.semester}:Lt);B(Te),R(null)},children:"Save"}),c.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>R(null),children:"Cancel"})]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label fw-bold",children:"Common Amount ()"}),c.jsx("input",{type:"number",className:"form-control",value:(oe==null?void 0:oe.amount)||"",onChange:Te=>{const Lt=Te.target.value;B(At=>At.map(jt=>jt.academic_year===oe.academic_year&&jt.group===oe.group&&jt.course_code===oe.course_code&&jt.semester===oe.semester?{...jt,amount:Lt}:jt))}})]}),c.jsxs("div",{className:"row g-3 mb-3",children:[c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Academic Year"}),c.jsxs("select",{className:"form-select form-select-sm",value:I.year,onChange:Te=>U({...I,year:Te.target.value}),children:[c.jsx("option",{value:"",children:"Select Year"}),e.map(Te=>{const Lt=Te.name||Te.academic_year;return c.jsx("option",{value:Lt,children:Lt},Te.id)})]})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Group"}),c.jsxs("select",{className:"form-select form-select-sm",value:I.group,onChange:Te=>U({...I,group:Te.target.value,courseCode:""}),children:[c.jsx("option",{value:"",children:"Select Group"}),r.map(Te=>c.jsx("option",{value:Te.code,children:Te.code},Te.id))]})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Course"}),c.jsxs("select",{className:"form-select form-select-sm",value:I.courseCode,onChange:Te=>U({...I,courseCode:Te.target.value,semester:""}),children:[c.jsx("option",{value:"",children:"Select Course"}),s.filter(Te=>!I.group||Te.group_code===I.group).map(Te=>c.jsxs("option",{value:Te.code,children:[Te.code," - ",Te.name]},Te.id))]})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"Semester"}),c.jsxs("select",{className:"form-select form-select-sm",value:I.semester,onChange:Te=>U({...I,semester:Te.target.value}),children:[c.jsx("option",{value:"",children:"Select Semester"}),[1,2,3,4,5,6].map(Te=>c.jsxs("option",{value:Te,children:["Sem ",Te]},Te))]})]})]}),(st=oe.feeCategories)==null?void 0:st.map(Te=>c.jsxs("div",{className:"d-flex align-items-center gap-3 mb-2",children:[c.jsx("span",{className:"w-25",children:Te.name}),c.jsxs("div",{className:"w-25",children:["",parseInt(Te.amount).toLocaleString("en-IN")]}),c.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>ft(Te.id),children:"Remove"})]},Te.id))]})})}):c.jsxs("tr",{children:[c.jsx("td",{children:oe.academic_year}),c.jsx("td",{children:((je=r.find(Te=>Te.code===oe.group))==null?void 0:je.name)||oe.group}),c.jsx("td",{children:((mt=s.find(Te=>Te.code===oe.course_code))==null?void 0:mt.name)||oe.course_code}),c.jsx("td",{children:oe.semester}),c.jsx("td",{children:ze.map(Te=>Te.name).join(", ")}),c.jsxs("td",{children:["",parseInt(oe.amount).toLocaleString("en-IN")]}),c.jsx("td",{children:c.jsxs("div",{className:"d-flex gap-2",children:[c.jsx("button",{className:"btn btn-sm btn-warning",onClick:()=>R(oe.id),children:"Edit"}),c.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>{var Te;nt("Deleting all fee categories for this semester.",{type:"warning",title:"Delete categories"}),(Te=oe.feeCategories)==null||Te.forEach(Lt=>ft(Lt.id))},children:"Delete"})]})})]})})]})},Re)})]}),c.jsxs("div",{className:"card card-soft p-3 mb-4",children:[c.jsx("h4",{className:"fw-bold mb-3",children:"Supplementary Fees"}),c.jsx("form",{onSubmit:tt,className:"mb-4",children:c.jsxs("div",{className:"row g-3",children:[c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"1 Paper Fee ()"}),c.jsx("input",{type:"number",value:we,onChange:oe=>C(oe.target.value),className:"form-control",required:!0})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"2 Papers Fee ()"}),c.jsx("input",{type:"number",value:z,onChange:oe=>L(oe.target.value),className:"form-control",required:!0})]}),c.jsxs("div",{className:"col-md-3",children:[c.jsx("label",{className:"form-label",children:"3 and above Papers Fee ()"}),c.jsx("input",{type:"number",value:V,onChange:oe=>Y(oe.target.value),className:"form-control",required:!0})]}),c.jsx("div",{className:"col-md-3 d-flex align-items-end",children:c.jsx("div",{className:"d-flex gap-2",children:c.jsx("button",{type:"submit",className:"btn btn-primary flex-grow-1",children:ie?"Update Fee":"Add Supplementary Fee"})})})]})}),se.length>0&&c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table table-bordered align-middle",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"1 PAPER ()"}),c.jsx("th",{children:"2 PAPERS ()"}),c.jsx("th",{children:"3+ PAPERS ()"}),c.jsx("th",{children:"ACTIONS"})]})}),c.jsx("tbody",{children:se.map(oe=>c.jsxs("tr",{children:[c.jsxs("td",{children:["",oe["Paper-1"]]}),c.jsxs("td",{children:["",oe["Paper-2"]]}),c.jsxs("td",{children:["",oe["Paper-3"]]}),c.jsx("td",{children:c.jsxs("div",{className:"d-flex gap-2",children:[c.jsx("button",{type:"button",onClick:()=>pt(oe),className:"btn btn-sm btn-primary",children:"Edit"}),c.jsx("button",{onClick:()=>yt(oe.id),className:"btn btn-sm btn-danger",children:"Delete"})]})})]},oe.id))})]})})]})]})}function On({isAuthed:e,children:t}){return e?t:c.jsx(Am,{to:"/admin/login",replace:!0})}const Jk=()=>{const e=Yc(r=>r.pendingRequests>0),t=["preloader-overlay"];return e&&t.push("preloader-overlay--visible"),c.jsx("div",{className:t.join(" "),"aria-hidden":!e,children:c.jsxs("div",{className:"preloader",role:"status","aria-live":"polite","aria-label":"Loading Vijayam Science and Arts College data",children:[c.jsxs("div",{className:"preloader__badge",children:[c.jsx("div",{className:"preloader__crest",children:c.jsx("img",{src:wl,alt:"Vijayam Science and Arts College logo"})}),c.jsxs("div",{children:[c.jsx("div",{className:"preloader__college",children:"Vijayam Science and Arts College"}),c.jsx("div",{className:"preloader__tagline",children:"Preparing your academic space"})]})]}),c.jsxs("div",{className:"preloader__spinner",children:[c.jsx("div",{className:"preloader__ring preloader__ring--outer"}),c.jsx("div",{className:"preloader__ring preloader__ring--middle"}),c.jsx("div",{className:"preloader__ring preloader__ring--inner"}),c.jsx("div",{className:"preloader__pulse"}),c.jsxs("div",{className:"preloader__icons",children:[c.jsx("span",{className:"preloader__icon",children:""}),c.jsx("span",{className:"preloader__icon",children:""}),c.jsx("span",{className:"preloader__icon",children:""}),c.jsx("span",{className:"preloader__icon",children:""})]}),c.jsx("div",{className:"preloader__dot preloader__dot--one"}),c.jsx("div",{className:"preloader__dot preloader__dot--two"}),c.jsx("div",{className:"preloader__dot preloader__dot--three"})]}),c.jsx("div",{className:"preloader__status",children:"Syncing academic data"}),c.jsxs("div",{className:"preloader__meter",children:[c.jsx("span",{className:"preloader__segment"}),c.jsx("span",{className:"preloader__segment"}),c.jsx("span",{className:"preloader__segment"}),c.jsx("span",{className:"preloader__segment"})]})]})})},Qk=X.memo(Jk),y2={success:"toast-card--success",danger:"toast-card--danger",error:"toast-card--danger",warning:"toast-card--warning",info:"toast-card--info"},Xk=({toast:e,onDismiss:t})=>{X.useEffect(()=>{if(!e.duration||e.duration<=0)return;const n=setTimeout(()=>t(e.id),e.duration);return()=>clearTimeout(n)},[e.id,e.duration,t]);const r=y2[e.type]||y2.info;return c.jsxs("div",{className:`toast-card ${r}`,role:"status","aria-live":"assertive",children:[c.jsxs("div",{className:"toast-card__body",children:[e.title?c.jsx("div",{className:"toast-card__title",children:e.title}):null,c.jsx("div",{className:"toast-card__message",children:e.message})]}),c.jsx("button",{type:"button",className:"toast-card__close","aria-label":"Dismiss notification",onClick:()=>t(e.id),children:""})]})},Zk=()=>{const e=Yc(r=>r.toasts),t=Yc(r=>r.dismissToast);return e.length?c.jsx("div",{className:"toast-stack","aria-live":"polite","aria-atomic":"false",children:e.map(r=>c.jsx(Xk,{toast:r,onDismiss:t},r.id))}):null},eA=X.memo(Zk);function tA(){var n;const e=Ya(),t=vl(),r=(n=e.state)==null?void 0:n.studentId;return c.jsxs(Ts,{children:[c.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"fw-bold mb-0",children:"Student Payment Overview"}),r&&c.jsxs("p",{className:"text-muted mb-0",children:["Quick view for ",r]})]}),c.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>t(-1),children:"Back to payments"})]}),c.jsx("div",{className:"card card-soft p-4",children:c.jsx("p",{className:"mb-0",children:"Build the student payment overview here. Use the passed student ID to fetch payment history, outstanding amounts, or generate reports."})})]})}function rA(){const{user:e,signOut:t}=t0(),r=!!e;return c.jsxs(c.Fragment,{children:[c.jsxs(PN,{children:[c.jsx(Sr,{path:"/",element:c.jsx(Zj,{})}),c.jsx(Sr,{path:"/apply",element:c.jsx(Kj,{})}),c.jsx(Sr,{path:"/application",element:c.jsx(tk,{})}),c.jsx(Sr,{path:"/public/results",element:c.jsx(e6,{})}),c.jsx(Sr,{path:"/public/timetable",element:c.jsx(t6,{})}),c.jsx(Sr,{path:"/admin/login",element:c.jsx(sk,{})}),c.jsx(Sr,{path:"/admin",element:c.jsx(On,{isAuthed:r,children:c.jsx(Am,{to:"/admin/setup/years",replace:!0})})}),c.jsx(Sr,{path:"/admin/batches",element:c.jsx(On,{isAuthed:r,children:c.jsx(ik,{})})}),c.jsx(Sr,{path:"/admin/courses",element:c.jsx(On,{isAuthed:r,children:c.jsx(ak,{})})}),c.jsx(Sr,{path:"/admin/students",element:c.jsx(On,{isAuthed:r,children:c.jsx(_k,{})})}),c.jsx(Sr,{path:"/admin/exams",element:c.jsx(On,{isAuthed:r,children:c.jsx(wk,{})})}),c.jsx(Sr,{path:"/admin/payments",element:c.jsx(On,{isAuthed:r,children:c.jsx(xk,{})})}),c.jsx(Sr,{path:"/admin/hall-tickets",element:c.jsx(On,{isAuthed:r,children:c.jsx(Mk,{})})}),c.jsx(Sr,{path:"/admin/results",element:c.jsx(On,{isAuthed:r,children:c.jsx(Bk,{})})}),c.jsx(Sr,{path:"/admin/departments",element:c.jsx(On,{isAuthed:r,children:c.jsx(Kk,{})})}),c.jsx(Sr,{path:"/admin/studentpayoverview",element:c.jsx(On,{isAuthed:r,children:c.jsx(tA,{})})}),c.jsx(Sr,{path:"/admin/setup",element:c.jsx(On,{isAuthed:r,children:c.jsx(Am,{to:"/admin/setup/years",replace:!0})})}),c.jsx(Sr,{path:"/admin/setup/:tab",element:c.jsx(On,{isAuthed:r,children:c.jsx(Yk,{})})}),c.jsx(Sr,{path:"/admin/applications",element:c.jsx(On,{isAuthed:r,children:c.jsx(nk,{})})})]}),c.jsx(Qk,{}),c.jsx(eA,{})]})}document.body.classList.remove("theme-red");document.body.classList.add("theme-blue");Ip.createRoot(document.getElementById("root")).render(c.jsx(DN,{children:c.jsx(rA,{})}));export{Ut as _,nA as c,_2 as g};
